!function webpackUniversalModuleDefinition(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.wysiwyg=factory():root.wysiwyg=factory()}("undefined"!=typeof self?self:this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=17)}([function(module,exports,__webpack_require__){"use strict";var _hasOwnProperty=Object.prototype.hasOwnProperty;function has(object,key){return _hasOwnProperty.call(object,key)}function isValidEntityCode(c){return!(55296<=c&&c<=57343)&&(!(64976<=c&&c<=65007)&&(65535!=(65535&c)&&65534!=(65535&c)&&(!(0<=c&&c<=8)&&(11!==c&&(!(14<=c&&c<=31)&&(!(127<=c&&c<=159)&&!(1114111<c)))))))}function fromCodePoint(c){if(65535<c){var surrogate1=55296+((c-=65536)>>10),surrogate2=56320+(1023&c);return String.fromCharCode(surrogate1,surrogate2)}return String.fromCharCode(c)}var UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,entities=__webpack_require__(7);var HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(ch){return HTML_REPLACEMENTS[ch]}var REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;var UNICODE_PUNCT_RE=__webpack_require__(1);exports.lib={},exports.lib.mdurl=__webpack_require__(8),exports.lib.ucmicro=__webpack_require__(27),exports.assign=function assign(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){if(source){if("object"!=typeof source)throw new TypeError(source+"must be object");Object.keys(source).forEach(function(key){obj[key]=source[key]})}}),obj},exports.isString=function isString(obj){return"[object String]"===function _class(obj){return Object.prototype.toString.call(obj)}(obj)},exports.has=has,exports.unescapeMd=function unescapeMd(str){return str.indexOf("\\")<0?str:str.replace(UNESCAPE_MD_RE,"$1")},exports.unescapeAll=function unescapeAll(str){return str.indexOf("\\")<0&&str.indexOf("&")<0?str:str.replace(UNESCAPE_ALL_RE,function(match,escaped,entity){return escaped||function replaceEntityPattern(match,name){var code=0;return has(entities,name)?entities[name]:35===name.charCodeAt(0)&&DIGITAL_ENTITY_TEST_RE.test(name)&&isValidEntityCode(code="x"===name[1].toLowerCase()?parseInt(name.slice(2),16):parseInt(name.slice(1),10))?fromCodePoint(code):match}(match,entity)})},exports.isValidEntityCode=isValidEntityCode,exports.fromCodePoint=fromCodePoint,exports.escapeHtml=function escapeHtml(str){return HTML_ESCAPE_TEST_RE.test(str)?str.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):str},exports.arrayReplaceAt=function arrayReplaceAt(src,pos,newElements){return[].concat(src.slice(0,pos),newElements,src.slice(pos+1))},exports.isSpace=function isSpace(code){switch(code){case 9:case 32:return!0}return!1},exports.isWhiteSpace=function isWhiteSpace(code){if(8192<=code&&code<=8202)return!0;switch(code){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},exports.isMdAsciiPunct=function isMdAsciiPunct(ch){switch(ch){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},exports.isPunctChar=function isPunctChar(ch){return UNICODE_PUNCT_RE.test(ch)},exports.escapeRE=function escapeRE(str){return str.replace(REGEXP_ESCAPE_RE,"\\$&")},exports.normalizeReference=function normalizeReference(str){return str.trim().replace(/\s+/g," ").toUpperCase()}},function(module,exports){module.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(module,exports,__webpack_require__){"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(name){for(var i=0;i<this.__rules__.length;i++)if(this.__rules__[i].name===name)return i;return-1},Ruler.prototype.__compile__=function(){var self=this,chains=[""];self.__rules__.forEach(function(rule){rule.enabled&&rule.alt.forEach(function(altName){chains.indexOf(altName)<0&&chains.push(altName)})}),self.__cache__={},chains.forEach(function(chain){self.__cache__[chain]=[],self.__rules__.forEach(function(rule){rule.enabled&&(chain&&rule.alt.indexOf(chain)<0||self.__cache__[chain].push(rule.fn))})})},Ruler.prototype.at=function(name,fn,options){var index=this.__find__(name),opt=options||{};if(-1===index)throw new Error("Parser rule not found: "+name);this.__rules__[index].fn=fn,this.__rules__[index].alt=opt.alt||[],this.__cache__=null},Ruler.prototype.before=function(beforeName,ruleName,fn,options){var index=this.__find__(beforeName),opt=options||{};if(-1===index)throw new Error("Parser rule not found: "+beforeName);this.__rules__.splice(index,0,{name:ruleName,enabled:!0,fn:fn,alt:opt.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(afterName,ruleName,fn,options){var index=this.__find__(afterName),opt=options||{};if(-1===index)throw new Error("Parser rule not found: "+afterName);this.__rules__.splice(index+1,0,{name:ruleName,enabled:!0,fn:fn,alt:opt.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(ruleName,fn,options){var opt=options||{};this.__rules__.push({name:ruleName,enabled:!0,fn:fn,alt:opt.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(list,ignoreInvalid){Array.isArray(list)||(list=[list]);var result=[];return list.forEach(function(name){var idx=this.__find__(name);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name)}this.__rules__[idx].enabled=!0,result.push(name)},this),this.__cache__=null,result},Ruler.prototype.enableOnly=function(list,ignoreInvalid){Array.isArray(list)||(list=[list]),this.__rules__.forEach(function(rule){rule.enabled=!1}),this.enable(list,ignoreInvalid)},Ruler.prototype.disable=function(list,ignoreInvalid){Array.isArray(list)||(list=[list]);var result=[];return list.forEach(function(name){var idx=this.__find__(name);if(idx<0){if(ignoreInvalid)return;throw new Error("Rules manager: invalid rule name "+name)}this.__rules__[idx].enabled=!1,result.push(name)},this),this.__cache__=null,result},Ruler.prototype.getRules=function(chainName){return null===this.__cache__&&this.__compile__(),this.__cache__[chainName]||[]},module.exports=Ruler},function(module,exports,__webpack_require__){"use strict";function Token(type,tag,nesting){this.type=type,this.tag=tag,this.attrs=null,this.map=null,this.nesting=nesting,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function attrIndex(name){var attrs,i,len;if(!this.attrs)return-1;for(i=0,len=(attrs=this.attrs).length;i<len;i++)if(attrs[i][0]===name)return i;return-1},Token.prototype.attrPush=function attrPush(attrData){this.attrs?this.attrs.push(attrData):this.attrs=[attrData]},Token.prototype.attrSet=function attrSet(name,value){var idx=this.attrIndex(name),attrData=[name,value];idx<0?this.attrPush(attrData):this.attrs[idx]=attrData},Token.prototype.attrGet=function attrGet(name){var idx=this.attrIndex(name),value=null;return 0<=idx&&(value=this.attrs[idx][1]),value},Token.prototype.attrJoin=function attrJoin(name,value){var idx=this.attrIndex(name);idx<0?this.attrPush([name,value]):this.attrs[idx][1]=this.attrs[idx][1]+" "+value},module.exports=Token},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,js_beautify;js_beautify=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(module,exports){var nonASCIIidentifierStartChars="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");exports.newline=/[\n\r\u2028\u2029]/,exports.lineBreak=new RegExp("\r\n|"+exports.newline.source),exports.allLineBreaks=new RegExp(exports.lineBreak.source,"g"),exports.isIdentifierStart=function(code){return code<65?36===code||64===code:code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifierStart.test(String.fromCharCode(code)))},exports.isIdentifierChar=function(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifier.test(String.fromCharCode(code))))}},function(module,exports,__webpack_require__){var mergeOpts=__webpack_require__(3).mergeOpts,acorn=__webpack_require__(0),Output=__webpack_require__(4).Output,Tokenizer=__webpack_require__(7).Tokenizer;function remove_redundant_indentation(output,frame){if(!frame.multiline_frame&&frame.mode!==MODE.ForInitializer&&frame.mode!==MODE.Conditional){var start_index=frame.start_line_index;output.remove_indent(start_index)}}function in_array(what,arr){for(var i=0;i<arr.length;i+=1)if(arr[i]===what)return!0;return!1}var validPositionValues=["before-newline","after-newline","preserve-newline"],OPERATOR_POSITION=function generateMapFromStrings(list){for(var result={},x=0;x<list.length;x++)result[list[x].replace(/-/g,"_")]=list[x];return result}(validPositionValues),OPERATOR_POSITION_BEFORE_OR_PRESERVE=[OPERATOR_POSITION.before_newline,OPERATOR_POSITION.preserve_newline],MODE={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};module.exports.Beautifier=function Beautifier(js_source_text,options){"use strict";var output,token_pos,tokenizer,current_token,last_type,last_last_text,indent_string,flags,previous_flags,flag_store,prefix,handlers,opt,tokens=[],baseIndentString="";function create_flags(flags_base,mode){var next_indent_level=0;return flags_base&&(next_indent_level=flags_base.indentation_level,!output.just_added_newline()&&flags_base.line_indent_level>next_indent_level&&(next_indent_level=flags_base.line_indent_level)),{mode:mode,parent:flags_base,last_text:flags_base?flags_base.last_text:"",last_word:flags_base?flags_base.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:next_indent_level,line_indent_level:flags_base?flags_base.line_indent_level:next_indent_level,start_line_index:output.get_line_number(),ternary_depth:0}}handlers={TK_START_EXPR:function handle_start_expr(){start_of_statement()||handle_whitespace_and_comments(current_token);var next_mode=MODE.Expression;if("["===current_token.text){if("TK_WORD"===last_type||")"===flags.last_text)return"TK_RESERVED"===last_type&&in_array(flags.last_text,tokenizer.line_starters)&&(output.space_before_token=!0),set_mode(next_mode),print_token(),indent(),void(opt.space_in_paren&&(output.space_before_token=!0));next_mode=MODE.ArrayLiteral,is_array(flags.mode)&&("["!==flags.last_text&&(","!==flags.last_text||"]"!==last_last_text&&"}"!==last_last_text)||opt.keep_array_indentation||print_newline())}else"TK_RESERVED"===last_type&&"for"===flags.last_text?next_mode=MODE.ForInitializer:"TK_RESERVED"===last_type&&in_array(flags.last_text,["if","while"])&&(next_mode=MODE.Conditional);";"===flags.last_text||"TK_START_BLOCK"===last_type?print_newline():"TK_END_EXPR"===last_type||"TK_START_EXPR"===last_type||"TK_END_BLOCK"===last_type||"."===flags.last_text?allow_wrap_or_preserved_newline(current_token.wanted_newline):"TK_RESERVED"===last_type&&"("===current_token.text||"TK_WORD"===last_type||"TK_OPERATOR"===last_type?"TK_RESERVED"===last_type&&("function"===flags.last_word||"typeof"===flags.last_word)||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?opt.space_after_anon_function&&(output.space_before_token=!0):"TK_RESERVED"!==last_type||!in_array(flags.last_text,tokenizer.line_starters)&&"catch"!==flags.last_text||opt.space_before_conditional&&(output.space_before_token=!0):output.space_before_token=!0,"("===current_token.text&&"TK_RESERVED"===last_type&&in_array(flags.last_word,["await","async"])&&(output.space_before_token=!0),"("===current_token.text&&("TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline()),"("===current_token.text&&"TK_WORD"!==last_type&&"TK_RESERVED"!==last_type&&allow_wrap_or_preserved_newline(),set_mode(next_mode),print_token(),opt.space_in_paren&&(output.space_before_token=!0),indent()},TK_END_EXPR:function handle_end_expr(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token),flags.multiline_frame&&allow_wrap_or_preserved_newline("]"===current_token.text&&is_array(flags.mode)&&!opt.keep_array_indentation),opt.space_in_paren&&("TK_START_EXPR"!==last_type||opt.space_in_empty_paren?output.space_before_token=!0:(output.trim(),output.space_before_token=!1)),"]"===current_token.text&&opt.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),remove_redundant_indentation(output,previous_flags),flags.do_while&&previous_flags.mode===MODE.Conditional&&(previous_flags.mode=MODE.Expression,flags.do_block=!1,flags.do_while=!1)},TK_START_BLOCK:function handle_start_block(){handle_whitespace_and_comments(current_token);var next_token=get_token(1),second_token=get_token(2);second_token&&(in_array(second_token.text,[":",","])&&in_array(next_token.type,["TK_STRING","TK_WORD","TK_RESERVED"])||in_array(next_token.text,["get","set","..."])&&in_array(second_token.type,["TK_WORD","TK_RESERVED"]))?in_array(last_last_text,["class","interface"])?set_mode(MODE.BlockStatement):set_mode(MODE.ObjectLiteral):"TK_OPERATOR"===last_type&&"=>"===flags.last_text?set_mode(MODE.BlockStatement):in_array(last_type,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===last_type&&in_array(flags.last_text,["return","throw","import","default"])?set_mode(MODE.ObjectLiteral):set_mode(MODE.BlockStatement);var empty_anonymous_function=!next_token.comments_before.length&&"}"===next_token.text&&"function"===flags.last_word&&"TK_END_EXPR"===last_type;if(opt.brace_preserve_inline){var index=0,check_token=null;flags.inline_frame=!0;do{if((check_token=get_token(index+=1)).wanted_newline){flags.inline_frame=!1;break}}while("TK_EOF"!==check_token.type&&("TK_END_BLOCK"!==check_token.type||check_token.opened!==current_token))}("expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame?"TK_OPERATOR"!==last_type&&(empty_anonymous_function||"TK_EQUALS"===last_type||"TK_RESERVED"===last_type&&is_special_word(flags.last_text)&&"else"!==flags.last_text)?output.space_before_token=!0:print_newline(!1,!0):(!is_array(previous_flags.mode)||"TK_START_EXPR"!==last_type&&"TK_COMMA"!==last_type||(("TK_COMMA"===last_type||opt.space_in_paren)&&(output.space_before_token=!0),("TK_COMMA"===last_type||"TK_START_EXPR"===last_type&&flags.inline_frame)&&(allow_wrap_or_preserved_newline(),previous_flags.multiline_frame=previous_flags.multiline_frame||flags.multiline_frame,flags.multiline_frame=!1)),"TK_OPERATOR"!==last_type&&"TK_START_EXPR"!==last_type&&("TK_START_BLOCK"!==last_type||flags.inline_frame?output.space_before_token=!0:print_newline())),print_token(),indent()},TK_END_BLOCK:function handle_end_block(){for(handle_whitespace_and_comments(current_token);flags.mode===MODE.Statement;)restore_mode();var empty_braces="TK_START_BLOCK"===last_type;flags.inline_frame&&!empty_braces?output.space_before_token=!0:"expand"===opt.brace_style?empty_braces||print_newline():empty_braces||(is_array(flags.mode)&&opt.keep_array_indentation?(opt.keep_array_indentation=!1,print_newline(),opt.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()},TK_WORD:handle_word,TK_RESERVED:handle_word,TK_SEMICOLON:function handle_semicolon(){start_of_statement()?output.space_before_token=!1:handle_whitespace_and_comments(current_token);for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();flags.import_block&&(flags.import_block=!1),print_token()},TK_STRING:function handle_string(){start_of_statement()?output.space_before_token=!0:(handle_whitespace_and_comments(current_token),"TK_RESERVED"===last_type||"TK_WORD"===last_type||flags.inline_frame?output.space_before_token=!0:"TK_COMMA"===last_type||"TK_START_EXPR"===last_type||"TK_EQUALS"===last_type||"TK_OPERATOR"===last_type?start_of_object_property()||allow_wrap_or_preserved_newline():print_newline()),print_token()},TK_EQUALS:function handle_equals(){start_of_statement()||handle_whitespace_and_comments(current_token),flags.declaration_statement&&(flags.declaration_assignment=!0),output.space_before_token=!0,print_token(),output.space_before_token=!0},TK_OPERATOR:function handle_operator(){var isGeneratorAsterisk="*"===current_token.text&&("TK_RESERVED"===last_type&&in_array(flags.last_text,["function","yield"])||in_array(last_type,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),isUnary=in_array(current_token.text,["-","+"])&&(in_array(last_type,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(flags.last_text,tokenizer.line_starters)||","===flags.last_text);if(start_of_statement());else{var preserve_statement_flags=!isGeneratorAsterisk;handle_whitespace_and_comments(current_token,preserve_statement_flags)}if("TK_RESERVED"===last_type&&is_special_word(flags.last_text))return output.space_before_token=!0,void print_token();if("*"!==current_token.text||"TK_DOT"!==last_type)if("::"!==current_token.text){if("TK_OPERATOR"===last_type&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)&&allow_wrap_or_preserved_newline(),":"===current_token.text&&flags.in_case)return flags.case_body=!0,indent(),print_token(),print_newline(),void(flags.in_case=!1);var space_before=!0,space_after=!0,in_ternary=!1;if(":"===current_token.text?0===flags.ternary_depth?space_before=!1:(flags.ternary_depth-=1,in_ternary=!0):"?"===current_token.text&&(flags.ternary_depth+=1),!isUnary&&!isGeneratorAsterisk&&opt.preserve_newlines&&in_array(current_token.text,tokenizer.positionable_operators)){var isColon=":"===current_token.text,isTernaryColon=isColon&&in_ternary,isOtherColon=isColon&&!in_ternary;switch(opt.operator_position){case OPERATOR_POSITION.before_newline:return output.space_before_token=!isOtherColon,print_token(),isColon&&!isTernaryColon||allow_wrap_or_preserved_newline(),void(output.space_before_token=!0);case OPERATOR_POSITION.after_newline:return output.space_before_token=!0,!isColon||isTernaryColon?get_token(1).wanted_newline?print_newline(!1,!0):allow_wrap_or_preserved_newline():output.space_before_token=!1,print_token(),void(output.space_before_token=!0);case OPERATOR_POSITION.preserve_newline:return isOtherColon||allow_wrap_or_preserved_newline(),space_before=!(output.just_added_newline()||isOtherColon),output.space_before_token=space_before,print_token(),void(output.space_before_token=!0)}}if(isGeneratorAsterisk){allow_wrap_or_preserved_newline(),space_before=!1;var next_token=get_token(1);space_after=next_token&&in_array(next_token.type,["TK_WORD","TK_RESERVED"])}else"..."===current_token.text?(allow_wrap_or_preserved_newline(),space_before="TK_START_BLOCK"===last_type,space_after=!1):(in_array(current_token.text,["--","++","!","~"])||isUnary)&&(space_after=space_before=!1,!current_token.wanted_newline||"--"!==current_token.text&&"++"!==current_token.text||print_newline(!1,!0),";"===flags.last_text&&is_expression(flags.mode)&&(space_before=!0),"TK_RESERVED"===last_type?space_before=!0:"TK_END_EXPR"===last_type?space_before=!("]"===flags.last_text&&("--"===current_token.text||"++"===current_token.text)):"TK_OPERATOR"===last_type&&(space_before=in_array(current_token.text,["--","-","++","+"])&&in_array(flags.last_text,["--","-","++","+"]),in_array(current_token.text,["+","-"])&&in_array(flags.last_text,["--","++"])&&(space_after=!0)),(flags.mode!==MODE.BlockStatement||flags.inline_frame)&&flags.mode!==MODE.Statement||"{"!==flags.last_text&&";"!==flags.last_text||print_newline());output.space_before_token=output.space_before_token||space_before,print_token(),output.space_before_token=space_after}else print_token();else print_token()},TK_COMMA:function handle_comma(){handle_whitespace_and_comments(current_token,!0),print_token(),output.space_before_token=!0,flags.declaration_statement?(is_expression(flags.parent.mode)&&(flags.declaration_assignment=!1),flags.declaration_assignment?print_newline(flags.declaration_assignment=!1,!0):opt.comma_first&&allow_wrap_or_preserved_newline()):flags.mode===MODE.ObjectLiteral||flags.mode===MODE.Statement&&flags.parent.mode===MODE.ObjectLiteral?(flags.mode===MODE.Statement&&restore_mode(),flags.inline_frame||print_newline()):opt.comma_first&&allow_wrap_or_preserved_newline()},TK_BLOCK_COMMENT:function handle_block_comment(preserve_statement_flags){if(output.raw)return output.add_raw_token(current_token),void(current_token.directives&&"end"===current_token.directives.preserve&&(output.raw=opt.test_output_raw));if(current_token.directives)return print_newline(!1,preserve_statement_flags),print_token(),"start"===current_token.directives.preserve&&(output.raw=!0),void print_newline(!1,!0);if(!acorn.newline.test(current_token.text)&&!current_token.wanted_newline)return output.space_before_token=!0,print_token(),void(output.space_before_token=!0);var j,lines=function split_linebreaks(s){s=s.replace(acorn.allLineBreaks,"\n");for(var out=[],idx=s.indexOf("\n");-1!==idx;)out.push(s.substring(0,idx)),s=s.substring(idx+1),idx=s.indexOf("\n");return s.length&&out.push(s),out}(current_token.text),javadoc=!1,starless=!1,lastIndent=current_token.whitespace_before,lastIndentLength=lastIndent.length;for(print_newline(!1,preserve_statement_flags),1<lines.length&&(javadoc=function all_lines_start_with(lines,c){for(var i=0;i<lines.length;i++){var line=lines[i].replace(/^\s+|\s+$/g,"");if(line.charAt(0)!==c)return!1}return!0}(lines.slice(1),"*"),starless=function each_line_matches_indent(lines,indent){for(var line,i=0,len=lines.length;i<len;i++)if((line=lines[i])&&0!==line.indexOf(indent))return!1;return!0}(lines.slice(1),lastIndent)),print_token(lines[0]),j=1;j<lines.length;j++)print_newline(!1,!0),javadoc?print_token(" "+lines[j].replace(/^\s+/g,"")):starless&&lines[j].length>lastIndentLength?print_token(lines[j].substring(lastIndentLength)):output.add_token(lines[j]);print_newline(!1,preserve_statement_flags)},TK_COMMENT:function handle_comment(preserve_statement_flags){current_token.wanted_newline?print_newline(!1,preserve_statement_flags):output.trim(!0),output.space_before_token=!0,print_token(),print_newline(!1,preserve_statement_flags)},TK_DOT:function handle_dot(){start_of_statement()||handle_whitespace_and_comments(current_token,!0),"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:allow_wrap_or_preserved_newline(")"===flags.last_text&&opt.break_chained_methods),print_token()},TK_UNKNOWN:function handle_unknown(preserve_statement_flags){print_token(),"\n"===current_token.text[current_token.text.length-1]&&print_newline(!1,preserve_statement_flags)},TK_EOF:function handle_eof(){for(;flags.mode===MODE.Statement;)restore_mode();handle_whitespace_and_comments(current_token)}},options=mergeOpts(options=options||{},"js"),opt={},"expand-strict"===options.brace_style?options.brace_style="expand":"collapse-preserve-inline"===options.brace_style?options.brace_style="collapse,preserve-inline":void 0!==options.braces_on_own_line?options.brace_style=options.braces_on_own_line?"expand":"collapse":options.brace_style||(options.brace_style="collapse");var brace_style_split=options.brace_style.split(/[^a-zA-Z0-9_\-]+/);opt.brace_preserve_inline=!1,opt.brace_style="collapse";for(var bs=0;bs<brace_style_split.length;bs++)"preserve-inline"===brace_style_split[bs]?opt.brace_preserve_inline=!0:opt.brace_style=brace_style_split[bs];for(opt.indent_size=options.indent_size?parseInt(options.indent_size,10):4,opt.indent_char=options.indent_char?options.indent_char:" ",opt.eol=options.eol?options.eol:"auto",opt.preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,opt.unindent_chained_methods=void 0!==options.unindent_chained_methods&&options.unindent_chained_methods,opt.break_chained_methods=void 0!==options.break_chained_methods&&options.break_chained_methods,opt.max_preserve_newlines=void 0===options.max_preserve_newlines?0:parseInt(options.max_preserve_newlines,10),opt.space_in_paren=void 0!==options.space_in_paren&&options.space_in_paren,opt.space_in_empty_paren=void 0!==options.space_in_empty_paren&&options.space_in_empty_paren,opt.jslint_happy=void 0!==options.jslint_happy&&options.jslint_happy,opt.space_after_anon_function=void 0!==options.space_after_anon_function&&options.space_after_anon_function,opt.keep_array_indentation=void 0!==options.keep_array_indentation&&options.keep_array_indentation,opt.space_before_conditional=void 0===options.space_before_conditional||options.space_before_conditional,opt.unescape_strings=void 0!==options.unescape_strings&&options.unescape_strings,opt.wrap_line_length=void 0===options.wrap_line_length?0:parseInt(options.wrap_line_length,10),opt.e4x=void 0!==options.e4x&&options.e4x,opt.end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,opt.comma_first=void 0!==options.comma_first&&options.comma_first,opt.operator_position=function sanitizeOperatorPosition(opPosition){if(!in_array(opPosition=opPosition||OPERATOR_POSITION.before_newline,validPositionValues))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+validPositionValues+"\nYou passed in: '"+opPosition+"'");return opPosition}(options.operator_position),opt.test_output_raw=void 0!==options.test_output_raw&&options.test_output_raw,opt.jslint_happy&&(opt.space_after_anon_function=!0),options.indent_with_tabs&&(opt.indent_char="\t",opt.indent_size=1),"auto"===opt.eol&&(opt.eol="\n",js_source_text&&acorn.lineBreak.test(js_source_text||"")&&(opt.eol=js_source_text.match(acorn.lineBreak)[0])),opt.eol=opt.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),indent_string="";0<opt.indent_size;)indent_string+=opt.indent_char,opt.indent_size-=1;var preindent_index=0;if(js_source_text&&js_source_text.length){for(;" "===js_source_text.charAt(preindent_index)||"\t"===js_source_text.charAt(preindent_index);)preindent_index+=1;baseIndentString=js_source_text.substring(0,preindent_index),js_source_text=js_source_text.substring(preindent_index)}function handle_whitespace_and_comments(local_token,preserve_statement_flags){for(var newlines=local_token.newlines,keep_whitespace=opt.keep_array_indentation&&is_array(flags.mode),temp_token=current_token,h=0;h<local_token.comments_before.length;h++)handle_whitespace_and_comments(current_token=local_token.comments_before[h],preserve_statement_flags),handlers[current_token.type](preserve_statement_flags);if(current_token=temp_token,keep_whitespace)for(var i=0;i<newlines;i+=1)print_newline(0<i,preserve_statement_flags);else if(opt.max_preserve_newlines&&newlines>opt.max_preserve_newlines&&(newlines=opt.max_preserve_newlines),opt.preserve_newlines&&1<local_token.newlines){print_newline(!1,preserve_statement_flags);for(var j=1;j<newlines;j+=1)print_newline(!0,preserve_statement_flags)}}last_type="TK_START_BLOCK",last_last_text="",(output=new Output(indent_string,baseIndentString)).raw=opt.test_output_raw,flag_store=[],set_mode(MODE.BlockStatement),this.beautify=function(){for(tokenizer=new Tokenizer(js_source_text,opt,indent_string),tokens=tokenizer.tokenize(),token_pos=0,current_token=get_token();current_token;)handlers[current_token.type](),last_last_text=flags.last_text,last_type=current_token.type,flags.last_text=current_token.text,token_pos+=1,current_token=get_token();return output.get_code(opt.end_with_newline,opt.eol)};var newline_restricted_tokens=["break","continue","return","throw","yield"];function allow_wrap_or_preserved_newline(force_linewrap){if(force_linewrap=void 0!==force_linewrap&&force_linewrap,!output.just_added_newline()){var shouldPreserveOrForce=opt.preserve_newlines&&current_token.wanted_newline||force_linewrap;if(in_array(flags.last_text,tokenizer.positionable_operators)||in_array(current_token.text,tokenizer.positionable_operators)){var shouldPrintOperatorNewline=in_array(flags.last_text,tokenizer.positionable_operators)&&in_array(opt.operator_position,OPERATOR_POSITION_BEFORE_OR_PRESERVE)||in_array(current_token.text,tokenizer.positionable_operators);shouldPreserveOrForce=shouldPreserveOrForce&&shouldPrintOperatorNewline}if(shouldPreserveOrForce)print_newline(!1,!0);else if(opt.wrap_line_length){if("TK_RESERVED"===last_type&&in_array(flags.last_text,newline_restricted_tokens))return;output.current_line.get_character_count()+current_token.text.length+(output.space_before_token?1:0)>=opt.wrap_line_length&&print_newline(!1,!0)}}}function print_newline(force_newline,preserve_statement_flags){if(!preserve_statement_flags&&";"!==flags.last_text&&","!==flags.last_text&&"="!==flags.last_text&&"TK_OPERATOR"!==last_type)for(var next_token=get_token(1);!(flags.mode!==MODE.Statement||flags.if_block&&next_token&&"TK_RESERVED"===next_token.type&&"else"===next_token.text||flags.do_block);)restore_mode();output.add_new_line(force_newline)&&(flags.multiline_frame=!0)}function print_token_line_indentation(){output.just_added_newline()&&(opt.keep_array_indentation&&is_array(flags.mode)&&current_token.wanted_newline?(output.current_line.push(current_token.whitespace_before),output.space_before_token=!1):output.set_indent(flags.indentation_level)&&(flags.line_indent_level=flags.indentation_level))}function print_token(printable_token){if(output.raw)output.add_raw_token(current_token);else{if(opt.comma_first&&"TK_COMMA"===last_type&&output.just_added_newline()&&","===output.previous_line.last()){var popped=output.previous_line.pop();output.previous_line.is_empty()&&(output.previous_line.push(popped),output.trim(!0),output.current_line.pop(),output.trim()),print_token_line_indentation(),output.add_token(","),output.space_before_token=!0}printable_token=printable_token||current_token.text,print_token_line_indentation(),output.add_token(printable_token)}}function indent(){flags.indentation_level+=1}function set_mode(mode){flags?(flag_store.push(flags),previous_flags=flags):previous_flags=create_flags(null,mode),flags=create_flags(previous_flags,mode)}function is_array(mode){return mode===MODE.ArrayLiteral}function is_expression(mode){return in_array(mode,[MODE.Expression,MODE.ForInitializer,MODE.Conditional])}function restore_mode(){0<flag_store.length&&(previous_flags=flags,flags=flag_store.pop(),previous_flags.mode!==MODE.Statement||opt.unindent_chained_methods||remove_redundant_indentation(output,previous_flags))}function start_of_object_property(){return flags.parent.mode===MODE.ObjectLiteral&&flags.mode===MODE.Statement&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"]))}function start_of_statement(){return!!("TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type||"TK_RESERVED"===last_type&&"do"===flags.last_text||"TK_RESERVED"===last_type&&in_array(flags.last_text,newline_restricted_tokens)&&!current_token.wanted_newline||"TK_RESERVED"===last_type&&"else"===flags.last_text&&("TK_RESERVED"!==current_token.type||"if"!==current_token.text||current_token.comments_before.length)||"TK_END_EXPR"===last_type&&(previous_flags.mode===MODE.ForInitializer||previous_flags.mode===MODE.Conditional)||"TK_WORD"===last_type&&flags.mode===MODE.BlockStatement&&!flags.in_case&&"--"!==current_token.text&&"++"!==current_token.text&&"function"!==last_last_text&&"TK_WORD"!==current_token.type&&"TK_RESERVED"!==current_token.type||flags.mode===MODE.ObjectLiteral&&(":"===flags.last_text&&0===flags.ternary_depth||"TK_RESERVED"===last_type&&in_array(flags.last_text,["get","set"])))&&(set_mode(MODE.Statement),opt.unindent_chained_methods||indent(),handle_whitespace_and_comments(current_token,!0),start_of_object_property()||allow_wrap_or_preserved_newline("TK_RESERVED"===current_token.type&&in_array(current_token.text,["do","for","if","while"])),!0)}function is_special_word(word){return in_array(word,["case","return","do","if","throw","else"])}function get_token(offset){var index=token_pos+(offset||0);return index<0||index>=tokens.length?null:tokens[index]}function handle_word(){if("TK_RESERVED"===current_token.type&&(in_array(current_token.text,["set","get"])&&flags.mode!==MODE.ObjectLiteral?current_token.type="TK_WORD":in_array(current_token.text,["as","from"])&&!flags.import_block?current_token.type="TK_WORD":flags.mode===MODE.ObjectLiteral&&":"===get_token(1).text&&(current_token.type="TK_WORD")),start_of_statement()?"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const"])&&"TK_WORD"===current_token.type&&(flags.declaration_statement=!0):!current_token.wanted_newline||is_expression(flags.mode)||"TK_OPERATOR"===last_type&&"--"!==flags.last_text&&"++"!==flags.last_text||"TK_EQUALS"===last_type||!opt.preserve_newlines&&"TK_RESERVED"===last_type&&in_array(flags.last_text,["var","let","const","set","get"])?handle_whitespace_and_comments(current_token):(handle_whitespace_and_comments(current_token),print_newline()),flags.do_block&&!flags.do_while){if("TK_RESERVED"===current_token.type&&"while"===current_token.text)return output.space_before_token=!0,print_token(),output.space_before_token=!0,void(flags.do_while=!0);print_newline(),flags.do_block=!1}if(flags.if_block)if(flags.else_block||"TK_RESERVED"!==current_token.type||"else"!==current_token.text){for(;flags.mode===MODE.Statement;)restore_mode();flags.if_block=!1,flags.else_block=!1}else flags.else_block=!0;return"TK_RESERVED"===current_token.type&&("case"===current_token.text||"default"===current_token.text&&flags.in_case_statement)?(print_newline(),(flags.case_body||opt.jslint_happy)&&(function deindent(){0<flags.indentation_level&&(!flags.parent||flags.indentation_level>flags.parent.indentation_level)&&(flags.indentation_level-=1)}(),flags.case_body=!1),print_token(),flags.in_case=!0,void(flags.in_case_statement=!0)):("TK_COMMA"!==last_type&&"TK_START_EXPR"!==last_type&&"TK_EQUALS"!==last_type&&"TK_OPERATOR"!==last_type||start_of_object_property()||allow_wrap_or_preserved_newline(),"TK_RESERVED"===current_token.type&&"function"===current_token.text?((in_array(flags.last_text,["}",";"])||output.just_added_newline()&&!in_array(flags.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==last_type)&&(output.just_added_blankline()||current_token.comments_before.length||(print_newline(),print_newline(!0))),"TK_RESERVED"===last_type||"TK_WORD"===last_type?"TK_RESERVED"===last_type&&(in_array(flags.last_text,["get","set","new","export","async"])||in_array(flags.last_text,newline_restricted_tokens))?output.space_before_token=!0:"TK_RESERVED"===last_type&&"default"===flags.last_text&&"export"===last_last_text?output.space_before_token=!0:print_newline():"TK_OPERATOR"===last_type||"="===flags.last_text?output.space_before_token=!0:(flags.multiline_frame||!is_expression(flags.mode)&&!is_array(flags.mode))&&print_newline(),print_token(),void(flags.last_word=current_token.text)):(prefix="NONE","TK_END_BLOCK"===last_type?previous_flags.inline_frame?prefix="SPACE":"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally","from"])?"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline?prefix="NEWLINE":(prefix="SPACE",output.space_before_token=!0):prefix="NEWLINE":"TK_SEMICOLON"===last_type&&flags.mode===MODE.BlockStatement?prefix="NEWLINE":"TK_SEMICOLON"===last_type&&is_expression(flags.mode)?prefix="SPACE":"TK_STRING"===last_type?prefix="NEWLINE":"TK_RESERVED"===last_type||"TK_WORD"===last_type||"*"===flags.last_text&&(in_array(last_last_text,["function","yield"])||flags.mode===MODE.ObjectLiteral&&in_array(last_last_text,["{",","]))?prefix="SPACE":"TK_START_BLOCK"===last_type?prefix=flags.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===last_type&&(output.space_before_token=!0,prefix="NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,tokenizer.line_starters)&&")"!==flags.last_text&&(prefix=flags.inline_frame||"else"===flags.last_text||"export"===flags.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===current_token.type&&in_array(current_token.text,["else","catch","finally"])?("TK_END_BLOCK"!==last_type||previous_flags.mode!==MODE.BlockStatement||"expand"===opt.brace_style||"end-expand"===opt.brace_style||"none"===opt.brace_style&&current_token.wanted_newline)&&!flags.inline_frame?print_newline():(output.trim(!0),"}"!==output.current_line.last()&&print_newline(),output.space_before_token=!0):"NEWLINE"===prefix?"TK_RESERVED"===last_type&&is_special_word(flags.last_text)?output.space_before_token=!0:"TK_END_EXPR"!==last_type?"TK_START_EXPR"===last_type&&"TK_RESERVED"===current_token.type&&in_array(current_token.text,["var","let","const"])||":"===flags.last_text||("TK_RESERVED"===current_token.type&&"if"===current_token.text&&"else"===flags.last_text?output.space_before_token=!0:print_newline()):"TK_RESERVED"===current_token.type&&in_array(current_token.text,tokenizer.line_starters)&&")"!==flags.last_text&&print_newline():flags.multiline_frame&&is_array(flags.mode)&&","===flags.last_text&&"}"===last_last_text?print_newline():"SPACE"===prefix&&(output.space_before_token=!0),print_token(),flags.last_word=current_token.text,void("TK_RESERVED"===current_token.type&&("do"===current_token.text?flags.do_block=!0:"if"===current_token.text?flags.if_block=!0:"import"===current_token.text?flags.import_block=!0:flags.import_block&&"TK_RESERVED"===current_token.type&&"from"===current_token.text&&(flags.import_block=!1)))))}}},function(module,exports){module.exports.InputScanner=function InputScanner(input){var _input=input,_input_length=_input.length,_position=0;this.back=function(){_position-=1},this.hasNext=function(){return _position<_input_length},this.next=function(){var val=null;return this.hasNext()&&(val=_input.charAt(_position),_position+=1),val},this.peek=function(index){var val=null;return index=index||0,0<=(index+=_position)&&index<_input_length&&(val=_input.charAt(index)),val},this.peekCharCode=function(index){var val=0;return index=index||0,0<=(index+=_position)&&index<_input_length&&(val=_input.charCodeAt(index)),val},this.test=function(pattern,index){return index=index||0,pattern.lastIndex=_position+index,pattern.test(_input)},this.testChar=function(pattern,index){var val=this.peek(index);return null!==val&&pattern.test(val)},this.match=function(pattern){pattern.lastIndex=_position;var pattern_match=pattern.exec(_input);return pattern_match&&pattern_match.index===_position?_position+=pattern_match[0].length:pattern_match=null,pattern_match}}},function(module,exports){module.exports.mergeOpts=function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}},function(module,exports){module.exports.Output=function Output(indent_string,baseIndentString){baseIndentString=baseIndentString||"",this.indent_cache=[baseIndentString],this.baseIndentLength=baseIndentString.length,this.indent_length=indent_string.length,this.raw=!1;var lines=[];this.baseIndentString=baseIndentString,this.indent_string=indent_string,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function OutputLine(parent){var _character_count=0,_indent_count=-1,_items=[],_empty=!0;this.set_indent=function(level){_character_count=parent.baseIndentLength+level*parent.indent_length,_indent_count=level},this.get_character_count=function(){return _character_count},this.is_empty=function(){return _empty},this.last=function(){return this._empty?null:_items[_items.length-1]},this.push=function(input){_items.push(input),_character_count+=input.length,_empty=!1},this.pop=function(){var item=null;return _empty||(item=_items.pop(),_character_count-=item.length,_empty=0===_items.length),item},this.remove_indent=function(){0<_indent_count&&(_indent_count-=1,_character_count-=parent.indent_length)},this.trim=function(){for(;" "===this.last();)_items.pop(),_character_count-=1;_empty=0===_items.length},this.toString=function(){var result="";return this._empty||(0<=_indent_count&&(result=parent.indent_cache[_indent_count]),result+=_items.join("")),result}}(this),lines.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return lines.length},this.add_new_line=function(force_newline){return!(1===this.get_line_number()&&this.just_added_newline()||!force_newline&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(end_with_newline,eol){var sweet_code=lines.join("\n").replace(/[\r\n\t ]+$/,"");return end_with_newline&&(sweet_code+="\n"),"\n"!==eol&&(sweet_code=sweet_code.replace(/[\n]/g,eol)),sweet_code},this.set_indent=function(level){if(1<lines.length){for(;level>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(level),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(token){for(var x=0;x<token.newlines;x++)this.add_outputline();this.current_line.push(token.whitespace_before),this.current_line.push(token.text),this.space_before_token=!1},this.add_token=function(printable_token){this.add_space_before_token(),this.current_line.push(printable_token)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(index){for(var output_length=lines.length;index<output_length;)lines[index].remove_indent(),index++},this.trim=function(eat_newlines){for(eat_newlines=void 0!==eat_newlines&&eat_newlines,this.current_line.trim(indent_string,baseIndentString);eat_newlines&&1<lines.length&&this.current_line.is_empty();)lines.pop(),this.current_line=lines[lines.length-1],this.current_line.trim();this.previous_line=1<lines.length?lines[lines.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===lines.length||lines[lines.length-2].is_empty())}}},function(module,exports){module.exports.Token=function Token(type,text,newlines,whitespace_before,parent){this.type=type,this.text=text,this.comments_before=[],this.comments_after=[],this.newlines=newlines||0,this.wanted_newline=0<newlines,this.whitespace_before=whitespace_before||"",this.parent=parent||null,this.opened=null,this.directives=null}},function(module,exports,__webpack_require__){var Beautifier=__webpack_require__(1).Beautifier;module.exports=function js_beautify(js_source_text,options){return new Beautifier(js_source_text,options).beautify()}},function(module,exports,__webpack_require__){var InputScanner=__webpack_require__(2).InputScanner,Token=__webpack_require__(5).Token,acorn=__webpack_require__(0);function in_array(what,arr){for(var i=0;i<arr.length;i+=1)if(arr[i]===what)return!0;return!1}module.exports.Tokenizer=function Tokenizer(input_string,opts){var whitespace="\n\r\t ".split(""),digit=/[0-9]/,digit_bin=/[01]/,digit_oct=/[01234567]/,digit_hex=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var punct=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var n_newlines,whitespace_before_token,in_html_comment,tokens,input,reserved_words=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),block_comment_pattern=/([\s\S]*?)((?:\*\/)|$)/g,comment_pattern=/([^\n\r\u2028\u2029]*)/g,directives_block_pattern=/\/\* beautify( \w+[:]\w+)+ \*\//g,directive_pattern=/ (\w+)[:](\w+)/g,directives_end_ignore_pattern=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,template_pattern=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function tokenize_next(){var resulting_string,whitespace_on_this_line=[];n_newlines=0,whitespace_before_token="";var last_token,c=input.next();if(null===c)return["","TK_EOF"];for(last_token=tokens.length?tokens[tokens.length-1]:new Token("TK_START_BLOCK","{");in_array(c,whitespace);)if(acorn.newline.test(c)?"\n"===c&&"\r"===input.peek(-2)||(n_newlines+=1,whitespace_on_this_line=[]):whitespace_on_this_line.push(c),null===(c=input.next()))return["","TK_EOF"];if(whitespace_on_this_line.length&&(whitespace_before_token=whitespace_on_this_line.join("")),digit.test(c)||"."===c&&input.testChar(digit)){var allow_decimal=!0,allow_e=!0,local_digit=digit;for("0"===c&&input.testChar(/[XxOoBb]/)?(allow_e=allow_decimal=!1,local_digit=input.testChar(/[Bb]/)?digit_bin:input.testChar(/[Oo]/)?digit_oct:digit_hex,c+=input.next()):"."===c?allow_decimal=!1:(c="",input.back());input.testChar(local_digit);)c+=input.next(),allow_decimal&&"."===input.peek()&&(c+=input.next(),allow_decimal=!1),allow_e&&input.testChar(/[Ee]/)&&(c+=input.next(),input.testChar(/[+-]/)&&(c+=input.next()),allow_decimal=allow_e=!1);return[c,"TK_WORD"]}if(acorn.isIdentifierStart(input.peekCharCode(-1))){if(input.hasNext())for(;acorn.isIdentifierChar(input.peekCharCode())&&(c+=input.next(),input.hasNext()););return"TK_DOT"===last_token.type||"TK_RESERVED"===last_token.type&&in_array(last_token.text,["set","get"])||!in_array(c,reserved_words)?[c,"TK_WORD"]:"in"===c||"of"===c?[c,"TK_OPERATOR"]:[c,"TK_RESERVED"]}if("("===c||"["===c)return[c,"TK_START_EXPR"];if(")"===c||"]"===c)return[c,"TK_END_EXPR"];if("{"===c)return[c,"TK_START_BLOCK"];if("}"===c)return[c,"TK_END_BLOCK"];if(";"===c)return[c,"TK_SEMICOLON"];if("/"===c){var comment="";if("*"===input.peek()){input.next();var directives=function get_directives(text){if(!text.match(directives_block_pattern))return null;var directives={};directive_pattern.lastIndex=0;for(var directive_match=directive_pattern.exec(text);directive_match;)directives[directive_match[1]]=directive_match[2],directive_match=directive_pattern.exec(text);return directives}(comment="/*"+input.match(block_comment_pattern)[0]);return directives&&"start"===directives.ignore&&(comment+=input.match(directives_end_ignore_pattern)[0]),[comment=comment.replace(acorn.allLineBreaks,"\n"),"TK_BLOCK_COMMENT",directives]}if("/"===input.peek())return input.next(),[comment="//"+input.match(comment_pattern)[0],"TK_COMMENT"]}var startXmlRegExp=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===c||"'"===c||'"'===c||("/"===c||opts.e4x&&"<"===c&&input.test(startXmlRegExp,-1))&&("TK_RESERVED"===last_token.type&&in_array(last_token.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===last_token.type&&")"===last_token.text&&last_token.parent&&"TK_RESERVED"===last_token.parent.type&&in_array(last_token.parent.text,["if","while","for"])||in_array(last_token.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var sep=c,esc=!1,has_char_escapes=!1;if(resulting_string=c,"/"===sep)for(var in_char_class=!1;input.hasNext()&&(esc||in_char_class||input.peek()!==sep)&&!input.testChar(acorn.newline);)resulting_string+=input.peek(),esc?esc=!1:(esc="\\"===input.peek(),"["===input.peek()?in_char_class=!0:"]"===input.peek()&&(in_char_class=!1)),input.next();else if(opts.e4x&&"<"===sep){var xmlRegExp=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;input.back();var xmlStr="",match=input.match(startXmlRegExp);if(match){for(var rootTag=match[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),isCurlyRoot=0===rootTag.indexOf("{"),depth=0;match;){var isEndTag=!!match[1],tagName=match[2];if(!(match[match.length-1]||"![CDATA["===tagName.slice(0,8))&&(tagName===rootTag||isCurlyRoot&&tagName.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(isEndTag?--depth:++depth),xmlStr+=match[0],depth<=0)break;match=input.match(xmlRegExp)}return match||(xmlStr+=input.match(/[\s\S]*/g)[0]),[xmlStr=xmlStr.replace(acorn.allLineBreaks,"\n"),"TK_STRING"]}}else{var parse_string=function(delimiter,allow_unescaped_newlines,start_sub){for(var current_char;input.hasNext()&&(current_char=input.peek(),esc||current_char!==delimiter&&(allow_unescaped_newlines||!acorn.newline.test(current_char)));)(esc||allow_unescaped_newlines)&&acorn.newline.test(current_char)?("\r"===current_char&&"\n"===input.peek(1)&&(input.next(),current_char=input.peek()),resulting_string+="\n"):resulting_string+=current_char,esc?("x"!==current_char&&"u"!==current_char||(has_char_escapes=!0),esc=!1):esc="\\"===current_char,input.next(),start_sub&&-1!==resulting_string.indexOf(start_sub,resulting_string.length-start_sub.length)&&("`"===delimiter?parse_string("}",allow_unescaped_newlines,"`"):parse_string("`",allow_unescaped_newlines,"${"),input.hasNext()&&(resulting_string+=input.next()))};"`"===sep?parse_string("`",!0,"${"):parse_string(sep)}if(has_char_escapes&&opts.unescape_strings&&(resulting_string=function unescape_string(s){for(var out="",escaped=0,input_scan=new InputScanner(s),matched=null;input_scan.hasNext();)if((matched=input_scan.match(/([\s]|[^\\]|\\\\)+/g))&&(out+=matched[0]),"\\"===input_scan.peek()){if(input_scan.next(),"x"===input_scan.peek())matched=input_scan.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==input_scan.peek()){out+="\\",input_scan.hasNext()&&(out+=input_scan.next());continue}matched=input_scan.match(/u([0-9A-Fa-f]{4})/g)}if(!matched)return s;if(126<(escaped=parseInt(matched[1],16))&&escaped<=255&&0===matched[0].indexOf("x"))return s;if(0<=escaped&&escaped<32){out+="\\"+matched[0];continue}out+=34===escaped||39===escaped||92===escaped?"\\"+String.fromCharCode(escaped):String.fromCharCode(escaped)}return out}(resulting_string)),input.peek()===sep&&(resulting_string+=sep,input.next(),"/"===sep))for(;input.hasNext()&&acorn.isIdentifierStart(input.peekCharCode());)resulting_string+=input.next();return[resulting_string,"TK_STRING"]}if("#"===c){if(0===tokens.length&&"!"===input.peek()){for(resulting_string=c;input.hasNext()&&"\n"!==c;)c=input.next(),resulting_string+=c;return[function trim(s){return s.replace(/^\s+|\s+$/g,"")}(resulting_string)+"\n","TK_UNKNOWN"]}var sharp="#";if(input.hasNext()&&input.testChar(digit)){for(;sharp+=c=input.next(),input.hasNext()&&"#"!==c&&"="!==c;);return"#"===c||("["===input.peek()&&"]"===input.peek(1)?(sharp+="[]",input.next(),input.next()):"{"===input.peek()&&"}"===input.peek(1)&&(sharp+="{}",input.next(),input.next())),[sharp,"TK_WORD"]}}if("<"===c&&("?"===input.peek()||"%"===input.peek())){input.back();var template_match=input.match(template_pattern);if(template_match)return[c=(c=template_match[0]).replace(acorn.allLineBreaks,"\n"),"TK_STRING"]}if("<"===c&&input.match(/\!--/g)){for(c="\x3c!--";input.hasNext()&&!input.testChar(acorn.newline);)c+=input.next();return in_html_comment=!0,[c,"TK_COMMENT"]}if("-"===c&&in_html_comment&&input.match(/->/g))return in_html_comment=!1,["--\x3e","TK_COMMENT"];if("."===c)return"."===input.peek()&&"."===input.peek(1)?[c+=input.next()+input.next(),"TK_OPERATOR"]:[c,"TK_DOT"];if(in_array(c,punct)){for(;input.hasNext()&&in_array(c+input.peek(),punct)&&(c+=input.next(),input.hasNext()););return","===c?[c,"TK_COMMA"]:"="===c?[c,"TK_EQUALS"]:[c,"TK_OPERATOR"]}return[c,"TK_UNKNOWN"]}this.tokenize=function(){var next,last,token_values;input=new InputScanner(input_string),in_html_comment=!1,tokens=[];for(var open=null,open_stack=[],comments=[];!last||"TK_EOF"!==last.type;){for(token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);"TK_COMMENT"===next.type||"TK_BLOCK_COMMENT"===next.type||"TK_UNKNOWN"===next.type;)"TK_BLOCK_COMMENT"===next.type&&(next.directives=token_values[2]),comments.push(next),token_values=tokenize_next(),next=new Token(token_values[1],token_values[0],n_newlines,whitespace_before_token);comments.length&&(next.comments_before=comments,comments=[]),"TK_START_BLOCK"===next.type||"TK_START_EXPR"===next.type?(next.parent=last,open_stack.push(open),open=next):("TK_END_BLOCK"===next.type||"TK_END_EXPR"===next.type)&&open&&("]"===next.text&&"["===open.text||")"===next.text&&"("===open.text||"}"===next.text&&"{"===open.text)&&(next.parent=open.parent,next.opened=open,open=open_stack.pop()),tokens.push(next),last=next}return tokens}}}]),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return{js_beautify:js_beautify}}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,css_beautify;css_beautify=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(module,exports,__webpack_require__){var mergeOpts=__webpack_require__(2).mergeOpts,acorn=__webpack_require__(1),Output=__webpack_require__(3).Output,lineBreak=acorn.lineBreak,allLineBreaks=acorn.allLineBreaks;module.exports.Beautifier=function Beautifier(source_text,options){options=mergeOpts(options=options||{},"css"),source_text=source_text||"";var newlinesFromLastWSEat=0,indentSize=options.indent_size?parseInt(options.indent_size,10):4,indentCharacter=options.indent_char||" ",preserve_newlines=void 0!==options.preserve_newlines&&options.preserve_newlines,selectorSeparatorNewline=void 0===options.selector_separator_newline||options.selector_separator_newline,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,newline_between_rules=void 0===options.newline_between_rules||options.newline_between_rules,space_around_combinator=void 0!==options.space_around_combinator&&options.space_around_combinator;space_around_combinator=space_around_combinator||void 0!==options.space_around_selector_separator&&options.space_around_selector_separator;var eol=options.eol?options.eol:"auto";options.indent_with_tabs&&(indentCharacter="\t",indentSize=1),"auto"===eol&&(eol="\n",source_text&&lineBreak.test(source_text||"")&&(eol=source_text.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),source_text=source_text.replace(allLineBreaks,"\n");var ch,whiteRe=/^\s+$/,pos=-1,parenLevel=0;function next(){return(ch=source_text.charAt(++pos))||""}function peek(skipWhitespace){var result,prev_pos=pos;return skipWhitespace&&eatWhitespace(),result=source_text.charAt(pos+1)||"",pos=prev_pos-1,next(),result}function eatString(endChars){for(var start=pos;next();)if("\\"===ch)next();else{if(-1!==endChars.indexOf(ch))break;if("\n"===ch)break}return source_text.substring(start,pos+1)}function eatWhitespace(preserve_newlines_local){for(var result=0;whiteRe.test(peek());)next(),"\n"===ch&&preserve_newlines_local&&preserve_newlines&&(output.add_new_line(!0),result++);return newlinesFromLastWSEat=result}function skipWhitespace(){var result="";for(ch&&whiteRe.test(ch)&&(result=ch);whiteRe.test(next());)result+=ch;return result}function eatComment(){var start=pos,singleLine="/"===peek();for(next();next();){if(!singleLine&&"*"===ch&&"/"===peek()){next();break}if(singleLine&&"\n"===ch)return source_text.substring(start,pos)}return source_text.substring(start,pos)+ch}function lookBack(str){return source_text.substring(pos-str.length,pos).toLowerCase()===str}function foundNestedPseudoClass(){for(var openParen=0,i=pos+1;i<source_text.length;i++){var ch=source_text.charAt(i);if("{"===ch)return!0;if("("===ch)openParen+=1;else if(")"===ch){if(0===openParen)return!1;openParen-=1}else if(";"===ch||"}"===ch)return!1}return!1}var baseIndentString="",preindent_index=0;if(source_text&&source_text.length){for(;" "===source_text.charAt(preindent_index)||"\t"===source_text.charAt(preindent_index);)preindent_index+=1;baseIndentString=source_text.substring(0,preindent_index),source_text=source_text.substring(preindent_index)}var indentLevel,nestedLevel,output,singleIndent=new Array(indentSize+1).join(indentCharacter);function print_string(output_string){output.just_added_newline()&&output.set_indent(indentLevel),output.add_token(output_string)}function preserveSingleSpace(isAfterSpace){isAfterSpace&&(output.space_before_token=!0)}this.beautify=function(){output=new Output(singleIndent,baseIndentString),pos=-1,ch=null,parenLevel=nestedLevel=indentLevel=0;for(var prev_pos,str,insideRule=!1,insidePropertyValue=!1,enteringConditionalGroup=!1,top_ch="",last_top_ch="";;){var whitespace=skipWhitespace(),isAfterSpace=""!==whitespace,isAfterNewline=-1!==whitespace.indexOf("\n");if(last_top_ch=top_ch,!(top_ch=ch))break;if("/"===ch&&"*"===peek()){var header=0===indentLevel;(isAfterNewline||header)&&output.add_new_line(),print_string(eatComment()),output.add_new_line(),header&&output.add_new_line(!0)}else if("/"===ch&&"/"===peek())isAfterNewline||"{"===last_top_ch||output.trim(!0),output.space_before_token=!0,print_string(eatComment()),output.add_new_line();else if("@"===ch)if(preserveSingleSpace(isAfterSpace),"{"===peek())print_string(eatString("}"));else{print_string(ch);var variableOrRule=(prev_pos=pos,str=eatString(": ,;{}()[]/='\""),pos=prev_pos-1,next(),str);variableOrRule.match(/[ :]$/)&&(next(),print_string(variableOrRule=eatString(": ").replace(/\s$/,"")),output.space_before_token=!0),(variableOrRule=variableOrRule.replace(/\s$/,""))in this.NESTED_AT_RULE&&(nestedLevel+=1,variableOrRule in this.CONDITIONAL_GROUP_RULE&&(enteringConditionalGroup=!0))}else"#"===ch&&"{"===peek()?(preserveSingleSpace(isAfterSpace),print_string(eatString("}"))):"{"===ch?"}"===peek(!0)?(eatWhitespace(),next(),output.space_before_token=!0,print_string("{}"),eatWhitespace(!0)||output.add_new_line(),newlinesFromLastWSEat<2&&newline_between_rules&&0===indentLevel&&output.add_new_line(!0)):(indentLevel++,output.space_before_token=!0,print_string(ch),eatWhitespace(!0)||output.add_new_line(),enteringConditionalGroup?(enteringConditionalGroup=!1,insideRule=nestedLevel<indentLevel):insideRule=nestedLevel<=indentLevel):"}"===ch?(0<indentLevel&&indentLevel--,output.add_new_line(),print_string(ch),insidePropertyValue=insideRule=!1,nestedLevel&&nestedLevel--,eatWhitespace(!0)||output.add_new_line(),newlinesFromLastWSEat<2&&newline_between_rules&&0===indentLevel&&output.add_new_line(!0)):":"===ch?(eatWhitespace(),!insideRule&&!enteringConditionalGroup||lookBack("&")||foundNestedPseudoClass()||lookBack("(")?(lookBack(" ")&&(output.space_before_token=!0),":"===peek()?(next(),print_string("::")):print_string(":")):(print_string(":"),insidePropertyValue||(insidePropertyValue=!0,output.space_before_token=!0))):'"'===ch||"'"===ch?(preserveSingleSpace(isAfterSpace),print_string(eatString(ch))):";"===ch?(insidePropertyValue=!1,print_string(ch),eatWhitespace(!0)||output.add_new_line()):"("===ch?lookBack("url")?(print_string(ch),eatWhitespace(),next()&&(")"!==ch&&'"'!==ch&&"'"!==ch?print_string(eatString(")")):pos--)):(parenLevel++,preserveSingleSpace(isAfterSpace),print_string(ch),eatWhitespace()):")"===ch?(print_string(ch),parenLevel--):","===ch?(print_string(ch),!eatWhitespace(!0)&&selectorSeparatorNewline&&!insidePropertyValue&&parenLevel<1?output.add_new_line():output.space_before_token=!0):(">"===ch||"+"===ch||"~"===ch)&&!insidePropertyValue&&parenLevel<1?space_around_combinator?(output.space_before_token=!0,print_string(ch),output.space_before_token=!0):(print_string(ch),eatWhitespace(),ch&&whiteRe.test(ch)&&(ch="")):"]"===ch?print_string(ch):"["===ch?(preserveSingleSpace(isAfterSpace),print_string(ch)):"="===ch?(eatWhitespace(),print_string("="),whiteRe.test(ch)&&(ch="")):("!"===ch?print_string(" "):preserveSingleSpace(isAfterSpace),print_string(ch))}return output.get_code(end_with_newline,eol)},this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}},function(module,exports){var nonASCIIidentifierStartChars="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");exports.newline=/[\n\r\u2028\u2029]/,exports.lineBreak=new RegExp("\r\n|"+exports.newline.source),exports.allLineBreaks=new RegExp(exports.lineBreak.source,"g"),exports.isIdentifierStart=function(code){return code<65?36===code||64===code:code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifierStart.test(String.fromCharCode(code)))},exports.isIdentifierChar=function(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifier.test(String.fromCharCode(code))))}},function(module,exports){module.exports.mergeOpts=function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}},function(module,exports){module.exports.Output=function Output(indent_string,baseIndentString){baseIndentString=baseIndentString||"",this.indent_cache=[baseIndentString],this.baseIndentLength=baseIndentString.length,this.indent_length=indent_string.length,this.raw=!1;var lines=[];this.baseIndentString=baseIndentString,this.indent_string=indent_string,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function OutputLine(parent){var _character_count=0,_indent_count=-1,_items=[],_empty=!0;this.set_indent=function(level){_character_count=parent.baseIndentLength+level*parent.indent_length,_indent_count=level},this.get_character_count=function(){return _character_count},this.is_empty=function(){return _empty},this.last=function(){return this._empty?null:_items[_items.length-1]},this.push=function(input){_items.push(input),_character_count+=input.length,_empty=!1},this.pop=function(){var item=null;return _empty||(item=_items.pop(),_character_count-=item.length,_empty=0===_items.length),item},this.remove_indent=function(){0<_indent_count&&(_indent_count-=1,_character_count-=parent.indent_length)},this.trim=function(){for(;" "===this.last();)_items.pop(),_character_count-=1;_empty=0===_items.length},this.toString=function(){var result="";return this._empty||(0<=_indent_count&&(result=parent.indent_cache[_indent_count]),result+=_items.join("")),result}}(this),lines.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return lines.length},this.add_new_line=function(force_newline){return!(1===this.get_line_number()&&this.just_added_newline()||!force_newline&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(end_with_newline,eol){var sweet_code=lines.join("\n").replace(/[\r\n\t ]+$/,"");return end_with_newline&&(sweet_code+="\n"),"\n"!==eol&&(sweet_code=sweet_code.replace(/[\n]/g,eol)),sweet_code},this.set_indent=function(level){if(1<lines.length){for(;level>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(level),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(token){for(var x=0;x<token.newlines;x++)this.add_outputline();this.current_line.push(token.whitespace_before),this.current_line.push(token.text),this.space_before_token=!1},this.add_token=function(printable_token){this.add_space_before_token(),this.current_line.push(printable_token)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(index){for(var output_length=lines.length;index<output_length;)lines[index].remove_indent(),index++},this.trim=function(eat_newlines){for(eat_newlines=void 0!==eat_newlines&&eat_newlines,this.current_line.trim(indent_string,baseIndentString);eat_newlines&&1<lines.length&&this.current_line.is_empty();)lines.pop(),this.current_line=lines[lines.length-1],this.current_line.trim();this.previous_line=1<lines.length?lines[lines.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===lines.length||lines[lines.length-2].is_empty())}}},function(module,exports,__webpack_require__){var Beautifier=__webpack_require__(0).Beautifier;module.exports=function css_beautify(source_text,options){return new Beautifier(source_text,options).beautify()}}]),void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return{css_beautify:css_beautify}}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(22)},function(module,exports,__webpack_require__){"use strict";module.exports.encode=__webpack_require__(23),module.exports.decode=__webpack_require__(24),module.exports.format=__webpack_require__(25),module.exports.parse=__webpack_require__(26)},function(module,exports){module.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(module,exports){module.exports=/[\0-\x1F\x7F-\x9F]/},function(module,exports){module.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(module,exports,__webpack_require__){"use strict";var open_tag="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")");module.exports.HTML_TAG_RE=HTML_TAG_RE,module.exports.HTML_OPEN_CLOSE_TAG_RE=HTML_OPEN_CLOSE_TAG_RE},function(module,exports,__webpack_require__){"use strict";module.exports.tokenize=function strikethrough(state,silent){var i,scanned,len,ch,start=state.pos,marker=state.src.charCodeAt(start);if(silent)return!1;if(126!==marker)return!1;if(len=(scanned=state.scanDelims(state.pos,!0)).length,ch=String.fromCharCode(marker),len<2)return!1;for(len%2&&(state.push("text","",0).content=ch,len--),i=0;i<len;i+=2)state.push("text","",0).content=ch+ch,state.delimiters.push({marker:marker,jump:i,token:state.tokens.length-1,level:state.level,end:-1,open:scanned.can_open,close:scanned.can_close});return state.pos+=scanned.length,!0},module.exports.postProcess=function strikethrough(state){var i,j,startDelim,endDelim,token,loneMarkers=[],delimiters=state.delimiters,max=state.delimiters.length;for(i=0;i<max;i++)126===(startDelim=delimiters[i]).marker&&-1!==startDelim.end&&(endDelim=delimiters[startDelim.end],(token=state.tokens[startDelim.token]).type="s_open",token.tag="s",token.nesting=1,token.markup="~~",token.content="",(token=state.tokens[endDelim.token]).type="s_close",token.tag="s",token.nesting=-1,token.markup="~~",token.content="","text"===state.tokens[endDelim.token-1].type&&"~"===state.tokens[endDelim.token-1].content&&loneMarkers.push(endDelim.token-1));for(;loneMarkers.length;){for(j=(i=loneMarkers.pop())+1;j<state.tokens.length&&"s_close"===state.tokens[j].type;)j++;i!==--j&&(token=state.tokens[j],state.tokens[j]=state.tokens[i],state.tokens[i]=token)}}},function(module,exports,__webpack_require__){"use strict";module.exports.tokenize=function emphasis(state,silent){var i,scanned,start=state.pos,marker=state.src.charCodeAt(start);if(silent)return!1;if(95!==marker&&42!==marker)return!1;for(scanned=state.scanDelims(state.pos,42===marker),i=0;i<scanned.length;i++)state.push("text","",0).content=String.fromCharCode(marker),state.delimiters.push({marker:marker,length:scanned.length,jump:i,token:state.tokens.length-1,level:state.level,end:-1,open:scanned.can_open,close:scanned.can_close});return state.pos+=scanned.length,!0},module.exports.postProcess=function emphasis(state){var i,startDelim,endDelim,token,ch,isStrong,delimiters=state.delimiters;for(i=state.delimiters.length-1;0<=i;i--)95!==(startDelim=delimiters[i]).marker&&42!==startDelim.marker||-1!==startDelim.end&&(endDelim=delimiters[startDelim.end],isStrong=0<i&&delimiters[i-1].end===startDelim.end+1&&delimiters[i-1].token===startDelim.token-1&&delimiters[startDelim.end+1].token===endDelim.token+1&&delimiters[i-1].marker===startDelim.marker,ch=String.fromCharCode(startDelim.marker),(token=state.tokens[startDelim.token]).type=isStrong?"strong_open":"em_open",token.tag=isStrong?"strong":"em",token.nesting=1,token.markup=isStrong?ch+ch:ch,token.content="",(token=state.tokens[endDelim.token]).type=isStrong?"strong_close":"em_close",token.tag=isStrong?"strong":"em",token.nesting=-1,token.markup=isStrong?ch+ch:ch,token.content="",isStrong&&(state.tokens[delimiters[i-1].token].content="",state.tokens[delimiters[startDelim.end+1].token].content="",i--))}},function(module,exports,__webpack_require__){(function(setImmediate){!function(){"use strict";var pIndexOf,webkit,ie,ie11,ie12,gecko,mac,iDevice,android,fileApi,phone,tablet,windowsPhone,constant=function(value){return function(){return value}},$_dree2x6jdud76bv={noop:function(){},noarg:function(f){return function(){return f()}},compose:function(fa,fb){return function(){return fa(fb.apply(null,arguments))}},constant:constant,identity:function(x){return x},tripleEquals:function(a,b){return a===b},curry:function(f){for(var args=new Array(arguments.length-1),i=1;i<arguments.length;i++)args[i-1]=arguments[i];return function(){for(var newArgs=new Array(arguments.length),j=0;j<newArgs.length;j++)newArgs[j]=arguments[j];var all=args.concat(newArgs);return f.apply(null,all)}},not:function(f){return function(){return!f.apply(null,arguments)}},die:function(msg){return function(){throw new Error(msg)}},apply:function(f){return f()},call:function(f){f()},never:constant(!1),always:constant(!0)},never$1=$_dree2x6jdud76bv.never,always$1=$_dree2x6jdud76bv.always,none=function(){return NONE},NONE=function(){var eq=function(o){return o.isNone()},call=function(thunk){return thunk()},id=function(n){return n},me={fold:function(n,s){return n()},is:never$1,isSome:never$1,isNone:always$1,getOr:id,getOrThunk:call,getOrDie:function(msg){throw new Error(msg||"error: getOrDie called on none.")},or:id,orThunk:call,map:none,ap:none,each:function(){},bind:none,flatten:none,exists:never$1,forall:always$1,filter:none,equals:eq,equals_:eq,toArray:function(){return[]},toString:$_dree2x6jdud76bv.constant("none()")};return Object.freeze&&Object.freeze(me),me}(),some=function(a){var constant_a=function(){return a},self=function(){return me},bind=function(f){return f(a)},me={fold:function(n,s){return s(a)},is:function(v){return a===v},isSome:always$1,isNone:never$1,getOr:constant_a,getOrThunk:constant_a,getOrDie:constant_a,or:self,orThunk:self,map:function(f){return some(f(a))},ap:function(optfab){return optfab.fold(none,function(fab){return some(fab(a))})},each:function(f){f(a)},bind:bind,flatten:constant_a,exists:bind,forall:bind,filter:function(f){return f(a)?me:NONE},equals:function(o){return o.is(a)},equals_:function(o,elementEq){return o.fold(never$1,function(b){return elementEq(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return me},Option={some:some,none:none,from:function(value){return null==value?NONE:some(value)}},rawIndexOf=void 0===(pIndexOf=Array.prototype.indexOf)?function(xs,x){return slowIndexOf(xs,x)}:function(xs,x){return pIndexOf.call(xs,x)},contains=function(xs,x){return-1<rawIndexOf(xs,x)},map=function(xs,f){for(var len=xs.length,r=new Array(len),i=0;i<len;i++){var x=xs[i];r[i]=f(x,i,xs)}return r},each=function(xs,f){for(var i=0,len=xs.length;i<len;i++)f(xs[i],i,xs)},eachr=function(xs,f){for(var i=xs.length-1;0<=i;i--)f(xs[i],i,xs)},filter=function(xs,pred){for(var r=[],i=0,len=xs.length;i<len;i++){var x=xs[i];pred(x,i,xs)&&r.push(x)}return r},findIndex=function(xs,pred){for(var i=0,len=xs.length;i<len;i++)if(pred(xs[i],i,xs))return Option.some(i);return Option.none()},slowIndexOf=function(xs,x){for(var i=0,len=xs.length;i<len;++i)if(xs[i]===x)return i;return-1},push=Array.prototype.push,flatten=function(xs){for(var r=[],i=0,len=xs.length;i<len;++i){if(!Array.prototype.isPrototypeOf(xs[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+xs);push.apply(r,xs[i])}return r},forall=function(xs,pred){for(var i=0,len=xs.length;i<len;++i)if(!0!==pred(xs[i],i,xs))return!1;return!0},slice=Array.prototype.slice,$_2rdhjp4jdud76b1={map:map,each:each,eachr:eachr,partition:function(xs,pred){for(var pass=[],fail=[],i=0,len=xs.length;i<len;i++){var x=xs[i];(pred(x,i,xs)?pass:fail).push(x)}return{pass:pass,fail:fail}},filter:filter,groupBy:function(xs,f){if(0===xs.length)return[];for(var wasType=f(xs[0]),r=[],group=[],i=0,len=xs.length;i<len;i++){var x=xs[i],type=f(x);type!==wasType&&(r.push(group),group=[]),wasType=type,group.push(x)}return 0!==group.length&&r.push(group),r},indexOf:function(xs,x){var r=rawIndexOf(xs,x);return-1===r?Option.none():Option.some(r)},foldr:function(xs,f,acc){return eachr(xs,function(x){acc=f(acc,x)}),acc},foldl:function(xs,f,acc){return each(xs,function(x){acc=f(acc,x)}),acc},find:function(xs,pred){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs))return Option.some(x)}return Option.none()},findIndex:findIndex,flatten:flatten,bind:function(xs,f){var output=map(xs,f);return flatten(output)},forall:forall,exists:function(xs,pred){return findIndex(xs,pred).isSome()},contains:contains,equal:function(a1,a2){return a1.length===a2.length&&forall(a1,function(x,i){return x===a2[i]})},reverse:function(xs){var r=slice.call(xs,0);return r.reverse(),r},chunk:function(array,size){for(var r=[],i=0;i<array.length;i+=size){var s=array.slice(i,i+size);r.push(s)}return r},difference:function(a1,a2){return filter(a1,function(x){return!contains(a2,x)})},mapToObject:function(xs,f){for(var r={},i=0,len=xs.length;i<len;i++){var x=xs[i];r[String(x)]=f(x,i)}return r},pure:function(x){return[x]},sort:function(xs,comparator){var copy=slice.call(xs,0);return copy.sort(comparator),copy},range:function(num,f){for(var r=[],i=0;i<num;i++)r.push(f(i));return r},head:function(xs){return 0===xs.length?Option.none():Option.some(xs[0])},last:function(xs){return 0===xs.length?Option.none():Option.some(xs[xs.length-1])}},global="undefined"!=typeof window?window:Function("return this;")(),path=function(parts,scope){for(var o=null!=scope?scope:global,i=0;i<parts.length&&null!=o;++i)o=o[parts[i]];return o},$_491o60cjdud76fc_resolve=function(p,scope){var parts=p.split(".");return path(parts,scope)},$_96qifmbjdud76f9={getOrDie:function(name,scope){var actual=function(name,scope){return $_491o60cjdud76fc_resolve(name,scope)}(name,scope);if(null==actual)throw name+" not available on this browser";return actual}},url=function(){return $_96qifmbjdud76f9.getOrDie("URL")},$_4yql4bajdud76f8={createObjectURL:function(blob){return url().createObjectURL(blob)},revokeObjectURL:function(u){url().revokeObjectURL(u)}},nav=navigator,userAgent=nav.userAgent,matchMediaQuery=function(query){return"matchMedia"in window&&matchMedia(query).matches};android=/Android/.test(userAgent),ie=(ie=!(webkit=/WebKit/.test(userAgent))&&/MSIE/gi.test(userAgent)&&/Explorer/gi.test(nav.appName))&&/MSIE (\w+)\./.exec(userAgent)[1],ie11=-1!==userAgent.indexOf("Trident/")&&(-1!==userAgent.indexOf("rv:")||-1!==nav.appName.indexOf("Netscape"))&&11,ie12=-1!==userAgent.indexOf("Edge/")&&!ie&&!ie11&&12,ie=ie||ie11||ie12,gecko=!webkit&&!ie11&&/Gecko/.test(userAgent),mac=-1!==userAgent.indexOf("Mac"),iDevice=/(iPad|iPhone)/.test(userAgent),fileApi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!$_4yql4bajdud76f8.createObjectURL,phone=matchMediaQuery("only screen and (max-device-width: 480px)")&&(android||iDevice),tablet=matchMediaQuery("only screen and (min-width: 800px)")&&(android||iDevice),windowsPhone=-1!==userAgent.indexOf("Windows Phone"),ie12&&(webkit=!1);var requestAnimationFramePromise,i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document$1,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,contains$1,$_3faz499jdud76f2={opera:!1,webkit:webkit,ie:ie,gecko:gecko,mac:mac,iOS:iDevice,android:android,contentEditable:!iDevice||fileApi||534<=parseInt(userAgent.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==ie,range:window.getSelection&&"Range"in window,documentMode:ie&&!ie12?document.documentMode||7:10,fileApi:fileApi,ceFalse:!1===ie||8<ie,cacheSuffix:"",container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===ie||11<ie,desktop:!phone&&!tablet,windowsPhone:windowsPhone},promiseObj=window.Promise?window.Promise:function(){function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}var isArray=Array.isArray||function(value){return"[object Array]"===Object.prototype.toString.call(value)},Promise=function(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],doResolve(fn,bind(resolve,this),bind(reject,this))},asap=Promise.immediateFn||"function"==typeof setImmediate&&setImmediate||function(fn){setTimeout(fn,1)};function handle(deferred){var me=this;null!==this._state?asap(function(){var cb=me._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){var ret;try{ret=cb(me._value)}catch(e){return void deferred.reject(e)}deferred.resolve(ret)}else(me._state?deferred.resolve:deferred.reject)(me._value)}):this._deferreds.push(deferred)}function resolve(newValue){try{if(newValue===this)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if("function"==typeof then)return void doResolve(bind(then,newValue),bind(resolve,this),bind(reject,this))}this._state=!0,this._value=newValue,finale.call(this)}catch(e){reject.call(this,e)}}function reject(newValue){this._state=!1,this._value=newValue,finale.call(this)}function finale(){for(var i=0,len=this._deferreds.length;i<len;i++)handle.call(this,this._deferreds[i]);this._deferreds=null}function doResolve(fn,onFulfilled,onRejected){var done=!1;try{fn(function(value){done||(done=!0,onFulfilled(value))},function(reason){done||(done=!0,onRejected(reason))})}catch(ex){if(done)return;done=!0,onRejected(ex)}}return Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var me=this;return new Promise(function(resolve,reject){handle.call(me,new function Handler(onFulfilled,onRejected,resolve,reject){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.resolve=resolve,this.reject=reject}(onFulfilled,onRejected,resolve,reject))})},Promise.all=function(){var args=Array.prototype.slice.call(1===arguments.length&&isArray(arguments[0])?arguments[0]:arguments);return new Promise(function(resolve,reject){if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])})},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++)values[i].then(resolve,reject)})},Promise}(),wrappedSetTimeout=function(callback,time){return"number"!=typeof time&&(time=0),setTimeout(callback,time)},wrappedSetInterval=function(callback,time){return"number"!=typeof time&&(time=1),setInterval(callback,time)},debounce=function(callback,time){var timer,func;return(func=function(){var args=arguments;clearTimeout(timer),timer=wrappedSetTimeout(function(){callback.apply(this,args)},time)}).stop=function(){clearTimeout(timer)},func},$_8b7b3gjdud76ig={requestAnimationFrame:function(callback,element){requestAnimationFramePromise?requestAnimationFramePromise.then(callback):requestAnimationFramePromise=new promiseObj(function(resolve){element||(element=document.body),function(callback,element){var i,requestAnimationFrameFunc=window.requestAnimationFrame,vendors=["ms","moz","webkit"];for(i=0;i<vendors.length&&!requestAnimationFrameFunc;i++)requestAnimationFrameFunc=window[vendors[i]+"RequestAnimationFrame"];requestAnimationFrameFunc||(requestAnimationFrameFunc=function(callback){window.setTimeout(callback,0)}),requestAnimationFrameFunc(callback,element)}(resolve,element)}).then(callback)},setTimeout:wrappedSetTimeout,setInterval:wrappedSetInterval,setEditorTimeout:function(editor,callback,time){return wrappedSetTimeout(function(){editor.removed||callback()},time)},setEditorInterval:function(editor,callback,time){var timer;return timer=wrappedSetInterval(function(){editor.removed?clearInterval(timer):callback()},time)},debounce:debounce,throttle:debounce,clearInterval:function(id){return clearInterval(id)},clearTimeout:function(id){return clearTimeout(id)}},mouseEventRe=/^(?:mouse|contextmenu)|click/,deprecated={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},returnFalse=function(){return!1},returnTrue=function(){return!0},addEvent=function(target,name,callback,capture){target.addEventListener?target.addEventListener(name,callback,capture||!1):target.attachEvent&&target.attachEvent("on"+name,callback)},removeEvent=function(target,name,callback,capture){target.removeEventListener?target.removeEventListener(name,callback,capture||!1):target.detachEvent&&target.detachEvent("on"+name,callback)},fix=function(originalEvent,data){var name,event=data||{};for(name in originalEvent)deprecated[name]||(event[name]=originalEvent[name]);if(event.target||(event.target=event.srcElement||document),$_3faz499jdud76f2.experimentalShadowDom&&(event.target=function(event,defaultTarget){var path,target=defaultTarget;return(path=event.path)&&0<path.length&&(target=path[0]),event.composedPath&&(path=event.composedPath())&&0<path.length&&(target=path[0]),target}(originalEvent,event.target)),originalEvent&&mouseEventRe.test(originalEvent.type)&&void 0===originalEvent.pageX&&void 0!==originalEvent.clientX){var eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body;event.pageX=originalEvent.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=originalEvent.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}return event.preventDefault=function(){event.isDefaultPrevented=returnTrue,originalEvent&&(originalEvent.preventDefault?originalEvent.preventDefault():originalEvent.returnValue=!1)},event.stopPropagation=function(){event.isPropagationStopped=returnTrue,originalEvent&&(originalEvent.stopPropagation?originalEvent.stopPropagation():originalEvent.cancelBubble=!0)},event.stopImmediatePropagation=function(){event.isImmediatePropagationStopped=returnTrue,event.stopPropagation()},!1===function(event){return event.isDefaultPrevented===returnTrue||event.isDefaultPrevented===returnFalse}(event)&&(event.isDefaultPrevented=returnFalse,event.isPropagationStopped=returnFalse,event.isImmediatePropagationStopped=returnFalse),void 0===event.metaKey&&(event.metaKey=!1),event},bindOnReady=function(win,callback,eventUtils){var doc=win.document,event={type:"ready"};if(eventUtils.domLoaded)callback(event);else{var isDocReady=function(){return"complete"===doc.readyState||"interactive"===doc.readyState&&doc.body},readyHandler=function(){eventUtils.domLoaded||(eventUtils.domLoaded=!0,callback(event))},waitForDomLoaded=function(){isDocReady()&&(removeEvent(doc,"readystatechange",waitForDomLoaded),readyHandler())},tryScroll=function(){try{doc.documentElement.doScroll("left")}catch(ex){return void $_8b7b3gjdud76ig.setTimeout(tryScroll)}readyHandler()};!doc.addEventListener||$_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<11?(addEvent(doc,"readystatechange",waitForDomLoaded),doc.documentElement.doScroll&&win.self===win.top&&tryScroll()):isDocReady()?readyHandler():addEvent(win,"DOMContentLoaded",readyHandler),addEvent(win,"load",readyHandler)}},EventUtils=function(){var count,expando,hasFocusIn,hasMouseEnterLeave,mouseEnterLeave,self=this,events={};expando="mce-data-"+(+new Date).toString(32),hasMouseEnterLeave="onmouseenter"in document.documentElement,hasFocusIn="onfocusin"in document.documentElement,mouseEnterLeave={mouseenter:"mouseover",mouseleave:"mouseout"},count=1,self.domLoaded=!1,self.events=events;var executeHandlers=function(evt,id){var callbackList,i,l,callback,container=events[id];if(callbackList=container&&container[evt.type])for(i=0,l=callbackList.length;i<l;i++)if((callback=callbackList[i])&&!1===callback.func.call(callback.scope,evt)&&evt.preventDefault(),evt.isImmediatePropagationStopped())return};self.bind=function(target,names,callback,scope){var id,callbackList,i,name,fakeName,nativeHandler,capture,win=window,defaultNativeHandler=function(evt){executeHandlers(fix(evt||win.event),id)};if(target&&3!==target.nodeType&&8!==target.nodeType){for(target[expando]?id=target[expando]:(id=count++,target[expando]=id,events[id]={}),scope=scope||target,i=(names=names.split(" ")).length;i--;)nativeHandler=defaultNativeHandler,fakeName=capture=!1,"DOMContentLoaded"===(name=names[i])&&(name="ready"),self.domLoaded&&"ready"===name&&"complete"===target.readyState?callback.call(scope,fix({type:name})):(hasMouseEnterLeave||(fakeName=mouseEnterLeave[name])&&(nativeHandler=function(evt){var current,related;if(current=evt.currentTarget,(related=evt.relatedTarget)&&current.contains)related=current.contains(related);else for(;related&&related!==current;)related=related.parentNode;related||((evt=fix(evt||win.event)).type="mouseout"===evt.type?"mouseleave":"mouseenter",evt.target=current,executeHandlers(evt,id))}),hasFocusIn||"focusin"!==name&&"focusout"!==name||(capture=!0,fakeName="focusin"===name?"focus":"blur",nativeHandler=function(evt){(evt=fix(evt||win.event)).type="focus"===evt.type?"focusin":"focusout",executeHandlers(evt,id)}),(callbackList=events[id][name])?"ready"===name&&self.domLoaded?callback({type:name}):callbackList.push({func:callback,scope:scope}):(events[id][name]=callbackList=[{func:callback,scope:scope}],callbackList.fakeName=fakeName,callbackList.capture=capture,callbackList.nativeHandler=nativeHandler,"ready"===name?bindOnReady(target,nativeHandler,self):addEvent(target,fakeName||name,nativeHandler,capture)));return target=callbackList=0,callback}},self.unbind=function(target,names,callback){var id,callbackList,i,ci,name,eventMap;if(!target||3===target.nodeType||8===target.nodeType)return self;if(id=target[expando]){if(eventMap=events[id],names){for(i=(names=names.split(" ")).length;i--;)if(callbackList=eventMap[name=names[i]]){if(callback)for(ci=callbackList.length;ci--;)if(callbackList[ci].func===callback){var nativeHandler=callbackList.nativeHandler,fakeName=callbackList.fakeName,capture=callbackList.capture;(callbackList=callbackList.slice(0,ci).concat(callbackList.slice(ci+1))).nativeHandler=nativeHandler,callbackList.fakeName=fakeName,callbackList.capture=capture,eventMap[name]=callbackList}callback&&0!==callbackList.length||(delete eventMap[name],removeEvent(target,callbackList.fakeName||name,callbackList.nativeHandler,callbackList.capture))}}else{for(name in eventMap)callbackList=eventMap[name],removeEvent(target,callbackList.fakeName||name,callbackList.nativeHandler,callbackList.capture);eventMap={}}for(name in eventMap)return self;delete events[id];try{delete target[expando]}catch(ex){target[expando]=null}}return self},self.fire=function(target,name,args){var id;if(!target||3===target.nodeType||8===target.nodeType)return self;for((args=fix(null,args)).type=name,args.target=target;(id=target[expando])&&executeHandlers(args,id),(target=target.parentNode||target.ownerDocument||target.defaultView||target.parentWindow)&&!args.isPropagationStopped(););return self},self.clean=function(target){var i,children,unbind=self.unbind;if(!target||3===target.nodeType||8===target.nodeType)return self;if(target[expando]&&unbind(target),target.getElementsByTagName||(target=target.document),target&&target.getElementsByTagName)for(unbind(target),i=(children=target.getElementsByTagName("*")).length;i--;)(target=children[i])[expando]&&unbind(target);return self},self.destroy=function(){events={}},self.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};(EventUtils.Event=new EventUtils).bind(window,"ready",function(){});var expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},strundefined="undefined",MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push$1=arr.push,slice$1=arr.slice,indexOf$1=arr.indexOf||function(elem){for(var i=0,len=this.length;i<len;i++)if(this[i]===elem)return i;return-1},whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push$1.apply(arr=slice$1.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push$1={apply:arr.length?function(target,els){push_native.apply(target,slice$1.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}var Sizzle=function(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document$1&&setDocument(context),results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=(context=context||document$1).nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m))||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains$1(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push$1.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName)return push$1.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push$1.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)};function createCache(){var keys=[];return function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}}function markFunction(fn){return fn[expando]=!0,fn}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){return"input"===elem.nodeName.toLowerCase()&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}for(i in support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return!!documentElement&&"HTML"!==documentElement.nodeName},setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;return doc!==document$1&&9===doc.nodeType&&doc.documentElement?(docElem=(document$1=doc).documentElement,documentIsHTML=!isXML(doc),parent&&parent!==function getTop(win){try{return win.top}catch(ex){}return null}(parent)&&(parent.addEventListener?parent.addEventListener("unload",function(){setDocument()},!1):parent.attachEvent&&parent.attachEvent("onunload",function(){setDocument()})),support.attributes=!0,support.getElementsByTagName=!0,support.getElementsByClassName=rnative.test(doc.getElementsByClassName),support.getById=!0,Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}},Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined)return context.getElementsByTagName(tag)}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(documentIsHTML)return context.getElementsByClassName(className)},rbuggyMatches=[],rbuggyQSA=[],support.disconnectedMatch=!0,rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains$1=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare||(1&(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains$1(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains$1(preferredDoc,b)?1:sortInput?indexOf$1.call(sortInput,a)-indexOf$1.call(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf$1.call(sortInput,a)-indexOf$1.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document$1},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document$1&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=(void 0).call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return 0<Sizzle(expr,document$1,null,[elem]).length},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document$1&&setDocument(context),contains$1(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document$1&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},(Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:!operator||(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&-1<result.indexOf(check):"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?-1<(" "+result+" ").indexOf(check):"|="===operator&&(result===check||result.slice(0,check.length+1)===check+"-"))}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(nodeIndex=(cache=(outerCache=parent[expando]||(parent[expando]={}))[type]||[])[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return(diff-=last)===first||diff%first==0&&0<=diff/first}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):1<fn.length?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)seed[idx=indexOf$1.call(seed,matched[i])]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return 0<Sizzle(selector,elem).length}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return-1<(elem.textContent||elem.innerText||getText(elem)).indexOf(text)}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return(elemLang=elemLang.toLowerCase())===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document$1.activeElement&&(!document$1.hasFocus||document$1.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return!1===elem.disabled},disabled:function(elem){return!0===elem.disabled},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,!0===elem.selected},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;0<=--i;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}}).pseudos.nth=Expr.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";i<len;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if((oldCache=(outerCache=elem[expando]||(elem[expando]={}))[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if((outerCache[dir]=newCache)[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return 1<matchers.length?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;i<len;i++)(elem=unmatched[i])&&(filter&&!filter(elem,context,xml)||(newUnmatched.push(elem),mapped&&map.push(i)));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;i<len;i++)Sizzle(selector,contexts[i],results);return results}(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&-1<(temp=postFinder?indexOf$1.call(seed,elem):preMap[i])&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push$1.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return-1<indexOf$1.call(checkContext,elem)},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];i<len;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if((matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches))[expando]){for(j=++i;j<len&&!Expr.relative[tokens[j].type];j++);return setMatcher(1<i&&elementMatcher(matchers),1<i&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){for(type in matched&&!(match=rcomma.exec(soFar))||(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length)),Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)(cached=matcherFromTokens(match[i]))[expando]?setMatchers.push(cached):elementMatchers.push(cached);(cached=compilerCache(selector,function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=0<setMatchers.length,byElement=0<elementMatchers.length,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document$1&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(0<matchedCount)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push$1.apply(results,setMatched),outermost&&!seed&&0<setMatched.length&&1<matchedCount+setMatchers.length&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}(elementMatchers,setMatchers))).selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(2<(tokens=match[0]=match[0].slice(0)).length&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(!(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0]))return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),!(selector=seed.length&&toSelector(tokens)))return push$1.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=!0;var isArray=Array.isArray||function(obj){return"[object Array]"===Object.prototype.toString.call(obj)},each$1=function(o,cb,s){var n,l;if(!o)return 0;if(s=s||o,void 0!==o.length){for(n=0,l=o.length;n<l;n++)if(!1===cb.call(s,o[n],n,o))return 0}else for(n in o)if(o.hasOwnProperty(n)&&!1===cb.call(s,o[n],n,o))return 0;return 1},findIndex$1=function(array,predicate,thisArg){var i,l;for(i=0,l=array.length;i<l;i++)if(predicate.call(thisArg,array[i],i,array))return i;return-1},$_bimkbokjdud76lk={isArray:isArray,toArray:function(obj){var i,l,array=obj;if(!isArray(obj))for(array=[],i=0,l=obj.length;i<l;i++)array[i]=obj[i];return array},each:each$1,map:function(array,callback){var out=[];return each$1(array,function(item,index){out.push(callback(item,index,array))}),out},filter:function(a,f){var o=[];return each$1(a,function(v,index){f&&!f(v,index,a)||o.push(v)}),o},indexOf:function(a,v){var i,l;if(a)for(i=0,l=a.length;i<l;i++)if(a[i]===v)return i;return-1},reduce:function(collection,iteratee,accumulator,thisArg){var i=0;for(arguments.length<3&&(accumulator=collection[0]);i<collection.length;i++)accumulator=iteratee.call(thisArg,accumulator,collection[i],i);return accumulator},findIndex:findIndex$1,find:function(array,predicate,thisArg){var idx=findIndex$1(array,predicate,thisArg);if(-1!==idx)return array[idx]},last:function(collection){return collection[collection.length-1]}},whiteSpaceRegExp=/^\s*|\s*$/g,trim=function(str){return null==str?"":(""+str).replace(whiteSpaceRegExp,"")},is=function(obj,type){return type?!("array"!==type||!$_bimkbokjdud76lk.isArray(obj))||typeof obj===type:void 0!==obj},walk=function(o,f,n,s){s=s||this,o&&(n&&(o=o[n]),$_bimkbokjdud76lk.each(o,function(o,i){if(!1===f.call(s,o,i,n))return!1;walk(o,f,n,s)}))},$_1qam7ujjdud76lb={trim:trim,isArray:$_bimkbokjdud76lk.isArray,is:is,toArray:$_bimkbokjdud76lk.toArray,makeMap:function(items,delim,map){var i;for(delim=delim||",","string"==typeof(items=items||[])&&(items=items.split(delim)),map=map||{},i=items.length;i--;)map[items[i]]={};return map},each:$_bimkbokjdud76lk.each,map:$_bimkbokjdud76lk.map,grep:$_bimkbokjdud76lk.filter,inArray:$_bimkbokjdud76lk.indexOf,hasOwn:function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},extend:function(obj,ext){for(var i,l,name,x=[],_i=2;_i<arguments.length;_i++)x[_i-2]=arguments[_i];var value,args=arguments;for(i=1,l=args.length;i<l;i++)for(name in ext=args[i])ext.hasOwnProperty(name)&&void 0!==(value=ext[name])&&(obj[name]=value);return obj},create:function(s,p,root){var sp,ns,cn,scn,c,de=0;if(s=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(s),cn=s[3].match(/(^|\.)(\w+)$/i)[2],!(ns=this.createNS(s[3].replace(/\.\w+$/,""),root))[cn]){if("static"===s[2])return ns[cn]=p,void(this.onCreate&&this.onCreate(s[2],s[3],ns[cn]));p[cn]||(p[cn]=function(){},de=1),ns[cn]=p[cn],this.extend(ns[cn].prototype,p),s[5]&&(sp=this.resolve(s[5]).prototype,scn=s[5].match(/\.(\w+)$/i)[1],c=ns[cn],ns[cn]=de?function(){return sp[scn].apply(this,arguments)}:function(){return this.parent=sp[scn],c.apply(this,arguments)},ns[cn].prototype[cn]=ns[cn],this.each(sp,function(f,n){ns[cn].prototype[n]=sp[n]}),this.each(p,function(f,n){sp[n]?ns[cn].prototype[n]=function(){return this.parent=sp[n],f.apply(this,arguments)}:n!==cn&&(ns[cn].prototype[n]=f)})),this.each(p.static,function(f,n){ns[cn][n]=f})}},walk:walk,createNS:function(n,o){var i,v;for(o=o||window,n=n.split("."),i=0;i<n.length;i++)o[v=n[i]]||(o[v]={}),o=o[v];return o},resolve:function(n,o){var i,l;for(o=o||window,i=0,l=(n=n.split(".")).length;i<l&&(o=o[n[i]]);i++);return o},explode:function(s,d){return!s||is(s,"array")?s:$_bimkbokjdud76lk.map(s.split(d||","),trim)},_addCacheSuffix:function(url){var cacheSuffix=$_3faz499jdud76f2.cacheSuffix;return cacheSuffix&&(url+=(-1===url.indexOf("?")?"?":"&")+cacheSuffix),url}},doc=document,push$2=Array.prototype.push,slice$2=Array.prototype.slice,rquickExpr$1=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Event=EventUtils.Event,skipUniques=$_1qam7ujjdud76lb.makeMap("children,contents,next,prev"),isDefined=function(obj){return void 0!==obj},isString=function(obj){return"string"==typeof obj},createFragment=function(html,fragDoc){var frag,node,container;for(container=(fragDoc=fragDoc||doc).createElement("div"),frag=fragDoc.createDocumentFragment(),container.innerHTML=html;node=container.firstChild;)frag.appendChild(node);return frag},domManipulate=function(targetNodes,sourceItem,callback,reverse){var i;if(isString(sourceItem))sourceItem=createFragment(sourceItem,getElementDocument(targetNodes[0]));else if(sourceItem.length&&!sourceItem.nodeType){if(sourceItem=DomQuery.makeArray(sourceItem),reverse)for(i=sourceItem.length-1;0<=i;i--)domManipulate(targetNodes,sourceItem[i],callback,reverse);else for(i=0;i<sourceItem.length;i++)domManipulate(targetNodes,sourceItem[i],callback,reverse);return targetNodes}if(sourceItem.nodeType)for(i=targetNodes.length;i--;)callback.call(targetNodes[i],sourceItem);return targetNodes},hasClass=function(node,className){return node&&className&&-1!==(" "+node.className+" ").indexOf(" "+className+" ")},wrap=function(elements,wrapper,all){var lastParent,newWrapper;return wrapper=DomQuery(wrapper)[0],elements.each(function(){all&&lastParent===this.parentNode||(lastParent=this.parentNode,newWrapper=wrapper.cloneNode(!1),this.parentNode.insertBefore(newWrapper,this)),newWrapper.appendChild(this)}),elements},numericCssMap=$_1qam7ujjdud76lb.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),booleanMap=$_1qam7ujjdud76lb.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),propFix={for:"htmlFor",class:"className",readonly:"readOnly"},cssFix={float:"cssFloat"},attrHooks={},cssHooks={},DomQuery=function(selector,context){return new DomQuery.fn.init(selector,context)},whiteSpaceRegExp$1=/^\s*|\s*$/g,trim$1=function(str){return null==str?"":(""+str).replace(whiteSpaceRegExp$1,"")},each$2=function(obj,callback){var length,key,i,value;if(obj)if(void 0===(length=obj.length)){for(key in obj)if(obj.hasOwnProperty(key)&&(value=obj[key],!1===callback.call(value,key,value)))break}else for(i=0;i<length&&(value=obj[i],!1!==callback.call(value,i,value));i++);return obj},grep=function(array,callback){var out=[];return each$2(array,function(i,item){callback(item,i)&&out.push(item)}),out},getElementDocument=function(element){return element?9===element.nodeType?element:element.ownerDocument:doc};DomQuery.fn=DomQuery.prototype={constructor:DomQuery,selector:"",context:null,length:0,init:function(selector,context){var match,node;if(!selector)return this;if(selector.nodeType)return this.context=this[0]=selector,this.length=1,this;if(context&&context.nodeType)this.context=context;else{if(context)return DomQuery(selector).attr(context);this.context=context=document}if(isString(selector)){if(!(match="<"===(this.selector=selector).charAt(0)&&">"===selector.charAt(selector.length-1)&&3<=selector.length?[null,selector,null]:rquickExpr$1.exec(selector)))return DomQuery(context).find(selector);if(match[1])for(node=createFragment(selector,getElementDocument(context)).firstChild;node;)push$2.call(this,node),node=node.nextSibling;else{if(!(node=getElementDocument(context).getElementById(match[2])))return this;if(node.id!==match[2])return this.find(selector);this.length=1,this[0]=node}}else this.add(selector,!1);return this},toArray:function(){return $_1qam7ujjdud76lb.toArray(this)},add:function(items,sort){var nodes,i;if(isString(items))return this.add(DomQuery(items));if(!1!==sort)for(nodes=DomQuery.unique(this.toArray().concat(DomQuery.makeArray(items))),this.length=nodes.length,i=0;i<nodes.length;i++)this[i]=nodes[i];else push$2.apply(this,DomQuery.makeArray(items));return this},attr:function(name,value){var hook,self=this;if("object"==typeof name)each$2(name,function(name,value){self.attr(name,value)});else{if(!isDefined(value)){if(self[0]&&1===self[0].nodeType){if((hook=attrHooks[name])&&hook.get)return hook.get(self[0],name);if(booleanMap[name])return self.prop(name)?name:void 0;null===(value=self[0].getAttribute(name,2))&&(value=void 0)}return value}this.each(function(){var hook;if(1===this.nodeType){if((hook=attrHooks[name])&&hook.set)return void hook.set(this,value);null===value?this.removeAttribute(name,2):this.setAttribute(name,value,2)}})}return self},removeAttr:function(name){return this.attr(name,null)},prop:function(name,value){var self=this;if("object"==typeof(name=propFix[name]||name))each$2(name,function(name,value){self.prop(name,value)});else{if(!isDefined(value))return self[0]&&self[0].nodeType&&name in self[0]?self[0][name]:value;this.each(function(){1===this.nodeType&&(this[name]=value)})}return self},css:function(name,value){var elm,hook,self=this,camel=function(name){return name.replace(/-(\D)/g,function(a,b){return b.toUpperCase()})},dashed=function(name){return name.replace(/[A-Z]/g,function(a){return"-"+a})};if("object"==typeof name)each$2(name,function(name,value){self.css(name,value)});else if(isDefined(value))name=camel(name),"number"!=typeof value||numericCssMap[name]||(value=value.toString()+"px"),self.each(function(){var style=this.style;if((hook=cssHooks[name])&&hook.set)hook.set(this,value);else{try{this.style[cssFix[name]||name]=value}catch(ex){}null!==value&&""!==value||(style.removeProperty?style.removeProperty(dashed(name)):style.removeAttribute(name))}});else{if(elm=self[0],(hook=cssHooks[name])&&hook.get)return hook.get(elm);if(elm.ownerDocument.defaultView)try{return elm.ownerDocument.defaultView.getComputedStyle(elm,null).getPropertyValue(dashed(name))}catch(ex){return}else if(elm.currentStyle)return elm.currentStyle[camel(name)]}return self},remove:function(){for(var node,i=this.length;i--;)node=this[i],Event.clean(node),node.parentNode&&node.parentNode.removeChild(node);return this},empty:function(){for(var node,i=this.length;i--;)for(node=this[i];node.firstChild;)node.removeChild(node.firstChild);return this},html:function(value){var i,self=this;if(isDefined(value)){i=self.length;try{for(;i--;)self[i].innerHTML=value}catch(ex){DomQuery(self[i]).empty().append(value)}return self}return self[0]?self[0].innerHTML:""},text:function(value){var i;if(isDefined(value)){for(i=this.length;i--;)"innerText"in this[i]?this[i].innerText=value:this[0].textContent=value;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return domManipulate(this,arguments,function(node){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(node)})},prepend:function(){return domManipulate(this,arguments,function(node){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(node,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?domManipulate(this,arguments,function(node){this.parentNode.insertBefore(node,this)}):this},after:function(){return this[0]&&this[0].parentNode?domManipulate(this,arguments,function(node){this.parentNode.insertBefore(node,this.nextSibling)},!0):this},appendTo:function(val){return DomQuery(val).append(this),this},prependTo:function(val){return DomQuery(val).prepend(this),this},replaceWith:function(content){return this.before(content).remove()},wrap:function(content){return wrap(this,content)},wrapAll:function(content){return wrap(this,content,!0)},wrapInner:function(content){return this.each(function(){DomQuery(this).contents().wrapAll(content)}),this},unwrap:function(){return this.parent().each(function(){DomQuery(this).replaceWith(this.childNodes)})},clone:function(){var result=[];return this.each(function(){result.push(this.cloneNode(!0))}),DomQuery(result)},addClass:function(className){return this.toggleClass(className,!0)},removeClass:function(className){return this.toggleClass(className,!1)},toggleClass:function(className,state){var self=this;return"string"!=typeof className||(-1!==className.indexOf(" ")?each$2(className.split(" "),function(){self.toggleClass(this,state)}):self.each(function(index,node){var existingClassName,classState;(classState=hasClass(node,className))!==state&&(existingClassName=node.className,classState?node.className=trim$1((" "+existingClassName+" ").replace(" "+className+" "," ")):node.className+=existingClassName?" "+className:className)})),self},hasClass:function(className){return hasClass(this[0],className)},each:function(callback){return each$2(this,callback)},on:function(name,callback){return this.each(function(){Event.bind(this,name,callback)})},off:function(name,callback){return this.each(function(){Event.unbind(this,name,callback)})},trigger:function(name){return this.each(function(){"object"==typeof name?Event.fire(this,name.type,name):Event.fire(this,name)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new DomQuery(slice$2.apply(this,arguments))},eq:function(index){return-1===index?this.slice(index):this.slice(index,+index+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(selector){var i,l,ret=[];for(i=0,l=this.length;i<l;i++)DomQuery.find(selector,this[i],ret);return DomQuery(ret)},filter:function(selector){return DomQuery("function"==typeof selector?grep(this.toArray(),function(item,i){return selector(i,item)}):DomQuery.filter(selector,this.toArray()))},closest:function(selector){var result=[];return selector instanceof DomQuery&&(selector=selector[0]),this.each(function(i,node){for(;node;){if("string"==typeof selector&&DomQuery(node).is(selector)){result.push(node);break}if(node===selector){result.push(node);break}node=node.parentNode}}),DomQuery(result)},offset:function(offset){var elm,doc,docElm,pos,x=0,y=0;return offset?this.css(offset):((elm=this[0])&&(docElm=(doc=elm.ownerDocument).documentElement,elm.getBoundingClientRect&&(x=(pos=elm.getBoundingClientRect()).left+(docElm.scrollLeft||doc.body.scrollLeft)-docElm.clientLeft,y=pos.top+(docElm.scrollTop||doc.body.scrollTop)-docElm.clientTop)),{left:x,top:y})},push:push$2,sort:[].sort,splice:[].splice},$_1qam7ujjdud76lb.extend(DomQuery,{extend:$_1qam7ujjdud76lb.extend,makeArray:function(object){return(obj=object)&&obj===obj.window||object.nodeType?[object]:$_1qam7ujjdud76lb.toArray(object);var obj},inArray:function(item,array){var i;if(array.indexOf)return array.indexOf(item);for(i=array.length;i--;)if(array[i]===item)return i;return-1},isArray:$_1qam7ujjdud76lb.isArray,each:each$2,trim:trim$1,grep:grep,find:Sizzle,expr:Sizzle.selectors,unique:Sizzle.uniqueSort,text:Sizzle.getText,contains:Sizzle.contains,filter:function(expr,elems,not){var i=elems.length;for(not&&(expr=":not("+expr+")");i--;)1!==elems[i].nodeType&&elems.splice(i,1);return elems=1===elems.length?DomQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:DomQuery.find.matches(expr,elems)}});var dir=function(el,prop,until){var matched=[],cur=el[prop];for("string"!=typeof until&&until instanceof DomQuery&&(until=until[0]);cur&&9!==cur.nodeType;){if(void 0!==until){if(cur===until)break;if("string"==typeof until&&DomQuery(cur).is(until))break}1===cur.nodeType&&matched.push(cur),cur=cur[prop]}return matched},sibling=function(node,siblingName,nodeType,until){var result=[];for(until instanceof DomQuery&&(until=until[0]);node;node=node[siblingName])if(!nodeType||node.nodeType===nodeType){if(void 0!==until){if(node===until)break;if("string"==typeof until&&DomQuery(node).is(until))break}result.push(node)}return result},firstSibling=function(node,siblingName,nodeType){for(node=node[siblingName];node;node=node[siblingName])if(node.nodeType===nodeType)return node;return null};each$2({parent:function(node){var parent=node.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(node){return dir(node,"parentNode")},next:function(node){return firstSibling(node,"nextSibling",1)},prev:function(node){return firstSibling(node,"previousSibling",1)},children:function(node){return sibling(node.firstChild,"nextSibling",1)},contents:function(node){return $_1qam7ujjdud76lb.toArray(("iframe"===node.nodeName?node.contentDocument||node.contentWindow.document:node).childNodes)}},function(name,fn){DomQuery.fn[name]=function(selector){var result=[];return this.each(function(){var nodes=fn.call(result,this,selector,result);nodes&&(DomQuery.isArray(nodes)?result.push.apply(result,nodes):result.push(nodes))}),1<this.length&&(skipUniques[name]||(result=DomQuery.unique(result)),0===name.indexOf("parents")&&(result=result.reverse())),result=DomQuery(result),selector?result.filter(selector):result}}),each$2({parentsUntil:function(node,until){return dir(node,"parentNode",until)},nextUntil:function(node,until){return sibling(node,"nextSibling",1,until).slice(1)},prevUntil:function(node,until){return sibling(node,"previousSibling",1,until).slice(1)}},function(name,fn){DomQuery.fn[name]=function(selector,filter){var result=[];return this.each(function(){var nodes=fn.call(result,this,selector,result);nodes&&(DomQuery.isArray(nodes)?result.push.apply(result,nodes):result.push(nodes))}),1<this.length&&(result=DomQuery.unique(result),0!==name.indexOf("parents")&&"prevUntil"!==name||(result=result.reverse())),result=DomQuery(result),filter?result.filter(filter):result}}),DomQuery.fn.is=function(selector){return!!selector&&0<this.filter(selector).length},DomQuery.fn.init.prototype=DomQuery.fn,DomQuery.overrideDefaults=function(callback){var defaults,sub=function(selector,context){return defaults=defaults||callback(),0===arguments.length&&(selector=defaults.element),context||(context=defaults.context),new sub.fn.init(selector,context)};return DomQuery.extend(sub,this),sub};var appendHooks=function(targetHooks,prop,hooks){each$2(hooks,function(name,func){targetHooks[name]=targetHooks[name]||{},targetHooks[name][prop]=func})};$_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<8&&(appendHooks(attrHooks,"get",{maxlength:function(elm){var value=elm.maxLength;if(2147483647!==value)return value},size:function(elm){var value=elm.size;if(20!==value)return value},class:function(elm){return elm.className},style:function(elm){var value=elm.style.cssText;if(0!==value.length)return value}}),appendHooks(attrHooks,"set",{class:function(elm,value){elm.className=value},style:function(elm,value){elm.style.cssText=value}})),$_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<9&&(cssFix.float="styleFloat",appendHooks(cssHooks,"set",{opacity:function(elm,value){var style=elm.style;null===value||""===value?style.removeAttribute("filter"):(style.zoom=1,style.filter="alpha(opacity="+100*value+")")}})),DomQuery.attrHooks=attrHooks,DomQuery.cssHooks=cssHooks;var fastKeys,$_47dj0rnjdud76m1_cached=function(f){var r,called=!1;return function(){return called||(called=!0,r=f.apply(null,arguments)),r}},unknown=function(){return nu(0,0)},nu=function(major,minor){return{major:major,minor:minor}},$_alvg5mqjdud76m7={nu:nu,detect:function(versionRegexes,agent){var cleanedAgent=String(agent).toLowerCase();return 0===versionRegexes.length?unknown():function(regexes,agent){var r=function(regexes,s){for(var i=0;i<regexes.length;i++){var x=regexes[i];if(x.test(s))return x}}(regexes,agent);if(!r)return{major:0,minor:0};var group=function(i){return Number(agent.replace(r,"$"+i))};return nu(group(1),group(2))}(versionRegexes,cleanedAgent)},unknown:unknown},isBrowser=function(name,current){return function(){return current===name}},nu$1=function(info){var current=info.current;return{current:current,version:info.version,isEdge:isBrowser("Edge",current),isChrome:isBrowser("Chrome",current),isIE:isBrowser("IE",current),isOpera:isBrowser("Opera",current),isFirefox:isBrowser("Firefox",current),isSafari:isBrowser("Safari",current)}},$_2sunl9pjdud76m3={unknown:function(){return nu$1({current:void 0,version:$_alvg5mqjdud76m7.unknown()})},nu:nu$1,edge:$_dree2x6jdud76bv.constant("Edge"),chrome:$_dree2x6jdud76bv.constant("Chrome"),ie:$_dree2x6jdud76bv.constant("IE"),opera:$_dree2x6jdud76bv.constant("Opera"),firefox:$_dree2x6jdud76bv.constant("Firefox"),safari:$_dree2x6jdud76bv.constant("Safari")},isOS=function(name,current){return function(){return current===name}},nu$2=function(info){var current=info.current;return{current:current,version:info.version,isWindows:isOS("Windows",current),isiOS:isOS("iOS",current),isAndroid:isOS("Android",current),isOSX:isOS("OSX",current),isLinux:isOS("Linux",current),isSolaris:isOS("Solaris",current),isFreeBSD:isOS("FreeBSD",current)}},$_3ajimvrjdud76m9={unknown:function(){return nu$2({current:void 0,version:$_alvg5mqjdud76m7.unknown()})},nu:nu$2,windows:$_dree2x6jdud76bv.constant("Windows"),ios:$_dree2x6jdud76bv.constant("iOS"),android:$_dree2x6jdud76bv.constant("Android"),linux:$_dree2x6jdud76bv.constant("Linux"),osx:$_dree2x6jdud76bv.constant("OSX"),solaris:$_dree2x6jdud76bv.constant("Solaris"),freebsd:$_dree2x6jdud76bv.constant("FreeBSD")},detect$1=function(candidates,userAgent){var agent=String(userAgent).toLowerCase();return $_2rdhjp4jdud76b1.find(candidates,function(candidate){return candidate.search(agent)})},$_9zns7ktjdud76mg_detectBrowser=function(browsers,userAgent){return detect$1(browsers,userAgent).map(function(browser){var version=$_alvg5mqjdud76m7.detect(browser.versionRegexes,userAgent);return{current:browser.name,version:version}})},$_9zns7ktjdud76mg_detectOs=function(oses,userAgent){return detect$1(oses,userAgent).map(function(os){var version=$_alvg5mqjdud76m7.detect(os.versionRegexes,userAgent);return{current:os.name,version:version}})},$_eap681vjdud76mr_contains=function(str,substr){return-1!==str.indexOf(substr)},$_eap681vjdud76mr_trim=function(str){return str.replace(/^\s+|\s+$/g,"")},normalVersionRegex=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,checkContains=function(target){return function(uastring){return $_eap681vjdud76mr_contains(uastring,target)}},browsers=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(uastring){return $_eap681vjdud76mr_contains(uastring,"edge/")&&$_eap681vjdud76mr_contains(uastring,"chrome")&&$_eap681vjdud76mr_contains(uastring,"safari")&&$_eap681vjdud76mr_contains(uastring,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,normalVersionRegex],search:function(uastring){return $_eap681vjdud76mr_contains(uastring,"chrome")&&!$_eap681vjdud76mr_contains(uastring,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(uastring){return $_eap681vjdud76mr_contains(uastring,"msie")||$_eap681vjdud76mr_contains(uastring,"trident")}},{name:"Opera",versionRegexes:[normalVersionRegex,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:checkContains("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:checkContains("firefox")},{name:"Safari",versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(uastring){return($_eap681vjdud76mr_contains(uastring,"safari")||$_eap681vjdud76mr_contains(uastring,"mobile/"))&&$_eap681vjdud76mr_contains(uastring,"applewebkit")}}],oses=[{name:"Windows",search:checkContains("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(uastring){return $_eap681vjdud76mr_contains(uastring,"iphone")||$_eap681vjdud76mr_contains(uastring,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:checkContains("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:checkContains("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:checkContains("linux"),versionRegexes:[]},{name:"Solaris",search:checkContains("sunos"),versionRegexes:[]},{name:"FreeBSD",search:checkContains("freebsd"),versionRegexes:[]}],$_6po3xxujdud76ml={browsers:$_dree2x6jdud76bv.constant(browsers),oses:$_dree2x6jdud76bv.constant(oses)},$_k6u5wojdud76m2_detect=function(userAgent){var browsers=$_6po3xxujdud76ml.browsers(),oses=$_6po3xxujdud76ml.oses(),browser=$_9zns7ktjdud76mg_detectBrowser(browsers,userAgent).fold($_2sunl9pjdud76m3.unknown,$_2sunl9pjdud76m3.nu),os=$_9zns7ktjdud76mg_detectOs(oses,userAgent).fold($_3ajimvrjdud76m9.unknown,$_3ajimvrjdud76m9.nu);return{browser:browser,os:os,deviceType:function DeviceType(os,browser,userAgent){var isiPad=os.isiOS()&&!0===/ipad/i.test(userAgent),isiPhone=os.isiOS()&&!isiPad,isAndroid3=os.isAndroid()&&3===os.version.major,isAndroid4=os.isAndroid()&&4===os.version.major,isTablet=isiPad||isAndroid3||isAndroid4&&!0===/mobile/i.test(userAgent),isTouch=os.isiOS()||os.isAndroid(),isPhone=isTouch&&!isTablet,iOSwebview=browser.isSafari()&&os.isiOS()&&!1===/safari/i.test(userAgent);return{isiPad:$_dree2x6jdud76bv.constant(isiPad),isiPhone:$_dree2x6jdud76bv.constant(isiPhone),isTablet:$_dree2x6jdud76bv.constant(isTablet),isPhone:$_dree2x6jdud76bv.constant(isPhone),isTouch:$_dree2x6jdud76bv.constant(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:$_dree2x6jdud76bv.constant(iOSwebview)}}(os,browser,userAgent)}},$_csimq8mjdud76ly={detect:$_47dj0rnjdud76m1_cached(function(){var userAgent=navigator.userAgent;return $_k6u5wojdud76m2_detect(userAgent)})},fromDom=function(node){if(null==node)throw new Error("Node cannot be null or undefined");return{dom:$_dree2x6jdud76bv.constant(node)}},$_77yl9nyjdud76my={fromHtml:function(html,scope){var div=(scope||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||1<div.childNodes.length)throw console.error("HTML does not have a single root node",html),"HTML must have a single root node";return fromDom(div.childNodes[0])},fromTag:function(tag,scope){var node=(scope||document).createElement(tag);return fromDom(node)},fromText:function(text,scope){var node=(scope||document).createTextNode(text);return fromDom(node)},fromDom:fromDom,fromPoint:function(doc,x,y){return Option.from(doc.dom().elementFromPoint(x,y)).map(fromDom)}},$_1bkgpx10jdud76n4_COMMENT=8,$_1bkgpx10jdud76n4_DOCUMENT=9,$_1bkgpx10jdud76n4_ELEMENT=1,$_1bkgpx10jdud76n4_TEXT=3,name=function(element){return element.dom().nodeName.toLowerCase()},type=function(element){return element.dom().nodeType},isType=function(t){return function(element){return type(element)===t}},isElement=isType($_1bkgpx10jdud76n4_ELEMENT),isText=isType($_1bkgpx10jdud76n4_TEXT),isDocument=isType($_1bkgpx10jdud76n4_DOCUMENT),$_8ql502zjdud76n3={name:name,type:type,value:function(element){return element.dom().nodeValue},isElement:isElement,isText:isText,isDocument:isDocument,isComment:function(element){return type(element)===$_1bkgpx10jdud76n4_COMMENT||"#comment"===name(element)}},isType$1=function(type){return function(value){return function(x){if(null===x)return"null";var t=typeof x;return"object"===t&&Array.prototype.isPrototypeOf(x)?"array":"object"===t&&String.prototype.isPrototypeOf(x)?"string":t}(value)===type}},$_c9rr1612jdud76o1={isString:isType$1("string"),isObject:isType$1("object"),isArray:isType$1("array"),isNull:isType$1("null"),isBoolean:isType$1("boolean"),isUndefined:isType$1("undefined"),isFunction:isType$1("function"),isNumber:isType$1("number")},keys=void 0===(fastKeys=Object.keys)?function(o){var r=[];for(var i in o)o.hasOwnProperty(i)&&r.push(i);return r}:fastKeys,each$3=function(obj,f){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k];f(obj[i],i,obj)}},tupleMap=function(obj,f){var r={};return each$3(obj,function(x,i){var tuple=f(x,i,obj);r[tuple.k]=tuple.v}),r},mapToArray=function(obj,f){var r=[];return each$3(obj,function(value,name){r.push(f(value,name))}),r},values=function(obj){return mapToArray(obj,function(v){return v})},$_fsogm013jdud76o4={bifilter:function(obj,pred){var t={},f={};return each$3(obj,function(x,i){(pred(x,i)?t:f)[i]=x}),{t:t,f:f}},each:each$3,map:function(obj,f){return tupleMap(obj,function(x,i,obj){return{k:i,v:f(x,i,obj)}})},mapToArray:mapToArray,tupleMap:tupleMap,find:function(obj,pred){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k],x=obj[i];if(pred(x,i,obj))return Option.some(x)}return Option.none()},keys:keys,values:values,size:function(obj){return values(obj).length}},rawSet=function(dom,key,value){if(!($_c9rr1612jdud76o1.isString(value)||$_c9rr1612jdud76o1.isBoolean(value)||$_c9rr1612jdud76o1.isNumber(value)))throw console.error("Invalid call to Attr.set. Key ",key,":: Value ",value,":: Element ",dom),new Error("Attribute value was not simple");dom.setAttribute(key,value+"")},set=function(element,key,value){rawSet(element.dom(),key,value)},get=function(element,key){var v=element.dom().getAttribute(key);return null===v?void 0:v},has=function(element,key){var dom=element.dom();return!(!dom||!dom.hasAttribute)&&dom.hasAttribute(key)},$_65a84n14jdud76o8={clone:function(element){return $_2rdhjp4jdud76b1.foldl(element.dom().attributes,function(acc,attr){return acc[attr.name]=attr.value,acc},{})},set:set,setAll:function(element,attrs){var dom=element.dom();$_fsogm013jdud76o4.each(attrs,function(v,k){rawSet(dom,k,v)})},get:get,has:has,remove:function(element,key){element.dom().removeAttribute(key)},hasNone:function(element){var attrs=element.dom().attributes;return null==attrs||0===attrs.length},transfer:function(source,destination,attrs){$_8ql502zjdud76n3.isElement(source)&&$_8ql502zjdud76n3.isElement(destination)&&$_2rdhjp4jdud76b1.each(attrs,function(attr){!function(source,destination,attr){has(source,attr)&&!has(destination,attr)&&set(destination,attr,get(source,attr))}(source,destination,attr)})}},body=$_47dj0rnjdud76m1_cached(function(){return getBody($_77yl9nyjdud76my.fromDom(document))}),getBody=function(doc){var body=doc.dom().body;if(null==body)throw"Body is not available yet";return $_77yl9nyjdud76my.fromDom(body)},$_aty1uq15jdud76oe={body:body,getBody:getBody,inBody:function(element){var dom=$_8ql502zjdud76n3.isText(element)?element.dom().parentNode:element.dom();return null!=dom&&dom.ownerDocument.body.contains(dom)}},$_3wbcii16jdud76oh_isSupported=function(dom){return void 0!==dom.style},internalSet=function(dom,property,value){if(!$_c9rr1612jdud76o1.isString(value))throw console.error("Invalid call to CSS.set. Property ",property,":: Value ",value,":: Element ",dom),new Error("CSS value must be a string: "+value);$_3wbcii16jdud76oh_isSupported(dom)&&dom.style.setProperty(property,value)},getUnsafeProperty=function(dom,property){return $_3wbcii16jdud76oh_isSupported(dom)?dom.style.getPropertyValue(property):""},$_by3z2k11jdud76nl_setAll=function(element,css){var dom=element.dom();$_fsogm013jdud76o4.each(css,function(v,k){internalSet(dom,k,v)})},$_by3z2k11jdud76nl_get=function(element,property){var dom=element.dom(),r=window.getComputedStyle(dom).getPropertyValue(property),v=""!==r||$_aty1uq15jdud76oe.inBody(element)?r:getUnsafeProperty(dom,property);return null===v?void 0:v},sort$1=function(arr){return arr.slice(0).sort()},$_3wuk7v1bjdud76p5={sort:sort$1,reqMessage:function(required,keys){throw new Error("All required keys ("+sort$1(required).join(", ")+") were not specified. Specified keys were: "+sort$1(keys).join(", ")+".")},unsuppMessage:function(unsupported){throw new Error("Unsupported keys for object: "+sort$1(unsupported).join(", "))},validateStrArr:function(label,array){if(!$_c9rr1612jdud76o1.isArray(array))throw new Error("The "+label+" fields must be an array. Was: "+array+".");$_2rdhjp4jdud76b1.each(array,function(a){if(!$_c9rr1612jdud76o1.isString(a))throw new Error("The value "+a+" in the "+label+" fields was not a string.")})},invalidTypeMessage:function(incorrect,type){throw new Error("All values need to be of type: "+type+". Keys ("+sort$1(incorrect).join(", ")+") were not.")},checkDupes:function(everything){var sorted=sort$1(everything);$_2rdhjp4jdud76b1.find(sorted,function(s,i){return i<sorted.length-1&&s===sorted[i+1]}).each(function(d){throw new Error("The field: "+d+" occurs more than once in the combined fields: ["+sorted.join(", ")+"].")})}},$_3vrm9i18jdud76ot={immutable:function Immutable(){var fields=arguments;return function(){for(var values=new Array(arguments.length),i=0;i<values.length;i++)values[i]=arguments[i];if(fields.length!==values.length)throw new Error('Wrong number of arguments to struct. Expected "['+fields.length+']", got '+values.length+" arguments");var struct={};return $_2rdhjp4jdud76b1.each(fields,function(name,i){struct[name]=$_dree2x6jdud76bv.constant(values[i])}),struct}},immutableBag:function MixedBag(required,optional){var everything=required.concat(optional);if(0===everything.length)throw new Error("You must specify at least one required or optional field.");return $_3wuk7v1bjdud76p5.validateStrArr("required",required),$_3wuk7v1bjdud76p5.validateStrArr("optional",optional),$_3wuk7v1bjdud76p5.checkDupes(everything),function(obj){var keys=$_fsogm013jdud76o4.keys(obj);$_2rdhjp4jdud76b1.forall(required,function(req){return $_2rdhjp4jdud76b1.contains(keys,req)})||$_3wuk7v1bjdud76p5.reqMessage(required,keys);var unsupported=$_2rdhjp4jdud76b1.filter(keys,function(key){return!$_2rdhjp4jdud76b1.contains(everything,key)});0<unsupported.length&&$_3wuk7v1bjdud76p5.unsuppMessage(unsupported);var r={};return $_2rdhjp4jdud76b1.each(required,function(req){r[req]=$_dree2x6jdud76bv.constant(obj[req])}),$_2rdhjp4jdud76b1.each(optional,function(opt){r[opt]=$_dree2x6jdud76bv.constant(Object.prototype.hasOwnProperty.call(obj,opt)?Option.some(obj[opt]):Option.none())}),r}}},$_6xdcib1cjdud76p7_toArray=function(target,f){for(var r=[],recurse=function(e){return r.push(e),f(e)},cur=f(target);(cur=cur.bind(recurse)).isSome(););return r},node=function(){return $_96qifmbjdud76f9.getOrDie("Node")},compareDocumentPosition=function(a,b,match){return 0!=(a.compareDocumentPosition(b)&match)},$_9hoj4s1ejdud76pg_documentPositionContainedBy=function(a,b){return compareDocumentPosition(a,b,node().DOCUMENT_POSITION_CONTAINED_BY)},ELEMENT=$_1bkgpx10jdud76n4_ELEMENT,DOCUMENT=$_1bkgpx10jdud76n4_DOCUMENT,bypassSelector=function(dom){return dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT||0===dom.childElementCount},$_1jloty1fjdud76pi={all:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?[]:$_2rdhjp4jdud76b1.map(base.querySelectorAll(selector),$_77yl9nyjdud76my.fromDom)},is:function(element,selector){var elem=element.dom();if(elem.nodeType!==ELEMENT)return!1;if(void 0!==elem.matches)return elem.matches(selector);if(void 0!==elem.msMatchesSelector)return elem.msMatchesSelector(selector);if(void 0!==elem.webkitMatchesSelector)return elem.webkitMatchesSelector(selector);if(void 0!==elem.mozMatchesSelector)return elem.mozMatchesSelector(selector);throw new Error("Browser lacks native selectors")},one:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?Option.none():Option.from(base.querySelector(selector)).map($_77yl9nyjdud76my.fromDom)}},eq=function(e1,e2){return e1.dom()===e2.dom()},contains$3=$_csimq8mjdud76ly.detect().browser.isIE()?function(e1,e2){return $_9hoj4s1ejdud76pg_documentPositionContainedBy(e1.dom(),e2.dom())}:function(e1,e2){var d1=e1.dom(),d2=e2.dom();return d1!==d2&&d1.contains(d2)},$_fxc4921djdud76p9={eq:eq,isEqualNode:function(e1,e2){return e1.dom().isEqualNode(e2.dom())},member:function(element,elements){return $_2rdhjp4jdud76b1.exists(elements,$_dree2x6jdud76bv.curry(eq,element))},contains:contains$3,is:$_1jloty1fjdud76pi.is},owner=function(element){return $_77yl9nyjdud76my.fromDom(element.dom().ownerDocument)},parent=function(element){var dom=element.dom();return Option.from(dom.parentNode).map($_77yl9nyjdud76my.fromDom)},prevSibling=function(element){var dom=element.dom();return Option.from(dom.previousSibling).map($_77yl9nyjdud76my.fromDom)},nextSibling=function(element){var dom=element.dom();return Option.from(dom.nextSibling).map($_77yl9nyjdud76my.fromDom)},children=function(element){var dom=element.dom();return $_2rdhjp4jdud76b1.map(dom.childNodes,$_77yl9nyjdud76my.fromDom)},child=function(element,index){var children=element.dom().childNodes;return Option.from(children[index]).map($_77yl9nyjdud76my.fromDom)},spot=$_3vrm9i18jdud76ot.immutable("element","offset"),$_24kyxa17jdud76ok={owner:owner,defaultView:function(element){var defaultView=element.dom().ownerDocument.defaultView;return $_77yl9nyjdud76my.fromDom(defaultView)},documentElement:function(element){var doc=owner(element);return $_77yl9nyjdud76my.fromDom(doc.dom().documentElement)},parent:parent,findIndex:function(element){return parent(element).bind(function(p){var kin=children(p);return $_2rdhjp4jdud76b1.findIndex(kin,function(elem){return $_fxc4921djdud76p9.eq(element,elem)})})},parents:function(element,isRoot){for(var stop=$_c9rr1612jdud76o1.isFunction(isRoot)?isRoot:$_dree2x6jdud76bv.constant(!1),dom=element.dom(),ret=[];null!==dom.parentNode&&void 0!==dom.parentNode;){var rawParent=dom.parentNode,parent=$_77yl9nyjdud76my.fromDom(rawParent);if(ret.push(parent),!0===stop(parent))break;dom=rawParent}return ret},siblings:function(element){return parent(element).map(children).map(function(elements){return $_2rdhjp4jdud76b1.filter(elements,function(x){return!$_fxc4921djdud76p9.eq(element,x)})}).getOr([])},prevSibling:prevSibling,offsetParent:function(element){var dom=element.dom();return Option.from(dom.offsetParent).map($_77yl9nyjdud76my.fromDom)},prevSiblings:function(element){return $_2rdhjp4jdud76b1.reverse($_6xdcib1cjdud76p7_toArray(element,prevSibling))},nextSibling:nextSibling,nextSiblings:function(element){return $_6xdcib1cjdud76p7_toArray(element,nextSibling)},children:children,child:child,firstChild:function(element){return child(element,0)},lastChild:function(element){return child(element,element.dom().childNodes.length-1)},childNodesCount:function(element){return element.dom().childNodes.length},hasChildNodes:function(element){return element.dom().hasChildNodes()},leaf:function(element,offset){var cs=children(element);return 0<cs.length&&offset<cs.length?spot(cs[offset],0):spot(element,offset)}},browser$1=$_csimq8mjdud76ly.detect().browser,firstElement=function(nodes){return $_2rdhjp4jdud76b1.find(nodes,$_8ql502zjdud76n3.isElement)},$_8oendeljdud76lp_getPos=function(body,elm,rootElm){var offsetParent,pos,x=0,y=0,doc=body.ownerDocument;if(rootElm=rootElm||body,elm){if(rootElm===body&&elm.getBoundingClientRect&&"static"===$_by3z2k11jdud76nl_get($_77yl9nyjdud76my.fromDom(body),"position"))return{x:x=(pos=elm.getBoundingClientRect()).left+(doc.documentElement.scrollLeft||body.scrollLeft)-doc.documentElement.clientLeft,y:y=pos.top+(doc.documentElement.scrollTop||body.scrollTop)-doc.documentElement.clientTop};for(offsetParent=elm;offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType;)x+=offsetParent.offsetLeft||0,y+=offsetParent.offsetTop||0,offsetParent=offsetParent.offsetParent;for(offsetParent=elm.parentNode;offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType;)x-=offsetParent.scrollLeft||0,y-=offsetParent.scrollTop||0,offsetParent=offsetParent.parentNode;y+=function(elm){return browser$1.isFirefox()&&"table"===$_8ql502zjdud76n3.name(elm)?firstElement($_24kyxa17jdud76ok.children(elm)).filter(function(elm){return"caption"===$_8ql502zjdud76n3.name(elm)}).bind(function(caption){return firstElement($_24kyxa17jdud76ok.nextSiblings(caption)).map(function(body){var bodyTop=body.dom().offsetTop,captionTop=caption.dom().offsetTop,captionHeight=caption.dom().offsetHeight;return bodyTop<=captionTop?-captionHeight:0})}).getOr(0):0}($_77yl9nyjdud76my.fromDom(elm))}return{x:x,y:y}},nu$3=function(baseFn){var data=Option.none(),callbacks=[],get=function(nCallback){isReady()?call(nCallback):callbacks.push(nCallback)},isReady=function(){return data.isSome()},run=function(cbs){$_2rdhjp4jdud76b1.each(cbs,call)},call=function(cb){data.each(function(x){setTimeout(function(){cb(x)},0)})};return baseFn(function(x){data=Option.some(x),run(callbacks),callbacks=[]}),{get:get,map:function(f){return nu$3(function(nCallback){get(function(data){nCallback(f(data))})})},isReady:isReady}},LazyValue={nu:nu$3,pure:function(a){return nu$3(function(callback){callback(a)})}},$_515rva1jjdud76qc_bounce=function(f){return function(){var args=Array.prototype.slice.call(arguments),me=this;setTimeout(function(){f.apply(me,args)},0)}},nu$4=function(baseFn){var get=function(callback){baseFn($_515rva1jjdud76qc_bounce(callback))};return{map:function(fab){return nu$4(function(callback){get(function(a){var value=fab(a);callback(value)})})},bind:function(aFutureB){return nu$4(function(callback){get(function(a){aFutureB(a).get(callback)})})},anonBind:function(futureB){return nu$4(function(callback){get(function(a){futureB.get(callback)})})},toLazy:function(){return LazyValue.nu(get)},get:get}},Future={nu:nu$4,pure:function(a){return nu$4(function(callback){callback(a)})}},$_99tkfg1ljdud76qe_par=function(asyncValues,nu){return nu(function(callback){var r=[],count=0;0===asyncValues.length?callback([]):$_2rdhjp4jdud76b1.each(asyncValues,function(asyncValue,i){asyncValue.get(function(i){return function(value){r[i]=value,++count>=asyncValues.length&&callback(r)}}(i))})})},par$1=function(futures){return $_99tkfg1ljdud76qe_par(futures,Future.nu)},$_dypo731kjdud76qd={par:par$1,mapM:function(array,fn){var futures=$_2rdhjp4jdud76b1.map(array,fn);return par$1(futures)},compose:function(f,g){return function(a){return g(a).bind(f)}}},value$1=function(o){return{is:function(v){return o===v},isValue:$_dree2x6jdud76bv.always,isError:$_dree2x6jdud76bv.never,getOr:$_dree2x6jdud76bv.constant(o),getOrThunk:$_dree2x6jdud76bv.constant(o),getOrDie:$_dree2x6jdud76bv.constant(o),or:function(opt){return value$1(o)},orThunk:function(f){return value$1(o)},fold:function(_,onValue){return onValue(o)},map:function(f){return value$1(f(o))},each:function(f){f(o)},bind:function(f){return f(o)},exists:function(f){return f(o)},forall:function(f){return f(o)},toOption:function(){return Option.some(o)}}},error=function(message){return{is:$_dree2x6jdud76bv.never,isValue:$_dree2x6jdud76bv.never,isError:$_dree2x6jdud76bv.always,getOr:$_dree2x6jdud76bv.identity,getOrThunk:function(f){return f()},getOrDie:function(){return $_dree2x6jdud76bv.die(message)()},or:function(opt){return opt},orThunk:function(f){return f()},fold:function(onError,_){return onError(message)},map:function(f){return error(message)},each:$_dree2x6jdud76bv.noop,bind:function(f){return error(message)},exists:$_dree2x6jdud76bv.never,forall:$_dree2x6jdud76bv.always,toOption:Option.none}},Result={value:value$1,error:error};function TreeWalker(startNode,rootNode){var node=startNode,findSibling=function(node,startName,siblingName,shallow){var sibling,parent;if(node){if(!shallow&&node[startName])return node[startName];if(node!==rootNode){if(sibling=node[siblingName])return sibling;for(parent=node.parentNode;parent&&parent!==rootNode;parent=parent.parentNode)if(sibling=parent[siblingName])return sibling}}};this.current=function(){return node},this.next=function(shallow){return node=findSibling(node,"firstChild","nextSibling",shallow)},this.prev=function(shallow){return node=findSibling(node,"lastChild","previousSibling",shallow)},this.prev2=function(shallow){return node=function(node,startName,siblingName,shallow){var sibling,parent,child;if(node){if(sibling=node[siblingName],rootNode&&sibling===rootNode)return;if(sibling){if(!shallow)for(child=sibling[startName];child;child=child[startName])if(!child[startName])return child;return sibling}if((parent=node.parentNode)&&parent!==rootNode)return parent}}(node,"lastChild","previousSibling",shallow)}}var namedEntities,baseEntities,reverseEntities,lazyLookup=function(items){var lookup;return function(node){return(lookup=lookup||$_2rdhjp4jdud76b1.mapToObject(items,$_dree2x6jdud76bv.constant(!0))).hasOwnProperty($_8ql502zjdud76n3.name(node))}},isHeading=lazyLookup(["h1","h2","h3","h4","h5","h6"]),isBlock=lazyLookup(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),isInline=function(node){return $_8ql502zjdud76n3.isElement(node)&&!isBlock(node)},isBr=function(node){return $_8ql502zjdud76n3.isElement(node)&&"br"===$_8ql502zjdud76n3.name(node)},isTextBlock=lazyLookup(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),isList=lazyLookup(["ul","ol","dl"]),isListItem=lazyLookup(["li","dd","dt"]),isVoid=lazyLookup(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),isTableSection=lazyLookup(["thead","tbody","tfoot"]),isTableCell=lazyLookup(["td","th"]),isNodeType=function(type){return function(node){return!!node&&node.nodeType===type}},isElement$1=isNodeType(1),matchNodeNames=function(names){var items=names.toLowerCase().split(" ");return function(node){var i,name;if(node&&node.nodeType)for(name=node.nodeName.toLowerCase(),i=0;i<items.length;i++)if(name===items[i])return!0;return!1}},hasContentEditableState=function(value){return function(node){if(isElement$1(node)){if(node.contentEditable===value)return!0;if(node.getAttribute("data-mce-contenteditable")===value)return!0}return!1}},isText$1=isNodeType(3),isComment$1=isNodeType(8),isDocument$1=isNodeType(9),isBr$1=matchNodeNames("br"),isContentEditableTrue=hasContentEditableState("true"),isContentEditableFalse=hasContentEditableState("false"),$_2nbmh51qjdud76qx={isText:isText$1,isElement:isElement$1,isComment:isComment$1,isDocument:isDocument$1,isBr:isBr$1,isContentEditableTrue:isContentEditableTrue,isContentEditableFalse:isContentEditableFalse,matchNodeNames:matchNodeNames,hasPropValue:function(propName,propValue){return function(node){return isElement$1(node)&&node[propName]===propValue}},hasAttribute:function(attrName,attrValue){return function(node){return isElement$1(node)&&node.hasAttribute(attrName)}},hasAttributeValue:function(attrName,attrValue){return function(node){return isElement$1(node)&&node.getAttribute(attrName)===attrValue}},matchStyleValues:function(name,values){var items=values.toLowerCase().split(" ");return function(node){var i;if(isElement$1(node))for(i=0;i<items.length;i++)if(node.ownerDocument.defaultView.getComputedStyle(node,null).getPropertyValue(name)===items[i])return!0;return!1}},isBogus:function(node){return isElement$1(node)&&node.hasAttribute("data-mce-bogus")},isBogusAll:function(node){return isElement$1(node)&&"all"===node.getAttribute("data-mce-bogus")},isTable:function(node){return isElement$1(node)&&"TABLE"===node.tagName}},isBookmarkNode=function(node){return node&&"SPAN"===node.tagName&&"bookmark"===node.getAttribute("data-mce-type")},trimNode=function(dom,node){var i,children=node.childNodes;if(!$_2nbmh51qjdud76qx.isElement(node)||!isBookmarkNode(node)){for(i=children.length-1;0<=i;i--)trimNode(dom,children[i]);if(!1===$_2nbmh51qjdud76qx.isDocument(node)){if($_2nbmh51qjdud76qx.isText(node)&&0<node.nodeValue.length){var trimmedLength=$_1qam7ujjdud76lb.trim(node.nodeValue).length;if(dom.isBlock(node.parentNode)||0<trimmedLength)return;if(0===trimmedLength&&function(node){var previousIsSpan=node.previousSibling&&"SPAN"===node.previousSibling.nodeName,nextIsSpan=node.nextSibling&&"SPAN"===node.nextSibling.nodeName;return previousIsSpan&&nextIsSpan}(node))return}else if($_2nbmh51qjdud76qx.isElement(node)&&(1===(children=node.childNodes).length&&isBookmarkNode(children[0])&&node.parentNode.insertBefore(children[0],node),children.length||isVoid($_77yl9nyjdud76my.fromDom(node))))return;dom.remove(node)}return node}},$_bfg4m21ojdud76qm={trimNode:trimNode},makeMap$1=$_1qam7ujjdud76lb.makeMap,attrsCharsRegExp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,textCharsRegExp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rawCharsRegExp=/[<>&\"\']/g,entityRegExp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,asciiMap={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};baseEntities={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},reverseEntities={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var buildEntitiesLookup=function(items,radix){var i,chr,entity,lookup={};if(items){for(items=items.split(","),radix=radix||10,i=0;i<items.length;i+=2)chr=String.fromCharCode(parseInt(items[i],radix)),baseEntities[chr]||(entity="&"+items[i+1]+";",lookup[chr]=entity,lookup[entity]=chr);return lookup}};namedEntities=buildEntitiesLookup("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var encodeRaw=function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return baseEntities[chr]||chr})},encodeNumeric=function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return 1<chr.length?"&#"+(1024*(chr.charCodeAt(0)-55296)+(chr.charCodeAt(1)-56320)+65536)+";":baseEntities[chr]||"&#"+chr.charCodeAt(0)+";"})},encodeNamed=function(text,attr,entities){return entities=entities||namedEntities,text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return baseEntities[chr]||entities[chr]||chr})},$_qg6wh1rjdud76r2={encodeRaw:encodeRaw,encodeAllRaw:function(text){return(""+text).replace(rawCharsRegExp,function(chr){return baseEntities[chr]||chr})},encodeNumeric:encodeNumeric,encodeNamed:encodeNamed,getEncodeFunc:function(name,entities){var entitiesMap=buildEntitiesLookup(entities)||namedEntities,nameMap=makeMap$1(name.replace(/\+/g,","));return nameMap.named&&nameMap.numeric?function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return void 0!==baseEntities[chr]?baseEntities[chr]:void 0!==entitiesMap[chr]?entitiesMap[chr]:1<chr.length?"&#"+(1024*(chr.charCodeAt(0)-55296)+(chr.charCodeAt(1)-56320)+65536)+";":"&#"+chr.charCodeAt(0)+";"})}:nameMap.named?entities?function(text,attr){return encodeNamed(text,attr,entitiesMap)}:encodeNamed:nameMap.numeric?encodeNumeric:encodeRaw},decode:function(text){return text.replace(entityRegExp,function(all,numeric){return numeric?65535<(numeric="x"===numeric.charAt(0).toLowerCase()?parseInt(numeric.substr(1),16):parseInt(numeric,10))?(numeric-=65536,String.fromCharCode(55296+(numeric>>10),56320+(1023&numeric))):asciiMap[numeric]||String.fromCharCode(numeric):reverseEntities[all]||namedEntities[all]||(text=all,(elm=$_77yl9nyjdud76my.fromTag("div").dom()).innerHTML=text,elm.textContent||elm.innerText||text);var text,elm})}},mapCache={},dummyObj={},makeMap$2=$_1qam7ujjdud76lb.makeMap,each$4=$_1qam7ujjdud76lb.each,extend$1=$_1qam7ujjdud76lb.extend,explode$1=$_1qam7ujjdud76lb.explode,inArray$1=$_1qam7ujjdud76lb.inArray,split=function(items,delim){return(items=$_1qam7ujjdud76lb.trim(items))?items.split(delim||" "):[]},compileSchema=function(type){var globalAttributes,blockContent,phrasingContent,flowContent,html4BlockContent,html4PhrasingContent,schema={},add=function(name,attributes,children){var ni,attributesOrder,element,arrayToMap=function(array,obj){var i,l,map={};for(i=0,l=array.length;i<l;i++)map[array[i]]=obj||{};return map};for(attributes=attributes||"","string"==typeof(children=children||[])&&(children=split(children)),ni=(name=split(name)).length;ni--;)element={attributes:arrayToMap(attributesOrder=split([globalAttributes,attributes].join(" "))),attributesOrder:attributesOrder,children:arrayToMap(children,dummyObj)},schema[name[ni]]=element},addAttrs=function(name,attributes){var ni,schemaItem,i,l;for(ni=(name=split(name)).length,attributes=split(attributes);ni--;)for(schemaItem=schema[name[ni]],i=0,l=attributes.length;i<l;i++)schemaItem.attributes[attributes[i]]={},schemaItem.attributesOrder.push(attributes[i])};return mapCache[type]?mapCache[type]:(globalAttributes="id accesskey class dir lang style tabindex title role",blockContent="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",phrasingContent="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==type&&(globalAttributes+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",blockContent+=" article aside details dialog figure header footer hgroup section nav",phrasingContent+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==type&&(globalAttributes+=" xml:lang",phrasingContent=[phrasingContent,html4PhrasingContent="acronym applet basefont big font strike tt"].join(" "),each$4(split(html4PhrasingContent),function(name){add(name,"",phrasingContent)}),blockContent=[blockContent,html4BlockContent="center dir isindex noframes"].join(" "),flowContent=[blockContent,phrasingContent].join(" "),each$4(split(html4BlockContent),function(name){add(name,"",flowContent)})),flowContent=flowContent||[blockContent,phrasingContent].join(" "),add("html","manifest","head body"),add("head","","base command link meta noscript script style title"),add("title hr noscript br"),add("base","href target"),add("link","href rel media hreflang type sizes hreflang"),add("meta","name http-equiv content charset"),add("style","media type scoped"),add("script","src async defer type charset"),add("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",flowContent),add("address dt dd div caption","",flowContent),add("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",phrasingContent),add("blockquote","cite",flowContent),add("ol","reversed start type","li"),add("ul","","li"),add("li","value",flowContent),add("dl","","dt dd"),add("a","href target rel media hreflang type",phrasingContent),add("q","cite",phrasingContent),add("ins del","cite datetime",flowContent),add("img","src sizes srcset alt usemap ismap width height"),add("iframe","src name width height",flowContent),add("embed","src type width height"),add("object","data type typemustmatch name usemap form width height",[flowContent,"param"].join(" ")),add("param","name value"),add("map","name",[flowContent,"area"].join(" ")),add("area","alt coords shape href target rel media hreflang type"),add("table","border","caption colgroup thead tfoot tbody tr"+("html4"===type?" col":"")),add("colgroup","span","col"),add("col","span"),add("tbody thead tfoot","","tr"),add("tr","","td th"),add("td","colspan rowspan headers",flowContent),add("th","colspan rowspan headers scope abbr",flowContent),add("form","accept-charset action autocomplete enctype method name novalidate target",flowContent),add("fieldset","disabled form name",[flowContent,"legend"].join(" ")),add("label","form for",phrasingContent),add("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),add("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===type?flowContent:phrasingContent),add("select","disabled form multiple name required size","option optgroup"),add("optgroup","disabled label","option"),add("option","disabled label selected value"),add("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),add("menu","type label",[flowContent,"li"].join(" ")),add("noscript","",flowContent),"html4"!==type&&(add("wbr"),add("ruby","",[phrasingContent,"rt rp"].join(" ")),add("figcaption","",flowContent),add("mark rt rp summary bdi","",phrasingContent),add("canvas","width height",flowContent),add("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[flowContent,"track source"].join(" ")),add("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[flowContent,"track source"].join(" ")),add("picture","","img source"),add("source","src srcset type media sizes"),add("track","kind src srclang label default"),add("datalist","",[phrasingContent,"option"].join(" ")),add("article section nav aside header footer","",flowContent),add("hgroup","","h1 h2 h3 h4 h5 h6"),add("figure","",[flowContent,"figcaption"].join(" ")),add("time","datetime",phrasingContent),add("dialog","open",flowContent),add("command","type label icon disabled checked radiogroup command"),add("output","for form name",phrasingContent),add("progress","value max",phrasingContent),add("meter","value min max low high optimum",phrasingContent),add("details","open",[flowContent,"summary"].join(" ")),add("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==type&&(addAttrs("script","language xml:space"),addAttrs("style","xml:space"),addAttrs("object","declare classid code codebase codetype archive standby align border hspace vspace"),addAttrs("embed","align name hspace vspace"),addAttrs("param","valuetype type"),addAttrs("a","charset name rev shape coords"),addAttrs("br","clear"),addAttrs("applet","codebase archive code object alt name width height align hspace vspace"),addAttrs("img","name longdesc align border hspace vspace"),addAttrs("iframe","longdesc frameborder marginwidth marginheight scrolling align"),addAttrs("font basefont","size color face"),addAttrs("input","usemap align"),addAttrs("select","onchange"),addAttrs("textarea"),addAttrs("h1 h2 h3 h4 h5 h6 div p legend caption","align"),addAttrs("ul","type compact"),addAttrs("li","type"),addAttrs("ol dl menu dir","compact"),addAttrs("pre","width xml:space"),addAttrs("hr","align noshade size width"),addAttrs("isindex","prompt"),addAttrs("table","summary width frame rules cellspacing cellpadding align bgcolor"),addAttrs("col","width align char charoff valign"),addAttrs("colgroup","width align char charoff valign"),addAttrs("thead","align char charoff valign"),addAttrs("tr","align char charoff valign bgcolor"),addAttrs("th","axis align char charoff valign nowrap bgcolor width height"),addAttrs("form","accept"),addAttrs("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),addAttrs("tfoot","align char charoff valign"),addAttrs("tbody","align char charoff valign"),addAttrs("area","nohref"),addAttrs("body","background bgcolor text link vlink alink")),"html4"!==type&&(addAttrs("input button select textarea","autofocus"),addAttrs("input textarea","placeholder"),addAttrs("a","download"),addAttrs("link script img","crossorigin"),addAttrs("iframe","sandbox seamless allowfullscreen")),each$4(split("a form meter progress dfn"),function(name){schema[name]&&delete schema[name].children[name]}),delete schema.caption.children.table,delete schema.script,mapCache[type]=schema)},compileElementMap=function(value,mode){var styles;return value&&(styles={},"string"==typeof value&&(value={"*":value}),each$4(value,function(value,key){styles[key]=styles[key.toUpperCase()]="map"===mode?makeMap$2(value,/[, ]/):explode$1(value,/[, ]/)})),styles};function Schema(settings){var validStyles,invalidStyles,schemaItems,whiteSpaceElementsMap,selfClosingElementsMap,shortEndedElementsMap,boolAttrMap,validClasses,blockElementsMap,nonEmptyElementsMap,moveCaretBeforeOnEnterElementsMap,textBlockElementsMap,textInlineElementsMap,elements={},children={},patternElements=[],customElementsMap={},specialElements={},createLookupTable=function(option,defaultValue,extendWith){var value=settings[option];return value?value=makeMap$2(value,/[, ]/,makeMap$2(value.toUpperCase(),/[, ]/)):(value=mapCache[option])||(value=makeMap$2(defaultValue," ",makeMap$2(defaultValue.toUpperCase()," ")),value=extend$1(value,extendWith),mapCache[option]=value),value};schemaItems=compileSchema((settings=settings||{}).schema),!1===settings.verify_html&&(settings.valid_elements="*[*]"),validStyles=compileElementMap(settings.valid_styles),invalidStyles=compileElementMap(settings.invalid_styles,"map"),validClasses=compileElementMap(settings.valid_classes,"map"),whiteSpaceElementsMap=createLookupTable("whitespace_elements","pre script noscript style textarea video audio iframe object code"),selfClosingElementsMap=createLookupTable("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),shortEndedElementsMap=createLookupTable("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),boolAttrMap=createLookupTable("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),nonEmptyElementsMap=createLookupTable("non_empty_elements","td th iframe video audio object script pre code",shortEndedElementsMap),moveCaretBeforeOnEnterElementsMap=createLookupTable("move_caret_before_on_enter_elements","table",nonEmptyElementsMap),textBlockElementsMap=createLookupTable("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),blockElementsMap=createLookupTable("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",textBlockElementsMap),textInlineElementsMap=createLookupTable("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),each$4((settings.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(name){specialElements[name]=new RegExp("</"+name+"[^>]*>","gi")});var patternToRegExp=function(str){return new RegExp("^"+str.replace(/([?+*])/g,".$1")+"$")},addValidElements=function(validElements){var ei,el,ai,al,matches,element,attr,attrData,elementName,attrName,attrType,attributes,attributesOrder,prefix,outputName,globalAttributes,globalAttributesOrder,key,value,elementRuleRegExp=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,attrRuleRegExp=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,hasPatternsRegExp=/[*?+]/;if(validElements)for(validElements=split(validElements,","),elements["@"]&&(globalAttributes=elements["@"].attributes,globalAttributesOrder=elements["@"].attributesOrder),ei=0,el=validElements.length;ei<el;ei++)if(matches=elementRuleRegExp.exec(validElements[ei])){if(prefix=matches[1],elementName=matches[2],outputName=matches[3],attrData=matches[5],element={attributes:attributes={},attributesOrder:attributesOrder=[]},"#"===prefix&&(element.paddEmpty=!0),"-"===prefix&&(element.removeEmpty=!0),"!"===matches[4]&&(element.removeEmptyAttrs=!0),globalAttributes){for(key in globalAttributes)attributes[key]=globalAttributes[key];attributesOrder.push.apply(attributesOrder,globalAttributesOrder)}if(attrData)for(ai=0,al=(attrData=split(attrData,"|")).length;ai<al;ai++)if(matches=attrRuleRegExp.exec(attrData[ai])){if(attr={},attrType=matches[1],attrName=matches[2].replace(/[\\:]:/g,":"),prefix=matches[3],value=matches[4],"!"===attrType&&(element.attributesRequired=element.attributesRequired||[],element.attributesRequired.push(attrName),attr.required=!0),"-"===attrType){delete attributes[attrName],attributesOrder.splice(inArray$1(attributesOrder,attrName),1);continue}prefix&&("="===prefix&&(element.attributesDefault=element.attributesDefault||[],element.attributesDefault.push({name:attrName,value:value}),attr.defaultValue=value),":"===prefix&&(element.attributesForced=element.attributesForced||[],element.attributesForced.push({name:attrName,value:value}),attr.forcedValue=value),"<"===prefix&&(attr.validValues=makeMap$2(value,"?"))),hasPatternsRegExp.test(attrName)?(element.attributePatterns=element.attributePatterns||[],attr.pattern=patternToRegExp(attrName),element.attributePatterns.push(attr)):(attributes[attrName]||attributesOrder.push(attrName),attributes[attrName]=attr)}globalAttributes||"@"!==elementName||(globalAttributes=attributes,globalAttributesOrder=attributesOrder),outputName&&(element.outputName=elementName,elements[outputName]=element),hasPatternsRegExp.test(elementName)?(element.pattern=patternToRegExp(elementName),patternElements.push(element)):elements[elementName]=element}},setValidElements=function(validElements){elements={},patternElements=[],addValidElements(validElements),each$4(schemaItems,function(element,name){children[name]=element.children})},addCustomElements=function(customElements){var customElementRegExp=/^(~)?(.+)$/;customElements&&(mapCache.text_block_elements=mapCache.block_elements=null,each$4(split(customElements,","),function(rule){var matches=customElementRegExp.exec(rule),inline="~"===matches[1],cloneName=inline?"span":"div",name=matches[2];if(children[name]=children[cloneName],customElementsMap[name]=cloneName,inline||(blockElementsMap[name.toUpperCase()]={},blockElementsMap[name]={}),!elements[name]){var customRule=elements[cloneName];delete(customRule=extend$1({},customRule)).removeEmptyAttrs,delete customRule.removeEmpty,elements[name]=customRule}each$4(children,function(element,elmName){element[cloneName]&&(children[elmName]=element=extend$1({},children[elmName]),element[name]=element[cloneName])})}))},addValidChildren=function(validChildren){var childRuleRegExp=/^([+\-]?)(\w+)\[([^\]]+)\]$/;mapCache[settings.schema]=null,validChildren&&each$4(split(validChildren,","),function(rule){var parent,prefix,matches=childRuleRegExp.exec(rule);matches&&(prefix=matches[1],parent=prefix?children[matches[2]]:children[matches[2]]={"#comment":{}},parent=children[matches[2]],each$4(split(matches[3],"|"),function(child){"-"===prefix?delete parent[child]:parent[child]={}}))})},getElementRule=function(name){var i,element=elements[name];if(element)return element;for(i=patternElements.length;i--;)if((element=patternElements[i]).pattern.test(name))return element};return settings.valid_elements?setValidElements(settings.valid_elements):(each$4(schemaItems,function(element,name){elements[name]={attributes:element.attributes,attributesOrder:element.attributesOrder},children[name]=element.children}),"html5"!==settings.schema&&each$4(split("strong/b em/i"),function(item){item=split(item,"/"),elements[item[1]].outputName=item[0]}),each$4(split("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(name){elements[name]&&(elements[name].removeEmpty=!0)}),each$4(split("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(name){elements[name].paddEmpty=!0}),each$4(split("span"),function(name){elements[name].removeEmptyAttrs=!0})),addCustomElements(settings.custom_elements),addValidChildren(settings.valid_children),addValidElements(settings.extended_valid_elements),addValidChildren("+ol[ul|ol],+ul[ul|ol]"),each$4({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(parents,item){elements[item]&&(elements[item].parentsRequired=split(parents))}),settings.invalid_elements&&each$4(explode$1(settings.invalid_elements),function(item){elements[item]&&delete elements[item]}),getElementRule("span")||addValidElements("span[!data-mce-type|*]"),{children:children,elements:elements,getValidStyles:function(){return validStyles},getValidClasses:function(){return validClasses},getBlockElements:function(){return blockElementsMap},getInvalidStyles:function(){return invalidStyles},getShortEndedElements:function(){return shortEndedElementsMap},getTextBlockElements:function(){return textBlockElementsMap},getTextInlineElements:function(){return textInlineElementsMap},getBoolAttrs:function(){return boolAttrMap},getElementRule:getElementRule,getSelfClosingElements:function(){return selfClosingElementsMap},getNonEmptyElements:function(){return nonEmptyElementsMap},getMoveCaretBeforeOnEnterElements:function(){return moveCaretBeforeOnEnterElementsMap},getWhiteSpaceElements:function(){return whiteSpaceElementsMap},getSpecialElements:function(){return specialElements},isValidChild:function(name,child){var parent=children[name.toLowerCase()];return!(!parent||!parent[child.toLowerCase()])},isValid:function(name,attr){var attrPatterns,i,rule=getElementRule(name);if(rule){if(!attr)return!0;if(rule.attributes[attr])return!0;if(attrPatterns=rule.attributePatterns)for(i=attrPatterns.length;i--;)if(attrPatterns[i].pattern.test(name))return!0}return!1},getCustomElements:function(){return customElementsMap},addValidElements:addValidElements,setValidElements:setValidElements,addCustomElements:addCustomElements,addValidChildren:addValidChildren}}var toHex=function(match,r,g,b){var hex=function(val){return 1<(val=parseInt(val,10).toString(16)).length?val:"0"+val};return"#"+hex(r)+hex(g)+hex(b)};function Styles(settings,schema){var i,encodingItems,validStyles,invalidStyles,rgbRegExp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,urlOrStrRegExp=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,styleRegExp=/\s*([^:]+):\s*([^;]+);?/g,trimRightRegExp=/\s+$/,encodingLookup={};for(settings=settings||{},schema&&(validStyles=schema.getValidStyles(),invalidStyles=schema.getInvalidStyles()),encodingItems="\\\" \\' \\; \\: ; : \ufeff".split(" "),i=0;i<encodingItems.length;i++)encodingLookup[encodingItems[i]]="\ufeff"+i,encodingLookup["\ufeff"+i]=encodingItems[i];return{toHex:function(color){return color.replace(rgbRegExp,toHex)},parse:function(css){var matches,name,value,isEncoded,target,a,b,c,styles={},urlConverter=settings.url_converter,urlConverterScope=settings.url_converter_scope||this,compress=function(prefix,suffix,noJoin){var top,right,bottom,left;if((top=styles[prefix+"-top"+suffix])&&(right=styles[prefix+"-right"+suffix])&&(bottom=styles[prefix+"-bottom"+suffix])&&(left=styles[prefix+"-left"+suffix])){var box=[top,right,bottom,left];for(i=box.length-1;i--&&box[i]===box[i+1];);-1<i&&noJoin||(styles[prefix+suffix]=-1===i?box[0]:box.join(" "),delete styles[prefix+"-top"+suffix],delete styles[prefix+"-right"+suffix],delete styles[prefix+"-bottom"+suffix],delete styles[prefix+"-left"+suffix])}},canCompress=function(key){var i,value=styles[key];if(value){for(i=(value=value.split(" ")).length;i--;)if(value[i]!==value[0])return!1;return styles[key]=value[0],!0}},encode=function(str){return isEncoded=!0,encodingLookup[str]},decode=function(str,keepSlashes){return isEncoded&&(str=str.replace(/\uFEFF[0-9]/g,function(str){return encodingLookup[str]})),keepSlashes||(str=str.replace(/\\([\'\";:])/g,"$1")),str},decodeSingleHexSequence=function(escSeq){return String.fromCharCode(parseInt(escSeq.slice(1),16))},decodeHexSequences=function(value){return value.replace(/\\[0-9a-f]+/gi,decodeSingleHexSequence)},processUrl=function(match,url,url2,url3,str,str2){if(str=str||str2)return"'"+(str=decode(str)).replace(/\'/g,"\\'")+"'";if(url=decode(url||url2||url3),!settings.allow_script_urls){var scriptUrl=url.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(scriptUrl))return"";if(!settings.allow_svg_data_urls&&/^data:image\/svg/i.test(scriptUrl))return""}return urlConverter&&(url=urlConverter.call(urlConverterScope,url,"style")),"url('"+url.replace(/\'/g,"\\'")+"')"};if(css){for(css=(css=css.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,encode).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(str){return str.replace(/[;:]/g,encode)});matches=styleRegExp.exec(css);)if(styleRegExp.lastIndex=matches.index+matches[0].length,name=matches[1].replace(trimRightRegExp,"").toLowerCase(),value=matches[2].replace(trimRightRegExp,""),name&&value){if(name=decodeHexSequences(name),value=decodeHexSequences(value),-1!==name.indexOf("\ufeff")||-1!==name.indexOf('"'))continue;if(!settings.allow_script_urls&&("behavior"===name||/expression\s*\(|\/\*|\*\//.test(value)))continue;"font-weight"===name&&"700"===value?value="bold":"color"!==name&&"background-color"!==name||(value=value.toLowerCase()),value=(value=value.replace(rgbRegExp,toHex)).replace(urlOrStrRegExp,processUrl),styles[name]=isEncoded?decode(value,!0):value}compress("border","",!0),compress("border","-width"),compress("border","-color"),compress("border","-style"),compress("padding",""),compress("margin",""),target="border",b="border-style",c="border-color",canCompress(a="border-width")&&canCompress(b)&&canCompress(c)&&(styles[target]=styles[a]+" "+styles[b]+" "+styles[c],delete styles[a],delete styles[b],delete styles[c]),"medium none"===styles.border&&delete styles.border,"none"===styles["border-image"]&&delete styles["border-image"]}return styles},serialize:function(styles,elementName){var name,value,css="",serializeStyles=function(name){var styleList,i,l,value;if(styleList=validStyles[name])for(i=0,l=styleList.length;i<l;i++)name=styleList[i],(value=styles[name])&&(css+=(0<css.length?" ":"")+name+": "+value+";")},isValid=function(name,elementName){var styleMap;return!((styleMap=invalidStyles["*"])&&styleMap[name]||(styleMap=invalidStyles[elementName])&&styleMap[name])};if(elementName&&validStyles)serializeStyles("*"),serializeStyles(elementName);else for(name in styles)!(value=styles[name])||invalidStyles&&!isValid(name,elementName)||(css+=(0<css.length?" ":"")+name+": "+value+";");return css}}}var each$5=$_1qam7ujjdud76lb.each,is$2=$_1qam7ujjdud76lb.is,grep$1=$_1qam7ujjdud76lb.grep,isIE=$_3faz499jdud76f2.ie,simpleSelectorRe=/^([a-z0-9],?)+$/i,whiteSpaceRegExp$2=/^[ \t\r\n]*$/,updateInternalStyleAttr=function(domUtils,$elm){var value=$elm.attr("style");(value=domUtils.serializeStyle(domUtils.parseStyle(value),$elm[0].nodeName))||(value=null),$elm.attr("data-mce-style",value)},nodeIndex=function(node,normalized){var lastNodeType,nodeType,idx=0;if(node)for(lastNodeType=node.nodeType,node=node.previousSibling;node;node=node.previousSibling)nodeType=node.nodeType,(!normalized||3!==nodeType||nodeType!==lastNodeType&&node.nodeValue.length)&&(idx++,lastNodeType=nodeType);return idx},DOMUtils=function(doc,settings){var blockElementsMap,self=this;self.doc=doc,self.win=window,self.files={},self.counter=0,self.stdMode=!isIE||8<=doc.documentMode,self.boxModel=!isIE||"CSS1Compat"===doc.compatMode||self.stdMode,self.styleSheetLoader=function StyleSheetLoader(document,settings){var maxLoadTime,idCount=0,loadedStates={};maxLoadTime=(settings=settings||{}).maxLoadTime||5e3;var appendToHead=function(node){document.getElementsByTagName("head")[0].appendChild(node)},load=function(url,loadedCallback,errorCallback){var link,style,startTime,state,passed=function(){for(var callbacks=state.passed,i=callbacks.length;i--;)callbacks[i]();state.status=2,state.passed=[],state.failed=[]},failed=function(){for(var callbacks=state.failed,i=callbacks.length;i--;)callbacks[i]();state.status=3,state.passed=[],state.failed=[]},wait=function(testCallback,waitCallback){testCallback()||((new Date).getTime()-startTime<maxLoadTime?$_8b7b3gjdud76ig.setTimeout(waitCallback):failed())},waitForWebKitLinkLoaded=function(){wait(function(){for(var styleSheet,owner,styleSheets=document.styleSheets,i=styleSheets.length;i--;)if((owner=(styleSheet=styleSheets[i]).ownerNode?styleSheet.ownerNode:styleSheet.owningElement)&&owner.id===link.id)return passed(),!0},waitForWebKitLinkLoaded)},waitForGeckoLinkLoaded=function(){wait(function(){try{var cssRules=style.sheet.cssRules;return passed(),!!cssRules}catch(ex){}},waitForGeckoLinkLoaded)};if(url=$_1qam7ujjdud76lb._addCacheSuffix(url),loadedStates[url]?state=loadedStates[url]:(state={passed:[],failed:[]},loadedStates[url]=state),loadedCallback&&state.passed.push(loadedCallback),errorCallback&&state.failed.push(errorCallback),1!==state.status)if(2!==state.status)if(3!==state.status){if(state.status=1,(link=document.createElement("link")).rel="stylesheet",link.type="text/css",link.id="u"+idCount++,link.async=!1,link.defer=!1,startTime=(new Date).getTime(),"onload"in link&&!((webKitChunks=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(webKitChunks[1],10)<536))link.onload=waitForWebKitLinkLoaded,link.onerror=failed;else{if(0<navigator.userAgent.indexOf("Firefox"))return(style=document.createElement("style")).textContent='@import "'+url+'"',waitForGeckoLinkLoaded(),void appendToHead(style);waitForWebKitLinkLoaded()}var webKitChunks;appendToHead(link),link.href=url}else failed();else passed()},loadF=function(url){return Future.nu(function(resolve){load(url,$_dree2x6jdud76bv.compose(resolve,$_dree2x6jdud76bv.constant(Result.value(url))),$_dree2x6jdud76bv.compose(resolve,$_dree2x6jdud76bv.constant(Result.error(url))))})},unbox=function(result){return result.fold($_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity)};return{load:load,loadAll:function(urls,success,failure){$_dypo731kjdud76qd.par($_2rdhjp4jdud76b1.map(urls,loadF)).get(function(result){var parts=$_2rdhjp4jdud76b1.partition(result,function(r){return r.isValue()});0<parts.fail.length?failure(parts.fail.map(unbox)):success(parts.pass.map(unbox))})}}}(doc),self.boundEvents=[],self.settings=settings=settings||{},self.schema=settings.schema?settings.schema:Schema({}),self.styles=Styles({url_converter:settings.url_converter,url_converter_scope:settings.url_converter_scope},settings.schema),self.fixDoc(doc),self.events=settings.ownEvents?new EventUtils(settings.proxy):EventUtils.Event,self.attrHooks=function(domUtils,settings){var keepUrlHook,attrHooks={},keepValues=settings.keep_values;return keepUrlHook={set:function($elm,value,name){settings.url_converter&&(value=settings.url_converter.call(settings.url_converter_scope||domUtils,value,name,$elm[0])),$elm.attr("data-mce-"+name,value).attr(name,value)},get:function($elm,name){return $elm.attr("data-mce-"+name)||$elm.attr(name)}},attrHooks={style:{set:function($elm,value){null===value||"object"!=typeof value?(keepValues&&$elm.attr("data-mce-style",value),$elm.attr("style",value)):$elm.css(value)},get:function($elm){var value=$elm.attr("data-mce-style")||$elm.attr("style");return value=domUtils.serializeStyle(domUtils.parseStyle(value),$elm[0].nodeName)}}},keepValues&&(attrHooks.href=attrHooks.src=keepUrlHook),attrHooks}(self,settings),blockElementsMap=self.schema.getBlockElements(),self.$=DomQuery.overrideDefaults(function(){return{context:doc,element:self.getRoot()}}),self.isBlock=function(node){if(!node)return!1;var type=node.nodeType;return type?!(1!==type||!blockElementsMap[node.nodeName]):!!blockElementsMap[node]}};DOMUtils.prototype={$$:function(elm){return"string"==typeof elm&&(elm=this.get(elm)),this.$(elm)},root:null,fixDoc:function(doc){},clone:function(node,deep){var clone,doc,self=this;return!isIE||1!==node.nodeType||deep?node.cloneNode(deep):(doc=self.doc,deep?clone.firstChild:(clone=doc.createElement(node.nodeName),each$5(self.getAttribs(node),function(attr){self.setAttrib(clone,attr.nodeName,self.getAttrib(node,attr.nodeName))}),clone))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(win){var doc,rootElm;return doc=(win=win||this.win).document,rootElm=this.boxModel?doc.documentElement:doc.body,{x:win.pageXOffset||rootElm.scrollLeft,y:win.pageYOffset||rootElm.scrollTop,w:win.innerWidth||rootElm.clientWidth,h:win.innerHeight||rootElm.clientHeight}},getRect:function(elm){var pos,size;return elm=this.get(elm),pos=this.getPos(elm),size=this.getSize(elm),{x:pos.x,y:pos.y,w:size.w,h:size.h}},getSize:function(elm){var w,h;return elm=this.get(elm),w=this.getStyle(elm,"width"),h=this.getStyle(elm,"height"),-1===w.indexOf("px")&&(w=0),-1===h.indexOf("px")&&(h=0),{w:parseInt(w,10)||elm.offsetWidth||elm.clientWidth,h:parseInt(h,10)||elm.offsetHeight||elm.clientHeight}},getParent:function(node,selector,root){return this.getParents(node,selector,root,!1)},getParents:function(node,selector,root,collect){var selectorVal,self=this,result=[];for(node=self.get(node),collect=void 0===collect,root=root||("BODY"!==self.getRoot().nodeName?self.getRoot().parentNode:null),is$2(selector,"string")&&(selector="*"===(selectorVal=selector)?function(node){return 1===node.nodeType}:function(node){return self.is(node,selectorVal)});node&&node!==root&&node.nodeType&&9!==node.nodeType;){if(!selector||selector(node)){if(!collect)return node;result.push(node)}node=node.parentNode}return collect?result:null},get:function(elm){var name;return elm&&this.doc&&"string"==typeof elm&&(name=elm,(elm=this.doc.getElementById(elm))&&elm.id!==name)?this.doc.getElementsByName(name)[1]:elm},getNext:function(node,selector){return this._findSib(node,selector,"nextSibling")},getPrev:function(node,selector){return this._findSib(node,selector,"previousSibling")},select:function(selector,scope){return Sizzle(selector,this.get(scope)||this.settings.root_element||this.doc,[])},is:function(elm,selector){var i;if(!elm)return!1;if(void 0===elm.length){if("*"===selector)return 1===elm.nodeType;if(simpleSelectorRe.test(selector)){for(selector=selector.toLowerCase().split(/,/),elm=elm.nodeName.toLowerCase(),i=selector.length-1;0<=i;i--)if(selector[i]===elm)return!0;return!1}}if(elm.nodeType&&1!==elm.nodeType)return!1;var elms=elm.nodeType?[elm]:elm;return 0<Sizzle(selector,elms[0].ownerDocument||elms[0],null,elms).length},add:function(parentElm,name,attrs,html,create){var self=this;return this.run(parentElm,function(parentElm){var newElm;return newElm=is$2(name,"string")?self.doc.createElement(name):name,self.setAttribs(newElm,attrs),html&&(html.nodeType?newElm.appendChild(html):self.setHTML(newElm,html)),create?newElm:parentElm.appendChild(newElm)})},create:function(name,attrs,html){return this.add(this.doc.createElement(name),name,attrs,html,1)},createHTML:function(name,attrs,html){var key,outHtml="";for(key in outHtml+="<"+name,attrs)attrs.hasOwnProperty(key)&&null!==attrs[key]&&void 0!==attrs[key]&&(outHtml+=" "+key+'="'+this.encode(attrs[key])+'"');return void 0!==html?outHtml+">"+html+"</"+name+">":outHtml+" />"},createFragment:function(html){var frag,node,container,doc=this.doc;for(container=doc.createElement("div"),frag=doc.createDocumentFragment(),html&&(container.innerHTML=html);node=container.firstChild;)frag.appendChild(node);return frag},remove:function(node,keepChildren){return node=this.$$(node),keepChildren?node.each(function(){for(var child;child=this.firstChild;)3===child.nodeType&&0===child.data.length?this.removeChild(child):this.parentNode.insertBefore(child,this)}).remove():node.remove(),1<node.length?node.toArray():node[0]},setStyle:function(elm,name,value){elm=this.$$(elm).css(name,value),this.settings.update_styles&&updateInternalStyleAttr(this,elm)},getStyle:function(elm,name,computed){return elm=this.$$(elm),computed?elm.css(name):("float"===(name=name.replace(/-(\D)/g,function(a,b){return b.toUpperCase()}))&&(name=$_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<12?"styleFloat":"cssFloat"),elm[0]&&elm[0].style?elm[0].style[name]:void 0)},setStyles:function(elm,styles){elm=this.$$(elm).css(styles),this.settings.update_styles&&updateInternalStyleAttr(this,elm)},removeAllAttribs:function(e){return this.run(e,function(e){var i,attrs=e.attributes;for(i=attrs.length-1;0<=i;i--)e.removeAttributeNode(attrs.item(i))})},setAttrib:function(elm,name,value){var originalValue,hook,settings=this.settings;""===value&&(value=null),originalValue=(elm=this.$$(elm)).attr(name),elm.length&&((hook=this.attrHooks[name])&&hook.set?hook.set(elm,value,name):elm.attr(name,value),originalValue!==value&&settings.onSetAttrib&&settings.onSetAttrib({attrElm:elm,attrName:name,attrValue:value}))},setAttribs:function(elm,attrs){var self=this;self.$$(elm).each(function(i,node){each$5(attrs,function(value,name){self.setAttrib(node,name,value)})})},getAttrib:function(elm,name,defaultVal){var hook,value;return(elm=this.$$(elm)).length&&(value=(hook=this.attrHooks[name])&&hook.get?hook.get(elm,name):elm.attr(name)),void 0===value&&(value=defaultVal||""),value},getPos:function(elm,rootElm){return $_8oendeljdud76lp_getPos(this.doc.body,this.get(elm),rootElm)},parseStyle:function(cssText){return this.styles.parse(cssText)},serializeStyle:function(styles,name){return this.styles.serialize(styles,name)},addStyle:function(cssText){var head,styleElm,doc=this.doc;if(this!==DOMUtils.DOM&&doc===document){var addedStyles=DOMUtils.DOM.addedStyles;if((addedStyles=addedStyles||[])[cssText])return;addedStyles[cssText]=!0,DOMUtils.DOM.addedStyles=addedStyles}(styleElm=doc.getElementById("mceDefaultStyles"))||((styleElm=doc.createElement("style")).id="mceDefaultStyles",styleElm.type="text/css",(head=doc.getElementsByTagName("head")[0]).firstChild?head.insertBefore(styleElm,head.firstChild):head.appendChild(styleElm)),styleElm.styleSheet?styleElm.styleSheet.cssText+=cssText:styleElm.appendChild(doc.createTextNode(cssText))},loadCSS:function(url){var head,self=this,doc=self.doc;self===DOMUtils.DOM||doc!==document?(url||(url=""),head=doc.getElementsByTagName("head")[0],each$5(url.split(","),function(url){var link;url=$_1qam7ujjdud76lb._addCacheSuffix(url),self.files[url]||(self.files[url]=!0,link=self.create("link",{rel:"stylesheet",href:url}),isIE&&doc.documentMode&&doc.recalc&&(link.onload=function(){doc.recalc&&doc.recalc(),link.onload=null}),head.appendChild(link))})):DOMUtils.DOM.loadCSS(url)},addClass:function(elm,cls){this.$$(elm).addClass(cls)},removeClass:function(elm,cls){this.toggleClass(elm,cls,!1)},hasClass:function(elm,cls){return this.$$(elm).hasClass(cls)},toggleClass:function(elm,cls,state){this.$$(elm).toggleClass(cls,state).each(function(){""===this.className&&DomQuery(this).attr("class",null)})},show:function(elm){this.$$(elm).show()},hide:function(elm){this.$$(elm).hide()},isHidden:function(elm){return"none"===this.$$(elm).css("display")},uniqueId:function(prefix){return(prefix||"mce_")+this.counter++},setHTML:function(elm,html){elm=this.$$(elm),isIE?elm.each(function(i,target){if(!1!==target.canHaveHTML){for(;target.firstChild;)target.removeChild(target.firstChild);try{target.innerHTML="<br>"+html,target.removeChild(target.firstChild)}catch(ex){DomQuery("<div></div>").html("<br>"+html).contents().slice(1).appendTo(target)}return html}}):elm.html(html)},getOuterHTML:function(elm){return 1===(elm=this.get(elm)).nodeType&&"outerHTML"in elm?elm.outerHTML:DomQuery("<div></div>").append(DomQuery(elm).clone()).html()},setOuterHTML:function(elm,html){var self=this;self.$$(elm).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=html)}catch(ex){}self.remove(DomQuery(this).html(html),!0)})},decode:$_qg6wh1rjdud76r2.decode,encode:$_qg6wh1rjdud76r2.encodeAllRaw,insertAfter:function(node,referenceNode){return referenceNode=this.get(referenceNode),this.run(node,function(node){var parent,nextSibling;return parent=referenceNode.parentNode,(nextSibling=referenceNode.nextSibling)?parent.insertBefore(node,nextSibling):parent.appendChild(node),node})},replace:function(newElm,oldElm,keepChildren){return this.run(oldElm,function(oldElm){return is$2(oldElm,"array")&&(newElm=newElm.cloneNode(!0)),keepChildren&&each$5(grep$1(oldElm.childNodes),function(node){newElm.appendChild(node)}),oldElm.parentNode.replaceChild(newElm,oldElm)})},rename:function(elm,name){var newElm,self=this;return elm.nodeName!==name.toUpperCase()&&(newElm=self.create(name),each$5(self.getAttribs(elm),function(attrNode){self.setAttrib(newElm,attrNode.nodeName,self.getAttrib(elm,attrNode.nodeName))}),self.replace(newElm,elm,1)),newElm||elm},findCommonAncestor:function(a,b){for(var pe,ps=a;ps;){for(pe=b;pe&&ps!==pe;)pe=pe.parentNode;if(ps===pe)break;ps=ps.parentNode}return!ps&&a.ownerDocument?a.ownerDocument.documentElement:ps},toHex:function(rgbVal){return this.styles.toHex($_1qam7ujjdud76lb.trim(rgbVal))},run:function(elm,func,scope){var result,self=this;return"string"==typeof elm&&(elm=self.get(elm)),!!elm&&(scope=scope||this,elm.nodeType||!elm.length&&0!==elm.length?func.call(scope,elm):(result=[],each$5(elm,function(elm,i){elm&&("string"==typeof elm&&(elm=self.get(elm)),result.push(func.call(scope,elm,i)))}),result))},getAttribs:function(elm){var attrs;return(elm=this.get(elm))?isIE?(attrs=[],"OBJECT"===elm.nodeName?elm.attributes:("OPTION"===elm.nodeName&&this.getAttrib(elm,"selected")&&attrs.push({specified:1,nodeName:"selected"}),elm.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(a){attrs.push({specified:1,nodeName:a})}),attrs)):elm.attributes:[]},isEmpty:function(node,elements){var i,attributes,type,whitespace,walker,name,brCount=0;if(node=node.firstChild){walker=new TreeWalker(node,node.parentNode),elements=elements||(this.schema?this.schema.getNonEmptyElements():null),whitespace=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(type=node.nodeType)){var bogusVal=node.getAttribute("data-mce-bogus");if(bogusVal){node=walker.next("all"===bogusVal);continue}if(name=node.nodeName.toLowerCase(),elements&&elements[name]){if("br"===name){brCount++,node=walker.next();continue}return!1}for(i=(attributes=this.getAttribs(node)).length;i--;)if("name"===(name=attributes[i].nodeName)||"data-mce-bookmark"===name)return!1}if(8===type)return!1;if(3===type&&!whiteSpaceRegExp$2.test(node.nodeValue))return!1;if(3===type&&node.parentNode&&whitespace[node.parentNode.nodeName]&&whiteSpaceRegExp$2.test(node.nodeValue))return!1;node=walker.next()}while(node)}return brCount<=1},createRng:function(){return this.doc.createRange()},nodeIndex:nodeIndex,split:function(parentElm,splitElm,replacementElm){var bef,aft,pa,r=this.createRng();if(parentElm&&splitElm)return r.setStart(parentElm.parentNode,this.nodeIndex(parentElm)),r.setEnd(splitElm.parentNode,this.nodeIndex(splitElm)),bef=r.extractContents(),(r=this.createRng()).setStart(splitElm.parentNode,this.nodeIndex(splitElm)+1),r.setEnd(parentElm.parentNode,this.nodeIndex(parentElm)+1),aft=r.extractContents(),(pa=parentElm.parentNode).insertBefore($_bfg4m21ojdud76qm.trimNode(this,bef),parentElm),replacementElm?pa.insertBefore(replacementElm,parentElm):pa.insertBefore(splitElm,parentElm),pa.insertBefore($_bfg4m21ojdud76qm.trimNode(this,aft),parentElm),this.remove(parentElm),replacementElm||splitElm},bind:function(target,name,func,scope){if($_1qam7ujjdud76lb.isArray(target)){for(var i=target.length;i--;)target[i]=this.bind(target[i],name,func,scope);return target}return!this.settings.collect||target!==this.doc&&target!==this.win||this.boundEvents.push([target,name,func,scope]),this.events.bind(target,name,func,scope||this)},unbind:function(target,name,func){var i;if($_1qam7ujjdud76lb.isArray(target)){for(i=target.length;i--;)target[i]=this.unbind(target[i],name,func);return target}if(this.boundEvents&&(target===this.doc||target===this.win))for(i=this.boundEvents.length;i--;){var item=this.boundEvents[i];target!==item[0]||name&&name!==item[1]||func&&func!==item[2]||this.events.unbind(item[0],item[1],item[2])}return this.events.unbind(target,name,func)},fire:function(target,name,evt){return this.events.fire(target,name,evt)},getContentEditable:function(node){var contentEditable;return node&&1===node.nodeType?(contentEditable=node.getAttribute("data-mce-contenteditable"))&&"inherit"!==contentEditable?contentEditable:"inherit"!==node.contentEditable?node.contentEditable:null:null},getContentEditableParent:function(node){for(var root=this.getRoot(),state=null;node&&node!==root&&null===(state=this.getContentEditable(node));node=node.parentNode);return state},destroy:function(){if(this.boundEvents){for(var i=this.boundEvents.length;i--;){var item=this.boundEvents[i];this.events.unbind(item[0],item[1],item[2])}this.boundEvents=null}Sizzle.setDocument&&Sizzle.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(node,parent){for(;node;){if(parent===node)return!0;node=node.parentNode}return!1},dumpRng:function(r){return"startContainer: "+r.startContainer.nodeName+", startOffset: "+r.startOffset+", endContainer: "+r.endContainer.nodeName+", endOffset: "+r.endOffset},_findSib:function(node,selector,name){var self=this,func=selector;if(node)for("string"==typeof func&&(func=function(node){return self.is(node,selector)}),node=node[name];node;node=node[name])if(func(node))return node;return null}},DOMUtils.DOM=new DOMUtils(document),DOMUtils.nodeIndex=nodeIndex;var DOM=DOMUtils.DOM,each$6=$_1qam7ujjdud76lb.each,grep$2=$_1qam7ujjdud76lb.grep,isFunction=function(f){return"function"==typeof f},ScriptLoader=function(){var states={},queue=[],scriptLoadedCallbacks={},queueLoadedCallbacks=[],loading=0;this.isDone=function(url){return 2===states[url]},this.markDone=function(url){states[url]=2},this.add=this.load=function(url,success,scope,failure){void 0===states[url]&&(queue.push(url),states[url]=0),success&&(scriptLoadedCallbacks[url]||(scriptLoadedCallbacks[url]=[]),scriptLoadedCallbacks[url].push({success:success,failure:failure,scope:scope||this}))},this.remove=function(url){delete states[url],delete scriptLoadedCallbacks[url]},this.loadQueue=function(success,scope,failure){this.loadScripts(queue,success,scope,failure)},this.loadScripts=function(scripts,success,scope,failure){var loadScripts,failures=[],execCallbacks=function(name,url){each$6(scriptLoadedCallbacks[url],function(callback){isFunction(callback[name])&&callback[name].call(callback.scope)}),scriptLoadedCallbacks[url]=void 0};queueLoadedCallbacks.push({success:success,failure:failure,scope:scope||this}),(loadScripts=function(){var loadingScripts=grep$2(scripts);if(scripts.length=0,each$6(loadingScripts,function(url){2!==states[url]?3!==states[url]?1!==states[url]&&(states[url]=1,loading++,function(url,success,failure){var elm,id,dom=DOM,done=function(){dom.remove(id),elm&&(elm.onreadystatechange=elm.onload=elm=null),success()};id=dom.uniqueId(),(elm=document.createElement("script")).id=id,elm.type="text/javascript",elm.src=$_1qam7ujjdud76lb._addCacheSuffix(url),"onreadystatechange"in elm?elm.onreadystatechange=function(){/loaded|complete/.test(elm.readyState)&&done()}:elm.onload=done,elm.onerror=function(){isFunction(failure)?failure():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+url)},(document.getElementsByTagName("head")[0]||document.body).appendChild(elm)}(url,function(){states[url]=2,loading--,execCallbacks("success",url),loadScripts()},function(){states[url]=3,loading--,failures.push(url),execCallbacks("failure",url),loadScripts()})):execCallbacks("failure",url):execCallbacks("success",url)}),!loading){var notifyCallbacks=queueLoadedCallbacks.slice(0);queueLoadedCallbacks.length=0,each$6(notifyCallbacks,function(callback){0===failures.length?isFunction(callback.success)&&callback.success.call(callback.scope):isFunction(callback.failure)&&callback.failure.call(callback.scope,failures)})}})()}};ScriptLoader.ScriptLoader=new ScriptLoader;var each$7=$_1qam7ujjdud76lb.each,AddOnManager=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};AddOnManager.prototype={get:function(name){if(this.lookup[name])return this.lookup[name].instance},dependencies:function(name){var result;return this.lookup[name]&&(result=this.lookup[name].dependencies),result||[]},requireLangPack:function(name,languages){var language=AddOnManager.language;if(language&&!1!==AddOnManager.languageLoad){if(languages)if(-1!==(languages=","+languages+",").indexOf(","+language.substr(0,2)+","))language=language.substr(0,2);else if(-1===languages.indexOf(","+language+","))return;ScriptLoader.ScriptLoader.add(this.urls[name]+"/langs/"+language+".js")}},add:function(id,addOn,dependencies){this.items.push(addOn),this.lookup[id]={instance:addOn,dependencies:dependencies};var result=$_2rdhjp4jdud76b1.partition(this._listeners,function(listener){return listener.name===id});return this._listeners=result.fail,each$7(result.pass,function(listener){listener.callback()}),addOn},remove:function(name){delete this.urls[name],delete this.lookup[name]},createUrl:function(baseUrl,dep){return"object"==typeof dep?dep:{prefix:baseUrl.prefix,resource:dep,suffix:baseUrl.suffix}},addComponents:function(pluginName,scripts){var pluginUrl=this.urls[pluginName];each$7(scripts,function(script){ScriptLoader.ScriptLoader.add(pluginUrl+"/"+script)})},load:function(name,addOnUrl,success,scope,failure){var self=this,url=addOnUrl,loadDependencies=function(){var dependencies=self.dependencies(name);each$7(dependencies,function(dep){var newUrl=self.createUrl(addOnUrl,dep);self.load(newUrl.resource,newUrl,void 0,void 0)}),success&&(scope?success.call(scope):success.call(ScriptLoader))};self.urls[name]||("object"==typeof addOnUrl&&(url=addOnUrl.prefix+addOnUrl.resource+addOnUrl.suffix),0!==url.indexOf("/")&&-1===url.indexOf("://")&&(url=AddOnManager.baseURL+"/"+url),self.urls[name]=url.substring(0,url.lastIndexOf("/")),self.lookup[name]?loadDependencies():ScriptLoader.ScriptLoader.add(url,loadDependencies,scope,failure))},waitFor:function(name,callback){this.lookup.hasOwnProperty(name)?callback():this._listeners.push({name:name,callback:callback})}},AddOnManager.PluginManager=new AddOnManager,AddOnManager.ThemeManager=new AddOnManager;var $_264jtj21jdud76vi_isZwsp=function(chr){return"\ufeff"===chr},$_264jtj21jdud76vi_ZWSP="\ufeff",$_264jtj21jdud76vi_trim=function(text){return text.replace(new RegExp("\ufeff","g"),"")},isElement$2=$_2nbmh51qjdud76qx.isElement,isText$2=$_2nbmh51qjdud76qx.isText,isCaretContainerBlock=function(node){return isText$2(node)&&(node=node.parentNode),isElement$2(node)&&node.hasAttribute("data-mce-caret")},isCaretContainerInline=function(node){return isText$2(node)&&$_264jtj21jdud76vi_isZwsp(node.data)},isCaretContainer=function(node){return isCaretContainerBlock(node)||isCaretContainerInline(node)},hasContent=function(node){return node.firstChild!==node.lastChild||!$_2nbmh51qjdud76qx.isBr(node.firstChild)},isBeforeInline=function(pos){var container=pos.container();return pos&&$_2nbmh51qjdud76qx.isText(container)&&container.data.charAt(pos.offset())===$_264jtj21jdud76vi_ZWSP},isAfterInline=function(pos){var container=pos.container();return pos&&$_2nbmh51qjdud76qx.isText(container)&&container.data.charAt(pos.offset()-1)===$_264jtj21jdud76vi_ZWSP},insertBlock=function(blockName,node,before){var blockNode,parentNode,br;return(blockNode=node.ownerDocument.createElement(blockName)).setAttribute("data-mce-caret",before?"before":"after"),blockNode.setAttribute("data-mce-bogus","all"),blockNode.appendChild(((br=document.createElement("br")).setAttribute("data-mce-bogus","1"),br)),parentNode=node.parentNode,before?parentNode.insertBefore(blockNode,node):node.nextSibling?parentNode.insertBefore(blockNode,node.nextSibling):parentNode.appendChild(blockNode),blockNode},startsWithCaretContainer=function(node){return isText$2(node)&&node.data[0]===$_264jtj21jdud76vi_ZWSP},endsWithCaretContainer=function(node){return isText$2(node)&&node.data[node.data.length-1]===$_264jtj21jdud76vi_ZWSP},showCaretContainerBlock=function(caretContainer){return caretContainer&&caretContainer.hasAttribute("data-mce-caret")?(brs=caretContainer.getElementsByTagName("br"),lastBr=brs[brs.length-1],$_2nbmh51qjdud76qx.isBogus(lastBr)&&lastBr.parentNode.removeChild(lastBr),caretContainer.removeAttribute("data-mce-caret"),caretContainer.removeAttribute("data-mce-bogus"),caretContainer.removeAttribute("style"),caretContainer.removeAttribute("_moz_abspos"),caretContainer):null;var brs,lastBr},isContentEditableTrue$1=$_2nbmh51qjdud76qx.isContentEditableTrue,isContentEditableFalse$1=$_2nbmh51qjdud76qx.isContentEditableFalse,isBr$2=$_2nbmh51qjdud76qx.isBr,isText$3=$_2nbmh51qjdud76qx.isText,isInvalidTextElement=$_2nbmh51qjdud76qx.matchNodeNames("script style textarea"),isAtomicInline=$_2nbmh51qjdud76qx.matchNodeNames("img input textarea hr iframe video audio object"),isTable$1=$_2nbmh51qjdud76qx.matchNodeNames("table"),isCaretContainer$1=isCaretContainer,isCaretCandidate=function(node){return!isCaretContainer$1(node)&&(isText$3(node)?!isInvalidTextElement(node.parentNode):isAtomicInline(node)||isBr$2(node)||isTable$1(node)||isContentEditableFalse$1(node))},isEditableCaretCandidate=function(node,root){return isCaretCandidate(node)&&function(node,root){for(node=node.parentNode;node&&node!==root;node=node.parentNode){if(isContentEditableFalse$1(node))return!1;if(isContentEditableTrue$1(node))return!0}return!0}(node,root)},round=Math.round,clone$1=function(rect){return rect?{left:round(rect.left),top:round(rect.top),bottom:round(rect.bottom),right:round(rect.right),width:round(rect.width),height:round(rect.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},collapse=function(rect,toStart){return rect=clone$1(rect),toStart||(rect.left=rect.left+rect.width),rect.right=rect.left,rect.width=0,rect},isValidOverflow=function(overflowY,rect1,rect2){return 0<=overflowY&&overflowY<=Math.min(rect1.height,rect2.height)/2},isAbove=function(rect1,rect2){return rect1.bottom-rect1.height/2<rect2.top||!(rect1.top>rect2.bottom)&&isValidOverflow(rect2.top-rect1.bottom,rect1,rect2)},isBelow=function(rect1,rect2){return rect1.top>rect2.bottom||!(rect1.bottom<rect2.top)&&isValidOverflow(rect2.bottom-rect1.top,rect1,rect2)},getSelectedNode=function(range){var startContainer=range.startContainer,startOffset=range.startOffset;return startContainer.hasChildNodes()&&range.endOffset===startOffset+1?startContainer.childNodes[startOffset]:null},getNode=function(container,offset){return 1===container.nodeType&&container.hasChildNodes()&&(offset>=container.childNodes.length&&(offset=container.childNodes.length-1),container=container.childNodes[offset]),container},extendingChars=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),isExtendingChar=function(ch){return"string"==typeof ch&&768<=ch.charCodeAt(0)&&extendingChars.test(ch)},slice$3=[].slice,curry$1=function(fn){for(var x=[],_i=1;_i<arguments.length;_i++)x[_i-1]=arguments[_i];var args=slice$3.call(arguments);return args.length-1>=fn.length?fn.apply(this,args.slice(1)):function(){var tempArgs=args.concat([].slice.call(arguments));return curry$1.apply(this,tempArgs)}},$_2zdr8e25jdud76vr={constant:function(value){return function(){return value}},negate:function(predicate){return function(x){return!predicate(x)}},and:function(){for(var x=[],_i=0;_i<arguments.length;_i++)x[_i]=arguments[_i];var args=slice$3.call(arguments);return function(x){for(var i=0;i<args.length;i++)if(!args[i](x))return!1;return!0}},or:function(){for(var x=[],_i=0;_i<arguments.length;_i++)x[_i]=arguments[_i];var args=slice$3.call(arguments);return function(x){for(var i=0;i<args.length;i++)if(args[i](x))return!0;return!1}},curry:curry$1,compose:function(f,g){return function(x){return f(g(x))}},noop:function(){}},isElement$3=$_2nbmh51qjdud76qx.isElement,isCaretCandidate$1=isCaretCandidate,isBlock$1=$_2nbmh51qjdud76qx.matchStyleValues("display","block table"),isFloated=$_2nbmh51qjdud76qx.matchStyleValues("float","left right"),isValidElementCaretCandidate=$_2zdr8e25jdud76vr.and(isElement$3,isCaretCandidate$1,$_2zdr8e25jdud76vr.negate(isFloated)),isNotPre=$_2zdr8e25jdud76vr.negate($_2nbmh51qjdud76qx.matchStyleValues("white-space","pre pre-line pre-wrap")),isText$4=$_2nbmh51qjdud76qx.isText,isBr$3=$_2nbmh51qjdud76qx.isBr,nodeIndex$1=DOMUtils.nodeIndex,resolveIndex=getNode,createRange=function(doc){return"createRange"in doc?doc.createRange():DOMUtils.DOM.createRng()},isWhiteSpace=function(chr){return chr&&/[\r\n\t ]/.test(chr)},isRange=function(rng){return!!rng.setStart&&!!rng.setEnd},isHiddenWhiteSpaceRange=function(range){var text,container=range.startContainer,offset=range.startOffset;return!!(isWhiteSpace(range.toString())&&isNotPre(container.parentNode)&&$_2nbmh51qjdud76qx.isText(container)&&(text=container.data,isWhiteSpace(text[offset-1])||isWhiteSpace(text[offset+1])))},isZeroRect=function(r){return 0===r.left&&0===r.right&&0===r.top&&0===r.bottom},getBoundingClientRect=function(item){var clientRect,clientRects;return clientRect=0<(clientRects=item.getClientRects()).length?clone$1(clientRects[0]):clone$1(item.getBoundingClientRect()),!isRange(item)&&isBr$3(item)&&isZeroRect(clientRect)?function(brNode){var clientRect,doc=brNode.ownerDocument,rng=createRange(doc),nbsp=doc.createTextNode("\xa0"),parentNode=brNode.parentNode;return parentNode.insertBefore(nbsp,brNode),rng.setStart(nbsp,0),rng.setEnd(nbsp,1),clientRect=clone$1(rng.getBoundingClientRect()),parentNode.removeChild(nbsp),clientRect}(item):isZeroRect(clientRect)&&isRange(item)?function(rng){var sc=rng.startContainer,ec=rng.endContainer,so=rng.startOffset,eo=rng.endOffset;if(sc===ec&&$_2nbmh51qjdud76qx.isText(ec)&&0===so&&1===eo){var newRng=rng.cloneRange();return newRng.setEndAfter(ec),getBoundingClientRect(newRng)}return null}(item):clientRect},collapseAndInflateWidth=function(clientRect,toStart){var newClientRect=collapse(clientRect,toStart);return newClientRect.width=1,newClientRect.right=newClientRect.left+1,newClientRect},getCaretPositionClientRects=function(caretPosition){var beforeNode,node,clientRects=[],addUniqueAndValidRect=function(clientRect){var rect1,rect2;0!==clientRect.height&&(0<clientRects.length&&(rect1=clientRect,rect2=clientRects[clientRects.length-1],rect1.left===rect2.left&&rect1.top===rect2.top&&rect1.bottom===rect2.bottom&&rect1.right===rect2.right)||clientRects.push(clientRect))},addCharacterOffset=function(container,offset){var range=createRange(container.ownerDocument);if(offset<container.data.length){if(isExtendingChar(container.data[offset]))return clientRects;if(isExtendingChar(container.data[offset-1])&&(range.setStart(container,offset),range.setEnd(container,offset+1),!isHiddenWhiteSpaceRange(range)))return addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range),!1)),clientRects}0<offset&&(range.setStart(container,offset-1),range.setEnd(container,offset),isHiddenWhiteSpaceRange(range)||addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range),!1))),offset<container.data.length&&(range.setStart(container,offset),range.setEnd(container,offset+1),isHiddenWhiteSpaceRange(range)||addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range),!0)))};if(isText$4(caretPosition.container()))return addCharacterOffset(caretPosition.container(),caretPosition.offset()),clientRects;if(isElement$3(caretPosition.container()))if(caretPosition.isAtEnd())node=resolveIndex(caretPosition.container(),caretPosition.offset()),isText$4(node)&&addCharacterOffset(node,node.data.length),isValidElementCaretCandidate(node)&&!isBr$3(node)&&addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),!1));else{if(node=resolveIndex(caretPosition.container(),caretPosition.offset()),isText$4(node)&&addCharacterOffset(node,0),isValidElementCaretCandidate(node)&&caretPosition.isAtEnd())return addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),!1)),clientRects;beforeNode=resolveIndex(caretPosition.container(),caretPosition.offset()-1),isValidElementCaretCandidate(beforeNode)&&!isBr$3(beforeNode)&&(isBlock$1(beforeNode)||isBlock$1(node)||!isValidElementCaretCandidate(node))&&addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode),!1)),isValidElementCaretCandidate(node)&&addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),!0))}return clientRects};function CaretPosition(container,offset,clientRects){var getClientRects=function(){return clientRects||(clientRects=getCaretPositionClientRects(CaretPosition(container,offset))),clientRects};return{container:$_2zdr8e25jdud76vr.constant(container),offset:$_2zdr8e25jdud76vr.constant(offset),toRange:function(){var range;return(range=createRange(container.ownerDocument)).setStart(container,offset),range.setEnd(container,offset),range},getClientRects:getClientRects,isVisible:function(){return 0<getClientRects().length},isAtStart:function(){return isText$4(container),0===offset},isAtEnd:function(){return isText$4(container)?offset>=container.data.length:offset>=container.childNodes.length},isEqual:function(caretPosition){return caretPosition&&container===caretPosition.container()&&offset===caretPosition.offset()},getNode:function(before){return resolveIndex(container,before?offset-1:offset)}}}!function(CaretPosition){CaretPosition.fromRangeStart=function(range){return CaretPosition(range.startContainer,range.startOffset)},CaretPosition.fromRangeEnd=function(range){return CaretPosition(range.endContainer,range.endOffset)},CaretPosition.after=function(node){return CaretPosition(node.parentNode,nodeIndex$1(node)+1)},CaretPosition.before=function(node){return CaretPosition(node.parentNode,nodeIndex$1(node))},CaretPosition.isAtStart=function(pos){return!!pos&&pos.isAtStart()},CaretPosition.isAtEnd=function(pos){return!!pos&&pos.isAtEnd()},CaretPosition.isTextPosition=function(pos){return!!pos&&$_2nbmh51qjdud76qx.isText(pos.container())}}(CaretPosition||(CaretPosition={}));var BreakType,CaretPosition$1=CaretPosition,isElement$4=$_2nbmh51qjdud76qx.isElement,isText$5=$_2nbmh51qjdud76qx.isText,removeNode=function(node){var parentNode=node.parentNode;parentNode&&parentNode.removeChild(node)},setNodeValue=function(node,text){0===text.length?removeNode(node):node.nodeValue=text},trimCount=function(text){var trimmedText=$_264jtj21jdud76vi_trim(text);return{count:text.length-trimmedText.length,text:trimmedText}},removeUnchanged=function(caretContainer,pos){return remove$2(caretContainer),pos},removeTextCaretContainer=function(caretContainer,pos){return isText$5(caretContainer)&&pos.container()===caretContainer?function(caretContainer,pos){var before=trimCount(caretContainer.data.substr(0,pos.offset())),after=trimCount(caretContainer.data.substr(pos.offset())),text=before.text+after.text;return 0<text.length?(setNodeValue(caretContainer,text),CaretPosition$1(caretContainer,pos.offset()-before.count)):pos}(caretContainer,pos):removeUnchanged(caretContainer,pos)},removeElementCaretContainer=function(caretContainer,pos){return pos.container()===caretContainer.parentNode?function(caretContainer,pos){var parentNode=pos.container(),newPosition=$_2rdhjp4jdud76b1.indexOf(parentNode.childNodes,caretContainer).map(function(index){return index<pos.offset()?CaretPosition$1(parentNode,pos.offset()-1):pos}).getOr(pos);return remove$2(caretContainer),newPosition}(caretContainer,pos):removeUnchanged(caretContainer,pos)},remove$2=function(caretContainerNode){if(isElement$4(caretContainerNode)&&isCaretContainer(caretContainerNode)&&(hasContent(caretContainerNode)?caretContainerNode.removeAttribute("data-mce-caret"):removeNode(caretContainerNode)),isText$5(caretContainerNode)){var text=$_264jtj21jdud76vi_trim(function(node){try{return node.nodeValue}catch(ex){return""}}(caretContainerNode));setNodeValue(caretContainerNode,text)}},$_cnzgug29jdud76wo={removeAndReposition:function(container,pos){return CaretPosition$1.isTextPosition(pos)?removeTextCaretContainer(container,pos):removeElementCaretContainer(container,pos)},remove:remove$2},isBeforeOrStart=function(position){return CaretPosition$1.isTextPosition(position)?0===position.offset():isCaretCandidate(position.getNode())},isAfterOrEnd=function(position){if(CaretPosition$1.isTextPosition(position)){var container=position.container();return position.offset()===container.data.length}return isCaretCandidate(position.getNode(!0))},isBeforeAfterSameElement=function(from,to){return!CaretPosition$1.isTextPosition(from)&&!CaretPosition$1.isTextPosition(to)&&from.getNode()===to.getNode(!0)},shouldSkipPosition=function(forward,from,to){return forward?!isBeforeAfterSameElement(from,to)&&(position=from,!(!CaretPosition$1.isTextPosition(position)&&$_2nbmh51qjdud76qx.isBr(position.getNode())))&&isAfterOrEnd(from)&&isBeforeOrStart(to):!isBeforeAfterSameElement(to,from)&&isBeforeOrStart(from)&&isAfterOrEnd(to);var position},fromPosition=function(forward,root,pos){var walker=CaretWalker(root);return Option.from(forward?walker.next(pos):walker.prev(pos))},positionIn=function(forward,element){var node,startNode=forward?element.firstChild:element.lastChild;return $_2nbmh51qjdud76qx.isText(startNode)?Option.some(CaretPosition$1(startNode,forward?0:startNode.data.length)):startNode?isCaretCandidate(startNode)?Option.some(forward?CaretPosition$1.before(startNode):(node=startNode,$_2nbmh51qjdud76qx.isBr(node)?CaretPosition$1.before(node):CaretPosition$1.after(node))):function(forward,root,start){var position=forward?CaretPosition$1.before(start):CaretPosition$1.after(start);return fromPosition(forward,root,position)}(forward,element,startNode):Option.none()},$_a05mnc2bjdud76xb={fromPosition:fromPosition,nextPosition:$_dree2x6jdud76bv.curry(fromPosition,!0),prevPosition:$_dree2x6jdud76bv.curry(fromPosition,!1),navigate:function(forward,root,from){return fromPosition(forward,root,from).bind(function(to){return isInSameBlock(from,to,root)&&shouldSkipPosition(forward,from,to)?fromPosition(forward,root,to):Option.some(to)})},positionIn:positionIn,firstPositionIn:$_dree2x6jdud76bv.curry(positionIn,!0),lastPositionIn:$_dree2x6jdud76bv.curry(positionIn,!1)},isContentEditableTrue$2=$_2nbmh51qjdud76qx.isContentEditableTrue,isContentEditableFalse$2=$_2nbmh51qjdud76qx.isContentEditableFalse,showCaret=function(direction,editor,node,before){return editor._selectionOverrides.showCaret(direction,node,before)},selectNode=function(editor,node){return editor.fire("BeforeObjectSelected",{target:node}).isDefaultPrevented()?null:function(node){var rng=node.ownerDocument.createRange();return rng.selectNode(node),rng}(node)},renderCaretAtRange=function(editor,range){var caretPosition,ceRoot;return range=normalizeRange(1,editor.getBody(),range),caretPosition=CaretPosition$1.fromRangeStart(range),isContentEditableFalse$2(caretPosition.getNode())?showCaret(1,editor,caretPosition.getNode(),!caretPosition.isAtEnd()):isContentEditableFalse$2(caretPosition.getNode(!0))?showCaret(1,editor,caretPosition.getNode(!0),!1):(ceRoot=editor.dom.getParent(caretPosition.getNode(),function(node){return isContentEditableFalse$2(node)||isContentEditableTrue$2(node)}),isContentEditableFalse$2(ceRoot)?showCaret(1,editor,ceRoot,!1):null)},renderRangeCaret=function(editor,range){return range&&range.collapsed&&renderCaretAtRange(editor,range)||range},$_dw9y2w2ejdud76xu_liftN=function(arr,f){for(var r=[],i=0;i<arr.length;i++){var x=arr[i];if(!x.isSome())return Option.none();r.push(x.getOrDie())}return Option.some(f.apply(null,r))};!function(BreakType){BreakType[BreakType.Br=0]="Br",BreakType[BreakType.Block=1]="Block",BreakType[BreakType.Wrap=2]="Wrap",BreakType[BreakType.Eol=3]="Eol"}(BreakType||(BreakType={}));var HDirection,flip=function(direction,positions){return direction===HDirection.Backwards?positions.reverse():positions},walk$1=function(direction,caretWalker,pos){return direction===HDirection.Forwards?caretWalker.next(pos):caretWalker.prev(pos)},getBreakType=function(scope,direction,currentPos,nextPos){return $_2nbmh51qjdud76qx.isBr(nextPos.getNode(direction===HDirection.Forwards))?BreakType.Br:!1===isInSameBlock(currentPos,nextPos)?BreakType.Block:BreakType.Wrap},getPositionsUntil=function(predicate,direction,scope,start){for(var nextPos,caretWalker=CaretWalker(scope),currentPos=start,positions=[];currentPos&&(nextPos=walk$1(direction,caretWalker,currentPos));){if($_2nbmh51qjdud76qx.isBr(nextPos.getNode(!1)))return direction===HDirection.Forwards?{positions:flip(direction,positions).concat([nextPos]),breakType:BreakType.Br,breakAt:Option.some(nextPos)}:{positions:flip(direction,positions),breakType:BreakType.Br,breakAt:Option.some(nextPos)};if(nextPos.isVisible()){if(predicate(currentPos,nextPos)){var breakType=getBreakType(0,direction,currentPos,nextPos);return{positions:flip(direction,positions),breakType:breakType,breakAt:Option.some(nextPos)}}positions.push(nextPos),currentPos=nextPos}else currentPos=nextPos}return{positions:flip(direction,positions),breakType:BreakType.Eol,breakAt:Option.none()}},getAdjacentLinePositions=function(direction,getPositionsUntilBreak,scope,start){return getPositionsUntilBreak(scope,start).breakAt.map(function(pos){var positions=getPositionsUntilBreak(scope,pos).positions;return direction===HDirection.Backwards?positions.concat(pos):[pos].concat(positions)}).getOr([])},findClosestHorizontalPositionFromPoint=function(positions,x){return $_2rdhjp4jdud76b1.foldl(positions,function(acc,newPos){return acc.fold(function(){return Option.some(newPos)},function(lastPos){return $_dw9y2w2ejdud76xu_liftN([$_2rdhjp4jdud76b1.head(lastPos.getClientRects()),$_2rdhjp4jdud76b1.head(newPos.getClientRects())],function(lastRect,newRect){var lastDist=Math.abs(x-lastRect.left);return Math.abs(x-newRect.left)<=lastDist?newPos:lastPos}).or(acc)})},Option.none())},findClosestHorizontalPosition=function(positions,pos){return $_2rdhjp4jdud76b1.head(pos.getClientRects()).bind(function(targetRect){return findClosestHorizontalPositionFromPoint(positions,targetRect.left)})},getPositionsUntilPreviousLine=$_dree2x6jdud76bv.curry(getPositionsUntil,function(pos1,pos2){return $_dw9y2w2ejdud76xu_liftN([$_2rdhjp4jdud76b1.head(pos2.getClientRects()),$_2rdhjp4jdud76b1.last(pos1.getClientRects())],isAbove).getOr(!1)},-1),getPositionsUntilNextLine=$_dree2x6jdud76bv.curry(getPositionsUntil,function(pos1,pos2){return $_dw9y2w2ejdud76xu_liftN([$_2rdhjp4jdud76b1.last(pos2.getClientRects()),$_2rdhjp4jdud76b1.head(pos1.getClientRects())],function(r1,r2){return isBelow(r1,r2)}).getOr(!1)},1),getPositionsAbove=$_dree2x6jdud76bv.curry(getAdjacentLinePositions,-1,getPositionsUntilPreviousLine),getPositionsBelow=$_dree2x6jdud76bv.curry(getAdjacentLinePositions,1,getPositionsUntilNextLine),$_fmr77x2gjdud76yg_descendants=function(scope,selector){return $_1jloty1fjdud76pi.all(selector,scope)},getClosestCell=function(getYAxisValue,isTargetCorner,table,x,y){var cells=$_fmr77x2gjdud76yg_descendants($_77yl9nyjdud76my.fromDom(table),"td,th").map(function(e){return e.dom()});return function(corners,x,y){return $_2rdhjp4jdud76b1.foldl(corners,function(acc,newCorner){return acc.fold(function(){return Option.some(newCorner)},function(oldCorner){var oldDist=Math.sqrt(Math.abs(oldCorner.x-x)+Math.abs(oldCorner.y-y)),newDist=Math.sqrt(Math.abs(newCorner.x-x)+Math.abs(newCorner.y-y));return Option.some(newDist<oldDist?newCorner:oldCorner)})},Option.none())}($_2rdhjp4jdud76b1.filter(function(getYAxisValue,tds){return $_2rdhjp4jdud76b1.bind(tds,function(td){var rect=function(rect,delta){return{left:rect.left-delta,top:rect.top-delta,right:rect.right+2*delta,bottom:rect.bottom+2*delta,width:rect.width+delta,height:rect.height+delta}}(td.getBoundingClientRect(),-1);return[{x:rect.left,y:getYAxisValue(rect),cell:td},{x:rect.right,y:getYAxisValue(rect),cell:td}]})}(getYAxisValue,cells),function(corner){return isTargetCorner(corner,y)}),x,y).map(function(corner){return corner.cell})},getClosestCellAbove=$_dree2x6jdud76bv.curry(getClosestCell,function(rect){return rect.bottom},function(corner,y){return corner.y<y}),getClosestCellBelow=$_dree2x6jdud76bv.curry(getClosestCell,function(rect){return rect.top},function(corner,y){return corner.y>y}),findClosestPositionInAboveCell=function(table,pos){return $_2rdhjp4jdud76b1.head(pos.getClientRects()).bind(function(rect){return getClosestCellAbove(table,rect.left,rect.top)}).bind(function(cell){return findClosestHorizontalPosition((scope=cell,$_a05mnc2bjdud76xb.lastPositionIn(scope).map(function(pos){return getPositionsUntilPreviousLine(scope,pos).positions.concat(pos)}).getOr([])),pos);var scope})},findClosestPositionInBelowCell=function(table,pos){return $_2rdhjp4jdud76b1.last(pos.getClientRects()).bind(function(rect){return getClosestCellBelow(table,rect.left,rect.top)}).bind(function(cell){return findClosestHorizontalPosition((scope=cell,$_a05mnc2bjdud76xb.firstPositionIn(scope).map(function(pos){return[pos].concat(getPositionsUntilNextLine(scope,pos).positions)}).getOr([])),pos);var scope})},browser$2=$_csimq8mjdud76ly.detect().browser,isFakeCaretTableBrowser=function(){return browser$2.isIE()||browser$2.isEdge()||browser$2.isFirefox()},isAtTableCellLine=function(getPositionsUntil,scope,pos){var lineInfo=getPositionsUntil(scope,pos);return lineInfo.breakType===BreakType.Wrap&&0===lineInfo.positions.length?lineInfo.breakAt.map(function(breakPos){return getPositionsUntil(scope,breakPos).breakAt.isNone()}).getOr(!0):lineInfo.breakAt.isNone()},isAtFirstTableCellLine=$_2zdr8e25jdud76vr.curry(isAtTableCellLine,getPositionsUntilPreviousLine),isAtLastTableCellLine=$_2zdr8e25jdud76vr.curry(isAtTableCellLine,getPositionsUntilNextLine),navigateHorizontally=function(editor,forward,table,td){var rng=editor.selection.getRng(),direction=forward?1:-1;if(isFakeCaretTableBrowser()&&function(forward,rng,table){var caretPos=CaretPosition$1.fromRangeStart(rng);return $_a05mnc2bjdud76xb.positionIn(!forward,table).map(function(pos){return pos.isEqual(caretPos)}).getOr(!1)}(forward,rng,table)){var newRng=showCaret(direction,editor,table,!forward);return editor.selection.setRng(newRng),!0}return!1},navigateVertically=function(editor,down,table,td){var rng=editor.selection.getRng(),pos=CaretPosition$1.fromRangeStart(rng),root=editor.getBody();if(!down&&isAtFirstTableCellLine(td,pos)){var newPos=function(root,table,start){return findClosestPositionInAboveCell(table,start).orThunk(function(){return $_2rdhjp4jdud76b1.head(start.getClientRects()).bind(function(rect){return findClosestHorizontalPositionFromPoint(getPositionsAbove(root,CaretPosition$1.before(table)),rect.left)})}).getOr(CaretPosition$1.before(table))}(root,table,pos);return editor.selection.setRng(newPos.toRange()),!0}return!(!down||!isAtLastTableCellLine(td,pos))&&(newPos=function(root,table,start){return findClosestPositionInBelowCell(table,start).orThunk(function(){return $_2rdhjp4jdud76b1.head(start.getClientRects()).bind(function(rect){return findClosestHorizontalPositionFromPoint(getPositionsBelow(root,CaretPosition$1.after(table)),rect.left)})}).getOr(CaretPosition$1.after(table))}(root,table,pos),editor.selection.setRng(newPos.toRange()),!0)},moveH=function(editor,forward){return function(){return Option.from(editor.dom.getParent(editor.selection.getNode(),"td,th")).bind(function(td){return Option.from(editor.dom.getParent(td,"table")).map(function(table){return navigateHorizontally(editor,forward,table)})}).getOr(!1)}},moveV=function(editor,forward){return function(){return Option.from(editor.dom.getParent(editor.selection.getNode(),"td,th")).bind(function(td){return Option.from(editor.dom.getParent(td,"table")).map(function(table){return navigateVertically(editor,forward,table,td)})}).getOr(!1)}},isContentEditableFalse$3=$_2nbmh51qjdud76qx.isContentEditableFalse,FakeCaret=function(root,isBlock){var cursorInterval,caretContainerNode,$lastVisualCaret=null,hide=function(){!function(root){var contentEditableFalseNodes,node,sibling,i,data;for(contentEditableFalseNodes=DomQuery("*[contentEditable=false]",root),i=0;i<contentEditableFalseNodes.length;i++)sibling=(node=contentEditableFalseNodes[i]).previousSibling,endsWithCaretContainer(sibling)&&(1===(data=sibling.data).length?sibling.parentNode.removeChild(sibling):sibling.deleteData(data.length-1,1)),sibling=node.nextSibling,startsWithCaretContainer(sibling)&&(1===(data=sibling.data).length?sibling.parentNode.removeChild(sibling):sibling.deleteData(0,1))}(root),caretContainerNode&&($_cnzgug29jdud76wo.remove(caretContainerNode),caretContainerNode=null),$lastVisualCaret&&($lastVisualCaret.remove(),$lastVisualCaret=null),clearInterval(cursorInterval)},startBlink=function(){cursorInterval=$_8b7b3gjdud76ig.setInterval(function(){!function(root){return root.ownerDocument.activeElement===root}(root)?DomQuery("div.mce-visual-caret",root).addClass("mce-visual-caret-hidden"):DomQuery("div.mce-visual-caret",root).toggleClass("mce-visual-caret-hidden")},500)};return{show:function(before,element){var clientRect,rng,node;return hide(),node=element,$_2nbmh51qjdud76qx.isElement(node)&&/^(TD|TH)$/i.test(node.tagName)?null:(isBlock(element)?(caretContainerNode=insertBlock("p",element,before),clientRect=function(root,element,before){var docElm,scrollX,scrollY,margin,rootRect,clientRect=collapse(element.getBoundingClientRect(),before);return"BODY"===root.tagName?(docElm=root.ownerDocument.documentElement,scrollX=root.scrollLeft||docElm.scrollLeft,scrollY=root.scrollTop||docElm.scrollTop):(rootRect=root.getBoundingClientRect(),scrollX=root.scrollLeft-rootRect.left,scrollY=root.scrollTop-rootRect.top),clientRect.left+=scrollX,clientRect.right+=scrollX,clientRect.top+=scrollY,clientRect.bottom+=scrollY,clientRect.width=1,0<(margin=element.offsetWidth-element.clientWidth)&&(before&&(margin*=-1),clientRect.left+=margin,clientRect.right+=margin),clientRect}(root,element,before),DomQuery(caretContainerNode).css("top",clientRect.top),$lastVisualCaret=DomQuery('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(clientRect).appendTo(root),before&&$lastVisualCaret.addClass("mce-visual-caret-before"),startBlink(),(rng=element.ownerDocument.createRange()).setStart(caretContainerNode,0),rng.setEnd(caretContainerNode,0)):(caretContainerNode=function(node,before){var sibling,textNode,parentNode;if(textNode=node.ownerDocument.createTextNode($_264jtj21jdud76vi_ZWSP),parentNode=node.parentNode,before){if(sibling=node.previousSibling,isText$2(sibling)){if(isCaretContainer(sibling))return sibling;if(endsWithCaretContainer(sibling))return sibling.splitText(sibling.data.length-1)}parentNode.insertBefore(textNode,node)}else{if(sibling=node.nextSibling,isText$2(sibling)){if(isCaretContainer(sibling))return sibling;if(startsWithCaretContainer(sibling))return sibling.splitText(1),sibling}node.nextSibling?parentNode.insertBefore(textNode,node.nextSibling):parentNode.appendChild(textNode)}return textNode}(element,before),rng=element.ownerDocument.createRange(),isContentEditableFalse$3(caretContainerNode.nextSibling)?(rng.setStart(caretContainerNode,0),rng.setEnd(caretContainerNode,0)):(rng.setStart(caretContainerNode,1),rng.setEnd(caretContainerNode,1))),rng)},hide:hide,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){return $_8b7b3gjdud76ig.clearInterval(cursorInterval)}}},isFakeCaretTarget=function(node){return isContentEditableFalse$3(node)||$_2nbmh51qjdud76qx.isTable(node)&&isFakeCaretTableBrowser()},isContentEditableFalse$4=$_2nbmh51qjdud76qx.isContentEditableFalse,isBlockLike=$_2nbmh51qjdud76qx.matchStyleValues("display","block table table-cell table-caption list-item"),isCaretContainer$2=isCaretContainer,isCaretContainerBlock$1=isCaretContainerBlock,curry$2=$_2zdr8e25jdud76vr.curry,isElement$5=$_2nbmh51qjdud76qx.isElement,isCaretCandidate$2=isCaretCandidate,isForwards=function(direction){return 0<direction},isBackwards=function(direction){return direction<0},skipCaretContainers=function(walk,shallow){for(var node;node=walk(shallow);)if(!isCaretContainerBlock$1(node))return node;return null},findNode=function(node,direction,predicateFn,rootNode,shallow){var walker=new TreeWalker(node,rootNode);if(isBackwards(direction)){if((isContentEditableFalse$4(node)||isCaretContainerBlock$1(node))&&predicateFn(node=skipCaretContainers(walker.prev,!0)))return node;for(;node=skipCaretContainers(walker.prev,shallow);)if(predicateFn(node))return node}if(isForwards(direction)){if((isContentEditableFalse$4(node)||isCaretContainerBlock$1(node))&&predicateFn(node=skipCaretContainers(walker.next,!0)))return node;for(;node=skipCaretContainers(walker.next,shallow);)if(predicateFn(node))return node}return null},getParentBlock=function(node,rootNode){for(;node&&node!==rootNode;){if(isBlockLike(node))return node;node=node.parentNode}return null},isInSameBlock=function(caretPosition1,caretPosition2,rootNode){return getParentBlock(caretPosition1.container(),rootNode)===getParentBlock(caretPosition2.container(),rootNode)},getChildNodeAtRelativeOffset=function(relativeOffset,caretPosition){var container,offset;return caretPosition?(container=caretPosition.container(),offset=caretPosition.offset(),isElement$5(container)?container.childNodes[offset+relativeOffset]:null):null},beforeAfter=function(before,node){var range=node.ownerDocument.createRange();return before?(range.setStartBefore(node),range.setEndBefore(node)):(range.setStartAfter(node),range.setEndAfter(node)),range},isNodesInSameBlock=function(root,node1,node2){return getParentBlock(node1,root)===getParentBlock(node2,root)},lean=function(left,root,node){var sibling,siblingName;for(siblingName=left?"previousSibling":"nextSibling";node&&node!==root;){if(sibling=node[siblingName],isCaretContainer$2(sibling)&&(sibling=sibling[siblingName]),isContentEditableFalse$4(sibling)){if(isNodesInSameBlock(root,sibling,node))return sibling;break}if(isCaretCandidate$2(sibling))break;node=node.parentNode}return null},before=curry$2(beforeAfter,!0),after=curry$2(beforeAfter,!1),normalizeRange=function(direction,root,range){var node,container,offset,location,leanLeft=curry$2(lean,!0,root),leanRight=curry$2(lean,!1,root);if(container=range.startContainer,offset=range.startOffset,isCaretContainerBlock(container)){if(isElement$5(container)||(container=container.parentNode),"before"===(location=container.getAttribute("data-mce-caret"))&&(node=container.nextSibling,isFakeCaretTarget(node)))return before(node);if("after"===location&&(node=container.previousSibling,isFakeCaretTarget(node)))return after(node)}if(!range.collapsed)return range;if($_2nbmh51qjdud76qx.isText(container)){if(isCaretContainer$2(container)){if(1===direction){if(node=leanRight(container))return before(node);if(node=leanLeft(container))return after(node)}if(-1===direction){if(node=leanLeft(container))return after(node);if(node=leanRight(container))return before(node)}return range}if(endsWithCaretContainer(container)&&offset>=container.data.length-1)return 1===direction&&(node=leanRight(container))?before(node):range;if(startsWithCaretContainer(container)&&offset<=1)return-1===direction&&(node=leanLeft(container))?after(node):range;if(offset===container.data.length)return(node=leanRight(container))?before(node):range;if(0===offset)return(node=leanLeft(container))?after(node):range}return range},isNextToContentEditableFalse=function(relativeOffset,caretPosition){var node=getChildNodeAtRelativeOffset(relativeOffset,caretPosition);return isContentEditableFalse$4(node)&&!$_2nbmh51qjdud76qx.isBogusAll(node)},isNextToTable=function(relativeOffset,caretPosition){return $_2nbmh51qjdud76qx.isTable(getChildNodeAtRelativeOffset(relativeOffset,caretPosition))},getRelativeCefElm=function(forward,caretPosition){return Option.from(getChildNodeAtRelativeOffset(forward?0:-1,caretPosition)).filter(isContentEditableFalse$4)},getNormalizedRangeEndPoint=function(direction,root,range){var normalizedRange=normalizeRange(direction,root,range);return-1===direction?CaretPosition.fromRangeStart(normalizedRange):CaretPosition.fromRangeEnd(normalizedRange)},isBeforeContentEditableFalse=curry$2(isNextToContentEditableFalse,0),isAfterContentEditableFalse=curry$2(isNextToContentEditableFalse,-1),isBeforeTable=curry$2(isNextToTable,0),isAfterTable=curry$2(isNextToTable,-1);!function(HDirection){HDirection[HDirection.Backwards=-1]="Backwards",HDirection[HDirection.Forwards=1]="Forwards"}(HDirection||(HDirection={}));var isContentEditableFalse$5=$_2nbmh51qjdud76qx.isContentEditableFalse,isText$6=$_2nbmh51qjdud76qx.isText,isElement$6=$_2nbmh51qjdud76qx.isElement,isBr$4=$_2nbmh51qjdud76qx.isBr,isCaretCandidate$3=isCaretCandidate,isAtomic$1=function(node){return isAtomicInline(node)||function(node){return!!isContentEditableFalse$1(node)&&!0!==$_bimkbokjdud76lk.reduce(node.getElementsByTagName("*"),function(result,elm){return result||isContentEditableTrue$1(elm)},!1)}(node)},isEditableCaretCandidate$1=isEditableCaretCandidate,nodeAtIndex=function(container,offset){return container.hasChildNodes()&&offset<container.childNodes.length?container.childNodes[offset]:null},getCaretCandidatePosition=function(direction,node){if(isForwards(direction)){if(isCaretCandidate$3(node.previousSibling)&&!isText$6(node.previousSibling))return CaretPosition$1.before(node);if(isText$6(node))return CaretPosition$1(node,0)}if(isBackwards(direction)){if(isCaretCandidate$3(node.nextSibling)&&!isText$6(node.nextSibling))return CaretPosition$1.after(node);if(isText$6(node))return CaretPosition$1(node,node.data.length)}return isBackwards(direction)?isBr$4(node)?CaretPosition$1.before(node):CaretPosition$1.after(node):CaretPosition$1.before(node)},findCaretPosition=function(direction,startPos,root){var node,nextNode,innerNode,rootContentEditableFalseElm,caretPosition;if(!isElement$6(root)||!startPos)return null;if(startPos.isEqual(CaretPosition$1.after(root))&&root.lastChild){if(caretPosition=CaretPosition$1.after(root.lastChild),isBackwards(direction)&&isCaretCandidate$3(root.lastChild)&&isElement$6(root.lastChild))return isBr$4(root.lastChild)?CaretPosition$1.before(root.lastChild):caretPosition}else caretPosition=startPos;var container=caretPosition.container(),offset=caretPosition.offset();if(isText$6(container)){if(isBackwards(direction)&&0<offset)return CaretPosition$1(container,--offset);if(isForwards(direction)&&offset<container.length)return CaretPosition$1(container,++offset);node=container}else{if(isBackwards(direction)&&0<offset&&(nextNode=nodeAtIndex(container,offset-1),isCaretCandidate$3(nextNode)))return!isAtomic$1(nextNode)&&(innerNode=findNode(nextNode,direction,isEditableCaretCandidate$1,nextNode))?isText$6(innerNode)?CaretPosition$1(innerNode,innerNode.data.length):CaretPosition$1.after(innerNode):isText$6(nextNode)?CaretPosition$1(nextNode,nextNode.data.length):CaretPosition$1.before(nextNode);if(isForwards(direction)&&offset<container.childNodes.length&&(nextNode=nodeAtIndex(container,offset),isCaretCandidate$3(nextNode)))return function(node,root){var next;return!!$_2nbmh51qjdud76qx.isBr(node)&&!!(next=findCaretPosition(1,CaretPosition$1.after(node),root))&&!isInSameBlock(CaretPosition$1.before(node),CaretPosition$1.before(next),root)}(nextNode,root)?findCaretPosition(direction,CaretPosition$1.after(nextNode),root):!isAtomic$1(nextNode)&&(innerNode=findNode(nextNode,direction,isEditableCaretCandidate$1,nextNode))?isText$6(innerNode)?CaretPosition$1(innerNode,0):CaretPosition$1.before(innerNode):isText$6(nextNode)?CaretPosition$1(nextNode,0):CaretPosition$1.after(nextNode);node=nextNode||caretPosition.getNode()}return(isForwards(direction)&&caretPosition.isAtEnd()||isBackwards(direction)&&caretPosition.isAtStart())&&(node=findNode(node,direction,$_2zdr8e25jdud76vr.constant(!0),root,!0),isEditableCaretCandidate$1(node,root))?getCaretCandidatePosition(direction,node):(nextNode=findNode(node,direction,isEditableCaretCandidate$1,root),!(rootContentEditableFalseElm=$_bimkbokjdud76lk.last($_bimkbokjdud76lk.filter(function(node,root){for(var parents=[];node&&node!==root;)parents.push(node),node=node.parentNode;return parents}(container,root),isContentEditableFalse$5)))||nextNode&&rootContentEditableFalseElm.contains(nextNode)?nextNode?getCaretCandidatePosition(direction,nextNode):null:caretPosition=isForwards(direction)?CaretPosition$1.after(rootContentEditableFalseElm):CaretPosition$1.before(rootContentEditableFalseElm))},CaretWalker=function(root){return{next:function(caretPosition){return findCaretPosition(HDirection.Forwards,caretPosition,root)},prev:function(caretPosition){return findCaretPosition(HDirection.Backwards,caretPosition,root)}}},listItems$1=function(elm){return $_1qam7ujjdud76lb.grep(elm.childNodes,function(child){return"LI"===child.nodeName})},isListItemPadded=function(node){return node&&node.firstChild&&node.firstChild===node.lastChild&&function(node){return"\xa0"===node.data||$_2nbmh51qjdud76qx.isBr(node)}(node.firstChild)},trimListItems=function(elms){return 0<elms.length&&(!(elm=elms[elms.length-1]).firstChild||isListItemPadded(elm))?elms.slice(0,-1):elms;var elm},getParentLi=function(dom,node){var parentBlock=dom.getParent(node,dom.isBlock);return parentBlock&&"LI"===parentBlock.nodeName?parentBlock:null},findLastOf=function(node,rootNode){var caretPos=CaretPosition$1.after(node),newCaretPos=CaretWalker(rootNode).prev(caretPos);return newCaretPos?newCaretPos.toRange():null},insertBefore=function(target,elms,rootNode){var parentElm=target.parentNode;return $_1qam7ujjdud76lb.each(elms,function(elm){parentElm.insertBefore(elm,target)}),function(node,rootNode){var caretPos=CaretPosition$1.before(node),newCaretPos=CaretWalker(rootNode).next(caretPos);return newCaretPos?newCaretPos.toRange():null}(target,rootNode)},$_p0bhp1xjdud76ue_isListFragment=function(schema,fragment){var firstChild=fragment.firstChild,lastChild=fragment.lastChild;return firstChild&&"meta"===firstChild.name&&(firstChild=firstChild.next),lastChild&&"mce_marker"===lastChild.attr("id")&&(lastChild=lastChild.prev),function(schema,node){var nonEmptyElements=schema.getNonEmptyElements();return node&&(node.isEmpty(nonEmptyElements)||function(schema,node){return schema.getBlockElements()[node.name]&&function(node){return node.firstChild&&node.firstChild===node.lastChild}(node)&&function(node){return"br"===node.name||"\xa0"===node.value}(node.firstChild)}(schema,node))}(schema,lastChild)&&(lastChild=lastChild.prev),!(!firstChild||firstChild!==lastChild||"ul"!==firstChild.name&&"ol"!==firstChild.name)},$_p0bhp1xjdud76ue_insertAtCaret=function(serializer,dom,rng,fragment){var domFragment=function(dom,serializer,fragment){var html=serializer.serialize(fragment);return function(domFragment){var firstChild=domFragment.firstChild,lastChild=domFragment.lastChild;return firstChild&&"META"===firstChild.nodeName&&firstChild.parentNode.removeChild(firstChild),lastChild&&"mce_marker"===lastChild.id&&lastChild.parentNode.removeChild(lastChild),domFragment}(dom.createFragment(html))}(dom,serializer,fragment),liTarget=getParentLi(dom,rng.startContainer),liElms=trimListItems(listItems$1(domFragment.firstChild)),rootNode=dom.getRoot(),isAt=function(location){var caretPos=CaretPosition$1.fromRangeStart(rng),caretWalker=CaretWalker(dom.getRoot()),newPos=1===location?caretWalker.prev(caretPos):caretWalker.next(caretPos);return!newPos||getParentLi(dom,newPos.getNode())!==liTarget};return isAt(1)?insertBefore(liTarget,liElms,rootNode):isAt(2)?function(target,elms,rootNode,dom){return dom.insertAfter(elms.reverse(),target),findLastOf(elms[0],rootNode)}(liTarget,liElms,rootNode,dom):function(target,elms,rootNode,rng){var parts=function(parentNode,rng){var beforeRng=rng.cloneRange(),afterRng=rng.cloneRange();return beforeRng.setStartBefore(parentNode),afterRng.setEndAfter(parentNode),[beforeRng.cloneContents(),afterRng.cloneContents()]}(target,rng),parentElm=target.parentNode;return parentElm.insertBefore(parts[0],target),$_1qam7ujjdud76lb.each(elms,function(li){parentElm.insertBefore(li,target)}),parentElm.insertBefore(parts[1],target),parentElm.removeChild(target),findLastOf(elms[elms.length-1],rootNode)}(liTarget,liElms,rootNode,rng)},$_p0bhp1xjdud76ue_isParentBlockLi=function(dom,node){return!!getParentLi(dom,node)},isText$7=$_2nbmh51qjdud76qx.isText,isBogus$1=$_2nbmh51qjdud76qx.isBogus,nodeIndex$2=DOMUtils.nodeIndex,normalizedParent=function(node){var parentNode=node.parentNode;return isBogus$1(parentNode)?normalizedParent(parentNode):parentNode},getChildNodes=function(node){return node?$_bimkbokjdud76lk.reduce(node.childNodes,function(result,node){return isBogus$1(node)&&"BR"!==node.nodeName?result=result.concat(getChildNodes(node)):result.push(node),result},[]):[]},equal$1=function(a){return function(b){return a===b}},createPathItem=function(node){return(isText$7(node)?"text()":node.nodeName.toLowerCase())+"["+function(node){var nodes,index,numTextFragments;return nodes=getChildNodes(normalizedParent(node)),index=$_bimkbokjdud76lk.findIndex(nodes,equal$1(node),node),nodes=nodes.slice(0,index+1),numTextFragments=$_bimkbokjdud76lk.reduce(nodes,function(result,node,i){return isText$7(node)&&isText$7(nodes[i-1])&&result++,result},0),nodes=$_bimkbokjdud76lk.filter(nodes,$_2nbmh51qjdud76qx.matchNodeNames(node.nodeName)),(index=$_bimkbokjdud76lk.findIndex(nodes,equal$1(node),node))-numTextFragments}(node)+"]"},create$1=function(root,caretPosition){var container,offset,outputOffset,childNodes,parents,path=[];return container=caretPosition.container(),offset=caretPosition.offset(),isText$7(container)?outputOffset=function(node,offset){for(;(node=node.previousSibling)&&isText$7(node);)offset+=node.data.length;return offset}(container,offset):(offset>=(childNodes=container.childNodes).length?(outputOffset="after",offset=childNodes.length-1):outputOffset="before",container=childNodes[offset]),path.push(createPathItem(container)),parents=function(root,node,predicate){var parents=[];for(node=node.parentNode;!(node===root||predicate&&predicate(node));node=node.parentNode)parents.push(node);return parents}(root,container),parents=$_bimkbokjdud76lk.filter(parents,$_2zdr8e25jdud76vr.negate($_2nbmh51qjdud76qx.isBogus)),(path=path.concat($_bimkbokjdud76lk.map(parents,function(node){return createPathItem(node)}))).reverse().join("/")+","+outputOffset},resolve$2=function(root,path){var parts,container,offset;return path?(path=(parts=path.split(","))[0].split("/"),offset=1<parts.length?parts[1]:"before",(container=$_bimkbokjdud76lk.reduce(path,function(result,value){return(value=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(value))?("text()"===value[1]&&(value[1]="#text"),node=result,name=value[1],index=parseInt(value[2],10),nodes=getChildNodes(node),nodes=$_bimkbokjdud76lk.filter(nodes,function(node,index){return!isText$7(node)||!isText$7(nodes[index-1])}),(nodes=$_bimkbokjdud76lk.filter(nodes,$_2nbmh51qjdud76qx.matchNodeNames(name)))[index]):null;var node,name,index,nodes},root))?isText$7(container)?function(container,offset){for(var dataLen,node=container,targetOffset=0;isText$7(node);){if(dataLen=node.data.length,targetOffset<=offset&&offset<=targetOffset+dataLen){container=node,offset-=targetOffset;break}if(!isText$7(node.nextSibling)){container=node,offset=dataLen;break}targetOffset+=dataLen,node=node.nextSibling}return isText$7(container)&&offset>container.data.length&&(offset=container.data.length),CaretPosition$1(container,offset)}(container,parseInt(offset,10)):(offset="after"===offset?nodeIndex$2(container)+1:nodeIndex$2(container),CaretPosition$1(container.parentNode,offset)):null):null},isContentEditableFalse$6=$_2nbmh51qjdud76qx.isContentEditableFalse,getPoint=function(dom,trim,normalized,rng,start){var childNodes,container=rng[start?"startContainer":"endContainer"],offset=rng[start?"startOffset":"endOffset"],point=[],after=0,root=dom.getRoot();for($_2nbmh51qjdud76qx.isText(container)?point.push(normalized?function(trim,container,offset){var node,trimmedOffset;for(trimmedOffset=trim(container.data.slice(0,offset)).length,node=container.previousSibling;node&&$_2nbmh51qjdud76qx.isText(node);node=node.previousSibling)trimmedOffset+=trim(node.data).length;return trimmedOffset}(trim,container,offset):offset):(offset>=(childNodes=container.childNodes).length&&childNodes.length&&(after=1,offset=Math.max(0,childNodes.length-1)),point.push(dom.nodeIndex(childNodes[offset],normalized)+after));container&&container!==root;container=container.parentNode)point.push(dom.nodeIndex(container,normalized));return point},trimEmptyTextNode=function(node){$_2nbmh51qjdud76qx.isText(node)&&0===node.data.length&&node.parentNode.removeChild(node)},findIndex$3=function(dom,name,element){var count=0;return $_1qam7ujjdud76lb.each(dom.select(name),function(node){if("all"!==node.getAttribute("data-mce-bogus"))return node!==element&&void count++}),count},moveEndPoint=function(rng,start){var container,offset,childNodes,prefix=start?"start":"end";container=rng[prefix+"Container"],offset=rng[prefix+"Offset"],$_2nbmh51qjdud76qx.isElement(container)&&"TR"===container.nodeName&&(container=(childNodes=container.childNodes)[Math.min(start?offset:offset-1,childNodes.length-1)])&&(offset=start?0:container.childNodes.length,rng["set"+(start?"Start":"End")](container,offset))},normalizeTableCellSelection=function(rng){return moveEndPoint(rng,!0),moveEndPoint(rng,!1),rng},findSibling=function(node,offset){var sibling;if($_2nbmh51qjdud76qx.isElement(node)&&(node=getNode(node,offset),isContentEditableFalse$6(node)))return node;if(isCaretContainer(node)){if($_2nbmh51qjdud76qx.isText(node)&&isCaretContainerBlock(node)&&(node=node.parentNode),sibling=node.previousSibling,isContentEditableFalse$6(sibling))return sibling;if(sibling=node.nextSibling,isContentEditableFalse$6(sibling))return sibling}},getOffsetBookmark=function(trim,normalized,selection){var element=selection.getNode(),name=element?element.nodeName:null,rng=selection.getRng();return isContentEditableFalse$6(element)||"IMG"===name?{name:name,index:findIndex$3(selection.dom,name,element)}:(element=function(rng){return findSibling(rng.startContainer,rng.startOffset)||findSibling(rng.endContainer,rng.endOffset)}(rng))?{name:name=element.tagName,index:findIndex$3(selection.dom,name,element)}:function(trim,selection,normalized,rng){var dom=selection.dom,bookmark={};return bookmark.start=getPoint(dom,trim,normalized,rng,!0),selection.isCollapsed()||(bookmark.end=getPoint(dom,trim,normalized,rng,!1)),bookmark}(trim,selection,normalized,rng)},$_b8w8gv2kjdud76yu={getBookmark:function(selection,type,normalized){return 2===type?getOffsetBookmark($_264jtj21jdud76vi_trim,normalized,selection):3===type?function(selection){var rng=selection.getRng();return{start:create$1(selection.dom.getRoot(),CaretPosition$1.fromRangeStart(rng)),end:create$1(selection.dom.getRoot(),CaretPosition$1.fromRangeEnd(rng))}}(selection):type?function(selection){return{rng:selection.getRng()}}(selection):function(selection){var dom=selection.dom,rng=selection.getRng(),id=dom.uniqueId(),collapsed=selection.isCollapsed(),styles="overflow:hidden;line-height:0px",element=selection.getNode(),name=element.nodeName;if("IMG"===name)return{name:name,index:findIndex$3(dom,name,element)};var rng2=normalizeTableCellSelection(rng.cloneRange());if(!collapsed){rng2.collapse(!1);var endBookmarkNode=dom.create("span",{"data-mce-type":"bookmark",id:id+"_end",style:styles},"&#xFEFF;");rng2.insertNode(endBookmarkNode),trimEmptyTextNode(endBookmarkNode.nextSibling)}(rng=normalizeTableCellSelection(rng)).collapse(!0);var startBookmarkNode=dom.create("span",{"data-mce-type":"bookmark",id:id+"_start",style:styles},"&#xFEFF;");return rng.insertNode(startBookmarkNode),trimEmptyTextNode(startBookmarkNode.previousSibling),selection.moveToBookmark({id:id,keep:1}),{id:id}}(selection)},getUndoBookmark:$_dree2x6jdud76bv.curry(getOffsetBookmark,$_dree2x6jdud76bv.identity,!0)},addBogus=function(dom,node){return!dom.isBlock(node)||node.innerHTML||$_3faz499jdud76f2.ie||(node.innerHTML='<br data-mce-bogus="1" />'),node},setEndPoint=function(dom,start,bookmark,rng){var i,node,offset,children,point=bookmark[start?"start":"end"],root=dom.getRoot();if(point){for(offset=point[0],node=root,i=point.length-1;1<=i;i--){if(children=node.childNodes,point[i]>children.length-1)return;node=children[point[i]]}3===node.nodeType&&(offset=Math.min(point[0],node.nodeValue.length)),1===node.nodeType&&(offset=Math.min(point[0],node.childNodes.length)),start?rng.setStart(node,offset):rng.setEnd(node,offset)}return!0},restoreEndPoint=function(dom,suffix,bookmark){var node,idx,next,prev,container,offset,marker=dom.get(bookmark.id+"_"+suffix),keep=bookmark.keep;if(marker){if(node=marker.parentNode,keep?(node=marker.firstChild,idx=1):idx=dom.nodeIndex(marker),container=node,offset=idx,!keep){for(prev=marker.previousSibling,next=marker.nextSibling,$_1qam7ujjdud76lb.each($_1qam7ujjdud76lb.grep(marker.childNodes),function(node){$_2nbmh51qjdud76qx.isText(node)&&(node.nodeValue=node.nodeValue.replace(/\uFEFF/g,""))});marker=dom.get(bookmark.id+"_"+suffix);)dom.remove(marker,1);prev&&next&&prev.nodeType===next.nodeType&&$_2nbmh51qjdud76qx.isText(prev)&&!$_3faz499jdud76f2.opera&&(idx=prev.nodeValue.length,prev.appendData(next.nodeValue),dom.remove(next),container=prev,offset=idx)}return Option.some(CaretPosition$1(container,offset))}return Option.none()},$_d9m12y2mjdud76z7_resolve=function(selection,bookmark){var dom=selection.dom;if(bookmark){if($_1qam7ujjdud76lb.isArray(bookmark.start))return function(dom,bookmark){var rng=dom.createRng();return setEndPoint(dom,!0,bookmark,rng)&&setEndPoint(dom,!1,bookmark,rng)?Option.some(rng):Option.none()}(dom,bookmark);if("string"==typeof bookmark.start)return Option.some(function(dom,bookmark){var rng,pos;return rng=dom.createRng(),pos=resolve$2(dom.getRoot(),bookmark.start),rng.setStart(pos.container(),pos.offset()),pos=resolve$2(dom.getRoot(),bookmark.end),rng.setEnd(pos.container(),pos.offset()),rng}(dom,bookmark));if(bookmark.id)return function(dom,bookmark){var o1,o2,startPos=restoreEndPoint(dom,"start",bookmark),endPos=restoreEndPoint(dom,"end",bookmark);return $_dw9y2w2ejdud76xu_liftN([startPos,(o1=endPos,o2=startPos,o1.isSome()?o1:o2)],function(spos,epos){var rng=dom.createRng();return rng.setStart(addBogus(dom,spos.container()),spos.offset()),rng.setEnd(addBogus(dom,epos.container()),epos.offset()),rng})}(dom,bookmark);if(bookmark.name)return function(dom,bookmark){return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function(elm){var rng=dom.createRng();return rng.selectNode(elm),rng})}(dom,bookmark);if(bookmark.rng)return Option.some(bookmark.rng)}return Option.none()},$_48h4o02jjdud76yr={getBookmark:function(selection,type,normalized){return $_b8w8gv2kjdud76yu.getBookmark(selection,type,normalized)},moveToBookmark:function(selection,bookmark){$_d9m12y2mjdud76z7_resolve(selection,bookmark).each(function(rng){selection.setRng(rng)})},isBookmarkNode:function(node){return $_2nbmh51qjdud76qx.isElement(node)&&"SPAN"===node.tagName&&"bookmark"===node.getAttribute("data-mce-type")}},each$8=$_1qam7ujjdud76lb.each,ElementUtils=function(dom){this.compare=function(node1,node2){if(node1.nodeName!==node2.nodeName)return!1;var getAttribs=function(node){var attribs={};return each$8(dom.getAttribs(node),function(attr){var name=attr.nodeName.toLowerCase();0!==name.indexOf("_")&&"style"!==name&&0!==name.indexOf("data-")&&(attribs[name]=dom.getAttrib(node,name))}),attribs},compareObjects=function(obj1,obj2){var value,name;for(name in obj1)if(obj1.hasOwnProperty(name)){if(void 0===(value=obj2[name]))return!1;if(obj1[name]!==value)return!1;delete obj2[name]}for(name in obj2)if(obj2.hasOwnProperty(name))return!1;return!0};return!(!compareObjects(getAttribs(node1),getAttribs(node2))||!compareObjects(dom.parseStyle(dom.getAttrib(node1,"style")),dom.parseStyle(dom.getAttrib(node2,"style")))||$_48h4o02jjdud76yr.isBookmarkNode(node1)||$_48h4o02jjdud76yr.isBookmarkNode(node2))}},before$1=function(marker,element){$_24kyxa17jdud76ok.parent(marker).each(function(v){v.dom().insertBefore(element.dom(),marker.dom())})},append=function(parent,element){parent.dom().appendChild(element.dom())},$_y9e9r2ojdud76zq={before:before$1,after:function(marker,element){$_24kyxa17jdud76ok.nextSibling(marker).fold(function(){$_24kyxa17jdud76ok.parent(marker).each(function(v){append(v,element)})},function(v){before$1(v,element)})},prepend:function(parent,element){$_24kyxa17jdud76ok.firstChild(parent).fold(function(){append(parent,element)},function(v){parent.dom().insertBefore(element.dom(),v.dom())})},append:append,appendAt:function(parent,element,index){$_24kyxa17jdud76ok.child(parent,index).fold(function(){append(parent,element)},function(v){before$1(v,element)})},wrap:function(element,wrapper){before$1(element,wrapper),append(wrapper,element)}},$_f2ewme2qjdud76zv_before=function(marker,elements){$_2rdhjp4jdud76b1.each(elements,function(x){$_y9e9r2ojdud76zq.before(marker,x)})},$_f2ewme2qjdud76zv_append=function(parent,elements){$_2rdhjp4jdud76b1.each(elements,function(x){$_y9e9r2ojdud76zq.append(parent,x)})},remove$3=function(element){var dom=element.dom();null!==dom.parentNode&&dom.parentNode.removeChild(dom)},$_7p85ov2pjdud76zs={empty:function(element){element.dom().textContent="",$_2rdhjp4jdud76b1.each($_24kyxa17jdud76ok.children(element),function(rogue){remove$3(rogue)})},remove:remove$3,unwrap:function(wrapper){var children=$_24kyxa17jdud76ok.children(wrapper);0<children.length&&$_f2ewme2qjdud76zv_before(wrapper,children),remove$3(wrapper)}},api=function NodeValue(is,name){var getOptionSafe=function(element){return is(element)?Option.from(element.dom().nodeValue):Option.none()},browser=$_csimq8mjdud76ly.detect().browser,getOption=browser.isIE()&&10===browser.version.major?function(element){try{return getOptionSafe(element)}catch(e){return Option.none()}}:getOptionSafe;return{get:function(element){if(!is(element))throw new Error("Can only get "+name+" value of a "+name+" node");return getOption(element).getOr("")},getOption:getOption,set:function(element,value){if(!is(element))throw new Error("Can only set raw "+name+" value of a "+name+" node");element.dom().nodeValue=value}}}($_8ql502zjdud76n3.isText,"text"),$_8cumny2rjdud76zy_get=function(element){return api.get(element)},$_9i5evb2njdud76zg_removeTrailingBr=function(elm){var allBrs=$_fmr77x2gjdud76yg_descendants(elm,"br"),brs=$_2rdhjp4jdud76b1.filter(function(elm){for(var children=[],rawNode=elm.dom();rawNode;)children.push($_77yl9nyjdud76my.fromDom(rawNode)),rawNode=rawNode.lastChild;return children}(elm).slice(-1),isBr);allBrs.length===brs.length&&$_2rdhjp4jdud76b1.each(brs,$_7p85ov2pjdud76zs.remove)},$_9i5evb2njdud76zg_fillWithPaddingBr=function(elm){$_7p85ov2pjdud76zs.empty(elm),$_y9e9r2ojdud76zq.append(elm,$_77yl9nyjdud76my.fromHtml('<br data-mce-bogus="1">'))},$_9i5evb2njdud76zg_trimBlockTrailingBr=function(elm){$_24kyxa17jdud76ok.lastChild(elm).each(function(lastChild){$_24kyxa17jdud76ok.prevSibling(lastChild).each(function(lastChildPrevSibling){isBlock(elm)&&isBr(lastChild)&&isBlock(lastChildPrevSibling)&&$_7p85ov2pjdud76zs.remove(lastChild)})})},makeMap$3=$_1qam7ujjdud76lb.makeMap;function Writer(settings){var indent,indentBefore,indentAfter,encode,htmlOutput,html=[];return indent=(settings=settings||{}).indent,indentBefore=makeMap$3(settings.indent_before||""),indentAfter=makeMap$3(settings.indent_after||""),encode=$_qg6wh1rjdud76r2.getEncodeFunc(settings.entity_encoding||"raw",settings.entities),htmlOutput="html"===settings.element_format,{start:function(name,attrs,empty){var i,l,attr,value;if(indent&&indentBefore[name]&&0<html.length&&0<(value=html[html.length-1]).length&&"\n"!==value&&html.push("\n"),html.push("<",name),attrs)for(i=0,l=attrs.length;i<l;i++)attr=attrs[i],html.push(" ",attr.name,'="',encode(attr.value,!0),'"');html[html.length]=!empty||htmlOutput?">":" />",empty&&indent&&indentAfter[name]&&0<html.length&&0<(value=html[html.length-1]).length&&"\n"!==value&&html.push("\n")},end:function(name){var value;html.push("</",name,">"),indent&&indentAfter[name]&&0<html.length&&0<(value=html[html.length-1]).length&&"\n"!==value&&html.push("\n")},text:function(text,raw){0<text.length&&(html[html.length]=raw?text:encode(text))},cdata:function(text){html.push("<![CDATA[",text,"]]>")},comment:function(text){html.push("\x3c!--",text,"--\x3e")},pi:function(name,text){text?html.push("<?",name," ",encode(text),"?>"):html.push("<?",name,"?>"),indent&&html.push("\n")},doctype:function(text){html.push("<!DOCTYPE",text,">",indent?"\n":"")},reset:function(){html.length=0},getContent:function(){return html.join("").replace(/\n$/,"")}}}function HtmlSerializer(settings,schema){void 0===schema&&(schema=Schema());var writer=Writer(settings);return(settings=settings||{}).validate=!("validate"in settings)||settings.validate,{serialize:function(node){var handlers,validate;validate=settings.validate,handlers={3:function(node){writer.text(node.value,node.raw)},8:function(node){writer.comment(node.value)},7:function(node){writer.pi(node.name,node.value)},10:function(node){writer.doctype(node.value)},4:function(node){writer.cdata(node.value)},11:function(node){if(node=node.firstChild)for(;walk(node),node=node.next;);}},writer.reset();var walk=function(node){var name,isEmpty,attrs,attrName,attrValue,sortedAttrs,i,l,elementRule,handler=handlers[node.type];if(handler)handler(node);else{if(name=node.name,isEmpty=node.shortEnded,attrs=node.attributes,validate&&attrs&&1<attrs.length&&((sortedAttrs=[]).map={},elementRule=schema.getElementRule(node.name))){for(i=0,l=elementRule.attributesOrder.length;i<l;i++)(attrName=elementRule.attributesOrder[i])in attrs.map&&(attrValue=attrs.map[attrName],sortedAttrs.map[attrName]=attrValue,sortedAttrs.push({name:attrName,value:attrValue}));for(i=0,l=attrs.length;i<l;i++)(attrName=attrs[i].name)in sortedAttrs.map||(attrValue=attrs.map[attrName],sortedAttrs.map[attrName]=attrValue,sortedAttrs.push({name:attrName,value:attrValue}));attrs=sortedAttrs}if(writer.start(node.name,attrs,isEmpty),!isEmpty){if(node=node.firstChild)for(;walk(node),node=node.next;);writer.end(name)}}};return 1!==node.type||settings.inner?handlers[11](node):walk(node),writer.getContent()}}}var normalizeBlockSelectionRange=function(rng){var startPos=CaretPosition$1.fromRangeStart(rng),endPos=CaretPosition$1.fromRangeEnd(rng),rootNode=rng.commonAncestorContainer;return $_a05mnc2bjdud76xb.fromPosition(!1,rootNode,endPos).map(function(newEndPos){return!isInSameBlock(startPos,endPos,rootNode)&&isInSameBlock(startPos,newEndPos,rootNode)?function(sc,so,ec,eo){var rng=document.createRange();return rng.setStart(sc,so),rng.setEnd(ec,eo),rng}(startPos.container(),startPos.offset(),newEndPos.container(),newEndPos.offset()):rng}).getOr(rng)},$_9gnmco2vjdud770l_normalize=function(rng){return function(rng){return rng.collapsed?rng:normalizeBlockSelectionRange(rng)}(rng)},isTableCell$2=$_2nbmh51qjdud76qx.matchNodeNames("td th"),insertHtmlAtCaret=function(editor,value,details){var parser,serializer,parentNode,rootNode,fragment,args,marker,rng,node,node2,bookmarkHtml,merge,textInlineElements=editor.schema.getTextInlineElements(),selection=editor.selection,dom=editor.dom;if(/^ | $/.test(value)&&(value=function(html){var rng,container,offset;rng=selection.getRng(),container=rng.startContainer,offset=rng.startOffset;var hasSiblingText=function(siblingName){return container[siblingName]&&3===container[siblingName].nodeType};return 3===container.nodeType&&(0<offset?html=html.replace(/^&nbsp;/," "):hasSiblingText("previousSibling")||(html=html.replace(/^ /,"&nbsp;")),offset<container.length?html=html.replace(/&nbsp;(<br>|)$/," "):hasSiblingText("nextSibling")||(html=html.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),html}(value)),parser=editor.parser,merge=details.merge,serializer=HtmlSerializer({validate:editor.settings.validate},editor.schema),bookmarkHtml='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',args={content:value,format:"html",selection:!0,paste:details.paste},(args=editor.fire("BeforeSetContent",args)).isDefaultPrevented())editor.fire("SetContent",{content:args.content,format:"html",selection:!0,paste:details.paste});else{-1===(value=args.content).indexOf("{$caret}")&&(value+="{$caret}"),value=value.replace(/\{\$caret\}/,bookmarkHtml);var caretElement=(rng=selection.getRng()).startContainer||(rng.parentElement?rng.parentElement():null),body=editor.getBody();caretElement===body&&selection.isCollapsed()&&dom.isBlock(body.firstChild)&&function(node){return node&&!editor.schema.getShortEndedElements()[node.nodeName]}(body.firstChild)&&dom.isEmpty(body.firstChild)&&((rng=dom.createRng()).setStart(body.firstChild,0),rng.setEnd(body.firstChild,0),selection.setRng(rng)),selection.isCollapsed()||(editor.selection.setRng($_9gnmco2vjdud770l_normalize(editor.selection.getRng())),editor.getDoc().execCommand("Delete",!1,null),function(){var rng,container,offset;container=(rng=selection.getRng()).startContainer,offset=rng.startOffset,3===container.nodeType&&rng.collapsed&&("\xa0"===container.data[offset]?(container.deleteData(offset,1),/[\u00a0| ]$/.test(value)||(value+=" ")):"\xa0"===container.data[offset-1]&&(container.deleteData(offset-1,1),/[\u00a0| ]$/.test(value)||(value=" "+value)))}());var elm,parserArgs={context:(parentNode=selection.getNode()).nodeName.toLowerCase(),data:details.data,insert:!0};if(fragment=parser.parse(value,parserArgs),!0===details.paste&&$_p0bhp1xjdud76ue_isListFragment(editor.schema,fragment)&&$_p0bhp1xjdud76ue_isParentBlockLi(dom,parentNode))return rng=$_p0bhp1xjdud76ue_insertAtCaret(serializer,dom,editor.selection.getRng(!0),fragment),editor.selection.setRng(rng),void editor.fire("SetContent",args);if(function(fragment){for(var node=fragment;node=node.walk();)1===node.type&&node.attr("data-mce-fragment","1")}(fragment),"mce_marker"===(node=fragment.lastChild).attr("id"))for(node=(marker=node).prev;node;node=node.walk(!0))if(3===node.type||!dom.isBlock(node.name)){editor.schema.isValidChild(node.parent.name,"span")&&node.parent.insert(marker,node,"br"===node.name);break}if(editor._selectionOverrides.showBlockCaretContainer(parentNode),parserArgs.invalid){for(selection.setContent(bookmarkHtml),parentNode=selection.getNode(),rootNode=editor.getBody(),9===parentNode.nodeType?parentNode=node=rootNode:node=parentNode;node!==rootNode;)node=(parentNode=node).parentNode;value=parentNode===rootNode?rootNode.innerHTML:dom.getOuterHTML(parentNode),value=serializer.serialize(parser.parse(value.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return serializer.serialize(fragment)}))),parentNode===rootNode?dom.setHTML(rootNode,value):dom.setOuterHTML(parentNode,value)}else value=serializer.serialize(fragment),function(editor,value,parentNode){if("all"===parentNode.getAttribute("data-mce-bogus"))parentNode.parentNode.insertBefore(editor.dom.createFragment(value),parentNode);else{var node=parentNode.firstChild,node2=parentNode.lastChild;!node||node===node2&&"BR"===node.nodeName?editor.dom.setHTML(parentNode,value):editor.selection.setContent(value)}}(editor,value,parentNode);!function(){if(merge){var root_1=editor.getBody(),elementUtils_1=new ElementUtils(dom);$_1qam7ujjdud76lb.each(dom.select("*[data-mce-fragment]"),function(node){for(var testNode=node.parentNode;testNode&&testNode!==root_1;testNode=testNode.parentNode)textInlineElements[node.nodeName.toLowerCase()]&&elementUtils_1.compare(testNode,node)&&dom.remove(node,!0)})}}(),function(marker){var parentEditableFalseElm,parentBlock,nextRng;if(marker){if(selection.scrollIntoView(marker),parentEditableFalseElm=function(node){for(var root=editor.getBody();node&&node!==root;node=node.parentNode)if("false"===editor.dom.getContentEditable(node))return node;return null}(marker))return dom.remove(marker),selection.select(parentEditableFalseElm);rng=dom.createRng(),(node=marker.previousSibling)&&3===node.nodeType?(rng.setStart(node,node.nodeValue.length),$_3faz499jdud76f2.ie||(node2=marker.nextSibling)&&3===node2.nodeType&&(node.appendData(node2.data),node2.parentNode.removeChild(node2))):(rng.setStartBefore(marker),rng.setEndBefore(marker)),parentBlock=dom.getParent(marker,dom.isBlock),dom.remove(marker),parentBlock&&dom.isEmpty(parentBlock)&&(editor.$(parentBlock).empty(),rng.setStart(parentBlock,0),rng.setEnd(parentBlock,0),isTableCell$2(parentBlock)||function(node){return!!node.getAttribute("data-mce-fragment")}(parentBlock)||!(nextRng=function(rng){var caretPos=CaretPosition$1.fromRangeStart(rng);if(caretPos=CaretWalker(editor.getBody()).next(caretPos))return caretPos.toRange()}(rng))?dom.add(parentBlock,dom.create("br",{"data-mce-bogus":"1"})):(rng=nextRng,dom.remove(parentBlock))),selection.setRng(rng)}}(dom.get("mce_marker")),elm=editor.getBody(),$_1qam7ujjdud76lb.each(elm.getElementsByTagName("*"),function(elm){elm.removeAttribute("data-mce-fragment")}),function(dom,elm){Option.from(dom.getParent(elm,"td,th")).map($_77yl9nyjdud76my.fromDom).each($_9i5evb2njdud76zg_trimBlockTrailingBr)}(editor.dom,editor.selection.getStart()),editor.fire("SetContent",args),editor.addVisual()}},$_w3ztu1wjdud76u2={insertAtCaret:function(editor,value){var result=function(value){var details;return"string"!=typeof value?(details=$_1qam7ujjdud76lb.extend({paste:value.paste,data:{paste:value.paste}},value),{content:value.content,details:details}):{content:value,details:{}}}(value);insertHtmlAtCaret(editor,result.content,result.details)}};function ClosestOrAncestor(is,ancestor,scope,a,isRoot){return is(scope,a)?Option.some(scope):$_c9rr1612jdud76o1.isFunction(isRoot)&&isRoot(scope)?Option.none():ancestor(scope,a,isRoot)}var ancestor=function(scope,predicate,isRoot){for(var element=scope.dom(),stop=$_c9rr1612jdud76o1.isFunction(isRoot)?isRoot:$_dree2x6jdud76bv.constant(!1);element.parentNode;){element=element.parentNode;var el=$_77yl9nyjdud76my.fromDom(element);if(predicate(el))return Option.some(el);if(stop(el))break}return Option.none()},child$1=function(scope,predicate){return $_2rdhjp4jdud76b1.find(scope.dom().childNodes,$_dree2x6jdud76bv.compose(predicate,$_77yl9nyjdud76my.fromDom)).map($_77yl9nyjdud76my.fromDom)},descendant=function(scope,predicate){var descend=function(element){for(var i=0;i<element.childNodes.length;i++){if(predicate($_77yl9nyjdud76my.fromDom(element.childNodes[i])))return Option.some($_77yl9nyjdud76my.fromDom(element.childNodes[i]));var res=descend(element.childNodes[i]);if(res.isSome())return res}return Option.none()};return descend(scope.dom())},$_5tc4ct30jdud7715={first:function(predicate){return descendant($_aty1uq15jdud76oe.body(),predicate)},ancestor:ancestor,closest:function(scope,predicate,isRoot){return ClosestOrAncestor(function(scope){return predicate(scope)},ancestor,scope,predicate,isRoot)},sibling:function(scope,predicate){var element=scope.dom();return element.parentNode?child$1($_77yl9nyjdud76my.fromDom(element.parentNode),function(x){return!$_fxc4921djdud76p9.eq(scope,x)&&predicate(x)}):Option.none()},child:child$1,descendant:descendant},sectionResult=$_3vrm9i18jdud76ot.immutable("sections","settings"),isTouch=$_csimq8mjdud76ly.detect().deviceType.isTouch(),mobilePlugins=["lists","autolink","autosave"],defaultMobileSettings={theme:"mobile"},normalizePlugins=function(plugins){var pluginNames=$_c9rr1612jdud76o1.isArray(plugins)?plugins.join(" "):plugins,trimmedPlugins=$_2rdhjp4jdud76b1.map($_c9rr1612jdud76o1.isString(pluginNames)?pluginNames.split(" "):[],$_eap681vjdud76mr_trim);return $_2rdhjp4jdud76b1.filter(trimmedPlugins,function(item){return 0<item.length})},extractSections=function(keys,settings){var result=$_fsogm013jdud76o4.bifilter(settings,function(value,key){return $_2rdhjp4jdud76b1.contains(keys,key)});return sectionResult(result.t,result.f)},hasSection=function(sectionResult,name){return sectionResult.sections().hasOwnProperty(name)},processPlugins=function(isTouchDevice,sectionResult,defaultOverrideSettings,settings){var forcedPlugins=normalizePlugins(defaultOverrideSettings.forced_plugins),plugins=normalizePlugins(settings.plugins),combinedPlugins=function(forcedPlugins,plugins){return[].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins))}(forcedPlugins,isTouchDevice&&hasSection(sectionResult,"mobile")?function(plugins){return $_2rdhjp4jdud76b1.filter(plugins,$_dree2x6jdud76bv.curry($_2rdhjp4jdud76b1.contains,mobilePlugins))}(plugins):plugins);return $_1qam7ujjdud76lb.extend(settings,{plugins:combinedPlugins.join(" ")})},combineSettings=function(isTouchDevice,defaultSettings,defaultOverrideSettings,settings){var sectionResult=extractSections(["mobile"],settings),extendedSettings=$_1qam7ujjdud76lb.extend(defaultSettings,defaultOverrideSettings,sectionResult.settings(),function(isTouchDevice,sectionResult){var isInline=sectionResult.settings().inline;return isTouchDevice&&hasSection(sectionResult,"mobile")&&!isInline}(isTouchDevice,sectionResult)?function(sectionResult,name,defaults){var sections=sectionResult.sections(),sectionSettings=sections.hasOwnProperty(name)?sections[name]:{};return $_1qam7ujjdud76lb.extend({},defaults,sectionSettings)}(sectionResult,"mobile",defaultMobileSettings):{},{validate:!0,content_editable:sectionResult.settings().inline,external_plugins:function(overrideSettings,settings){var userDefinedExternalPlugins=settings.external_plugins?settings.external_plugins:{};return overrideSettings&&overrideSettings.external_plugins?$_1qam7ujjdud76lb.extend({},overrideSettings.external_plugins,userDefinedExternalPlugins):userDefinedExternalPlugins}(defaultOverrideSettings,sectionResult.settings())});return processPlugins(isTouchDevice,sectionResult,defaultOverrideSettings,extendedSettings)},getFiltered=function(predicate,editor,name){return Option.from(editor.settings[name]).filter(predicate)},getString=$_dree2x6jdud76bv.curry(getFiltered,$_c9rr1612jdud76o1.isString),getParam=function(editor,name,defaultVal,type){var value=name in editor.settings?editor.settings[name]:defaultVal;return"hash"===type?function(value){var output={};return"string"==typeof value?$_2rdhjp4jdud76b1.each(0<value.indexOf("=")?value.split(/[;,](?![^=;,]*(?:[;,]|$))/):value.split(","),function(value){1<(value=value.split("=")).length?output[$_1qam7ujjdud76lb.trim(value[0])]=$_1qam7ujjdud76lb.trim(value[1]):output[$_1qam7ujjdud76lb.trim(value[0])]=$_1qam7ujjdud76lb.trim(value)}):output=value,output}(value):"string"===type?getFiltered($_c9rr1612jdud76o1.isString,editor,name).getOr(defaultVal):"number"===type?getFiltered($_c9rr1612jdud76o1.isNumber,editor,name).getOr(defaultVal):"boolean"===type?getFiltered($_c9rr1612jdud76o1.isBoolean,editor,name).getOr(defaultVal):"object"===type?getFiltered($_c9rr1612jdud76o1.isObject,editor,name).getOr(defaultVal):"array"===type?getFiltered($_c9rr1612jdud76o1.isArray,editor,name).getOr(defaultVal):"function"===type?getFiltered($_c9rr1612jdud76o1.isFunction,editor,name).getOr(defaultVal):value},strongRtl=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,normalizePosition=function(forward,pos){var container=pos.container(),offset=pos.offset();return forward?isCaretContainerInline(container)?$_2nbmh51qjdud76qx.isText(container.nextSibling)?CaretPosition$1(container.nextSibling,0):CaretPosition$1.after(container):isBeforeInline(pos)?CaretPosition$1(container,offset+1):pos:isCaretContainerInline(container)?$_2nbmh51qjdud76qx.isText(container.previousSibling)?CaretPosition$1(container.previousSibling,container.previousSibling.data.length):CaretPosition$1.before(container):isAfterInline(pos)?CaretPosition$1(container,offset-1):pos},$_f5vhlo32jdud771g={isInlineTarget:function(editor,elm){var selector=getString(editor,"inline_boundaries_selector").getOr("a[href],code");return $_1jloty1fjdud76pi.is($_77yl9nyjdud76my.fromDom(elm),selector)},findRootInline:function(isInlineTarget,rootNode,pos){var parents=function(isInlineTarget,rootNode,pos){return $_2rdhjp4jdud76b1.filter(DOMUtils.DOM.getParents(pos.container(),"*",rootNode),isInlineTarget)}(isInlineTarget,rootNode,pos);return Option.from(parents[parents.length-1])},isRtl:function(element){return"rtl"===DOMUtils.DOM.getStyle(element,"direction",!0)||(text=element.textContent,strongRtl.test(text));var text},isAtZwsp:function(pos){return isBeforeInline(pos)||isAfterInline(pos)},normalizePosition:normalizePosition,normalizeForwards:$_dree2x6jdud76bv.curry(normalizePosition,!0),normalizeBackwards:$_dree2x6jdud76bv.curry(normalizePosition,!1),hasSameParentBlock:function(rootNode,node1,node2){var block1=getParentBlock(node1,rootNode),block2=getParentBlock(node2,rootNode);return block1&&block1===block2}},$_4xcall2zjdud770z_getParentBlock=function(rootNode,elm){return $_fxc4921djdud76p9.contains(rootNode,elm)?$_5tc4ct30jdud7715.closest(elm,function(element){return isTextBlock(element)||isListItem(element)},function(rootNode){return function(elm){return $_fxc4921djdud76p9.eq(rootNode,$_77yl9nyjdud76my.fromDom(elm.dom().parentNode))}}(rootNode)):Option.none()},$_4xcall2zjdud770z_paddEmptyBody=function(editor){editor.dom.isEmpty(editor.getBody())&&(editor.setContent(""),function(editor){var body=editor.getBody(),node=body.firstChild&&editor.dom.isBlock(body.firstChild)?body.firstChild:body;editor.selection.setCursorLocation(node,0)}(editor))},$_4xcall2zjdud770z_willDeleteLastPositionInElement=function(forward,fromPos,elm){return $_dw9y2w2ejdud76xu_liftN([$_a05mnc2bjdud76xb.firstPositionIn(elm),$_a05mnc2bjdud76xb.lastPositionIn(elm)],function(firstPos,lastPos){var normalizedFirstPos=$_f5vhlo32jdud771g.normalizePosition(!0,firstPos),normalizedLastPos=$_f5vhlo32jdud771g.normalizePosition(!1,lastPos),normalizedFromPos=$_f5vhlo32jdud771g.normalizePosition(!1,fromPos);return forward?$_a05mnc2bjdud76xb.nextPosition(elm,normalizedFromPos).map(function(nextPos){return nextPos.isEqual(normalizedLastPos)&&fromPos.isEqual(normalizedFirstPos)}).getOr(!1):$_a05mnc2bjdud76xb.prevPosition(elm,normalizedFromPos).map(function(prevPos){return prevPos.isEqual(normalizedFirstPos)&&fromPos.isEqual(normalizedLastPos)}).getOr(!1)}).getOr(!0)},ancestor$1=function(scope,selector,isRoot){return $_5tc4ct30jdud7715.ancestor(scope,function(e){return $_1jloty1fjdud76pi.is(e,selector)},isRoot)},$_ajhtx137jdud7727_ancestor=ancestor$1,$_ajhtx137jdud7727_descendant=function(scope,selector){return $_1jloty1fjdud76pi.one(selector,scope)},$_ajhtx137jdud7727_closest=function(scope,selector,isRoot){return ClosestOrAncestor($_1jloty1fjdud76pi.is,ancestor$1,scope,selector,isRoot)},$_fi9c5036jdud7725_ancestor=function(scope,selector,isRoot){return $_ajhtx137jdud7727_ancestor(scope,selector,isRoot).isSome()},isWhitespace=function(rootNode,node){return $_2nbmh51qjdud76qx.isText(node)&&/^[ \t\r\n]*$/.test(node.data)&&!1===function(rootNode,node){var rootElement=$_77yl9nyjdud76my.fromDom(rootNode),startNode=$_77yl9nyjdud76my.fromDom(node);return $_fi9c5036jdud7725_ancestor(startNode,"pre,code",$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,rootElement))}(rootNode,node)},isContent=function(rootNode,node){return isCaretCandidate(node)&&!1===isWhitespace(rootNode,node)||function(node){return $_2nbmh51qjdud76qx.isElement(node)&&"A"===node.nodeName&&node.hasAttribute("name")}(node)||isBookmark(node)},isBookmark=$_2nbmh51qjdud76qx.hasAttribute("data-mce-bookmark"),isBogus$2=$_2nbmh51qjdud76qx.hasAttribute("data-mce-bogus"),isBogusAll$1=$_2nbmh51qjdud76qx.hasAttributeValue("data-mce-bogus","all"),$_7puuk735jdud7720_isEmpty=function(elm){return function(targetNode){var walker,node,brCount=0;if(isContent(targetNode,targetNode))return!1;if(!(node=targetNode.firstChild))return!0;walker=new TreeWalker(node,targetNode);do{if(isBogusAll$1(node))node=walker.next(!0);else if(isBogus$2(node))node=walker.next();else if($_2nbmh51qjdud76qx.isBr(node))brCount++,node=walker.next();else{if(isContent(targetNode,node))return!1;node=walker.next()}}while(node);return brCount<=1}(elm.dom())},BlockPosition=$_3vrm9i18jdud76ot.immutable("block","position"),BlockBoundary=$_3vrm9i18jdud76ot.immutable("from","to"),getBlockPosition=function(rootNode,pos){var rootElm=$_77yl9nyjdud76my.fromDom(rootNode),containerElm=$_77yl9nyjdud76my.fromDom(pos.container());return $_4xcall2zjdud770z_getParentBlock(rootElm,containerElm).map(function(block){return BlockPosition(block,pos)})},readFromRange=function(rootNode,forward,rng){var fromBlockPos=getBlockPosition(rootNode,CaretPosition$1.fromRangeStart(rng)),toBlockPos=fromBlockPos.bind(function(blockPos){return $_a05mnc2bjdud76xb.fromPosition(forward,rootNode,blockPos.position()).bind(function(to){return getBlockPosition(rootNode,to).map(function(blockPos){return function(rootNode,forward,blockPosition){return $_2nbmh51qjdud76qx.isBr(blockPosition.position().getNode())&&!1===$_7puuk735jdud7720_isEmpty(blockPosition.block())?$_a05mnc2bjdud76xb.positionIn(!1,blockPosition.block().dom()).bind(function(lastPositionInBlock){return lastPositionInBlock.isEqual(blockPosition.position())?$_a05mnc2bjdud76xb.fromPosition(forward,rootNode,lastPositionInBlock).bind(function(to){return getBlockPosition(rootNode,to)}):Option.some(blockPosition)}).getOr(blockPosition):blockPosition}(rootNode,forward,blockPos)})})});return $_dw9y2w2ejdud76xu_liftN([fromBlockPos,toBlockPos],BlockBoundary).filter(function(blockBoundary){return function(blockBoundary){return!1===$_fxc4921djdud76p9.eq(blockBoundary.from().block(),blockBoundary.to().block())}(blockBoundary)&&function(blockBoundary){return $_24kyxa17jdud76ok.parent(blockBoundary.from().block()).bind(function(parent1){return $_24kyxa17jdud76ok.parent(blockBoundary.to().block()).filter(function(parent2){return $_fxc4921djdud76p9.eq(parent1,parent2)})}).isSome()}(blockBoundary)&&function(blockBoundary){return!1===$_2nbmh51qjdud76qx.isContentEditableFalse(blockBoundary.from().block())&&!1===$_2nbmh51qjdud76qx.isContentEditableFalse(blockBoundary.to().block())}(blockBoundary)})},$_4wz8iu2yjdud770r_read=function(rootNode,forward,rng){return rng.collapsed?readFromRange(rootNode,forward,rng):Option.none()},parentsUntil$1=function(startNode,rootElm,predicate){return $_fxc4921djdud76p9.contains(rootElm,startNode)?$_24kyxa17jdud76ok.parents(startNode,function(elm){return predicate(elm)||$_fxc4921djdud76p9.eq(elm,rootElm)}).slice(0,-1):[]},parents$1=function(startNode,rootElm){return parentsUntil$1(startNode,rootElm,$_dree2x6jdud76bv.constant(!1))},$_2h4haq39jdud772r_parents=parents$1,$_2h4haq39jdud772r_parentsAndSelf=function(startNode,rootElm){return[startNode].concat(parents$1(startNode,rootElm))},extractChildren=function(block){var children=function(block){var children=$_24kyxa17jdud76ok.children(block);return $_2rdhjp4jdud76b1.findIndex(children,isBlock).fold(function(){return children},function(index){return children.slice(0,index)})}(block);return $_2rdhjp4jdud76b1.each(children,function(node){$_7p85ov2pjdud76zs.remove(node)}),children},trimBr=function(first,block){$_a05mnc2bjdud76xb.positionIn(first,block.dom()).each(function(position){var node=position.getNode();$_2nbmh51qjdud76qx.isBr(node)&&$_7p85ov2pjdud76zs.remove($_77yl9nyjdud76my.fromDom(node))})},removeEmptyRoot=function(rootNode,block){var parents=$_2h4haq39jdud772r_parentsAndSelf(block,rootNode);return $_2rdhjp4jdud76b1.find(parents.reverse(),$_7puuk735jdud7720_isEmpty).each($_7p85ov2pjdud76zs.remove)},getInsertionPoint=function(fromBlock,toBlock){return $_fxc4921djdud76p9.contains(toBlock,fromBlock)?$_24kyxa17jdud76ok.parent(fromBlock).bind(function(parent){return $_fxc4921djdud76p9.eq(parent,toBlock)?Option.some(fromBlock):function(toBlock,block){var parents=$_24kyxa17jdud76ok.parents(block,function(elm){return $_fxc4921djdud76p9.eq(elm,toBlock)});return Option.from(parents[parents.length-2])}(toBlock,fromBlock)}):Option.none()},mergeBlockInto=function(rootNode,fromBlock,toBlock){if($_7puuk735jdud7720_isEmpty(toBlock))return $_7p85ov2pjdud76zs.remove(toBlock),$_7puuk735jdud7720_isEmpty(fromBlock)&&$_9i5evb2njdud76zg_fillWithPaddingBr(fromBlock),$_a05mnc2bjdud76xb.firstPositionIn(fromBlock.dom());trimBr(!0,fromBlock),trimBr(!1,toBlock);var children_1=extractChildren(fromBlock);return getInsertionPoint(fromBlock,toBlock).fold(function(){removeEmptyRoot(rootNode,fromBlock);var position=$_a05mnc2bjdud76xb.lastPositionIn(toBlock.dom());return $_2rdhjp4jdud76b1.each(children_1,function(node){$_y9e9r2ojdud76zq.append(toBlock,node)}),position},function(target){var position=$_a05mnc2bjdud76xb.prevPosition(toBlock.dom(),CaretPosition$1.before(target.dom()));return $_2rdhjp4jdud76b1.each(children_1,function(node){$_y9e9r2ojdud76zq.before(target,node)}),removeEmptyRoot(rootNode,fromBlock),position})},$_dev6vf38jdud772c_mergeBlocks=function(rootNode,forward,block1,block2){return forward?mergeBlockInto(rootNode,block2,block1):mergeBlockInto(rootNode,block1,block2)},$_3xfowd2xjdud770p_backspaceDelete=function(editor,forward){var position,rootNode=$_77yl9nyjdud76my.fromDom(editor.getBody());return(position=$_4wz8iu2yjdud770r_read(rootNode.dom(),forward,editor.selection.getRng()).bind(function(blockBoundary){return $_dev6vf38jdud772c_mergeBlocks(rootNode,forward,blockBoundary.from().block(),blockBoundary.to().block())})).each(function(pos){editor.selection.setRng(pos.toRange())}),position.isSome()},isRawNodeInTable=function(root,rawNode){var node=$_77yl9nyjdud76my.fromDom(rawNode),isRoot=$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,root);return $_5tc4ct30jdud7715.ancestor(node,isTableCell,isRoot).isSome()},isEverythingSelected=function(root,rng){var noPrevious=$_a05mnc2bjdud76xb.prevPosition(root.dom(),CaretPosition$1.fromRangeStart(rng)).isNone(),noNext=$_a05mnc2bjdud76xb.nextPosition(root.dom(),CaretPosition$1.fromRangeEnd(rng)).isNone();return!function(root,rng){return isRawNodeInTable(root,rng.startContainer)||isRawNodeInTable(root,rng.endContainer)}(root,rng)&&noPrevious&&noNext},deleteRange=function(editor){var rootNode=$_77yl9nyjdud76my.fromDom(editor.getBody()),rng=editor.selection.getRng();return isEverythingSelected(rootNode,rng)?function(editor){return editor.setContent(""),editor.selection.setCursorLocation(),!0}(editor):function(rootNode,selection){var rng=selection.getRng();return $_dw9y2w2ejdud76xu_liftN([$_4xcall2zjdud770z_getParentBlock(rootNode,$_77yl9nyjdud76my.fromDom(rng.startContainer)),$_4xcall2zjdud770z_getParentBlock(rootNode,$_77yl9nyjdud76my.fromDom(rng.endContainer))],function(block1,block2){return!1===$_fxc4921djdud76p9.eq(block1,block2)&&(rng.deleteContents(),$_dev6vf38jdud772c_mergeBlocks(rootNode,!0,block1,block2).each(function(pos){selection.setRng(pos.toRange())}),!0)}).getOr(!1)}(rootNode,editor.selection)},$_7kqkze3ajdud772v_backspaceDelete=function(editor,forward){return!editor.selection.isCollapsed()&&deleteRange(editor)},$_arwvrq3djdud773f_generate=function(cases){if(!$_c9rr1612jdud76o1.isArray(cases))throw new Error("cases must be an array");if(0===cases.length)throw new Error("there must be at least one case");var constructors=[],adt={};return $_2rdhjp4jdud76b1.each(cases,function(acase,count){var keys=$_fsogm013jdud76o4.keys(acase);if(1!==keys.length)throw new Error("one and only one name per case");var key=keys[0],value=acase[key];if(void 0!==adt[key])throw new Error("duplicate key detected:"+key);if("cata"===key)throw new Error("cannot have a case named cata (sorry)");if(!$_c9rr1612jdud76o1.isArray(value))throw new Error("case arguments must be an array");constructors.push(key),adt[key]=function(){var argLength=arguments.length;if(argLength!==value.length)throw new Error("Wrong number of arguments to case "+key+". Expected "+value.length+" ("+value+"), got "+argLength);for(var args=new Array(argLength),i=0;i<args.length;i++)args[i]=arguments[i];return{fold:function(){if(arguments.length!==cases.length)throw new Error("Wrong number of arguments to fold. Expected "+cases.length+", got "+arguments.length);return arguments[count].apply(null,args)},match:function(branches){var branchKeys=$_fsogm013jdud76o4.keys(branches);if(constructors.length!==branchKeys.length)throw new Error("Wrong number of arguments to match. Expected: "+constructors.join(",")+"\nActual: "+branchKeys.join(","));if(!$_2rdhjp4jdud76b1.forall(constructors,function(reqKey){return $_2rdhjp4jdud76b1.contains(branchKeys,reqKey)}))throw new Error("Not all branches were specified when using match. Specified: "+branchKeys.join(", ")+"\nRequired: "+constructors.join(", "));return branches[key].apply(null,args)},log:function(label){console.log(label,{constructors:constructors,constructor:key,params:args})}}}}),adt},DeleteAction=$_arwvrq3djdud773f_generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),deleteEmptyBlockOrMoveToCef=function(root,forward,from,to){var toCefElm=to.getNode(!1===forward);return $_4xcall2zjdud770z_getParentBlock($_77yl9nyjdud76my.fromDom(root),$_77yl9nyjdud76my.fromDom(from.getNode())).map(function(blockElm){return $_7puuk735jdud7720_isEmpty(blockElm)?DeleteAction.remove(blockElm.dom()):DeleteAction.moveToElement(toCefElm)}).orThunk(function(){return Option.some(DeleteAction.moveToElement(toCefElm))})},findCefPosition=function(root,forward,from){return $_a05mnc2bjdud76xb.fromPosition(forward,root,from).bind(function(to){return node=to.getNode(),isTableCell($_77yl9nyjdud76my.fromDom(node))||isListItem($_77yl9nyjdud76my.fromDom(node))?Option.none():function(root,forward,from,to){var inSameBlock=function(elm){return isInline($_77yl9nyjdud76my.fromDom(elm))&&!isInSameBlock(from,to,root)};return getRelativeCefElm(!forward,from).fold(function(){return getRelativeCefElm(forward,to).fold($_dree2x6jdud76bv.constant(!1),inSameBlock)},inSameBlock)}(root,forward,from,to)?Option.none():forward&&$_2nbmh51qjdud76qx.isContentEditableFalse(to.getNode())?deleteEmptyBlockOrMoveToCef(root,forward,from,to):!1===forward&&$_2nbmh51qjdud76qx.isContentEditableFalse(to.getNode(!0))?deleteEmptyBlockOrMoveToCef(root,forward,from,to):forward&&isAfterContentEditableFalse(from)?Option.some(DeleteAction.moveToPosition(to)):!1===forward&&isBeforeContentEditableFalse(from)?Option.some(DeleteAction.moveToPosition(to)):Option.none();var node})},getContentEditableAction=function(root,forward,from){return function(forward,from){var elm=from.getNode(!1===forward),caretLocation=forward?"after":"before";return $_2nbmh51qjdud76qx.isElement(elm)&&elm.getAttribute("data-mce-caret")===caretLocation}(forward,from)?function(forward,elm){return forward&&$_2nbmh51qjdud76qx.isContentEditableFalse(elm.nextSibling)?Option.some(DeleteAction.moveToElement(elm.nextSibling)):!1===forward&&$_2nbmh51qjdud76qx.isContentEditableFalse(elm.previousSibling)?Option.some(DeleteAction.moveToElement(elm.previousSibling)):Option.none()}(forward,from.getNode(!1===forward)).fold(function(){return findCefPosition(root,forward,from)},Option.some):findCefPosition(root,forward,from).bind(function(deleteAction){return function(root,from,deleteAction){return deleteAction.fold(function(elm){return Option.some(DeleteAction.remove(elm))},function(elm){return Option.some(DeleteAction.moveToElement(elm))},function(to){return isInSameBlock(from,to,root)?Option.none():Option.some(DeleteAction.moveToPosition(to))})}(root,from,deleteAction)})},reposition=function(elm,pos){return function(pos,elm){var container=pos.container(),offset=pos.offset();return!1===CaretPosition$1.isTextPosition(pos)&&container===elm.parentNode&&offset>CaretPosition$1.before(elm).offset()}(pos,elm)?CaretPosition$1(pos.container(),pos.offset()-1):pos},getPreviousSiblingCaretPosition=function(elm){return isCaretCandidate(elm.previousSibling)?Option.some((node=elm.previousSibling,$_2nbmh51qjdud76qx.isText(node)?CaretPosition$1(node,node.data.length):CaretPosition$1.after(node))):elm.previousSibling?$_a05mnc2bjdud76xb.lastPositionIn(elm.previousSibling):Option.none();var node},getNextSiblingCaretPosition=function(elm){return isCaretCandidate(elm.nextSibling)?Option.some((node=elm.nextSibling,$_2nbmh51qjdud76qx.isText(node)?CaretPosition$1(node,0):CaretPosition$1.before(node))):elm.nextSibling?$_a05mnc2bjdud76xb.firstPositionIn(elm.nextSibling):Option.none();var node},findCaretPositionBackwards=function(rootElement,elm){return getPreviousSiblingCaretPosition(elm).orThunk(function(){return getNextSiblingCaretPosition(elm)}).orThunk(function(){return function(rootElement,elm){var startPosition=CaretPosition$1.before(elm.previousSibling?elm.previousSibling:elm.parentNode);return $_a05mnc2bjdud76xb.prevPosition(rootElement,startPosition).fold(function(){return $_a05mnc2bjdud76xb.nextPosition(rootElement,CaretPosition$1.after(elm))},Option.some)}(rootElement,elm)})},findCaretPositionForward=function(rootElement,elm){return getNextSiblingCaretPosition(elm).orThunk(function(){return getPreviousSiblingCaretPosition(elm)}).orThunk(function(){return function(rootElement,elm){return $_a05mnc2bjdud76xb.nextPosition(rootElement,CaretPosition$1.after(elm)).fold(function(){return $_a05mnc2bjdud76xb.prevPosition(rootElement,CaretPosition$1.before(elm))},Option.some)}(rootElement,elm)})},findCaretPosOutsideElmAfterDelete=function(forward,rootElement,elm){return function(forward,rootElement,elm){return forward?findCaretPositionForward(rootElement,elm):findCaretPositionBackwards(rootElement,elm)}(forward,rootElement,elm).map($_dree2x6jdud76bv.curry(reposition,elm))},setSelection=function(editor,forward,pos){pos.fold(function(){editor.focus()},function(pos){editor.selection.setRng(pos.toRange(),forward)})},isBlock$2=function(editor,elm){return elm&&editor.schema.getBlockElements().hasOwnProperty($_8ql502zjdud76n3.name(elm))},paddEmptyBlock=function(elm){if($_7puuk735jdud7720_isEmpty(elm)){var br=$_77yl9nyjdud76my.fromHtml('<br data-mce-bogus="1">');return $_7p85ov2pjdud76zs.empty(elm),$_y9e9r2ojdud76zq.append(elm,br),Option.some(CaretPosition$1.before(br.dom()))}return Option.none()},$_2e54hb3ejdud773j_deleteElement=function(editor,forward,elm){var rawNode,afterDeletePos=findCaretPosOutsideElmAfterDelete(forward,editor.getBody(),elm.dom()),parentBlock=$_5tc4ct30jdud7715.ancestor(elm,$_dree2x6jdud76bv.curry(isBlock$2,editor),(rawNode=editor.getBody(),function(elm){return elm.dom()===rawNode})),normalizedAfterDeletePos=function(elm,afterDeletePosOpt){return $_dw9y2w2ejdud76xu_liftN([$_24kyxa17jdud76ok.prevSibling(elm),$_24kyxa17jdud76ok.nextSibling(elm),afterDeletePosOpt],function(prev,next,afterDeletePos){var offset,prevNode=prev.dom(),nextNode=next.dom();return $_2nbmh51qjdud76qx.isText(prevNode)&&$_2nbmh51qjdud76qx.isText(nextNode)?(offset=prevNode.data.length,prevNode.appendData(nextNode.data),$_7p85ov2pjdud76zs.remove(next),$_7p85ov2pjdud76zs.remove(elm),afterDeletePos.container()===nextNode?CaretPosition$1(prevNode,offset):afterDeletePos):($_7p85ov2pjdud76zs.remove(elm),afterDeletePos)}).orThunk(function(){return $_7p85ov2pjdud76zs.remove(elm),afterDeletePosOpt})}(elm,afterDeletePos);editor.dom.isEmpty(editor.getBody())?(editor.setContent(""),editor.selection.setCursorLocation()):parentBlock.bind(paddEmptyBlock).fold(function(){setSelection(editor,forward,normalizedAfterDeletePos)},function(paddPos){setSelection(editor,forward,Option.some(paddPos))})},backspaceDeleteCaret=function(editor,forward){return function(root,forward,rng){var normalizedRange=normalizeRange(forward?1:-1,root,rng),from=CaretPosition$1.fromRangeStart(normalizedRange);return!1===forward&&isAfterContentEditableFalse(from)?Option.some(DeleteAction.remove(from.getNode(!0))):forward&&isBeforeContentEditableFalse(from)?Option.some(DeleteAction.remove(from.getNode())):getContentEditableAction(root,forward,from)}(editor.getBody(),forward,editor.selection.getRng()).map(function(deleteAction){return deleteAction.fold(function(editor,forward){return function(element){return editor._selectionOverrides.hideFakeCaret(),$_2e54hb3ejdud773j_deleteElement(editor,forward,$_77yl9nyjdud76my.fromDom(element)),!0}}(editor,forward),function(editor,forward){return function(element){var pos=forward?CaretPosition$1.before(element):CaretPosition$1.after(element);return editor.selection.setRng(pos.toRange()),!0}}(editor,forward),function(editor){return function(pos){return editor.selection.setRng(pos.toRange()),!0}}(editor))}).getOr(!1)},backspaceDeleteRange=function(editor,forward){var rootElement,selectedElement=editor.selection.getNode();return!!$_2nbmh51qjdud76qx.isContentEditableFalse(selectedElement)&&(rootElement=$_77yl9nyjdud76my.fromDom(editor.getBody()),$_2rdhjp4jdud76b1.each($_fmr77x2gjdud76yg_descendants(rootElement,".mce-offscreen-selection"),$_7p85ov2pjdud76zs.remove),$_2e54hb3ejdud773j_deleteElement(editor,forward,$_77yl9nyjdud76my.fromDom(editor.selection.getNode())),$_4xcall2zjdud770z_paddEmptyBody(editor),!0)},$_bclbcu3bjdud7732_backspaceDelete=function(editor,forward){return editor.selection.isCollapsed()?backspaceDeleteCaret(editor,forward):backspaceDeleteRange(editor,forward)},$_bclbcu3bjdud7732_paddEmptyElement=function(editor){var br,ceRoot=function(root,node){for(;node&&node!==root;){if($_2nbmh51qjdud76qx.isContentEditableTrue(node)||$_2nbmh51qjdud76qx.isContentEditableFalse(node))return node;node=node.parentNode}return null}(editor.getBody(),editor.selection.getNode());return $_2nbmh51qjdud76qx.isContentEditableTrue(ceRoot)&&editor.dom.isBlock(ceRoot)&&editor.dom.isEmpty(ceRoot)&&(br=editor.dom.create("br",{"data-mce-bogus":"1"}),editor.dom.setHTML(ceRoot,""),ceRoot.appendChild(br),editor.selection.setRng(CaretPosition$1.before(br).toRange())),!0},isText$8=$_2nbmh51qjdud76qx.isText,startsWithCaretContainer$1=function(node){return isText$8(node)&&node.data[0]===$_264jtj21jdud76vi_ZWSP},endsWithCaretContainer$1=function(node){return isText$8(node)&&node.data[node.data.length-1]===$_264jtj21jdud76vi_ZWSP},createZwsp=function(node){return node.ownerDocument.createTextNode($_264jtj21jdud76vi_ZWSP)},insertInline$1=function(before,node){return before?function(node){if(isText$8(node.previousSibling))return endsWithCaretContainer$1(node.previousSibling)||node.previousSibling.appendData($_264jtj21jdud76vi_ZWSP),node.previousSibling;if(isText$8(node))return startsWithCaretContainer$1(node)||node.insertData(0,$_264jtj21jdud76vi_ZWSP),node;var newNode=createZwsp(node);return node.parentNode.insertBefore(newNode,node),newNode}(node):function(node){if(isText$8(node.nextSibling))return startsWithCaretContainer$1(node.nextSibling)||node.nextSibling.insertData(0,$_264jtj21jdud76vi_ZWSP),node.nextSibling;if(isText$8(node))return endsWithCaretContainer$1(node)||node.appendData($_264jtj21jdud76vi_ZWSP),node;var newNode=createZwsp(node);return node.nextSibling?node.parentNode.insertBefore(newNode,node.nextSibling):node.parentNode.appendChild(newNode),newNode}(node)},insertInlineBefore=$_dree2x6jdud76bv.curry(insertInline$1,!0),insertInlineAfter=$_dree2x6jdud76bv.curry(insertInline$1,!1),insertInlinePos=function(pos,before){return $_2nbmh51qjdud76qx.isText(pos.container())?insertInline$1(before,pos.container()):insertInline$1(before,pos.getNode())},isPosCaretContainer=function(pos,caret){var caretNode=caret.get();return caretNode&&pos.container()===caretNode&&isCaretContainerInline(caretNode)},$_9jr8g93gjdud7742_renderCaret=function(caret,location){return location.fold(function(element){$_cnzgug29jdud76wo.remove(caret.get());var text=insertInlineBefore(element);return caret.set(text),Option.some(CaretPosition$1(text,text.length-1))},function(element){return $_a05mnc2bjdud76xb.firstPositionIn(element).map(function(pos){if(isPosCaretContainer(pos,caret))return CaretPosition$1(caret.get(),1);$_cnzgug29jdud76wo.remove(caret.get());var text=insertInlinePos(pos,!0);return caret.set(text),CaretPosition$1(text,1)})},function(element){return $_a05mnc2bjdud76xb.lastPositionIn(element).map(function(pos){if(isPosCaretContainer(pos,caret))return CaretPosition$1(caret.get(),caret.get().length-1);$_cnzgug29jdud76wo.remove(caret.get());var text=insertInlinePos(pos,!1);return caret.set(text),CaretPosition$1(text,text.length-1)})},function(element){$_cnzgug29jdud76wo.remove(caret.get());var text=insertInlineAfter(element);return caret.set(text),Option.some(CaretPosition$1(text,1))})},isInlineBlock=function(node){return node&&/^(IMG)$/.test(node.nodeName)},isWhiteSpaceNode=function(node){return node&&3===node.nodeType&&/^([\t \r\n]+|)$/.test(node.nodeValue)},normalizeStyleValue=function(dom,value,name){return"color"!==name&&"backgroundColor"!==name||(value=dom.toHex(value)),"fontWeight"===name&&700===value&&(value="bold"),"fontFamily"===name&&(value=value.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+value},$_6h5sa33ljdud775r={isInlineBlock:isInlineBlock,moveStart:function(dom,selection,rng){var walker,node,nodes,container=rng.startContainer,offset=rng.startOffset;if((rng.startContainer!==rng.endContainer||!isInlineBlock(rng.startContainer.childNodes[rng.startOffset]))&&(3===container.nodeType&&offset>=container.nodeValue.length&&(offset=dom.nodeIndex(container),container=container.parentNode),1===container.nodeType))for(offset<(nodes=container.childNodes).length?walker=new TreeWalker(container=nodes[offset],dom.getParent(container,dom.isBlock)):(walker=new TreeWalker(container=nodes[nodes.length-1],dom.getParent(container,dom.isBlock))).next(!0),node=walker.current();node;node=walker.next())if(3===node.nodeType&&!isWhiteSpaceNode(node))return rng.setStart(node,0),void selection.setRng(rng)},getNonWhiteSpaceSibling:function(node,next,inc){if(node)for(next=next?"nextSibling":"previousSibling",node=inc?node:node[next];node;node=node[next])if(1===node.nodeType||!isWhiteSpaceNode(node))return node},isTextBlock:function(editor,name){return name.nodeType&&(name=name.nodeName),!!editor.schema.getTextBlockElements()[name.toLowerCase()]},isValid:function(ed,parent,child){return ed.schema.isValidChild(parent,child)},isWhiteSpaceNode:isWhiteSpaceNode,replaceVars:function(value,vars){return"string"!=typeof value?value=value(vars):vars&&(value=value.replace(/%(\w+)/g,function(str,name){return vars[name]||str})),value},isEq:function(str1,str2){return str2=str2||"",str1=""+((str1=str1||"").nodeName||str1),str2=""+(str2.nodeName||str2),str1.toLowerCase()===str2.toLowerCase()},normalizeStyleValue:normalizeStyleValue,getStyle:function(dom,node,name){return normalizeStyleValue(dom,dom.getStyle(node,name),name)},getTextDecoration:function(dom,node){var decoration;return dom.getParent(node,function(n){return(decoration=dom.getStyle(n,"text-decoration"))&&"none"!==decoration}),decoration},getParents:function(dom,node,selector){return dom.getParents(node,selector,dom.getRoot())}},isBookmarkNode$2=$_48h4o02jjdud76yr.isBookmarkNode,getParents$2=$_6h5sa33ljdud775r.getParents,isWhiteSpaceNode$1=$_6h5sa33ljdud775r.isWhiteSpaceNode,isTextBlock$2=$_6h5sa33ljdud775r.isTextBlock,findLeaf=function(node,offset){for(void 0===offset&&(offset=3===node.nodeType?node.length:node.childNodes.length);node&&node.hasChildNodes();)(node=node.childNodes[offset])&&(offset=3===node.nodeType?node.length:node.childNodes.length);return{node:node,offset:offset}},findParentContentEditable=function(dom,node){for(var parent=node;parent;){if(1===parent.nodeType&&dom.getContentEditable(parent))return"false"===dom.getContentEditable(parent)?parent:node;parent=parent.parentNode}return node},findSpace=function(start,remove,node,offset){var pos,pos2,str=node.nodeValue;return void 0===offset&&(offset=start?str.length:0),start?(pos=str.lastIndexOf(" ",offset),-1===(pos=(pos2=str.lastIndexOf("\xa0",offset))<pos?pos:pos2)||remove||pos++):(pos=str.indexOf(" ",offset),pos2=str.indexOf("\xa0",offset),pos=-1!==pos&&(-1===pos2||pos<pos2)?pos:pos2),pos},findWordEndPoint=function(dom,body,container,offset,start,remove){var walker,node,pos,lastTextNode;if(3===container.nodeType){if(-1!==(pos=findSpace(start,remove,container,offset)))return{container:container,offset:pos};lastTextNode=container}for(walker=new TreeWalker(container,dom.getParent(container,dom.isBlock)||body);node=walker[start?"prev":"next"]();)if(3===node.nodeType){if(-1!==(pos=findSpace(start,remove,lastTextNode=node)))return{container:node,offset:pos}}else if(dom.isBlock(node))break;if(lastTextNode)return{container:lastTextNode,offset:offset=start?0:lastTextNode.length}},findSelectorEndPoint=function(dom,format,rng,container,siblingName){var parents,i,y,curFormat;for(3===container.nodeType&&0===container.nodeValue.length&&container[siblingName]&&(container=container[siblingName]),parents=getParents$2(dom,container),i=0;i<parents.length;i++)for(y=0;y<format.length;y++)if(!("collapsed"in(curFormat=format[y])&&curFormat.collapsed!==rng.collapsed)&&dom.is(parents[i],curFormat.selector))return parents[i];return container},findBlockEndPoint=function(editor,format,container,siblingName){var node,dom=editor.dom,root=dom.getRoot();if(format[0].wrapper||(node=dom.getParent(container,format[0].block,root)),!node){var scopeRoot=dom.getParent(container,"LI,TD,TH");node=dom.getParent(3===container.nodeType?container.parentNode:container,function(node){return node!==root&&isTextBlock$2(editor,node)},scopeRoot)}if(node&&format[0].wrapper&&(node=getParents$2(dom,node,"ul,ol").reverse()[0]||node),!node)for(node=container;node[siblingName]&&!dom.isBlock(node[siblingName])&&(node=node[siblingName],!$_6h5sa33ljdud775r.isEq(node,"br")););return node||container},findParentContainer=function(dom,format,startContainer,startOffset,endContainer,endOffset,start){var container,parent,sibling,siblingName,root,node;if(container=parent=start?startContainer:endContainer,siblingName=start?"previousSibling":"nextSibling",root=dom.getRoot(),3===container.nodeType&&!isWhiteSpaceNode$1(container)&&(start?0<startOffset:endOffset<container.nodeValue.length))return container;for(;;){if(!format[0].block_expand&&dom.isBlock(parent))return parent;for(sibling=parent[siblingName];sibling;sibling=sibling[siblingName])if(!isBookmarkNode$2(sibling)&&!isWhiteSpaceNode$1(sibling)&&("BR"!==(node=sibling).nodeName||!node.getAttribute("data-mce-bogus")||node.nextSibling))return parent;if(parent===root||parent.parentNode===root){container=parent;break}parent=parent.parentNode}return container},$_5ib8dv3kjdud775e_expandRng=function(editor,rng,format,remove){var endPoint,startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset,dom=editor.dom;return 1===startContainer.nodeType&&startContainer.hasChildNodes()&&3===(startContainer=getNode(startContainer,startOffset)).nodeType&&(startOffset=0),1===endContainer.nodeType&&endContainer.hasChildNodes()&&3===(endContainer=getNode(endContainer,rng.collapsed?endOffset:endOffset-1)).nodeType&&(endOffset=endContainer.nodeValue.length),startContainer=findParentContentEditable(dom,startContainer),endContainer=findParentContentEditable(dom,endContainer),(isBookmarkNode$2(startContainer.parentNode)||isBookmarkNode$2(startContainer))&&3===(startContainer=(startContainer=isBookmarkNode$2(startContainer)?startContainer:startContainer.parentNode).nextSibling||startContainer).nodeType&&(startOffset=0),(isBookmarkNode$2(endContainer.parentNode)||isBookmarkNode$2(endContainer))&&3===(endContainer=(endContainer=isBookmarkNode$2(endContainer)?endContainer:endContainer.parentNode).previousSibling||endContainer).nodeType&&(endOffset=endContainer.length),format[0].inline&&(rng.collapsed&&((endPoint=findWordEndPoint(dom,editor.getBody(),startContainer,startOffset,!0,remove))&&(startContainer=endPoint.container,startOffset=endPoint.offset),(endPoint=findWordEndPoint(dom,editor.getBody(),endContainer,endOffset,!1,remove))&&(endContainer=endPoint.container,endOffset=endPoint.offset)),endContainer=remove?endContainer:function(endContainer,endOffset){var leaf=findLeaf(endContainer,endOffset);if(leaf.node){for(;leaf.node&&0===leaf.offset&&leaf.node.previousSibling;)leaf=findLeaf(leaf.node.previousSibling);leaf.node&&0<leaf.offset&&3===leaf.node.nodeType&&" "===leaf.node.nodeValue.charAt(leaf.offset-1)&&1<leaf.offset&&(endContainer=leaf.node).splitText(leaf.offset-1)}return endContainer}(endContainer,endOffset)),(format[0].inline||format[0].block_expand)&&(format[0].inline&&3===startContainer.nodeType&&0!==startOffset||(startContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,!0)),format[0].inline&&3===endContainer.nodeType&&endOffset!==endContainer.nodeValue.length||(endContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,!1))),format[0].selector&&!1!==format[0].expand&&!format[0].inline&&(startContainer=findSelectorEndPoint(dom,format,rng,startContainer,"previousSibling"),endContainer=findSelectorEndPoint(dom,format,rng,endContainer,"nextSibling")),(format[0].block||format[0].selector)&&(startContainer=findBlockEndPoint(editor,format,startContainer,"previousSibling"),endContainer=findBlockEndPoint(editor,format,endContainer,"nextSibling"),format[0].block&&(dom.isBlock(startContainer)||(startContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,!0)),dom.isBlock(endContainer)||(endContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,!1)))),1===startContainer.nodeType&&(startOffset=dom.nodeIndex(startContainer),startContainer=startContainer.parentNode),1===endContainer.nodeType&&(endOffset=dom.nodeIndex(endContainer)+1,endContainer=endContainer.parentNode),{startContainer:startContainer,startOffset:startOffset,endContainer:endContainer,endOffset:endOffset}},isEq$1=$_6h5sa33ljdud775r.isEq,matchesUnInheritedFormatSelector=function(ed,node,name){var formatList=ed.formatter.get(name);if(formatList)for(var i=0;i<formatList.length;i++)if(!1===formatList[i].inherit&&ed.dom.is(node,formatList[i].selector))return!0;return!1},matchParents=function(editor,node,name,vars){var root=editor.dom.getRoot();return node!==root&&(node=editor.dom.getParent(node,function(node){return!!matchesUnInheritedFormatSelector(editor,node,name)||node.parentNode===root||!!matchNode(editor,node,name,vars,!0)}),matchNode(editor,node,name,vars))},matchName=function(dom,node,format){return!!isEq$1(node,format.inline)||!!isEq$1(node,format.block)||(format.selector?1===node.nodeType&&dom.is(node,format.selector):void 0)},matchItems=function(dom,node,format,itemName,similar,vars){var key,value,i,items=format[itemName];if(format.onmatch)return format.onmatch(node,format,itemName);if(items)if(void 0===items.length){for(key in items)if(items.hasOwnProperty(key)){if(value="attributes"===itemName?dom.getAttrib(node,key):$_6h5sa33ljdud775r.getStyle(dom,node,key),similar&&!value&&!format.exact)return;if((!similar||format.exact)&&!isEq$1(value,$_6h5sa33ljdud775r.normalizeStyleValue(dom,$_6h5sa33ljdud775r.replaceVars(items[key],vars),key)))return}}else for(i=0;i<items.length;i++)if("attributes"===itemName?dom.getAttrib(node,items[i]):$_6h5sa33ljdud775r.getStyle(dom,node,items[i]))return format;return format},matchNode=function(ed,node,name,vars,similar){var format,i,x,classes,formatList=ed.formatter.get(name),dom=ed.dom;if(formatList&&node)for(i=0;i<formatList.length;i++)if(format=formatList[i],matchName(ed.dom,node,format)&&matchItems(dom,node,format,"attributes",similar,vars)&&matchItems(dom,node,format,"styles",similar,vars)){if(classes=format.classes)for(x=0;x<classes.length;x++)if(!ed.dom.hasClass(node,classes[x]))return;return format}},$_98mjhh3mjdud775x={matchNode:matchNode,matchName:matchName,match:function(editor,name,vars,node){var startNode;return node?matchParents(editor,node,name,vars):(node=editor.selection.getNode(),!!matchParents(editor,node,name,vars)||!((startNode=editor.selection.getStart())===node||!matchParents(editor,startNode,name,vars)))},matchAll:function(editor,names,vars){var startElement,matchedFormatNames=[],checkedMap={};return startElement=editor.selection.getStart(),editor.dom.getParent(startElement,function(node){var i,name;for(i=0;i<names.length;i++)name=names[i],!checkedMap[name]&&matchNode(editor,node,name,vars)&&(checkedMap[name]=!0,matchedFormatNames.push(name))},editor.dom.getRoot()),matchedFormatNames},canApply:function(editor,name){var startNode,parents,i,x,selector,formatList=editor.formatter.get(name),dom=editor.dom;if(formatList)for(startNode=editor.selection.getStart(),parents=$_6h5sa33ljdud775r.getParents(dom,startNode),x=formatList.length-1;0<=x;x--){if(!(selector=formatList[x].selector)||formatList[x].defaultBlock)return!0;for(i=parents.length-1;0<=i;i--)if(dom.is(parents[i],selector))return!0}return!1},matchesUnInheritedFormatSelector:matchesUnInheritedFormatSelector},splitText=function(node,offset){return node.splitText(offset)},$_drv60g3njdud7762={split:function(rng){var startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset;return startContainer===endContainer&&$_2nbmh51qjdud76qx.isText(startContainer)?0<startOffset&&startOffset<startContainer.nodeValue.length&&(startContainer=(endContainer=splitText(startContainer,startOffset)).previousSibling,startOffset<endOffset?(startContainer=endContainer=splitText(endContainer,endOffset-=startOffset).previousSibling,endOffset=endContainer.nodeValue.length,startOffset=0):endOffset=0):($_2nbmh51qjdud76qx.isText(startContainer)&&0<startOffset&&startOffset<startContainer.nodeValue.length&&(startContainer=splitText(startContainer,startOffset),startOffset=0),$_2nbmh51qjdud76qx.isText(endContainer)&&0<endOffset&&endOffset<endContainer.nodeValue.length&&(endOffset=(endContainer=splitText(endContainer,endOffset).previousSibling).nodeValue.length)),{startContainer:startContainer,startOffset:startOffset,endContainer:endContainer,endOffset:endOffset}}},ZWSP$1=$_264jtj21jdud76vi_ZWSP,isCaretNode=function(node){return 1===node.nodeType&&"_mce_caret"===node.id},isCaretContainerEmpty=function(node){return 0<function(node){for(var nodes=[];node;){if(3===node.nodeType&&node.nodeValue!==ZWSP$1||1<node.childNodes.length)return[];1===node.nodeType&&nodes.push(node),node=node.firstChild}return nodes}(node).length},findFirstTextNode=function(node){var walker;if(node)for(node=(walker=new TreeWalker(node,node)).current();node;node=walker.next())if(3===node.nodeType)return node;return null},createCaretContainer=function(fill){var caretContainer=$_77yl9nyjdud76my.fromTag("span");return $_65a84n14jdud76o8.setAll(caretContainer,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),fill&&$_y9e9r2ojdud76zq.append(caretContainer,$_77yl9nyjdud76my.fromText(ZWSP$1)),caretContainer},getParentCaretContainer=function(body,node){for(;node&&node!==body;){if("_mce_caret"===node.id)return node;node=node.parentNode}return null},removeCaretContainerNode=function(dom,selection,node,moveCaret){var rng,block,textNode;rng=selection.getRng(!0),block=dom.getParent(node,dom.isBlock),isCaretContainerEmpty(node)?(!1!==moveCaret&&(rng.setStartBefore(node),rng.setEndBefore(node)),dom.remove(node)):(textNode=function(caretContainerNode){var textNode=findFirstTextNode(caretContainerNode);return textNode&&textNode.nodeValue.charAt(0)===ZWSP$1&&textNode.deleteData(0,1),textNode}(node),rng.startContainer===textNode&&0<rng.startOffset&&rng.setStart(textNode,rng.startOffset-1),rng.endContainer===textNode&&0<rng.endOffset&&rng.setEnd(textNode,rng.endOffset-1),dom.remove(node,!0)),block&&dom.isEmpty(block)&&$_9i5evb2njdud76zg_fillWithPaddingBr($_77yl9nyjdud76my.fromDom(block)),selection.setRng(rng)},removeCaretContainer=function(body,dom,selection,node,moveCaret){if(node)removeCaretContainerNode(dom,selection,node,moveCaret);else if(!(node=getParentCaretContainer(body,selection.getStart())))for(;node=dom.get("_mce_caret");)removeCaretContainerNode(dom,selection,node,!1)},insertCaretContainerNode=function(editor,caretContainer,formatNode){var dom=editor.dom,block=dom.getParent(formatNode,$_2zdr8e25jdud76vr.curry($_6h5sa33ljdud775r.isTextBlock,editor));block&&dom.isEmpty(block)?formatNode.parentNode.replaceChild(caretContainer,formatNode):($_9i5evb2njdud76zg_removeTrailingBr($_77yl9nyjdud76my.fromDom(formatNode)),dom.isEmpty(formatNode)?formatNode.parentNode.replaceChild(caretContainer,formatNode):dom.insertAfter(caretContainer,formatNode))},appendNode=function(parentNode,node){return parentNode.appendChild(node),node},insertFormatNodesIntoCaretContainer=function(formatNodes,caretContainer){var innerMostFormatNode=$_2rdhjp4jdud76b1.foldr(formatNodes,function(parentNode,formatNode){return appendNode(parentNode,formatNode.cloneNode(!1))},caretContainer);return appendNode(innerMostFormatNode,innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1))},$_2s31k33jjdud774z={setup:function(editor){var dom=editor.dom,selection=editor.selection,body=editor.getBody();editor.on("mouseup keydown",function(e){!function(body,dom,selection,keyCode){removeCaretContainer(body,dom,selection,null,!1),8===keyCode&&selection.isCollapsed()&&selection.getStart().innerHTML===ZWSP$1&&removeCaretContainer(body,dom,selection,getParentCaretContainer(body,selection.getStart())),37!==keyCode&&39!==keyCode||removeCaretContainer(body,dom,selection,getParentCaretContainer(body,selection.getStart()))}(body,dom,selection,e.keyCode)})},applyCaretFormat:function(editor,name,vars){var rng,caretContainer,textNode,offset,bookmark,text,selection=editor.selection;offset=(rng=selection.getRng(!0)).startOffset,text=rng.startContainer.nodeValue,(caretContainer=getParentCaretContainer(editor.getBody(),selection.getStart()))&&(textNode=findFirstTextNode(caretContainer));var ownerDocument,node,wordcharRegex=/[^\s\u00a0\u00ad\u200b\ufeff]/;text&&0<offset&&offset<text.length&&wordcharRegex.test(text.charAt(offset))&&wordcharRegex.test(text.charAt(offset-1))?(bookmark=selection.getBookmark(),rng.collapse(!0),rng=$_5ib8dv3kjdud775e_expandRng(editor,rng,editor.formatter.get(name)),rng=$_drv60g3njdud7762.split(rng),editor.formatter.apply(name,vars,rng),selection.moveToBookmark(bookmark)):(caretContainer&&textNode.nodeValue===ZWSP$1||(ownerDocument=editor.getDoc(),node=createCaretContainer(!0).dom(),textNode=(caretContainer=ownerDocument.importNode(node,!0)).firstChild,rng.insertNode(caretContainer),offset=1),editor.formatter.apply(name,vars,caretContainer),selection.setCursorLocation(textNode,offset))},removeCaretFormat:function(editor,name,vars,similar){var container,offset,bookmark,hasContentAfter,node,formatNode,caretContainer,dom=editor.dom,selection=editor.selection,parents=[],rng=selection.getRng();for(container=rng.startContainer,offset=rng.startOffset,3===(node=container).nodeType&&(offset!==container.nodeValue.length&&(hasContentAfter=!0),node=node.parentNode);node;){if($_98mjhh3mjdud775x.matchNode(editor,node,name,vars,similar)){formatNode=node;break}node.nextSibling&&(hasContentAfter=!0),parents.push(node),node=node.parentNode}if(formatNode)if(hasContentAfter){bookmark=selection.getBookmark(),rng.collapse(!0);var expandedRng=$_5ib8dv3kjdud775e_expandRng(editor,rng,editor.formatter.get(name),!0);expandedRng=$_drv60g3njdud7762.split(expandedRng),editor.formatter.remove(name,vars,expandedRng),selection.moveToBookmark(bookmark)}else{caretContainer=getParentCaretContainer(editor.getBody(),formatNode);var newCaretContainer=createCaretContainer(!1).dom(),caretNode=insertFormatNodesIntoCaretContainer(parents,newCaretContainer);insertCaretContainerNode(editor,newCaretContainer,caretContainer||formatNode),removeCaretContainerNode(dom,selection,caretContainer,!1),selection.setCursorLocation(caretNode,1),dom.isEmpty(formatNode)&&dom.remove(formatNode)}},isCaretNode:isCaretNode,getParentCaretContainer:getParentCaretContainer,replaceWithCaretFormat:function(targetNode,formatNodes){var caretContainer=createCaretContainer(!1),innerMost=insertFormatNodesIntoCaretContainer(formatNodes,caretContainer.dom());return $_y9e9r2ojdud76zq.before($_77yl9nyjdud76my.fromDom(targetNode),caretContainer),$_7p85ov2pjdud76zs.remove($_77yl9nyjdud76my.fromDom(targetNode)),CaretPosition$1(innerMost,0)},isFormatElement:function(editor,element){return editor.schema.getTextInlineElements().hasOwnProperty($_8ql502zjdud76n3.name(element))&&!isCaretNode(element.dom())&&!$_2nbmh51qjdud76qx.isBogus(element.dom())}},$_1shjmf3ojdud7764_evaluateUntil=function(fns,args){for(var i=0;i<fns.length;i++){var result=fns[i].apply(null,args);if(result.isSome())return result}return Option.none()},Location=$_arwvrq3djdud773f_generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),rescope=function(rootNode,node){var parentBlock=getParentBlock(node,rootNode);return parentBlock||rootNode},before$3=function(isInlineTarget,rootNode,pos){var nPos=$_f5vhlo32jdud771g.normalizeForwards(pos),scope=rescope(rootNode,nPos.container());return $_f5vhlo32jdud771g.findRootInline(isInlineTarget,scope,nPos).fold(function(){return $_a05mnc2bjdud76xb.nextPosition(scope,nPos).bind($_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.findRootInline,isInlineTarget,scope)).map(function(inline){return Location.before(inline)})},Option.none)},isNotInsideFormatCaretContainer=function(rootNode,elm){return null===$_2s31k33jjdud774z.getParentCaretContainer(rootNode,elm)},findInsideRootInline=function(isInlineTarget,rootNode,pos){return $_f5vhlo32jdud771g.findRootInline(isInlineTarget,rootNode,pos).filter($_dree2x6jdud76bv.curry(isNotInsideFormatCaretContainer,rootNode))},start=function(isInlineTarget,rootNode,pos){var nPos=$_f5vhlo32jdud771g.normalizeBackwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(function(inline){return $_a05mnc2bjdud76xb.prevPosition(inline,nPos).isNone()?Option.some(Location.start(inline)):Option.none()})},end=function(isInlineTarget,rootNode,pos){var nPos=$_f5vhlo32jdud771g.normalizeForwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(function(inline){return $_a05mnc2bjdud76xb.nextPosition(inline,nPos).isNone()?Option.some(Location.end(inline)):Option.none()})},after$3=function(isInlineTarget,rootNode,pos){var nPos=$_f5vhlo32jdud771g.normalizeBackwards(pos),scope=rescope(rootNode,nPos.container());return $_f5vhlo32jdud771g.findRootInline(isInlineTarget,scope,nPos).fold(function(){return $_a05mnc2bjdud76xb.prevPosition(scope,nPos).bind($_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.findRootInline,isInlineTarget,scope)).map(function(inline){return Location.after(inline)})},Option.none)},isValidLocation=function(location){return!1===$_f5vhlo32jdud771g.isRtl(getElement(location))},readLocation=function(isInlineTarget,rootNode,pos){return $_1shjmf3ojdud7764_evaluateUntil([before$3,start,end,after$3],[isInlineTarget,rootNode,pos]).filter(isValidLocation)},getElement=function(location){return location.fold($_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity)},getName=function(location){return location.fold($_dree2x6jdud76bv.constant("before"),$_dree2x6jdud76bv.constant("start"),$_dree2x6jdud76bv.constant("end"),$_dree2x6jdud76bv.constant("after"))},outside=function(location){return location.fold(Location.before,Location.before,Location.after,Location.after)},betweenInlines=function(forward,isInlineTarget,rootNode,from,to,location){return $_dw9y2w2ejdud76xu_liftN([$_f5vhlo32jdud771g.findRootInline(isInlineTarget,rootNode,from),$_f5vhlo32jdud771g.findRootInline(isInlineTarget,rootNode,to)],function(fromInline,toInline){return fromInline!==toInline&&$_f5vhlo32jdud771g.hasSameParentBlock(rootNode,fromInline,toInline)?Location.after(forward?fromInline:toInline):location}).getOr(location)},skipNoMovement=function(fromLocation,toLocation){return fromLocation.fold($_dree2x6jdud76bv.constant(!0),function(fromLocation){return location2=toLocation,!(getName(location1=fromLocation)===getName(location2)&&getElement(location1)===getElement(location2));var location1,location2})},findLocationSimple=function(forward,location){return forward?location.fold($_dree2x6jdud76bv.compose(Option.some,Location.start),Option.none,$_dree2x6jdud76bv.compose(Option.some,Location.after),Option.none):location.fold(Option.none,$_dree2x6jdud76bv.compose(Option.some,Location.before),Option.none,$_dree2x6jdud76bv.compose(Option.some,Location.end))},findLocation=function(forward,isInlineTarget,rootNode,pos){var from=$_f5vhlo32jdud771g.normalizePosition(forward,pos),fromLocation=readLocation(isInlineTarget,rootNode,from);return readLocation(isInlineTarget,rootNode,from).bind($_dree2x6jdud76bv.curry(findLocationSimple,forward)).orThunk(function(){return function(forward,isInlineTarget,rootNode,fromLocation,pos){var from=$_f5vhlo32jdud771g.normalizePosition(forward,pos);return $_a05mnc2bjdud76xb.fromPosition(forward,rootNode,from).map($_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.normalizePosition,forward)).fold(function(){return fromLocation.map(outside)},function(to){return readLocation(isInlineTarget,rootNode,to).map($_dree2x6jdud76bv.curry(betweenInlines,forward,isInlineTarget,rootNode,from,to)).filter($_dree2x6jdud76bv.curry(skipNoMovement,fromLocation))}).filter(isValidLocation)}(forward,isInlineTarget,rootNode,fromLocation,pos)})},$_1xun63ijdud774a_readLocation=readLocation,$_1xun63ijdud774a_findLocation=findLocation,$_1xun63ijdud774a_outside=($_dree2x6jdud76bv.curry(findLocation,!1),$_dree2x6jdud76bv.curry(findLocation,!0),outside),$_1xun63ijdud774a_inside=function(location){return location.fold(Location.start,Location.start,Location.end,Location.end)},Cell=function(initial){var value=initial,get=function(){return value};return{get:get,set:function(v){value=v},clone:function(){return Cell(get())}}},hasSelectionModifyApi=function(editor){return $_c9rr1612jdud76o1.isFunction(editor.selection.getSel().modify)},moveRel=function(forward,selection,pos){var delta=forward?1:-1;return selection.setRng(CaretPosition$1(pos.container(),pos.offset()+delta).toRange()),selection.getSel().modify("move",forward?"forward":"backward","word"),!0},$_906ogw3rjdud776d_moveByWord=function(forward,editor){var rng=editor.selection.getRng(),pos=forward?CaretPosition$1.fromRangeEnd(rng):CaretPosition$1.fromRangeStart(rng);return!!hasSelectionModifyApi(editor)&&(forward&&isBeforeInline(pos)?moveRel(!0,editor.selection,pos):!(forward||!isAfterInline(pos))&&moveRel(!1,editor.selection,pos))},setCaretPosition=function(editor,pos){var rng=editor.dom.createRng();rng.setStart(pos.container(),pos.offset()),rng.setEnd(pos.container(),pos.offset()),editor.selection.setRng(rng)},isFeatureEnabled=function(editor){return!1!==editor.settings.inline_boundaries},setSelected=function(state,elm){state?elm.setAttribute("data-mce-selected","inline-boundary"):elm.removeAttribute("data-mce-selected")},renderCaretLocation=function(editor,caret,location){return $_9jr8g93gjdud7742_renderCaret(caret,location).map(function(pos){return setCaretPosition(editor,pos),location})},moveWord=function(forward,editor,caret){return function(){return!!isFeatureEnabled(editor)&&$_906ogw3rjdud776d_moveByWord(forward,editor)}},$_3wv21c3pjdud7766={move:function(editor,caret,forward){return function(){return!!isFeatureEnabled(editor)&&function(editor,caret,forward){var rootNode=editor.getBody(),from=CaretPosition$1.fromRangeStart(editor.selection.getRng()),isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor);return $_1xun63ijdud774a_findLocation(forward,isInlineTarget,rootNode,from).bind(function(location){return renderCaretLocation(editor,caret,location)})}(editor,caret,forward).isSome()}},moveNextWord:$_dree2x6jdud76bv.curry(moveWord,!0),movePrevWord:$_dree2x6jdud76bv.curry(moveWord,!1),setupSelectedState:function(editor){var caret=new Cell(null),isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor);return editor.on("NodeChange",function(e){isFeatureEnabled(editor)&&(function(isInlineTarget,dom,elms){var selectedInlines=$_2rdhjp4jdud76b1.filter(dom.select('*[data-mce-selected="inline-boundary"]'),isInlineTarget),targetInlines=$_2rdhjp4jdud76b1.filter(elms,isInlineTarget);$_2rdhjp4jdud76b1.each($_2rdhjp4jdud76b1.difference(selectedInlines,targetInlines),$_dree2x6jdud76bv.curry(setSelected,!1)),$_2rdhjp4jdud76b1.each($_2rdhjp4jdud76b1.difference(targetInlines,selectedInlines),$_dree2x6jdud76bv.curry(setSelected,!0))}(isInlineTarget,editor.dom,e.parents),function(editor,caret){if(editor.selection.isCollapsed()&&!0!==editor.composing&&caret.get()){var pos=CaretPosition$1.fromRangeStart(editor.selection.getRng());CaretPosition$1.isTextPosition(pos)&&!1===$_f5vhlo32jdud771g.isAtZwsp(pos)&&(setCaretPosition(editor,$_cnzgug29jdud76wo.removeAndReposition(caret.get(),pos)),caret.set(null))}}(editor,caret),function(isInlineTarget,editor,caret,elms){if(editor.selection.isCollapsed()){var inlines=$_2rdhjp4jdud76b1.filter(elms,isInlineTarget);$_2rdhjp4jdud76b1.each(inlines,function(inline){var pos=CaretPosition$1.fromRangeStart(editor.selection.getRng());$_1xun63ijdud774a_readLocation(isInlineTarget,editor.getBody(),pos).bind(function(location){return renderCaretLocation(editor,caret,location)})})}}(isInlineTarget,editor,caret,e.parents))}),caret},setCaretPosition:setCaretPosition},setCaretLocation=function(editor,caret){return function(location){return $_9jr8g93gjdud7742_renderCaret(caret,location).map(function(pos){return $_3wv21c3pjdud7766.setCaretPosition(editor,pos),!0}).getOr(!1)}},deleteFromTo=function(editor,caret,from,to){var rootNode=editor.getBody(),isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor);editor.undoManager.ignore(function(){editor.selection.setRng(function(from,to){var range=document.createRange();return range.setStart(from.container(),from.offset()),range.setEnd(to.container(),to.offset()),range}(from,to)),editor.execCommand("Delete"),$_1xun63ijdud774a_readLocation(isInlineTarget,rootNode,CaretPosition$1.fromRangeStart(editor.selection.getRng())).map($_1xun63ijdud774a_inside).map(setCaretLocation(editor,caret))}),editor.nodeChanged()},backspaceDeleteCollapsed=function(editor,caret,forward,from){var rootNode=function(rootNode,node){var parentBlock=getParentBlock(node,rootNode);return parentBlock||rootNode}(editor.getBody(),from.container()),isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor),fromLocation=$_1xun63ijdud774a_readLocation(isInlineTarget,rootNode,from);return fromLocation.bind(function(location){return forward?location.fold($_dree2x6jdud76bv.constant(Option.some($_1xun63ijdud774a_inside(location))),Option.none,$_dree2x6jdud76bv.constant(Option.some($_1xun63ijdud774a_outside(location))),Option.none):location.fold(Option.none,$_dree2x6jdud76bv.constant(Option.some($_1xun63ijdud774a_outside(location))),Option.none,$_dree2x6jdud76bv.constant(Option.some($_1xun63ijdud774a_inside(location))))}).map(setCaretLocation(editor,caret)).getOrThunk(function(){var toPosition=$_a05mnc2bjdud76xb.navigate(forward,rootNode,from),toLocation=toPosition.bind(function(pos){return $_1xun63ijdud774a_readLocation(isInlineTarget,rootNode,pos)});return fromLocation.isSome()&&toLocation.isSome()?$_f5vhlo32jdud771g.findRootInline(isInlineTarget,rootNode,from).map(function(elm){return!!function(elm){return $_dw9y2w2ejdud76xu_liftN([$_a05mnc2bjdud76xb.firstPositionIn(elm),$_a05mnc2bjdud76xb.lastPositionIn(elm)],function(firstPos,lastPos){var normalizedFirstPos=$_f5vhlo32jdud771g.normalizePosition(!0,firstPos),normalizedLastPos=$_f5vhlo32jdud771g.normalizePosition(!1,lastPos);return $_a05mnc2bjdud76xb.nextPosition(elm,normalizedFirstPos).map(function(pos){return pos.isEqual(normalizedLastPos)}).getOr(!0)}).getOr(!0)}(elm)&&($_2e54hb3ejdud773j_deleteElement(editor,forward,$_77yl9nyjdud76my.fromDom(elm)),!0)}).getOr(!1):toLocation.bind(function(_){return toPosition.map(function(to){return forward?deleteFromTo(editor,caret,from,to):deleteFromTo(editor,caret,to,from),!0})}).getOr(!1)})},$_68kclm3fjdud773v_backspaceDelete=function(editor,caret,forward){if(editor.selection.isCollapsed()&&function(editor){return!1!==editor.settings.inline_boundaries}(editor)){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return backspaceDeleteCollapsed(editor,caret,forward,from)}return!1},tableCellRng=$_3vrm9i18jdud76ot.immutable("start","end"),tableSelection=$_3vrm9i18jdud76ot.immutable("rng","table","cells"),deleteAction=$_arwvrq3djdud773f_generate([{removeTable:["element"]},{emptyCells:["cells"]}]),getClosestCell$1=function(container,isRoot){return $_ajhtx137jdud7727_closest($_77yl9nyjdud76my.fromDom(container),"td,th",isRoot)},getClosestTable=function(cell,isRoot){return $_ajhtx137jdud7727_ancestor(cell,"table",isRoot)},isExpandedCellRng=function(cellRng){return!1===$_fxc4921djdud76p9.eq(cellRng.start(),cellRng.end())},getTableSelectionFromCellRng=function(cellRng,isRoot){return function(cellRng,isRoot){return getClosestTable(cellRng.start(),isRoot).bind(function(startParentTable){return getClosestTable(cellRng.end(),isRoot).bind(function(endParentTable){return $_fxc4921djdud76p9.eq(startParentTable,endParentTable)?Option.some(startParentTable):Option.none()})})}(cellRng,isRoot).bind(function(table){var cells=$_fmr77x2gjdud76yg_descendants(table,"td,th");return tableSelection(cellRng,table,cells)})},getTableSelectionFromRng=function(rootNode,rng){var isRoot=$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,rootNode);return function(rng,isRoot){return $_dw9y2w2ejdud76xu_liftN([getClosestCell$1(rng.startContainer,isRoot),getClosestCell$1(rng.endContainer,isRoot)],tableCellRng).filter(isExpandedCellRng)}(rng,isRoot).map(function(cellRng){return getTableSelectionFromCellRng(cellRng,isRoot)})},getCellIndex=function(cellArray,cell){return $_2rdhjp4jdud76b1.findIndex(cellArray,function(x){return $_fxc4921djdud76p9.eq(x,cell)})},getAction=function(tableSelection){return function(tableSelection){return $_dw9y2w2ejdud76xu_liftN([getCellIndex(tableSelection.cells(),tableSelection.rng().start()),getCellIndex(tableSelection.cells(),tableSelection.rng().end())],function(startIndex,endIndex){return tableSelection.cells().slice(startIndex,endIndex+1)})}(tableSelection).bind(function(selected){var cells=tableSelection.cells();return selected.length===cells.length?deleteAction.removeTable(tableSelection.table()):deleteAction.emptyCells(selected)})},$_btbqsw3tjdud776y_getActionFromRange=function(rootNode,rng){return getTableSelectionFromRng(rootNode,rng).map(getAction)},getRanges=function(selection){var ranges=[];if(selection)for(var i=0;i<selection.rangeCount;i++)ranges.push(selection.getRangeAt(i));return ranges},$_3vo5me3vjdud777c_getRanges=getRanges,$_3vo5me3vjdud777c_getSelectedNodes=function(ranges){return $_2rdhjp4jdud76b1.bind(ranges,function(range){var node=getSelectedNode(range);return node?[$_77yl9nyjdud76my.fromDom(node)]:[]})},$_3vo5me3vjdud777c_hasMultipleRanges=function(selection){return 1<getRanges(selection).length},getCellsFromRanges=function(ranges){return $_2rdhjp4jdud76b1.filter($_3vo5me3vjdud777c_getSelectedNodes(ranges),isTableCell)},getCellsFromElement=function(elm){return $_fmr77x2gjdud76yg_descendants(elm,"td[data-mce-selected],th[data-mce-selected]")},getCellsFromElementOrRanges=function(ranges,element){var selectedCells=getCellsFromElement(element),rangeCells=getCellsFromRanges(ranges);return 0<selectedCells.length?selectedCells:rangeCells},$_7fgukr3ujdud7779_getCellsFromElementOrRanges=getCellsFromElementOrRanges,$_7fgukr3ujdud7779_getCellsFromEditor=function(editor){return getCellsFromElementOrRanges($_3vo5me3vjdud777c_getRanges(editor.selection.getSel()),$_77yl9nyjdud76my.fromDom(editor.getBody()))},emptyCells=function(editor,cells){return $_2rdhjp4jdud76b1.each(cells,$_9i5evb2njdud76zg_fillWithPaddingBr),editor.selection.setCursorLocation(cells[0].dom(),0),!0},deleteTableElement=function(editor,table){return $_2e54hb3ejdud773j_deleteElement(editor,!1,table),!0},deleteTableRange=function(editor,rootElm,rng,startElm){return getParentCaption(rootElm,startElm).fold(function(){return function(editor,rootElm,rng){return $_btbqsw3tjdud776y_getActionFromRange(rootElm,rng).map(function(action){return action.fold($_dree2x6jdud76bv.curry(deleteTableElement,editor),$_dree2x6jdud76bv.curry(emptyCells,editor))})}(editor,rootElm,rng)},function(caption){return function(editor,caption){return emptyElement(editor,caption)}(editor,caption)}).getOr(!1)},getParentCell=function(rootElm,elm){return $_2rdhjp4jdud76b1.find($_2h4haq39jdud772r_parentsAndSelf(elm,rootElm),isTableCell)},getParentCaption=function(rootElm,elm){return $_2rdhjp4jdud76b1.find($_2h4haq39jdud772r_parentsAndSelf(elm,rootElm),function(elm){return"caption"===$_8ql502zjdud76n3.name(elm)})},emptyElement=function(editor,elm){return $_9i5evb2njdud76zg_fillWithPaddingBr(elm),editor.selection.setCursorLocation(elm.dom(),0),Option.some(!0)},deleteCaretInsideCaption=function(editor,rootElm,forward,fromCaption,from){return $_a05mnc2bjdud76xb.navigate(forward,editor.getBody(),from).bind(function(to){return function(fromCaption,forward,from,to){return $_a05mnc2bjdud76xb.firstPositionIn(fromCaption.dom()).bind(function(first){return $_a05mnc2bjdud76xb.lastPositionIn(fromCaption.dom()).map(function(last){return forward?from.isEqual(first)&&to.isEqual(last):from.isEqual(last)&&to.isEqual(first)})}).getOr(!0)}(fromCaption,forward,from,to)?function(editor,elm){return emptyElement(editor,elm)}(editor,fromCaption):function(rootElm,fromCaption,to){return getParentCaption(rootElm,$_77yl9nyjdud76my.fromDom(to.getNode())).map(function(toCaption){return!1===$_fxc4921djdud76p9.eq(toCaption,fromCaption)})}(rootElm,fromCaption,to)}).or(Option.some(!0))},deleteCaretCells=function(editor,forward,rootElm,startElm){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return getParentCell(rootElm,startElm).bind(function(fromCell){return $_7puuk735jdud7720_isEmpty(fromCell)?emptyElement(editor,fromCell):function(editor,rootElm,forward,fromCell,from){return $_a05mnc2bjdud76xb.navigate(forward,editor.getBody(),from).bind(function(to){return getParentCell(rootElm,$_77yl9nyjdud76my.fromDom(to.getNode())).map(function(toCell){return!1===$_fxc4921djdud76p9.eq(toCell,fromCell)})})}(editor,rootElm,forward,fromCell,from)})},deleteCaret=function(editor,forward,startElm){var rootElm=$_77yl9nyjdud76my.fromDom(editor.getBody());return getParentCaption(rootElm,startElm).fold(function(){return deleteCaretCells(editor,forward,rootElm,startElm)},function(fromCaption){return function(editor,forward,rootElm,fromCaption){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return $_7puuk735jdud7720_isEmpty(fromCaption)?emptyElement(editor,fromCaption):deleteCaretInsideCaption(editor,rootElm,forward,fromCaption,from)}(editor,forward,rootElm,fromCaption)}).getOr(!1)},$_dwy43x3sjdud776g_backspaceDelete=function(editor,forward){var startElm=$_77yl9nyjdud76my.fromDom(editor.selection.getStart(!0));return editor.selection.isCollapsed()?deleteCaret(editor,forward,startElm):function(editor,startElm){var rootNode=$_77yl9nyjdud76my.fromDom(editor.getBody()),rng=editor.selection.getRng(),selectedCells=$_7fgukr3ujdud7779_getCellsFromEditor(editor);return 0!==selectedCells.length?emptyCells(editor,selectedCells):deleteTableRange(editor,rootNode,rng,startElm)}(editor,startElm)},nativeCommand=function(editor,command){editor.getDoc().execCommand(command,!1,null)},$_6ftmsc2wjdud770n={deleteCommand:function(editor){$_bclbcu3bjdud7732_backspaceDelete(editor,!1)||$_68kclm3fjdud773v_backspaceDelete(editor,!1)||$_3xfowd2xjdud770p_backspaceDelete(editor,!1)||$_dwy43x3sjdud776g_backspaceDelete(editor)||$_7kqkze3ajdud772v_backspaceDelete(editor,!1)||(nativeCommand(editor,"Delete"),$_4xcall2zjdud770z_paddEmptyBody(editor))},forwardDeleteCommand:function(editor){$_bclbcu3bjdud7732_backspaceDelete(editor,!0)||$_68kclm3fjdud773v_backspaceDelete(editor,!0)||$_3xfowd2xjdud770p_backspaceDelete(editor,!0)||$_dwy43x3sjdud776g_backspaceDelete(editor)||$_7kqkze3ajdud772v_backspaceDelete(editor,!0)||nativeCommand(editor,"ForwardDelete")}},$_7nsrza3yjdud777x={isEq:function(rng1,rng2){return rng1&&rng2&&rng1.startContainer===rng2.startContainer&&rng1.startOffset===rng2.startOffset&&rng1.endContainer===rng2.endContainer&&rng1.endOffset===rng2.endOffset}},position=$_3vrm9i18jdud76ot.immutable("container","offset"),hasParent=function(node,rootNode,predicate){return null!==function(node,rootNode,predicate){for(;node&&node!==rootNode;){if(predicate(node))return node;node=node.parentNode}return null}(node,rootNode,predicate)},hasParentWithName=function(node,rootNode,name){return hasParent(node,rootNode,function(node){return node.nodeName===name})},isTable$2=function(node){return node&&"TABLE"===node.nodeName},isTableCell$3=function(node){return node&&/^(TD|TH|CAPTION)$/.test(node.nodeName)},isCeFalseCaretContainer=function(node,rootNode){return isCaretContainer(node)&&!1===hasParent(node,rootNode,$_2s31k33jjdud774z.isCaretNode)},hasBrBeforeAfter=function(dom,node,left){for(var walker=new TreeWalker(node,dom.getParent(node.parentNode,dom.isBlock)||dom.getRoot());node=walker[left?"prev":"next"]();)if($_2nbmh51qjdud76qx.isBr(node))return!0},findTextNodeRelative=function(dom,isAfterNode,collapsed,left,startNode){var walker,lastInlineElement,parentBlockContainer,node,body=dom.getRoot(),nonEmptyElementsMap=dom.schema.getNonEmptyElements();if(parentBlockContainer=dom.getParent(startNode.parentNode,dom.isBlock)||body,left&&$_2nbmh51qjdud76qx.isBr(startNode)&&isAfterNode&&dom.isEmpty(parentBlockContainer))return Option.some(position(startNode.parentNode,dom.nodeIndex(startNode)));for(walker=new TreeWalker(startNode,parentBlockContainer);node=walker[left?"prev":"next"]();){if("false"===dom.getContentEditableParent(node)||isCeFalseCaretContainer(node,body))return Option.none();if($_2nbmh51qjdud76qx.isText(node)&&0<node.nodeValue.length)return!1===hasParentWithName(node,body,"A")?Option.some(position(node,left?node.nodeValue.length:0)):Option.none();if(dom.isBlock(node)||nonEmptyElementsMap[node.nodeName.toLowerCase()])return Option.none();lastInlineElement=node}return collapsed&&lastInlineElement?Option.some(position(lastInlineElement,0)):Option.none()},normalizeEndPoint=function(dom,collapsed,start,rng){var container,offset,walker,node,nonEmptyElementsMap,directionLeft,isAfterNode,body=dom.getRoot(),normalized=!1;if(container=rng[(start?"start":"end")+"Container"],offset=rng[(start?"start":"end")+"Offset"],isAfterNode=$_2nbmh51qjdud76qx.isElement(container)&&offset===container.childNodes.length,nonEmptyElementsMap=dom.schema.getNonEmptyElements(),directionLeft=start,isCaretContainer(container))return Option.none();if($_2nbmh51qjdud76qx.isElement(container)&&offset>container.childNodes.length-1&&(directionLeft=!1),$_2nbmh51qjdud76qx.isDocument(container)&&(container=body,offset=0),container===body){if(directionLeft&&(node=container.childNodes[0<offset?offset-1:0])){if(isCaretContainer(node))return Option.none();if(nonEmptyElementsMap[node.nodeName]||isTable$2(node))return Option.none()}if(container.hasChildNodes()){if(offset=Math.min(!directionLeft&&0<offset?offset-1:offset,container.childNodes.length-1),container=container.childNodes[offset],offset=$_2nbmh51qjdud76qx.isText(container)&&isAfterNode?container.data.length:0,!collapsed&&container===body.lastChild&&isTable$2(container))return Option.none();if(function(body,node){for(;node&&node!==body;){if($_2nbmh51qjdud76qx.isContentEditableFalse(node))return!0;node=node.parentNode}return!1}(body,container)||isCaretContainer(container))return Option.none();if(container.hasChildNodes()&&!1===isTable$2(container)){walker=new TreeWalker(node=container,body);do{if($_2nbmh51qjdud76qx.isContentEditableFalse(node)||isCaretContainer(node)){normalized=!1;break}if($_2nbmh51qjdud76qx.isText(node)&&0<node.nodeValue.length){offset=directionLeft?0:node.nodeValue.length,container=node,normalized=!0;break}if(nonEmptyElementsMap[node.nodeName.toLowerCase()]&&!isTableCell$3(node)){offset=dom.nodeIndex(node),container=node.parentNode,"IMG"!==node.nodeName&&"PRE"!==node.nodeName||directionLeft||offset++,normalized=!0;break}}while(node=directionLeft?walker.next():walker.prev())}}}return collapsed&&($_2nbmh51qjdud76qx.isText(container)&&0===offset&&findTextNodeRelative(dom,isAfterNode,collapsed,!0,container).each(function(pos){container=pos.container(),offset=pos.offset(),normalized=!0}),$_2nbmh51qjdud76qx.isElement(container)&&((node=container.childNodes[offset])||(node=container.childNodes[offset-1]),!node||!$_2nbmh51qjdud76qx.isBr(node)||function(node,name){return node.previousSibling&&node.previousSibling.nodeName===name}(node,"A")||hasBrBeforeAfter(dom,node,!1)||hasBrBeforeAfter(dom,node,!0)||findTextNodeRelative(dom,isAfterNode,collapsed,!0,node).each(function(pos){container=pos.container(),offset=pos.offset(),normalized=!0}))),directionLeft&&!collapsed&&$_2nbmh51qjdud76qx.isText(container)&&offset===container.nodeValue.length&&findTextNodeRelative(dom,isAfterNode,collapsed,!1,container).each(function(pos){container=pos.container(),offset=pos.offset(),normalized=!0}),normalized?Option.some(position(container,offset)):Option.none()},$_3e2aut3xjdud777p={normalize:function(dom,rng){var collapsed=rng.collapsed,normRng=rng.cloneRange();return normalizeEndPoint(dom,collapsed,!0,normRng).each(function(pos){normRng.setStart(pos.container(),pos.offset())}),collapsed||normalizeEndPoint(dom,collapsed,!1,normRng).each(function(pos){normRng.setEnd(pos.container(),pos.offset())}),collapsed&&normRng.collapse(!0),$_7nsrza3yjdud777x.isEq(rng,normRng)?Option.none():Option.some(normRng)}},scrollToBr=function(dom,selection,brElm){var marker=dom.create("span",{},"&nbsp;");brElm.parentNode.insertBefore(marker,brElm),selection.scrollIntoView(marker),dom.remove(marker)},moveSelectionToBr=function(dom,selection,brElm,extraBr){var rng=dom.createRng();extraBr?(rng.setStartBefore(brElm),rng.setEndBefore(brElm)):(rng.setStartAfter(brElm),rng.setEndAfter(brElm)),selection.setRng(rng)},insertBrAtCaret=function(editor,evt){var brElm,extraBr,selection=editor.selection,dom=editor.dom,rng=selection.getRng();$_3e2aut3xjdud777p.normalize(dom,rng).each(function(normRng){rng.setStart(normRng.startContainer,normRng.startOffset),rng.setEnd(normRng.endContainer,normRng.endOffset)});var offset=rng.startOffset,container=rng.startContainer;if(1===container.nodeType&&container.hasChildNodes()){var isAfterLastNodeInContainer=offset>container.childNodes.length-1;container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container,offset=isAfterLastNodeInContainer&&3===container.nodeType?container.nodeValue.length:0}var parentBlock=dom.getParent(container,dom.isBlock),containerBlock=parentBlock?dom.getParent(parentBlock.parentNode,dom.isBlock):null,containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():"",isControlKey=evt&&evt.ctrlKey;"LI"!==containerBlockName||isControlKey||(parentBlock=containerBlock),container&&3===container.nodeType&&offset>=container.nodeValue.length&&(function(schema,container,parentBlock){for(var node,walker=new TreeWalker(container,parentBlock),nonEmptyElementsMap=schema.getNonEmptyElements();node=walker.next();)if(nonEmptyElementsMap[node.nodeName.toLowerCase()]||0<node.length)return!0}(editor.schema,container,parentBlock)||(brElm=dom.create("br"),rng.insertNode(brElm),rng.setStartAfter(brElm),rng.setEndAfter(brElm),extraBr=!0)),brElm=dom.create("br"),rng.insertNode(brElm),scrollToBr(dom,selection,brElm),moveSelectionToBr(dom,selection,brElm,extraBr),editor.undoManager.add()},insertBrBefore=function(editor,inline){var br=$_77yl9nyjdud76my.fromTag("br");$_y9e9r2ojdud76zq.before($_77yl9nyjdud76my.fromDom(inline),br),editor.undoManager.add()},insertBrAfter=function(editor,inline){hasBrAfter(editor.getBody(),inline)||$_y9e9r2ojdud76zq.after($_77yl9nyjdud76my.fromDom(inline),$_77yl9nyjdud76my.fromTag("br"));var br=$_77yl9nyjdud76my.fromTag("br");$_y9e9r2ojdud76zq.after($_77yl9nyjdud76my.fromDom(inline),br),scrollToBr(editor.dom,editor.selection,br.dom()),moveSelectionToBr(editor.dom,editor.selection,br.dom(),!1),editor.undoManager.add()},hasBrAfter=function(rootNode,startNode){return pos=CaretPosition$1.after(startNode),!!$_2nbmh51qjdud76qx.isBr(pos.getNode())||$_a05mnc2bjdud76xb.nextPosition(rootNode,CaretPosition$1.after(startNode)).map(function(pos){return $_2nbmh51qjdud76qx.isBr(pos.getNode())}).getOr(!1);var pos},isAnchorLink=function(elm){return elm&&"A"===elm.nodeName&&"href"in elm},isInsideAnchor=function(location){return location.fold($_dree2x6jdud76bv.constant(!1),isAnchorLink,isAnchorLink,$_dree2x6jdud76bv.constant(!1))},insertBrOutsideAnchor=function(editor,location){location.fold($_dree2x6jdud76bv.noop,$_dree2x6jdud76bv.curry(insertBrBefore,editor),$_dree2x6jdud76bv.curry(insertBrAfter,editor),$_dree2x6jdud76bv.noop)},$_bvotky3wjdud777h={insert:function(editor,evt){var anchorLocation=function(editor){var isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor),position=CaretPosition$1.fromRangeStart(editor.selection.getRng());return $_1xun63ijdud774a_readLocation(isInlineTarget,editor.getBody(),position).filter(isInsideAnchor)}(editor);anchorLocation.isSome()?anchorLocation.each($_dree2x6jdud76bv.curry(insertBrOutsideAnchor,editor)):insertBrAtCaret(editor,evt)}},adt=$_arwvrq3djdud773f_generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$_40lw7141jdud778c_getStart=(adt.before,adt.on,adt.after,function(situ){return situ.fold($_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity,$_dree2x6jdud76bv.identity)}),type$1=$_arwvrq3djdud773f_generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),range$1=$_3vrm9i18jdud76ot.immutable("start","soffset","finish","foffset"),$_gihh8740jdud7788={domRange:type$1.domRange,relative:type$1.relative,exact:type$1.exact,exactFromRange:function(simRange){return type$1.exact(simRange.start(),simRange.soffset(),simRange.finish(),simRange.foffset())},range:range$1,getWin:function(selection){var start=function(selection){return selection.match({domRange:function(rng){return $_77yl9nyjdud76my.fromDom(rng.startContainer)},relative:function(startSitu,finishSitu){return $_40lw7141jdud778c_getStart(startSitu)},exact:function(start,soffset,finish,foffset){return start}})}(selection);return $_24kyxa17jdud76ok.defaultView(start)}},browser$3=$_csimq8mjdud76ly.detect().browser,clamp=function(offset,element){var max=$_8ql502zjdud76n3.isText(element)?$_8cumny2rjdud76zy_get(element).length:$_24kyxa17jdud76ok.children(element).length+1;return max<offset?max:offset<0?0:offset},normalizeRng=function(rng){return $_gihh8740jdud7788.range(rng.start(),clamp(rng.soffset(),rng.start()),rng.finish(),clamp(rng.foffset(),rng.finish()))},isOrContains=function(root,elm){return $_fxc4921djdud76p9.contains(root,elm)||$_fxc4921djdud76p9.eq(root,elm)},isRngInRoot=function(root){return function(rng){return isOrContains(root,rng.start())&&isOrContains(root,rng.finish())}},shouldStore=function(editor){return!0===editor.inline||browser$3.isIE()},nativeRangeToSelectionRange=function(r){return $_gihh8740jdud7788.range($_77yl9nyjdud76my.fromDom(r.startContainer),r.startOffset,$_77yl9nyjdud76my.fromDom(r.endContainer),r.endOffset)},readRange=function(win){var selection=win.getSelection();return(selection&&0!==selection.rangeCount?Option.from(selection.getRangeAt(0)):Option.none()).map(nativeRangeToSelectionRange)},getBookmark$2=function(root){var win=$_24kyxa17jdud76ok.defaultView(root);return readRange(win.dom()).filter(isRngInRoot(root))},validate=function(root,bookmark){return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng)},bookmarkToNativeRng=function(bookmark){var rng=document.createRange();return rng.setStart(bookmark.start().dom(),bookmark.soffset()),rng.setEnd(bookmark.finish().dom(),bookmark.foffset()),Option.some(rng)},getRng=function(editor){return(editor.bookmark?editor.bookmark:Option.none()).bind($_dree2x6jdud76bv.curry(validate,$_77yl9nyjdud76my.fromDom(editor.getBody()))).bind(bookmarkToNativeRng)},$_8342u23zjdud777z={store:function(editor){var newBookmark=shouldStore(editor)?getBookmark$2($_77yl9nyjdud76my.fromDom(editor.getBody())):Option.none();editor.bookmark=newBookmark.isSome()?newBookmark:editor.bookmark},storeNative:function(editor,rng){var root=$_77yl9nyjdud76my.fromDom(editor.getBody()),newBookmark=(shouldStore(editor)?Option.from(rng):Option.none()).map(nativeRangeToSelectionRange).filter(isRngInRoot(root));editor.bookmark=newBookmark.isSome()?newBookmark:editor.bookmark},readRange:readRange,restore:function(editor){getRng(editor).each(function(rng){editor.selection.setRng(rng)})},getRng:getRng,getBookmark:getBookmark$2,validate:validate},handle=function(editor,command){var settings=editor.settings,dom=editor.dom,selection=editor.selection,formatter=editor.formatter,indentUnit=/[a-z%]+$/i.exec(settings.indentation)[0],indentValue=parseInt(settings.indentation,10),useMargin=editor.getParam("indent_use_margin",!1);editor.queryCommandState("InsertUnorderedList")||editor.queryCommandState("InsertOrderedList")||(settings.forced_root_block||dom.getParent(selection.getNode(),dom.isBlock)||formatter.apply("div"),$_2rdhjp4jdud76b1.each(selection.getSelectedBlocks(),function(element){return function(dom,command,useMargin,value,unit,element){if("false"!==dom.getContentEditable(element)&&"LI"!==element.nodeName){var indentStyleName=useMargin?"margin":"padding";if(indentStyleName="TABLE"===element.nodeName?"margin":indentStyleName,indentStyleName+="rtl"===dom.getStyle(element,"direction",!0)?"Right":"Left","outdent"===command){var styleValue=Math.max(0,parseInt(element.style[indentStyleName]||0,10)-value);dom.setStyle(element,indentStyleName,styleValue?styleValue+unit:"")}else styleValue=parseInt(element.style[indentStyleName]||0,10)+value+unit,dom.setStyle(element,indentStyleName,styleValue)}}(dom,command,useMargin,indentValue,indentUnit,element)}))},each$9=$_1qam7ujjdud76lb.each,extend$2=$_1qam7ujjdud76lb.extend,map$2=$_1qam7ujjdud76lb.map,inArray$2=$_1qam7ujjdud76lb.inArray,explode$2=$_1qam7ujjdud76lb.explode,TRUE=!0,FALSE=!1;function EditorCommands(editor){var dom,selection,formatter,bookmark,commands={state:{},exec:{},value:{}},settings=editor.settings;editor.on("PreInit",function(){dom=editor.dom,selection=editor.selection,settings=editor.settings,formatter=editor.formatter});var queryCommandState=function(command){var func;if(!editor.quirks.isHidden()&&!editor.removed){if(command=command.toLowerCase(),func=commands.state[command])return func(command);try{return editor.getDoc().queryCommandState(command)}catch(ex){}return!1}},addCommands=function(commandList,type){type=type||"exec",each$9(commandList,function(callback,command){each$9(command.toLowerCase().split(","),function(command){commands[type][command]=callback})})};extend$2(this,{execCommand:function(command,ui,value,args){var func,customCommand,state=!1;if(!editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command)||args&&args.skip_focus?$_8342u23zjdud777z.restore(editor):editor.focus(),(args=editor.fire("BeforeExecCommand",{command:command,ui:ui,value:value})).isDefaultPrevented())return!1;if(customCommand=command.toLowerCase(),func=commands.exec[customCommand])return func(customCommand,ui,value),editor.fire("ExecCommand",{command:command,ui:ui,value:value}),!0;if(each$9(editor.plugins,function(p){if(p.execCommand&&p.execCommand(command,ui,value))return editor.fire("ExecCommand",{command:command,ui:ui,value:value}),state=!0,!1}),state)return state;if(editor.theme&&editor.theme.execCommand&&editor.theme.execCommand(command,ui,value))return editor.fire("ExecCommand",{command:command,ui:ui,value:value}),!0;try{state=editor.getDoc().execCommand(command,ui,value)}catch(ex){}return!!state&&(editor.fire("ExecCommand",{command:command,ui:ui,value:value}),!0)}},queryCommandState:queryCommandState,queryCommandValue:function(command){var func;if(!editor.quirks.isHidden()&&!editor.removed){if(command=command.toLowerCase(),func=commands.value[command])return func(command);try{return editor.getDoc().queryCommandValue(command)}catch(ex){}}},queryCommandSupported:function(command){if(command=command.toLowerCase(),commands.exec[command])return!0;try{return editor.getDoc().queryCommandSupported(command)}catch(ex){}return!1},addCommands:addCommands,addCommand:function(command,callback,scope){command=command.toLowerCase(),commands.exec[command]=function(command,ui,value,args){return callback.call(scope||editor,ui,value,args)}},addQueryStateHandler:function(command,callback,scope){command=command.toLowerCase(),commands.state[command]=function(){return callback.call(scope||editor)}},addQueryValueHandler:function(command,callback,scope){command=command.toLowerCase(),commands.value[command]=function(){return callback.call(scope||editor)}},hasCustomCommand:function(command){return command=command.toLowerCase(),!!commands.exec[command]}});var execNativeCommand=function(command,ui,value){return void 0===ui&&(ui=FALSE),void 0===value&&(value=null),editor.getDoc().execCommand(command,ui,value)},isFormatMatch=function(name){return formatter.match(name)},toggleFormat=function(name,value){formatter.toggle(name,value?{value:value}:void 0),editor.nodeChanged()},storeSelection=function(type){bookmark=selection.getBookmark(type)},restoreSelection=function(){selection.moveToBookmark(bookmark)};addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){editor.undoManager.add()},"Cut,Copy,Paste":function(command){var failed,doc=editor.getDoc();try{execNativeCommand(command)}catch(ex){failed=TRUE}if("paste"!==command||doc.queryCommandEnabled(command)||(failed=!0),failed||!doc.queryCommandSupported(command)){var msg=editor.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");$_3faz499jdud76f2.mac&&(msg=msg.replace(/Ctrl\+/g,"\u2318+")),editor.notificationManager.open({text:msg,type:"error"})}},unlink:function(){if(selection.isCollapsed()){var elm=editor.dom.getParent(editor.selection.getStart(),"a");elm&&editor.dom.remove(elm,!0)}else formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(command){var align=command.substring(7);"full"===align&&(align="justify"),each$9("left,center,right,justify".split(","),function(name){align!==name&&formatter.remove("align"+name)}),"none"!==align&&toggleFormat("align"+align)},"InsertUnorderedList,InsertOrderedList":function(command){var listElm,listParent;execNativeCommand(command),(listElm=dom.getParent(selection.getNode(),"ol,ul"))&&(listParent=listElm.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)&&(storeSelection(),dom.split(listParent,listElm),restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(command){toggleFormat(command)},"ForeColor,HiliteColor,FontName":function(command,ui,value){toggleFormat(command,value)},FontSize:function(command,ui,value){var fontClasses,fontSizes;1<=value&&value<=7&&(fontSizes=explode$2(settings.font_size_style_values),value=(fontClasses=explode$2(settings.font_size_classes))?fontClasses[value-1]||value:fontSizes[value-1]||value),toggleFormat(command,value)},RemoveFormat:function(command){formatter.remove(command)},mceBlockQuote:function(){toggleFormat("blockquote")},FormatBlock:function(command,ui,value){return toggleFormat(value||"p")},mceCleanup:function(){var bookmark=selection.getBookmark();editor.setContent(editor.getContent({cleanup:TRUE}),{cleanup:TRUE}),selection.moveToBookmark(bookmark)},mceRemoveNode:function(command,ui,value){var node=value||selection.getNode();node!==editor.getBody()&&(storeSelection(),editor.dom.remove(node,TRUE),restoreSelection())},mceSelectNodeDepth:function(command,ui,value){var counter=0;dom.getParent(selection.getNode(),function(node){if(1===node.nodeType&&counter++===value)return selection.select(node),FALSE},editor.getBody())},mceSelectNode:function(command,ui,value){selection.select(value)},mceInsertContent:function(command,ui,value){$_w3ztu1wjdud76u2.insertAtCaret(editor,value)},mceInsertRawHTML:function(command,ui,value){selection.setContent("tiny_mce_marker"),editor.setContent(editor.getContent().replace(/tiny_mce_marker/g,function(){return value}))},mceToggleFormat:function(command,ui,value){toggleFormat(value)},mceSetContent:function(command,ui,value){editor.setContent(value)},"Indent,Outdent":function(command){handle(editor,command)},mceRepaint:function(){},InsertHorizontalRule:function(){editor.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){editor.hasVisual=!editor.hasVisual,editor.addVisual()},mceReplaceContent:function(command,ui,value){editor.execCommand("mceInsertContent",!1,value.replace(/\{\$selection\}/g,selection.getContent({format:"text"})))},mceInsertLink:function(command,ui,value){var anchor;"string"==typeof value&&(value={href:value}),anchor=dom.getParent(selection.getNode(),"a"),value.href=value.href.replace(" ","%20"),anchor&&value.href||formatter.remove("link"),value.href&&formatter.apply("link",value,anchor)},selectAll:function(){var editingHost=dom.getParent(selection.getStart(),$_2nbmh51qjdud76qx.isContentEditableTrue);if(editingHost){var rng=dom.createRng();rng.selectNodeContents(editingHost),selection.setRng(rng)}},delete:function(){$_6ftmsc2wjdud770n.deleteCommand(editor)},forwardDelete:function(){$_6ftmsc2wjdud770n.forwardDeleteCommand(editor)},mceNewDocument:function(){editor.setContent("")},InsertLineBreak:function(command,ui,value){return $_bvotky3wjdud777h.insert(editor,value),!0}}),addCommands({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(command){var name="align"+command.substring(7),nodes=selection.isCollapsed()?[dom.getParent(selection.getNode(),dom.isBlock)]:selection.getSelectedBlocks(),matches=map$2(nodes,function(node){return!!formatter.matchNode(node,name)});return-1!==inArray$2(matches,TRUE)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(command){return isFormatMatch(command)},mceBlockQuote:function(){return isFormatMatch("blockquote")},Outdent:function(){var node;if(settings.inline_styles){if((node=dom.getParent(selection.getStart(),dom.isBlock))&&0<parseInt(node.style.paddingLeft,10))return TRUE;if((node=dom.getParent(selection.getEnd(),dom.isBlock))&&0<parseInt(node.style.paddingLeft,10))return TRUE}return queryCommandState("InsertUnorderedList")||queryCommandState("InsertOrderedList")||!settings.inline_styles&&!!dom.getParent(selection.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(command){var list=dom.getParent(selection.getNode(),"ul,ol");return list&&("insertunorderedlist"===command&&"UL"===list.tagName||"insertorderedlist"===command&&"OL"===list.tagName)}},"state"),addCommands({"FontSize,FontName":function(command){var parent,value=0;return(parent=dom.getParent(selection.getNode(),"span"))&&(value="fontsize"===command?parent.style.fontSize:parent.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),value}},"value"),addCommands({Undo:function(){editor.undoManager.undo()},Redo:function(){editor.undoManager.redo()}})}var nativeEvents=$_1qam7ujjdud76lb.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Dispatcher=function(settings){var scope,toggleEvent,self=this,bindings={},returnFalse=function(){return!1},returnTrue=function(){return!0};scope=(settings=settings||{}).scope||self,toggleEvent=settings.toggleEvent||returnFalse;var on=function(name,callback,prepend,extra){var handlers,names,i;if(!1===callback&&(callback=returnFalse),callback)for(callback={func:callback},extra&&$_1qam7ujjdud76lb.extend(callback,extra),i=(names=name.toLowerCase().split(" ")).length;i--;)name=names[i],(handlers=bindings[name])||(handlers=bindings[name]=[],toggleEvent(name,!0)),prepend?handlers.unshift(callback):handlers.push(callback);return self},off=function(name,callback){var i,handlers,bindingName,names,hi;if(name)for(i=(names=name.toLowerCase().split(" ")).length;i--;){if(name=names[i],handlers=bindings[name],!name){for(bindingName in bindings)toggleEvent(bindingName,!1),delete bindings[bindingName];return self}if(handlers){if(callback)for(hi=handlers.length;hi--;)handlers[hi].func===callback&&(handlers=handlers.slice(0,hi).concat(handlers.slice(hi+1)),bindings[name]=handlers);else handlers.length=0;handlers.length||(toggleEvent(name,!1),delete bindings[name])}}else{for(name in bindings)toggleEvent(name,!1);bindings={}}return self};self.fire=function(name,args){var handlers,i,l,callback;if(name=name.toLowerCase(),(args=args||{}).type=name,args.target||(args.target=scope),args.preventDefault||(args.preventDefault=function(){args.isDefaultPrevented=returnTrue},args.stopPropagation=function(){args.isPropagationStopped=returnTrue},args.stopImmediatePropagation=function(){args.isImmediatePropagationStopped=returnTrue},args.isDefaultPrevented=returnFalse,args.isPropagationStopped=returnFalse,args.isImmediatePropagationStopped=returnFalse),settings.beforeFire&&settings.beforeFire(args),handlers=bindings[name])for(i=0,l=handlers.length;i<l;i++){if((callback=handlers[i]).once&&off(name,callback.func),args.isImmediatePropagationStopped())return args.stopPropagation(),args;if(!1===callback.func.call(scope,args))return args.preventDefault(),args}return args},self.on=on,self.off=off,self.once=function(name,callback,prepend){return on(name,callback,prepend,{once:!0})},self.has=function(name){return name=name.toLowerCase(),!(!bindings[name]||0===bindings[name].length)}};Dispatcher.isNative=function(name){return!!nativeEvents[name.toLowerCase()]};var customEventRootDelegates,getEventDispatcher=function(obj){return obj._eventDispatcher||(obj._eventDispatcher=new Dispatcher({scope:obj,toggleEvent:function(name,state){Dispatcher.isNative(name)&&obj.toggleNativeEvent&&obj.toggleNativeEvent(name,state)}})),obj._eventDispatcher},$_fs442644jdud778v={fire:function(name,args,bubble){if(this.removed&&"remove"!==name)return args;if(args=getEventDispatcher(this).fire(name,args,bubble),!1!==bubble&&this.parent)for(var parent_1=this.parent();parent_1&&!args.isPropagationStopped();)parent_1.fire(name,args,!1),parent_1=parent_1.parent();return args},on:function(name,callback,prepend){return getEventDispatcher(this).on(name,callback,prepend)},off:function(name,callback){return getEventDispatcher(this).off(name,callback)},once:function(name,callback){return getEventDispatcher(this).once(name,callback)},hasEventListeners:function(name){return getEventDispatcher(this).has(name)}},DOM$1=DOMUtils.DOM,getEventTarget=function(editor,eventName){return"selectionchange"===eventName?editor.getDoc():!editor.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)?editor.getDoc().documentElement:editor.settings.event_root?(editor.eventRoot||(editor.eventRoot=DOM$1.select(editor.settings.event_root)[0]),editor.eventRoot):editor.getBody()},bindEventDelegate=function(editor,eventName){var eventRootElm,delegate,isListening=function(editor){return!editor.hidden&&!editor.readonly};if(editor.delegates||(editor.delegates={}),!editor.delegates[eventName]&&!editor.removed)if(eventRootElm=getEventTarget(editor,eventName),editor.settings.event_root){if(customEventRootDelegates||(customEventRootDelegates={},editor.editorManager.on("removeEditor",function(){var name;if(!editor.editorManager.activeEditor&&customEventRootDelegates){for(name in customEventRootDelegates)editor.dom.unbind(getEventTarget(editor,name));customEventRootDelegates=null}})),customEventRootDelegates[eventName])return;delegate=function(e){for(var target=e.target,editors=editor.editorManager.get(),i=editors.length;i--;){var body=editors[i].getBody();(body===target||DOM$1.isChildOf(target,body))&&isListening(editors[i])&&editors[i].fire(eventName,e)}},customEventRootDelegates[eventName]=delegate,DOM$1.bind(eventRootElm,eventName,delegate)}else delegate=function(e){isListening(editor)&&editor.fire(eventName,e)},DOM$1.bind(eventRootElm,eventName,delegate),editor.delegates[eventName]=delegate},EditorObservable={bindPendingEventDelegates:function(){var self=this;$_1qam7ujjdud76lb.each(self._pendingNativeEvents,function(name){bindEventDelegate(self,name)})},toggleNativeEvent:function(name,state){"focus"!==name&&"blur"!==name&&(state?this.initialized?bindEventDelegate(this,name):this._pendingNativeEvents?this._pendingNativeEvents.push(name):this._pendingNativeEvents=[name]:this.initialized&&(this.dom.unbind(getEventTarget(this,name),name,this.delegates[name]),delete this.delegates[name]))},unbindAllNativeEvents:function(){var name,body=this.getBody(),dom=this.dom;if(this.delegates){for(name in this.delegates)this.dom.unbind(getEventTarget(this,name),name,this.delegates[name]);delete this.delegates}!this.inline&&body&&dom&&(body.onload=null,dom.unbind(this.getWin()),dom.unbind(this.getDoc())),dom&&(dom.unbind(body),dom.unbind(this.getContainer()))}},EditorObservable$1=EditorObservable=$_1qam7ujjdud76lb.extend({},$_fs442644jdud778v,EditorObservable),setEditorCommandState=function(editor,cmd,state){try{editor.getDoc().execCommand(cmd,!1,state)}catch(ex){}},toggleReadOnly=function(editor,state){editor._clickBlocker&&(editor._clickBlocker.unbind(),editor._clickBlocker=null),state?(editor._clickBlocker=function(editor){var target,handler;return target=editor.getBody(),handler=function(e){0<editor.dom.getParents(e.target,"a").length&&e.preventDefault()},editor.dom.bind(target,"click",handler),{unbind:function(){editor.dom.unbind(target,"click",handler)}}}(editor),editor.selection.controlSelection.hideResizeRect(),editor.readonly=!0,editor.getBody().contentEditable=!1):(editor.readonly=!1,editor.getBody().contentEditable=!0,setEditorCommandState(editor,"StyleWithCSS",!1),setEditorCommandState(editor,"enableInlineTableEditing",!1),setEditorCommandState(editor,"enableObjectResizing",!1),editor.focus(),editor.nodeChanged())},$_1u84p46jdud7792_setMode=function(editor,mode){var currentMode=editor.readonly?"readonly":"design";mode!==currentMode&&(editor.initialized?toggleReadOnly(editor,"readonly"===mode):editor.on("init",function(){toggleReadOnly(editor,"readonly"===mode)}),editor.fire("SwitchMode",{mode:mode}))},each$10=$_1qam7ujjdud76lb.each,explode$3=$_1qam7ujjdud76lb.explode,keyCodeLookup={f9:120,f10:121,f11:122},modifierNames=$_1qam7ujjdud76lb.makeMap("alt,ctrl,shift,meta,access");function Shortcuts(editor){var shortcuts={},pendingPatterns=[],parseShortcut=function(pattern){var id,key,shortcut={};for(key in each$10(explode$3(pattern,"+"),function(value){value in modifierNames?shortcut[value]=!0:/^[0-9]{2,}$/.test(value)?shortcut.keyCode=parseInt(value,10):(shortcut.charCode=value.charCodeAt(0),shortcut.keyCode=keyCodeLookup[value]||value.toUpperCase().charCodeAt(0))}),id=[shortcut.keyCode],modifierNames)shortcut[key]?id.push(key):shortcut[key]=!1;return shortcut.id=id.join(","),shortcut.access&&(shortcut.alt=!0,$_3faz499jdud76f2.mac?shortcut.ctrl=!0:shortcut.shift=!0),shortcut.meta&&($_3faz499jdud76f2.mac?shortcut.meta=!0:(shortcut.ctrl=!0,shortcut.meta=!1)),shortcut},createShortcut=function(pattern,desc,cmdFunc,scope){var shortcuts;return(shortcuts=$_1qam7ujjdud76lb.map(explode$3(pattern,">"),parseShortcut))[shortcuts.length-1]=$_1qam7ujjdud76lb.extend(shortcuts[shortcuts.length-1],{func:cmdFunc,scope:scope||editor}),$_1qam7ujjdud76lb.extend(shortcuts[0],{desc:editor.translate(desc),subpatterns:shortcuts.slice(1)})},matchShortcut=function(e,shortcut){return!!shortcut&&shortcut.ctrl===e.ctrlKey&&shortcut.meta===e.metaKey&&shortcut.alt===e.altKey&&shortcut.shift===e.shiftKey&&!!(e.keyCode===shortcut.keyCode||e.charCode&&e.charCode===shortcut.charCode)&&(e.preventDefault(),!0)},executeShortcutAction=function(shortcut){return shortcut.func?shortcut.func.call(shortcut.scope):null};editor.on("keyup keypress keydown",function(e){!function(e){return e.altKey||e.ctrlKey||e.metaKey}(e)&&!function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123}(e)||e.isDefaultPrevented()||(each$10(shortcuts,function(shortcut){if(matchShortcut(e,shortcut))return pendingPatterns=shortcut.subpatterns.slice(0),"keydown"===e.type&&executeShortcutAction(shortcut),!0}),matchShortcut(e,pendingPatterns[0])&&(1===pendingPatterns.length&&"keydown"===e.type&&executeShortcutAction(pendingPatterns[0]),pendingPatterns.shift()))}),this.add=function(pattern,desc,cmdFunc,scope){var cmd;return"string"==typeof(cmd=cmdFunc)?cmdFunc=function(){editor.execCommand(cmd,!1,null)}:$_1qam7ujjdud76lb.isArray(cmd)&&(cmdFunc=function(){editor.execCommand(cmd[0],cmd[1],cmd[2])}),each$10(explode$3($_1qam7ujjdud76lb.trim(pattern.toLowerCase())),function(pattern){var shortcut=createShortcut(pattern,desc,cmdFunc,scope);shortcuts[shortcut.id]=shortcut}),!0},this.remove=function(pattern){var shortcut=createShortcut(pattern);return!!shortcuts[shortcut.id]&&(delete shortcuts[shortcut.id],!0)}}var active=function(_doc){var doc=void 0!==_doc?_doc.dom():document;return Option.from(doc.activeElement).map($_77yl9nyjdud76my.fromDom)},$_76cr3k49jdud779h_hasFocus=function(element){var doc=$_24kyxa17jdud76ok.owner(element).dom();return element.dom()===doc.activeElement},$_76cr3k49jdud779h_search=function(element){return active($_24kyxa17jdud76ok.owner(element)).filter(function(e){return element.dom().contains(e.dom())})},getFocusInElement=function(root,rng){return function(rng){return rng.collapsed?Option.from(getNode(rng.startContainer,rng.startOffset)).map($_77yl9nyjdud76my.fromDom):Option.none()}(rng).bind(function(node){return isTableSection(node)?Option.some(node):!1===$_fxc4921djdud76p9.contains(root,node)?Option.some(root):Option.none()})},normalizeSelection=function(editor,rng){getFocusInElement($_77yl9nyjdud76my.fromDom(editor.getBody()),rng).bind(function(elm){return $_a05mnc2bjdud76xb.firstPositionIn(elm.dom())}).fold(function(){return editor.selection.normalize()},function(caretPos){return editor.selection.setRng(caretPos.toRange())})},focusBody=function(body){if(body.setActive)try{body.setActive()}catch(ex){body.focus()}else body.focus()},hasInlineFocus=function(editor){var elm,rawBody=editor.getBody();return rawBody&&(elm=$_77yl9nyjdud76my.fromDom(rawBody),$_76cr3k49jdud779h_hasFocus(elm)||$_76cr3k49jdud779h_search(elm).isSome())},hasFocus$2=function(editor){return editor.inline?hasInlineFocus(editor):function(editor){return editor.iframeElement&&$_76cr3k49jdud779h_hasFocus($_77yl9nyjdud76my.fromDom(editor.iframeElement))}(editor)},activateEditor=function(editor){editor.editorManager.setActive(editor)},$_2811r48jdud779b_focus=function(editor,skipFocus){editor.removed||(skipFocus?activateEditor(editor):function(editor){var contentEditableHost,selection=editor.selection,contentEditable=editor.settings.content_editable,body=editor.getBody(),rng=selection.getRng();if(editor.quirks.refreshContentEditable(),contentEditableHost=function(editor,node){return editor.dom.getParent(node,function(node){return"true"===editor.dom.getContentEditable(node)})}(editor,selection.getNode()),editor.$.contains(body,contentEditableHost))return focusBody(contentEditableHost),normalizeSelection(editor,rng),activateEditor(editor);void 0!==editor.bookmark&&!1===hasFocus$2(editor)&&$_8342u23zjdud777z.getRng(editor).each(function(bookmarkRng){editor.selection.setRng(bookmarkRng),rng=bookmarkRng}),contentEditable||($_3faz499jdud76f2.opera||focusBody(body),editor.getWin().focus()),($_3faz499jdud76f2.gecko||contentEditable)&&(focusBody(body),normalizeSelection(editor,rng)),activateEditor(editor)}(editor))},$_2811r48jdud779b_hasFocus=hasFocus$2,getProp=function(propName,elm){return elm.dom()[propName]},getComputedSizeProp=function(propName,elm){return parseInt($_by3z2k11jdud76nl_get(elm,propName),10)},getClientWidth=$_dree2x6jdud76bv.curry(getProp,"clientWidth"),getClientHeight=$_dree2x6jdud76bv.curry(getProp,"clientHeight"),getMarginTop=$_dree2x6jdud76bv.curry(getComputedSizeProp,"margin-top"),getMarginLeft=$_dree2x6jdud76bv.curry(getComputedSizeProp,"margin-left"),$_7h6ikm4djdud77a9={isXYInContentArea:function(editor,clientX,clientY){var bodyElm=$_77yl9nyjdud76my.fromDom(editor.getBody()),targetElm=editor.inline?bodyElm:$_24kyxa17jdud76ok.documentElement(bodyElm),transposedPoint=function(inline,elm,clientX,clientY){var clientRect=function(elm){return elm.dom().getBoundingClientRect()}(elm);return{x:clientX-(inline?clientRect.left+elm.dom().clientLeft+getMarginLeft(elm):0),y:clientY-(inline?clientRect.top+elm.dom().clientTop+getMarginTop(elm):0)}}(editor.inline,targetElm,clientX,clientY);return function(bodyElm,clientX,clientY){var clientWidth=getClientWidth(bodyElm),clientHeight=getClientHeight(bodyElm);return 0<=clientX&&0<=clientY&&clientX<=clientWidth&&clientY<=clientHeight}(targetElm,transposedPoint.x,transposedPoint.y)},isEditorAttachedToDom:function(editor){var node,rawContainer=editor.inline?editor.getBody():editor.getContentAreaContainer();return(node=rawContainer,Option.from(node).map($_77yl9nyjdud76my.fromDom)).map(function(container){return $_fxc4921djdud76p9.contains($_24kyxa17jdud76ok.owner(container),container)}).getOr(!1)}};function NotificationManager(editor){var notifications=[],getImplementation=function(){var theme=editor.theme;return theme&&theme.getNotificationManagerImpl?theme.getNotificationManagerImpl():function NotificationManagerImpl(){var unimplemented=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:unimplemented,close:unimplemented,reposition:unimplemented,getArgs:unimplemented}}()},reposition=function(){0<notifications.length&&getImplementation().reposition(notifications)},closeNotification=function(notification){$_2rdhjp4jdud76b1.findIndex(notifications,function(otherNotification){return otherNotification===notification}).each(function(index){notifications.splice(index,1)})},open=function(args){if(!editor.removed&&$_7h6ikm4djdud77a9.isEditorAttachedToDom(editor))return $_2rdhjp4jdud76b1.find(notifications,function(notification){return a=getImplementation().getArgs(notification),b=args,!(a.type!==b.type||a.text!==b.text||a.progressBar||a.timeout||b.progressBar||b.timeout);var a,b}).getOrThunk(function(){editor.editorManager.setActive(editor);var notification=getImplementation().open(args,function(){closeNotification(notification),reposition()});return function(notification){notifications.push(notification)}(notification),reposition(),notification})};return function(editor){editor.on("SkinLoaded",function(){var serviceMessage=editor.settings.service_message;serviceMessage&&open({text:serviceMessage,type:"warning",timeout:0,icon:""})}),editor.on("ResizeEditor ResizeWindow",function(){$_8b7b3gjdud76ig.requestAnimationFrame(reposition)}),editor.on("remove",function(){$_2rdhjp4jdud76b1.each(notifications,function(notification){getImplementation().close(notification)})})}(editor),{open:open,close:function(){Option.from(notifications[0]).each(function(notification){getImplementation().close(notification),closeNotification(notification),reposition()})},getNotifications:function(){return notifications}}}function WindowManager(editor){var windows=[],getImplementation=function(){var theme=editor.theme;return theme&&theme.getWindowManagerImpl?theme.getWindowManagerImpl():function WindowManagerImpl(){var unimplemented=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:unimplemented,alert:unimplemented,confirm:unimplemented,close:unimplemented,getParams:unimplemented,setParams:unimplemented}}()},funcBind=function(scope,f){return function(){return f?f.apply(scope,arguments):void 0}},addWindow=function(win){windows.push(win),function(win){editor.fire("OpenWindow",{win:win})}(win)},closeWindow=function(win){$_2rdhjp4jdud76b1.findIndex(windows,function(otherWindow){return otherWindow===win}).each(function(index){windows.splice(index,1),function(win){editor.fire("CloseWindow",{win:win})}(win),0===windows.length&&editor.focus()})},getTopWindow=function(){return Option.from(windows[windows.length-1])};return editor.on("remove",function(){$_2rdhjp4jdud76b1.each(windows.slice(0),function(win){getImplementation().close(win)})}),{windows:windows,open:function(args,params){editor.editorManager.setActive(editor),$_8342u23zjdud777z.store(editor);var win=getImplementation().open(args,params,closeWindow);return addWindow(win),win},alert:function(message,callback,scope){var win=getImplementation().alert(message,funcBind(scope||this,callback),closeWindow);addWindow(win)},confirm:function(message,callback,scope){var win=getImplementation().confirm(message,funcBind(scope||this,callback),closeWindow);addWindow(win)},close:function(){getTopWindow().each(function(win){getImplementation().close(win),closeWindow(win)})},getParams:function(){return getTopWindow().map(getImplementation().getParams).getOr(null)},setParams:function(params){getTopWindow().each(function(win){getImplementation().setParams(win,params)})},getWindows:function(){return windows}}}var PluginManager=AddOnManager.PluginManager,pluginUrlToMessage=function(editor,url){var plugin=function(targetUrl,suffix){for(var name_1 in PluginManager.urls)if(PluginManager.urls[name_1]+"/plugin"+suffix+".js"===targetUrl)return name_1;return null}(url,editor.suffix);return plugin?"Failed to load plugin: "+plugin+" from url "+url:"Failed to load plugin url: "+url},displayNotification=function(editor,message){editor.notificationManager.open({type:"error",text:message})},displayError=function(editor,message){editor._skinLoaded?displayNotification(editor,message):editor.on("SkinLoaded",function(){displayNotification(editor,message)})},$_gbjfnz4hjdud77an={pluginLoadError:function(editor,url){displayError(editor,pluginUrlToMessage(editor,url))},uploadError:function(editor,message){displayError(editor,"Failed to upload image: "+message)},displayError:displayError,initError:function(message){for(var x=[],_i=1;_i<arguments.length;_i++)x[_i-1]=arguments[_i];var console=window.console;console&&(console.error?console.error.apply(console,arguments):console.log.apply(console,arguments))}},PluginManager$1=AddOnManager.PluginManager,ThemeManager=AddOnManager.ThemeManager;function XMLHttpRequest(){return new($_96qifmbjdud76f9.getOrDie("XMLHttpRequest"))}function Uploader(uploadStatus,settings){var pendingPromises={},defaultHandler=function(blobInfo,success,failure,progress){var xhr,formData;(xhr=new XMLHttpRequest).open("POST",settings.url),xhr.withCredentials=settings.credentials,xhr.upload.onprogress=function(e){progress(e.loaded/e.total*100)},xhr.onerror=function(){failure("Image upload failed due to a XHR Transport error. Code: "+xhr.status)},xhr.onload=function(){var json,path1,path2;xhr.status<200||300<=xhr.status?failure("HTTP Error: "+xhr.status):(json=JSON.parse(xhr.responseText))&&"string"==typeof json.location?success((path1=settings.basePath,path2=json.location,path1?path1.replace(/\/$/,"")+"/"+path2.replace(/^\//,""):path2)):failure("Invalid JSON: "+xhr.responseText)},(formData=new FormData).append("file",blobInfo.blob(),blobInfo.filename()),xhr.send(formData)},handlerSuccess=function(blobInfo,url){return{url:url,blobInfo:blobInfo,status:!0}},handlerFailure=function(blobInfo,error){return{url:"",blobInfo:blobInfo,status:!1,error:error}},resolvePending=function(blobUri,result){$_1qam7ujjdud76lb.each(pendingPromises[blobUri],function(resolve){resolve(result)}),delete pendingPromises[blobUri]},uploadBlobs=function(blobInfos,openNotification){return blobInfos=$_1qam7ujjdud76lb.grep(blobInfos,function(blobInfo){return!uploadStatus.isUploaded(blobInfo.blobUri())}),promiseObj.all($_1qam7ujjdud76lb.map(blobInfos,function(blobInfo){return uploadStatus.isPending(blobInfo.blobUri())?function(blobInfo){var blobUri=blobInfo.blobUri();return new promiseObj(function(resolve){pendingPromises[blobUri]=pendingPromises[blobUri]||[],pendingPromises[blobUri].push(resolve)})}(blobInfo):function(blobInfo,handler,openNotification){return uploadStatus.markPending(blobInfo.blobUri()),new promiseObj(function(resolve){var notification;try{var closeNotification_1=function(){notification&&notification.close()};handler(blobInfo,function(url){closeNotification_1(),uploadStatus.markUploaded(blobInfo.blobUri(),url),resolvePending(blobInfo.blobUri(),handlerSuccess(blobInfo,url)),resolve(handlerSuccess(blobInfo,url))},function(error){closeNotification_1(),uploadStatus.removeFailed(blobInfo.blobUri()),resolvePending(blobInfo.blobUri(),handlerFailure(blobInfo,error)),resolve(handlerFailure(blobInfo,error))},function(percent){percent<0||100<percent||(notification||(notification=openNotification()),notification.progressBar.value(percent))})}catch(ex){resolve(handlerFailure(blobInfo,ex.message))}})}(blobInfo,settings.handler,openNotification)}))};return settings=$_1qam7ujjdud76lb.extend({credentials:!1,handler:defaultHandler},settings),{upload:function(blobInfos,openNotification){return settings.url||settings.handler!==defaultHandler?uploadBlobs(blobInfos,openNotification):new promiseObj(function(resolve){resolve([])})}}}function Blob(parts,properties){return new($_96qifmbjdud76f9.getOrDie("Blob"))(parts,properties)}var $_a2cl274ujdud77cm_atob=function(base64){return $_96qifmbjdud76f9.getOrDie("atob")(base64)},parseDataUri=function(uri){var type,matches;return uri=decodeURIComponent(uri).split(","),(matches=/data:([^;]+)/.exec(uri[0]))&&(type=matches[1]),{type:type,data:uri[1]}},dataUriToBlob=function(uri){return new promiseObj(function(resolve){var str,arr,i;uri=parseDataUri(uri);try{str=$_a2cl274ujdud77cm_atob(uri.data)}catch(e){return void resolve(new Blob([]))}for(arr=new function Uint8Array(arr){return new($_96qifmbjdud76f9.getOrDie("Uint8Array"))(arr)}(str.length),i=0;i<arr.length;i++)arr[i]=str.charCodeAt(i);resolve(new Blob([arr],{type:uri.type}))})},$_3t6dtl4qjdud77c8_uriToBlob=function(url){return 0===url.indexOf("blob:")?function(url){return new promiseObj(function(resolve,reject){var rejectWithError=function(){reject("Cannot convert "+url+" to Blob. Resource might not exist or is inaccessible.")};try{var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="blob",xhr.onload=function(){200===this.status?resolve(this.response):rejectWithError()},xhr.onerror=rejectWithError,xhr.send()}catch(ex){rejectWithError()}})}(url):0===url.indexOf("data:")?dataUriToBlob(url):null},$_3t6dtl4qjdud77c8_blobToDataUri=function(blob){return new promiseObj(function(resolve){var reader=new function FileReader(){return new($_96qifmbjdud76f9.getOrDie("FileReader"))};reader.onloadend=function(){resolve(reader.result)},reader.readAsDataURL(blob)})},$_3t6dtl4qjdud77c8_parseDataUri=parseDataUri,count=0,uniqueId=function(prefix){return(prefix||"blobid")+count++},imageToBlobInfo=function(blobCache,img,resolve,reject){var base64,blobInfo;0!==img.src.indexOf("blob:")?(base64=$_3t6dtl4qjdud77c8_parseDataUri(img.src).data,(blobInfo=blobCache.findFirst(function(cachedBlobInfo){return cachedBlobInfo.base64()===base64}))?resolve({image:img,blobInfo:blobInfo}):$_3t6dtl4qjdud77c8_uriToBlob(img.src).then(function(blob){blobInfo=blobCache.create(uniqueId(),blob,base64),blobCache.add(blobInfo),resolve({image:img,blobInfo:blobInfo})},function(err){reject(err)})):(blobInfo=blobCache.getByUri(img.src))?resolve({image:img,blobInfo:blobInfo}):$_3t6dtl4qjdud77c8_uriToBlob(img.src).then(function(blob){$_3t6dtl4qjdud77c8_blobToDataUri(blob).then(function(dataUri){base64=$_3t6dtl4qjdud77c8_parseDataUri(dataUri).data,blobInfo=blobCache.create(uniqueId(),blob,base64),blobCache.add(blobInfo),resolve({image:img,blobInfo:blobInfo})})},function(err){reject(err)})},getAllImages=function(elm){return elm?elm.getElementsByTagName("img"):[]},count$1=0,$_94elg04wjdud77ct={uuid:function(prefix){return prefix+count$1+++(rnd=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+rnd()+rnd()+rnd());var rnd}};function EditorUpload(editor){var uploader,imageScanner,blobCache=function BlobCache(){var cache=[],constant=$_2zdr8e25jdud76vr.constant,toBlobInfo=function(o){var id,name,mime;if(!o.blob||!o.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return id=o.id||$_94elg04wjdud77ct.uuid("blobid"),name=o.name||id,{id:constant(id),name:constant(name),filename:constant(name+"."+(mime=o.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[mime.toLowerCase()]||"dat")),blob:constant(o.blob),base64:constant(o.base64),blobUri:constant(o.blobUri||$_4yql4bajdud76f8.createObjectURL(o.blob)),uri:constant(o.uri)}},get=function(id){return findFirst(function(cachedBlobInfo){return cachedBlobInfo.id()===id})},findFirst=function(predicate){return $_bimkbokjdud76lk.filter(cache,predicate)[0]};return{create:function(o,blob,base64,filename){return toBlobInfo("object"==typeof o?o:{id:o,name:filename,blob:blob,base64:base64})},add:function(blobInfo){get(blobInfo.id())||cache.push(blobInfo)},get:get,getByUri:function(blobUri){return findFirst(function(blobInfo){return blobInfo.blobUri()===blobUri})},findFirst:findFirst,removeByUri:function(blobUri){cache=$_bimkbokjdud76lk.filter(cache,function(blobInfo){return blobInfo.blobUri()!==blobUri||($_4yql4bajdud76f8.revokeObjectURL(blobInfo.blobUri()),!1)})},destroy:function(){$_bimkbokjdud76lk.each(cache,function(cachedBlobInfo){$_4yql4bajdud76f8.revokeObjectURL(cachedBlobInfo.blobUri())}),cache=[]}}}(),settings=editor.settings,uploadStatus=function UploadStatus(){var blobUriStatuses={},createStatus=function(status,resultUri){return{status:status,resultUri:resultUri}},hasBlobUri=function(blobUri){return blobUri in blobUriStatuses};return{hasBlobUri:hasBlobUri,getResultUri:function(blobUri){var result=blobUriStatuses[blobUri];return result?result.resultUri:null},isPending:function(blobUri){return!!hasBlobUri(blobUri)&&1===blobUriStatuses[blobUri].status},isUploaded:function(blobUri){return!!hasBlobUri(blobUri)&&2===blobUriStatuses[blobUri].status},markPending:function(blobUri){blobUriStatuses[blobUri]=createStatus(1,null)},markUploaded:function(blobUri,resultUri){blobUriStatuses[blobUri]=createStatus(2,resultUri)},removeFailed:function(blobUri){delete blobUriStatuses[blobUri]},destroy:function(){blobUriStatuses={}}}}(),aliveGuard=function(callback){return function(result){return editor.selection?callback(result):[]}},replaceString=function(content,search,replace){for(var index=0;-1!==(index=content.indexOf(search,index))&&(content=content.substring(0,index)+replace+content.substr(index+search.length),index+=replace.length-search.length+1),-1!==index;);return content},replaceImageUrl=function(content,targetUrl,replacementUrl){return content=replaceString(content,'src="'+targetUrl+'"','src="'+replacementUrl+'"'),content=replaceString(content,'data-mce-src="'+targetUrl+'"','data-mce-src="'+replacementUrl+'"')},replaceUrlInUndoStack=function(targetUrl,replacementUrl){$_bimkbokjdud76lk.each(editor.undoManager.data,function(level){"fragmented"===level.type?level.fragments=$_bimkbokjdud76lk.map(level.fragments,function(fragment){return replaceImageUrl(fragment,targetUrl,replacementUrl)}):level.content=replaceImageUrl(level.content,targetUrl,replacementUrl)})},openNotification=function(){return editor.notificationManager.open({text:editor.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},replaceImageUri=function(image,resultUri){blobCache.removeByUri(image.src),replaceUrlInUndoStack(image.src,resultUri),editor.$(image).attr({src:settings.images_reuse_filename?resultUri+"?"+(new Date).getTime():resultUri,"data-mce-src":editor.convertURL(resultUri,"src")})},uploadImages=function(callback){return uploader||(uploader=Uploader(uploadStatus,{url:settings.images_upload_url,basePath:settings.images_upload_base_path,credentials:settings.images_upload_credentials,handler:settings.images_upload_handler})),scanForImages().then(aliveGuard(function(imageInfos){var blobInfos;return blobInfos=$_bimkbokjdud76lk.map(imageInfos,function(imageInfo){return imageInfo.blobInfo}),uploader.upload(blobInfos,openNotification).then(aliveGuard(function(result){var filteredResult=$_bimkbokjdud76lk.map(result,function(uploadInfo,index){var image=imageInfos[index].image;return uploadInfo.status&&!1!==editor.settings.images_replace_blob_uris?replaceImageUri(image,uploadInfo.url):uploadInfo.error&&$_gbjfnz4hjdud77an.uploadError(editor,uploadInfo.error),{element:image,status:uploadInfo.status}});return callback&&callback(filteredResult),filteredResult}))}))},uploadImagesAuto=function(callback){if(!1!==settings.automatic_uploads)return uploadImages(callback)},isValidDataUriImage=function(imgElm){return!settings.images_dataimg_filter||settings.images_dataimg_filter(imgElm)},scanForImages=function(){return imageScanner||(imageScanner=function ImageScanner(uploadStatus,blobCache){var cachedPromises={};return{findAll:function(elm,predicate){var images,promises;return predicate||(predicate=$_2zdr8e25jdud76vr.constant(!0)),images=$_bimkbokjdud76lk.filter(getAllImages(elm),function(img){var src=img.src;return!!$_3faz499jdud76f2.fileApi&&!img.hasAttribute("data-mce-bogus")&&!img.hasAttribute("data-mce-placeholder")&&!(!src||src===$_3faz499jdud76f2.transparentSrc)&&(0===src.indexOf("blob:")?!uploadStatus.isUploaded(src):0===src.indexOf("data:")&&predicate(img))}),promises=$_bimkbokjdud76lk.map(images,function(img){var newPromise;return cachedPromises[img.src]?new promiseObj(function(resolve){cachedPromises[img.src].then(function(imageInfo){if("string"==typeof imageInfo)return imageInfo;resolve({image:img,blobInfo:imageInfo.blobInfo})})}):(newPromise=new promiseObj(function(resolve,reject){imageToBlobInfo(blobCache,img,resolve,reject)}).then(function(result){return delete cachedPromises[result.image.src],result}).catch(function(error){return delete cachedPromises[img.src],error}),cachedPromises[img.src]=newPromise)}),promiseObj.all(promises)}}}(uploadStatus,blobCache)),imageScanner.findAll(editor.getBody(),isValidDataUriImage).then(aliveGuard(function(result){return result=$_bimkbokjdud76lk.filter(result,function(resultItem){return"string"!=typeof resultItem||($_gbjfnz4hjdud77an.displayError(editor,resultItem),!1)}),$_bimkbokjdud76lk.each(result,function(resultItem){replaceUrlInUndoStack(resultItem.image.src,resultItem.blobInfo.blobUri()),resultItem.image.src=resultItem.blobInfo.blobUri(),resultItem.image.removeAttribute("data-mce-src")}),result}))},replaceBlobUris=function(content){return content.replace(/src="(blob:[^"]+)"/g,function(match,blobUri){var resultUri=uploadStatus.getResultUri(blobUri);if(resultUri)return'src="'+resultUri+'"';var blobInfo=blobCache.getByUri(blobUri);return blobInfo||(blobInfo=$_bimkbokjdud76lk.reduce(editor.editorManager.get(),function(result,editor){return result||editor.editorUpload&&editor.editorUpload.blobCache.getByUri(blobUri)},null)),blobInfo?'src="data:'+blobInfo.blob().type+";base64,"+blobInfo.base64()+'"':match})};return editor.on("setContent",function(){!1!==editor.settings.automatic_uploads?uploadImagesAuto():scanForImages()}),editor.on("RawSaveContent",function(e){e.content=replaceBlobUris(e.content)}),editor.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=replaceBlobUris(e.content))}),editor.on("PostRender",function(){editor.parser.addNodeFilter("img",function(images){$_bimkbokjdud76lk.each(images,function(img){var src=img.attr("src");if(!blobCache.getByUri(src)){var resultUri=uploadStatus.getResultUri(src);resultUri&&img.attr("src",resultUri)}})})}),{blobCache:blobCache,uploadImages:uploadImages,uploadImagesAuto:uploadImagesAuto,scanForImages:scanForImages,destroy:function(){blobCache.destroy(),uploadStatus.destroy(),imageScanner=uploader=null}}}var isBlockElement=function(blockElements,node){return blockElements.hasOwnProperty(node.nodeName)},isValidTarget=function(blockElements,node){return!!$_2nbmh51qjdud76qx.isText(node)||!!$_2nbmh51qjdud76qx.isElement(node)&&!isBlockElement(blockElements,node)&&!$_48h4o02jjdud76yr.isBookmarkNode(node)},shouldRemoveTextNode=function(blockElements,node){if($_2nbmh51qjdud76qx.isText(node)){if(0===node.nodeValue.length)return!0;if(/^\s+$/.test(node.nodeValue)&&(!node.nextSibling||isBlockElement(blockElements,node.nextSibling)))return!0}return!1},addRootBlocks=function(editor){var rng,startContainer,startOffset,endContainer,endOffset,rootBlockNode,tempNode,wrapped,restoreSelection,rootNodeName,forcedRootBlock,settings=editor.settings,dom=editor.dom,selection=editor.selection,schema=editor.schema,blockElements=schema.getBlockElements(),node=selection.getStart(),rootNode=editor.getBody();if(forcedRootBlock=settings.forced_root_block,node&&$_2nbmh51qjdud76qx.isElement(node)&&forcedRootBlock&&(rootNodeName=rootNode.nodeName.toLowerCase(),schema.isValidChild(rootNodeName,forcedRootBlock.toLowerCase())&&!function(blockElements,root,node){return $_2rdhjp4jdud76b1.exists($_2h4haq39jdud772r_parents($_77yl9nyjdud76my.fromDom(node),$_77yl9nyjdud76my.fromDom(root)),function(elm){return isBlockElement(blockElements,elm.dom())})}(blockElements,rootNode,node))){for(startContainer=(rng=selection.getRng()).startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset,restoreSelection=$_2811r48jdud779b_hasFocus(editor),node=rootNode.firstChild;node;)if(isValidTarget(blockElements,node)){if(shouldRemoveTextNode(blockElements,node)){node=(tempNode=node).nextSibling,dom.remove(tempNode);continue}rootBlockNode||(rootBlockNode=dom.create(forcedRootBlock,editor.settings.forced_root_block_attrs),node.parentNode.insertBefore(rootBlockNode,node),wrapped=!0),node=(tempNode=node).nextSibling,rootBlockNode.appendChild(tempNode)}else rootBlockNode=null,node=node.nextSibling;wrapped&&restoreSelection&&(rng.setStart(startContainer,startOffset),rng.setEnd(endContainer,endOffset),selection.setRng(rng),editor.nodeChanged())}},$_wkflh4yjdud77cx_setup=function(editor){editor.settings.forced_root_block&&editor.on("NodeChange",$_dree2x6jdud76bv.curry(addRootBlocks,editor))};function NodeChange(editor){var lastRng,lastPath=[];"onselectionchange"in editor.getDoc()||editor.on("NodeChange Click MouseUp KeyUp Focus",function(e){var nativeRng,fakeRng;fakeRng={startContainer:(nativeRng=editor.selection.getRng()).startContainer,startOffset:nativeRng.startOffset,endContainer:nativeRng.endContainer,endOffset:nativeRng.endOffset},"nodechange"!==e.type&&$_7nsrza3yjdud777x.isEq(fakeRng,lastRng)||editor.fire("SelectionChange"),lastRng=fakeRng}),editor.on("contextmenu",function(){editor.fire("SelectionChange")}),editor.on("SelectionChange",function(){var startElm=editor.selection.getStart(!0);!startElm||!$_3faz499jdud76f2.range&&editor.selection.isCollapsed()||!function(startElm){var i,currentPath;if((currentPath=editor.$(startElm).parentsUntil(editor.getBody()).add(startElm)).length===lastPath.length){for(i=currentPath.length;0<=i&&currentPath[i]===lastPath[i];i--);if(-1===i)return lastPath=currentPath,!0}return lastPath=currentPath,!1}(startElm)&&editor.dom.isChildOf(startElm,editor.getBody())&&editor.nodeChanged({selectionChange:!0})}),editor.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"===editor.selection.getNode().nodeName?$_8b7b3gjdud76ig.setEditorTimeout(editor,function(){editor.nodeChanged()}):editor.nodeChanged())}),this.nodeChanged=function(args){var node,parents,root,selection=editor.selection;editor.initialized&&selection&&!editor.settings.disable_nodechange&&!editor.readonly&&(root=editor.getBody(),(node=selection.getStart(!0)||root).ownerDocument===editor.getDoc()&&editor.dom.isChildOf(node,root)||(node=root),parents=[],editor.dom.getParent(node,function(node){if(node===root)return!0;parents.push(node)}),(args=args||{}).element=node,args.parents=parents,editor.fire("NodeChange",args))}}var VDirection,getAbsolutePosition=function(elm){var doc,docElem,win,clientRect;return clientRect=elm.getBoundingClientRect(),docElem=(doc=elm.ownerDocument).documentElement,win=doc.defaultView,{top:clientRect.top+win.pageYOffset-docElem.clientTop,left:clientRect.left+win.pageXOffset-docElem.clientLeft}},$_5ogpdt52jdud77e4_calc=function(editor,event){return bodyPosition=function(editor){return editor.inline?getAbsolutePosition(editor.getBody()):{left:0,top:0}}(editor),scrollPosition=function(editor){var body=editor.getBody();return editor.inline?{left:body.scrollLeft,top:body.scrollTop}:{left:0,top:0}}(editor),{pageX:(mousePosition=function(editor,event){if(event.target.ownerDocument!==editor.getDoc()){var iframePosition=getAbsolutePosition(editor.getContentAreaContainer()),scrollPosition=function(editor){var body=editor.getBody(),docElm=editor.getDoc().documentElement,inlineScroll={left:body.scrollLeft,top:body.scrollTop},iframeScroll={left:body.scrollLeft||docElm.scrollLeft,top:body.scrollTop||docElm.scrollTop};return editor.inline?inlineScroll:iframeScroll}(editor);return{left:event.pageX-iframePosition.left+scrollPosition.left,top:event.pageY-iframePosition.top+scrollPosition.top}}return{left:event.pageX,top:event.pageY}}(editor,event)).left-bodyPosition.left+scrollPosition.left,pageY:mousePosition.top-bodyPosition.top+scrollPosition.top};var bodyPosition,scrollPosition,mousePosition},isContentEditableFalse$7=$_2nbmh51qjdud76qx.isContentEditableFalse,isContentEditableTrue$4=$_2nbmh51qjdud76qx.isContentEditableTrue,removeElement=function(elm){elm&&elm.parentNode&&elm.parentNode.removeChild(elm)},start$1=function(state,editor){return function(e){if(function(e){return 0===e.button}(e)){var ceElm=$_bimkbokjdud76lk.find(editor.dom.getParents(e.target),$_2zdr8e25jdud76vr.or(isContentEditableFalse$7,isContentEditableTrue$4));if(rootElm=editor.getBody(),isContentEditableFalse$7(elm=ceElm)&&elm!==rootElm){var elmPos=editor.dom.getPos(ceElm),bodyElm=editor.getBody(),docElm=editor.getDoc().documentElement;state.element=ceElm,state.screenX=e.screenX,state.screenY=e.screenY,state.maxX=(editor.inline?bodyElm.scrollWidth:docElm.offsetWidth)-2,state.maxY=(editor.inline?bodyElm.scrollHeight:docElm.offsetHeight)-2,state.relX=e.pageX-elmPos.x,state.relY=e.pageY-elmPos.y,state.width=ceElm.offsetWidth,state.height=ceElm.offsetHeight,state.ghost=function(editor,elm,width,height){var clonedElm=elm.cloneNode(!0);editor.dom.setStyles(clonedElm,{width:width,height:height}),editor.dom.setAttrib(clonedElm,"data-mce-selected",null);var ghostElm=editor.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return editor.dom.setStyles(ghostElm,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:width,height:height}),editor.dom.setStyles(clonedElm,{margin:0,boxSizing:"border-box"}),ghostElm.appendChild(clonedElm),ghostElm}(editor,ceElm,state.width,state.height)}}var rootElm,elm}},drop=function(state,editor){return function(e){if(state.dragging&&function(editor,targetElement,dragElement){return targetElement!==dragElement&&!editor.dom.isChildOf(targetElement,dragElement)&&!isContentEditableFalse$7(targetElement)}(editor,(selection=editor.selection,3===(startContainer=selection.getSel().getRangeAt(0).startContainer).nodeType?startContainer.parentNode:startContainer),state.element)){var targetClone_1=(elm=state.element,(cloneElm=elm.cloneNode(!0)).removeAttribute("data-mce-selected"),cloneElm),args=editor.fire("drop",{targetClone:targetClone_1,clientX:e.clientX,clientY:e.clientY});args.isDefaultPrevented()||(targetClone_1=args.targetClone,editor.undoManager.transact(function(){removeElement(state.element),editor.insertContent(editor.dom.getOuterHTML(targetClone_1)),editor._selectionOverrides.hideFakeCaret()}))}var elm,cloneElm,selection,startContainer;removeDragState(state)}},removeDragState=function(state){state.dragging=!1,state.element=null,removeElement(state.ghost)},bindFakeDragEvents=function(editor){var pageDom,dragStartHandler,dragHandler,dropHandler,dragEndHandler,rootDocument,state={};pageDom=DOMUtils.DOM,rootDocument=document,dragStartHandler=start$1(state,editor),dragHandler=function(state,editor){var throttledPlaceCaretAt=$_8b7b3gjdud76ig.throttle(function(clientX,clientY){editor._selectionOverrides.hideFakeCaret(),editor.selection.placeCaretAt(clientX,clientY)},0);return function(e){var ghostElm,bodyElm,movement=Math.max(Math.abs(e.screenX-state.screenX),Math.abs(e.screenY-state.screenY));if(function(state){return state.element}(state)&&!state.dragging&&10<movement){if(editor.fire("dragstart",{target:state.element}).isDefaultPrevented())return;state.dragging=!0,editor.focus()}if(state.dragging){var targetPos=function(state,position){return{pageX:position.pageX-state.relX,pageY:position.pageY+5}}(state,$_5ogpdt52jdud77e4_calc(editor,e));ghostElm=state.ghost,bodyElm=editor.getBody(),ghostElm.parentNode!==bodyElm&&bodyElm.appendChild(ghostElm),function(ghostElm,position,width,height,maxX,maxY){var overflowX=0,overflowY=0;ghostElm.style.left=position.pageX+"px",ghostElm.style.top=position.pageY+"px",position.pageX+width>maxX&&(overflowX=position.pageX+width-maxX),position.pageY+height>maxY&&(overflowY=position.pageY+height-maxY),ghostElm.style.width=width-overflowX+"px",ghostElm.style.height=height-overflowY+"px"}(state.ghost,targetPos,state.width,state.height,state.maxX,state.maxY),throttledPlaceCaretAt(e.clientX,e.clientY)}}}(state,editor),dropHandler=drop(state,editor),dragEndHandler=function(state,editor){return function(){removeDragState(state),state.dragging&&editor.fire("dragend")}}(state,editor),editor.on("mousedown",dragStartHandler),editor.on("mousemove",dragHandler),editor.on("mouseup",dropHandler),pageDom.bind(rootDocument,"mousemove",dragHandler),pageDom.bind(rootDocument,"mouseup",dragEndHandler),editor.on("remove",function(){pageDom.unbind(rootDocument,"mousemove",dragHandler),pageDom.unbind(rootDocument,"mouseup",dragEndHandler)})},$_gb3bmj51jdud77dy_init=function(editor){bindFakeDragEvents(editor),function(editor){editor.on("drop",function(e){var realTarget=void 0!==e.clientX?editor.getDoc().elementFromPoint(e.clientX,e.clientY):null;(isContentEditableFalse$7(realTarget)||isContentEditableFalse$7(editor.dom.getContentEditableParent(realTarget)))&&e.preventDefault()})}(editor)},getClientRects=function(node){return $_bimkbokjdud76lk.reduce(node,function(result,node){return result.concat(function(node){var toArrayWithNode=function(clientRects){return $_bimkbokjdud76lk.map(clientRects,function(clientRect){return(clientRect=clone$1(clientRect)).node=node,clientRect})};if($_2nbmh51qjdud76qx.isElement(node))return toArrayWithNode(node.getClientRects());if($_2nbmh51qjdud76qx.isText(node)){var rng=node.ownerDocument.createRange();return rng.setStart(node,0),rng.setEnd(node,node.data.length),toArrayWithNode(rng.getClientRects())}}(node))},[])};!function(VDirection){VDirection[VDirection.Up=-1]="Up",VDirection[VDirection.Down=1]="Down"}(VDirection||(VDirection={}));var walkUntil=function(direction,isAboveFn,isBeflowFn,root,predicateFn,caretPosition){var node,targetClientRect,line=0,result=[],add=function(node){var i,clientRect,clientRects;for(clientRects=getClientRects([node]),-1===direction&&(clientRects=clientRects.reverse()),i=0;i<clientRects.length;i++)if(clientRect=clientRects[i],!isBeflowFn(clientRect,targetClientRect)){if(0<result.length&&isAboveFn(clientRect,$_bimkbokjdud76lk.last(result))&&line++,clientRect.line=line,predicateFn(clientRect))return!0;result.push(clientRect)}};return(targetClientRect=$_bimkbokjdud76lk.last(caretPosition.getClientRects()))&&(add(node=caretPosition.getNode()),function(direction,root,predicateFn,node){for(;node=findNode(node,direction,isEditableCaretCandidate,root);)if(predicateFn(node))return}(direction,root,add,node)),result},upUntil=$_dree2x6jdud76bv.curry(walkUntil,VDirection.Up,isAbove,isBelow),downUntil=$_dree2x6jdud76bv.curry(walkUntil,VDirection.Down,isBelow,isAbove),isAboveLine=function(lineNumber){return function(clientRect){return function(lineNumber,clientRect){return clientRect.line>lineNumber}(lineNumber,clientRect)}},isLine=function(lineNumber){return function(clientRect){return function(lineNumber,clientRect){return clientRect.line===lineNumber}(lineNumber,clientRect)}},isContentEditableFalse$8=$_2nbmh51qjdud76qx.isContentEditableFalse,findNode$1=findNode,distanceToRectLeft=function(clientRect,clientX){return Math.abs(clientRect.left-clientX)},distanceToRectRight=function(clientRect,clientX){return Math.abs(clientRect.right-clientX)},isInside=function(clientX,clientRect){return clientX>=clientRect.left&&clientX<=clientRect.right},findClosestClientRect=function(clientRects,clientX){return $_bimkbokjdud76lk.reduce(clientRects,function(oldClientRect,clientRect){var oldDistance,newDistance;return oldDistance=Math.min(distanceToRectLeft(oldClientRect,clientX),distanceToRectRight(oldClientRect,clientX)),newDistance=Math.min(distanceToRectLeft(clientRect,clientX),distanceToRectRight(clientRect,clientX)),isInside(clientX,clientRect)?clientRect:isInside(clientX,oldClientRect)?oldClientRect:newDistance===oldDistance&&isContentEditableFalse$8(clientRect.node)?clientRect:newDistance<oldDistance?clientRect:oldClientRect})},walkUntil$1=function(direction,root,predicateFn,node){for(;node=findNode$1(node,direction,isEditableCaretCandidate,root);)if(predicateFn(node))return},closestCaret=function(root,clientX,clientY){var closestNodeRect,contentEditableFalseNodeRects=getClientRects(function(root){return $_bimkbokjdud76lk.filter($_bimkbokjdud76lk.toArray(root.getElementsByTagName("*")),isFakeCaretTarget)}(root)),targetNodeRects=$_bimkbokjdud76lk.filter(contentEditableFalseNodeRects,function(rect){return clientY>=rect.top&&clientY<=rect.bottom});return(closestNodeRect=findClosestClientRect(targetNodeRects,clientX))&&(closestNodeRect=findClosestClientRect(function(root,targetNodeRect){var clientRects=[],collect=function(checkPosFn,node){var lineRects;return lineRects=$_bimkbokjdud76lk.filter(getClientRects([node]),function(clientRect){return!checkPosFn(clientRect,targetNodeRect)}),clientRects=clientRects.concat(lineRects),0===lineRects.length};return clientRects.push(targetNodeRect),walkUntil$1(VDirection.Up,root,$_dree2x6jdud76bv.curry(collect,isAbove),targetNodeRect.node),walkUntil$1(VDirection.Down,root,$_dree2x6jdud76bv.curry(collect,isBelow),targetNodeRect.node),clientRects}(root,closestNodeRect),clientX))&&isFakeCaretTarget(closestNodeRect.node)?function(clientRect,clientX){return{node:clientRect.node,before:distanceToRectLeft(clientRect,clientX)<distanceToRectRight(clientRect,clientX)}}(closestNodeRect,clientX):null},$_443hph56jdud77ej_isXYWithinRange=function(clientX,clientY,range){return!range.collapsed&&$_2rdhjp4jdud76b1.foldl(range.getClientRects(),function(state,rect){return state||function(rect,clientX,clientY){return clientX>=rect.left&&clientX<=rect.right&&clientY>=rect.top&&clientY<=rect.bottom}(rect,clientX,clientY)},!1)},$_b9dzn958jdud77en_first=function(fn,rate){var timer=null;return{cancel:function(){null!==timer&&(clearTimeout(timer),timer=null)},throttle:function(){var args=arguments;null===timer&&(timer=setTimeout(function(){fn.apply(null,args),args=timer=null},rate))}}},$_4jw6r057jdud77ek_setup=function(editor){var renderFocusCaret=$_b9dzn958jdud77en_first(function(){if(!editor.removed&&editor.selection.getRng().collapsed){var caretRange=renderRangeCaret(editor,editor.selection.getRng());editor.selection.setRng(caretRange)}},0);editor.on("focus",function(){renderFocusCaret.throttle()}),editor.on("blur",function(){renderFocusCaret.cancel()})},$_482bwm59jdud77ep={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return $_3faz499jdud76f2.mac?e.metaKey:e.ctrlKey&&!e.altKey}},isContentEditableTrue$5=$_2nbmh51qjdud76qx.isContentEditableTrue,isContentEditableFalse$9=$_2nbmh51qjdud76qx.isContentEditableFalse,isAfterContentEditableFalse$1=isAfterContentEditableFalse,isBeforeContentEditableFalse$1=isBeforeContentEditableFalse,SelectionOverrides=function(editor){var selectedContentEditableNode,styles,rootNode=editor.getBody(),fakeCaret=FakeCaret(editor.getBody(),function(node){return editor.dom.isBlock(node)}),realSelectionId="sel-"+editor.dom.uniqueId(),setRange=function(range){range&&editor.selection.setRng(range)},getRange=function(){return editor.selection.getRng()},scrollIntoView=function(node,alignToTop){editor.selection.scrollIntoView(node,alignToTop)},showCaret$$1=function(direction,node,before){return editor.fire("ShowCaret",{target:node,direction:direction,before:before}).isDefaultPrevented()?null:(scrollIntoView(node,-1===direction),fakeCaret.show(before,node))},getNormalizedRangeEndPoint$$1=function(direction,range){return range=normalizeRange(direction,rootNode,range),-1===direction?CaretPosition$1.fromRangeStart(range):CaretPosition$1.fromRangeEnd(range)},isWithinCaretContainer=function(node){return isCaretContainer(node)||startsWithCaretContainer(node)||endsWithCaretContainer(node)},isRangeInCaretContainer=function(rng){return isWithinCaretContainer(rng.startContainer)||isWithinCaretContainer(rng.endContainer)},setContentEditableSelection=function(range,forward){var node,$realSelectionContainer,sel,startContainer,startOffset,endOffset,e,caretPosition,targetClone,origTargetClone,$=editor.$,dom=editor.dom;if(!range)return null;if(range.collapsed){if(!isRangeInCaretContainer(range))if(!1===forward){if(caretPosition=getNormalizedRangeEndPoint$$1(-1,range),isFakeCaretTarget(caretPosition.getNode(!0)))return showCaret$$1(-1,caretPosition.getNode(!0),!1);if(isFakeCaretTarget(caretPosition.getNode()))return showCaret$$1(-1,caretPosition.getNode(),!caretPosition.isAtEnd())}else{if(caretPosition=getNormalizedRangeEndPoint$$1(1,range),isFakeCaretTarget(caretPosition.getNode()))return showCaret$$1(1,caretPosition.getNode(),!caretPosition.isAtEnd());if(isFakeCaretTarget(caretPosition.getNode(!0)))return showCaret$$1(1,caretPosition.getNode(!0),!1)}return null}return startContainer=range.startContainer,startOffset=range.startOffset,endOffset=range.endOffset,3===startContainer.nodeType&&0===startOffset&&isContentEditableFalse$9(startContainer.parentNode)&&(startContainer=startContainer.parentNode,startOffset=dom.nodeIndex(startContainer),startContainer=startContainer.parentNode),1!==startContainer.nodeType?null:(endOffset===startOffset+1&&(node=startContainer.childNodes[startOffset]),isContentEditableFalse$9(node)?(targetClone=origTargetClone=node.cloneNode(!0),(e=editor.fire("ObjectSelected",{target:node,targetClone:targetClone})).isDefaultPrevented()?null:($realSelectionContainer=$_ajhtx137jdud7727_descendant($_77yl9nyjdud76my.fromDom(editor.getBody()),"#"+realSelectionId).fold(function(){return $([])},function(elm){return $([elm.dom()])}),targetClone=e.targetClone,0===$realSelectionContainer.length&&($realSelectionContainer=$('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",realSelectionId)).appendTo(editor.getBody()),range=editor.dom.createRng(),targetClone===origTargetClone&&$_3faz499jdud76f2.ie?($realSelectionContainer.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(targetClone),range.setStartAfter($realSelectionContainer[0].firstChild.firstChild),range.setEndAfter(targetClone)):($realSelectionContainer.empty().append("\xa0").append(targetClone).append("\xa0"),range.setStart($realSelectionContainer[0].firstChild,1),range.setEnd($realSelectionContainer[0].lastChild,0)),$realSelectionContainer.css({top:dom.getPos(node,editor.getBody()).y}),$realSelectionContainer[0].focus(),(sel=editor.selection.getSel()).removeAllRanges(),sel.addRange(range),$_2rdhjp4jdud76b1.each($_fmr77x2gjdud76yg_descendants($_77yl9nyjdud76my.fromDom(editor.getBody()),"*[data-mce-selected]"),function(elm){$_65a84n14jdud76o8.remove(elm,"data-mce-selected")}),node.setAttribute("data-mce-selected","1"),selectedContentEditableNode=node,hideFakeCaret(),range)):null)},removeContentEditableSelection=function(){selectedContentEditableNode&&(selectedContentEditableNode.removeAttribute("data-mce-selected"),$_ajhtx137jdud7727_descendant($_77yl9nyjdud76my.fromDom(editor.getBody()),"#"+realSelectionId).each($_7p85ov2pjdud76zs.remove),selectedContentEditableNode=null)},hideFakeCaret=function(){fakeCaret.hide()};return $_3faz499jdud76f2.ceFalse&&(function(){var getContentEditableRoot=function(node){for(var root=editor.getBody();node&&node!==root;){if(isContentEditableTrue$5(node)||isContentEditableFalse$9(node))return node;node=node.parentNode}return null};editor.on("mouseup",function(e){var range=getRange();range.collapsed&&$_7h6ikm4djdud77a9.isXYInContentArea(editor,e.clientX,e.clientY)&&setRange(renderCaretAtRange(editor,range))}),editor.on("click",function(e){var contentEditableRoot;(contentEditableRoot=getContentEditableRoot(e.target))&&(isContentEditableFalse$9(contentEditableRoot)&&(e.preventDefault(),editor.focus()),isContentEditableTrue$5(contentEditableRoot)&&editor.dom.isChildOf(contentEditableRoot,editor.selection.getNode())&&removeContentEditableSelection())}),editor.on("blur NewBlock",function(){removeContentEditableSelection()});var hasBetterMouseTarget=function(targetNode,caretNode){var node1,node2,targetBlock=editor.dom.getParent(targetNode,editor.dom.isBlock),caretBlock=editor.dom.getParent(caretNode,editor.dom.isBlock);return targetBlock&&(node1=targetBlock,node2=caretBlock,!(editor.dom.getParent(node1,editor.dom.isBlock)===editor.dom.getParent(node2,editor.dom.isBlock)))&&function(elm){var caretWalker=CaretWalker(elm);if(!elm.firstChild)return!1;var startPos=CaretPosition$1.before(elm.firstChild),newPos=caretWalker.next(startPos);return newPos&&!isBeforeContentEditableFalse$1(newPos)&&!isAfterContentEditableFalse$1(newPos)}(targetBlock)};!function(editor){var moved=!1;editor.on("touchstart",function(){moved=!1}),editor.on("touchmove",function(){moved=!0}),editor.on("touchend",function(e){var contentEditableRoot=getContentEditableRoot(e.target);isContentEditableFalse$9(contentEditableRoot)&&(moved||(e.preventDefault(),setContentEditableSelection(selectNode(editor,contentEditableRoot))))})}(editor),editor.on("mousedown",function(e){var contentEditableRoot,targetElm=e.target;if((targetElm===rootNode||"HTML"===targetElm.nodeName||editor.dom.isChildOf(targetElm,rootNode))&&!1!==$_7h6ikm4djdud77a9.isXYInContentArea(editor,e.clientX,e.clientY))if(contentEditableRoot=getContentEditableRoot(targetElm))isContentEditableFalse$9(contentEditableRoot)?(e.preventDefault(),setContentEditableSelection(selectNode(editor,contentEditableRoot))):(removeContentEditableSelection(),isContentEditableTrue$5(contentEditableRoot)&&e.shiftKey||$_443hph56jdud77ej_isXYWithinRange(e.clientX,e.clientY,editor.selection.getRng())||editor.selection.placeCaretAt(e.clientX,e.clientY));else if(!1===isFakeCaretTarget(targetElm)){removeContentEditableSelection(),hideFakeCaret();var caretInfo=closestCaret(rootNode,e.clientX,e.clientY);caretInfo&&(hasBetterMouseTarget(e.target,caretInfo.node)||(e.preventDefault(),editor.getBody().focus(),setRange(showCaret$$1(1,caretInfo.node,caretInfo.before))))}}),editor.on("keypress",function(e){$_482bwm59jdud77ep.modifierPressed(e)||(e.keyCode,isContentEditableFalse$9(editor.selection.getNode())&&e.preventDefault())}),editor.on("getSelectionRange",function(e){var rng=e.range;if(selectedContentEditableNode){if(!selectedContentEditableNode.parentNode)return void(selectedContentEditableNode=null);(rng=rng.cloneRange()).selectNode(selectedContentEditableNode),e.range=rng}}),editor.on("setSelectionRange",function(e){var rng;(rng=setContentEditableSelection(e.range,e.forward))&&(e.range=rng)}),editor.on("AfterSetSelectionRange",function(e){var elm,rng=e.range;isRangeInCaretContainer(rng)||hideFakeCaret(),elm=rng.startContainer.parentNode,editor.dom.hasClass(elm,"mce-offscreen-selection")||removeContentEditableSelection()}),editor.on("copy",function(e){var container,clipboardData=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!$_3faz499jdud76f2.ie){var realSelectionElement=(container=editor.dom.get(realSelectionId))?container.getElementsByTagName("*")[0]:container;realSelectionElement&&(e.preventDefault(),clipboardData.clearData(),clipboardData.setData("text/html",realSelectionElement.outerHTML),clipboardData.setData("text/plain",realSelectionElement.outerText))}}),$_gb3bmj51jdud77dy_init(editor),$_4jw6r057jdud77ek_setup(editor)}(),(styles=editor.contentStyles).push(fakeCaret.getCss()),styles.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),{showCaret:showCaret$$1,showBlockCaretContainer:function(blockCaretContainer){blockCaretContainer.hasAttribute("data-mce-caret")&&(showCaretContainerBlock(blockCaretContainer),setRange(getRange()),scrollIntoView(blockCaretContainer[0]))},hideFakeCaret:hideFakeCaret,destroy:function(){fakeCaret.destroy(),selectedContentEditableNode=null}}},each$11=$_1qam7ujjdud76lb.each,isValidPrefixAttrName=function(name){return 0===name.indexOf("data-")||0===name.indexOf("aria-")},trimComments=function(text){return text.replace(/<!--|-->/g,"")},findEndTagIndex=function(schema,html,startIndex){var index,matches,tokenRegExp,shortEndedElements,count=1;for(shortEndedElements=schema.getShortEndedElements(),(tokenRegExp=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=index=startIndex;matches=tokenRegExp.exec(html);){if(index=tokenRegExp.lastIndex,"/"===matches[1])count--;else if(!matches[1]){if(matches[2]in shortEndedElements)continue;count++}if(0===count)break}return index};function SaxParser(settings,schema){void 0===schema&&(schema=Schema());var noop=function(){};!1!==(settings=settings||{}).fix_self_closing&&(settings.fix_self_closing=!0),each$11("comment cdata text start end pi doctype".split(" "),function(name){name&&(self[name]=settings[name]||noop)});var comment=settings.comment?settings.comment:noop,cdata=settings.cdata?settings.cdata:noop,text=settings.text?settings.text:noop,start=settings.start?settings.start:noop,end=settings.end?settings.end:noop,pi=settings.pi?settings.pi:noop,doctype=settings.doctype?settings.doctype:noop;return{parse:function(html){var matches,value,endRegExp,attrList,i,textData,name,isInternalElement,removeInternalElements,shortEndedElements,fillAttrsMap,isShortEnded,validate,elementRule,isValidElement,attr,attribsValue,validAttributesMap,validAttributePatterns,attributesRequired,attributesDefault,attributesForced,processHtml,selfClosing,tokenRegExp,attrRegExp,specialElements,attrValue,fixSelfClosing,index=0,stack=[],idCount=0,decode=$_qg6wh1rjdud76r2.decode,filteredUrlAttrs=$_1qam7ujjdud76lb.makeMap("src,href,data,background,formaction,poster"),scriptUriRegExp=/((java|vb)script|mhtml):/i,dataUriRegExp=/^data:/i,processEndTag=function(name){var pos,i;for(pos=stack.length;pos--&&stack[pos].name!==name;);if(0<=pos){for(i=stack.length-1;pos<=i;i--)(name=stack[i]).valid&&end(name.name);stack.length=pos}},parseAttribute=function(match,name,value,val2,val3){var attrRule,i;if(value=(name=name.toLowerCase())in fillAttrsMap?name:decode(value||val2||val3||""),validate&&!isInternalElement&&!1===isValidPrefixAttrName(name)){if(!(attrRule=validAttributesMap[name])&&validAttributePatterns){for(i=validAttributePatterns.length;i--&&!(attrRule=validAttributePatterns[i]).pattern.test(name););-1===i&&(attrRule=null)}if(!attrRule)return;if(attrRule.validValues&&!(value in attrRule.validValues))return}if(filteredUrlAttrs[name]&&!settings.allow_script_urls){var uri=value.replace(/[\s\u0000-\u001F]+/g,"");try{uri=decodeURIComponent(uri)}catch(ex){uri=unescape(uri)}if(scriptUriRegExp.test(uri))return;if(!settings.allow_html_data_urls&&dataUriRegExp.test(uri)&&!/^data:image\//i.test(uri))return}isInternalElement&&(name in filteredUrlAttrs||0===name.indexOf("on"))||(attrList.map[name]=value,attrList.push({name:name,value:value}))};for(tokenRegExp=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),attrRegExp=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,shortEndedElements=schema.getShortEndedElements(),selfClosing=settings.self_closing_elements||schema.getSelfClosingElements(),fillAttrsMap=schema.getBoolAttrs(),validate=settings.validate,removeInternalElements=settings.remove_internals,fixSelfClosing=settings.fix_self_closing,specialElements=schema.getSpecialElements(),processHtml=html+">";matches=tokenRegExp.exec(processHtml);){if(index<matches.index&&text(decode(html.substr(index,matches.index-index))),value=matches[6])":"===(value=value.toLowerCase()).charAt(0)&&(value=value.substr(1)),processEndTag(value);else if(value=matches[7]){if(matches.index+matches[0].length>html.length){text(decode(html.substr(matches.index))),index=matches.index+matches[0].length;continue}if(":"===(value=value.toLowerCase()).charAt(0)&&(value=value.substr(1)),isShortEnded=value in shortEndedElements,fixSelfClosing&&selfClosing[value]&&0<stack.length&&stack[stack.length-1].name===value&&processEndTag(value),!validate||(elementRule=schema.getElementRule(value))){if(isValidElement=!0,validate&&(validAttributesMap=elementRule.attributes,validAttributePatterns=elementRule.attributePatterns),(attribsValue=matches[8])?((isInternalElement=-1!==attribsValue.indexOf("data-mce-type"))&&removeInternalElements&&(isValidElement=!1),(attrList=[]).map={},attribsValue.replace(attrRegExp,parseAttribute)):(attrList=[]).map={},validate&&!isInternalElement){if(attributesRequired=elementRule.attributesRequired,attributesDefault=elementRule.attributesDefault,attributesForced=elementRule.attributesForced,elementRule.removeEmptyAttrs&&!attrList.length&&(isValidElement=!1),attributesForced)for(i=attributesForced.length;i--;)name=(attr=attributesForced[i]).name,"{$uid}"===(attrValue=attr.value)&&(attrValue="mce_"+idCount++),attrList.map[name]=attrValue,attrList.push({name:name,value:attrValue});if(attributesDefault)for(i=attributesDefault.length;i--;)(name=(attr=attributesDefault[i]).name)in attrList.map||("{$uid}"===(attrValue=attr.value)&&(attrValue="mce_"+idCount++),attrList.map[name]=attrValue,attrList.push({name:name,value:attrValue}));if(attributesRequired){for(i=attributesRequired.length;i--&&!(attributesRequired[i]in attrList.map););-1===i&&(isValidElement=!1)}if(attr=attrList.map["data-mce-bogus"]){if("all"===attr){index=findEndTagIndex(schema,html,tokenRegExp.lastIndex),tokenRegExp.lastIndex=index;continue}isValidElement=!1}}isValidElement&&start(value,attrList,isShortEnded)}else isValidElement=!1;if(endRegExp=specialElements[value]){endRegExp.lastIndex=index=matches.index+matches[0].length,(matches=endRegExp.exec(html))?(isValidElement&&(textData=html.substr(index,matches.index-index)),index=matches.index+matches[0].length):(textData=html.substr(index),index=html.length),isValidElement&&(0<textData.length&&text(textData,!0),end(value)),tokenRegExp.lastIndex=index;continue}isShortEnded||(attribsValue&&attribsValue.indexOf("/")===attribsValue.length-1?isValidElement&&end(value):stack.push({name:value,valid:isValidElement}))}else(value=matches[1])?(">"===value.charAt(0)&&(value=" "+value),settings.allow_conditional_comments||"[if"!==value.substr(0,3).toLowerCase()||(value=" "+value),comment(value)):(value=matches[2])?cdata(trimComments(value)):(value=matches[3])?doctype(value):(value=matches[4])&&pi(value,matches[5]);index=matches.index+matches[0].length}for(index<html.length&&text(decode(html.substr(index))),i=stack.length-1;0<=i;i--)(value=stack[i]).valid&&end(value.name)}}}!function(SaxParser){SaxParser.findEndTag=findEndTagIndex}(SaxParser||(SaxParser={}));var SaxParser$1=SaxParser,trimInternal=function(serializer,html){var endTagIndex,index,matchLength,matches,shortEndedElements,content=html,bogusAllRegExp=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,schema=serializer.schema;for(content=function(tempAttrs,html){var trimContentRegExp=new RegExp(["\\s?("+tempAttrs.join("|")+')="[^"]+"'].join("|"),"gi");return html.replace(trimContentRegExp,"")}(serializer.getTempAttrs(),content),shortEndedElements=schema.getShortEndedElements();matches=bogusAllRegExp.exec(content);)index=bogusAllRegExp.lastIndex,matchLength=matches[0].length,endTagIndex=shortEndedElements[matches[1]]?index:SaxParser$1.findEndTag(schema,content,index),content=content.substring(0,index-matchLength)+content.substring(endTagIndex),bogusAllRegExp.lastIndex=index-matchLength;return content},$_adg5bi5cjdud77f2_trimExternal=function(serializer,html){return $_264jtj21jdud76vi_trim(trimInternal(serializer,html))},$_adg5bi5cjdud77f2_trimInternal=trimInternal,$_9dj55a5fjdud77fn_KEEP=0,$_9dj55a5fjdud77fn_DELETE=2,$_9dj55a5fjdud77fn_INSERT=1,$_9dj55a5fjdud77fn_diff=function(left,right){var size=left.length+right.length+2,vDown=new Array(size),vUp=new Array(size),buildScript=function(start1,end1,start2,end2,script){var middle=getMiddleSnake(start1,end1,start2,end2);if(null===middle||middle.start===end1&&middle.diag===end1-end2||middle.end===start1&&middle.diag===start1-start2)for(var i=start1,j=start2;i<end1||j<end2;)i<end1&&j<end2&&left[i]===right[j]?(script.push([0,left[i]]),++i,++j):end2-start2<end1-start1?(script.push([2,left[i]]),++i):(script.push([1,right[j]]),++j);else{buildScript(start1,middle.start,start2,middle.start-middle.diag,script);for(var i2=middle.start;i2<middle.end;++i2)script.push([0,left[i2]]);buildScript(middle.end,end1,middle.end-middle.diag,end2,script)}},buildSnake=function(start,diag,end1,end2){for(var end=start;end-diag<end2&&end<end1&&left[end]===right[end-diag];)++end;return function(start,end,diag){return{start:start,end:end,diag:diag}}(start,end,diag)},getMiddleSnake=function(start1,end1,start2,end2){var m=end1-start1,n=end2-start2;if(0===m||0===n)return null;var d,k,i,x,y,delta=m-n,sum=n+m,offset=(sum%2==0?sum:sum+1)/2;for(vDown[1+offset]=start1,vUp[1+offset]=end1+1,d=0;d<=offset;++d){for(k=-d;k<=d;k+=2){for(i=k+offset,k===-d||k!==d&&vDown[i-1]<vDown[i+1]?vDown[i]=vDown[i+1]:vDown[i]=vDown[i-1]+1,y=(x=vDown[i])-start1+start2-k;x<end1&&y<end2&&left[x]===right[y];)vDown[i]=++x,++y;if(delta%2!=0&&delta-d<=k&&k<=delta+d&&vUp[i-delta]<=vDown[i])return buildSnake(vUp[i-delta],k+start1-start2,end1,end2)}for(k=delta-d;k<=delta+d;k+=2){for(i=k+offset-delta,k===delta-d||k!==delta+d&&vUp[i+1]<=vUp[i-1]?vUp[i]=vUp[i+1]-1:vUp[i]=vUp[i-1],y=(x=vUp[i]-1)-start1+start2-k;start1<=x&&start2<=y&&left[x]===right[y];)vUp[i]=x--,y--;if(delta%2==0&&-d<=k&&k<=d&&vUp[i]<=vDown[i+delta])return buildSnake(vUp[i],k+start1-start2,end1,end2)}}},script=[];return buildScript(0,left.length,0,right.length,script),script},getOuterHtml=function(elm){return 1===elm.nodeType?elm.outerHTML:3===elm.nodeType?$_qg6wh1rjdud76r2.encodeRaw(elm.data,!1):8===elm.nodeType?"\x3c!--"+elm.data+"--\x3e":""},insertAt=function(elm,html,index){var fragment=function(html){var frag,node,container;for(container=document.createElement("div"),frag=document.createDocumentFragment(),html&&(container.innerHTML=html);node=container.firstChild;)frag.appendChild(node);return frag}(html);if(elm.hasChildNodes()&&index<elm.childNodes.length){var target=elm.childNodes[index];target.parentNode.insertBefore(fragment,target)}else elm.appendChild(fragment)},$_21wazm5ejdud77fh_read=function(elm){return $_bimkbokjdud76lk.filter($_bimkbokjdud76lk.map(elm.childNodes,getOuterHtml),function(item){return 0<item.length})},$_21wazm5ejdud77fh_write=function(fragments,elm){var currentFragments=$_bimkbokjdud76lk.map(elm.childNodes,getOuterHtml);return function(diff,elm){var index=0;$_bimkbokjdud76lk.each(diff,function(action){action[0]===$_9dj55a5fjdud77fn_KEEP?index++:action[0]===$_9dj55a5fjdud77fn_INSERT?(insertAt(elm,action[1],index),index++):action[0]===$_9dj55a5fjdud77fn_DELETE&&function(elm,index){if(elm.hasChildNodes()&&index<elm.childNodes.length){var target=elm.childNodes[index];target.parentNode.removeChild(target)}}(elm,index)})}($_9dj55a5fjdud77fn_diff(currentFragments,fragments),elm),elm},createFragmentedLevel=function(fragments){return{type:"fragmented",fragments:fragments,content:"",bookmark:null,beforeBookmark:null}},createCompleteLevel=function(content){return{type:"complete",fragments:null,content:content,bookmark:null,beforeBookmark:null}},getLevelContent=function(level){return"fragmented"===level.type?level.fragments.join(""):level.content},$_4yl8d15bjdud77ez={createFragmentedLevel:createFragmentedLevel,createCompleteLevel:createCompleteLevel,createFromEditor:function(editor){var fragments,content,trimmedFragments;return fragments=$_21wazm5ejdud77fh_read(editor.getBody()),-1!==(content=(trimmedFragments=$_2rdhjp4jdud76b1.bind(fragments,function(html){var trimmed=$_adg5bi5cjdud77f2_trimInternal(editor.serializer,html);return 0<trimmed.length?[trimmed]:[]})).join("")).indexOf("</iframe>")?createFragmentedLevel(trimmedFragments):createCompleteLevel(content)},applyToEditor:function(editor,level,before){"fragmented"===level.type?$_21wazm5ejdud77fh_write(level.fragments,editor.getBody()):editor.setContent(level.content,{format:"raw"}),editor.selection.moveToBookmark(before?level.beforeBookmark:level.bookmark)},isEq:function(level1,level2){return!!level1&&!!level2&&getLevelContent(level1)===getLevelContent(level2)}};function UndoManager(editor){var beforeBookmark,isFirstTypedCharacter,self=this,index=0,data=[],locks=0,isUnlocked=function(){return 0===locks},setTyping=function(typing){isUnlocked()&&(self.typing=typing)},setDirty=function(state){editor.setDirty(state)},addNonTypingUndoLevel=function(e){setTyping(!1),self.add({},e)},endTyping=function(){self.typing&&(setTyping(!1),self.add())};return editor.on("init",function(){self.add()}),editor.on("BeforeExecCommand",function(e){var cmd=e.command;"Undo"!==cmd&&"Redo"!==cmd&&"mceRepaint"!==cmd&&(endTyping(),self.beforeChange())}),editor.on("ExecCommand",function(e){var cmd=e.command;"Undo"!==cmd&&"Redo"!==cmd&&"mceRepaint"!==cmd&&addNonTypingUndoLevel(e)}),editor.on("ObjectResizeStart Cut",function(){self.beforeChange()}),editor.on("SaveContent ObjectResized blur",addNonTypingUndoLevel),editor.on("DragEnd",addNonTypingUndoLevel),editor.on("KeyUp",function(e){var keyCode=e.keyCode;e.isDefaultPrevented()||((33<=keyCode&&keyCode<=36||37<=keyCode&&keyCode<=40||45===keyCode||e.ctrlKey)&&(addNonTypingUndoLevel(),editor.nodeChanged()),46!==keyCode&&8!==keyCode||editor.nodeChanged(),isFirstTypedCharacter&&self.typing&&!1===$_4yl8d15bjdud77ez.isEq($_4yl8d15bjdud77ez.createFromEditor(editor),data[0])&&(!1===editor.isDirty()&&(setDirty(!0),editor.fire("change",{level:data[0],lastLevel:null})),editor.fire("TypingUndo"),isFirstTypedCharacter=!1,editor.nodeChanged()))}),editor.on("KeyDown",function(e){var keyCode=e.keyCode;if(!e.isDefaultPrevented())if(33<=keyCode&&keyCode<=36||37<=keyCode&&keyCode<=40||45===keyCode)self.typing&&addNonTypingUndoLevel(e);else{var modKey=e.ctrlKey&&!e.altKey||e.metaKey;!(keyCode<16||20<keyCode)||224===keyCode||91===keyCode||self.typing||modKey||(self.beforeChange(),setTyping(!0),self.add({},e),isFirstTypedCharacter=!0)}}),editor.on("MouseDown",function(e){self.typing&&addNonTypingUndoLevel(e)}),editor.addShortcut("meta+z","","Undo"),editor.addShortcut("meta+y,meta+shift+z","","Redo"),editor.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||editor.nodeChanged()}),self={data:data,typing:!1,beforeChange:function(){isUnlocked()&&(beforeBookmark=$_b8w8gv2kjdud76yu.getUndoBookmark(editor.selection))},add:function(level,event){var i,lastLevel,currentLevel,settings=editor.settings;if(currentLevel=$_4yl8d15bjdud77ez.createFromEditor(editor),level=level||{},level=$_1qam7ujjdud76lb.extend(level,currentLevel),!1===isUnlocked()||editor.removed)return null;if(lastLevel=data[index],editor.fire("BeforeAddUndo",{level:level,lastLevel:lastLevel,originalEvent:event}).isDefaultPrevented())return null;if(lastLevel&&$_4yl8d15bjdud77ez.isEq(lastLevel,level))return null;if(data[index]&&(data[index].beforeBookmark=beforeBookmark),settings.custom_undo_redo_levels&&data.length>settings.custom_undo_redo_levels){for(i=0;i<data.length-1;i++)data[i]=data[i+1];data.length--,index=data.length}level.bookmark=$_b8w8gv2kjdud76yu.getUndoBookmark(editor.selection),index<data.length-1&&(data.length=index+1),data.push(level),index=data.length-1;var args={level:level,lastLevel:lastLevel,originalEvent:event};return editor.fire("AddUndo",args),0<index&&(setDirty(!0),editor.fire("change",args)),level},undo:function(){var level;return self.typing&&(self.add(),self.typing=!1,setTyping(!1)),0<index&&(level=data[--index],$_4yl8d15bjdud77ez.applyToEditor(editor,level,!0),setDirty(!0),editor.fire("undo",{level:level})),level},redo:function(){var level;return index<data.length-1&&(level=data[++index],$_4yl8d15bjdud77ez.applyToEditor(editor,level,!1),setDirty(!0),editor.fire("redo",{level:level})),level},clear:function(){data=[],index=0,self.typing=!1,self.data=data,editor.fire("ClearUndos")},hasUndo:function(){return 0<index||self.typing&&data[0]&&!$_4yl8d15bjdud77ez.isEq($_4yl8d15bjdud77ez.createFromEditor(editor),data[0])},hasRedo:function(){return index<data.length-1&&!self.typing},transact:function(callback){return endTyping(),self.beforeChange(),self.ignore(callback),self.add()},ignore:function(callback){try{locks++,callback()}finally{locks--}},extra:function(callback1,callback2){var lastLevel,bookmark;self.transact(callback1)&&(bookmark=data[index].bookmark,lastLevel=data[index-1],$_4yl8d15bjdud77ez.applyToEditor(editor,lastLevel,!0),self.transact(callback2)&&(data[index-1].beforeBookmark=bookmark))}}}var postProcessHooks={},filter$2=$_bimkbokjdud76lk.filter,each$12=$_bimkbokjdud76lk.each;!function(name,hook){var hooks=postProcessHooks[name];hooks||(postProcessHooks[name]=hooks=[]),postProcessHooks[name].push(hook)}("pre",function(editor){var isPre,blocks,rng=editor.selection.getRng();isPre=$_2nbmh51qjdud76qx.matchNodeNames("pre"),rng.collapsed||(blocks=editor.selection.getSelectedBlocks(),each$12(filter$2(filter$2(blocks,isPre),function(pre){return isPre(pre.previousSibling)&&-1!==$_bimkbokjdud76lk.indexOf(blocks,pre.previousSibling)}),function(pre){var pre1,pre2;pre1=pre.previousSibling,DomQuery(pre2=pre).remove(),DomQuery(pre1).append("<br><br>").append(pre2.childNodes)}))});var $_42ykfw5ijdud77ge_postProcess=function(name,editor){each$12(postProcessHooks[name],function(hook){hook(editor)})},each$13=$_1qam7ujjdud76lb.each,$_2dm2ht5ljdud77h1={walk:function(dom,rng,callback){var ancestor,startPoint,endPoint,node,parent,siblings,nodes,startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset;if(0<(nodes=dom.select("td[data-mce-selected],th[data-mce-selected]")).length)each$13(nodes,function(node){callback([node])});else{var container,index,childNodes,exclude=function(nodes){var node;return 3===(node=nodes[0]).nodeType&&node===startContainer&&startOffset>=node.nodeValue.length&&nodes.splice(0,1),node=nodes[nodes.length-1],0===endOffset&&0<nodes.length&&node===endContainer&&3===node.nodeType&&nodes.splice(nodes.length-1,1),nodes},collectSiblings=function(node,name,endNode){for(var siblings=[];node&&node!==endNode;node=node[name])siblings.push(node);return siblings},findEndPoint=function(node,root){do{if(node.parentNode===root)return node;node=node.parentNode}while(node)},walkBoundary=function(startNode,endNode,next){var siblingName=next?"nextSibling":"previousSibling";for(parent=(node=startNode).parentNode;node&&node!==endNode;node=parent)parent=node.parentNode,(siblings=collectSiblings(node===startNode?node:node[siblingName],siblingName)).length&&(next||siblings.reverse(),callback(exclude(siblings)))};if(1===startContainer.nodeType&&startContainer.hasChildNodes()&&(startContainer=startContainer.childNodes[startOffset]),1===endContainer.nodeType&&endContainer.hasChildNodes()&&(index=endOffset,childNodes=(container=endContainer).childNodes,--index>childNodes.length-1?index=childNodes.length-1:index<0&&(index=0),endContainer=childNodes[index]||container),startContainer===endContainer)return callback(exclude([startContainer]));for(ancestor=dom.findCommonAncestor(startContainer,endContainer),node=startContainer;node;node=node.parentNode){if(node===endContainer)return walkBoundary(startContainer,ancestor,!0);if(node===ancestor)break}for(node=endContainer;node;node=node.parentNode){if(node===startContainer)return walkBoundary(endContainer,ancestor);if(node===ancestor)break}startPoint=findEndPoint(startContainer,ancestor)||startContainer,endPoint=findEndPoint(endContainer,ancestor)||endContainer,walkBoundary(startContainer,startPoint,!0),(siblings=collectSiblings(startPoint===startContainer?startPoint:startPoint.nextSibling,"nextSibling",endPoint===endContainer?endPoint.nextSibling:endPoint)).length&&callback(exclude(siblings)),walkBoundary(endContainer,endPoint)}}},MCE_ATTR_RE=/^(src|href|style)$/,each$14=$_1qam7ujjdud76lb.each,isEq$5=$_6h5sa33ljdud775r.isEq,isTableCell$4=function(node){return/^(TH|TD)$/.test(node.nodeName)},getContainer=function(ed,rng,start){var container,offset,lastIdx;return container=rng[start?"startContainer":"endContainer"],offset=rng[start?"startOffset":"endOffset"],$_2nbmh51qjdud76qx.isElement(container)&&(lastIdx=container.childNodes.length-1,!start&&offset&&offset--,container=container.childNodes[lastIdx<offset?lastIdx:offset]),$_2nbmh51qjdud76qx.isText(container)&&start&&offset>=container.nodeValue.length&&(container=new TreeWalker(container,ed.getBody()).next()||container),$_2nbmh51qjdud76qx.isText(container)&&!start&&0===offset&&(container=new TreeWalker(container,ed.getBody()).prev()||container),container},wrap$2=function(dom,node,name,attrs){var wrapper=dom.create(name,attrs);return node.parentNode.insertBefore(wrapper,node),wrapper.appendChild(node),wrapper},find$4=function(dom,node,next,inc){return!(node=$_6h5sa33ljdud775r.getNonWhiteSpaceSibling(node,next,inc))||"BR"===node.nodeName||dom.isBlock(node)},removeFormat=function(ed,format,vars,node,compareNode){var i,attrs,stylesModified,dom=ed.dom;if(!function(dom,node,format){return!!isEq$5(node,format.inline)||!!isEq$5(node,format.block)||(format.selector?$_2nbmh51qjdud76qx.isElement(node)&&dom.is(node,format.selector):void 0)}(dom,node,format)&&!function(node,format){return format.links&&"A"===node.tagName}(node,format))return!1;if("all"!==format.remove)for(each$14(format.styles,function(value,name){value=$_6h5sa33ljdud775r.normalizeStyleValue(dom,$_6h5sa33ljdud775r.replaceVars(value,vars),name),"number"==typeof name&&(name=value,compareNode=0),(format.remove_similar||!compareNode||isEq$5($_6h5sa33ljdud775r.getStyle(dom,compareNode,name),value))&&dom.setStyle(node,name,""),stylesModified=1}),stylesModified&&""===dom.getAttrib(node,"style")&&(node.removeAttribute("style"),node.removeAttribute("data-mce-style")),each$14(format.attributes,function(value,name){var valueOut;if(value=$_6h5sa33ljdud775r.replaceVars(value,vars),"number"==typeof name&&(name=value,compareNode=0),!compareNode||isEq$5(dom.getAttrib(compareNode,name),value)){if("class"===name&&(value=dom.getAttrib(node,name))&&(valueOut="",each$14(value.split(/\s+/),function(cls){/mce\-\w+/.test(cls)&&(valueOut+=(valueOut?" ":"")+cls)}),valueOut))return void dom.setAttrib(node,name,valueOut);"class"===name&&node.removeAttribute("className"),MCE_ATTR_RE.test(name)&&node.removeAttribute("data-mce-"+name),node.removeAttribute(name)}}),each$14(format.classes,function(value){value=$_6h5sa33ljdud775r.replaceVars(value,vars),compareNode&&!dom.hasClass(compareNode,value)||dom.removeClass(node,value)}),attrs=dom.getAttribs(node),i=0;i<attrs.length;i++){var attrName=attrs[i].nodeName;if(0!==attrName.indexOf("_")&&0!==attrName.indexOf("data-"))return!1}return"none"!==format.remove?(function(ed,node,format){var rootBlockElm,parentNode=node.parentNode,dom=ed.dom,forcedRootBlock=ed.settings.forced_root_block;format.block&&(forcedRootBlock?parentNode===dom.getRoot()&&(format.list_block&&isEq$5(node,format.list_block)||each$14($_1qam7ujjdud76lb.grep(node.childNodes),function(node){$_6h5sa33ljdud775r.isValid(ed,forcedRootBlock,node.nodeName.toLowerCase())?rootBlockElm?rootBlockElm.appendChild(node):(rootBlockElm=wrap$2(dom,node,forcedRootBlock),dom.setAttribs(rootBlockElm,ed.settings.forced_root_block_attrs)):rootBlockElm=0})):dom.isBlock(node)&&!dom.isBlock(parentNode)&&(find$4(dom,node,!1)||find$4(dom,node.firstChild,!0,1)||node.insertBefore(dom.create("br"),node.firstChild),find$4(dom,node,!0)||find$4(dom,node.lastChild,!1,1)||node.appendChild(dom.create("br")))),format.selector&&format.inline&&!isEq$5(format.inline,node)||dom.remove(node,1)}(ed,node,format),!0):void 0},$_5eajbn5kjdud77go={removeFormat:removeFormat,remove:function(ed,name,vars,node,similar){var bookmark,rng,formatList=ed.formatter.get(name),format=formatList[0],contentEditable=!0,dom=ed.dom,selection=ed.selection,splitToFormatRoot=function(container){var formatRoot=function(editor,container,name,vars,similar){var formatRoot;return each$14($_6h5sa33ljdud775r.getParents(editor.dom,container.parentNode).reverse(),function(parent){var format;formatRoot||"_start"===parent.id||"_end"===parent.id||(format=$_98mjhh3mjdud775x.matchNode(editor,parent,name,vars,similar))&&!1!==format.split&&(formatRoot=parent)}),formatRoot}(ed,container,name,vars,similar);return function(editor,formatList,formatRoot,container,target,split,format,vars){var parent,clone,lastClone,firstClone,i,formatRootParent,dom=editor.dom;if(formatRoot){for(formatRootParent=formatRoot.parentNode,parent=container.parentNode;parent&&parent!==formatRootParent;parent=parent.parentNode){for(clone=dom.clone(parent,!1),i=0;i<formatList.length;i++)if(removeFormat(editor,formatList[i],vars,clone,clone)){clone=0;break}clone&&(lastClone&&clone.appendChild(lastClone),firstClone||(firstClone=clone),lastClone=clone)}!split||format.mixed&&dom.isBlock(formatRoot)||(container=dom.split(formatRoot,container)),lastClone&&(target.parentNode.insertBefore(lastClone,target),firstClone.appendChild(target))}return container}(ed,formatList,formatRoot,container,container,!0,format,vars)},process=function(node){var children,i,l,lastContentEditable,hasContentEditableState;if($_2nbmh51qjdud76qx.isElement(node)&&dom.getContentEditable(node)&&(lastContentEditable=contentEditable,contentEditable="true"===dom.getContentEditable(node),hasContentEditableState=!0),children=$_1qam7ujjdud76lb.grep(node.childNodes),contentEditable&&!hasContentEditableState)for(i=0,l=formatList.length;i<l&&!removeFormat(ed,formatList[i],vars,node,node);i++);if(format.deep&&children.length){for(i=0,l=children.length;i<l;i++)process(children[i]);hasContentEditableState&&(contentEditable=lastContentEditable)}},unwrap=function(start){var node=dom.get(start?"_start":"_end"),out=node[start?"firstChild":"lastChild"];return $_48h4o02jjdud76yr.isBookmarkNode(out)&&(out=out[start?"firstChild":"lastChild"]),$_2nbmh51qjdud76qx.isText(out)&&0===out.data.length&&(out=start?node.previousSibling||node.nextSibling:node.nextSibling||node.previousSibling),dom.remove(node,!0),out},removeRngStyle=function(rng){var startContainer,endContainer,commonAncestorContainer=rng.commonAncestorContainer;if(rng=$_5ib8dv3kjdud775e_expandRng(ed,rng,formatList,!0),format.split){if((startContainer=getContainer(ed,rng,!0))!==(endContainer=getContainer(ed,rng))){if(/^(TR|TH|TD)$/.test(startContainer.nodeName)&&startContainer.firstChild&&(startContainer="TR"===startContainer.nodeName?startContainer.firstChild.firstChild||startContainer:startContainer.firstChild||startContainer),commonAncestorContainer&&/^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName)&&isTableCell$4(endContainer)&&endContainer.firstChild&&(endContainer=endContainer.firstChild||endContainer),dom.isChildOf(startContainer,endContainer)&&startContainer!==endContainer&&!dom.isBlock(endContainer)&&!isTableCell$4(startContainer)&&!isTableCell$4(endContainer))return startContainer=wrap$2(dom,startContainer,"span",{id:"_start","data-mce-type":"bookmark"}),splitToFormatRoot(startContainer),void(startContainer=unwrap(!0));startContainer=wrap$2(dom,startContainer,"span",{id:"_start","data-mce-type":"bookmark"}),endContainer=wrap$2(dom,endContainer,"span",{id:"_end","data-mce-type":"bookmark"}),splitToFormatRoot(startContainer),splitToFormatRoot(endContainer),startContainer=unwrap(!0),endContainer=unwrap()}else startContainer=endContainer=splitToFormatRoot(startContainer);rng.startContainer=startContainer.parentNode?startContainer.parentNode:startContainer,rng.startOffset=dom.nodeIndex(startContainer),rng.endContainer=endContainer.parentNode?endContainer.parentNode:endContainer,rng.endOffset=dom.nodeIndex(endContainer)+1}$_2dm2ht5ljdud77h1.walk(dom,rng,function(nodes){each$14(nodes,function(node){process(node),$_2nbmh51qjdud76qx.isElement(node)&&"underline"===ed.dom.getStyle(node,"text-decoration")&&node.parentNode&&"underline"===$_6h5sa33ljdud775r.getTextDecoration(dom,node.parentNode)&&removeFormat(ed,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,node)})})};if(node)node.nodeType?((rng=dom.createRng()).setStartBefore(node),rng.setEndAfter(node),removeRngStyle(rng)):removeRngStyle(node);else if("false"!==dom.getContentEditable(selection.getNode()))selection.isCollapsed()&&format.inline&&!dom.select("td[data-mce-selected],th[data-mce-selected]").length?$_2s31k33jjdud774z.removeCaretFormat(ed,name,vars,similar):(bookmark=selection.getBookmark(),removeRngStyle(selection.getRng()),selection.moveToBookmark(bookmark),format.inline&&$_98mjhh3mjdud775x.match(ed,name,vars,selection.getStart())&&$_6h5sa33ljdud775r.moveStart(dom,selection,selection.getRng()),ed.nodeChanged());else{node=selection.getNode();for(var i=0,l=formatList.length;i<l&&(!formatList[i].ceFalseOverride||!removeFormat(ed,formatList[i],vars,node,node));i++);}}},each$15=$_1qam7ujjdud76lb.each,isElementNode=function(node){return node&&1===node.nodeType&&!$_48h4o02jjdud76yr.isBookmarkNode(node)&&!$_2s31k33jjdud774z.isCaretNode(node)&&!$_2nbmh51qjdud76qx.isBogus(node)},findElementSibling=function(node,siblingName){var sibling;for(sibling=node;sibling;sibling=sibling[siblingName]){if(3===sibling.nodeType&&0!==sibling.nodeValue.length)return node;if(1===sibling.nodeType&&!$_48h4o02jjdud76yr.isBookmarkNode(sibling))return sibling}return node},mergeSiblingsNodes=function(dom,prev,next){var sibling,tmpSibling,elementUtils=new ElementUtils(dom);if(prev&&next&&(prev=findElementSibling(prev,"previousSibling"),next=findElementSibling(next,"nextSibling"),elementUtils.compare(prev,next))){for(sibling=prev.nextSibling;sibling&&sibling!==next;)sibling=(tmpSibling=sibling).nextSibling,prev.appendChild(tmpSibling);return dom.remove(next),$_1qam7ujjdud76lb.each($_1qam7ujjdud76lb.grep(next.childNodes),function(node){prev.appendChild(node)}),prev}return next},processChildElements=function(node,filter,process){each$15(node.childNodes,function(node){isElementNode(node)&&(filter(node)&&process(node),node.hasChildNodes()&&processChildElements(node,filter,process))})},hasStyle=function(dom,name){return $_dree2x6jdud76bv.curry(function(name,node){return!(!node||!$_6h5sa33ljdud775r.getStyle(dom,node,name))},name)},applyStyle=function(dom,name,value){return $_dree2x6jdud76bv.curry(function(name,value,node){dom.setStyle(node,name,value),""===node.getAttribute("style")&&node.removeAttribute("style"),unwrapEmptySpan(dom,node)},name,value)},unwrapEmptySpan=function(dom,node){"SPAN"===node.nodeName&&0===dom.getAttribs(node).length&&dom.remove(node,!0)},processUnderlineAndColor=function(dom,node){var textDecoration;1===node.nodeType&&node.parentNode&&1===node.parentNode.nodeType&&(textDecoration=$_6h5sa33ljdud775r.getTextDecoration(dom,node.parentNode),dom.getStyle(node,"color")&&textDecoration?dom.setStyle(node,"text-decoration",textDecoration):dom.getStyle(node,"text-decoration")===textDecoration&&dom.setStyle(node,"text-decoration",null))},$_1ppyvq5jjdud77gh_mergeWithChildren=function(editor,formatList,vars,node){each$15(formatList,function(format){each$15(editor.dom.select(format.inline,node),function(child){isElementNode(child)&&$_5eajbn5kjdud77go.removeFormat(editor,format,vars,child,format.exact?child:null)}),function(dom,format,node){if(format.clear_child_styles){var selector=format.links?"*:not(a)":"*";each$15(dom.select(selector,node),function(node){isElementNode(node)&&each$15(format.styles,function(value,name){dom.setStyle(node,name,"")})})}}(editor.dom,format,node)})},$_1ppyvq5jjdud77gh_mergeUnderlineAndColor=function(dom,format,vars,node){(format.styles.color||format.styles.textDecoration)&&($_1qam7ujjdud76lb.walk(node,$_dree2x6jdud76bv.curry(processUnderlineAndColor,dom),"childNodes"),processUnderlineAndColor(dom,node))},$_1ppyvq5jjdud77gh_mergeBackgroundColorAndFontSize=function(dom,format,vars,node){format.styles&&format.styles.backgroundColor&&processChildElements(node,hasStyle(dom,"fontSize"),applyStyle(dom,"backgroundColor",$_6h5sa33ljdud775r.replaceVars(format.styles.backgroundColor,vars)))},$_1ppyvq5jjdud77gh_mergeSubSup=function(dom,format,vars,node){"sub"!==format.inline&&"sup"!==format.inline||(processChildElements(node,hasStyle(dom,"fontSize"),applyStyle(dom,"fontSize","")),dom.remove(dom.select("sup"===format.inline?"sub":"sup",node),!0))},$_1ppyvq5jjdud77gh_mergeSiblings=function(dom,format,vars,node){node&&!1!==format.merge_siblings&&(node=mergeSiblingsNodes(dom,$_6h5sa33ljdud775r.getNonWhiteSpaceSibling(node),node),node=mergeSiblingsNodes(dom,node,$_6h5sa33ljdud775r.getNonWhiteSpaceSibling(node,!0)))},$_1ppyvq5jjdud77gh_mergeWithParents=function(editor,format,name,vars,node){$_98mjhh3mjdud775x.matchNode(editor,node.parentNode,name,vars)&&$_5eajbn5kjdud77go.removeFormat(editor,format,vars,node)||format.merge_with_parents&&editor.dom.getParent(node.parentNode,function(parent){if($_98mjhh3mjdud775x.matchNode(editor,parent,name,vars))return $_5eajbn5kjdud77go.removeFormat(editor,format,vars,node),!0})},each$16=$_1qam7ujjdud76lb.each,applyFormat=function(ed,name,vars,node){var bookmark,rng,formatList=ed.formatter.get(name),format=formatList[0],isCollapsed=!node&&ed.selection.isCollapsed(),dom=ed.dom,selection=ed.selection,setElementFormat=function(elm,fmt){if(fmt=fmt||format,elm){if(fmt.onformat&&fmt.onformat(elm,fmt,vars,node),each$16(fmt.styles,function(value,name){dom.setStyle(elm,name,$_6h5sa33ljdud775r.replaceVars(value,vars))}),fmt.styles){var styleVal=dom.getAttrib(elm,"style");styleVal&&elm.setAttribute("data-mce-style",styleVal)}each$16(fmt.attributes,function(value,name){dom.setAttrib(elm,name,$_6h5sa33ljdud775r.replaceVars(value,vars))}),each$16(fmt.classes,function(value){value=$_6h5sa33ljdud775r.replaceVars(value,vars),dom.hasClass(elm,value)||dom.addClass(elm,value)})}},applyNodeStyle=function(formatList,node){var found=!1;return!!format.selector&&(each$16(formatList,function(format){if(!("collapsed"in format&&format.collapsed!==isCollapsed))return dom.is(node,format.selector)&&!$_2s31k33jjdud774z.isCaretNode(node)?(setElementFormat(node,format),found=!0,!1):void 0}),found)},applyRngStyle=function(dom,rng,bookmark,nodeSpecific){var wrapName,wrapElm,newWrappers=[],contentEditable=!0;wrapName=format.inline||format.block,wrapElm=dom.create(wrapName),setElementFormat(wrapElm),$_2dm2ht5ljdud77h1.walk(dom,rng,function(nodes){var currentWrapElm,process=function(node){var nodeName,parentName,hasContentEditableState,lastContentEditable;if(lastContentEditable=contentEditable,nodeName=node.nodeName.toLowerCase(),parentName=node.parentNode.nodeName.toLowerCase(),1===node.nodeType&&dom.getContentEditable(node)&&(lastContentEditable=contentEditable,contentEditable="true"===dom.getContentEditable(node),hasContentEditableState=!0),$_6h5sa33ljdud775r.isEq(nodeName,"br"))return currentWrapElm=0,void(format.block&&dom.remove(node));if(format.wrapper&&$_98mjhh3mjdud775x.matchNode(ed,node,name,vars))currentWrapElm=0;else{if(contentEditable&&!hasContentEditableState&&format.block&&!format.wrapper&&$_6h5sa33ljdud775r.isTextBlock(ed,nodeName)&&$_6h5sa33ljdud775r.isValid(ed,parentName,wrapName))return node=dom.rename(node,wrapName),setElementFormat(node),newWrappers.push(node),void(currentWrapElm=0);if(format.selector){var found=applyNodeStyle(formatList,node);if(!format.inline||found)return void(currentWrapElm=0)}!contentEditable||hasContentEditableState||!$_6h5sa33ljdud775r.isValid(ed,wrapName,nodeName)||!$_6h5sa33ljdud775r.isValid(ed,parentName,wrapName)||!nodeSpecific&&3===node.nodeType&&1===node.nodeValue.length&&65279===node.nodeValue.charCodeAt(0)||$_2s31k33jjdud774z.isCaretNode(node)||format.inline&&dom.isBlock(node)?(currentWrapElm=0,each$16($_1qam7ujjdud76lb.grep(node.childNodes),process),hasContentEditableState&&(contentEditable=lastContentEditable),currentWrapElm=0):(currentWrapElm||(currentWrapElm=dom.clone(wrapElm,!1),node.parentNode.insertBefore(currentWrapElm,node),newWrappers.push(currentWrapElm)),currentWrapElm.appendChild(node))}};each$16(nodes,process)}),!0===format.links&&each$16(newWrappers,function(node){var process=function(node){"A"===node.nodeName&&setElementFormat(node,format),each$16($_1qam7ujjdud76lb.grep(node.childNodes),process)};process(node)}),each$16(newWrappers,function(node){var childCount,getChildElementNode=function(root){var child=!1;return each$16(root.childNodes,function(node){if(function(node){return node&&1===node.nodeType&&!$_48h4o02jjdud76yr.isBookmarkNode(node)&&!$_2s31k33jjdud774z.isCaretNode(node)&&!$_2nbmh51qjdud76qx.isBogus(node)}(node))return child=node,!1}),child};childCount=function(node){var count=0;return each$16(node.childNodes,function(node){$_6h5sa33ljdud775r.isWhiteSpaceNode(node)||$_48h4o02jjdud76yr.isBookmarkNode(node)||count++}),count}(node),!(1<newWrappers.length)&&dom.isBlock(node)||0!==childCount?(format.inline||format.wrapper)&&(format.exact||1!==childCount||(node=function(node){var child,clone;return(child=getChildElementNode(node))&&!$_48h4o02jjdud76yr.isBookmarkNode(child)&&$_98mjhh3mjdud775x.matchName(dom,child,format)&&(clone=dom.clone(child,!1),setElementFormat(clone),dom.replace(clone,node,!0),dom.remove(child,1)),clone||node}(node)),$_1ppyvq5jjdud77gh_mergeWithChildren(ed,formatList,vars,node),$_1ppyvq5jjdud77gh_mergeWithParents(ed,format,name,vars,node),$_1ppyvq5jjdud77gh_mergeBackgroundColorAndFontSize(dom,format,vars,node),$_1ppyvq5jjdud77gh_mergeSubSup(dom,format,vars,node),$_1ppyvq5jjdud77gh_mergeSiblings(dom,format,vars,node)):dom.remove(node,1)})};if("false"!==dom.getContentEditable(selection.getNode())){if(format){if(node)node.nodeType?applyNodeStyle(formatList,node)||((rng=dom.createRng()).setStartBefore(node),rng.setEndAfter(node),applyRngStyle(dom,$_5ib8dv3kjdud775e_expandRng(ed,rng,formatList),0,!0)):applyRngStyle(dom,node,0,!0);else if(isCollapsed&&format.inline&&!dom.select("td[data-mce-selected],th[data-mce-selected]").length)$_2s31k33jjdud774z.applyCaretFormat(ed,name,vars);else{var curSelNode=ed.selection.getNode();ed.settings.forced_root_block||!formatList[0].defaultBlock||dom.getParent(curSelNode,dom.isBlock)||applyFormat(ed,formatList[0].defaultBlock),ed.selection.setRng($_9gnmco2vjdud770l_normalize(ed.selection.getRng())),bookmark=selection.getBookmark(),applyRngStyle(dom,$_5ib8dv3kjdud775e_expandRng(ed,selection.getRng(),formatList)),format.styles&&$_1ppyvq5jjdud77gh_mergeUnderlineAndColor(dom,format,vars,curSelNode),selection.moveToBookmark(bookmark),$_6h5sa33ljdud775r.moveStart(dom,selection,selection.getRng()),ed.nodeChanged()}$_42ykfw5ijdud77ge_postProcess(name,ed)}}else{node=selection.getNode();for(var i=0,l=formatList.length;i<l;i++)if(formatList[i].ceFalseOverride&&dom.is(node,formatList[i].selector))return void setElementFormat(node,formatList[i])}},$_fojlm55hjdud77g7={applyFormat:applyFormat},each$17=$_1qam7ujjdud76lb.each,$_5o0oxy5mjdud77h6={formatChanged:function(editor,formatChangeState,formats,callback,similar){null===formatChangeState.get()&&function(formatChangeData,editor){var currentFormats={};formatChangeData.set({}),editor.on("NodeChange",function(e){var parents=$_6h5sa33ljdud775r.getParents(editor.dom,e.element),matchedFormats={};parents=$_1qam7ujjdud76lb.grep(parents,function(node){return 1===node.nodeType&&!node.getAttribute("data-mce-bogus")}),each$17(formatChangeData.get(),function(callbacks,format){each$17(parents,function(node){return editor.formatter.matchNode(node,format,{},callbacks.similar)?(currentFormats[format]||(each$17(callbacks,function(callback){callback(!0,{node:node,format:format,parents:parents})}),currentFormats[format]=callbacks),matchedFormats[format]=callbacks,!1):!$_98mjhh3mjdud775x.matchesUnInheritedFormatSelector(editor,node,format)&&void 0})}),each$17(currentFormats,function(callbacks,format){matchedFormats[format]||(delete currentFormats[format],each$17(callbacks,function(callback){callback(!1,{node:e.element,format:format,parents:parents})}))})})}(formatChangeState,editor),function(formatChangeData,formats,callback,similar){var formatChangeItems=formatChangeData.get();each$17(formats.split(","),function(format){formatChangeItems[format]||(formatChangeItems[format]=[],formatChangeItems[format].similar=similar),formatChangeItems[format].push(callback)}),formatChangeData.set(formatChangeItems)}(formatChangeState,formats,callback,similar)}},$_c5hpil5ojdud77hh={get:function(dom){var formats={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(elm,fmt,vars){$_1qam7ujjdud76lb.each(vars,function(value,key){dom.setAttrib(elm,key,value)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return $_1qam7ujjdud76lb.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(name){formats[name]={block:name,remove:"all"}}),formats}},each$18=$_1qam7ujjdud76lb.each,dom=DOMUtils.DOM,parsedSelectorToHtml=function(ancestry,editor){var elm,item,fragment,schema=editor&&editor.schema||Schema({}),createElement=function(sItem){var elm;return item="string"==typeof sItem?{name:sItem,classes:[],attrs:{}}:sItem,function(elm,item){item.classes.length&&dom.addClass(elm,item.classes.join(" ")),dom.setAttribs(elm,item.attrs)}(elm=dom.create(item.name),item),elm},wrapInHtml=function(elm,ancestry,siblings){var parent,parentCandidate,parentRequired,ancestor=0<ancestry.length&&ancestry[0],ancestorName=ancestor&&ancestor.name;if(parentRequired=function(elm,candidate){var name="string"!=typeof elm?elm.nodeName.toLowerCase():elm,elmRule=schema.getElementRule(name),parentsRequired=elmRule&&elmRule.parentsRequired;return!(!parentsRequired||!parentsRequired.length)&&(candidate&&-1!==$_1qam7ujjdud76lb.inArray(parentsRequired,candidate)?candidate:parentsRequired[0])}(elm,ancestorName))ancestorName===parentRequired?(parentCandidate=ancestry[0],ancestry=ancestry.slice(1)):parentCandidate=parentRequired;else if(ancestor)parentCandidate=ancestry[0],ancestry=ancestry.slice(1);else if(!siblings)return elm;return parentCandidate&&(parent=createElement(parentCandidate)).appendChild(elm),siblings&&(parent||(parent=dom.create("div")).appendChild(elm),$_1qam7ujjdud76lb.each(siblings,function(sibling){var siblingElm=createElement(sibling);parent.insertBefore(siblingElm,elm)})),wrapInHtml(parent,ancestry,parentCandidate&&parentCandidate.siblings)};return ancestry&&ancestry.length?(item=ancestry[0],elm=createElement(item),(fragment=dom.create("div")).appendChild(wrapInHtml(elm,ancestry.slice(1),item.siblings)),fragment):""},parseSelectorItem=function(item){var tagName,obj={classes:[],attrs:{}};return"*"!==(item=obj.selector=$_1qam7ujjdud76lb.trim(item))&&(tagName=item.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function($0,$1,$2,$3,$4){switch($1){case"#":obj.attrs.id=$2;break;case".":obj.classes.push($2);break;case":":-1!==$_1qam7ujjdud76lb.inArray("checked disabled enabled read-only required".split(" "),$2)&&(obj.attrs[$2]=$2)}if("["===$3){var m=$4.match(/([\w\-]+)(?:\=\"([^\"]+))?/);m&&(obj.attrs[m[1]]=m[2])}return""})),obj.name=tagName||"div",obj},parseSelector=function(selector){return selector&&"string"==typeof selector?(selector=(selector=selector.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),$_1qam7ujjdud76lb.map(selector.split(/(?:>|\s+(?![^\[\]]+\]))/),function(item){var siblings=$_1qam7ujjdud76lb.map(item.split(/(?:~\+|~|\+)/),parseSelectorItem),obj=siblings.pop();return siblings.length&&(obj.siblings=siblings),obj}).reverse()):[]},$_fie0o15pjdud77hn={getCssText:function(editor,format){var name,previewFrag,previewElm,items,parentFontSize,previewStyles,previewCss="";if(!1===(previewStyles=editor.settings.preview_styles))return"";"string"!=typeof previewStyles&&(previewStyles="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var removeVars=function(val){return val.replace(/%(\w+)/g,"")};if("string"==typeof format){if(!(format=editor.formatter.get(format)))return;format=format[0]}return"preview"in format&&!1===(previewStyles=format.preview)?"":(name=format.block||format.inline||"span",(items=parseSelector(format.selector)).length?(items[0].name||(items[0].name=name),name=format.selector,previewFrag=parsedSelectorToHtml(items,editor)):previewFrag=parsedSelectorToHtml([name],editor),previewElm=dom.select(name,previewFrag)[0]||previewFrag.firstChild,each$18(format.styles,function(value,name){(value=removeVars(value))&&dom.setStyle(previewElm,name,value)}),each$18(format.attributes,function(value,name){(value=removeVars(value))&&dom.setAttrib(previewElm,name,value)}),each$18(format.classes,function(value){value=removeVars(value),dom.hasClass(previewElm,value)||dom.addClass(previewElm,value)}),editor.fire("PreviewFormats"),dom.setStyles(previewFrag,{position:"absolute",left:-65535}),editor.getBody().appendChild(previewFrag),parentFontSize=dom.getStyle(editor.getBody(),"fontSize",!0),parentFontSize=/px$/.test(parentFontSize)?parseInt(parentFontSize,10):0,each$18(previewStyles.split(" "),function(name){var value=dom.getStyle(previewElm,name,!0);if(!("background-color"===name&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(value)&&(value=dom.getStyle(editor.getBody(),name,!0),"#ffffff"===dom.toHex(value).toLowerCase())||"color"===name&&"#000000"===dom.toHex(value).toLowerCase())){if("font-size"===name&&/em|%$/.test(value)){if(0===parentFontSize)return;value=(value=parseFloat(value)/(/%$/.test(value)?100:1))*parentFontSize+"px"}"border"===name&&value&&(previewCss+="padding:0 2px;"),previewCss+=name+":"+value+";"}}),editor.fire("AfterPreviewFormats"),dom.remove(previewFrag),previewCss)},parseSelector:parseSelector,selectorToHtml:function(selector,editor){return parsedSelectorToHtml(parseSelector(selector),editor)}},$_7ng9wg5qjdud77i4={toggle:function(editor,formats,name,vars,node){var fmt=formats.get(name);!$_98mjhh3mjdud775x.match(editor,name,vars,node)||"toggle"in fmt[0]&&!fmt[0].toggle?$_fojlm55hjdud77g7.applyFormat(editor,name,vars,node):$_5eajbn5kjdud77go.remove(editor,name,vars,node)}},$_6f2bn35rjdud77i5={setup:function(editor){editor.addShortcut("meta+b","","Bold"),editor.addShortcut("meta+i","","Italic"),editor.addShortcut("meta+u","","Underline");for(var i=1;i<=6;i++)editor.addShortcut("access+"+i,"",["FormatBlock",!1,"h"+i]);editor.addShortcut("access+7","",["FormatBlock",!1,"p"]),editor.addShortcut("access+8","",["FormatBlock",!1,"div"]),editor.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function Formatter(editor){var formats=function FormatRegistry(editor){var formats={},register=function(name,format){name&&("string"!=typeof name?$_1qam7ujjdud76lb.each(name,function(format,name){register(name,format)}):(format=format.length?format:[format],$_1qam7ujjdud76lb.each(format,function(format){void 0===format.deep&&(format.deep=!format.selector),void 0===format.split&&(format.split=!format.selector||format.inline),void 0===format.remove&&format.selector&&!format.inline&&(format.remove="none"),format.selector&&format.inline&&(format.mixed=!0,format.block_expand=!0),"string"==typeof format.classes&&(format.classes=format.classes.split(/\s+/))}),formats[name]=format))};return register($_c5hpil5ojdud77hh.get(editor.dom)),register(editor.settings.formats),{get:function(name){return name?formats[name]:formats},register:register,unregister:function(name){return name&&formats[name]&&delete formats[name],formats}}}(editor),formatChangeState=Cell(null);return $_6f2bn35rjdud77i5.setup(editor),$_2s31k33jjdud774z.setup(editor),{get:formats.get,register:formats.register,unregister:formats.unregister,apply:$_dree2x6jdud76bv.curry($_fojlm55hjdud77g7.applyFormat,editor),remove:$_dree2x6jdud76bv.curry($_5eajbn5kjdud77go.remove,editor),toggle:$_dree2x6jdud76bv.curry($_7ng9wg5qjdud77i4.toggle,editor,formats),match:$_dree2x6jdud76bv.curry($_98mjhh3mjdud775x.match,editor),matchAll:$_dree2x6jdud76bv.curry($_98mjhh3mjdud775x.matchAll,editor),matchNode:$_dree2x6jdud76bv.curry($_98mjhh3mjdud775x.matchNode,editor),canApply:$_dree2x6jdud76bv.curry($_98mjhh3mjdud775x.canApply,editor),formatChanged:$_dree2x6jdud76bv.curry($_5o0oxy5mjdud77h6.formatChanged,editor,formatChangeState),getCssText:$_dree2x6jdud76bv.curry($_fie0o15pjdud77hn.getCssText,editor)}}var baseMerge=function(merger){return function(){for(var objects=new Array(arguments.length),i=0;i<objects.length;i++)objects[i]=arguments[i];if(0===objects.length)throw new Error("Can't merge zero objects");for(var ret={},j=0;j<objects.length;j++){var curObject=objects[j];for(var key in curObject)curObject.hasOwnProperty(key)&&(ret[key]=merger(ret[key],curObject[key]))}return ret}},deepMerge=baseMerge(function(old,nu){return $_c9rr1612jdud76o1.isObject(old)&&$_c9rr1612jdud76o1.isObject(nu)?deepMerge(old,nu):nu}),merge=baseMerge(function(old,nu){return nu}),$_7bxbte5ujdud77ic={deepMerge:deepMerge,merge:merge},$_t6qla5vjdud77ie_firePreProcess=function(editor,args){return editor.fire("PreProcess",args)},$_t6qla5vjdud77ie_firePostProcess=function(editor,args){return editor.fire("PostProcess",args)},$_t6qla5vjdud77ie_fireRemove=function(editor){return editor.fire("remove")},$_2lcw6q5wjdud77ih={register:function(htmlParser,settings,dom){htmlParser.addAttributeFilter("data-mce-tabindex",function(nodes,name){for(var node,i=nodes.length;i--;)(node=nodes[i]).attr("tabindex",node.attributes.map["data-mce-tabindex"]),node.attr(name,null)}),htmlParser.addAttributeFilter("src,href,style",function(nodes,name){for(var node,value,i=nodes.length,internalName="data-mce-"+name,urlConverter=settings.url_converter,urlConverterScope=settings.url_converter_scope;i--;)void 0!==(value=(node=nodes[i]).attributes.map[internalName])?(node.attr(name,0<value.length?value:null),node.attr(internalName,null)):(value=node.attributes.map[name],"style"===name?value=dom.serializeStyle(dom.parseStyle(value),node.name):urlConverter&&(value=urlConverter.call(urlConverterScope,value,name,node.name)),node.attr(name,0<value.length?value:null))}),htmlParser.addAttributeFilter("class",function(nodes){for(var node,value,i=nodes.length;i--;)(value=(node=nodes[i]).attr("class"))&&(value=node.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),node.attr("class",0<value.length?value:null))}),htmlParser.addAttributeFilter("data-mce-type",function(nodes,name,args){for(var node,i=nodes.length;i--;)"bookmark"!==(node=nodes[i]).attributes.map["data-mce-type"]||args.cleanup||node.remove()}),htmlParser.addNodeFilter("noscript",function(nodes){for(var node,i=nodes.length;i--;)(node=nodes[i].firstChild)&&(node.value=$_qg6wh1rjdud76r2.decode(node.value))}),htmlParser.addNodeFilter("script,style",function(nodes,name){for(var node,value,type,i=nodes.length,trim=function(value){return value.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)value=(node=nodes[i]).firstChild?node.firstChild.value:"","script"===name?((type=node.attr("type"))&&node.attr("type","mce-no/type"===type?null:type.replace(/^mce\-/,"")),"xhtml"===settings.element_format&&0<value.length&&(node.firstChild.value="// <![CDATA[\n"+trim(value)+"\n// ]]>")):"xhtml"===settings.element_format&&0<value.length&&(node.firstChild.value="\x3c!--\n"+trim(value)+"\n--\x3e")}),htmlParser.addNodeFilter("#comment",function(nodes){for(var node,i=nodes.length;i--;)0===(node=nodes[i]).value.indexOf("[CDATA[")?(node.name="#cdata",node.type=4,node.value=node.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===node.value.indexOf("mce:protected ")&&(node.name="#text",node.type=3,node.raw=!0,node.value=unescape(node.value).substr(14))}),htmlParser.addNodeFilter("xml:namespace,input",function(nodes,name){for(var node,i=nodes.length;i--;)7===(node=nodes[i]).type?node.remove():1===node.type&&("input"!==name||"type"in node.attributes.map||node.attr("type","text"))}),htmlParser.addAttributeFilter("data-mce-type",function(nodes){$_2rdhjp4jdud76b1.each(nodes,function(node){"format-caret"===node.attr("data-mce-type")&&(node.isEmpty(htmlParser.schema.getNonEmptyElements())?node.remove():node.unwrap())})}),htmlParser.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(nodes,name){for(var i=nodes.length;i--;)nodes[i].attr(name,null)})},trimTrailingBr:function(rootNode){var brNode1,brNode2,isBr=function(node){return node&&"br"===node.name};isBr(brNode1=rootNode.lastChild)&&isBr(brNode2=brNode1.prev)&&(brNode1.remove(),brNode2.remove())}},$_eiplx85xjdud77in={process:function(editor,node,args){return function(editor,args){return editor&&editor.hasEventListeners("PreProcess")&&!args.no_events}(editor,args)?function(editor,node,args){var impl,doc,oldDoc,dom=editor.dom;return node=node.cloneNode(!0),(impl=document.implementation).createHTMLDocument&&(doc=impl.createHTMLDocument(""),$_1qam7ujjdud76lb.each("BODY"===node.nodeName?node.childNodes:[node],function(node){doc.body.appendChild(doc.importNode(node,!0))}),node="BODY"!==node.nodeName?doc.body.firstChild:doc.body,oldDoc=dom.doc,dom.doc=doc),$_t6qla5vjdud77ie_firePreProcess(editor,$_7bxbte5ujdud77ic.merge(args,{node:node})),oldDoc&&(dom.doc=oldDoc),node}(editor,node,args):node}},addFontToSpansFilter=function(domParser,styles,fontSizes){domParser.addNodeFilter("font",function(nodes){$_2rdhjp4jdud76b1.each(nodes,function(node){var props=styles.parse(node.attr("style")),color=node.attr("color"),face=node.attr("face"),size=node.attr("size");color&&(props.color=color),face&&(props["font-family"]=face),size&&(props["font-size"]=fontSizes[parseInt(node.attr("size"),10)-1]),node.name="span",node.attr("style",styles.serialize(props)),function(node,names){$_2rdhjp4jdud76b1.each(names,function(name){node.attr(name,null)})}(node,["color","face","size"])})})},addFilters=function(domParser,settings){var styles=Styles();settings.convert_fonts_to_spans&&addFontToSpansFilter(domParser,styles,$_1qam7ujjdud76lb.explode(settings.font_size_legacy_values)),function(domParser,styles){domParser.addNodeFilter("strike",function(nodes){$_2rdhjp4jdud76b1.each(nodes,function(node){var props=styles.parse(node.attr("style"));props["text-decoration"]="line-through",node.name="span",node.attr("style",styles.serialize(props))})})}(domParser,styles)},$_cfdw165zjdud77j2={register:function(domParser,settings){settings.inline_styles&&addFilters(domParser,settings)}},whiteSpaceRegExp$3=/^[ \t\r\n]*$/,typeLookup={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},walk$3=function(node,root,prev){var sibling,parent,startName=prev?"lastChild":"firstChild",siblingName=prev?"prev":"next";if(node[startName])return node[startName];if(node!==root){if(sibling=node[siblingName])return sibling;for(parent=node.parent;parent&&parent!==root;parent=parent.parent)if(sibling=parent[siblingName])return sibling}},Node$2=function(){function Node(name,type){this.name=name,1===(this.type=type)&&(this.attributes=[],this.attributes.map={})}return Node.create=function(name,attrs){var node,attrName;if(node=new Node(name,typeLookup[name]||1),attrs)for(attrName in attrs)node.attr(attrName,attrs[attrName]);return node},Node.prototype.replace=function(node){return node.parent&&node.remove(),this.insert(node,this),this.remove(),this},Node.prototype.attr=function(name,value){var attrs,i;if("string"!=typeof name){for(i in name)this.attr(i,name[i]);return this}if(attrs=this.attributes){if(void 0!==value){if(null===value){if(name in attrs.map)for(delete attrs.map[name],i=attrs.length;i--;)if(attrs[i].name===name)return attrs=attrs.splice(i,1),this;return this}if(name in attrs.map){for(i=attrs.length;i--;)if(attrs[i].name===name){attrs[i].value=value;break}}else attrs.push({name:name,value:value});return attrs.map[name]=value,this}return attrs.map[name]}},Node.prototype.clone=function(){var i,l,selfAttrs,selfAttr,cloneAttrs,clone=new Node(this.name,this.type);if(selfAttrs=this.attributes){for((cloneAttrs=[]).map={},i=0,l=selfAttrs.length;i<l;i++)"id"!==(selfAttr=selfAttrs[i]).name&&(cloneAttrs[cloneAttrs.length]={name:selfAttr.name,value:selfAttr.value},cloneAttrs.map[selfAttr.name]=selfAttr.value);clone.attributes=cloneAttrs}return clone.value=this.value,clone.shortEnded=this.shortEnded,clone},Node.prototype.wrap=function(wrapper){return this.parent.insert(wrapper,this),wrapper.append(this),this},Node.prototype.unwrap=function(){var node,next;for(node=this.firstChild;node;)next=node.next,this.insert(node,this,!0),node=next;this.remove()},Node.prototype.remove=function(){var parent=this.parent,next=this.next,prev=this.prev;return parent&&(parent.firstChild===this?(parent.firstChild=next)&&(next.prev=null):prev.next=next,parent.lastChild===this?(parent.lastChild=prev)&&(prev.next=null):next.prev=prev,this.parent=this.next=this.prev=null),this},Node.prototype.append=function(node){var last;return node.parent&&node.remove(),(last=this.lastChild)?((last.next=node).prev=last,this.lastChild=node):this.lastChild=this.firstChild=node,node.parent=this,node},Node.prototype.insert=function(node,refNode,before){var parent;return node.parent&&node.remove(),parent=refNode.parent||this,before?(refNode===parent.firstChild?parent.firstChild=node:refNode.prev.next=node,node.prev=refNode.prev,(node.next=refNode).prev=node):(refNode===parent.lastChild?parent.lastChild=node:refNode.next.prev=node,node.next=refNode.next,(node.prev=refNode).next=node),node.parent=parent,node},Node.prototype.getAll=function(name){var node,collection=[];for(node=this.firstChild;node;node=walk$3(node,this))node.name===name&&collection.push(node);return collection},Node.prototype.empty=function(){var nodes,i,node;if(this.firstChild){for(nodes=[],node=this.firstChild;node;node=walk$3(node,this))nodes.push(node);for(i=nodes.length;i--;)(node=nodes[i]).parent=node.firstChild=node.lastChild=node.next=node.prev=null}return this.firstChild=this.lastChild=null,this},Node.prototype.isEmpty=function(elements,whitespace,predicate){var i,name,node=this.firstChild;if(whitespace=whitespace||{},node)do{if(1===node.type){if(node.attributes.map["data-mce-bogus"])continue;if(elements[node.name])return!1;for(i=node.attributes.length;i--;)if("name"===(name=node.attributes[i].name)||0===name.indexOf("data-mce-bookmark"))return!1}if(8===node.type)return!1;if(3===node.type&&!whiteSpaceRegExp$3.test(node.value))return!1;if(3===node.type&&node.parent&&whitespace[node.parent.name]&&whiteSpaceRegExp$3.test(node.value))return!1;if(predicate&&predicate(node))return!1}while(node=walk$3(node,this));return!0},Node.prototype.walk=function(prev){return walk$3(this,null,prev)},Node}(),paddEmptyNode=function(settings,args,blockElements,node){(settings.padd_empty_with_br||args.insert)&&blockElements[node.name]?node.empty().append(new Node$2("br",1)).shortEnded=!0:node.empty().append(new Node$2("#text",3)).value="\xa0"},isPaddedWithNbsp=function(node){return hasOnlyChild(node,"#text")&&"\xa0"===node.firstChild.value},hasOnlyChild=function(node,name){return node&&node.firstChild&&node.firstChild===node.lastChild&&node.firstChild.name===name},isEmpty$1=function(schema,nonEmptyElements,whitespaceElements,node){return node.isEmpty(nonEmptyElements,whitespaceElements,function(node){return function(schema,node){var rule=schema.getElementRule(node.name);return rule&&rule.paddEmpty}(schema,node)})},isLineBreakNode=function(node,blockElements){return node&&(blockElements[node.name]||"br"===node.name)},register$2=function(parser,settings){var schema=parser.schema;settings.remove_trailing_brs&&parser.addNodeFilter("br",function(nodes,_,args){var i,node,parent,lastParent,prev,prevName,elementRule,textNode,l=nodes.length,blockElements=$_1qam7ujjdud76lb.extend({},schema.getBlockElements()),nonEmptyElements=schema.getNonEmptyElements(),whiteSpaceElements=schema.getNonEmptyElements();for(blockElements.body=1,i=0;i<l;i++)if(parent=(node=nodes[i]).parent,blockElements[node.parent.name]&&node===parent.lastChild){for(prev=node.prev;prev;){if("span"!==(prevName=prev.name)||"bookmark"!==prev.attr("data-mce-type")){if("br"!==prevName)break;if("br"===prevName){node=null;break}}prev=prev.prev}node&&(node.remove(),isEmpty$1(schema,nonEmptyElements,whiteSpaceElements,parent)&&(elementRule=schema.getElementRule(parent.name))&&(elementRule.removeEmpty?parent.remove():elementRule.paddEmpty&&paddEmptyNode(settings,args,blockElements,parent)))}else{for(lastParent=node;parent&&parent.firstChild===lastParent&&parent.lastChild===lastParent&&!blockElements[(lastParent=parent).name];)parent=parent.parent;lastParent===parent&&!0!==settings.padd_empty_with_br&&((textNode=new Node$2("#text",3)).value="\xa0",node.replace(textNode))}}),parser.addAttributeFilter("href",function(nodes){var node,rel,newRel,i=nodes.length;if(!settings.allow_unsafe_link_target)for(;i--;)"a"===(node=nodes[i]).name&&"_blank"===node.attr("target")&&node.attr("rel",(rel=node.attr("rel"),newRel=rel?$_1qam7ujjdud76lb.trim(rel):"",/\b(noopener)\b/g.test(newRel)?newRel:function(rel){return rel.split(" ").filter(function(p){return 0<p.length}).concat(["noopener"]).sort().join(" ")}(newRel)))}),settings.allow_html_in_named_anchor||parser.addAttributeFilter("id,name",function(nodes){for(var sibling,prevSibling,parent,node,i=nodes.length;i--;)if("a"===(node=nodes[i]).name&&node.firstChild&&!node.attr("href"))for(parent=node.parent,sibling=node.lastChild;prevSibling=sibling.prev,parent.insert(sibling,node),sibling=prevSibling;);}),settings.fix_list_elements&&parser.addNodeFilter("ul,ol",function(nodes){for(var node,parentNode,i=nodes.length;i--;)if("ul"===(parentNode=(node=nodes[i]).parent).name||"ol"===parentNode.name)if(node.prev&&"li"===node.prev.name)node.prev.append(node);else{var li=new Node$2("li",1);li.attr("style","list-style-type: none"),node.wrap(li)}}),settings.validate&&schema.getValidClasses()&&parser.addAttributeFilter("class",function(nodes){for(var node,classList,ci,className,classValue,validClassesMap,valid,i=nodes.length,validClasses=schema.getValidClasses();i--;){for(classList=(node=nodes[i]).attr("class").split(" "),classValue="",ci=0;ci<classList.length;ci++)className=classList[ci],valid=!1,(validClassesMap=validClasses["*"])&&validClassesMap[className]&&(valid=!0),validClassesMap=validClasses[node.name],!valid&&validClassesMap&&validClassesMap[className]&&(valid=!0),valid&&(classValue&&(classValue+=" "),classValue+=className);classValue.length||(classValue=null),node.attr("class",classValue)}})},makeMap$4=$_1qam7ujjdud76lb.makeMap,each$19=$_1qam7ujjdud76lb.each,explode$4=$_1qam7ujjdud76lb.explode,extend$3=$_1qam7ujjdud76lb.extend;function DomParser(settings,schema){void 0===schema&&(schema=Schema());var nodeFilters={},attributeFilters=[],matchedNodes={},matchedAttributes={};(settings=settings||{}).validate=!("validate"in settings)||settings.validate,settings.root_name=settings.root_name||"body";var filterNode=function(node){var i,name,list;name in nodeFilters&&((list=matchedNodes[name])?list.push(node):matchedNodes[name]=[node]),i=attributeFilters.length;for(;i--;)(name=attributeFilters[i].name)in node.attributes.map&&((list=matchedAttributes[name])?list.push(node):matchedAttributes[name]=[node]);return node},exports={schema:schema,addAttributeFilter:function(name,callback){each$19(explode$4(name),function(name){var i;for(i=0;i<attributeFilters.length;i++)if(attributeFilters[i].name===name)return void attributeFilters[i].callbacks.push(callback);attributeFilters.push({name:name,callbacks:[callback]})})},getAttributeFilters:function(){return[].concat(attributeFilters)},addNodeFilter:function(name,callback){each$19(explode$4(name),function(name){var list=nodeFilters[name];list||(nodeFilters[name]=list=[]),list.push(callback)})},getNodeFilters:function(){var out=[];for(var name_1 in nodeFilters)nodeFilters.hasOwnProperty(name_1)&&out.push({name:name_1,callbacks:nodeFilters[name_1]});return out},filterNode:filterNode,parse:function(html,args){var parser,nodes,i,l,fi,fl,list,name,blockElements,isInWhiteSpacePreservedElement,node,invalidChildren=[];args=args||{},matchedNodes={},matchedAttributes={},blockElements=extend$3(makeMap$4("script,style,head,html,body,title,meta,param"),schema.getBlockElements());var nonEmptyElements=schema.getNonEmptyElements(),children=schema.children,validate=settings.validate,rootBlockName="forced_root_block"in args?args.forced_root_block:settings.forced_root_block,whiteSpaceElements=schema.getWhiteSpaceElements(),startWhiteSpaceRegExp=/^[ \t\r\n]+/,endWhiteSpaceRegExp=/[ \t\r\n]+$/,allWhiteSpaceRegExp=/[ \t\r\n]+/g,isAllWhiteSpaceRegExp=/^[ \t\r\n]+$/,createNode=function(name,type){var list,node=new Node$2(name,type);return name in nodeFilters&&((list=matchedNodes[name])?list.push(node):matchedNodes[name]=[node]),node},removeWhitespaceBefore=function(node){var textNode,textNodeNext,textVal,sibling,blockElements=schema.getBlockElements();for(textNode=node.prev;textNode&&3===textNode.type;){if(0<(textVal=textNode.value.replace(endWhiteSpaceRegExp,"")).length)return void(textNode.value=textVal);if(textNodeNext=textNode.next){if(3===textNodeNext.type&&textNodeNext.value.length){textNode=textNode.prev;continue}if(!blockElements[textNodeNext.name]&&"script"!==textNodeNext.name&&"style"!==textNodeNext.name){textNode=textNode.prev;continue}}sibling=textNode.prev,textNode.remove(),textNode=sibling}};parser=SaxParser$1({validate:validate,allow_script_urls:settings.allow_script_urls,allow_conditional_comments:settings.allow_conditional_comments,self_closing_elements:function(input){var name,output={};for(name in input)"li"!==name&&"p"!==name&&(output[name]=input[name]);return output}(schema.getSelfClosingElements()),cdata:function(text){node.append(createNode("#cdata",4)).value=text},text:function(text,raw){var textNode;isInWhiteSpacePreservedElement||(text=text.replace(allWhiteSpaceRegExp," "),isLineBreakNode(node.lastChild,blockElements)&&(text=text.replace(startWhiteSpaceRegExp,""))),0!==text.length&&((textNode=createNode("#text",3)).raw=!!raw,node.append(textNode).value=text)},comment:function(text){node.append(createNode("#comment",8)).value=text},pi:function(name,text){node.append(createNode(name,7)).value=text,removeWhitespaceBefore(node)},doctype:function(text){node.append(createNode("#doctype",10)).value=text,removeWhitespaceBefore(node)},start:function(name,attrs,empty){var newNode,attrFiltersLen,elementRule,attrName,parent;if(elementRule=validate?schema.getElementRule(name):{}){for((newNode=createNode(elementRule.outputName||name,1)).attributes=attrs,newNode.shortEnded=empty,node.append(newNode),(parent=children[node.name])&&children[newNode.name]&&!parent[newNode.name]&&invalidChildren.push(newNode),attrFiltersLen=attributeFilters.length;attrFiltersLen--;)(attrName=attributeFilters[attrFiltersLen].name)in attrs.map&&((list=matchedAttributes[attrName])?list.push(newNode):matchedAttributes[attrName]=[newNode]);blockElements[name]&&removeWhitespaceBefore(newNode),empty||(node=newNode),!isInWhiteSpacePreservedElement&&whiteSpaceElements[name]&&(isInWhiteSpacePreservedElement=!0)}},end:function(name){var textNode,elementRule,text,sibling,tempNode;if(elementRule=validate?schema.getElementRule(name):{}){if(blockElements[name]&&!isInWhiteSpacePreservedElement){if((textNode=node.firstChild)&&3===textNode.type)if(0<(text=textNode.value.replace(startWhiteSpaceRegExp,"")).length)textNode.value=text,textNode=textNode.next;else for(sibling=textNode.next,textNode.remove(),textNode=sibling;textNode&&3===textNode.type;)text=textNode.value,sibling=textNode.next,(0===text.length||isAllWhiteSpaceRegExp.test(text))&&(textNode.remove(),textNode=sibling),textNode=sibling;if((textNode=node.lastChild)&&3===textNode.type)if(0<(text=textNode.value.replace(endWhiteSpaceRegExp,"")).length)textNode.value=text,textNode=textNode.prev;else for(sibling=textNode.prev,textNode.remove(),textNode=sibling;textNode&&3===textNode.type;)text=textNode.value,sibling=textNode.prev,(0===text.length||isAllWhiteSpaceRegExp.test(text))&&(textNode.remove(),textNode=sibling),textNode=sibling}if(isInWhiteSpacePreservedElement&&whiteSpaceElements[name]&&(isInWhiteSpacePreservedElement=!1),elementRule.removeEmpty&&isEmpty$1(schema,nonEmptyElements,whiteSpaceElements,node)&&!node.attributes.map.name&&!node.attr("id"))return tempNode=node.parent,blockElements[node.name]?node.empty().remove():node.unwrap(),void(node=tempNode);elementRule.paddEmpty&&(isPaddedWithNbsp(node)||isEmpty$1(schema,nonEmptyElements,whiteSpaceElements,node))&&paddEmptyNode(settings,args,blockElements,node),node=node.parent}}},schema);var rootNode=node=new Node$2(args.context||settings.root_name,11);if(parser.parse(html),validate&&invalidChildren.length&&(args.context?args.invalid=!0:function(nodes){var ni,node,parent,parents,newParent,currentNode,tempNode,childNode,i,nonEmptyElements,whitespaceElements,nonSplitableElements,textBlockElements,specialElements,sibling,nextNode;for(nonSplitableElements=makeMap$4("tr,td,th,tbody,thead,tfoot,table"),nonEmptyElements=schema.getNonEmptyElements(),whitespaceElements=schema.getWhiteSpaceElements(),textBlockElements=schema.getTextBlockElements(),specialElements=schema.getSpecialElements(),ni=0;ni<nodes.length;ni++)if((node=nodes[ni]).parent&&!node.fixed)if(textBlockElements[node.name]&&"li"===node.parent.name){for(sibling=node.next;sibling&&textBlockElements[sibling.name];)sibling.name="li",sibling.fixed=!0,node.parent.insert(sibling,node.parent),sibling=sibling.next;node.unwrap(node)}else{for(parents=[node],parent=node.parent;parent&&!schema.isValidChild(parent.name,node.name)&&!nonSplitableElements[parent.name];parent=parent.parent)parents.push(parent);if(parent&&1<parents.length){for(parents.reverse(),newParent=currentNode=filterNode(parents[0].clone()),i=0;i<parents.length-1;i++){for(schema.isValidChild(currentNode.name,parents[i].name)?(tempNode=filterNode(parents[i].clone()),currentNode.append(tempNode)):tempNode=currentNode,childNode=parents[i].firstChild;childNode&&childNode!==parents[i+1];)nextNode=childNode.next,tempNode.append(childNode),childNode=nextNode;currentNode=tempNode}isEmpty$1(schema,nonEmptyElements,whitespaceElements,newParent)?parent.insert(node,parents[0],!0):(parent.insert(newParent,parents[0],!0),parent.insert(node,newParent)),parent=parents[0],(isEmpty$1(schema,nonEmptyElements,whitespaceElements,parent)||hasOnlyChild(parent,"br"))&&parent.empty().remove()}else if(node.parent){if("li"===node.name){if((sibling=node.prev)&&("ul"===sibling.name||"ul"===sibling.name)){sibling.append(node);continue}if((sibling=node.next)&&("ul"===sibling.name||"ul"===sibling.name)){sibling.insert(node,sibling.firstChild,!0);continue}node.wrap(filterNode(new Node$2("ul",1)));continue}schema.isValidChild(node.parent.name,"div")&&schema.isValidChild("div",node.name)?node.wrap(filterNode(new Node$2("div",1))):specialElements[node.name]?node.empty().remove():node.unwrap()}}}(invalidChildren)),rootBlockName&&("body"===rootNode.name||args.isRootContent)&&function(){var next,rootBlockNode,node=rootNode.firstChild,trim=function(rootBlockNode){rootBlockNode&&((node=rootBlockNode.firstChild)&&3===node.type&&(node.value=node.value.replace(startWhiteSpaceRegExp,"")),(node=rootBlockNode.lastChild)&&3===node.type&&(node.value=node.value.replace(endWhiteSpaceRegExp,"")))};if(schema.isValidChild(rootNode.name,rootBlockName.toLowerCase())){for(;node;)next=node.next,3===node.type||1===node.type&&"p"!==node.name&&!blockElements[node.name]&&!node.attr("data-mce-type")?(rootBlockNode||((rootBlockNode=createNode(rootBlockName,1)).attr(settings.forced_root_block_attrs),rootNode.insert(rootBlockNode,node)),rootBlockNode.append(node)):(trim(rootBlockNode),rootBlockNode=null),node=next;trim(rootBlockNode)}}(),!args.invalid){for(name in matchedNodes){for(list=nodeFilters[name],fi=(nodes=matchedNodes[name]).length;fi--;)nodes[fi].parent||nodes.splice(fi,1);for(i=0,l=list.length;i<l;i++)list[i](nodes,name,args)}for(i=0,l=attributeFilters.length;i<l;i++)if((list=attributeFilters[i]).name in matchedAttributes){for(fi=(nodes=matchedAttributes[list.name]).length;fi--;)nodes[fi].parent||nodes.splice(fi,1);for(fi=0,fl=list.callbacks.length;fi<fl;fi++)list.callbacks[fi](nodes,list.name,args)}}return rootNode}};return register$2(exports,settings),$_cfdw165zjdud77j2.register(exports,settings),exports}var addTempAttr=function(htmlParser,tempAttrs,name){-1===$_1qam7ujjdud76lb.inArray(tempAttrs,name)&&(htmlParser.addAttributeFilter(name,function(nodes,name){for(var i=nodes.length;i--;)nodes[i].attr(name,null)}),tempAttrs.push(name))},getHtmlFromNode=function(dom,node,args){var html=$_264jtj21jdud76vi_trim(args.getInner?node.innerHTML:dom.getOuterHTML(node));return args.selection?html:$_1qam7ujjdud76lb.trim(html)},parseHtml=function(htmlParser,dom,html,args){var parserArgs=args.selection?$_7bxbte5ujdud77ic.merge({forced_root_block:!1},args):args,rootNode=htmlParser.parse(html,parserArgs);return $_2lcw6q5wjdud77ih.trimTrailingBr(rootNode),rootNode},toHtml=function(editor,settings,schema,rootNode,args){return function(editor,args,content){return!args.no_events&&editor?$_t6qla5vjdud77ie_firePostProcess(editor,$_7bxbte5ujdud77ic.merge(args,{content:content})).content:content}(editor,args,function(settings,schema,node){return HtmlSerializer(settings,schema).serialize(node)}(settings,schema,rootNode))};function DomSerializer$1(settings,editor){var domSerializer=function DomSerializer(settings,editor){var dom,schema,htmlParser,tempAttrs=["data-mce-selected"];return dom=editor&&editor.dom?editor.dom:DOMUtils.DOM,schema=editor&&editor.schema?editor.schema:Schema(settings),settings.entity_encoding=settings.entity_encoding||"named",settings.remove_trailing_brs=!("remove_trailing_brs"in settings)||settings.remove_trailing_brs,htmlParser=DomParser(settings,schema),$_2lcw6q5wjdud77ih.register(htmlParser,settings,dom),{schema:schema,addNodeFilter:htmlParser.addNodeFilter,addAttributeFilter:htmlParser.addAttributeFilter,serialize:function(node,parserArgs){var args=$_7bxbte5ujdud77ic.merge({format:"html"},parserArgs||{}),targetNode=$_eiplx85xjdud77in.process(editor,node,args),html=getHtmlFromNode(dom,targetNode,args),rootNode=parseHtml(htmlParser,dom,html,args);return"tree"===args.format?rootNode:toHtml(editor,settings,schema,rootNode,args)},addRules:function(rules){schema.addValidElements(rules)},setRules:function(rules){schema.setValidElements(rules)},addTempAttr:$_dree2x6jdud76bv.curry(addTempAttr,htmlParser,tempAttrs),getTempAttrs:function(){return tempAttrs}}}(settings,editor);return{schema:domSerializer.schema,addNodeFilter:domSerializer.addNodeFilter,addAttributeFilter:domSerializer.addAttributeFilter,serialize:domSerializer.serialize,addRules:domSerializer.addRules,setRules:domSerializer.setRules,addTempAttr:domSerializer.addTempAttr,getTempAttrs:domSerializer.getTempAttrs}}var showBlockCaretContainer=function(editor,blockCaretContainer){blockCaretContainer.hasAttribute("data-mce-caret")&&(showCaretContainerBlock(blockCaretContainer),function(editor){editor.selection.setRng(editor.selection.getRng())}(editor),editor.selection.scrollIntoView(blockCaretContainer))},handleBlockContainer=function(editor,e){var blockCaretContainer=function(editor){return $_ajhtx137jdud7727_descendant($_77yl9nyjdud76my.fromDom(editor.getBody()),"*[data-mce-caret]").fold($_dree2x6jdud76bv.constant(null),function(elm){return elm.dom()})}(editor);if(blockCaretContainer)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void showBlockCaretContainer(editor,blockCaretContainer)):void(hasContent(blockCaretContainer)&&showBlockCaretContainer(editor,blockCaretContainer))},$_4ak32g63jdud77jk_setup=function(editor){editor.on("keyup compositionstart",$_dree2x6jdud76bv.curry(handleBlockContainer,editor))};function BookmarkManager(selection){return{getBookmark:$_dree2x6jdud76bv.curry($_48h4o02jjdud76yr.getBookmark,selection),moveToBookmark:$_dree2x6jdud76bv.curry($_48h4o02jjdud76yr.moveToBookmark,selection)}}!function(BookmarkManager){BookmarkManager.isBookmarkNode=$_48h4o02jjdud76yr.isBookmarkNode}(BookmarkManager||(BookmarkManager={}));var BookmarkManager$1=BookmarkManager,isContentEditableFalse$10=$_2nbmh51qjdud76qx.isContentEditableFalse,isContentEditableTrue$6=$_2nbmh51qjdud76qx.isContentEditableTrue,ControlSelection=function(selection,editor){var selectedElm,selectedElmGhost,resizeHelper,resizeHandles,selectedHandle,startX,startY,selectedElmX,selectedElmY,startW,startH,ratio,resizeStarted,width,height,startScrollWidth,startScrollHeight,dom=editor.dom,each=$_1qam7ujjdud76lb.each,editableDoc=editor.getDoc(),rootDocument=document,abs=Math.abs,round=Math.round,rootElement=editor.getBody();resizeHandles={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var rootClass=".mce-content-body";editor.contentStyles.push(rootClass+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+rootClass+" .mce-resizehandle:hover {background: #000}"+rootClass+" img[data-mce-selected],"+rootClass+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+rootClass+" .mce-clonedresizable {position: absolute;"+($_3faz499jdud76f2.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+rootClass+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var isImage=function(elm){return elm&&("IMG"===elm.nodeName||editor.dom.is(elm,"figure.image"))},contextMenuSelectImage=function(evt){var target=evt.target;(function(evt,range){return isImage(evt.target)&&!$_443hph56jdud77ej_isXYWithinRange(evt.clientX,evt.clientY,range)})(evt,editor.selection.getRng())&&!evt.isDefaultPrevented()&&(evt.preventDefault(),editor.selection.select(target))},getResizeTarget=function(elm){return editor.dom.is(elm,"figure.image")?elm.querySelector("img"):elm},isResizable=function(elm){var selector=editor.settings.object_resizing;return!1!==selector&&!$_3faz499jdud76f2.iOS&&("string"!=typeof selector&&(selector="table,img,figure.image,div"),"false"!==elm.getAttribute("data-mce-resize")&&elm!==editor.getBody()&&$_1jloty1fjdud76pi.is($_77yl9nyjdud76my.fromDom(elm),selector))},resizeGhostElement=function(e){var deltaX,deltaY,resizeHelperX,resizeHelperY;deltaX=e.screenX-startX,deltaY=e.screenY-startY,width=deltaX*selectedHandle[2]+startW,height=deltaY*selectedHandle[3]+startH,width=width<5?5:width,height=height<5?5:height,(isImage(selectedElm)&&!1!==editor.settings.resize_img_proportional?!$_482bwm59jdud77ep.modifierPressed(e):$_482bwm59jdud77ep.modifierPressed(e)||isImage(selectedElm)&&selectedHandle[2]*selectedHandle[3]!=0)&&(abs(deltaX)>abs(deltaY)?(height=round(width*ratio),width=round(height/ratio)):(width=round(height/ratio),height=round(width*ratio))),dom.setStyles(getResizeTarget(selectedElmGhost),{width:width,height:height}),resizeHelperX=0<(resizeHelperX=selectedHandle.startPos.x+deltaX)?resizeHelperX:0,resizeHelperY=0<(resizeHelperY=selectedHandle.startPos.y+deltaY)?resizeHelperY:0,dom.setStyles(resizeHelper,{left:resizeHelperX,top:resizeHelperY,display:"block"}),resizeHelper.innerHTML=width+" &times; "+height,selectedHandle[2]<0&&selectedElmGhost.clientWidth<=width&&dom.setStyle(selectedElmGhost,"left",selectedElmX+(startW-width)),selectedHandle[3]<0&&selectedElmGhost.clientHeight<=height&&dom.setStyle(selectedElmGhost,"top",selectedElmY+(startH-height)),(deltaX=rootElement.scrollWidth-startScrollWidth)+(deltaY=rootElement.scrollHeight-startScrollHeight)!=0&&dom.setStyles(resizeHelper,{left:resizeHelperX-deltaX,top:resizeHelperY-deltaY}),resizeStarted||(editor.fire("ObjectResizeStart",{target:selectedElm,width:startW,height:startH}),resizeStarted=!0)},endGhostResize=function(){resizeStarted=!1;var setSizeProp=function(name,value){value&&(selectedElm.style[name]||!editor.schema.isValid(selectedElm.nodeName.toLowerCase(),name)?dom.setStyle(getResizeTarget(selectedElm),name,value):dom.setAttrib(getResizeTarget(selectedElm),name,value))};setSizeProp("width",width),setSizeProp("height",height),dom.unbind(editableDoc,"mousemove",resizeGhostElement),dom.unbind(editableDoc,"mouseup",endGhostResize),rootDocument!==editableDoc&&(dom.unbind(rootDocument,"mousemove",resizeGhostElement),dom.unbind(rootDocument,"mouseup",endGhostResize)),dom.remove(selectedElmGhost),dom.remove(resizeHelper),showResizeRect(selectedElm),editor.fire("ObjectResized",{target:selectedElm,width:width,height:height}),dom.setAttrib(selectedElm,"style",dom.getAttrib(selectedElm,"style")),editor.nodeChanged()},showResizeRect=function(targetElm){var position,targetWidth,targetHeight,e,rect;hideResizeRect(),unbindResizeHandleEvents(),position=dom.getPos(targetElm,rootElement),selectedElmX=position.x,selectedElmY=position.y,rect=targetElm.getBoundingClientRect(),targetWidth=rect.width||rect.right-rect.left,targetHeight=rect.height||rect.bottom-rect.top,selectedElm!==targetElm&&(selectedElm=targetElm,width=height=0),e=editor.fire("ObjectSelected",{target:targetElm}),isResizable(targetElm)&&!e.isDefaultPrevented()?each(resizeHandles,function(handle,name){var handleElm;(handleElm=dom.get("mceResizeHandle"+name))&&dom.remove(handleElm),handleElm=dom.add(rootElement,"div",{id:"mceResizeHandle"+name,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+name+"-resize; margin:0; padding:0"}),$_3faz499jdud76f2.ie&&(handleElm.contentEditable=!1),dom.bind(handleElm,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){startX=e.screenX,startY=e.screenY,startW=getResizeTarget(selectedElm).clientWidth,startH=getResizeTarget(selectedElm).clientHeight,ratio=startH/startW,(selectedHandle=handle).startPos={x:targetWidth*handle[0]+selectedElmX,y:targetHeight*handle[1]+selectedElmY},startScrollWidth=rootElement.scrollWidth,startScrollHeight=rootElement.scrollHeight,selectedElmGhost=selectedElm.cloneNode(!0),dom.addClass(selectedElmGhost,"mce-clonedresizable"),dom.setAttrib(selectedElmGhost,"data-mce-bogus","all"),selectedElmGhost.contentEditable=!1,selectedElmGhost.unSelectabe=!0,dom.setStyles(selectedElmGhost,{left:selectedElmX,top:selectedElmY,margin:0}),selectedElmGhost.removeAttribute("data-mce-selected"),rootElement.appendChild(selectedElmGhost),dom.bind(editableDoc,"mousemove",resizeGhostElement),dom.bind(editableDoc,"mouseup",endGhostResize),rootDocument!==editableDoc&&(dom.bind(rootDocument,"mousemove",resizeGhostElement),dom.bind(rootDocument,"mouseup",endGhostResize)),resizeHelper=dom.add(rootElement,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},startW+" &times; "+startH)}(e)}),handle.elm=handleElm,dom.setStyles(handleElm,{left:targetWidth*handle[0]+selectedElmX-handleElm.offsetWidth/2,top:targetHeight*handle[1]+selectedElmY-handleElm.offsetHeight/2})}):hideResizeRect(),selectedElm.setAttribute("data-mce-selected","1")},hideResizeRect=function(){var name,handleElm;for(name in unbindResizeHandleEvents(),selectedElm&&selectedElm.removeAttribute("data-mce-selected"),resizeHandles)(handleElm=dom.get("mceResizeHandle"+name))&&(dom.unbind(handleElm),dom.remove(handleElm))},updateResizeRect=function(e){var controlElm,isChildOrEqual=function(node,parent){if(node)do{if(node===parent)return!0}while(node=node.parentNode)};resizeStarted||editor.removed||(each(dom.select("img[data-mce-selected],hr[data-mce-selected]"),function(img){img.removeAttribute("data-mce-selected")}),controlElm="mousedown"===e.type?e.target:selection.getNode(),isChildOrEqual(controlElm=dom.$(controlElm).closest("table,img,figure.image,hr")[0],rootElement)&&(disableGeckoResize(),isChildOrEqual(selection.getStart(!0),controlElm)&&isChildOrEqual(selection.getEnd(!0),controlElm))?showResizeRect(controlElm):hideResizeRect())},isWithinContentEditableFalse=function(elm){return isContentEditableFalse$10(function(root,node){for(;node&&node!==root;){if(isContentEditableTrue$6(node)||isContentEditableFalse$10(node))return node;node=node.parentNode}return null}(editor.getBody(),elm))},unbindResizeHandleEvents=function(){for(var name_1 in resizeHandles){var handle=resizeHandles[name_1];handle.elm&&(dom.unbind(handle.elm),delete handle.elm)}},disableGeckoResize=function(){try{editor.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(ex){}};return editor.on("init",function(){disableGeckoResize(),$_3faz499jdud76f2.ie&&11<=$_3faz499jdud76f2.ie&&(editor.on("mousedown click",function(e){var target=e.target,nodeName=target.nodeName;resizeStarted||!/^(TABLE|IMG|HR)$/.test(nodeName)||isWithinContentEditableFalse(target)||(2!==e.button&&editor.selection.select(target,"TABLE"===nodeName),"mousedown"===e.type&&editor.nodeChanged())}),editor.dom.bind(rootElement,"mscontrolselect",function(e){var delayedSelect=function(node){$_8b7b3gjdud76ig.setEditorTimeout(editor,function(){editor.selection.select(node)})};if(isWithinContentEditableFalse(e.target))return e.preventDefault(),void delayedSelect(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&delayedSelect(e.target))}));var throttledUpdateResizeRect=$_8b7b3gjdud76ig.throttle(function(e){editor.composing||updateResizeRect(e)});editor.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",throttledUpdateResizeRect),editor.on("keyup compositionend",function(e){selectedElm&&"TABLE"===selectedElm.nodeName&&throttledUpdateResizeRect(e)}),editor.on("hide blur",hideResizeRect),editor.on("contextmenu",contextMenuSelectImage)}),editor.on("remove",unbindResizeHandleEvents),{isResizable:isResizable,showResizeRect:showResizeRect,hideResizeRect:hideResizeRect,updateResizeRect:updateResizeRect,destroy:function(){selectedElm=selectedElmGhost=null}}},getPos$1=function(elm){for(var x=0,y=0,offsetParent=elm;offsetParent&&offsetParent.nodeType;)x+=offsetParent.offsetLeft||0,y+=offsetParent.offsetTop||0,offsetParent=offsetParent.offsetParent;return{x:x,y:y}},$_1ueloa67jdud77ky_scrollIntoView=function(editor,elm,alignToTop){var y,viewPort,viewPortY,viewPortH,dom=editor.dom,root=dom.getRoot(),offsetY=0;if(!function(editor,elm,alignToTop){var scrollEvent={elm:elm,alignToTop:alignToTop};return editor.fire("scrollIntoView",scrollEvent),scrollEvent.isDefaultPrevented()}(editor,elm,alignToTop)&&$_2nbmh51qjdud76qx.isElement(elm)){if(!1===alignToTop&&(offsetY=elm.offsetHeight),"BODY"!==root.nodeName){var scrollContainer=editor.selection.getScrollContainer();if(scrollContainer)return y=getPos$1(elm).y-getPos$1(scrollContainer).y+offsetY,viewPortH=scrollContainer.clientHeight,void((y<(viewPortY=scrollContainer.scrollTop)||viewPortY+viewPortH<y+25)&&(scrollContainer.scrollTop=y<viewPortY?y:y-viewPortH+25))}viewPort=dom.getViewPort(editor.getWin()),y=dom.getPos(elm).y+offsetY,viewPortY=viewPort.y,viewPortH=viewPort.h,(y<viewPort.y||viewPortY+viewPortH<y+25)&&editor.getWin().scrollTo(0,y<viewPortY?y:y-viewPortH+25)}},hasCeProperty=function(node){return $_2nbmh51qjdud76qx.isContentEditableTrue(node)||$_2nbmh51qjdud76qx.isContentEditableFalse(node)},$_9th3ro68jdud77l2={fromPoint:function(clientX,clientY,doc){var rng,point,pointDoc=doc;if(pointDoc.caretPositionFromPoint)(point=pointDoc.caretPositionFromPoint(clientX,clientY))&&((rng=doc.createRange()).setStart(point.offsetNode,point.offset),rng.collapse(!0));else if(doc.caretRangeFromPoint)rng=doc.caretRangeFromPoint(clientX,clientY);else if(pointDoc.body.createTextRange){rng=pointDoc.body.createTextRange();try{rng.moveToPoint(clientX,clientY),rng.collapse(!0)}catch(ex){rng=function(clientX,clientY,doc){var element,rng,rects;if(element=doc.elementFromPoint(clientX,clientY),rng=doc.body.createTextRange(),element&&"HTML"!==element.tagName||(element=doc.body),rng.moveToElementText(element),0<(rects=(rects=$_1qam7ujjdud76lb.toArray(rng.getClientRects())).sort(function(a,b){return(a=Math.abs(Math.max(a.top-clientY,a.bottom-clientY)))-(b=Math.abs(Math.max(b.top-clientY,b.bottom-clientY)))})).length){clientY=(rects[0].bottom+rects[0].top)/2;try{return rng.moveToPoint(clientX,clientY),rng.collapse(!0),rng}catch(ex){}}return null}(clientX,clientY,doc)}return function(rng,rootNode){var parentElement=rng&&rng.parentElement?rng.parentElement():null;return $_2nbmh51qjdud76qx.isContentEditableFalse(function(node,rootNode,predicate){for(;node&&node!==rootNode;){if(predicate(node))return node;node=node.parentNode}return null}(parentElement,rootNode,hasCeProperty))?null:rng}(rng,doc.body)}return rng}},$_8em55y69jdud77l4_processRanges=function(editor,ranges){return $_2rdhjp4jdud76b1.map(ranges,function(range){var evt=editor.fire("GetSelectionRange",{range:range});return evt.range!==range?evt.range:range})},clone$2=function(original,deep){return $_77yl9nyjdud76my.fromDom(original.dom().cloneNode(deep))},deep$1=function(original){return clone$2(original,!0)},$_2py1466cjdud77lp_shallow=function(original){return clone$2(original,!1)},$_2py1466cjdud77lp_deep=deep$1,$_e0s33a6djdud77ls_fromElements=function(elements,scope){var fragment=(scope||document).createDocumentFragment();return $_2rdhjp4jdud76b1.each(elements,function(element){fragment.appendChild(element.dom())}),$_77yl9nyjdud76my.fromDom(fragment)},getFirstChildren=function(node){return $_24kyxa17jdud76ok.firstChild(node).fold($_dree2x6jdud76bv.constant([node]),function(child){return[node].concat(getFirstChildren(child))})},getLastChildren$1=function(node){return $_24kyxa17jdud76ok.lastChild(node).fold($_dree2x6jdud76bv.constant([node]),function(child){return"br"===$_8ql502zjdud76n3.name(child)?$_24kyxa17jdud76ok.prevSibling(child).map(function(sibling){return[node].concat(getLastChildren$1(sibling))}).getOr([]):[node].concat(getLastChildren$1(child))})},hasAllContentsSelected=function(elm,rng){return $_dw9y2w2ejdud76xu_liftN([function(rng){var sc=rng.startContainer,so=rng.startOffset;return $_2nbmh51qjdud76qx.isText(sc)?0===so?Option.some($_77yl9nyjdud76my.fromDom(sc)):Option.none():Option.from(sc.childNodes[so]).map($_77yl9nyjdud76my.fromDom)}(rng),function(rng){var ec=rng.endContainer,eo=rng.endOffset;return $_2nbmh51qjdud76qx.isText(ec)?eo===ec.data.length?Option.some($_77yl9nyjdud76my.fromDom(ec)):Option.none():Option.from(ec.childNodes[eo-1]).map($_77yl9nyjdud76my.fromDom)}(rng)],function(startNode,endNode){var start=$_2rdhjp4jdud76b1.find(getFirstChildren(elm),$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,startNode)),end=$_2rdhjp4jdud76b1.find(getLastChildren$1(elm),$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,endNode));return start.isSome()&&end.isSome()}).getOr(!1)},moveEndPoint$1=function(dom,rng,node,start){var root=node,walker=new TreeWalker(node,root),nonEmptyElementsMap=dom.schema.getNonEmptyElements();do{if(3===node.nodeType&&0!==$_1qam7ujjdud76lb.trim(node.nodeValue).length)return void(start?rng.setStart(node,0):rng.setEnd(node,node.nodeValue.length));if(nonEmptyElementsMap[node.nodeName]&&!/^(TD|TH)$/.test(node.nodeName))return void(start?rng.setStartBefore(node):"BR"===node.nodeName?rng.setEndBefore(node):rng.setEndAfter(node));if($_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<11&&dom.isBlock(node)&&dom.isEmpty(node))return void(start?rng.setStart(node,0):rng.setEnd(node,0))}while(node=start?walker.next():walker.prev());"BODY"===root.nodeName&&(start?rng.setStart(root,0):rng.setEnd(root,root.childNodes.length))},tableModel=$_3vrm9i18jdud76ot.immutable("element","width","rows"),tableRow=$_3vrm9i18jdud76ot.immutable("element","cells"),cellPosition=$_3vrm9i18jdud76ot.immutable("x","y"),getSpan=function(td,key){var value=parseInt($_65a84n14jdud76o8.get(td,key),10);return isNaN(value)?1:value},cellExists=function(table,x,y){var rows=table.rows();return!!(rows[y]?rows[y].cells():[])[x]},getWidth=function(rows){return $_2rdhjp4jdud76b1.foldl(rows,function(acc,row){return row.cells().length>acc?row.cells().length:acc},0)},findElementPos=function(table,element){for(var rows=table.rows(),y=0;y<rows.length;y++)for(var cells=rows[y].cells(),x=0;x<cells.length;x++)if($_fxc4921djdud76p9.eq(cells[x],element))return Option.some(cellPosition(x,y));return Option.none()},extractRows=function(table,sx,sy,ex,ey){for(var newRows=[],rows=table.rows(),y=sy;y<=ey;y++){var cells=rows[y].cells(),slice=sx<ex?cells.slice(sx,ex+1):cells.slice(ex,sx+1);newRows.push(tableRow(rows[y].element(),slice))}return newRows},$_3lg8mx6fjdud77mf_fromDom=function(tableElm){var table=tableModel($_2py1466cjdud77lp_shallow(tableElm),0,[]);return $_2rdhjp4jdud76b1.each($_fmr77x2gjdud76yg_descendants(tableElm,"tr"),function(tr,y){$_2rdhjp4jdud76b1.each($_fmr77x2gjdud76yg_descendants(tr,"td,th"),function(td,x){!function(table,x,y,tr,td){for(var rowspan=getSpan(td,"rowspan"),colspan=getSpan(td,"colspan"),rows=table.rows(),y2=y;y2<y+rowspan;y2++){rows[y2]||(rows[y2]=tableRow($_2py1466cjdud77lp_deep(tr),[]));for(var x2=x;x2<x+colspan;x2++)rows[y2].cells()[x2]=y2===y&&x2===x?td:$_2py1466cjdud77lp_shallow(td)}}(table,function(table,x,y){for(;cellExists(table,x,y);)x++;return x}(table,x,y),y,tr,td)})}),tableModel(table.element(),getWidth(table.rows()),table.rows())},$_3lg8mx6fjdud77mf_toDom=function(table){return function(table,rows){var tableElement=$_2py1466cjdud77lp_shallow(table.element()),tableBody=$_77yl9nyjdud76my.fromTag("tbody");return $_f2ewme2qjdud76zv_append(tableBody,rows),$_y9e9r2ojdud76zq.append(tableElement,tableBody),tableElement}(table,function(table){return $_2rdhjp4jdud76b1.map(table.rows(),function(row){var cells=$_2rdhjp4jdud76b1.map(row.cells(),function(cell){var td=$_2py1466cjdud77lp_deep(cell);return $_65a84n14jdud76o8.remove(td,"colspan"),$_65a84n14jdud76o8.remove(td,"rowspan"),td}),tr=$_2py1466cjdud77lp_shallow(row.element());return $_f2ewme2qjdud76zv_append(tr,cells),tr})}(table))},$_3lg8mx6fjdud77mf_subsection=function(table,startElement,endElement){return findElementPos(table,startElement).bind(function(startPos){return findElementPos(table,endElement).map(function(endPos){return function(table,startPos,endPos){var sx=startPos.x(),sy=startPos.y(),ex=endPos.x(),ey=endPos.y(),newRows=sy<ey?extractRows(table,sx,sy,ex,ey):extractRows(table,sx,ey,ex,sy);return tableModel(table.element(),getWidth(newRows),newRows)}(table,startPos,endPos)})})},getFullySelectedListWrappers=function(parents,rng){return $_2rdhjp4jdud76b1.find(parents,function(elm){return"li"===$_8ql502zjdud76n3.name(elm)&&hasAllContentsSelected(elm,rng)}).fold($_dree2x6jdud76bv.constant([]),function(li){return function(parents){return $_2rdhjp4jdud76b1.find(parents,function(elm){return"ul"===$_8ql502zjdud76n3.name(elm)||"ol"===$_8ql502zjdud76n3.name(elm)})}(parents).map(function(listCont){return[$_77yl9nyjdud76my.fromTag("li"),$_77yl9nyjdud76my.fromTag($_8ql502zjdud76n3.name(listCont))]}).getOr([])})},getWrapElements=function(rootNode,rng){var commonAnchorContainer=$_77yl9nyjdud76my.fromDom(rng.commonAncestorContainer),parents=$_2h4haq39jdud772r_parentsAndSelf(commonAnchorContainer,rootNode),wrapElements=$_2rdhjp4jdud76b1.filter(parents,function(elm){return isInline(elm)||isHeading(elm)}),listWrappers=getFullySelectedListWrappers(parents,rng),allWrappers=wrapElements.concat(listWrappers.length?listWrappers:function(commonAnchorContainer){return isListItem(commonAnchorContainer)?$_24kyxa17jdud76ok.parent(commonAnchorContainer).filter(isList).fold($_dree2x6jdud76bv.constant([]),function(listElm){return[commonAnchorContainer,listElm]}):isList(commonAnchorContainer)?[commonAnchorContainer]:[]}(commonAnchorContainer));return $_2rdhjp4jdud76b1.map(allWrappers,$_2py1466cjdud77lp_shallow)},emptyFragment=function(){return $_e0s33a6djdud77ls_fromElements([])},getFragmentFromRange=function(rootNode,rng){return innerElm=$_77yl9nyjdud76my.fromDom(rng.cloneContents()),elms=getWrapElements(rootNode,rng),wrapped=$_2rdhjp4jdud76b1.foldl(elms,function(acc,elm){return $_y9e9r2ojdud76zq.append(elm,acc),elm},innerElm),0<elms.length?$_e0s33a6djdud77ls_fromElements([wrapped]):wrapped;var innerElm,elms,wrapped},getTableFragment=function(rootNode,selectedTableCells){return(rootElm=rootNode,cell=selectedTableCells[0],$_ajhtx137jdud7727_ancestor(cell,"table",$_dree2x6jdud76bv.curry($_fxc4921djdud76p9.eq,rootElm))).bind(function(tableElm){var firstCell=selectedTableCells[0],lastCell=selectedTableCells[selectedTableCells.length-1],fullTableModel=$_3lg8mx6fjdud77mf_fromDom(tableElm);return $_3lg8mx6fjdud77mf_subsection(fullTableModel,firstCell,lastCell).map(function(sectionedTableModel){return $_e0s33a6djdud77ls_fromElements([$_3lg8mx6fjdud77mf_toDom(sectionedTableModel)])})}).getOrThunk(emptyFragment);var rootElm,cell},$_5shrt06bjdud77lf_read=function(rootNode,ranges){var selectedCells=$_7fgukr3ujdud7779_getCellsFromElementOrRanges(ranges,rootNode);return 0<selectedCells.length?getTableFragment(rootNode,selectedCells):function(rootNode,ranges){return 0<ranges.length&&ranges[0].collapsed?emptyFragment():getFragmentFromRange(rootNode,ranges[0])}(rootNode,ranges)},$_x60wb6ajdud77l6_getContent=function(editor,args){var fragment,rng=editor.selection.getRng(),tmpElm=editor.dom.create("body"),sel=editor.selection.getSel(),ranges=$_8em55y69jdud77l4_processRanges(editor,$_3vo5me3vjdud777c_getRanges(sel));if((args=args||{}).get=!0,args.format=args.format||"html",args.selection=!0,(args=editor.fire("BeforeGetContent",args)).isDefaultPrevented())return editor.fire("GetContent",args),args.content;if("text"===args.format)return editor.selection.isCollapsed()?"":$_264jtj21jdud76vi_trim(rng.text||(sel.toString?sel.toString():""));rng.cloneContents?(fragment=args.contextual?$_5shrt06bjdud77lf_read($_77yl9nyjdud76my.fromDom(editor.getBody()),ranges).dom():rng.cloneContents())&&tmpElm.appendChild(fragment):void 0!==rng.item||void 0!==rng.htmlText?(tmpElm.innerHTML="<br>"+(rng.item?rng.item(0).outerHTML:rng.htmlText),tmpElm.removeChild(tmpElm.firstChild)):tmpElm.innerHTML=rng.toString(),args.getInner=!0;var content=editor.selection.serializer.serialize(tmpElm,args);return"tree"===args.format?content:(args.content=editor.selection.isCollapsed()?"":content,editor.fire("GetContent",args),args.content)},$_g8mq4e6gjdud77mr_setContent=function(editor,content,args){var caretNode,frag,temp,rng=editor.selection.getRng(),doc=editor.getDoc();if((args=args||{format:"html"}).set=!0,args.selection=!0,args.content=content,args.no_events||!(args=editor.fire("BeforeSetContent",args)).isDefaultPrevented()){if(content=args.content,rng.insertNode){content+='<span id="__caret">_</span>',rng.startContainer===doc&&rng.endContainer===doc?doc.body.innerHTML=content:(rng.deleteContents(),0===doc.body.childNodes.length?doc.body.innerHTML=content:rng.createContextualFragment?rng.insertNode(rng.createContextualFragment(content)):(frag=doc.createDocumentFragment(),temp=doc.createElement("div"),frag.appendChild(temp),temp.outerHTML=content,rng.insertNode(frag))),caretNode=editor.dom.get("__caret"),(rng=doc.createRange()).setStartBefore(caretNode),rng.setEndBefore(caretNode),editor.selection.setRng(rng),editor.dom.remove("__caret");try{editor.selection.setRng(rng)}catch(ex){}}else rng.item&&(doc.execCommand("Delete",!1,null),rng=editor.getRng()),/^\s+/.test(content)?(rng.pasteHTML('<span id="__mce_tmp">_</span>'+content),editor.dom.remove("__mce_tmp")):rng.pasteHTML(content);args.no_events||editor.fire("SetContent",args)}else editor.fire("SetContent",args)},getEndpointElement=function(root,rng,start,real,resolve){var container=start?rng.startContainer:rng.endContainer,offset=start?rng.startOffset:rng.endOffset;return Option.from(container).map($_77yl9nyjdud76my.fromDom).map(function(elm){return real&&rng.collapsed?elm:$_24kyxa17jdud76ok.child(elm,resolve(elm,offset)).getOr(elm)}).bind(function(elm){return $_8ql502zjdud76n3.isElement(elm)?Option.some(elm):$_24kyxa17jdud76ok.parent(elm)}).map(function(elm){return elm.dom()}).getOr(root)},getStart$2=function(root,rng,real){return getEndpointElement(root,rng,!0,real,function(elm,offset){return Math.min($_24kyxa17jdud76ok.childNodesCount(elm),offset)})},getEnd=function(root,rng,real){return getEndpointElement(root,rng,!1,real,function(elm,offset){return 0<offset?offset-1:offset})},skipEmptyTextNodes=function(node,forwards){for(var orig=node;node&&$_2nbmh51qjdud76qx.isText(node)&&0===node.length;)node=forwards?node.nextSibling:node.previousSibling;return node||orig},each$20=$_1qam7ujjdud76lb.each,isNativeIeSelection=function(rng){return!!rng.select},isAttachedToDom=function(node){return!(!node||!node.ownerDocument)&&$_fxc4921djdud76p9.contains($_77yl9nyjdud76my.fromDom(node.ownerDocument),$_77yl9nyjdud76my.fromDom(node))},Selection$1=function(dom,win,serializer,editor){var bookmarkManager,controlSelection,selectedRange,explicitRange,selectorChangedData,setContent=function(content,args){return $_g8mq4e6gjdud77mr_setContent(editor,content,args)},collapse=function(toStart){var rng=getRng();rng.collapse(!!toStart),setRng(rng)},getSel=function(){return win.getSelection?win.getSelection():win.document.selection},getRng=function(){var selection,rng,elm,doc,tryCompareBoundaryPoints=function(how,sourceRange,destinationRange){try{return sourceRange.compareBoundaryPoints(how,destinationRange)}catch(ex){return-1}};if(!win)return null;if(null==(doc=win.document))return null;if(void 0!==editor.bookmark&&!1===$_2811r48jdud779b_hasFocus(editor)){var bookmark=$_8342u23zjdud777z.getRng(editor);if(bookmark.isSome())return bookmark.map(function(r){return $_8em55y69jdud77l4_processRanges(editor,[r])[0]}).getOr(doc.createRange())}try{(selection=getSel())&&(rng=0<selection.rangeCount?selection.getRangeAt(0):selection.createRange?selection.createRange():doc.createRange())}catch(ex){}return(rng=$_8em55y69jdud77l4_processRanges(editor,[rng])[0])||(rng=doc.createRange?doc.createRange():doc.body.createTextRange()),rng.setStart&&9===rng.startContainer.nodeType&&rng.collapsed&&(elm=dom.getRoot(),rng.setStart(elm,0),rng.setEnd(elm,0)),selectedRange&&explicitRange&&(0===tryCompareBoundaryPoints(rng.START_TO_START,rng,selectedRange)&&0===tryCompareBoundaryPoints(rng.END_TO_END,rng,selectedRange)?rng=explicitRange:explicitRange=selectedRange=null),rng},setRng=function(rng,forward){var sel,node;if(function(rng){return!!rng&&(!!isNativeIeSelection(rng)||isAttachedToDom(rng.startContainer)&&isAttachedToDom(rng.endContainer))}(rng)){var ieRange=isNativeIeSelection(rng)?rng:null;if(ieRange){explicitRange=null;try{ieRange.select()}catch(ex){}}else{if(sel=getSel(),rng=editor.fire("SetSelectionRange",{range:rng,forward:forward}).range,sel){explicitRange=rng;try{sel.removeAllRanges(),sel.addRange(rng)}catch(ex){}!1===forward&&sel.extend&&(sel.collapse(rng.endContainer,rng.endOffset),sel.extend(rng.startContainer,rng.startOffset)),selectedRange=0<sel.rangeCount?sel.getRangeAt(0):null}rng.collapsed||rng.startContainer!==rng.endContainer||!sel.setBaseAndExtent||$_3faz499jdud76f2.ie||rng.endOffset-rng.startOffset<2&&rng.startContainer.hasChildNodes()&&(node=rng.startContainer.childNodes[rng.startOffset])&&"IMG"===node.tagName&&(sel.setBaseAndExtent(rng.startContainer,rng.startOffset,rng.endContainer,rng.endOffset),sel.anchorNode===rng.startContainer&&sel.focusNode===rng.endContainer||sel.setBaseAndExtent(node,0,node,1)),editor.fire("AfterSetSelectionRange",{range:rng,forward:forward})}}},isForward=function(){var anchorRange,focusRange,sel=getSel();return!(sel&&sel.anchorNode&&sel.focusNode)||((anchorRange=dom.createRng()).setStart(sel.anchorNode,sel.anchorOffset),anchorRange.collapse(!0),(focusRange=dom.createRng()).setStart(sel.focusNode,sel.focusOffset),focusRange.collapse(!0),anchorRange.compareBoundaryPoints(anchorRange.START_TO_START,focusRange)<=0)},exports={bookmarkManager:null,controlSelection:null,dom:dom,win:win,serializer:serializer,editor:editor,collapse:collapse,setCursorLocation:function(node,offset){var rng=dom.createRng();node?(rng.setStart(node,offset),rng.setEnd(node,offset),setRng(rng),collapse(!1)):(moveEndPoint$1(dom,rng,editor.getBody(),!0),setRng(rng))},getContent:function(args){return $_x60wb6ajdud77l6_getContent(editor,args)},setContent:setContent,getBookmark:function(type,normalized){return bookmarkManager.getBookmark(type,normalized)},moveToBookmark:function(bookmark){return bookmarkManager.moveToBookmark(bookmark)},select:function(node,content){return function(dom,node,content){return Option.from(node).map(function(node){var idx=dom.nodeIndex(node),rng=dom.createRng();return rng.setStart(node.parentNode,idx),rng.setEnd(node.parentNode,idx+1),content&&(moveEndPoint$1(dom,rng,node,!0),moveEndPoint$1(dom,rng,node,!1)),rng})}(dom,node,content).each(setRng),node},isCollapsed:function(){var rng=getRng(),sel=getSel();return!(!rng||rng.item)&&(rng.compareEndPoints?0===rng.compareEndPoints("StartToEnd",rng):!sel||rng.collapsed)},isForward:isForward,setNode:function(elm){return setContent(dom.getOuterHTML(elm)),elm},getNode:function(){return root=editor.getBody(),(rng=getRng())?(startContainer=rng.startContainer,endContainer=rng.endContainer,startOffset=rng.startOffset,endOffset=rng.endOffset,elm=rng.commonAncestorContainer,!rng.collapsed&&(startContainer===endContainer&&endOffset-startOffset<2&&startContainer.hasChildNodes()&&(elm=startContainer.childNodes[startOffset]),3===startContainer.nodeType&&3===endContainer.nodeType&&(startContainer=startContainer.length===startOffset?skipEmptyTextNodes(startContainer.nextSibling,!0):startContainer.parentNode,endContainer=0===endOffset?skipEmptyTextNodes(endContainer.previousSibling,!1):endContainer.parentNode,startContainer&&startContainer===endContainer))?startContainer:elm&&3===elm.nodeType?elm.parentNode:elm):root;var root,rng,elm,startContainer,endContainer,startOffset,endOffset},getSel:getSel,setRng:setRng,getRng:getRng,getStart:function(real){return getStart$2(editor.getBody(),getRng(),real)},getEnd:function(real){return getEnd(editor.getBody(),getRng(),real)},getSelectedBlocks:function(startElm,endElm){return function(dom,rng,startElm,endElm){var node,root,selectedBlocks=[];if(root=dom.getRoot(),startElm=dom.getParent(startElm||getStart$2(root,rng,!1),dom.isBlock),endElm=dom.getParent(endElm||getEnd(root,rng,!1),dom.isBlock),startElm&&startElm!==root&&selectedBlocks.push(startElm),startElm&&endElm&&startElm!==endElm)for(var walker=new TreeWalker(node=startElm,root);(node=walker.next())&&node!==endElm;)dom.isBlock(node)&&selectedBlocks.push(node);return endElm&&startElm!==endElm&&endElm!==root&&selectedBlocks.push(endElm),selectedBlocks}(dom,getRng(),startElm,endElm)},normalize:function(){var rng=getRng();if(!$_3vo5me3vjdud777c_hasMultipleRanges(getSel())){var normRng=$_3e2aut3xjdud777p.normalize(dom,rng);return normRng.each(function(normRng){setRng(normRng,isForward())}),normRng.getOr(rng)}return rng},selectorChanged:function(selector,callback){var currentSelectors;return selectorChangedData||(selectorChangedData={},currentSelectors={},editor.on("NodeChange",function(e){var node=e.element,parents=dom.getParents(node,null,dom.getRoot()),matchedSelectors={};each$20(selectorChangedData,function(callbacks,selector){each$20(parents,function(node){if(dom.is(node,selector))return currentSelectors[selector]||(each$20(callbacks,function(callback){callback(!0,{node:node,selector:selector,parents:parents})}),currentSelectors[selector]=callbacks),matchedSelectors[selector]=callbacks,!1})}),each$20(currentSelectors,function(callbacks,selector){matchedSelectors[selector]||(delete currentSelectors[selector],each$20(callbacks,function(callback){callback(!1,{node:node,selector:selector,parents:parents})}))})})),selectorChangedData[selector]||(selectorChangedData[selector]=[]),selectorChangedData[selector].push(callback),exports},getScrollContainer:function(){for(var scrollContainer,node=dom.getRoot();node&&"BODY"!==node.nodeName;){if(node.scrollHeight>node.clientHeight){scrollContainer=node;break}node=node.parentNode}return scrollContainer},scrollIntoView:function(elm,alignToTop){return $_1ueloa67jdud77ky_scrollIntoView(editor,elm,alignToTop)},placeCaretAt:function(clientX,clientY){return setRng($_9th3ro68jdud77l2.fromPoint(clientX,clientY,editor.getDoc()))},getBoundingClientRect:function(){var rng=getRng();return rng.collapsed?CaretPosition$1.fromRangeStart(rng).getClientRects()[0]:rng.getBoundingClientRect()},destroy:function(){win=null,controlSelection.destroy()}};return bookmarkManager=BookmarkManager$1(exports),controlSelection=ControlSelection(exports,editor),exports.bookmarkManager=bookmarkManager,exports.controlSelection=controlSelection,exports},isContentEditableFalse$11=$_2nbmh51qjdud76qx.isContentEditableFalse,getSelectedNode$1=getSelectedNode,isAfterContentEditableFalse$2=isAfterContentEditableFalse,isBeforeContentEditableFalse$2=isBeforeContentEditableFalse,getVisualCaretPosition=function(walkFn,caretPosition){for(;caretPosition=walkFn(caretPosition);)if(caretPosition.isVisible())return caretPosition;return caretPosition},moveToCeFalseHorizontally=function(direction,editor,getNextPosFn,range){var node,caretPosition,peekCaretPosition,rangeIsInContainerBlock,from,inSameBlock,forwards=direction===HDirection.Forwards,isBeforeContentEditableFalseFn=forwards?isBeforeContentEditableFalse$2:isAfterContentEditableFalse$2;return!range.collapsed&&(node=getSelectedNode$1(range),isContentEditableFalse$11(node))?showCaret(direction,editor,node,direction===HDirection.Backwards):(rangeIsInContainerBlock=function(range){return isCaretContainerBlock(range.startContainer)}(range),isBeforeContentEditableFalseFn(caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range))?selectNode(editor,caretPosition.getNode(!forwards)):(caretPosition=getNextPosFn(caretPosition))?isBeforeContentEditableFalseFn(caretPosition)?showCaret(direction,editor,caretPosition.getNode(!forwards),forwards):isBeforeContentEditableFalseFn(peekCaretPosition=getNextPosFn(caretPosition))&&(!(inSameBlock=isInSameBlock(from=caretPosition,peekCaretPosition))&&$_2nbmh51qjdud76qx.isBr(from.getNode())||inSameBlock)?showCaret(direction,editor,peekCaretPosition.getNode(!forwards),forwards):rangeIsInContainerBlock?renderRangeCaret(editor,caretPosition.toRange()):null:rangeIsInContainerBlock?range:null)},moveToCeFalseVertically=function(direction,editor,walkerFn,range){var caretPosition,linePositions,nextLinePositions,closestNextLineRect,caretClientRect,clientX,dist1,dist2,contentEditableFalseNode;if(contentEditableFalseNode=getSelectedNode$1(range),caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range),linePositions=walkerFn(editor.getBody(),isAboveLine(1),caretPosition),nextLinePositions=$_bimkbokjdud76lk.filter(linePositions,isLine(1)),caretClientRect=$_bimkbokjdud76lk.last(caretPosition.getClientRects()),(isBeforeContentEditableFalse$2(caretPosition)||isBeforeTable(caretPosition))&&(contentEditableFalseNode=caretPosition.getNode()),(isAfterContentEditableFalse$2(caretPosition)||isAfterTable(caretPosition))&&(contentEditableFalseNode=caretPosition.getNode(!0)),!caretClientRect)return null;if(clientX=caretClientRect.left,(closestNextLineRect=findClosestClientRect(nextLinePositions,clientX))&&isContentEditableFalse$11(closestNextLineRect.node))return dist1=Math.abs(clientX-closestNextLineRect.left),dist2=Math.abs(clientX-closestNextLineRect.right),showCaret(direction,editor,closestNextLineRect.node,dist1<dist2);if(contentEditableFalseNode){var caretPositions=function(direction,root,predicateFn,node){var walkFn,isBelowFn,isAboveFn,caretPosition,clientRect,targetClientRect,caretWalker=CaretWalker(root),result=[],line=0,getClientRect=function(caretPosition){return $_bimkbokjdud76lk.last(caretPosition.getClientRects())};1===direction?(walkFn=caretWalker.next,isBelowFn=isBelow,isAboveFn=isAbove,caretPosition=CaretPosition$1.after(node)):(walkFn=caretWalker.prev,isBelowFn=isAbove,isAboveFn=isBelow,caretPosition=CaretPosition$1.before(node)),targetClientRect=getClientRect(caretPosition);do{if(caretPosition.isVisible()&&!isAboveFn(clientRect=getClientRect(caretPosition),targetClientRect)){if(0<result.length&&isBelowFn(clientRect,$_bimkbokjdud76lk.last(result))&&line++,(clientRect=clone$1(clientRect)).position=caretPosition,clientRect.line=line,predicateFn(clientRect))return result;result.push(clientRect)}}while(caretPosition=walkFn(caretPosition));return result}(direction,editor.getBody(),isAboveLine(1),contentEditableFalseNode);if(closestNextLineRect=findClosestClientRect($_bimkbokjdud76lk.filter(caretPositions,isLine(1)),clientX))return renderRangeCaret(editor,closestNextLineRect.position.toRange());if(closestNextLineRect=$_bimkbokjdud76lk.last($_bimkbokjdud76lk.filter(caretPositions,isLine(0))))return renderRangeCaret(editor,closestNextLineRect.position.toRange())}},exitPreBlock=function(editor,direction,range){var pre,newBlock,caretWalker=CaretWalker(editor.getBody()),getNextVisualCaretPosition=$_2zdr8e25jdud76vr.curry(getVisualCaretPosition,caretWalker.next),getPrevVisualCaretPosition=$_2zdr8e25jdud76vr.curry(getVisualCaretPosition,caretWalker.prev);if(range.collapsed&&editor.settings.forced_root_block){if(!(pre=editor.dom.getParent(range.startContainer,"PRE")))return;(1===direction?getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range)):getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range)))||(newBlock=function(editor){var textBlock=editor.dom.create(editor.settings.forced_root_block);return(!$_3faz499jdud76f2.ie||11<=$_3faz499jdud76f2.ie)&&(textBlock.innerHTML='<br data-mce-bogus="1">'),textBlock}(editor),1===direction?editor.$(pre).after(newBlock):editor.$(pre).before(newBlock),editor.selection.select(newBlock,!0),editor.selection.collapse())}},moveH$1=function(editor,forward){return function(){var newRng=function(editor,forward){var newRange,caretWalker=CaretWalker(editor.getBody()),getNextVisualCaretPosition=$_2zdr8e25jdud76vr.curry(getVisualCaretPosition,caretWalker.next),getPrevVisualCaretPosition=$_2zdr8e25jdud76vr.curry(getVisualCaretPosition,caretWalker.prev),direction=forward?HDirection.Forwards:HDirection.Backwards,getNextPosFn=forward?getNextVisualCaretPosition:getPrevVisualCaretPosition,range=editor.selection.getRng();return(newRange=moveToCeFalseHorizontally(direction,editor,getNextPosFn,range))?newRange:(newRange=exitPreBlock(editor,direction,range))||null}(editor,forward);return!!newRng&&(editor.selection.setRng(newRng),!0)}},moveV$1=function(editor,down){return function(){var newRng=function(editor,down){var newRange,direction=down?1:-1,walkerFn=down?downUntil:upUntil,range=editor.selection.getRng();return(newRange=moveToCeFalseVertically(direction,editor,walkerFn,range))?newRange:(newRange=exitPreBlock(editor,direction,range))||null}(editor,down);return!!newRng&&(editor.selection.setRng(newRng),!0)}},match$1=function(patterns,evt){return $_2rdhjp4jdud76b1.bind(function(patterns){return $_2rdhjp4jdud76b1.map(patterns,function(pattern){return $_7bxbte5ujdud77ic.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:$_dree2x6jdud76bv.noop},pattern)})}(patterns),function(pattern){return function(pattern,evt){return evt.keyCode===pattern.keyCode&&evt.shiftKey===pattern.shiftKey&&evt.altKey===pattern.altKey&&evt.ctrlKey===pattern.ctrlKey&&evt.metaKey===pattern.metaKey}(pattern,evt)?[pattern]:[]})},$_75xsl16ljdud77nd_action=function(f){for(var x=[],_i=1;_i<arguments.length;_i++)x[_i-1]=arguments[_i];var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}},$_75xsl16ljdud77nd_execute=function(patterns,evt){return $_2rdhjp4jdud76b1.find(match$1(patterns,evt),function(pattern){return pattern.action()})},$_18rlla6jjdud77n2_setup=function(editor,caret){editor.on("keydown",function(evt){!1===evt.isDefaultPrevented()&&function(editor,caret,evt){var os=$_csimq8mjdud76ly.detect().os;$_75xsl16ljdud77nd_execute([{keyCode:$_482bwm59jdud77ep.RIGHT,action:moveH$1(editor,!0)},{keyCode:$_482bwm59jdud77ep.LEFT,action:moveH$1(editor,!1)},{keyCode:$_482bwm59jdud77ep.UP,action:moveV$1(editor,!1)},{keyCode:$_482bwm59jdud77ep.DOWN,action:moveV$1(editor,!0)},{keyCode:$_482bwm59jdud77ep.RIGHT,action:moveH(editor,!0)},{keyCode:$_482bwm59jdud77ep.LEFT,action:moveH(editor,!1)},{keyCode:$_482bwm59jdud77ep.UP,action:moveV(editor,!1)},{keyCode:$_482bwm59jdud77ep.DOWN,action:moveV(editor,!0)},{keyCode:$_482bwm59jdud77ep.RIGHT,action:$_3wv21c3pjdud7766.move(editor,caret,!0)},{keyCode:$_482bwm59jdud77ep.LEFT,action:$_3wv21c3pjdud7766.move(editor,caret,!1)},{keyCode:$_482bwm59jdud77ep.RIGHT,ctrlKey:!os.isOSX(),altKey:os.isOSX(),action:$_3wv21c3pjdud7766.moveNextWord(editor,caret)},{keyCode:$_482bwm59jdud77ep.LEFT,ctrlKey:!os.isOSX(),altKey:os.isOSX(),action:$_3wv21c3pjdud7766.movePrevWord(editor,caret)}],evt).each(function(_){evt.preventDefault()})}(editor,caret,evt)})},hasOnlyOneChild$1=function(elm){return 1===$_24kyxa17jdud76ok.children(elm).length},deleteCaret$1=function(editor,forward){var rootElm=$_77yl9nyjdud76my.fromDom(editor.getBody()),startElm=$_77yl9nyjdud76my.fromDom(editor.selection.getStart()),parentInlines=$_2rdhjp4jdud76b1.filter(function(rootElm,startElm){var parents=$_2h4haq39jdud772r_parentsAndSelf(startElm,rootElm);return $_2rdhjp4jdud76b1.findIndex(parents,isBlock).fold($_dree2x6jdud76bv.constant(parents),function(index){return parents.slice(0,index)})}(rootElm,startElm),hasOnlyOneChild$1);return $_2rdhjp4jdud76b1.last(parentInlines).map(function(target){var fromPos=CaretPosition$1.fromRangeStart(editor.selection.getRng());return!!$_4xcall2zjdud770z_willDeleteLastPositionInElement(forward,fromPos,target.dom())&&(function(forward,editor,target,parentInlines){var isFormatElement=$_dree2x6jdud76bv.curry($_2s31k33jjdud774z.isFormatElement,editor),formatNodes=$_2rdhjp4jdud76b1.map($_2rdhjp4jdud76b1.filter(parentInlines,isFormatElement),function(elm){return elm.dom()});if(0===formatNodes.length)$_2e54hb3ejdud773j_deleteElement(editor,forward,target);else{var pos=$_2s31k33jjdud774z.replaceWithCaretFormat(target.dom(),formatNodes);editor.selection.setRng(pos.toRange())}}(forward,editor,target,parentInlines),!0)}).getOr(!1)},$_f9t3cw6njdud77nl_backspaceDelete=function(editor,forward){return!!editor.selection.isCollapsed()&&deleteCaret$1(editor,forward)},$_70vhhc6mjdud77ni_setup=function(editor,caret){editor.on("keydown",function(evt){!1===evt.isDefaultPrevented()&&function(editor,caret,evt){$_75xsl16ljdud77nd_execute([{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_bclbcu3bjdud7732_backspaceDelete,editor,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_bclbcu3bjdud7732_backspaceDelete,editor,!0)},{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_68kclm3fjdud773v_backspaceDelete,editor,caret,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_68kclm3fjdud773v_backspaceDelete,editor,caret,!0)},{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_7kqkze3ajdud772v_backspaceDelete,editor,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_7kqkze3ajdud772v_backspaceDelete,editor,!0)},{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_3xfowd2xjdud770p_backspaceDelete,editor,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_3xfowd2xjdud770p_backspaceDelete,editor,!0)},{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_dwy43x3sjdud776g_backspaceDelete,editor,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_dwy43x3sjdud776g_backspaceDelete,editor,!0)},{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_f9t3cw6njdud77nl_backspaceDelete,editor,!1)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_f9t3cw6njdud77nl_backspaceDelete,editor,!0)}],evt).each(function(_){evt.preventDefault()})}(editor,caret,evt)}),editor.on("keyup",function(evt){!1===evt.isDefaultPrevented()&&function(editor,evt){$_75xsl16ljdud77nd_execute([{keyCode:$_482bwm59jdud77ep.BACKSPACE,action:$_75xsl16ljdud77nd_action($_bclbcu3bjdud7732_paddEmptyElement,editor)},{keyCode:$_482bwm59jdud77ep.DELETE,action:$_75xsl16ljdud77nd_action($_bclbcu3bjdud7732_paddEmptyElement,editor)}],evt)}(editor,evt)})},getBodySetting=function(editor,name,defaultValue){var value=editor.getParam(name,defaultValue);if(-1!==value.indexOf("=")){var bodyObj=editor.getParam(name,"","hash");return bodyObj.hasOwnProperty(editor.id)?bodyObj[editor.id]:defaultValue}return value},$_6elqxh6rjdud77su_getIframeAttrs=function(editor){return editor.getParam("iframe_attrs",{})},$_6elqxh6rjdud77su_getDocType=function(editor){return editor.getParam("doctype","<!DOCTYPE html>")},$_6elqxh6rjdud77su_getDocumentBaseUrl=function(editor){return editor.getParam("document_base_url","")},$_6elqxh6rjdud77su_getBodyId=function(editor){return getBodySetting(editor,"body_id","tinymce")},$_6elqxh6rjdud77su_getBodyClass=function(editor){return getBodySetting(editor,"body_class","")},$_6elqxh6rjdud77su_getContentSecurityPolicy=function(editor){return editor.getParam("content_security_policy","")},$_6elqxh6rjdud77su_shouldPutBrInPre=function(editor){return editor.getParam("br_in_pre",!0)},$_6elqxh6rjdud77su_getForcedRootBlock=function(editor){if(editor.getParam("force_p_newlines",!1))return"p";var block=editor.getParam("forced_root_block","p");return!1===block?"":block},$_6elqxh6rjdud77su_getForcedRootBlockAttrs=function(editor){return editor.getParam("forced_root_block_attrs",{})},$_6elqxh6rjdud77su_getBrNewLineSelector=function(editor){return editor.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},$_6elqxh6rjdud77su_getNoNewLineSelector=function(editor){return editor.getParam("no_newline_selector","")},$_6elqxh6rjdud77su_shouldKeepStyles=function(editor){return editor.getParam("keep_styles",!0)},$_6elqxh6rjdud77su_shouldEndContainerOnEmtpyBlock=function(editor){return editor.getParam("end_container_on_empty_block",!1)},getParentBlock$2=function(editor){return Option.from(editor.dom.getParent(editor.selection.getStart(!0),editor.dom.isBlock))},$_1u7nc86tjdud77t5_moveToCaretPosition=function(editor,root){var walker,node,rng,lastNode=root,dom=editor.dom,moveCaretBeforeOnEnterElementsMap=editor.schema.getMoveCaretBeforeOnEnterElements();if(root){if(/^(LI|DT|DD)$/.test(root.nodeName)){var firstChild=function(node){for(;node;){if(1===node.nodeType||3===node.nodeType&&node.data&&/[\r\n\s]/.test(node.data))return node;node=node.nextSibling}}(root.firstChild);firstChild&&/^(UL|OL|DL)$/.test(firstChild.nodeName)&&root.insertBefore(dom.doc.createTextNode("\xa0"),root.firstChild)}if(rng=dom.createRng(),root.normalize(),root.hasChildNodes()){for(walker=new TreeWalker(root,root);node=walker.current();){if($_2nbmh51qjdud76qx.isText(node)){rng.setStart(node,0),rng.setEnd(node,0);break}if(moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]){rng.setStartBefore(node),rng.setEndBefore(node);break}lastNode=node,node=walker.next()}node||(rng.setStart(lastNode,0),rng.setEnd(lastNode,0))}else $_2nbmh51qjdud76qx.isBr(root)?root.nextSibling&&dom.isBlock(root.nextSibling)?(rng.setStartBefore(root),rng.setEndBefore(root)):(rng.setStartAfter(root),rng.setEndAfter(root)):(rng.setStart(root,0),rng.setEnd(root,0));editor.selection.setRng(rng),dom.remove(void 0),editor.selection.scrollIntoView(root)}},$_1u7nc86tjdud77t5_getEditableRoot=function(dom,node){var parent,editableRoot,root=dom.getRoot();for(parent=node;parent!==root&&"false"!==dom.getContentEditable(parent);)"true"===dom.getContentEditable(parent)&&(editableRoot=parent),parent=parent.parentNode;return parent!==root?editableRoot:root},$_1u7nc86tjdud77t5_getParentBlock=getParentBlock$2,$_1u7nc86tjdud77t5_getParentBlockName=function(editor){return getParentBlock$2(editor).fold($_dree2x6jdud76bv.constant(""),function(parentBlock){return parentBlock.nodeName.toUpperCase()})},$_1u7nc86tjdud77t5_isListItemParentBlock=function(editor){return getParentBlock$2(editor).filter(function(elm){return isListItem($_77yl9nyjdud76my.fromDom(elm))}).isSome()},hasParent$1=function(elm,parentName){return elm&&elm.parentNode&&elm.parentNode.nodeName===parentName},isListBlock=function(elm){return elm&&/^(OL|UL|LI)$/.test(elm.nodeName)},getContainerBlock=function(containerBlock){var containerBlockParent=containerBlock.parentNode;return/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)?containerBlockParent:containerBlock},isFirstOrLastLi=function(containerBlock,parentBlock,first){for(var node=containerBlock[first?"firstChild":"lastChild"];node&&!$_2nbmh51qjdud76qx.isElement(node);)node=node[first?"nextSibling":"previousSibling"];return node===parentBlock},$_atv7wk6sjdud77t2_insert=function(editor,createNewBlock,containerBlock,parentBlock,newBlockName){var dom=editor.dom,rng=editor.selection.getRng();if(containerBlock!==editor.getBody()){var elm;isListBlock(elm=containerBlock)&&isListBlock(elm.parentNode)&&(newBlockName="LI");var newBlock=newBlockName?createNewBlock(newBlockName):dom.create("BR");if(isFirstOrLastLi(containerBlock,parentBlock,!0)&&isFirstOrLastLi(containerBlock,parentBlock,!1))hasParent$1(containerBlock,"LI")?dom.insertAfter(newBlock,getContainerBlock(containerBlock)):dom.replace(newBlock,containerBlock);else if(isFirstOrLastLi(containerBlock,parentBlock,!0))hasParent$1(containerBlock,"LI")?(dom.insertAfter(newBlock,getContainerBlock(containerBlock)),newBlock.appendChild(dom.doc.createTextNode(" ")),newBlock.appendChild(containerBlock)):containerBlock.parentNode.insertBefore(newBlock,containerBlock);else if(isFirstOrLastLi(containerBlock,parentBlock,!1))dom.insertAfter(newBlock,getContainerBlock(containerBlock));else{containerBlock=getContainerBlock(containerBlock);var tmpRng=rng.cloneRange();tmpRng.setStartAfter(parentBlock),tmpRng.setEndAfter(containerBlock);var fragment=tmpRng.extractContents();"LI"===newBlockName&&function(elm,name){return elm.firstChild&&elm.firstChild.nodeName===name}(fragment,"LI")?(newBlock=fragment.firstChild,dom.insertAfter(fragment,containerBlock)):(dom.insertAfter(fragment,containerBlock),dom.insertAfter(newBlock,containerBlock))}dom.remove(parentBlock),$_1u7nc86tjdud77t5_moveToCaretPosition(editor,newBlock)}},emptyBlock=function(elm){elm.innerHTML='<br data-mce-bogus="1">'},containerAndSiblingName=function(container,nodeName){return container.nodeName===nodeName||container.previousSibling&&container.previousSibling.nodeName===nodeName},canSplitBlock=function(dom,node){return node&&dom.isBlock(node)&&!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName)&&!/^(fixed|absolute)/i.test(node.style.position)&&"true"!==dom.getContentEditable(node)},normalizeZwspOffset=function(start,container,offset){return!1===$_2nbmh51qjdud76qx.isText(container)?offset:start?1===offset&&container.data.charAt(offset-1)===$_264jtj21jdud76vi_ZWSP?0:offset:offset===container.data.length-1&&container.data.charAt(offset)===$_264jtj21jdud76vi_ZWSP?container.data.length:offset},getEditableRoot$1=function(dom,node){var parent,editableRoot,root=dom.getRoot();for(parent=node;parent!==root&&"false"!==dom.getContentEditable(parent);)"true"===dom.getContentEditable(parent)&&(editableRoot=parent),parent=parent.parentNode;return parent!==root?editableRoot:root},setForcedBlockAttrs=function(editor,node){var forcedRootBlockName=$_6elqxh6rjdud77su_getForcedRootBlock(editor);forcedRootBlockName&&forcedRootBlockName.toLowerCase()===node.tagName.toLowerCase()&&editor.dom.setAttribs(node,$_6elqxh6rjdud77su_getForcedRootBlockAttrs(editor))},$_3e29046qjdud77ny_insert=function(editor,evt){var tmpRng,editableRoot,container,offset,parentBlock,shiftKey,newBlock,fragment,containerBlock,parentBlockName,containerBlockName,newBlockName,isAfterLastNodeInContainer,dom=editor.dom,schema=editor.schema,nonEmptyElementsMap=schema.getNonEmptyElements(),rng=editor.selection.getRng(),createNewBlock=function(name){var block,clonedNode,caretNode,node=container,textInlineElements=schema.getTextInlineElements();if(name||"TABLE"===parentBlockName||"HR"===parentBlockName?(block=dom.create(name||newBlockName),setForcedBlockAttrs(editor,block)):block=parentBlock.cloneNode(!1),caretNode=block,!1===$_6elqxh6rjdud77su_shouldKeepStyles(editor))dom.setAttrib(block,"style",null),dom.setAttrib(block,"class",null);else do{if(textInlineElements[node.nodeName]){if($_2s31k33jjdud774z.isCaretNode(node))continue;clonedNode=node.cloneNode(!1),dom.setAttrib(clonedNode,"id",""),block.hasChildNodes()?clonedNode.appendChild(block.firstChild):caretNode=clonedNode,block.appendChild(clonedNode)}}while((node=node.parentNode)&&node!==editableRoot);return emptyBlock(caretNode),block},isCaretAtStartOrEndOfBlock=function(start){var walker,node,name,normalizedOffset;if(normalizedOffset=normalizeZwspOffset(start,container,offset),$_2nbmh51qjdud76qx.isText(container)&&(start?0<normalizedOffset:normalizedOffset<container.nodeValue.length))return!1;if(container.parentNode===parentBlock&&isAfterLastNodeInContainer&&!start)return!0;if(start&&$_2nbmh51qjdud76qx.isElement(container)&&container===parentBlock.firstChild)return!0;if(containerAndSiblingName(container,"TABLE")||containerAndSiblingName(container,"HR"))return isAfterLastNodeInContainer&&!start||!isAfterLastNodeInContainer&&start;for(walker=new TreeWalker(container,parentBlock),$_2nbmh51qjdud76qx.isText(container)&&(start&&0===normalizedOffset?walker.prev():start||normalizedOffset!==container.nodeValue.length||walker.next());node=walker.current();){if($_2nbmh51qjdud76qx.isElement(node)){if(!node.getAttribute("data-mce-bogus")&&(name=node.nodeName.toLowerCase(),nonEmptyElementsMap[name]&&"br"!==name))return!1}else if($_2nbmh51qjdud76qx.isText(node)&&!/^[ \t\r\n]*$/.test(node.nodeValue))return!1;start?walker.prev():walker.next()}return!0},insertNewBlockAfter=function(){newBlock=/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName)&&"HGROUP"!==containerBlockName?createNewBlock(newBlockName):createNewBlock(),$_6elqxh6rjdud77su_shouldEndContainerOnEmtpyBlock(editor)&&canSplitBlock(dom,containerBlock)&&dom.isEmpty(parentBlock)?newBlock=dom.split(containerBlock,parentBlock):dom.insertAfter(newBlock,parentBlock),$_1u7nc86tjdud77t5_moveToCaretPosition(editor,newBlock)};$_3e2aut3xjdud777p.normalize(dom,rng).each(function(normRng){rng.setStart(normRng.startContainer,normRng.startOffset),rng.setEnd(normRng.endContainer,normRng.endOffset)}),container=rng.startContainer,offset=rng.startOffset,newBlockName=$_6elqxh6rjdud77su_getForcedRootBlock(editor),shiftKey=evt.shiftKey,$_2nbmh51qjdud76qx.isElement(container)&&container.hasChildNodes()&&(isAfterLastNodeInContainer=offset>container.childNodes.length-1,container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container,offset=isAfterLastNodeInContainer&&$_2nbmh51qjdud76qx.isText(container)?container.nodeValue.length:0),(editableRoot=getEditableRoot$1(dom,container))&&((newBlockName&&!shiftKey||!newBlockName&&shiftKey)&&(container=function(editor,newBlockName,rng,container,offset){var newBlock,parentBlock,startNode,node,next,rootBlockName,blockName=newBlockName||"P",dom=editor.dom,editableRoot=getEditableRoot$1(dom,container);if(!(parentBlock=dom.getParent(container,dom.isBlock))||!canSplitBlock(dom,parentBlock)){if(rootBlockName=(parentBlock=parentBlock||editableRoot)===editor.getBody()||function(node){return node&&/^(TD|TH|CAPTION)$/.test(node.nodeName)}(parentBlock)?parentBlock.nodeName.toLowerCase():parentBlock.parentNode.nodeName.toLowerCase(),!parentBlock.hasChildNodes())return newBlock=dom.create(blockName),setForcedBlockAttrs(editor,newBlock),parentBlock.appendChild(newBlock),rng.setStart(newBlock,0),rng.setEnd(newBlock,0),newBlock;for(node=container;node.parentNode!==parentBlock;)node=node.parentNode;for(;node&&!dom.isBlock(node);)node=(startNode=node).previousSibling;if(startNode&&editor.schema.isValidChild(rootBlockName,blockName.toLowerCase())){for(newBlock=dom.create(blockName),setForcedBlockAttrs(editor,newBlock),startNode.parentNode.insertBefore(newBlock,startNode),node=startNode;node&&!dom.isBlock(node);)next=node.nextSibling,newBlock.appendChild(node),node=next;rng.setStart(container,offset),rng.setEnd(container,offset)}}return container}(editor,newBlockName,rng,container,offset)),parentBlock=dom.getParent(container,dom.isBlock),containerBlock=parentBlock?dom.getParent(parentBlock.parentNode,dom.isBlock):null,parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase():"","LI"!==(containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():"")||evt.ctrlKey||(containerBlock=(parentBlock=containerBlock).parentNode,parentBlockName=containerBlockName),/^(LI|DT|DD)$/.test(parentBlockName)&&dom.isEmpty(parentBlock)?$_atv7wk6sjdud77t2_insert(editor,createNewBlock,containerBlock,parentBlock,newBlockName):newBlockName&&parentBlock===editor.getBody()||(newBlockName=newBlockName||"P",isCaretContainerBlock(parentBlock)?(newBlock=showCaretContainerBlock(parentBlock),dom.isEmpty(parentBlock)&&emptyBlock(parentBlock),$_1u7nc86tjdud77t5_moveToCaretPosition(editor,newBlock)):isCaretAtStartOrEndOfBlock()?insertNewBlockAfter():isCaretAtStartOrEndOfBlock(!0)?(newBlock=parentBlock.parentNode.insertBefore(createNewBlock(),parentBlock),$_1u7nc86tjdud77t5_moveToCaretPosition(editor,containerAndSiblingName(parentBlock,"HR")?newBlock:parentBlock)):((tmpRng=function(rng){var newRng=rng.cloneRange();return newRng.setStart(rng.startContainer,normalizeZwspOffset(!0,rng.startContainer,rng.startOffset)),newRng.setEnd(rng.endContainer,normalizeZwspOffset(!1,rng.endContainer,rng.endOffset)),newRng}(rng).cloneRange()).setEndAfter(parentBlock),function(node){for(;$_2nbmh51qjdud76qx.isText(node)&&(node.nodeValue=node.nodeValue.replace(/^[\r\n]+/,"")),node=node.firstChild;);}(fragment=tmpRng.extractContents()),newBlock=fragment.firstChild,dom.insertAfter(fragment,parentBlock),function(dom,nonEmptyElementsMap,block){var i,node=block,firstChilds=[];if(node){for(;node=node.firstChild;){if(dom.isBlock(node))return;$_2nbmh51qjdud76qx.isElement(node)&&!nonEmptyElementsMap[node.nodeName.toLowerCase()]&&firstChilds.push(node)}for(i=firstChilds.length;i--;)!(node=firstChilds[i]).hasChildNodes()||node.firstChild===node.lastChild&&""===node.firstChild.nodeValue?dom.remove(node):(elm=node)&&"A"===elm.nodeName&&0===$_1qam7ujjdud76lb.trim($_264jtj21jdud76vi_trim(elm.innerText||elm.textContent)).length&&dom.remove(node);var elm}}(dom,nonEmptyElementsMap,newBlock),function(dom,block){var lastChild;block.normalize(),(lastChild=block.lastChild)&&!/^(left|right)$/gi.test(dom.getStyle(lastChild,"float",!0))||dom.add(block,"br")}(dom,parentBlock),dom.isEmpty(parentBlock)&&emptyBlock(parentBlock),newBlock.normalize(),dom.isEmpty(newBlock)?(dom.remove(newBlock),insertNewBlockAfter()):$_1u7nc86tjdud77t5_moveToCaretPosition(editor,newBlock)),dom.setAttrib(newBlock,"id",""),editor.fire("NewBlock",{newBlock:newBlock})))},matchesSelector=function(editor,selector){return $_1u7nc86tjdud77t5_getParentBlock(editor).filter(function(parentBlock){return 0<selector.length&&$_1jloty1fjdud76pi.is($_77yl9nyjdud76my.fromDom(parentBlock),selector)}).isSome()},$_4h8dnp6vjdud77th_shouldInsertBr=function(editor){return matchesSelector(editor,$_6elqxh6rjdud77su_getBrNewLineSelector(editor))},$_4h8dnp6vjdud77th_shouldBlockNewLine=function(editor){return matchesSelector(editor,$_6elqxh6rjdud77su_getNoNewLineSelector(editor))},newLineAction=$_arwvrq3djdud773f_generate([{br:[]},{block:[]},{none:[]}]),shouldBlockNewLine$1=function(editor,shiftKey){return $_4h8dnp6vjdud77th_shouldBlockNewLine(editor)},isBrMode=function(requiredState){return function(editor,shiftKey){return""===$_6elqxh6rjdud77su_getForcedRootBlock(editor)===requiredState}},inListBlock=function(requiredState){return function(editor,shiftKey){return $_1u7nc86tjdud77t5_isListItemParentBlock(editor)===requiredState}},inPreBlock=function(requiredState){return function(editor,shiftKey){return"PRE"===$_1u7nc86tjdud77t5_getParentBlockName(editor)===requiredState}},shouldPutBrInPre$1=function(requiredState){return function(editor,shiftKey){return $_6elqxh6rjdud77su_shouldPutBrInPre(editor)===requiredState}},inBrContext=function(editor,shiftKey){return $_4h8dnp6vjdud77th_shouldInsertBr(editor)},hasShiftKey=function(editor,shiftKey){return shiftKey},canInsertIntoEditableRoot=function(editor){var forcedRootBlock=$_6elqxh6rjdud77su_getForcedRootBlock(editor),rootEditable=$_1u7nc86tjdud77t5_getEditableRoot(editor.dom,editor.selection.getStart());return rootEditable&&editor.schema.isValidChild(rootEditable.nodeName,forcedRootBlock||"P")},match$2=function(predicates,action){return function(editor,shiftKey){return $_2rdhjp4jdud76b1.foldl(predicates,function(res,p){return res&&p(editor,shiftKey)},!0)?Option.some(action):Option.none()}},$_d4zo186ujdud77tc_getAction=function(editor,evt){return $_1shjmf3ojdud7764_evaluateUntil([match$2([shouldBlockNewLine$1],newLineAction.none()),match$2([inPreBlock(!0),shouldPutBrInPre$1(!1),hasShiftKey],newLineAction.br()),match$2([inPreBlock(!0),shouldPutBrInPre$1(!1)],newLineAction.block()),match$2([inPreBlock(!0),shouldPutBrInPre$1(!0),hasShiftKey],newLineAction.block()),match$2([inPreBlock(!0),shouldPutBrInPre$1(!0)],newLineAction.br()),match$2([inListBlock(!0),hasShiftKey],newLineAction.br()),match$2([inListBlock(!0)],newLineAction.block()),match$2([isBrMode(!0),hasShiftKey,canInsertIntoEditableRoot],newLineAction.block()),match$2([isBrMode(!0)],newLineAction.br()),match$2([inBrContext],newLineAction.br()),match$2([isBrMode(!1),hasShiftKey],newLineAction.br()),match$2([canInsertIntoEditableRoot],newLineAction.block())],[editor,evt.shiftKey]).getOr(newLineAction.none())},$_7cs2ml6pjdud77nt_insert=function(editor,evt){$_d4zo186ujdud77tc_getAction(editor,evt).fold(function(){$_bvotky3wjdud777h.insert(editor,evt)},function(){$_3e29046qjdud77ny_insert(editor,evt)},$_dree2x6jdud76bv.noop)},$_20x51e6ojdud77nr_setup=function(editor){editor.on("keydown",function(event){event.keyCode===$_482bwm59jdud77ep.ENTER&&function(editor,event){var undoManager;event.isDefaultPrevented()||(event.preventDefault(),(undoManager=editor.undoManager).typing&&(undoManager.typing=!1,undoManager.add()),editor.undoManager.transact(function(){!1===editor.selection.isCollapsed()&&editor.execCommand("Delete"),$_7cs2ml6pjdud77nt_insert(editor,event)}))}(editor,event)})},insertAtLocation=function(editor,caretPosition,location){return!!function(location,caretPosition){return isAtStartOrEnd(location)&&$_2nbmh51qjdud76qx.isText(caretPosition.container())}(location,caretPosition)&&(function(editor,caretPosition){var container=caretPosition.container(),offset=caretPosition.offset();container.insertData(offset,"\xa0"),editor.selection.setCursorLocation(container,offset+1)}(editor,caretPosition),!0)},isAtStartOrEnd=function(location){return location.fold($_dree2x6jdud76bv.constant(!1),$_dree2x6jdud76bv.constant(!0),$_dree2x6jdud76bv.constant(!0),$_dree2x6jdud76bv.constant(!1))},$_6wtd066xjdud77tl_insertAtSelection=function(editor){return!!editor.selection.isCollapsed()&&function(editor){var isInlineTarget=$_dree2x6jdud76bv.curry($_f5vhlo32jdud771g.isInlineTarget,editor),caretPosition=CaretPosition$1.fromRangeStart(editor.selection.getRng());return $_1xun63ijdud774a_readLocation(isInlineTarget,editor.getBody(),caretPosition).map($_dree2x6jdud76bv.curry(insertAtLocation,editor,caretPosition)).getOr(!1)}(editor)},$_1bg4mz6wjdud77tk_setup=function(editor){editor.on("keydown",function(evt){!1===evt.isDefaultPrevented()&&function(editor,evt){$_75xsl16ljdud77nd_execute([{keyCode:$_482bwm59jdud77ep.SPACEBAR,action:$_75xsl16ljdud77nd_action($_6wtd066xjdud77tl_insertAtSelection,editor)}],evt).each(function(_){evt.preventDefault()})}(editor,evt)})},$_e8lw5h6ijdud77n1_setup=function(editor){var caret=$_3wv21c3pjdud7766.setupSelectedState(editor);$_18rlla6jjdud77n2_setup(editor,caret),$_70vhhc6mjdud77ni_setup(editor,caret),$_20x51e6ojdud77nr_setup(editor),$_1bg4mz6wjdud77tk_setup(editor)};function Quirks(editor){var serializeRng,getAttributeApplyFunction,isSelectionAcrossElements,each=$_1qam7ujjdud76lb.each,BACKSPACE=$_482bwm59jdud77ep.BACKSPACE,DELETE=$_482bwm59jdud77ep.DELETE,dom=editor.dom,selection=editor.selection,settings=editor.settings,parser=editor.parser,isGecko=$_3faz499jdud76f2.gecko,isIE=$_3faz499jdud76f2.ie,isWebKit=$_3faz499jdud76f2.webkit,mceInternalDataType=isIE?"Text":"URL",setEditorCommandState=function(cmd,state){try{editor.getDoc().execCommand(cmd,!1,state)}catch(ex){}},isDefaultPrevented=function(e){return e.isDefaultPrevented()},selectAll=function(){editor.shortcuts.add("meta+a",null,"SelectAll")},disableBackspaceIntoATable=function(){editor.on("keydown",function(e){if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE&&selection.isCollapsed()&&0===selection.getRng().startOffset){var previousSibling=selection.getNode().previousSibling;if(previousSibling&&previousSibling.nodeName&&"table"===previousSibling.nodeName.toLowerCase())return e.preventDefault(),!1}})},bodyHeight=function(){editor.inline||(editor.contentStyles.push("body {min-height: 150px}"),editor.on("click",function(e){var rng;if("HTML"===e.target.nodeName){if(11<$_3faz499jdud76f2.ie)return void editor.getBody().focus();rng=editor.selection.getRng(),editor.getBody().focus(),editor.selection.setRng(rng),editor.selection.normalize(),editor.nodeChanged()}}))};return editor.on("keydown",function(e){var rng,container,offset,root,parent;if(!isDefaultPrevented(e)&&e.keyCode===$_482bwm59jdud77ep.BACKSPACE&&(container=(rng=selection.getRng()).startContainer,offset=rng.startOffset,root=dom.getRoot(),parent=container,rng.collapsed&&0===offset)){for(;parent&&parent.parentNode&&parent.parentNode.firstChild===parent&&parent.parentNode!==root;)parent=parent.parentNode;"BLOCKQUOTE"===parent.tagName&&(editor.formatter.toggle("blockquote",null,parent),(rng=dom.createRng()).setStart(container,0),rng.setEnd(container,0),selection.setRng(rng))}}),serializeRng=function(rng){var body=dom.create("body"),contents=rng.cloneContents();return body.appendChild(contents),selection.serializer.serialize(body,{format:"html"})},editor.on("keydown",function(e){var isCollapsed,body,rng,selection,allRng,keyCode=e.keyCode;if(!isDefaultPrevented(e)&&(keyCode===DELETE||keyCode===BACKSPACE)){if(isCollapsed=editor.selection.isCollapsed(),body=editor.getBody(),isCollapsed&&!dom.isEmpty(body))return;if(!isCollapsed&&(rng=editor.selection.getRng(),selection=serializeRng(rng),(allRng=dom.createRng()).selectNode(editor.getBody()),selection!==serializeRng(allRng)))return;e.preventDefault(),editor.setContent(""),body.firstChild&&dom.isBlock(body.firstChild)?editor.selection.setCursorLocation(body.firstChild,0):editor.selection.setCursorLocation(body,0),editor.nodeChanged()}}),$_3faz499jdud76f2.windowsPhone||editor.on("keyup focusin mouseup",function(e){$_482bwm59jdud77ep.modifierPressed(e)||selection.normalize()},!0),isWebKit&&(editor.settings.content_editable||dom.bind(editor.getDoc(),"mousedown mouseup",function(e){var rng;if(e.target===editor.getDoc().documentElement)if(rng=selection.getRng(),editor.getBody().focus(),"mousedown"===e.type){if(isCaretContainer(rng.startContainer))return;selection.placeCaretAt(e.clientX,e.clientY)}else selection.setRng(rng)}),editor.on("click",function(e){var target=e.target;/^(IMG|HR)$/.test(target.nodeName)&&"false"!==dom.getContentEditableParent(target)&&(e.preventDefault(),editor.selection.select(target),editor.nodeChanged()),"A"===target.nodeName&&dom.hasClass(target,"mce-item-anchor")&&(e.preventDefault(),selection.select(target))}),settings.forced_root_block&&editor.on("init",function(){setEditorCommandState("DefaultParagraphSeparator",settings.forced_root_block)}),editor.on("init",function(){editor.dom.bind(editor.getBody(),"submit",function(e){e.preventDefault()})}),disableBackspaceIntoATable(),parser.addNodeFilter("br",function(nodes){for(var i=nodes.length;i--;)"Apple-interchange-newline"===nodes[i].attr("class")&&nodes[i].remove()}),$_3faz499jdud76f2.iOS?(editor.inline||editor.on("keydown",function(){document.activeElement===document.body&&editor.getWin().focus()}),bodyHeight(),editor.on("click",function(e){var elm=e.target;do{if("A"===elm.tagName)return void e.preventDefault()}while(elm=elm.parentNode)}),editor.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):selectAll()),11<=$_3faz499jdud76f2.ie&&(bodyHeight(),disableBackspaceIntoATable()),$_3faz499jdud76f2.ie&&(selectAll(),setEditorCommandState("AutoUrlDetect",!1),editor.on("dragstart",function(e){!function(e){var selectionHtml,internalContent;e.dataTransfer&&(editor.selection.isCollapsed()&&"IMG"===e.target.tagName&&selection.select(e.target),0<(selectionHtml=editor.selection.getContent()).length&&(internalContent="data:text/mce-internal,"+escape(editor.id)+","+escape(selectionHtml),e.dataTransfer.setData(mceInternalDataType,internalContent)))}(e)}),editor.on("drop",function(e){if(!isDefaultPrevented(e)){var internalContent=function(e){var internalContent;return e.dataTransfer&&(internalContent=e.dataTransfer.getData(mceInternalDataType))&&0<=internalContent.indexOf("data:text/mce-internal,")?(internalContent=internalContent.substr("data:text/mce-internal,".length).split(","),{id:unescape(internalContent[0]),html:unescape(internalContent[1])}):null}(e);if(internalContent&&internalContent.id!==editor.id){e.preventDefault();var rng=$_9th3ro68jdud77l2.fromPoint(e.x,e.y,editor.getDoc());selection.setRng(rng),content=internalContent.html,internal=!0,editor.queryCommandSupported("mceInsertClipboardContent")?editor.execCommand("mceInsertClipboardContent",!1,{content:content,internal:internal}):editor.execCommand("mceInsertContent",!1,content)}}var content,internal})),isGecko&&(editor.on("keydown",function(e){if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE){if(!editor.getBody().getElementsByTagName("hr").length)return;if(selection.isCollapsed()&&0===selection.getRng().startOffset){var node=selection.getNode(),previousSibling=node.previousSibling;if("HR"===node.nodeName)return dom.remove(node),void e.preventDefault();previousSibling&&previousSibling.nodeName&&"hr"===previousSibling.nodeName.toLowerCase()&&(dom.remove(previousSibling),e.preventDefault())}}}),Range.prototype.getClientRects||editor.on("mousedown",function(e){if(!isDefaultPrevented(e)&&"HTML"===e.target.nodeName){var body_1=editor.getBody();body_1.blur(),$_8b7b3gjdud76ig.setEditorTimeout(editor,function(){body_1.focus()})}}),getAttributeApplyFunction=function(){var template=dom.getAttribs(selection.getStart().cloneNode(!1));return function(){var target=selection.getStart();target!==editor.getBody()&&(dom.setAttrib(target,"style",null),each(template,function(attr){target.setAttributeNode(attr.cloneNode(!0))}))}},isSelectionAcrossElements=function(){return!selection.isCollapsed()&&dom.getParent(selection.getStart(),dom.isBlock)!==dom.getParent(selection.getEnd(),dom.isBlock)},editor.on("keypress",function(e){var applyAttributes;if(!isDefaultPrevented(e)&&(8===e.keyCode||46===e.keyCode)&&isSelectionAcrossElements())return applyAttributes=getAttributeApplyFunction(),editor.getDoc().execCommand("delete",!1,null),applyAttributes(),e.preventDefault(),!1}),dom.bind(editor.getDoc(),"cut",function(e){var applyAttributes;!isDefaultPrevented(e)&&isSelectionAcrossElements()&&(applyAttributes=getAttributeApplyFunction(),$_8b7b3gjdud76ig.setEditorTimeout(editor,function(){applyAttributes()}))}),settings.readonly||editor.on("BeforeExecCommand MouseDown",function(){setEditorCommandState("StyleWithCSS",!1),setEditorCommandState("enableInlineTableEditing",!1),settings.object_resizing||setEditorCommandState("enableObjectResizing",!1)}),editor.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||each(dom.select("a"),function(node){var parentNode=node.parentNode,root=dom.getRoot();if(parentNode.lastChild===node){for(;parentNode&&!dom.isBlock(parentNode);){if(parentNode.parentNode.lastChild!==parentNode||parentNode===root)return;parentNode=parentNode.parentNode}dom.add(parentNode,"br",{"data-mce-bogus":1})}})}),editor.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),$_3faz499jdud76f2.mac&&editor.on("keydown",function(e){!$_482bwm59jdud77ep.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),editor.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),disableBackspaceIntoATable()),{refreshContentEditable:function(){},isHidden:function(){var sel;return!isGecko||editor.removed?0:!(sel=editor.selection.getSel())||!sel.rangeCount||0===sel.rangeCount}}}var DOM$2=DOMUtils.DOM,initEditor=function(editor){editor.bindPendingEventDelegates(),editor.initialized=!0,editor.fire("init"),editor.focus(!0),editor.nodeChanged({initial:!0}),editor.execCallback("init_instance_callback",editor),function(editor){editor.settings.auto_focus&&$_8b7b3gjdud76ig.setEditorTimeout(editor,function(){var focusEditor;(focusEditor=!0===editor.settings.auto_focus?editor:editor.editorManager.get(editor.settings.auto_focus)).destroyed||focusEditor.focus()},100)}(editor)},$_81nqu44ljdud77b0_initContentBody=function(editor,skipWrite){var body,contentCssText,settings=editor.settings,targetElm=editor.getElement(),doc=editor.getDoc();settings.inline||(editor.getElement().style.visibility=editor.orgVisibility),skipWrite||settings.content_editable||(doc.open(),doc.write(editor.iframeHTML),doc.close()),settings.content_editable&&(editor.on("remove",function(){var bodyEl=this.getBody();DOM$2.removeClass(bodyEl,"mce-content-body"),DOM$2.removeClass(bodyEl,"mce-edit-focus"),DOM$2.setAttrib(bodyEl,"contentEditable",null)}),DOM$2.addClass(targetElm,"mce-content-body"),editor.contentDocument=doc=settings.content_document||document,editor.contentWindow=settings.content_window||window,editor.bodyElement=targetElm,settings.content_document=settings.content_window=null,settings.root_name=targetElm.nodeName.toLowerCase()),(body=editor.getBody()).disabled=!0,editor.readonly=settings.readonly,editor.readonly||(editor.inline&&"static"===DOM$2.getStyle(body,"position",!0)&&(body.style.position="relative"),body.contentEditable=editor.getParam("content_editable_state",!0)),body.disabled=!1,editor.editorUpload=EditorUpload(editor),editor.schema=Schema(settings),editor.dom=new DOMUtils(doc,{keep_values:!0,url_converter:editor.convertURL,url_converter_scope:editor,hex_colors:settings.force_hex_style_colors,class_filter:settings.class_filter,update_styles:!0,root_element:editor.inline?editor.getBody():null,collect:settings.content_editable,schema:editor.schema,onSetAttrib:function(e){editor.fire("SetAttrib",e)}}),editor.parser=function(editor){var parser=DomParser(editor.settings,editor.schema);return parser.addAttributeFilter("src,href,style,tabindex",function(nodes,name){for(var node,value,internalName,i=nodes.length,dom=editor.dom;i--;)if(value=(node=nodes[i]).attr(name),internalName="data-mce-"+name,!node.attributes.map[internalName]){if(0===value.indexOf("data:")||0===value.indexOf("blob:"))continue;"style"===name?((value=dom.serializeStyle(dom.parseStyle(value),node.name)).length||(value=null),node.attr(internalName,value),node.attr(name,value)):"tabindex"===name?(node.attr(internalName,value),node.attr(name,null)):node.attr(internalName,editor.convertURL(value,name,node.name))}}),parser.addNodeFilter("script",function(nodes){for(var node,type,i=nodes.length;i--;)0!==(type=(node=nodes[i]).attr("type")||"no/type").indexOf("mce-")&&node.attr("type","mce-"+type)}),parser.addNodeFilter("#cdata",function(nodes){for(var node,i=nodes.length;i--;)(node=nodes[i]).type=8,node.name="#comment",node.value="[CDATA["+node.value+"]]"}),parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(nodes){for(var node,i=nodes.length,nonEmptyElements=editor.schema.getNonEmptyElements();i--;)(node=nodes[i]).isEmpty(nonEmptyElements)&&0===node.getAll("br").length&&(node.append(new Node$2("br",1)).shortEnded=!0)}),parser}(editor),editor.serializer=DomSerializer$1(settings,editor),editor.selection=Selection$1(editor.dom,editor.getWin(),editor.serializer,editor),editor.formatter=Formatter(editor),editor.undoManager=UndoManager(editor),editor._nodeChangeDispatcher=new NodeChange(editor),editor._selectionOverrides=SelectionOverrides(editor),$_4ak32g63jdud77jk_setup(editor),$_e8lw5h6ijdud77n1_setup(editor),$_wkflh4yjdud77cx_setup(editor),editor.fire("PreInit"),settings.browser_spellcheck||settings.gecko_spellcheck||(doc.body.spellcheck=!1,DOM$2.setAttrib(body,"spellcheck","false")),editor.quirks=Quirks(editor),editor.fire("PostRender"),settings.directionality&&(body.dir=settings.directionality),settings.nowrap&&(body.style.whiteSpace="nowrap"),settings.protect&&editor.on("BeforeSetContent",function(e){$_1qam7ujjdud76lb.each(settings.protect,function(pattern){e.content=e.content.replace(pattern,function(str){return"\x3c!--mce:protected "+escape(str)+"--\x3e"})})}),editor.on("SetContent",function(){editor.addVisual(editor.getBody())}),settings.padd_empty_editor&&editor.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),editor.load({initial:!0,format:"html"}),editor.startContent=editor.getContent({format:"raw"}),editor.on("compositionstart compositionend",function(e){editor.composing="compositionstart"===e.type}),0<editor.contentStyles.length&&(contentCssText="",$_1qam7ujjdud76lb.each(editor.contentStyles,function(style){contentCssText+=style+"\r\n"}),editor.dom.addStyle(contentCssText)),function(editor){return editor.inline?DOM$2.styleSheetLoader:editor.dom.styleSheetLoader}(editor).loadAll(editor.contentCSS,function(_){initEditor(editor)},function(urls){initEditor(editor)}),settings.content_style&&function(editor,text){var head=$_77yl9nyjdud76my.fromDom(editor.getDoc().head),tag=$_77yl9nyjdud76my.fromTag("style");$_65a84n14jdud76o8.set(tag,"type","text/css"),$_y9e9r2ojdud76zq.append(tag,$_77yl9nyjdud76my.fromText(text)),$_y9e9r2ojdud76zq.append(head,tag)}(editor,settings.content_style)},DOM$3=DOMUtils.DOM,createIframe=function(editor,o){var title=editor.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),ifr=function(id,title,height,customAttrs){var iframe=$_77yl9nyjdud76my.fromTag("iframe");return $_65a84n14jdud76o8.setAll(iframe,customAttrs),$_65a84n14jdud76o8.setAll(iframe,{id:id+"_ifr",frameBorder:"0",allowTransparency:"true",title:title}),$_by3z2k11jdud76nl_setAll(iframe,{width:"100%",height:function(height){var normalizedHeight="number"==typeof height?height+"px":height;return normalizedHeight||""}(height),display:"block"}),iframe}(editor.id,title,o.height,$_6elqxh6rjdud77su_getIframeAttrs(editor)).dom();ifr.onload=function(){ifr.onload=null,editor.fire("load")};var isDomainRelaxed=function(editor,ifr){if(document.domain!==window.location.hostname&&$_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<12){var bodyUuid=$_94elg04wjdud77ct.uuid("mce");editor[bodyUuid]=function(){$_81nqu44ljdud77b0_initContentBody(editor)};var domainRelaxUrl='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+editor.id+'");document.write(ed.iframeHTML);document.close();ed.'+bodyUuid+"(true);})()";return DOM$3.setAttrib(ifr,"src",domainRelaxUrl),!0}return!1}(editor,ifr);return editor.contentAreaContainer=o.iframeContainer,editor.iframeElement=ifr,editor.iframeHTML=function(editor){var bodyId,bodyClass,iframeHTML;return iframeHTML=$_6elqxh6rjdud77su_getDocType(editor)+"<html><head>",$_6elqxh6rjdud77su_getDocumentBaseUrl(editor)!==editor.documentBaseUrl&&(iframeHTML+='<base href="'+editor.documentBaseURI.getURI()+'" />'),iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',bodyId=$_6elqxh6rjdud77su_getBodyId(editor),bodyClass=$_6elqxh6rjdud77su_getBodyClass(editor),$_6elqxh6rjdud77su_getContentSecurityPolicy(editor)&&(iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+$_6elqxh6rjdud77su_getContentSecurityPolicy(editor)+'" />'),iframeHTML+='</head><body id="'+bodyId+'" class="mce-content-body '+bodyClass+'" data-id="'+editor.id+'"><br></body></html>'}(editor),DOM$3.add(o.iframeContainer,ifr),isDomainRelaxed},$_7n2v8x6zjdud77u2_init=function(editor,boxInfo){var isDomainRelaxed=createIframe(editor,boxInfo);boxInfo.editorContainer&&(DOM$3.get(boxInfo.editorContainer).style.display=editor.orgDisplay,editor.hidden=DOM$3.isHidden(boxInfo.editorContainer)),editor.getElement().style.display="none",DOM$3.setAttrib(editor.id,"aria-hidden",!0),isDomainRelaxed||$_81nqu44ljdud77b0_initContentBody(editor)},DOM$4=DOMUtils.DOM,initPlugin=function(editor,initializedPlugins,plugin){var pluginUrl,pluginInstance,Plugin=PluginManager$1.get(plugin);if(pluginUrl=PluginManager$1.urls[plugin]||editor.documentBaseUrl.replace(/\/$/,""),plugin=$_1qam7ujjdud76lb.trim(plugin),Plugin&&-1===$_1qam7ujjdud76lb.inArray(initializedPlugins,plugin)){if($_1qam7ujjdud76lb.each(PluginManager$1.dependencies(plugin),function(dep){initPlugin(editor,initializedPlugins,dep)}),editor.plugins[plugin])return;pluginInstance=new Plugin(editor,pluginUrl,editor.$),(editor.plugins[plugin]=pluginInstance).init&&(pluginInstance.init(editor,pluginUrl),initializedPlugins.push(plugin))}},trimLegacyPrefix=function(name){return name.replace(/^\-/,"")},createThemeFalseResult=function(element){return{editorContainer:element,iframeContainer:element}},renderThemeFalse=function(editor){var targetElement=editor.getElement();return editor.inline?createThemeFalseResult(null):function(targetElement){var iframeContainer=DOM$4.create("div");return DOM$4.insertAfter(iframeContainer,targetElement),createThemeFalseResult(iframeContainer)}(targetElement)},renderThemeUi=function(editor){var settings=editor.settings,elm=editor.getElement();return editor.orgDisplay=elm.style.display,$_c9rr1612jdud76o1.isString(settings.theme)?function(editor){var w,h,minHeight,re,info,settings=editor.settings,elm=editor.getElement();return w=settings.width||DOM$4.getStyle(elm,"width")||"100%",h=settings.height||DOM$4.getStyle(elm,"height")||elm.offsetHeight,minHeight=settings.min_height||100,(re=/^[0-9\.]+(|px)$/i).test(""+w)&&(w=Math.max(parseInt(w,10),100)),re.test(""+h)&&(h=Math.max(parseInt(h,10),minHeight)),info=editor.theme.renderUI({targetNode:elm,width:w,height:h,deltaWidth:settings.delta_width,deltaHeight:settings.delta_height}),settings.content_editable||(h=(info.iframeHeight||h)+("number"==typeof h?info.deltaHeight||0:""))<minHeight&&(h=minHeight),info.height=h,info}(editor):$_c9rr1612jdud76o1.isFunction(settings.theme)?function(editor){var info,elm=editor.getElement();return(info=editor.settings.theme(editor,elm)).editorContainer.nodeType&&(info.editorContainer.id=info.editorContainer.id||editor.id+"_parent"),info.iframeContainer&&info.iframeContainer.nodeType&&(info.iframeContainer.id=info.iframeContainer.id||editor.id+"_iframecontainer"),info.height=info.iframeHeight?info.iframeHeight:elm.offsetHeight,info}(editor):renderThemeFalse(editor)},$_9cxyid4ijdud77as_init=function(editor){var boxInfo,settings=editor.settings,elm=editor.getElement();return editor.rtl=settings.rtl_ui||editor.editorManager.i18n.rtl,editor.editorManager.i18n.setCode(settings.language),settings.aria_label=settings.aria_label||DOM$4.getAttrib(elm,"aria-label",editor.getLang("aria.rich_text_area")),editor.fire("ScriptsLoaded"),function(editor){var Theme,theme=editor.settings.theme;$_c9rr1612jdud76o1.isString(theme)?(editor.settings.theme=trimLegacyPrefix(theme),Theme=ThemeManager.get(theme),editor.theme=new Theme(editor,ThemeManager.urls[theme]),editor.theme.init&&editor.theme.init(editor,ThemeManager.urls[theme]||editor.documentBaseUrl.replace(/\/$/,""),editor.$)):editor.theme={}}(editor),function(editor){var initializedPlugins=[];$_1qam7ujjdud76lb.each(editor.settings.plugins.split(/[ ,]/),function(name){initPlugin(editor,initializedPlugins,trimLegacyPrefix(name))})}(editor),boxInfo=renderThemeUi(editor),editor.editorContainer=boxInfo.editorContainer?boxInfo.editorContainer:null,settings.content_css&&$_1qam7ujjdud76lb.each($_1qam7ujjdud76lb.explode(settings.content_css),function(u){editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u))}),settings.content_editable?$_81nqu44ljdud77b0_initContentBody(editor):$_7n2v8x6zjdud77u2_init(editor,boxInfo)},DOM$5=DOMUtils.DOM,hasSkipLoadPrefix=function(name){return"-"===name.charAt(0)},loadScripts=function(editor,suffix){var scriptLoader=ScriptLoader.ScriptLoader;!function(scriptLoader,editor,suffix,callback){var settings=editor.settings,theme=settings.theme;if($_c9rr1612jdud76o1.isString(theme)){if(!hasSkipLoadPrefix(theme)&&!ThemeManager.urls.hasOwnProperty(theme)){var themeUrl=settings.theme_url;themeUrl?ThemeManager.load(theme,editor.documentBaseURI.toAbsolute(themeUrl)):ThemeManager.load(theme,"themes/"+theme+"/theme"+suffix+".js")}scriptLoader.loadQueue(function(){ThemeManager.waitFor(theme,callback)})}else callback()}(scriptLoader,editor,suffix,function(){!function(scriptLoader,editor){var settings=editor.settings;settings.language&&"en"!==settings.language&&!settings.language_url&&(settings.language_url=editor.editorManager.baseURL+"/langs/"+settings.language+".js"),settings.language_url&&!editor.editorManager.i18n.data[settings.language]&&scriptLoader.add(settings.language_url)}(scriptLoader,editor),function(settings,suffix){$_1qam7ujjdud76lb.isArray(settings.plugins)&&(settings.plugins=settings.plugins.join(" ")),$_1qam7ujjdud76lb.each(settings.external_plugins,function(url,name){PluginManager$1.load(name,url),settings.plugins+=" "+name}),$_1qam7ujjdud76lb.each(settings.plugins.split(/[ ,]/),function(plugin){if((plugin=$_1qam7ujjdud76lb.trim(plugin))&&!PluginManager$1.urls[plugin])if(hasSkipLoadPrefix(plugin)){plugin=plugin.substr(1,plugin.length);var dependencies=PluginManager$1.dependencies(plugin);$_1qam7ujjdud76lb.each(dependencies,function(dep){var defaultSettings={prefix:"plugins/",resource:dep,suffix:"/plugin"+suffix+".js"};dep=PluginManager$1.createUrl(defaultSettings,dep),PluginManager$1.load(dep.resource,dep)})}else PluginManager$1.load(plugin,{prefix:"plugins/",resource:plugin,suffix:"/plugin"+suffix+".js"})})}(editor.settings,suffix),scriptLoader.loadQueue(function(){editor.removed||$_9cxyid4ijdud77as_init(editor)},editor,function(urls){$_gbjfnz4hjdud77an.pluginLoadError(editor,urls[0]),editor.removed||$_9cxyid4ijdud77as_init(editor)})})},$_auphqs4bjdud779q_render=function(editor){var settings=editor.settings,id=editor.id,readyHandler=function(){DOM$5.unbind(window,"ready",readyHandler),editor.render()};if(EventUtils.Event.domLoaded){if(editor.getElement()&&$_3faz499jdud76f2.contentEditable){settings.inline?editor.inline=!0:(editor.orgVisibility=editor.getElement().style.visibility,editor.getElement().style.visibility="hidden");var form=editor.getElement().form||DOM$5.getParent(id,"form");form&&(editor.formElement=form,settings.hidden_input&&!/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)&&(DOM$5.insertAfter(DOM$5.create("input",{type:"hidden",name:id}),id),editor.hasHiddenInput=!0),editor.formEventDelegate=function(e){editor.fire(e.type,e)},DOM$5.bind(form,"submit reset",editor.formEventDelegate),editor.on("reset",function(){editor.setContent(editor.startContent,{format:"raw"})}),!settings.submit_patch||form.submit.nodeType||form.submit.length||form._mceOldSubmit||(form._mceOldSubmit=form.submit,form.submit=function(){return editor.editorManager.triggerSave(),editor.setDirty(!1),form._mceOldSubmit(form)})),editor.windowManager=WindowManager(editor),editor.notificationManager=NotificationManager(editor),"xml"===settings.encoding&&editor.on("GetContent",function(e){e.save&&(e.content=DOM$5.encode(e.content))}),settings.add_form_submit_trigger&&editor.on("submit",function(){editor.initialized&&editor.save()}),settings.add_unload_trigger&&(editor._beforeUnload=function(){!editor.initialized||editor.destroyed||editor.isHidden()||editor.save({format:"raw",no_events:!0,set_dirty:!1})},editor.editorManager.on("BeforeUnload",editor._beforeUnload)),editor.editorManager.add(editor),loadScripts(editor,editor.suffix)}}else DOM$5.bind(window,"ready",readyHandler)},$_drkzu70jdud77u8_add=function(editor,name,settings){var sidebars=editor.sidebars?editor.sidebars:[];sidebars.push({name:name,settings:settings}),editor.sidebars=sidebars},each$21=$_1qam7ujjdud76lb.each,trim$4=$_1qam7ujjdud76lb.trim,queryParts="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),DEFAULT_PORTS={ftp:21,http:80,https:443,mailto:25},URI=function(url,settings){var baseUri,baseUrl,self=this;if(url=trim$4(url),baseUri=(settings=self.settings=settings||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(url)||/^\s*#/.test(url))self.source=url;else{var isProtocolRelative=0===url.indexOf("//");0!==url.indexOf("/")||isProtocolRelative||(url=(baseUri&&baseUri.protocol||"http")+"://mce_host"+url),/^[\w\-]*:?\/\//.test(url)||(baseUrl=settings.base_uri?settings.base_uri.path:new URI(document.location.href).directory,""==settings.base_uri.protocol?url="//mce_host"+self.toAbsPath(baseUrl,url):(url=/([^#?]*)([#?]?.*)/.exec(url),url=(baseUri&&baseUri.protocol||"http")+"://mce_host"+self.toAbsPath(baseUrl,url[1])+url[2])),url=url.replace(/@@/g,"(mce_at)"),url=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(url),each$21(queryParts,function(v,i){var part=url[i];part&&(part=part.replace(/\(mce_at\)/g,"@@")),self[v]=part}),baseUri&&(self.protocol||(self.protocol=baseUri.protocol),self.userInfo||(self.userInfo=baseUri.userInfo),self.port||"mce_host"!==self.host||(self.port=baseUri.port),self.host&&"mce_host"!==self.host||(self.host=baseUri.host),self.source=""),isProtocolRelative&&(self.protocol="")}};URI.prototype={setPath:function(path){path=/^(.*?)\/?(\w+)?$/.exec(path),this.path=path[0],this.directory=path[1],this.file=path[2],this.source="",this.getURI()},toRelative:function(uri){var output;if("./"===uri)return uri;if("mce_host"!==(uri=new URI(uri,{base_uri:this})).host&&this.host!==uri.host&&uri.host||this.port!==uri.port||this.protocol!==uri.protocol&&""!==uri.protocol)return uri.getURI();var tu=this.getURI(),uu=uri.getURI();return tu===uu||"/"===tu.charAt(tu.length-1)&&tu.substr(0,tu.length-1)===uu?tu:(output=this.toRelPath(this.path,uri.path),uri.query&&(output+="?"+uri.query),uri.anchor&&(output+="#"+uri.anchor),output)},toAbsolute:function(uri,noHost){return(uri=new URI(uri,{base_uri:this})).getURI(noHost&&this.isSameOrigin(uri))},isSameOrigin:function(uri){if(this.host==uri.host&&this.protocol==uri.protocol){if(this.port==uri.port)return!0;var defaultPort=DEFAULT_PORTS[this.protocol];if(defaultPort&&(this.port||defaultPort)==(uri.port||defaultPort))return!0}return!1},toRelPath:function(base,path){var items,i,l,breakPoint=0,out="";if(base=(base=base.substring(0,base.lastIndexOf("/"))).split("/"),items=path.split("/"),base.length>=items.length)for(i=0,l=base.length;i<l;i++)if(i>=items.length||base[i]!==items[i]){breakPoint=i+1;break}if(base.length<items.length)for(i=0,l=items.length;i<l;i++)if(i>=base.length||base[i]!==items[i]){breakPoint=i+1;break}if(1===breakPoint)return path;for(i=0,l=base.length-(breakPoint-1);i<l;i++)out+="../";for(i=breakPoint-1,l=items.length;i<l;i++)out+=i!==breakPoint-1?"/"+items[i]:items[i];return out},toAbsPath:function(base,path){var i,tr,outPath,nb=0,o=[];for(tr=/\/$/.test(path)?"/":"",base=base.split("/"),path=path.split("/"),each$21(base,function(k){k&&o.push(k)}),base=o,i=path.length-1,o=[];0<=i;i--)0!==path[i].length&&"."!==path[i]&&(".."!==path[i]?0<nb?nb--:o.push(path[i]):nb++);return 0!==(outPath=(i=base.length-nb)<=0?o.reverse().join("/"):base.slice(0,i).join("/")+"/"+o.reverse().join("/")).indexOf("/")&&(outPath="/"+outPath),tr&&outPath.lastIndexOf("/")!==outPath.length-1&&(outPath+=tr),outPath},getURI:function(noProtoHost){var s;return this.source&&!noProtoHost||(s="",noProtoHost||(this.protocol?s+=this.protocol+"://":s+="//",this.userInfo&&(s+=this.userInfo+"@"),this.host&&(s+=this.host),this.port&&(s+=":"+this.port)),this.path&&(s+=this.path),this.query&&(s+="?"+this.query),this.anchor&&(s+="#"+this.anchor),this.source=s),this.source}},URI.parseDataUri=function(uri){var type,matches;return uri=decodeURIComponent(uri).split(","),(matches=/data:([^;]+)/.exec(uri[0]))&&(type=matches[1]),{type:type,data:uri[1]}},URI.getDocumentBaseUrl=function(loc){var baseUrl;return baseUrl=0!==loc.protocol.indexOf("http")&&"file:"!==loc.protocol?loc.href:loc.protocol+"//"+loc.host+loc.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(baseUrl)&&(baseUrl=baseUrl.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(baseUrl)||(baseUrl+="/")),baseUrl};var traverse=function(node,fn){fn(node),node.firstChild&&traverse(node.firstChild,fn),node.next&&traverse(node.next,fn)},filter$3=function(nodeFilters,attributeFilters,node){var matches=function(nodeFilters,attributeFilters,node){var nodeMatches={},attrMatches={},matches=[];for(var name_1 in node.firstChild&&traverse(node.firstChild,function(node){$_2rdhjp4jdud76b1.each(nodeFilters,function(filter){filter.name===node.name&&(nodeMatches[filter.name]?nodeMatches[filter.name].nodes.push(node):nodeMatches[filter.name]={filter:filter,nodes:[node]})}),$_2rdhjp4jdud76b1.each(attributeFilters,function(filter){"string"==typeof node.attr(filter.name)&&(attrMatches[filter.name]?attrMatches[filter.name].nodes.push(node):attrMatches[filter.name]={filter:filter,nodes:[node]})})}),nodeMatches)nodeMatches.hasOwnProperty(name_1)&&matches.push(nodeMatches[name_1]);for(var name_2 in attrMatches)attrMatches.hasOwnProperty(name_2)&&matches.push(attrMatches[name_2]);return matches}(nodeFilters,attributeFilters,node);$_2rdhjp4jdud76b1.each(matches,function(match){$_2rdhjp4jdud76b1.each(match.filter.callbacks,function(callback){callback(match.nodes,match.filter.name,{})})})},isTreeNode=function(content){return content instanceof Node$2},setContent$1=function(editor,content,args){return void 0===args&&(args={}),args.format=args.format?args.format:"html",args.set=!0,args.content=isTreeNode(content)?"":content,isTreeNode(content)||args.no_events||(editor.fire("BeforeSetContent",args),content=args.content),isTreeNode(content)?function(editor,content,args){filter$3(editor.parser.getNodeFilters(),editor.parser.getAttributeFilters(),content);var html=HtmlSerializer({validate:editor.validate},editor.schema).serialize(content);return args.content=$_1qam7ujjdud76lb.trim(html),editor.dom.setHTML(editor.getBody(),args.content),args.no_events||editor.fire("SetContent",args),content}(editor,content,args):function(editor,content,args){var forcedRootBlockName,padd,body=editor.getBody();return 0===content.length||/^\s+$/.test(content)?(padd='<br data-mce-bogus="1">',"TABLE"===body.nodeName?content="<tr><td>"+padd+"</td></tr>":/^(UL|OL)$/.test(body.nodeName)&&(content="<li>"+padd+"</li>"),(forcedRootBlockName=editor.settings.forced_root_block)&&editor.schema.isValidChild(body.nodeName.toLowerCase(),forcedRootBlockName.toLowerCase())?(content=padd,content=editor.dom.createHTML(forcedRootBlockName,editor.settings.forced_root_block_attrs,content)):content||(content='<br data-mce-bogus="1">'),editor.dom.setHTML(body,content),editor.fire("SetContent",args)):("raw"!==args.format&&(content=HtmlSerializer({validate:editor.validate},editor.schema).serialize(editor.parser.parse(content,{isRootContent:!0,insert:!0}))),args.content=$_1qam7ujjdud76lb.trim(content),editor.dom.setHTML(body,args.content),args.no_events||editor.fire("SetContent",args)),args.content}(editor,content,args)},DOM$6=DOMUtils.DOM,safeDestroy=function(x){return Option.from(x).each(function(x){return x.destroy()})},remove$5=function(editor){if(!editor.removed){var _selectionOverrides=editor._selectionOverrides,editorUpload=editor.editorUpload,body=editor.getBody(),element=editor.getElement();body&&editor.save(),editor.removed=1,editor.unbindAllNativeEvents(),editor.hasHiddenInput&&element&&DOM$6.remove(element.nextSibling),!editor.inline&&body&&function(editor){editor.orgDisplay&&DOM$6.setStyle(editor.id,"display",editor.orgDisplay)}(editor),$_t6qla5vjdud77ie_fireRemove(editor),editor.editorManager.remove(editor),DOM$6.remove(editor.getContainer()),safeDestroy(_selectionOverrides),safeDestroy(editorUpload),editor.destroy()}},destroy=function(editor,automatic){var selection=editor.selection,dom=editor.dom;editor.destroyed||(automatic||editor.removed?(automatic||(editor.editorManager.off("beforeunload",editor._beforeUnload),editor.theme&&editor.theme.destroy&&editor.theme.destroy(),safeDestroy(selection),safeDestroy(dom)),function(editor){var form=editor.formElement;form&&(form._mceOldSubmit&&(form.submit=form._mceOldSubmit,form._mceOldSubmit=null),DOM$6.unbind(form,"submit reset",editor.formEventDelegate))}(editor),function(editor){editor.contentAreaContainer=editor.formElement=editor.container=editor.editorContainer=null,editor.bodyElement=editor.contentDocument=editor.contentWindow=null,editor.iframeElement=editor.targetElm=null,editor.selection&&(editor.selection=editor.selection.win=editor.selection.dom=editor.selection.dom.doc=null)}(editor),editor.destroyed=1):editor.remove())},DOM$7=DOMUtils.DOM,extend$4=$_1qam7ujjdud76lb.extend,each$22=$_1qam7ujjdud76lb.each,resolve$4=$_1qam7ujjdud76lb.resolve,ie$2=$_3faz499jdud76f2.ie,Editor=function(id,settings,editorManager){var documentBaseUrl,baseUri,self=this;documentBaseUrl=self.documentBaseUrl=editorManager.documentBaseURL,baseUri=editorManager.baseURI,settings=function(editor,id,documentBaseUrl,defaultOverrideSettings,settings){var defaultSettings=function(id,documentBaseUrl,editor){return{id:id,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:documentBaseUrl,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:editor.convertURL,url_converter_scope:editor,ie7_compat:!0}}(id,documentBaseUrl,editor);return combineSettings(isTouch,defaultSettings,defaultOverrideSettings,settings)}(self,id,documentBaseUrl,editorManager.defaultSettings,settings),self.settings=settings,AddOnManager.language=settings.language||"en",AddOnManager.languageLoad=settings.language_load,AddOnManager.baseURL=editorManager.baseURL,self.id=id,self.setDirty(!1),self.plugins={},self.documentBaseURI=new URI(settings.document_base_url,{base_uri:baseUri}),self.baseURI=baseUri,self.contentCSS=[],self.contentStyles=[],self.shortcuts=new Shortcuts(self),self.loadedCSS={},self.editorCommands=new EditorCommands(self),self.suffix=editorManager.suffix,self.editorManager=editorManager,self.inline=settings.inline,self.buttons={},self.menuItems={},settings.cache_suffix&&($_3faz499jdud76f2.cacheSuffix=settings.cache_suffix.replace(/^[\?\&]+/,"")),!1===settings.override_viewport&&($_3faz499jdud76f2.overrideViewPort=!1),editorManager.fire("SetupEditor",{editor:self}),self.execCallback("setup",self),self.$=DomQuery.overrideDefaults(function(){return{context:self.inline?self.getBody():self.getDoc(),element:self.getBody()}})};extend$4(Editor.prototype={render:function(){$_auphqs4bjdud779q_render(this)},focus:function(skipFocus){$_2811r48jdud779b_focus(this,skipFocus)},execCallback:function(name){var scope,callback=this.settings[name];if(callback)return this.callbackLookup&&(scope=this.callbackLookup[name])&&(callback=scope.func,scope=scope.scope),"string"==typeof callback&&(scope=(scope=callback.replace(/\.\w+$/,""))?resolve$4(scope):0,callback=resolve$4(callback),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[name]={func:callback,scope:scope}),callback.apply(scope||this,Array.prototype.slice.call(arguments,1))},translate:function(text){if(text&&$_1qam7ujjdud76lb.is(text,"string")){var lang_1=this.settings.language||"en",i18n_1=this.editorManager.i18n;text=i18n_1.data[lang_1+"."+text]||text.replace(/\{\#([^\}]+)\}/g,function(a,b){return i18n_1.data[lang_1+"."+b]||"{#"+b+"}"})}return this.editorManager.translate(text)},getLang:function(name,defaultVal){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+name]||(void 0!==defaultVal?defaultVal:"{#"+name+"}")},getParam:function(name,defaultVal,type){return getParam(this,name,defaultVal,type)},nodeChanged:function(args){this._nodeChangeDispatcher.nodeChanged(args)},addButton:function(name,settings){var self=this;settings.cmd&&(settings.onclick=function(){self.execCommand(settings.cmd)}),settings.stateSelector&&void 0===settings.active&&(settings.active=!1),settings.text||settings.icon||(settings.icon=name),self.buttons=self.buttons,settings.tooltip=settings.tooltip||settings.title,self.buttons[name]=settings},addSidebar:function(name,settings){return $_drkzu70jdud77u8_add(this,name,settings)},addMenuItem:function(name,settings){var self=this;settings.cmd&&(settings.onclick=function(){self.execCommand(settings.cmd)}),self.menuItems=self.menuItems,self.menuItems[name]=settings},addContextToolbar:function(predicate,items){var selector,self=this;self.contextToolbars=self.contextToolbars||[],"string"==typeof predicate&&(selector=predicate,predicate=function(elm){return self.dom.is(elm,selector)}),self.contextToolbars.push({id:$_94elg04wjdud77ct.uuid("mcet"),predicate:predicate,items:items})},addCommand:function(name,callback,scope){this.editorCommands.addCommand(name,callback,scope)},addQueryStateHandler:function(name,callback,scope){this.editorCommands.addQueryStateHandler(name,callback,scope)},addQueryValueHandler:function(name,callback,scope){this.editorCommands.addQueryValueHandler(name,callback,scope)},addShortcut:function(pattern,desc,cmdFunc,scope){this.shortcuts.add(pattern,desc,cmdFunc,scope)},execCommand:function(cmd,ui,value,args){return this.editorCommands.execCommand(cmd,ui,value,args)},queryCommandState:function(cmd){return this.editorCommands.queryCommandState(cmd)},queryCommandValue:function(cmd){return this.editorCommands.queryCommandValue(cmd)},queryCommandSupported:function(cmd){return this.editorCommands.queryCommandSupported(cmd)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(DOM$7.show(this.getContainer()),DOM$7.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var doc=this.getDoc();this.hidden||(ie$2&&doc&&!this.inline&&doc.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(DOM$7.hide(this.getContainer()),DOM$7.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(state,time){this.fire("ProgressState",{state:state,time:time})},load:function(args){var html,elm=this.getElement();return this.removed?"":elm?((args=args||{}).load=!0,html=this.setContent(void 0!==elm.value?elm.value:elm.innerHTML,args),args.element=elm,args.no_events||this.fire("LoadContent",args),args.element=elm=null,html):void 0},save:function(args){var html,form,self=this,elm=self.getElement();if(elm&&self.initialized&&!self.removed)return(args=args||{}).save=!0,args.element=elm,args.content=self.getContent(args),args.no_events||self.fire("SaveContent",args),"raw"===args.format&&self.fire("RawSaveContent",args),html=args.content,/TEXTAREA|INPUT/i.test(elm.nodeName)?elm.value=html:(self.inline||(elm.innerHTML=html),(form=DOM$7.getParent(self.id,"form"))&&each$22(form.elements,function(elm){if(elm.name===self.id)return elm.value=html,!1})),args.element=elm=null,!1!==args.set_dirty&&self.setDirty(!1),html},setContent:function(content,args){return setContent$1(this,content,args)},getContent:function(args){return function(editor,args){var content;void 0===args&&(args={});var body=editor.getBody();if(editor.removed)return"";if(args.format=args.format?args.format:"html",args.get=!0,args.getInner=!0,args.no_events||editor.fire("BeforeGetContent",args),"raw"===args.format)content=$_1qam7ujjdud76lb.trim($_adg5bi5cjdud77f2_trimExternal(editor.serializer,body.innerHTML));else if("text"===args.format)content=body.innerText||body.textContent;else{if("tree"===args.format)return editor.serializer.serialize(body,args);content=editor.serializer.serialize(body,args)}return"text"!==args.format?args.content=$_1qam7ujjdud76lb.trim(content):args.content=content,args.no_events||editor.fire("GetContent",args),args.content}(this,args)},insertContent:function(content,args){args&&(content=extend$4({content:content},args)),this.execCommand("mceInsertContent",!1,content)},isDirty:function(){return!this.isNotDirty},setDirty:function(state){var oldState=!this.isNotDirty;this.isNotDirty=!state,state&&state!==oldState&&this.fire("dirty")},setMode:function(mode){$_1u84p46jdud7792_setMode(this,mode)},getContainer:function(){return this.container||(this.container=DOM$7.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=DOM$7.get(this.id)),this.targetElm},getWin:function(){var elm;return this.contentWindow||(elm=this.iframeElement)&&(this.contentWindow=elm.contentWindow),this.contentWindow},getDoc:function(){var win;return this.contentDocument||(win=this.getWin())&&(this.contentDocument=win.document),this.contentDocument},getBody:function(){var doc=this.getDoc();return this.bodyElement||(doc?doc.body:null)},convertURL:function(url,name,elm){var settings=this.settings;return settings.urlconverter_callback?this.execCallback("urlconverter_callback",url,elm,!0,name):!settings.convert_urls||elm&&"LINK"===elm.nodeName||0===url.indexOf("file:")||0===url.length?url:settings.relative_urls?this.documentBaseURI.toRelative(url):url=this.documentBaseURI.toAbsolute(url,settings.remove_script_host)},addVisual:function(elm){var cls,self=this,settings=self.settings,dom=self.dom;elm=elm||self.getBody(),void 0===self.hasVisual&&(self.hasVisual=settings.visual),each$22(dom.select("table,a",elm),function(elm){var value;switch(elm.nodeName){case"TABLE":return cls=settings.visual_table_class||"mce-item-table",void((value=dom.getAttrib(elm,"border"))&&"0"!==value||!self.hasVisual?dom.removeClass(elm,cls):dom.addClass(elm,cls));case"A":return void(dom.getAttrib(elm,"href",!1)||(value=dom.getAttrib(elm,"name")||elm.id,cls=settings.visual_anchor_class||"mce-item-anchor",value&&self.hasVisual?dom.addClass(elm,cls):dom.removeClass(elm,cls)))}}),self.fire("VisualAid",{element:elm,hasVisual:self.hasVisual})},remove:function(){remove$5(this)},destroy:function(automatic){destroy(this,automatic)},uploadImages:function(callback){return this.editorUpload.uploadImages(callback)},_scanForImages:function(){return this.editorUpload.scanForImages()}},EditorObservable$1);var documentFocusInHandler,beforeUnloadDelegate,EditorManager,$_g6zi4h77jdud77vg={isEditorUIElement:function(elm){return-1!==elm.className.toString().indexOf("mce-")}},registerEditorEvents=function(editor,throttledStore){var browser=$_csimq8mjdud76ly.detect().browser;browser.isIE()||browser.isEdge()?function(editor){editor.on("focusout",function(){$_8342u23zjdud777z.store(editor)})}(editor):function(editor,throttledStore){editor.on("mouseup touchend",function(e){throttledStore.throttle()})}(editor,throttledStore),editor.on("keyup nodechange",function(e){(function(e){return"nodechange"===e.type&&e.selectionChange})(e)||$_8342u23zjdud777z.store(editor)})},$_cxfqht78jdud77vh_register=function(editor){var throttledStore=$_b9dzn958jdud77en_first(function(){$_8342u23zjdud777z.store(editor)},0);editor.inline&&function(editor,throttledStore){var mouseUpPage=function(){throttledStore.throttle()};DOMUtils.DOM.bind(document,"mouseup",mouseUpPage),editor.on("remove",function(){DOMUtils.DOM.unbind(document,"mouseup",mouseUpPage)})}(editor,throttledStore),editor.on("init",function(){registerEditorEvents(editor,throttledStore)}),editor.on("remove",function(){throttledStore.cancel()})},DOM$8=DOMUtils.DOM,isEditorUIElement$1=function(elm){return $_g6zi4h77jdud77vg.isEditorUIElement(elm)},isUIElement=function(editor,elm){var customSelector=editor?editor.settings.custom_ui_selector:"";return null!==DOM$8.getParent(elm,function(elm){return isEditorUIElement$1(elm)||!!customSelector&&editor.dom.is(elm,customSelector)})},registerEvents=function(editorManager,e){var editor=e.editor;$_cxfqht78jdud77vh_register(editor),editor.on("focusin",function(){var focusedEditor=editorManager.focusedEditor;focusedEditor!==this&&(focusedEditor&&focusedEditor.fire("blur",{focusedEditor:this}),editorManager.setActive(this),(editorManager.focusedEditor=this).fire("focus",{blurredEditor:focusedEditor}),this.focus(!0))}),editor.on("focusout",function(){var self=this;$_8b7b3gjdud76ig.setEditorTimeout(self,function(){var focusedEditor=editorManager.focusedEditor;isUIElement(self,function(){try{return document.activeElement}catch(ex){return document.body}}())||focusedEditor!==self||(self.fire("blur",{focusedEditor:null}),editorManager.focusedEditor=null)})}),documentFocusInHandler||(documentFocusInHandler=function(e){var target,activeEditor=editorManager.activeEditor;target=e.target,activeEditor&&target.ownerDocument===document&&(target===document.body||isUIElement(activeEditor,target)||editorManager.focusedEditor!==activeEditor||(activeEditor.fire("blur",{focusedEditor:null}),editorManager.focusedEditor=null))},DOM$8.bind(document,"focusin",documentFocusInHandler))},unregisterDocumentEvents=function(editorManager,e){editorManager.focusedEditor===e.editor&&(editorManager.focusedEditor=null),editorManager.activeEditor||(DOM$8.unbind(document,"focusin",documentFocusInHandler),documentFocusInHandler=null)},$_6mosl476jdud77vd_setup=function(editorManager){editorManager.on("AddEditor",$_dree2x6jdud76bv.curry(registerEvents,editorManager)),editorManager.on("RemoveEditor",$_dree2x6jdud76bv.curry(unregisterDocumentEvents,editorManager))},data={},code="en",$_zruov79jdud77vl={setCode:function(newCode){newCode&&(code=newCode,this.rtl=!!this.data[newCode]&&"rtl"===this.data[newCode]._dir)},getCode:function(){return code},rtl:!1,add:function(code,items){var langData=data[code];for(var name_1 in langData||(data[code]=langData={}),items)langData[name_1]=items[name_1];this.setCode(code)},translate:function(text){var langData=data[code]||{},toString=function(obj){return $_1qam7ujjdud76lb.is(obj,"function")?Object.prototype.toString.call(obj):isEmpty(obj)?"":""+obj},isEmpty=function(text){return""===text||null===text||$_1qam7ujjdud76lb.is(text,"undefined")},getLangData=function(text){return text=toString(text),$_1qam7ujjdud76lb.hasOwn(langData,text)?toString(langData[text]):text};if(isEmpty(text))return"";if($_1qam7ujjdud76lb.is(text,"object")&&$_1qam7ujjdud76lb.hasOwn(text,"raw"))return toString(text.raw);if($_1qam7ujjdud76lb.is(text,"array")){var values_1=text.slice(1);text=getLangData(text[0]).replace(/\{([0-9]+)\}/g,function($1,$2){return $_1qam7ujjdud76lb.hasOwn(values_1,$2)?toString(values_1[$2]):$1})}return getLangData(text).replace(/{context:\w+}$/,"")},data:data},DOM$9=DOMUtils.DOM,explode$5=$_1qam7ujjdud76lb.explode,each$23=$_1qam7ujjdud76lb.each,extend$5=$_1qam7ujjdud76lb.extend,instanceCounter=0,boundGlobalEvents=!1,legacyEditors=[],editors=[],globalEventDelegate=function(e){each$23(EditorManager.get(),function(editor){"scroll"===e.type?editor.fire("ScrollWindow",e):editor.fire("ResizeWindow",e)})},toggleGlobalEvents=function(state){state!==boundGlobalEvents&&(state?DomQuery(window).on("resize scroll",globalEventDelegate):DomQuery(window).off("resize scroll",globalEventDelegate),boundGlobalEvents=state)},removeEditorFromList=function(targetEditor){var oldEditors=editors;delete legacyEditors[targetEditor.id];for(var i=0;i<legacyEditors.length;i++)if(legacyEditors[i]===targetEditor){legacyEditors.splice(i,1);break}return editors=$_2rdhjp4jdud76b1.filter(editors,function(editor){return targetEditor!==editor}),EditorManager.activeEditor===targetEditor&&(EditorManager.activeEditor=0<editors.length?editors[0]:null),EditorManager.focusedEditor===targetEditor&&(EditorManager.focusedEditor=null),oldEditors.length!==editors.length};extend$5(EditorManager={defaultSettings:{},$:DomQuery,majorVersion:"4",minorVersion:"7.7",releaseDate:"2018-02-19",editors:legacyEditors,i18n:$_zruov79jdud77vl,activeEditor:null,settings:{},setup:function(){var baseURL,documentBaseURL,preInit,src,suffix="";if(documentBaseURL=URI.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(documentBaseURL)&&(documentBaseURL=documentBaseURL.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(documentBaseURL)||(documentBaseURL+="/")),preInit=window.tinymce||window.tinyMCEPreInit)baseURL=preInit.base||preInit.baseURL,suffix=preInit.suffix;else{for(var scripts=document.getElementsByTagName("script"),i=0;i<scripts.length;i++){var srcScript=(src=scripts[i].src).substring(src.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(src)){-1!==srcScript.indexOf(".min")&&(suffix=".min"),baseURL=src.substring(0,src.lastIndexOf("/"));break}}!baseURL&&document.currentScript&&(-1!==(src=document.currentScript.src).indexOf(".min")&&(suffix=".min"),baseURL=src.substring(0,src.lastIndexOf("/")))}this.baseURL=new URI(documentBaseURL).toAbsolute(baseURL),this.documentBaseURL=documentBaseURL,this.baseURI=new URI(this.baseURL),this.suffix=suffix,$_6mosl476jdud77vd_setup(this)},overrideDefaults:function(defaultSettings){var baseUrl,suffix;(baseUrl=defaultSettings.base_url)&&(this.baseURL=new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\/+$/,"")),this.baseURI=new URI(this.baseURL)),suffix=defaultSettings.suffix,defaultSettings.suffix&&(this.suffix=suffix);var pluginBaseUrls=(this.defaultSettings=defaultSettings).plugin_base_urls;for(var name_1 in pluginBaseUrls)AddOnManager.PluginManager.urls[name_1]=pluginBaseUrls[name_1]},init:function(settings){var result,invalidInlineTargets,self=this;invalidInlineTargets=$_1qam7ujjdud76lb.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var createId=function(elm){var id=elm.id;return id||(id=(id=elm.name)&&!DOM$9.get(id)?elm.name:DOM$9.uniqueId(),elm.setAttribute("id",id)),id},hasClass=function(elm,className){return className.constructor===RegExp?className.test(elm.className):DOM$9.hasClass(elm,className)},provideResults=function(editors){result=editors},initEditors=function(){var targets,initCount=0,editors=[],createEditor=function(id,settings,targetElm){var editor=new Editor(id,settings,self);editors.push(editor),editor.on("init",function(){++initCount===targets.length&&provideResults(editors)}),editor.targetElm=editor.targetElm||targetElm,editor.render()};DOM$9.unbind(window,"ready",initEditors),function(name){var callback=settings[name];callback&&callback.apply(self,Array.prototype.slice.call(arguments,2))}("onpageload"),targets=DomQuery.unique(function(settings){var l,targets=[];if($_3faz499jdud76f2.ie&&$_3faz499jdud76f2.ie<11)return $_gbjfnz4hjdud77an.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(settings.types)return each$23(settings.types,function(type){targets=targets.concat(DOM$9.select(type.selector))}),targets;if(settings.selector)return DOM$9.select(settings.selector);if(settings.target)return[settings.target];switch(settings.mode){case"exact":0<(l=settings.elements||"").length&&each$23(explode$5(l),function(id){var elm;(elm=DOM$9.get(id))?targets.push(elm):each$23(document.forms,function(f){each$23(f.elements,function(e){e.name===id&&(id="mce_editor_"+instanceCounter++,DOM$9.setAttrib(e,"id",id),targets.push(e))})})});break;case"textareas":case"specific_textareas":each$23(DOM$9.select("textarea"),function(elm){settings.editor_deselector&&hasClass(elm,settings.editor_deselector)||settings.editor_selector&&!hasClass(elm,settings.editor_selector)||targets.push(elm)})}return targets}(settings)),settings.types?each$23(settings.types,function(type){$_1qam7ujjdud76lb.each(targets,function(elm){return!DOM$9.is(elm,type.selector)||(createEditor(createId(elm),extend$5({},settings,type),elm),!1)})}):($_1qam7ujjdud76lb.each(targets,function(elm){var editor;(editor=self.get(elm.id))&&editor.initialized&&!(editor.getContainer()||editor.getBody()).parentNode&&(removeEditorFromList(editor),editor.unbindAllNativeEvents(),editor.destroy(!0),editor.removed=!0,editor=null)}),0===(targets=$_1qam7ujjdud76lb.grep(targets,function(elm){return!self.get(elm.id)})).length?provideResults([]):each$23(targets,function(elm){!function(settings,elm){return settings.inline&&elm.tagName.toLowerCase()in invalidInlineTargets}(settings,elm)?createEditor(createId(elm),settings,elm):$_gbjfnz4hjdud77an.initError("Could not initialize inline editor on invalid inline target element",elm)}))};return self.settings=settings,DOM$9.bind(window,"ready",initEditors),new promiseObj(function(resolve){result?resolve(result):provideResults=function(editors){resolve(editors)}})},get:function(id){return 0===arguments.length?editors.slice(0):$_c9rr1612jdud76o1.isString(id)?$_2rdhjp4jdud76b1.find(editors,function(editor){return editor.id===id}).getOr(null):$_c9rr1612jdud76o1.isNumber(id)&&editors[id]?editors[id]:null},add:function(editor){var self=this;return legacyEditors[editor.id]===editor||(null===self.get(editor.id)&&("length"!==editor.id&&(legacyEditors[editor.id]=editor),legacyEditors.push(editor),editors.push(editor)),toggleGlobalEvents(!0),self.activeEditor=editor,self.fire("AddEditor",{editor:editor}),beforeUnloadDelegate||(beforeUnloadDelegate=function(){self.fire("BeforeUnload")},DOM$9.bind(window,"beforeunload",beforeUnloadDelegate))),editor},createEditor:function(id,settings){return this.add(new Editor(id,settings,this))},remove:function(selector){var i,editor,self=this;if(selector)return $_c9rr1612jdud76o1.isString(selector)?(selector=selector.selector||selector,void each$23(DOM$9.select(selector),function(elm){(editor=self.get(elm.id))&&self.remove(editor)})):(editor=selector,$_c9rr1612jdud76o1.isNull(self.get(editor.id))?null:(removeEditorFromList(editor)&&self.fire("RemoveEditor",{editor:editor}),0===editors.length&&DOM$9.unbind(window,"beforeunload",beforeUnloadDelegate),editor.remove(),toggleGlobalEvents(0<editors.length),editor));for(i=editors.length-1;0<=i;i--)self.remove(editors[i])},execCommand:function(cmd,ui,value){var editor=this.get(value);switch(cmd){case"mceAddEditor":return this.get(value)||new Editor(value,this.settings,this).render(),!0;case"mceRemoveEditor":return editor&&editor.remove(),!0;case"mceToggleEditor":return editor?editor.isHidden()?editor.show():editor.hide():this.execCommand("mceAddEditor",0,value),!0}return!!this.activeEditor&&this.activeEditor.execCommand(cmd,ui,value)},triggerSave:function(){each$23(editors,function(editor){editor.save()})},addI18n:function(code,items){$_zruov79jdud77vl.add(code,items)},translate:function(text){return $_zruov79jdud77vl.translate(text)},setActive:function(editor){var activeEditor=this.activeEditor;this.activeEditor!==editor&&(activeEditor&&activeEditor.fire("deactivate",{relatedTarget:editor}),editor.fire("activate",{relatedTarget:activeEditor})),this.activeEditor=editor}},$_fs442644jdud778v),EditorManager.setup();var EditorManager$1=EditorManager;function RangeUtils(dom){return{walk:function(rng,callback){return $_2dm2ht5ljdud77h1.walk(dom,rng,callback)},split:$_drv60g3njdud7762.split,normalize:function(rng){return $_3e2aut3xjdud777p.normalize(dom,rng).fold($_dree2x6jdud76bv.constant(!1),function(normalizedRng){return rng.setStart(normalizedRng.startContainer,normalizedRng.startOffset),rng.setEnd(normalizedRng.endContainer,normalizedRng.endOffset),!0})}}}!function(RangeUtils){RangeUtils.compareRanges=$_7nsrza3yjdud777x.isEq,RangeUtils.getCaretRangeFromPoint=$_9th3ro68jdud77l2.fromPoint,RangeUtils.getSelectedNode=getSelectedNode,RangeUtils.getNode=getNode}(RangeUtils||(RangeUtils={}));var extendClass,initializing,RangeUtils$1=RangeUtils,min=Math.min,max=Math.max,round$1=Math.round,relativePosition=function(rect,targetRect,rel){var x,y,w,h,targetW,targetH;return x=targetRect.x,y=targetRect.y,w=rect.w,h=rect.h,targetW=targetRect.w,targetH=targetRect.h,"b"===(rel=(rel||"").split(""))[0]&&(y+=targetH),"r"===rel[1]&&(x+=targetW),"c"===rel[0]&&(y+=round$1(targetH/2)),"c"===rel[1]&&(x+=round$1(targetW/2)),"b"===rel[3]&&(y-=h),"r"===rel[4]&&(x-=w),"c"===rel[3]&&(y-=round$1(h/2)),"c"===rel[4]&&(x-=round$1(w/2)),create$2(x,y,w,h)},create$2=function(x,y,w,h){return{x:x,y:y,w:w,h:h}},$_6foh8s7bjdud77vu={inflate:function(rect,w,h){return create$2(rect.x-w,rect.y-h,rect.w+2*w,rect.h+2*h)},relativePosition:relativePosition,findBestRelativePosition:function(rect,targetRect,constrainRect,rels){var pos,i;for(i=0;i<rels.length;i++)if((pos=relativePosition(rect,targetRect,rels[i])).x>=constrainRect.x&&pos.x+pos.w<=constrainRect.w+constrainRect.x&&pos.y>=constrainRect.y&&pos.y+pos.h<=constrainRect.h+constrainRect.y)return rels[i];return null},intersect:function(rect,cropRect){var x1,y1,x2,y2;return x1=max(rect.x,cropRect.x),y1=max(rect.y,cropRect.y),x2=min(rect.x+rect.w,cropRect.x+cropRect.w),y2=min(rect.y+rect.h,cropRect.y+cropRect.h),x2-x1<0||y2-y1<0?null:create$2(x1,y1,x2-x1,y2-y1)},clamp:function(rect,clampRect,fixedSize){var underflowX1,underflowY1,overflowX2,overflowY2,x1,y1,x2,y2,cx2,cy2;return x1=rect.x,y1=rect.y,x2=rect.x+rect.w,y2=rect.y+rect.h,cx2=clampRect.x+clampRect.w,cy2=clampRect.y+clampRect.h,underflowX1=max(0,clampRect.x-x1),underflowY1=max(0,clampRect.y-y1),overflowX2=max(0,x2-cx2),overflowY2=max(0,y2-cy2),x1+=underflowX1,y1+=underflowY1,fixedSize&&(x2+=underflowX1,y2+=underflowY1,x1-=overflowX2,y1-=overflowY2),create$2(x1,y1,(x2-=overflowX2)-x1,(y2-=overflowY2)-y1)},create:create$2,fromClientRect:function(clientRect){return create$2(clientRect.left,clientRect.top,clientRect.width,clientRect.height)}},types={},$_g0z31n7cjdud77vy={add:function(type,typeClass){types[type.toLowerCase()]=typeClass},has:function(type){return!!types[type.toLowerCase()]},get:function(type){var lctype=type.toLowerCase(),controlType=types.hasOwnProperty(lctype)?types[lctype]:null;if(null===controlType)throw new Error("Could not find module for type: "+type);return controlType},create:function(type,settings){var ControlType;if("string"==typeof type?(settings=settings||{}).type=type:type=(settings=type).type,type=type.toLowerCase(),!(ControlType=types[type]))throw new Error("Could not find control by type: "+type);return(ControlType=new ControlType(settings)).type=type,ControlType}},each$24=$_1qam7ujjdud76lb.each,extend$6=$_1qam7ujjdud76lb.extend,Class=function(){};Class.extend=extendClass=function(prop){var prototype,name,member,_super=this.prototype,Class=function(){var i,mixins,mixin;if(!initializing&&(this.init&&this.init.apply(this,arguments),mixins=this.Mixins))for(i=mixins.length;i--;)(mixin=mixins[i]).init&&mixin.init.apply(this,arguments)},dummy=function(){return this},createMethod=function(name,fn){return function(){var ret,tmp=this._super;return this._super=_super[name],ret=fn.apply(this,arguments),this._super=tmp,ret}};for(name in initializing=!0,prototype=new this,initializing=!1,prop.Mixins&&(each$24(prop.Mixins,function(mixin){for(var name_1 in mixin)"init"!==name_1&&(prop[name_1]=mixin[name_1])}),_super.Mixins&&(prop.Mixins=_super.Mixins.concat(prop.Mixins))),prop.Methods&&each$24(prop.Methods.split(","),function(name){prop[name]=dummy}),prop.Properties&&each$24(prop.Properties.split(","),function(name){var fieldName="_"+name;prop[name]=function(value){return void 0!==value?(this[fieldName]=value,this):this[fieldName]}}),prop.Statics&&each$24(prop.Statics,function(func,name){Class[name]=func}),prop.Defaults&&_super.Defaults&&(prop.Defaults=extend$6({},_super.Defaults,prop.Defaults)),prop)"function"==typeof(member=prop[name])&&_super[name]?prototype[name]=createMethod(name,member):prototype[name]=member;return Class.prototype=prototype,(Class.constructor=Class).extend=extendClass,Class};var min$1=Math.min,max$1=Math.max,round$2=Math.round,serialize=function(o,quote){var i,v,t,name;if(quote=quote||'"',null===o)return"null";if("string"==(t=typeof o))return v="\bb\tt\nn\ff\rr\"\"''\\\\",quote+o.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(a,b){return'"'===quote&&"'"===a?a:(i=v.indexOf(b))+1?"\\"+v.charAt(i+1):(a=b.charCodeAt().toString(16),"\\u"+"0000".substring(a.length)+a)})+quote;if("object"===t){if(o.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(o)){for(i=0,v="[";i<o.length;i++)v+=(0<i?",":"")+serialize(o[i],quote);return v+"]"}for(name in v="{",o)o.hasOwnProperty(name)&&(v+="function"!=typeof o[name]?(1<v.length?","+quote:quote)+name+quote+":"+serialize(o[name],quote):"");return v+"}"}return""+o},$_5ktsvy7fjdud77w9={serialize:serialize,parse:function(text){try{return JSON.parse(text)}catch(ex){}}},$_cshp567gjdud77wb={callbacks:{},count:0,send:function(settings){var self=this,dom=DOMUtils.DOM,count=void 0!==settings.count?settings.count:self.count,id="tinymce_jsonp_"+count;self.callbacks[count]=function(json){dom.remove(id),delete self.callbacks[count],settings.callback(json)},dom.add(dom.doc.body,"script",{id:id,src:settings.url,type:"text/javascript"}),self.count++}},XHR={send:function(settings){var xhr,count=0,ready=function(){!settings.async||4===xhr.readyState||1e4<count++?(settings.success&&count<1e4&&200===xhr.status?settings.success.call(settings.success_scope,""+xhr.responseText,xhr,settings):settings.error&&settings.error.call(settings.error_scope,1e4<count?"TIMED_OUT":"GENERAL",xhr,settings),xhr=null):setTimeout(ready,10)};if(settings.scope=settings.scope||this,settings.success_scope=settings.success_scope||settings.scope,settings.error_scope=settings.error_scope||settings.scope,settings.async=!1!==settings.async,settings.data=settings.data||"",XHR.fire("beforeInitialize",{settings:settings}),xhr=new XMLHttpRequest){if(xhr.overrideMimeType&&xhr.overrideMimeType(settings.content_type),xhr.open(settings.type||(settings.data?"POST":"GET"),settings.url,settings.async),settings.crossDomain&&(xhr.withCredentials=!0),settings.content_type&&xhr.setRequestHeader("Content-Type",settings.content_type),settings.requestheaders&&$_1qam7ujjdud76lb.each(settings.requestheaders,function(header){xhr.setRequestHeader(header.key,header.value)}),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),(xhr=XHR.fire("beforeSend",{xhr:xhr,settings:settings}).xhr).send(settings.data),!settings.async)return ready();setTimeout(ready,10)}}};$_1qam7ujjdud76lb.extend(XHR,$_fs442644jdud778v);var extend$7=$_1qam7ujjdud76lb.extend,JSONRequest=function(settings){this.settings=extend$7({},settings),this.count=0};JSONRequest.sendRPC=function(o){return(new JSONRequest).send(o)},JSONRequest.prototype={send:function(args){var ecb=args.error,scb=args.success;(args=extend$7(this.settings,args)).success=function(c,x){void 0===(c=$_5ktsvy7fjdud77w9.parse(c))&&(c={error:"JSON Parse error."}),c.error?ecb.call(args.error_scope||args.scope,c.error,x):scb.call(args.success_scope||args.scope,c.result)},args.error=function(ty,x){ecb&&ecb.call(args.error_scope||args.scope,ty,x)},args.data=$_5ktsvy7fjdud77w9.serialize({id:args.id||"c"+this.count++,method:args.method,params:args.params}),args.content_type="application/json",XHR.send(args)}};var localStorage=window.localStorage,tinymce=EditorManager$1,publicApi={geom:{Rect:$_6foh8s7bjdud77vu},util:{Promise:promiseObj,Delay:$_8b7b3gjdud76ig,Tools:$_1qam7ujjdud76lb,VK:$_482bwm59jdud77ep,URI:URI,Class:Class,EventDispatcher:Dispatcher,Observable:$_fs442644jdud778v,I18n:$_zruov79jdud77vl,XHR:XHR,JSON:$_5ktsvy7fjdud77w9,JSONRequest:JSONRequest,JSONP:$_cshp567gjdud77wb,LocalStorage:localStorage,Color:function(value){var self={},r=0,g=0,b=0,parse=function(value){var matches;return"object"==typeof value?"r"in value?(r=value.r,g=value.g,b=value.b):"v"in value&&function(hue,saturation,brightness){var side,chroma,x,match;if(hue=(parseInt(hue,10)||0)%360,saturation=parseInt(saturation,10)/100,brightness=parseInt(brightness,10)/100,saturation=max$1(0,min$1(saturation,1)),brightness=max$1(0,min$1(brightness,1)),0!==saturation){switch(side=hue/60,x=(chroma=brightness*saturation)*(1-Math.abs(side%2-1)),match=brightness-chroma,Math.floor(side)){case 0:r=chroma,g=x,b=0;break;case 1:r=x,g=chroma,b=0;break;case 2:r=0,g=chroma,b=x;break;case 3:r=0,g=x,b=chroma;break;case 4:r=x,g=0,b=chroma;break;case 5:r=chroma,g=0,b=x;break;default:r=g=b=0}r=round$2(255*(r+match)),g=round$2(255*(g+match)),b=round$2(255*(b+match))}else r=g=b=round$2(255*brightness)}(value.h,value.s,value.v):(matches=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(value))?(r=parseInt(matches[1],10),g=parseInt(matches[2],10),b=parseInt(matches[3],10)):(matches=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value))?(r=parseInt(matches[1],16),g=parseInt(matches[2],16),b=parseInt(matches[3],16)):(matches=/#([0-F])([0-F])([0-F])/gi.exec(value))&&(r=parseInt(matches[1]+matches[1],16),g=parseInt(matches[2]+matches[2],16),b=parseInt(matches[3]+matches[3],16)),r=r<0?0:255<r?255:r,g=g<0?0:255<g?255:g,b=b<0?0:255<b?255:b,self};return value&&parse(value),self.toRgb=function(){return{r:r,g:g,b:b}},self.toHsv=function(){return function(r,g,b){var s,v,minRGB,maxRGB;return v=0,(minRGB=min$1(r/=255,min$1(g/=255,b/=255)))===(maxRGB=max$1(r,max$1(g,b)))?{h:0,s:0,v:100*(v=minRGB)}:(s=(maxRGB-minRGB)/maxRGB,{h:round$2(60*((r===minRGB?3:b===minRGB?1:5)-(r===minRGB?g-b:b===minRGB?r-g:b-r)/((v=maxRGB)-minRGB))),s:round$2(100*s),v:round$2(100*v)})}(r,g,b)},self.toHex=function(){var hex=function(val){return 1<(val=parseInt(val,10).toString(16)).length?val:"0"+val};return"#"+hex(r)+hex(g)+hex(b)},self.parse=parse,self}},dom:{EventUtils:EventUtils,Sizzle:Sizzle,DomQuery:DomQuery,TreeWalker:TreeWalker,DOMUtils:DOMUtils,ScriptLoader:ScriptLoader,RangeUtils:RangeUtils$1,Serializer:DomSerializer$1,ControlSelection:ControlSelection,BookmarkManager:BookmarkManager$1,Selection:Selection$1,Event:EventUtils.Event},html:{Styles:Styles,Entities:$_qg6wh1rjdud76r2,Node:Node$2,Schema:Schema,SaxParser:SaxParser$1,DomParser:DomParser,Writer:Writer,Serializer:HtmlSerializer},ui:{Factory:$_g0z31n7cjdud77vy},Env:$_3faz499jdud76f2,AddOnManager:AddOnManager,Formatter:Formatter,UndoManager:UndoManager,EditorCommands:EditorCommands,WindowManager:WindowManager,NotificationManager:NotificationManager,EditorObservable:EditorObservable$1,Shortcuts:Shortcuts,Editor:Editor,FocusManager:$_g6zi4h77jdud77vg,EditorManager:EditorManager$1,DOM:DOMUtils.DOM,ScriptLoader:ScriptLoader.ScriptLoader,PluginManager:AddOnManager.PluginManager,ThemeManager:AddOnManager.ThemeManager,trim:$_1qam7ujjdud76lb.trim,isArray:$_1qam7ujjdud76lb.isArray,is:$_1qam7ujjdud76lb.is,toArray:$_1qam7ujjdud76lb.toArray,makeMap:$_1qam7ujjdud76lb.makeMap,each:$_1qam7ujjdud76lb.each,map:$_1qam7ujjdud76lb.map,grep:$_1qam7ujjdud76lb.grep,inArray:$_1qam7ujjdud76lb.inArray,extend:$_1qam7ujjdud76lb.extend,create:$_1qam7ujjdud76lb.create,walk:$_1qam7ujjdud76lb.walk,createNS:$_1qam7ujjdud76lb.createNS,resolve:$_1qam7ujjdud76lb.resolve,explode:$_1qam7ujjdud76lb.explode,_addCacheSuffix:$_1qam7ujjdud76lb._addCacheSuffix,isOpera:$_3faz499jdud76f2.opera,isWebKit:$_3faz499jdud76f2.webkit,isIE:$_3faz499jdud76f2.ie,isGecko:$_3faz499jdud76f2.gecko,isMac:$_3faz499jdud76f2.mac},Tinymce=tinymce=$_1qam7ujjdud76lb.extend(tinymce,publicApi);!function(tinymce){window.tinymce=tinymce,window.tinyMCE=tinymce}(Tinymce),function(tinymce){try{module.exports=tinymce}catch(_){}}(Tinymce)}()}).call(exports,__webpack_require__(78).setImmediate)},function(module,exports,__webpack_require__){"use strict";var isObject=__webpack_require__(109);function assign(a,b){for(var key in b)hasOwn(b,key)&&(a[key]=b[key])}function hasOwn(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}module.exports=function extend(o){isObject(o)||(o={});for(var len=arguments.length,i=1;i<len;i++){var obj=arguments[i];isObject(obj)&&assign(o,obj)}return o}},function(module,exports,__webpack_require__){__webpack_require__(18),module.exports=__webpack_require__(19)},function(module,exports){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this}()||Function("return this")())},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_markdownIt2=_interopRequireDefault(__webpack_require__(20)),_turndown2=_interopRequireDefault(__webpack_require__(76)),_tinymce2=_interopRequireDefault(__webpack_require__(15));__webpack_require__(81),__webpack_require__(82),__webpack_require__(84),__webpack_require__(86),__webpack_require__(88),__webpack_require__(90),__webpack_require__(92),__webpack_require__(94),__webpack_require__(96),__webpack_require__(98),__webpack_require__(100),__webpack_require__(102),__webpack_require__(103);var _pretty2=_interopRequireDefault(__webpack_require__(104));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var inititalized=!1,masterWindow=window.opener||window.parent,params=window.location.search.substring(1).split("&").reduce(function(res,i){if(i.split("=")[0]){var val=i.split("=")[1];val=null==val||val,res[i.split("=")[0]]=val}return res},{}),iframe=document.querySelector("#code-editor"),editors=void 0;function init(){var _ref=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},_ref$color=_ref.color,color=void 0===_ref$color?"#275fa6":_ref$color,_ref$content=_ref.content,content=void 0===_ref$content?"":_ref$content,_ref$settings=_ref.settings,settings=void 0===_ref$settings?{}:_ref$settings,callbackId=_ref.callbackId;return new Promise(function(resolve){var colorPrimary=color,markdown=void 0,turndown=void 0;if(inititalized=!0,"markdown"===(settings=Object.assign({codeMode:"html",topbar:params.init&&masterWindow,menubar:!0,statusbar:!0},settings)).codeMode&&(markdown=new _markdownIt2.default,turndown=new _turndown2.default),!settings.topbar){var topbar=document.querySelector(".editor-wrapper-menu");topbar.parentElement.removeChild(topbar)}document.documentElement.style.setProperty("--color--primary",colorPrimary);var isMD="markdown"===settings.codeMode,tinymceSettings=Object.assign({},isMD?{object_resizing:!1,image_dimensions:!1,toolbar:"undo redo | styleselect | bold italic | bullist numlist | link image hr",plugins:["contextmenu","paste","link","lists","hr","image"],menu:{edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"link image hr"},view:{title:"View",items:"visualaid"}},style_formats:[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"}]},{title:"Blocks",items:[{title:"Blockquote",format:"blockquote"},{title:"Code",format:"code"}]},{title:"Clear formatting",format:"removeformat"}]}:{plugins:["contextmenu","fullpage","paste","link","lists","table","colorpicker","textcolor","hr","image"],toolbar:"undo redo | styleselect | bold italic | alignleft\n\t\t                   aligncenter alignright alignjustify |\n\t\t                   bullist numlist outdent indent | link image | forecolor backcolor",table_toolbar:!1,valid_elements:"+*[*]",valid_children:"+body[style]",object_resizing:!1},{content_style:":root{--color--primary: "+colorPrimary+";}",content_css:["./css/frame.css","./css/scrollbar.css"],menubar:settings.menubar,statusbar:settings.statusbar,selector:"#wysiwyg",language:"ru",relative_urls:!1,remove_script_host:!1,force_p_newlines:!0,force_br_newlines:!0,remove_linebreaks:!1,forced_root_block:!1,branding:!1,setup:function setup(editor){editor.hasVisual=!1,editor.addSidebar("codebar",{tooltip:"Code sidebar",icon:"code",classes:"code-btn",onrender:function onrender(api){var _this=this;return function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}(regeneratorRuntime.mark(function _callee(){var panel,codeEditor,wysiwyg_ifr,ctrl,ignoreInput,ignoreInputTimeout,toWysiwyg,updateCodeEditor,lastContent;return regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return updateCodeEditor=function updateCodeEditor(){clearTimeout(ignoreInputTimeout),ignoreInput=!0;var pos=codeEditor.session.selection.toJSON();"markdown"===settings.codeMode?codeEditor.session.setValue(turndown.turndown(editor.getContent())):codeEditor.session.setValue((0,_pretty2.default)(editor.getContent(),{"indent-with-tabs":!0,indent_char:"\t",indent_size:1})),codeEditor.session.selection.fromJSON(pos),settings.saveOnChange&&ctrl.save(),ignoreInputTimeout=setTimeout(function(){ignoreInput=!1},50)},toWysiwyg=function toWysiwyg(content){editor.settings.modifyingCode=!0,"markdown"===settings.codeMode?editor.setContent(markdown.render(content)):editor.setContent(content),editor.settings.modifyingCode=!1},(panel=api.element()).classList.add("code-editor-panel"),panel.appendChild(iframe),_context.next=7,codeEditorLoading;case 7:codeEditor=_context.sent,wysiwyg_ifr=document.querySelector("#wysiwyg_ifr"),ctrl={save:function save(){var close=0<arguments.length&&void 0!==arguments[0]&&arguments[0];masterWindow.postMessage(JSON.stringify({type:"save",close:close,id:callbackId,content:codeEditor.getValue()}),"*")},cancel:function cancel(){window.close()},changemode:function changemode(mode){iframe.contentWindow.setMode(mode)},settings:function settings(){var data=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},customCssClass="customcss-"+btoa(Math.random()).replace(/\=/gi,""),customStyleClass="customstyle-"+btoa(Math.random()).replace(/\=/gi,"");function addCssToDocument(document,css){var tmp=document.createElement("div");[].concat(_toConsumableArray(document.querySelectorAll("."+customCssClass))).forEach(function(link){link.parentNode.removeChild(link)});var head=document.querySelector("head");[].concat(css).forEach(function(link){tmp.innerHTML='<link rel="stylesheet" type="text/css" class="'+customCssClass+'" href="'+link+'">',head.appendChild(tmp.firstChild)})}function addStyleToDocument(document,style){var tmp=document.createElement("div");[].concat(_toConsumableArray(document.querySelectorAll("."+customStyleClass))).forEach(function(link){link.parentNode.removeChild(link)});var head=document.querySelector("head");[].concat(style).forEach(function(style){tmp.innerHTML='<style class="'+customStyleClass+'">'+style+"</style>",head.appendChild(tmp.firstChild)})}data.contentCss&&addCssToDocument(wysiwyg_ifr.contentWindow.document,data.contentCss),data.editorCss&&addCssToDocument(document,data.editorCss),data.codeEditorCss&&addCssToDocument(iframe.contentWindow.document,data.codeEditorCss),data.contentStyle&&addStyleToDocument(wysiwyg_ifr.contentWindow.document,data.contentStyle),data.editorStyle&&addStyleToDocument(document,data.editorStyle),data.codeEditorStyle&&addStyleToDocument(iframe.contentWindow.document,data.codeEditorStyle),data.theme&&iframe.contentWindow.setTheme(data.theme)}},masterWindow&&params.init&&(settings.topbar&&(document.querySelector(".button-ok").addEventListener("click",function(){return ctrl.save(!0)}),document.querySelector(".button-cancel").addEventListener("click",function(){return ctrl.cancel()})),window.addEventListener("beforeunload",function(){masterWindow.postMessage(JSON.stringify({type:"cancel",id:callbackId}),"*")})),iframe.contentWindow.document.documentElement.style.setProperty("--color--primary",colorPrimary),codeEditor.$blockScrolling=1/0,ignoreInput=!1,ignoreInputTimeout=void 0,codeEditor.on("input",function(){ignoreInput||toWysiwyg(codeEditor.getValue())}),lastContent="",setInterval(function(){if(document.activeElement!==iframe){var _content=editor.getContent();lastContent!==_content&&(lastContent=_content,updateCodeEditor())}},50),toWysiwyg(content),updateCodeEditor(),setTimeout(function(){toWysiwyg(codeEditor.getValue())},100),resolve({codeEditor:codeEditor,editor:editor,ctrl:ctrl});case 22:case"end":return _context.stop()}},_callee,_this)}))()}})},init_instance_callback:function init_instance_callback(editor){editor.on("paste",function(e){isMD&&editor.setContent(markdown.render(turndown.turndown(editor.getContent())))})}}),codeEditorLoading=new Promise(function(resolve){var inerv=setInterval(function(){iframe.contentWindow&&iframe.contentWindow.editor&&(clearInterval(inerv),iframe.contentWindow.setMode(settings.codeMode),resolve(iframe.contentWindow.editor))},30)});_tinymce2.default.init(tinymceSettings).then(function(_ref2){_slicedToArray(_ref2,1)[0].theme.panel.find(".sidebar-toolbar button")[0].$el.trigger("click")})})}params.init&&masterWindow?(window.addEventListener("message",function(event){if(event.data){var data=JSON.parse(event.data);data.id===params.init&&("init"!==data.type||inititalized||init(data.data).then(function(ed){masterWindow.postMessage(JSON.stringify({type:"initialized",id:params.init}),"*"),editors=ed}),"save"===data.type&&editors&&editors.ctrl.save(),"cancel"===data.type&&editors&&editors.ctrl.cancel(),"changemode"===data.type&&editors&&editors.ctrl.changemode(data.mode),"settings"===data.type&&editors&&editors.ctrl.settings(data.data))}}),masterWindow.postMessage(JSON.stringify({type:"preinit",id:params.init}),"*")):init()},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(21)},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0),helpers=__webpack_require__(29),Renderer=__webpack_require__(33),ParserCore=__webpack_require__(34),ParserBlock=__webpack_require__(42),ParserInline=__webpack_require__(56),LinkifyIt=__webpack_require__(69),mdurl=__webpack_require__(8),punycode=__webpack_require__(71),config={default:__webpack_require__(73),zero:__webpack_require__(74),commonmark:__webpack_require__(75)},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(url){var str=url.trim().toLowerCase();return!BAD_PROTO_RE.test(str)||!!GOOD_DATA_RE.test(str)}var RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(url){var parsed=mdurl.parse(url,!0);if(parsed.hostname&&(!parsed.protocol||0<=RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)))try{parsed.hostname=punycode.toASCII(parsed.hostname)}catch(er){}return mdurl.encode(mdurl.format(parsed))}function normalizeLinkText(url){var parsed=mdurl.parse(url,!0);if(parsed.hostname&&(!parsed.protocol||0<=RECODE_HOSTNAME_FOR.indexOf(parsed.protocol)))try{parsed.hostname=punycode.toUnicode(parsed.hostname)}catch(er){}return mdurl.decode(mdurl.format(parsed))}function MarkdownIt(presetName,options){if(!(this instanceof MarkdownIt))return new MarkdownIt(presetName,options);options||utils.isString(presetName)||(options=presetName||{},presetName="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new ParserCore,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=utils.assign({},helpers),this.options={},this.configure(presetName),options&&this.set(options)}MarkdownIt.prototype.set=function(options){return utils.assign(this.options,options),this},MarkdownIt.prototype.configure=function(presets){var presetName,self=this;if(utils.isString(presets)&&!(presets=config[presetName=presets]))throw new Error('Wrong `markdown-it` preset "'+presetName+'", check name');if(!presets)throw new Error("Wrong `markdown-it` preset, can't be empty");return presets.options&&self.set(presets.options),presets.components&&Object.keys(presets.components).forEach(function(name){presets.components[name].rules&&self[name].ruler.enableOnly(presets.components[name].rules),presets.components[name].rules2&&self[name].ruler2.enableOnly(presets.components[name].rules2)}),this},MarkdownIt.prototype.enable=function(list,ignoreInvalid){var result=[];Array.isArray(list)||(list=[list]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.enable(list,!0))},this),result=result.concat(this.inline.ruler2.enable(list,!0));var missed=list.filter(function(name){return result.indexOf(name)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+missed);return this},MarkdownIt.prototype.disable=function(list,ignoreInvalid){var result=[];Array.isArray(list)||(list=[list]),["core","block","inline"].forEach(function(chain){result=result.concat(this[chain].ruler.disable(list,!0))},this),result=result.concat(this.inline.ruler2.disable(list,!0));var missed=list.filter(function(name){return result.indexOf(name)<0});if(missed.length&&!ignoreInvalid)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+missed);return this},MarkdownIt.prototype.use=function(plugin){var args=[this].concat(Array.prototype.slice.call(arguments,1));return plugin.apply(plugin,args),this},MarkdownIt.prototype.parse=function(src,env){if("string"!=typeof src)throw new Error("Input data should be a String");var state=new this.core.State(src,this,env);return this.core.process(state),state.tokens},MarkdownIt.prototype.render=function(src,env){return env=env||{},this.renderer.render(this.parse(src,env),this.options,env)},MarkdownIt.prototype.parseInline=function(src,env){var state=new this.core.State(src,this,env);return state.inlineMode=!0,this.core.process(state),state.tokens},MarkdownIt.prototype.renderInline=function(src,env){return env=env||{},this.renderer.render(this.parseInline(src,env),this.options,env)},module.exports=MarkdownIt},function(module,exports){module.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(module,exports,__webpack_require__){"use strict";var encodeCache={};function encode(string,exclude,keepEscaped){var i,l,code,nextCode,cache,result="";for("string"!=typeof exclude&&(keepEscaped=exclude,exclude=encode.defaultChars),void 0===keepEscaped&&(keepEscaped=!0),cache=function getEncodeCache(exclude){var i,ch,cache=encodeCache[exclude];if(cache)return cache;for(cache=encodeCache[exclude]=[],i=0;i<128;i++)ch=String.fromCharCode(i),/^[0-9a-z]$/i.test(ch)?cache.push(ch):cache.push("%"+("0"+i.toString(16).toUpperCase()).slice(-2));for(i=0;i<exclude.length;i++)cache[exclude.charCodeAt(i)]=exclude[i];return cache}(exclude),i=0,l=string.length;i<l;i++)if(code=string.charCodeAt(i),keepEscaped&&37===code&&i+2<l&&/^[0-9a-f]{2}$/i.test(string.slice(i+1,i+3)))result+=string.slice(i,i+3),i+=2;else if(code<128)result+=cache[code];else if(55296<=code&&code<=57343){if(55296<=code&&code<=56319&&i+1<l&&56320<=(nextCode=string.charCodeAt(i+1))&&nextCode<=57343){result+=encodeURIComponent(string[i]+string[i+1]),i++;continue}result+="%EF%BF%BD"}else result+=encodeURIComponent(string[i]);return result}encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",module.exports=encode},function(module,exports,__webpack_require__){"use strict";var decodeCache={};function decode(string,exclude){var cache;return"string"!=typeof exclude&&(exclude=decode.defaultChars),cache=function getDecodeCache(exclude){var i,ch,cache=decodeCache[exclude];if(cache)return cache;for(cache=decodeCache[exclude]=[],i=0;i<128;i++)ch=String.fromCharCode(i),cache.push(ch);for(i=0;i<exclude.length;i++)cache[ch=exclude.charCodeAt(i)]="%"+("0"+ch.toString(16).toUpperCase()).slice(-2);return cache}(exclude),string.replace(/(%[a-f0-9]{2})+/gi,function(seq){var i,l,b1,b2,b3,b4,chr,result="";for(i=0,l=seq.length;i<l;i+=3)(b1=parseInt(seq.slice(i+1,i+3),16))<128?result+=cache[b1]:192==(224&b1)&&i+3<l&&128==(192&(b2=parseInt(seq.slice(i+4,i+6),16)))?(result+=(chr=b1<<6&1984|63&b2)<128?"\ufffd\ufffd":String.fromCharCode(chr),i+=3):224==(240&b1)&&i+6<l&&(b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),128==(192&b2)&&128==(192&b3))?(result+=(chr=b1<<12&61440|b2<<6&4032|63&b3)<2048||55296<=chr&&chr<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(chr),i+=6):240==(248&b1)&&i+9<l&&(b2=parseInt(seq.slice(i+4,i+6),16),b3=parseInt(seq.slice(i+7,i+9),16),b4=parseInt(seq.slice(i+10,i+12),16),128==(192&b2)&&128==(192&b3)&&128==(192&b4))?((chr=b1<<18&1835008|b2<<12&258048|b3<<6&4032|63&b4)<65536||1114111<chr?result+="\ufffd\ufffd\ufffd\ufffd":(chr-=65536,result+=String.fromCharCode(55296+(chr>>10),56320+(1023&chr))),i+=9):result+="\ufffd";return result})}decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",module.exports=decode},function(module,exports,__webpack_require__){"use strict";module.exports=function format(url){var result="";return result+=url.protocol||"",result+=url.slashes?"//":"",result+=url.auth?url.auth+"@":"",url.hostname&&-1!==url.hostname.indexOf(":")?result+="["+url.hostname+"]":result+=url.hostname||"",result+=url.port?":"+url.port:"",result+=url.pathname||"",result+=url.search||"",result+=url.hash||""}},function(module,exports,__webpack_require__){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(url,slashesDenoteHost){var i,l,lowerProto,hec,slashes,rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.pathname=simplePath[1],simplePath[2]&&(this.search=simplePath[2]),this}var proto=protocolPattern.exec(rest);if(proto&&(lowerProto=(proto=proto[0]).toLowerCase(),this.protocol=proto,rest=rest.substr(proto.length)),(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(slashes="//"===rest.substr(0,2))||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)),!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var auth,atSign,hostEnd=-1;for(i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);for(-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=auth),hostEnd=-1,i=0;i<nonHostChars.length;i++)-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);-1===hostEnd&&(hostEnd=rest.length),":"===rest[hostEnd-1]&&hostEnd--;var host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd),this.parseHost(host),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)127<part.charCodeAt(j)?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest=notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}}255<this.hostname.length&&(this.hostname=""),ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");return-1!==qm&&(this.search=rest.substr(qm),rest=rest.slice(0,qm)),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(host){var port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)},module.exports=function urlParse(url,slashesDenoteHost){if(url&&url instanceof Url)return url;var u=new Url;return u.parse(url,slashesDenoteHost),u}},function(module,exports,__webpack_require__){"use strict";exports.Any=__webpack_require__(9),exports.Cc=__webpack_require__(10),exports.Cf=__webpack_require__(28),exports.P=__webpack_require__(1),exports.Z=__webpack_require__(11)},function(module,exports){module.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(module,exports,__webpack_require__){"use strict";exports.parseLinkLabel=__webpack_require__(30),exports.parseLinkDestination=__webpack_require__(31),exports.parseLinkTitle=__webpack_require__(32)},function(module,exports,__webpack_require__){"use strict";module.exports=function parseLinkLabel(state,start,disableNested){var level,found,marker,prevPos,labelEnd=-1,max=state.posMax,oldPos=state.pos;for(state.pos=start+1,level=1;state.pos<max;){if(93===(marker=state.src.charCodeAt(state.pos))&&0===--level){found=!0;break}if(prevPos=state.pos,state.md.inline.skipToken(state),91===marker)if(prevPos===state.pos-1)level++;else if(disableNested)return state.pos=oldPos,-1}return found&&(labelEnd=state.pos),state.pos=oldPos,labelEnd}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace,unescapeAll=__webpack_require__(0).unescapeAll;module.exports=function parseLinkDestination(str,pos,max){var code,level,start=pos,result={ok:!1,pos:0,lines:0,str:""};if(60===str.charCodeAt(pos)){for(pos++;pos<max;){if(10===(code=str.charCodeAt(pos))||isSpace(code))return result;if(62===code)return result.pos=pos+1,result.str=unescapeAll(str.slice(start+1,pos)),result.ok=!0,result;92===code&&pos+1<max?pos+=2:pos++}return result}for(level=0;pos<max&&32!==(code=str.charCodeAt(pos))&&!(code<32||127===code);)if(92===code&&pos+1<max)pos+=2;else{if(40===code&&level++,41===code){if(0===level)break;level--}pos++}return start===pos||0!==level||(result.str=unescapeAll(str.slice(start,pos)),result.lines=0,result.pos=pos,result.ok=!0),result}},function(module,exports,__webpack_require__){"use strict";var unescapeAll=__webpack_require__(0).unescapeAll;module.exports=function parseLinkTitle(str,pos,max){var code,marker,lines=0,start=pos,result={ok:!1,pos:0,lines:0,str:""};if(max<=pos)return result;if(34!==(marker=str.charCodeAt(pos))&&39!==marker&&40!==marker)return result;for(pos++,40===marker&&(marker=41);pos<max;){if((code=str.charCodeAt(pos))===marker)return result.pos=pos+1,result.lines=lines,result.str=unescapeAll(str.slice(start+1,pos)),result.ok=!0,result;10===code?lines++:92===code&&pos+1<max&&(pos++,10===str.charCodeAt(pos)&&lines++),pos++}return result}},function(module,exports,__webpack_require__){"use strict";var assign=__webpack_require__(0).assign,unescapeAll=__webpack_require__(0).unescapeAll,escapeHtml=__webpack_require__(0).escapeHtml,default_rules={};function Renderer(){this.rules=assign({},default_rules)}default_rules.code_inline=function(tokens,idx,options,env,slf){var token=tokens[idx];return"<code"+slf.renderAttrs(token)+">"+escapeHtml(tokens[idx].content)+"</code>"},default_rules.code_block=function(tokens,idx,options,env,slf){var token=tokens[idx];return"<pre"+slf.renderAttrs(token)+"><code>"+escapeHtml(tokens[idx].content)+"</code></pre>\n"},default_rules.fence=function(tokens,idx,options,env,slf){var highlighted,i,tmpAttrs,tmpToken,token=tokens[idx],info=token.info?unescapeAll(token.info).trim():"",langName="";return info&&(langName=info.split(/\s+/g)[0]),0===(highlighted=options.highlight&&options.highlight(token.content,langName)||escapeHtml(token.content)).indexOf("<pre")?highlighted+"\n":info?(i=token.attrIndex("class"),tmpAttrs=token.attrs?token.attrs.slice():[],i<0?tmpAttrs.push(["class",options.langPrefix+langName]):tmpAttrs[i][1]+=" "+options.langPrefix+langName,tmpToken={attrs:tmpAttrs},"<pre><code"+slf.renderAttrs(tmpToken)+">"+highlighted+"</code></pre>\n"):"<pre><code"+slf.renderAttrs(token)+">"+highlighted+"</code></pre>\n"},default_rules.image=function(tokens,idx,options,env,slf){var token=tokens[idx];return token.attrs[token.attrIndex("alt")][1]=slf.renderInlineAsText(token.children,options,env),slf.renderToken(tokens,idx,options)},default_rules.hardbreak=function(tokens,idx,options){return options.xhtmlOut?"<br />\n":"<br>\n"},default_rules.softbreak=function(tokens,idx,options){return options.breaks?options.xhtmlOut?"<br />\n":"<br>\n":"\n"},default_rules.text=function(tokens,idx){return escapeHtml(tokens[idx].content)},default_rules.html_block=function(tokens,idx){return tokens[idx].content},default_rules.html_inline=function(tokens,idx){return tokens[idx].content},Renderer.prototype.renderAttrs=function renderAttrs(token){var i,l,result;if(!token.attrs)return"";for(result="",i=0,l=token.attrs.length;i<l;i++)result+=" "+escapeHtml(token.attrs[i][0])+'="'+escapeHtml(token.attrs[i][1])+'"';return result},Renderer.prototype.renderToken=function renderToken(tokens,idx,options){var nextToken,result="",needLf=!1,token=tokens[idx];return token.hidden?"":(token.block&&-1!==token.nesting&&idx&&tokens[idx-1].hidden&&(result+="\n"),result+=(-1===token.nesting?"</":"<")+token.tag,result+=this.renderAttrs(token),0===token.nesting&&options.xhtmlOut&&(result+=" /"),token.block&&(needLf=!0,1===token.nesting&&idx+1<tokens.length&&("inline"===(nextToken=tokens[idx+1]).type||nextToken.hidden?needLf=!1:-1===nextToken.nesting&&nextToken.tag===token.tag&&(needLf=!1))),result+=needLf?">\n":">")},Renderer.prototype.renderInline=function(tokens,options,env){for(var type,result="",rules=this.rules,i=0,len=tokens.length;i<len;i++)void 0!==rules[type=tokens[i].type]?result+=rules[type](tokens,i,options,env,this):result+=this.renderToken(tokens,i,options);return result},Renderer.prototype.renderInlineAsText=function(tokens,options,env){for(var result="",i=0,len=tokens.length;i<len;i++)"text"===tokens[i].type?result+=tokens[i].content:"image"===tokens[i].type&&(result+=this.renderInlineAsText(tokens[i].children,options,env));return result},Renderer.prototype.render=function(tokens,options,env){var i,len,type,result="",rules=this.rules;for(i=0,len=tokens.length;i<len;i++)"inline"===(type=tokens[i].type)?result+=this.renderInline(tokens[i].children,options,env):void 0!==rules[type]?result+=rules[tokens[i].type](tokens,i,options,env,this):result+=this.renderToken(tokens,i,options,env);return result},module.exports=Renderer},function(module,exports,__webpack_require__){"use strict";var Ruler=__webpack_require__(2),_rules=[["normalize",__webpack_require__(35)],["block",__webpack_require__(36)],["inline",__webpack_require__(37)],["linkify",__webpack_require__(38)],["replacements",__webpack_require__(39)],["smartquotes",__webpack_require__(40)]];function Core(){this.ruler=new Ruler;for(var i=0;i<_rules.length;i++)this.ruler.push(_rules[i][0],_rules[i][1])}Core.prototype.process=function(state){var i,l,rules;for(i=0,l=(rules=this.ruler.getRules("")).length;i<l;i++)rules[i](state)},Core.prototype.State=__webpack_require__(41),module.exports=Core},function(module,exports,__webpack_require__){"use strict";var NEWLINES_RE=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,NULL_RE=/\u0000/g;module.exports=function inline(state){var str;str=(str=state.src.replace(NEWLINES_RE,"\n")).replace(NULL_RE,"\ufffd"),state.src=str}},function(module,exports,__webpack_require__){"use strict";module.exports=function block(state){var token;state.inlineMode?((token=new state.Token("inline","",0)).content=state.src,token.map=[0,1],token.children=[],state.tokens.push(token)):state.md.block.parse(state.src,state.md,state.env,state.tokens)}},function(module,exports,__webpack_require__){"use strict";module.exports=function inline(state){var tok,i,l,tokens=state.tokens;for(i=0,l=tokens.length;i<l;i++)"inline"===(tok=tokens[i]).type&&state.md.inline.parse(tok.content,state.md,state.env,tok.children)}},function(module,exports,__webpack_require__){"use strict";var arrayReplaceAt=__webpack_require__(0).arrayReplaceAt;function isLinkClose(str){return/^<\/a\s*>/i.test(str)}module.exports=function linkify(state){var i,j,l,tokens,token,currentToken,nodes,ln,text,pos,lastPos,level,htmlLinkLevel,url,fullUrl,urlText,links,str,blockTokens=state.tokens;if(state.md.options.linkify)for(j=0,l=blockTokens.length;j<l;j++)if("inline"===blockTokens[j].type&&state.md.linkify.pretest(blockTokens[j].content))for(htmlLinkLevel=0,i=(tokens=blockTokens[j].children).length-1;0<=i;i--)if("link_close"!==(currentToken=tokens[i]).type){if("html_inline"===currentToken.type&&(str=currentToken.content,/^<a[>\s]/i.test(str)&&0<htmlLinkLevel&&htmlLinkLevel--,isLinkClose(currentToken.content)&&htmlLinkLevel++),!(0<htmlLinkLevel)&&"text"===currentToken.type&&state.md.linkify.test(currentToken.content)){for(text=currentToken.content,links=state.md.linkify.match(text),nodes=[],level=currentToken.level,ln=lastPos=0;ln<links.length;ln++)url=links[ln].url,fullUrl=state.md.normalizeLink(url),state.md.validateLink(fullUrl)&&(urlText=links[ln].text,urlText=links[ln].schema?"mailto:"!==links[ln].schema||/^mailto:/i.test(urlText)?state.md.normalizeLinkText(urlText):state.md.normalizeLinkText("mailto:"+urlText).replace(/^mailto:/,""):state.md.normalizeLinkText("http://"+urlText).replace(/^http:\/\//,""),lastPos<(pos=links[ln].index)&&((token=new state.Token("text","",0)).content=text.slice(lastPos,pos),token.level=level,nodes.push(token)),(token=new state.Token("link_open","a",1)).attrs=[["href",fullUrl]],token.level=level++,token.markup="linkify",token.info="auto",nodes.push(token),(token=new state.Token("text","",0)).content=urlText,token.level=level,nodes.push(token),(token=new state.Token("link_close","a",-1)).level=--level,token.markup="linkify",token.info="auto",nodes.push(token),lastPos=links[ln].lastIndex);lastPos<text.length&&((token=new state.Token("text","",0)).content=text.slice(lastPos),token.level=level,nodes.push(token)),blockTokens[j].children=tokens=arrayReplaceAt(tokens,i,nodes)}}else for(i--;tokens[i].level!==currentToken.level&&"link_open"!==tokens[i].type;)i--}},function(module,exports,__webpack_require__){"use strict";var RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r|p)\)/i,SCOPED_ABBR_RE=/\((c|tm|r|p)\)/gi,SCOPED_ABBR={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function replaceFn(match,name){return SCOPED_ABBR[name.toLowerCase()]}function replace_scoped(inlineTokens){var i,token,inside_autolink=0;for(i=inlineTokens.length-1;0<=i;i--)"text"!==(token=inlineTokens[i]).type||inside_autolink||(token.content=token.content.replace(SCOPED_ABBR_RE,replaceFn)),"link_open"===token.type&&"auto"===token.info&&inside_autolink--,"link_close"===token.type&&"auto"===token.info&&inside_autolink++}function replace_rare(inlineTokens){var i,token,inside_autolink=0;for(i=inlineTokens.length-1;0<=i;i--)"text"!==(token=inlineTokens[i]).type||inside_autolink||RARE_RE.test(token.content)&&(token.content=token.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===token.type&&"auto"===token.info&&inside_autolink--,"link_close"===token.type&&"auto"===token.info&&inside_autolink++}module.exports=function replace(state){var blkIdx;if(state.md.options.typographer)for(blkIdx=state.tokens.length-1;0<=blkIdx;blkIdx--)"inline"===state.tokens[blkIdx].type&&(SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)&&replace_scoped(state.tokens[blkIdx].children),RARE_RE.test(state.tokens[blkIdx].content)&&replace_rare(state.tokens[blkIdx].children))}},function(module,exports,__webpack_require__){"use strict";var isWhiteSpace=__webpack_require__(0).isWhiteSpace,isPunctChar=__webpack_require__(0).isPunctChar,isMdAsciiPunct=__webpack_require__(0).isMdAsciiPunct,QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="\u2019";function replaceAt(str,index,ch){return str.substr(0,index)+ch+str.substr(index+1)}function process_inlines(tokens,state){var i,token,text,t,pos,max,thisLevel,item,lastChar,nextChar,isLastPunctChar,isNextPunctChar,isLastWhiteSpace,isNextWhiteSpace,canOpen,canClose,j,isSingle,stack,openQuote,closeQuote;for(stack=[],i=0;i<tokens.length;i++){for(token=tokens[i],thisLevel=tokens[i].level,j=stack.length-1;0<=j&&!(stack[j].level<=thisLevel);j--);if(stack.length=j+1,"text"===token.type){pos=0,max=(text=token.content).length;OUTER:for(;pos<max&&(QUOTE_RE.lastIndex=pos,t=QUOTE_RE.exec(text));){if(canOpen=canClose=!0,pos=t.index+1,isSingle="'"===t[0],lastChar=32,0<=t.index-1)lastChar=text.charCodeAt(t.index-1);else for(j=i-1;0<=j&&("softbreak"!==tokens[j].type&&"hardbreak"!==tokens[j].type);j--)if("text"===tokens[j].type){lastChar=tokens[j].content.charCodeAt(tokens[j].content.length-1);break}if(nextChar=32,pos<max)nextChar=text.charCodeAt(pos);else for(j=i+1;j<tokens.length&&("softbreak"!==tokens[j].type&&"hardbreak"!==tokens[j].type);j++)if("text"===tokens[j].type){nextChar=tokens[j].content.charCodeAt(0);break}if(isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),(isNextWhiteSpace=isWhiteSpace(nextChar))?canOpen=!1:isNextPunctChar&&(isLastWhiteSpace||isLastPunctChar||(canOpen=!1)),isLastWhiteSpace?canClose=!1:isLastPunctChar&&(isNextWhiteSpace||isNextPunctChar||(canClose=!1)),34===nextChar&&'"'===t[0]&&48<=lastChar&&lastChar<=57&&(canClose=canOpen=!1),canOpen&&canClose&&(canOpen=!1,canClose=isNextPunctChar),canOpen||canClose){if(canClose)for(j=stack.length-1;0<=j&&(item=stack[j],!(stack[j].level<thisLevel));j--)if(item.single===isSingle&&stack[j].level===thisLevel){item=stack[j],isSingle?(openQuote=state.md.options.quotes[2],closeQuote=state.md.options.quotes[3]):(openQuote=state.md.options.quotes[0],closeQuote=state.md.options.quotes[1]),token.content=replaceAt(token.content,t.index,closeQuote),tokens[item.token].content=replaceAt(tokens[item.token].content,item.pos,openQuote),pos+=closeQuote.length-1,item.token===i&&(pos+=openQuote.length-1),max=(text=token.content).length,stack.length=j;continue OUTER}canOpen?stack.push({token:i,pos:t.index,single:isSingle,level:thisLevel}):canClose&&isSingle&&(token.content=replaceAt(token.content,t.index,APOSTROPHE))}else isSingle&&(token.content=replaceAt(token.content,t.index,APOSTROPHE))}}}}module.exports=function smartquotes(state){var blkIdx;if(state.md.options.typographer)for(blkIdx=state.tokens.length-1;0<=blkIdx;blkIdx--)"inline"===state.tokens[blkIdx].type&&QUOTE_TEST_RE.test(state.tokens[blkIdx].content)&&process_inlines(state.tokens[blkIdx].children,state)}},function(module,exports,__webpack_require__){"use strict";var Token=__webpack_require__(3);function StateCore(src,md,env){this.src=src,this.env=env,this.tokens=[],this.inlineMode=!1,this.md=md}StateCore.prototype.Token=Token,module.exports=StateCore},function(module,exports,__webpack_require__){"use strict";var Ruler=__webpack_require__(2),_rules=[["table",__webpack_require__(43),["paragraph","reference"]],["code",__webpack_require__(44)],["fence",__webpack_require__(45),["paragraph","reference","blockquote","list"]],["blockquote",__webpack_require__(46),["paragraph","reference","blockquote","list"]],["hr",__webpack_require__(47),["paragraph","reference","blockquote","list"]],["list",__webpack_require__(48),["paragraph","reference","blockquote"]],["reference",__webpack_require__(49)],["heading",__webpack_require__(50),["paragraph","reference","blockquote"]],["lheading",__webpack_require__(51)],["html_block",__webpack_require__(52),["paragraph","reference","blockquote"]],["paragraph",__webpack_require__(54)]];function ParserBlock(){this.ruler=new Ruler;for(var i=0;i<_rules.length;i++)this.ruler.push(_rules[i][0],_rules[i][1],{alt:(_rules[i][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(state,startLine,endLine){for(var i,rules=this.ruler.getRules(""),len=rules.length,line=startLine,hasEmptyLines=!1,maxNesting=state.md.options.maxNesting;line<endLine&&(state.line=line=state.skipEmptyLines(line),!(endLine<=line))&&!(state.sCount[line]<state.blkIndent);){if(state.level>=maxNesting){state.line=endLine;break}for(i=0;i<len&&!rules[i](state,line,endLine,!1);i++);state.tight=!hasEmptyLines,state.isEmpty(state.line-1)&&(hasEmptyLines=!0),(line=state.line)<endLine&&state.isEmpty(line)&&(hasEmptyLines=!0,line++,state.line=line)}},ParserBlock.prototype.parse=function(src,md,env,outTokens){var state;src&&(state=new this.State(src,md,env,outTokens),this.tokenize(state,state.line,state.lineMax))},ParserBlock.prototype.State=__webpack_require__(55),module.exports=ParserBlock},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;function getLine(state,line){var pos=state.bMarks[line]+state.blkIndent,max=state.eMarks[line];return state.src.substr(pos,max-pos)}function escapedSplit(str){var ch,result=[],pos=0,max=str.length,escapes=0,lastPos=0,backTicked=!1,lastBackTick=0;for(ch=str.charCodeAt(pos);pos<max;)96===ch?backTicked?(backTicked=!1,lastBackTick=pos):escapes%2==0&&(backTicked=!0,lastBackTick=pos):124!==ch||escapes%2!=0||backTicked||(result.push(str.substring(lastPos,pos)),lastPos=pos+1),92===ch?escapes++:escapes=0,++pos===max&&backTicked&&(backTicked=!1,pos=lastBackTick+1),ch=str.charCodeAt(pos);return result.push(str.substring(lastPos)),result}module.exports=function table(state,startLine,endLine,silent){var ch,lineText,pos,i,nextLine,columns,columnCount,token,aligns,t,tableLines,tbodyLines;if(endLine<startLine+2)return!1;if(nextLine=startLine+1,state.sCount[nextLine]<state.blkIndent)return!1;if(4<=state.sCount[nextLine]-state.blkIndent)return!1;if((pos=state.bMarks[nextLine]+state.tShift[nextLine])>=state.eMarks[nextLine])return!1;if(124!==(ch=state.src.charCodeAt(pos++))&&45!==ch&&58!==ch)return!1;for(;pos<state.eMarks[nextLine];){if(124!==(ch=state.src.charCodeAt(pos))&&45!==ch&&58!==ch&&!isSpace(ch))return!1;pos++}for(columns=(lineText=getLine(state,startLine+1)).split("|"),aligns=[],i=0;i<columns.length;i++){if(!(t=columns[i].trim())){if(0===i||i===columns.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?aligns.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?aligns.push("left"):aligns.push("")}if(-1===(lineText=getLine(state,startLine).trim()).indexOf("|"))return!1;if(4<=state.sCount[startLine]-state.blkIndent)return!1;if((columnCount=(columns=escapedSplit(lineText.replace(/^\||\|$/g,""))).length)>aligns.length)return!1;if(silent)return!0;for((token=state.push("table_open","table",1)).map=tableLines=[startLine,0],(token=state.push("thead_open","thead",1)).map=[startLine,startLine+1],(token=state.push("tr_open","tr",1)).map=[startLine,startLine+1],i=0;i<columns.length;i++)(token=state.push("th_open","th",1)).map=[startLine,startLine+1],aligns[i]&&(token.attrs=[["style","text-align:"+aligns[i]]]),(token=state.push("inline","",0)).content=columns[i].trim(),token.map=[startLine,startLine+1],token.children=[],token=state.push("th_close","th",-1);for(token=state.push("tr_close","tr",-1),token=state.push("thead_close","thead",-1),(token=state.push("tbody_open","tbody",1)).map=tbodyLines=[startLine+2,0],nextLine=startLine+2;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent)&&-1!==(lineText=getLine(state,nextLine).trim()).indexOf("|")&&!(4<=state.sCount[nextLine]-state.blkIndent);nextLine++){for(columns=escapedSplit(lineText.replace(/^\||\|$/g,"")),token=state.push("tr_open","tr",1),i=0;i<columnCount;i++)token=state.push("td_open","td",1),aligns[i]&&(token.attrs=[["style","text-align:"+aligns[i]]]),(token=state.push("inline","",0)).content=columns[i]?columns[i].trim():"",token.children=[],token=state.push("td_close","td",-1);token=state.push("tr_close","tr",-1)}return token=state.push("tbody_close","tbody",-1),token=state.push("table_close","table",-1),tableLines[1]=tbodyLines[1]=nextLine,state.line=nextLine,!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function code(state,startLine,endLine){var nextLine,last,token;if(state.sCount[startLine]-state.blkIndent<4)return!1;for(last=nextLine=startLine+1;nextLine<endLine;)if(state.isEmpty(nextLine))nextLine++;else{if(!(4<=state.sCount[nextLine]-state.blkIndent))break;last=++nextLine}return state.line=last,(token=state.push("code_block","code",0)).content=state.getLines(startLine,last,4+state.blkIndent,!0),token.map=[startLine,state.line],!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function fence(state,startLine,endLine,silent){var marker,len,params,nextLine,mem,token,markup,haveEndMarker=!1,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(max<pos+3)return!1;if(126!==(marker=state.src.charCodeAt(pos))&&96!==marker)return!1;if(mem=pos,(len=(pos=state.skipChars(pos,marker))-mem)<3)return!1;if(markup=state.src.slice(mem,pos),0<=(params=state.src.slice(pos,max)).indexOf(String.fromCharCode(marker)))return!1;if(silent)return!0;for(nextLine=startLine;!(endLine<=++nextLine)&&!((pos=mem=state.bMarks[nextLine]+state.tShift[nextLine])<(max=state.eMarks[nextLine])&&state.sCount[nextLine]<state.blkIndent);)if(state.src.charCodeAt(pos)===marker&&!(4<=state.sCount[nextLine]-state.blkIndent||(pos=state.skipChars(pos,marker))-mem<len||(pos=state.skipSpaces(pos))<max)){haveEndMarker=!0;break}return len=state.sCount[startLine],state.line=nextLine+(haveEndMarker?1:0),(token=state.push("fence","code",0)).info=params,token.content=state.getLines(startLine+1,nextLine,len,!0),token.markup=markup,token.map=[startLine,state.line],!0}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;module.exports=function blockquote(state,startLine,endLine,silent){var adjustTab,ch,i,initial,l,lastLineEmpty,lines,nextLine,offset,oldBMarks,oldBSCount,oldIndent,oldParentType,oldSCount,oldTShift,spaceAfterMarker,terminate,terminatorRules,token,wasOutdented,oldLineMax=state.lineMax,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(62!==state.src.charCodeAt(pos++))return!1;if(silent)return!0;for(initial=offset=state.sCount[startLine]+pos-(state.bMarks[startLine]+state.tShift[startLine]),32===state.src.charCodeAt(pos)?(pos++,initial++,offset++,adjustTab=!1,spaceAfterMarker=!0):9===state.src.charCodeAt(pos)?(spaceAfterMarker=!0,(state.bsCount[startLine]+offset)%4==3?(pos++,initial++,offset++,adjustTab=!1):adjustTab=!0):spaceAfterMarker=!1,oldBMarks=[state.bMarks[startLine]],state.bMarks[startLine]=pos;pos<max&&(ch=state.src.charCodeAt(pos),isSpace(ch));)9===ch?offset+=4-(offset+state.bsCount[startLine]+(adjustTab?1:0))%4:offset++,pos++;for(oldBSCount=[state.bsCount[startLine]],state.bsCount[startLine]=state.sCount[startLine]+1+(spaceAfterMarker?1:0),lastLineEmpty=max<=pos,oldSCount=[state.sCount[startLine]],state.sCount[startLine]=offset-initial,oldTShift=[state.tShift[startLine]],state.tShift[startLine]=pos-state.bMarks[startLine],terminatorRules=state.md.block.ruler.getRules("blockquote"),oldParentType=state.parentType,state.parentType="blockquote",wasOutdented=!1,nextLine=startLine+1;nextLine<endLine&&(state.sCount[nextLine]<state.blkIndent&&(wasOutdented=!0),pos=state.bMarks[nextLine]+state.tShift[nextLine],!((max=state.eMarks[nextLine])<=pos));nextLine++)if(62!==state.src.charCodeAt(pos++)||wasOutdented){if(lastLineEmpty)break;for(terminate=!1,i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate){state.lineMax=nextLine,0!==state.blkIndent&&(oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]-=state.blkIndent);break}oldBMarks.push(state.bMarks[nextLine]),oldBSCount.push(state.bsCount[nextLine]),oldTShift.push(state.tShift[nextLine]),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=-1}else{for(initial=offset=state.sCount[nextLine]+pos-(state.bMarks[nextLine]+state.tShift[nextLine]),32===state.src.charCodeAt(pos)?(pos++,initial++,offset++,adjustTab=!1,spaceAfterMarker=!0):9===state.src.charCodeAt(pos)?(spaceAfterMarker=!0,(state.bsCount[nextLine]+offset)%4==3?(pos++,initial++,offset++,adjustTab=!1):adjustTab=!0):spaceAfterMarker=!1,oldBMarks.push(state.bMarks[nextLine]),state.bMarks[nextLine]=pos;pos<max&&(ch=state.src.charCodeAt(pos),isSpace(ch));)9===ch?offset+=4-(offset+state.bsCount[nextLine]+(adjustTab?1:0))%4:offset++,pos++;lastLineEmpty=max<=pos,oldBSCount.push(state.bsCount[nextLine]),state.bsCount[nextLine]=state.sCount[nextLine]+1+(spaceAfterMarker?1:0),oldSCount.push(state.sCount[nextLine]),state.sCount[nextLine]=offset-initial,oldTShift.push(state.tShift[nextLine]),state.tShift[nextLine]=pos-state.bMarks[nextLine]}for(oldIndent=state.blkIndent,state.blkIndent=0,(token=state.push("blockquote_open","blockquote",1)).markup=">",token.map=lines=[startLine,0],state.md.block.tokenize(state,startLine,nextLine),(token=state.push("blockquote_close","blockquote",-1)).markup=">",state.lineMax=oldLineMax,state.parentType=oldParentType,lines[1]=state.line,i=0;i<oldTShift.length;i++)state.bMarks[i+startLine]=oldBMarks[i],state.tShift[i+startLine]=oldTShift[i],state.sCount[i+startLine]=oldSCount[i],state.bsCount[i+startLine]=oldBSCount[i];return state.blkIndent=oldIndent,!0}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;module.exports=function hr(state,startLine,endLine,silent){var marker,cnt,ch,token,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(42!==(marker=state.src.charCodeAt(pos++))&&45!==marker&&95!==marker)return!1;for(cnt=1;pos<max;){if((ch=state.src.charCodeAt(pos++))!==marker&&!isSpace(ch))return!1;ch===marker&&cnt++}return!(cnt<3)&&(silent||(state.line=startLine+1,(token=state.push("hr","hr",0)).map=[startLine,state.line],token.markup=Array(cnt+1).join(String.fromCharCode(marker))),!0)}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;function skipBulletListMarker(state,startLine){var marker,pos,max,ch;return pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],42!==(marker=state.src.charCodeAt(pos++))&&45!==marker&&43!==marker?-1:pos<max&&(ch=state.src.charCodeAt(pos),!isSpace(ch))?-1:pos}function skipOrderedListMarker(state,startLine){var ch,start=state.bMarks[startLine]+state.tShift[startLine],pos=start,max=state.eMarks[startLine];if(max<=pos+1)return-1;if((ch=state.src.charCodeAt(pos++))<48||57<ch)return-1;for(;;){if(max<=pos)return-1;if(!(48<=(ch=state.src.charCodeAt(pos++))&&ch<=57)){if(41===ch||46===ch)break;return-1}if(10<=pos-start)return-1}return pos<max&&(ch=state.src.charCodeAt(pos),!isSpace(ch))?-1:pos}module.exports=function list(state,startLine,endLine,silent){var ch,contentStart,i,indent,indentAfterMarker,initial,isOrdered,itemLines,l,listLines,listTokIdx,markerCharCode,markerValue,max,nextLine,offset,oldIndent,oldLIndent,oldParentType,oldTShift,oldTight,pos,posAfterMarker,prevEmptyEnd,start,terminate,terminatorRules,token,isTerminatingParagraph=!1,tight=!0;if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(silent&&"paragraph"===state.parentType&&state.tShift[startLine]>=state.blkIndent&&(isTerminatingParagraph=!0),0<=(posAfterMarker=skipOrderedListMarker(state,startLine))){if(isOrdered=!0,start=state.bMarks[startLine]+state.tShift[startLine],markerValue=Number(state.src.substr(start,posAfterMarker-start-1)),isTerminatingParagraph&&1!==markerValue)return!1}else{if(!(0<=(posAfterMarker=skipBulletListMarker(state,startLine))))return!1;isOrdered=!1}if(isTerminatingParagraph&&state.skipSpaces(posAfterMarker)>=state.eMarks[startLine])return!1;if(markerCharCode=state.src.charCodeAt(posAfterMarker-1),silent)return!0;for(listTokIdx=state.tokens.length,isOrdered?(token=state.push("ordered_list_open","ol",1),1!==markerValue&&(token.attrs=[["start",markerValue]])):token=state.push("bullet_list_open","ul",1),token.map=listLines=[startLine,0],token.markup=String.fromCharCode(markerCharCode),nextLine=startLine,prevEmptyEnd=!1,terminatorRules=state.md.block.ruler.getRules("list"),oldParentType=state.parentType,state.parentType="list";nextLine<endLine;){for(pos=posAfterMarker,max=state.eMarks[nextLine],initial=offset=state.sCount[nextLine]+posAfterMarker-(state.bMarks[startLine]+state.tShift[startLine]);pos<max;){if(9===(ch=state.src.charCodeAt(pos)))offset+=4-(offset+state.bsCount[nextLine])%4;else{if(32!==ch)break;offset++}pos++}if(4<(indentAfterMarker=max<=(contentStart=pos)?1:offset-initial)&&(indentAfterMarker=1),indent=initial+indentAfterMarker,(token=state.push("list_item_open","li",1)).markup=String.fromCharCode(markerCharCode),token.map=itemLines=[startLine,0],oldIndent=state.blkIndent,oldTight=state.tight,oldTShift=state.tShift[startLine],oldLIndent=state.sCount[startLine],state.blkIndent=indent,state.tight=!0,state.tShift[startLine]=contentStart-state.bMarks[startLine],state.sCount[startLine]=offset,max<=contentStart&&state.isEmpty(startLine+1)?state.line=Math.min(state.line+2,endLine):state.md.block.tokenize(state,startLine,endLine,!0),state.tight&&!prevEmptyEnd||(tight=!1),prevEmptyEnd=1<state.line-startLine&&state.isEmpty(state.line-1),state.blkIndent=oldIndent,state.tShift[startLine]=oldTShift,state.sCount[startLine]=oldLIndent,state.tight=oldTight,(token=state.push("list_item_close","li",-1)).markup=String.fromCharCode(markerCharCode),nextLine=startLine=state.line,itemLines[1]=nextLine,contentStart=state.bMarks[startLine],endLine<=nextLine)break;if(state.sCount[nextLine]<state.blkIndent)break;for(terminate=!1,i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break;if(isOrdered){if((posAfterMarker=skipOrderedListMarker(state,nextLine))<0)break}else if((posAfterMarker=skipBulletListMarker(state,nextLine))<0)break;if(markerCharCode!==state.src.charCodeAt(posAfterMarker-1))break}return(token=isOrdered?state.push("ordered_list_close","ol",-1):state.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(markerCharCode),listLines[1]=nextLine,state.line=nextLine,state.parentType=oldParentType,tight&&function markTightParagraphs(state,idx){var i,l,level=state.level+2;for(i=idx+2,l=state.tokens.length-2;i<l;i++)state.tokens[i].level===level&&"paragraph_open"===state.tokens[i].type&&(state.tokens[i+2].hidden=!0,state.tokens[i].hidden=!0,i+=2)}(state,listTokIdx),!0}},function(module,exports,__webpack_require__){"use strict";var normalizeReference=__webpack_require__(0).normalizeReference,isSpace=__webpack_require__(0).isSpace;module.exports=function reference(state,startLine,_endLine,silent){var ch,destEndPos,destEndLineNo,endLine,href,i,l,label,labelEnd,oldParentType,res,start,str,terminate,terminatorRules,title,lines=0,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine],nextLine=startLine+1;if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(91!==state.src.charCodeAt(pos))return!1;for(;++pos<max;)if(93===state.src.charCodeAt(pos)&&92!==state.src.charCodeAt(pos-1)){if(pos+1===max)return!1;if(58!==state.src.charCodeAt(pos+1))return!1;break}for(endLine=state.lineMax,terminatorRules=state.md.block.ruler.getRules("reference"),oldParentType=state.parentType,state.parentType="reference";nextLine<endLine&&!state.isEmpty(nextLine);nextLine++)if(!(3<state.sCount[nextLine]-state.blkIndent||state.sCount[nextLine]<0)){for(terminate=!1,i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}for(max=(str=state.getLines(startLine,nextLine,state.blkIndent,!1).trim()).length,pos=1;pos<max;pos++){if(91===(ch=str.charCodeAt(pos)))return!1;if(93===ch){labelEnd=pos;break}10===ch?lines++:92===ch&&++pos<max&&10===str.charCodeAt(pos)&&lines++}if(labelEnd<0||58!==str.charCodeAt(labelEnd+1))return!1;for(pos=labelEnd+2;pos<max;pos++)if(10===(ch=str.charCodeAt(pos)))lines++;else if(!isSpace(ch))break;if(!(res=state.md.helpers.parseLinkDestination(str,pos,max)).ok)return!1;if(href=state.md.normalizeLink(res.str),!state.md.validateLink(href))return!1;for(pos=res.pos,destEndLineNo=lines+=res.lines,start=destEndPos=pos;pos<max;pos++)if(10===(ch=str.charCodeAt(pos)))lines++;else if(!isSpace(ch))break;for(res=state.md.helpers.parseLinkTitle(str,pos,max),pos<max&&start!==pos&&res.ok?(title=res.str,pos=res.pos,lines+=res.lines):(title="",pos=destEndPos,lines=destEndLineNo);pos<max&&(ch=str.charCodeAt(pos),isSpace(ch));)pos++;if(pos<max&&10!==str.charCodeAt(pos)&&title)for(title="",pos=destEndPos,lines=destEndLineNo;pos<max&&(ch=str.charCodeAt(pos),isSpace(ch));)pos++;return!(pos<max&&10!==str.charCodeAt(pos))&&(!!(label=normalizeReference(str.slice(1,labelEnd)))&&(silent||(void 0===state.env.references&&(state.env.references={}),void 0===state.env.references[label]&&(state.env.references[label]={title:title,href:href}),state.parentType=oldParentType,state.line=startLine+lines+1),!0))}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;module.exports=function heading(state,startLine,endLine,silent){var ch,level,tmp,token,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(35!==(ch=state.src.charCodeAt(pos))||max<=pos)return!1;for(level=1,ch=state.src.charCodeAt(++pos);35===ch&&pos<max&&level<=6;)level++,ch=state.src.charCodeAt(++pos);return!(6<level||pos<max&&!isSpace(ch))&&(silent||(max=state.skipSpacesBack(max,pos),pos<(tmp=state.skipCharsBack(max,35,pos))&&isSpace(state.src.charCodeAt(tmp-1))&&(max=tmp),state.line=startLine+1,(token=state.push("heading_open","h"+String(level),1)).markup="########".slice(0,level),token.map=[startLine,state.line],(token=state.push("inline","",0)).content=state.src.slice(pos,max).trim(),token.map=[startLine,state.line],token.children=[],(token=state.push("heading_close","h"+String(level),-1)).markup="########".slice(0,level)),!0)}},function(module,exports,__webpack_require__){"use strict";module.exports=function lheading(state,startLine,endLine){var content,terminate,i,l,token,pos,max,level,marker,oldParentType,nextLine=startLine+1,terminatorRules=state.md.block.ruler.getRules("paragraph");if(4<=state.sCount[startLine]-state.blkIndent)return!1;for(oldParentType=state.parentType,state.parentType="paragraph";nextLine<endLine&&!state.isEmpty(nextLine);nextLine++)if(!(3<state.sCount[nextLine]-state.blkIndent)){if(state.sCount[nextLine]>=state.blkIndent&&(pos=state.bMarks[nextLine]+state.tShift[nextLine])<(max=state.eMarks[nextLine])&&(45===(marker=state.src.charCodeAt(pos))||61===marker)&&(pos=state.skipChars(pos,marker),max<=(pos=state.skipSpaces(pos)))){level=61===marker?1:2;break}if(!(state.sCount[nextLine]<0)){for(terminate=!1,i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}}return!!level&&(content=state.getLines(startLine,nextLine,state.blkIndent,!1).trim(),state.line=nextLine+1,(token=state.push("heading_open","h"+String(level),1)).markup=String.fromCharCode(marker),token.map=[startLine,state.line],(token=state.push("inline","",0)).content=content,token.map=[startLine,state.line-1],token.children=[],(token=state.push("heading_close","h"+String(level),-1)).markup=String.fromCharCode(marker),state.parentType=oldParentType,!0)}},function(module,exports,__webpack_require__){"use strict";var block_names=__webpack_require__(53),HTML_OPEN_CLOSE_TAG_RE=__webpack_require__(12).HTML_OPEN_CLOSE_TAG_RE,HTML_SEQUENCES=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];module.exports=function html_block(state,startLine,endLine,silent){var i,nextLine,token,lineText,pos=state.bMarks[startLine]+state.tShift[startLine],max=state.eMarks[startLine];if(4<=state.sCount[startLine]-state.blkIndent)return!1;if(!state.md.options.html)return!1;if(60!==state.src.charCodeAt(pos))return!1;for(lineText=state.src.slice(pos,max),i=0;i<HTML_SEQUENCES.length&&!HTML_SEQUENCES[i][0].test(lineText);i++);if(i===HTML_SEQUENCES.length)return!1;if(silent)return HTML_SEQUENCES[i][2];if(nextLine=startLine+1,!HTML_SEQUENCES[i][1].test(lineText))for(;nextLine<endLine&&!(state.sCount[nextLine]<state.blkIndent);nextLine++)if(pos=state.bMarks[nextLine]+state.tShift[nextLine],max=state.eMarks[nextLine],lineText=state.src.slice(pos,max),HTML_SEQUENCES[i][1].test(lineText)){0!==lineText.length&&nextLine++;break}return state.line=nextLine,(token=state.push("html_block","",0)).map=[startLine,nextLine],token.content=state.getLines(startLine,nextLine,state.blkIndent,!0),!0}},function(module,exports,__webpack_require__){"use strict";module.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(module,exports,__webpack_require__){"use strict";module.exports=function paragraph(state,startLine){var content,terminate,i,l,token,oldParentType,nextLine=startLine+1,terminatorRules=state.md.block.ruler.getRules("paragraph"),endLine=state.lineMax;for(oldParentType=state.parentType,state.parentType="paragraph";nextLine<endLine&&!state.isEmpty(nextLine);nextLine++)if(!(3<state.sCount[nextLine]-state.blkIndent||state.sCount[nextLine]<0)){for(terminate=!1,i=0,l=terminatorRules.length;i<l;i++)if(terminatorRules[i](state,nextLine,endLine,!0)){terminate=!0;break}if(terminate)break}return content=state.getLines(startLine,nextLine,state.blkIndent,!1).trim(),state.line=nextLine,(token=state.push("paragraph_open","p",1)).map=[startLine,state.line],(token=state.push("inline","",0)).content=content,token.map=[startLine,state.line],token.children=[],token=state.push("paragraph_close","p",-1),state.parentType=oldParentType,!0}},function(module,exports,__webpack_require__){"use strict";var Token=__webpack_require__(3),isSpace=__webpack_require__(0).isSpace;function StateBlock(src,md,env,tokens){var ch,s,start,pos,len,indent,offset,indent_found;for(this.src=src,this.md=md,this.env=env,this.tokens=tokens,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",indent_found=!1,start=pos=indent=offset=0,len=(s=this.src).length;pos<len;pos++){if(ch=s.charCodeAt(pos),!indent_found){if(isSpace(ch)){indent++,9===ch?offset+=4-offset%4:offset++;continue}indent_found=!0}10!==ch&&pos!==len-1||(10!==ch&&pos++,this.bMarks.push(start),this.eMarks.push(pos),this.tShift.push(indent),this.sCount.push(offset),this.bsCount.push(0),indent_found=!1,offset=indent=0,start=pos+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(type,tag,nesting){var token=new Token(type,tag,nesting);return token.block=!0,nesting<0&&this.level--,token.level=this.level,0<nesting&&this.level++,this.tokens.push(token),token},StateBlock.prototype.isEmpty=function isEmpty(line){return this.bMarks[line]+this.tShift[line]>=this.eMarks[line]},StateBlock.prototype.skipEmptyLines=function skipEmptyLines(from){for(var max=this.lineMax;from<max&&!(this.bMarks[from]+this.tShift[from]<this.eMarks[from]);from++);return from},StateBlock.prototype.skipSpaces=function skipSpaces(pos){for(var ch,max=this.src.length;pos<max&&(ch=this.src.charCodeAt(pos),isSpace(ch));pos++);return pos},StateBlock.prototype.skipSpacesBack=function skipSpacesBack(pos,min){if(pos<=min)return pos;for(;min<pos;)if(!isSpace(this.src.charCodeAt(--pos)))return pos+1;return pos},StateBlock.prototype.skipChars=function skipChars(pos,code){for(var max=this.src.length;pos<max&&this.src.charCodeAt(pos)===code;pos++);return pos},StateBlock.prototype.skipCharsBack=function skipCharsBack(pos,code,min){if(pos<=min)return pos;for(;min<pos;)if(code!==this.src.charCodeAt(--pos))return pos+1;return pos},StateBlock.prototype.getLines=function getLines(begin,end,indent,keepLastLF){var i,lineIndent,ch,first,last,queue,lineStart,line=begin;if(end<=begin)return"";for(queue=new Array(end-begin),i=0;line<end;line++,i++){for(lineIndent=0,lineStart=first=this.bMarks[line],last=line+1<end||keepLastLF?this.eMarks[line]+1:this.eMarks[line];first<last&&lineIndent<indent;){if(ch=this.src.charCodeAt(first),isSpace(ch))9===ch?lineIndent+=4-(lineIndent+this.bsCount[line])%4:lineIndent++;else{if(!(first-lineStart<this.tShift[line]))break;lineIndent++}first++}queue[i]=indent<lineIndent?new Array(lineIndent-indent+1).join(" ")+this.src.slice(first,last):this.src.slice(first,last)}return queue.join("")},StateBlock.prototype.Token=Token,module.exports=StateBlock},function(module,exports,__webpack_require__){"use strict";var Ruler=__webpack_require__(2),_rules=[["text",__webpack_require__(57)],["newline",__webpack_require__(58)],["escape",__webpack_require__(59)],["backticks",__webpack_require__(60)],["strikethrough",__webpack_require__(13).tokenize],["emphasis",__webpack_require__(14).tokenize],["link",__webpack_require__(61)],["image",__webpack_require__(62)],["autolink",__webpack_require__(63)],["html_inline",__webpack_require__(64)],["entity",__webpack_require__(65)]],_rules2=[["balance_pairs",__webpack_require__(66)],["strikethrough",__webpack_require__(13).postProcess],["emphasis",__webpack_require__(14).postProcess],["text_collapse",__webpack_require__(67)]];function ParserInline(){var i;for(this.ruler=new Ruler,i=0;i<_rules.length;i++)this.ruler.push(_rules[i][0],_rules[i][1]);for(this.ruler2=new Ruler,i=0;i<_rules2.length;i++)this.ruler2.push(_rules2[i][0],_rules2[i][1])}ParserInline.prototype.skipToken=function(state){var ok,i,pos=state.pos,rules=this.ruler.getRules(""),len=rules.length,maxNesting=state.md.options.maxNesting,cache=state.cache;if(void 0===cache[pos]){if(state.level<maxNesting)for(i=0;i<len&&(state.level++,ok=rules[i](state,!0),state.level--,!ok);i++);else state.pos=state.posMax;ok||state.pos++,cache[pos]=state.pos}else state.pos=cache[pos]},ParserInline.prototype.tokenize=function(state){for(var ok,i,rules=this.ruler.getRules(""),len=rules.length,end=state.posMax,maxNesting=state.md.options.maxNesting;state.pos<end;){if(state.level<maxNesting)for(i=0;i<len&&!(ok=rules[i](state,!1));i++);if(ok){if(state.pos>=end)break}else state.pending+=state.src[state.pos++]}state.pending&&state.pushPending()},ParserInline.prototype.parse=function(str,md,env,outTokens){var i,rules,len,state=new this.State(str,md,env,outTokens);for(this.tokenize(state),len=(rules=this.ruler2.getRules("")).length,i=0;i<len;i++)rules[i](state)},ParserInline.prototype.State=__webpack_require__(68),module.exports=ParserInline},function(module,exports,__webpack_require__){"use strict";function isTerminatorChar(ch){switch(ch){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}module.exports=function text(state,silent){for(var pos=state.pos;pos<state.posMax&&!isTerminatorChar(state.src.charCodeAt(pos));)pos++;return pos!==state.pos&&(silent||(state.pending+=state.src.slice(state.pos,pos)),state.pos=pos,!0)}},function(module,exports,__webpack_require__){"use strict";var isSpace=__webpack_require__(0).isSpace;module.exports=function newline(state,silent){var pmax,max,pos=state.pos;if(10!==state.src.charCodeAt(pos))return!1;for(pmax=state.pending.length-1,max=state.posMax,silent||(0<=pmax&&32===state.pending.charCodeAt(pmax)?1<=pmax&&32===state.pending.charCodeAt(pmax-1)?(state.pending=state.pending.replace(/ +$/,""),state.push("hardbreak","br",0)):(state.pending=state.pending.slice(0,-1),state.push("softbreak","br",0)):state.push("softbreak","br",0)),pos++;pos<max&&isSpace(state.src.charCodeAt(pos));)pos++;return state.pos=pos,!0}},function(module,exports,__webpack_require__){"use strict";for(var isSpace=__webpack_require__(0).isSpace,ESCAPED=[],i=0;i<256;i++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(ch){ESCAPED[ch.charCodeAt(0)]=1}),module.exports=function escape(state,silent){var ch,pos=state.pos,max=state.posMax;if(92!==state.src.charCodeAt(pos))return!1;if(++pos<max){if((ch=state.src.charCodeAt(pos))<256&&0!==ESCAPED[ch])return silent||(state.pending+=state.src[pos]),state.pos+=2,!0;if(10===ch){for(silent||state.push("hardbreak","br",0),pos++;pos<max&&(ch=state.src.charCodeAt(pos),isSpace(ch));)pos++;return state.pos=pos,!0}}return silent||(state.pending+="\\"),state.pos++,!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function backtick(state,silent){var start,max,marker,matchStart,matchEnd,token,pos=state.pos;if(96!==state.src.charCodeAt(pos))return!1;for(start=pos,pos++,max=state.posMax;pos<max&&96===state.src.charCodeAt(pos);)pos++;for(marker=state.src.slice(start,pos),matchStart=matchEnd=pos;-1!==(matchStart=state.src.indexOf("`",matchEnd));){for(matchEnd=matchStart+1;matchEnd<max&&96===state.src.charCodeAt(matchEnd);)matchEnd++;if(matchEnd-matchStart===marker.length)return silent||((token=state.push("code_inline","code",0)).markup=marker,token.content=state.src.slice(pos,matchStart).replace(/[ \n]+/g," ").trim()),state.pos=matchEnd,!0}return silent||(state.pending+=marker),state.pos+=marker.length,!0}},function(module,exports,__webpack_require__){"use strict";var normalizeReference=__webpack_require__(0).normalizeReference,isSpace=__webpack_require__(0).isSpace;module.exports=function link(state,silent){var attrs,code,label,labelEnd,labelStart,pos,res,ref,title,href="",oldPos=state.pos,max=state.posMax,start=state.pos,parseReference=!0;if(91!==state.src.charCodeAt(state.pos))return!1;if(labelStart=state.pos+1,(labelEnd=state.md.helpers.parseLinkLabel(state,state.pos,!0))<0)return!1;if((pos=labelEnd+1)<max&&40===state.src.charCodeAt(pos)){for(parseReference=!1,pos++;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);if(max<=pos)return!1;for(start=pos,(res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax)).ok&&(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href=""),start=pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);else title="";(max<=pos||41!==state.src.charCodeAt(pos))&&(parseReference=!0),pos++}if(parseReference){if(void 0===state.env.references)return!1;if(pos<max&&91===state.src.charCodeAt(pos)?(start=pos+1,0<=(pos=state.md.helpers.parseLinkLabel(state,pos))?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),!(ref=state.env.references[normalizeReference(label)]))return state.pos=oldPos,!1;href=ref.href,title=ref.title}return silent||(state.pos=labelStart,state.posMax=labelEnd,state.push("link_open","a",1).attrs=attrs=[["href",href]],title&&attrs.push(["title",title]),state.md.inline.tokenize(state),state.push("link_close","a",-1)),state.pos=pos,state.posMax=max,!0}},function(module,exports,__webpack_require__){"use strict";var normalizeReference=__webpack_require__(0).normalizeReference,isSpace=__webpack_require__(0).isSpace;module.exports=function image(state,silent){var attrs,code,content,label,labelEnd,labelStart,pos,ref,res,title,token,tokens,start,href="",oldPos=state.pos,max=state.posMax;if(33!==state.src.charCodeAt(state.pos))return!1;if(91!==state.src.charCodeAt(state.pos+1))return!1;if(labelStart=state.pos+2,(labelEnd=state.md.helpers.parseLinkLabel(state,state.pos+1,!1))<0)return!1;if((pos=labelEnd+1)<max&&40===state.src.charCodeAt(pos)){for(pos++;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);if(max<=pos)return!1;for(start=pos,(res=state.md.helpers.parseLinkDestination(state.src,pos,state.posMax)).ok&&(href=state.md.normalizeLink(res.str),state.md.validateLink(href)?pos=res.pos:href=""),start=pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);if(res=state.md.helpers.parseLinkTitle(state.src,pos,state.posMax),pos<max&&start!==pos&&res.ok)for(title=res.str,pos=res.pos;pos<max&&(code=state.src.charCodeAt(pos),isSpace(code)||10===code);pos++);else title="";if(max<=pos||41!==state.src.charCodeAt(pos))return state.pos=oldPos,!1;pos++}else{if(void 0===state.env.references)return!1;if(pos<max&&91===state.src.charCodeAt(pos)?(start=pos+1,0<=(pos=state.md.helpers.parseLinkLabel(state,pos))?label=state.src.slice(start,pos++):pos=labelEnd+1):pos=labelEnd+1,label||(label=state.src.slice(labelStart,labelEnd)),!(ref=state.env.references[normalizeReference(label)]))return state.pos=oldPos,!1;href=ref.href,title=ref.title}return silent||(content=state.src.slice(labelStart,labelEnd),state.md.inline.parse(content,state.md,state.env,tokens=[]),(token=state.push("image","img",0)).attrs=attrs=[["src",href],["alt",""]],token.children=tokens,token.content=content,title&&attrs.push(["title",title])),state.pos=pos,state.posMax=max,!0}},function(module,exports,__webpack_require__){"use strict";var EMAIL_RE=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,AUTOLINK_RE=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;module.exports=function autolink(state,silent){var tail,linkMatch,emailMatch,url,fullUrl,token,pos=state.pos;return 60===state.src.charCodeAt(pos)&&(!((tail=state.src.slice(pos)).indexOf(">")<0)&&(AUTOLINK_RE.test(tail)?(url=(linkMatch=tail.match(AUTOLINK_RE))[0].slice(1,-1),fullUrl=state.md.normalizeLink(url),!!state.md.validateLink(fullUrl)&&(silent||((token=state.push("link_open","a",1)).attrs=[["href",fullUrl]],token.markup="autolink",token.info="auto",(token=state.push("text","",0)).content=state.md.normalizeLinkText(url),(token=state.push("link_close","a",-1)).markup="autolink",token.info="auto"),state.pos+=linkMatch[0].length,!0)):!!EMAIL_RE.test(tail)&&(url=(emailMatch=tail.match(EMAIL_RE))[0].slice(1,-1),fullUrl=state.md.normalizeLink("mailto:"+url),!!state.md.validateLink(fullUrl)&&(silent||((token=state.push("link_open","a",1)).attrs=[["href",fullUrl]],token.markup="autolink",token.info="auto",(token=state.push("text","",0)).content=state.md.normalizeLinkText(url),(token=state.push("link_close","a",-1)).markup="autolink",token.info="auto"),state.pos+=emailMatch[0].length,!0))))}},function(module,exports,__webpack_require__){"use strict";var HTML_TAG_RE=__webpack_require__(12).HTML_TAG_RE;module.exports=function html_inline(state,silent){var ch,match,max,pos=state.pos;return!!state.md.options.html&&(max=state.posMax,!(60!==state.src.charCodeAt(pos)||max<=pos+2)&&(!(33!==(ch=state.src.charCodeAt(pos+1))&&63!==ch&&47!==ch&&!function isLetter(ch){var lc=32|ch;return 97<=lc&&lc<=122}(ch))&&(!!(match=state.src.slice(pos).match(HTML_TAG_RE))&&(silent||(state.push("html_inline","",0).content=state.src.slice(pos,pos+match[0].length)),state.pos+=match[0].length,!0))))}},function(module,exports,__webpack_require__){"use strict";var entities=__webpack_require__(7),has=__webpack_require__(0).has,isValidEntityCode=__webpack_require__(0).isValidEntityCode,fromCodePoint=__webpack_require__(0).fromCodePoint,DIGITAL_RE=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;module.exports=function entity(state,silent){var code,match,pos=state.pos,max=state.posMax;if(38!==state.src.charCodeAt(pos))return!1;if(pos+1<max)if(35===state.src.charCodeAt(pos+1)){if(match=state.src.slice(pos).match(DIGITAL_RE))return silent||(code="x"===match[1][0].toLowerCase()?parseInt(match[1].slice(1),16):parseInt(match[1],10),state.pending+=isValidEntityCode(code)?fromCodePoint(code):fromCodePoint(65533)),state.pos+=match[0].length,!0}else if((match=state.src.slice(pos).match(NAMED_RE))&&has(entities,match[1]))return silent||(state.pending+=entities[match[1]]),state.pos+=match[0].length,!0;return silent||(state.pending+="&"),state.pos++,!0}},function(module,exports,__webpack_require__){"use strict";module.exports=function link_pairs(state){var i,j,lastDelim,currDelim,delimiters=state.delimiters,max=state.delimiters.length;for(i=0;i<max;i++)if((lastDelim=delimiters[i]).close)for(j=i-lastDelim.jump-1;0<=j;){if((currDelim=delimiters[j]).open&&currDelim.marker===lastDelim.marker&&currDelim.end<0&&currDelim.level===lastDelim.level)if(!((currDelim.close||lastDelim.open)&&void 0!==currDelim.length&&void 0!==lastDelim.length&&(currDelim.length+lastDelim.length)%3==0)){lastDelim.jump=i-j,lastDelim.open=!1,currDelim.end=i,currDelim.jump=0;break}j-=currDelim.jump+1}}},function(module,exports,__webpack_require__){"use strict";module.exports=function text_collapse(state){var curr,last,level=0,tokens=state.tokens,max=state.tokens.length;for(curr=last=0;curr<max;curr++)level+=tokens[curr].nesting,tokens[curr].level=level,"text"===tokens[curr].type&&curr+1<max&&"text"===tokens[curr+1].type?tokens[curr+1].content=tokens[curr].content+tokens[curr+1].content:(curr!==last&&(tokens[last]=tokens[curr]),last++);curr!==last&&(tokens.length=last)}},function(module,exports,__webpack_require__){"use strict";var Token=__webpack_require__(3),isWhiteSpace=__webpack_require__(0).isWhiteSpace,isPunctChar=__webpack_require__(0).isPunctChar,isMdAsciiPunct=__webpack_require__(0).isMdAsciiPunct;function StateInline(src,md,env,outTokens){this.src=src,this.env=env,this.md=md,this.tokens=outTokens,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}StateInline.prototype.pushPending=function(){var token=new Token("text","",0);return token.content=this.pending,token.level=this.pendingLevel,this.tokens.push(token),this.pending="",token},StateInline.prototype.push=function(type,tag,nesting){this.pending&&this.pushPending();var token=new Token(type,tag,nesting);return nesting<0&&this.level--,token.level=this.level,0<nesting&&this.level++,this.pendingLevel=this.level,this.tokens.push(token),token},StateInline.prototype.scanDelims=function(start,canSplitWord){var lastChar,nextChar,count,can_open,can_close,isLastWhiteSpace,isLastPunctChar,isNextWhiteSpace,isNextPunctChar,pos=start,left_flanking=!0,right_flanking=!0,max=this.posMax,marker=this.src.charCodeAt(start);for(lastChar=0<start?this.src.charCodeAt(start-1):32;pos<max&&this.src.charCodeAt(pos)===marker;)pos++;return count=pos-start,nextChar=pos<max?this.src.charCodeAt(pos):32,isLastPunctChar=isMdAsciiPunct(lastChar)||isPunctChar(String.fromCharCode(lastChar)),isNextPunctChar=isMdAsciiPunct(nextChar)||isPunctChar(String.fromCharCode(nextChar)),isLastWhiteSpace=isWhiteSpace(lastChar),(isNextWhiteSpace=isWhiteSpace(nextChar))?left_flanking=!1:isNextPunctChar&&(isLastWhiteSpace||isLastPunctChar||(left_flanking=!1)),isLastWhiteSpace?right_flanking=!1:isLastPunctChar&&(isNextWhiteSpace||isNextPunctChar||(right_flanking=!1)),canSplitWord?(can_open=left_flanking,can_close=right_flanking):(can_open=left_flanking&&(!right_flanking||isLastPunctChar),can_close=right_flanking&&(!left_flanking||isNextPunctChar)),{can_open:can_open,can_close:can_close,length:count}},StateInline.prototype.Token=Token,module.exports=StateInline},function(module,exports,__webpack_require__){"use strict";function assign(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){source&&Object.keys(source).forEach(function(key){obj[key]=source[key]})}),obj}function _class(obj){return Object.prototype.toString.call(obj)}function isFunction(obj){return"[object Function]"===_class(obj)}function escapeRE(str){return str.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var defaultSchemas={"http:":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.http||(self.re.http=new RegExp("^\\/\\/"+self.re.src_auth+self.re.src_host_port_strict+self.re.src_path,"i")),self.re.http.test(tail)?tail.match(self.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.no_http||(self.re.no_http=new RegExp("^"+self.re.src_auth+"(?:localhost|(?:(?:"+self.re.src_domain+")\\.)+"+self.re.src_domain_root+")"+self.re.src_port+self.re.src_host_terminator+self.re.src_path,"i")),self.re.no_http.test(tail)?3<=pos&&":"===text[pos-3]?0:3<=pos&&"/"===text[pos-3]?0:tail.match(self.re.no_http)[0].length:0}},"mailto:":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.mailto||(self.re.mailto=new RegExp("^"+self.re.src_email_name+"@"+self.re.src_host_strict,"i")),self.re.mailto.test(tail)?tail.match(self.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function compile(self){var re=self.re=__webpack_require__(70)(self.__opts__),tlds=self.__tlds__.slice();function untpl(tpl){return tpl.replace("%TLDS%",re.src_tlds)}self.onCompile(),self.__tlds_replaced__||tlds.push(tlds_2ch_src_re),tlds.push(re.src_xn),re.src_tlds=tlds.join("|"),re.email_fuzzy=RegExp(untpl(re.tpl_email_fuzzy),"i"),re.link_fuzzy=RegExp(untpl(re.tpl_link_fuzzy),"i"),re.link_no_ip_fuzzy=RegExp(untpl(re.tpl_link_no_ip_fuzzy),"i"),re.host_fuzzy_test=RegExp(untpl(re.tpl_host_fuzzy_test),"i");var aliases=[];function schemaError(name,val){throw new Error('(LinkifyIt) Invalid schema "'+name+'": '+val)}self.__compiled__={},Object.keys(self.__schemas__).forEach(function(name){var val=self.__schemas__[name];if(null!==val){var compiled={validate:null,link:null};if(self.__compiled__[name]=compiled,function isObject(obj){return"[object Object]"===_class(obj)}(val))return!function isRegExp(obj){return"[object RegExp]"===_class(obj)}(val.validate)?isFunction(val.validate)?compiled.validate=val.validate:schemaError(name,val):compiled.validate=function createValidator(re){return function(text,pos){var tail=text.slice(pos);return re.test(tail)?tail.match(re)[0].length:0}}(val.validate),void(isFunction(val.normalize)?compiled.normalize=val.normalize:val.normalize?schemaError(name,val):compiled.normalize=function(match,self){self.normalize(match)});!function isString(obj){return"[object String]"===_class(obj)}(val)?schemaError(name,val):aliases.push(name)}}),aliases.forEach(function(alias){self.__compiled__[self.__schemas__[alias]]&&(self.__compiled__[alias].validate=self.__compiled__[self.__schemas__[alias]].validate,self.__compiled__[alias].normalize=self.__compiled__[self.__schemas__[alias]].normalize)}),self.__compiled__[""]={validate:null,normalize:function(match,self){self.normalize(match)}};var slist=Object.keys(self.__compiled__).filter(function(name){return 0<name.length&&self.__compiled__[name]}).map(escapeRE).join("|");self.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+re.src_ZPCc+"))("+slist+")","i"),self.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+re.src_ZPCc+"))("+slist+")","ig"),self.re.pretest=RegExp("("+self.re.schema_test.source+")|("+self.re.host_fuzzy_test.source+")|@","i"),function resetScanCache(self){self.__index__=-1,self.__text_cache__=""}(self)}function createMatch(self,shift){var match=new function Match(self,shift){var start=self.__index__,end=self.__last_index__,text=self.__text_cache__.slice(start,end);this.schema=self.__schema__.toLowerCase(),this.index=start+shift,this.lastIndex=end+shift,this.raw=text,this.text=text,this.url=text}(self,shift);return self.__compiled__[match.schema].normalize(match,self),match}function LinkifyIt(schemas,options){if(!(this instanceof LinkifyIt))return new LinkifyIt(schemas,options);options||function isOptionsObj(obj){return Object.keys(obj||{}).reduce(function(acc,k){return acc||defaultOptions.hasOwnProperty(k)},!1)}(schemas)&&(options=schemas,schemas={}),this.__opts__=assign({},defaultOptions,options),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,schemas),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function add(schema,definition){return this.__schemas__[schema]=definition,compile(this),this},LinkifyIt.prototype.set=function set(options){return this.__opts__=assign(this.__opts__,options),this},LinkifyIt.prototype.test=function test(text){if(this.__text_cache__=text,this.__index__=-1,!text.length)return!1;var m,ml,me,len,shift,next,re,tld_pos;if(this.re.schema_test.test(text))for((re=this.re.schema_search).lastIndex=0;null!==(m=re.exec(text));)if(len=this.testSchemaAt(text,m[2],re.lastIndex)){this.__schema__=m[2],this.__index__=m.index+m[1].length,this.__last_index__=m.index+m[0].length+len;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(tld_pos=text.search(this.re.host_fuzzy_test))&&(this.__index__<0||tld_pos<this.__index__)&&null!==(ml=text.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(shift=ml.index+ml[1].length,(this.__index__<0||shift<this.__index__)&&(this.__schema__="",this.__index__=shift,this.__last_index__=ml.index+ml[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=text.indexOf("@")&&null!==(me=text.match(this.re.email_fuzzy))&&(shift=me.index+me[1].length,next=me.index+me[0].length,(this.__index__<0||shift<this.__index__||shift===this.__index__&&next>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=shift,this.__last_index__=next)),0<=this.__index__},LinkifyIt.prototype.pretest=function pretest(text){return this.re.pretest.test(text)},LinkifyIt.prototype.testSchemaAt=function testSchemaAt(text,schema,pos){return this.__compiled__[schema.toLowerCase()]?this.__compiled__[schema.toLowerCase()].validate(text,pos,this):0},LinkifyIt.prototype.match=function match(text){var shift=0,result=[];0<=this.__index__&&this.__text_cache__===text&&(result.push(createMatch(this,shift)),shift=this.__last_index__);for(var tail=shift?text.slice(shift):text;this.test(tail);)result.push(createMatch(this,shift)),tail=tail.slice(this.__last_index__),shift+=this.__last_index__;return result.length?result:null},LinkifyIt.prototype.tlds=function tlds(list,keepOld){return list=Array.isArray(list)?list:[list],keepOld?this.__tlds__=this.__tlds__.concat(list).sort().filter(function(el,idx,arr){return el!==arr[idx-1]}).reverse():(this.__tlds__=list.slice(),this.__tlds_replaced__=!0),compile(this),this},LinkifyIt.prototype.normalize=function normalize(match){match.schema||(match.url="http://"+match.url),"mailto:"!==match.schema||/^mailto:/i.test(match.url)||(match.url="mailto:"+match.url)},LinkifyIt.prototype.onCompile=function onCompile(){},module.exports=LinkifyIt},function(module,exports,__webpack_require__){"use strict";module.exports=function(opts){var re={};re.src_Any=__webpack_require__(9).source,re.src_Cc=__webpack_require__(10).source,re.src_Z=__webpack_require__(11).source,re.src_P=__webpack_require__(1).source,re.src_ZPCc=[re.src_Z,re.src_P,re.src_Cc].join("|"),re.src_ZCc=[re.src_Z,re.src_Cc].join("|");return re.src_pseudo_letter="(?:(?![><\uff5c]|"+re.src_ZPCc+")"+re.src_Any+")",re.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",re.src_auth="(?:(?:(?!"+re.src_ZCc+"|[@/\\[\\]()]).)+@)?",re.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",re.src_host_terminator="(?=$|[><\uff5c]|"+re.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+re.src_ZPCc+"))",re.src_path="(?:[/?#](?:(?!"+re.src_ZCc+"|[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+re.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+re.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+re.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+re.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+re.src_ZCc+"|[']).)+\\'|\\'(?="+re.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+re.src_ZCc+"|[.]).|"+(opts&&opts["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+re.src_ZCc+").|\\!(?!"+re.src_ZCc+"|[!]).|\\?(?!"+re.src_ZCc+"|[?]).)+|\\/)?",re.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',re.src_xn="xn--[a-z0-9\\-]{1,59}",re.src_domain_root="(?:"+re.src_xn+"|"+re.src_pseudo_letter+"{1,63})",re.src_domain="(?:"+re.src_xn+"|(?:"+re.src_pseudo_letter+")|(?:"+re.src_pseudo_letter+"(?:-(?!-)|"+re.src_pseudo_letter+"){0,61}"+re.src_pseudo_letter+"))",re.src_host="(?:(?:(?:(?:"+re.src_domain+")\\.)*"+re.src_domain+"))",re.tpl_host_fuzzy="(?:"+re.src_ip4+"|(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%)))",re.tpl_host_no_ip_fuzzy="(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%))",re.src_host_strict=re.src_host+re.src_host_terminator,re.tpl_host_fuzzy_strict=re.tpl_host_fuzzy+re.src_host_terminator,re.src_host_port_strict=re.src_host+re.src_port+re.src_host_terminator,re.tpl_host_port_fuzzy_strict=re.tpl_host_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_port_no_ip_fuzzy_strict=re.tpl_host_no_ip_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+re.src_ZPCc+"|>|$))",re.tpl_email_fuzzy="(^|[><\uff5c]|\\(|"+re.src_ZCc+")("+re.src_email_name+"@"+re.tpl_host_fuzzy_strict+")",re.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+re.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+re.tpl_host_port_fuzzy_strict+re.src_path+")",re.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+re.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+re.tpl_host_port_no_ip_fuzzy_strict+re.src_path+")",re}},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(root){"object"==typeof exports&&exports&&exports.nodeType,"object"==typeof module&&module&&module.nodeType;var freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self;var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return 1<parts.length&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)55296<=(value=string.charCodeAt(counter++))&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return 65535<value&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);baseMinusTMin*tMax>>1<delta;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,codePoint,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for((basic=input.lastIndexOf(delimiter))<0&&(basic=0),j=0;j<basic;++j)128<=input.charCodeAt(j)&&error("not-basic"),output.push(input.charCodeAt(j));for(index=0<basic?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;inputLength<=index&&error("invalid-input"),codePoint=input.charCodeAt(index++),(base<=(digit=codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base)||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,!(digit<(t=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)w>floor(maxInt/(baseMinusT=base-t))&&error("overflow"),w*=baseMinusT;bias=adapt(i-oldi,out=output.length+1,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,bias=initialBias,j=delta=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)n<=(currentValue=input[j])&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:bias+tMax<=k?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()}).call(exports,__webpack_require__(72)(module),__webpack_require__(4))},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){"use strict";module.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(module,exports,__webpack_require__){"use strict";module.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(module,exports,__webpack_require__){"use strict";module.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function repeat(character,count){return Array(count+1).join(character)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var blockElements=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function isBlock(node){return-1!==blockElements.indexOf(node.nodeName.toLowerCase())}var voidElements=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function isVoid(node){return-1!==voidElements.indexOf(node.nodeName.toLowerCase())}var voidSelector=voidElements.join();var rules={};function Rules(options){for(var key in this.options=options,this._keep=[],this._remove=[],this.blankRule={replacement:options.blankReplacement},this.keepReplacement=options.keepReplacement,this.defaultRule={replacement:options.defaultReplacement},this.array=[],options.rules)this.array.push(options.rules[key])}function findRule(rules,node,options){for(var i=0;i<rules.length;i++){var rule=rules[i];if(filterValue(rule,node,options))return rule}}function filterValue(rule,node,options){var filter=rule.filter;if("string"==typeof filter){if(filter===node.nodeName.toLowerCase())return!0}else if(Array.isArray(filter)){if(-1<filter.indexOf(node.nodeName.toLowerCase()))return!0}else{if("function"!=typeof filter)throw new TypeError("`filter` needs to be a string, array, or function");if(filter.call(rule,node,options))return!0}}function remove(node){var next=node.nextSibling||node.parentNode;return node.parentNode.removeChild(node),next}function next(prev,current,isPre){return prev&&prev.parentNode===current||isPre(current)?current.nextSibling||current.parentNode:current.firstChild||current.nextSibling||current.parentNode}rules.paragraph={filter:"p",replacement:function(content){return"\n\n"+content+"\n\n"}},rules.lineBreak={filter:"br",replacement:function(content,node,options){return options.br+"\n"}},rules.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(content,node,options){var hLevel=Number(node.nodeName.charAt(1));return"setext"===options.headingStyle&&hLevel<3?"\n\n"+content+"\n"+repeat(1===hLevel?"=":"-",content.length)+"\n\n":"\n\n"+repeat("#",hLevel)+" "+content+"\n\n"}},rules.blockquote={filter:"blockquote",replacement:function(content){return"\n\n"+(content=(content=content.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},rules.list={filter:["ul","ol"],replacement:function(content,node){var parent=node.parentNode;return"LI"===parent.nodeName&&parent.lastElementChild===node?"\n"+content:"\n\n"+content+"\n\n"}},rules.listItem={filter:"li",replacement:function(content,node,options){content=content.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var prefix=options.bulletListMarker+"   ",parent=node.parentNode;if("OL"===parent.nodeName){var start=parent.getAttribute("start"),index=Array.prototype.indexOf.call(parent.children,node);prefix=(start?Number(start)+index:index+1)+".  "}return prefix+content+(node.nextSibling&&!/\n$/.test(content)?"\n":"")}},rules.indentedCodeBlock={filter:function(node,options){return"indented"===options.codeBlockStyle&&"PRE"===node.nodeName&&node.firstChild&&"CODE"===node.firstChild.nodeName},replacement:function(content,node,options){return"\n\n    "+node.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},rules.fencedCodeBlock={filter:function(node,options){return"fenced"===options.codeBlockStyle&&"PRE"===node.nodeName&&node.firstChild&&"CODE"===node.firstChild.nodeName},replacement:function(content,node,options){var language=((node.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+options.fence+language+"\n"+node.firstChild.textContent+"\n"+options.fence+"\n\n"}},rules.horizontalRule={filter:"hr",replacement:function(content,node,options){return"\n\n"+options.hr+"\n\n"}},rules.inlineLink={filter:function(node,options){return"inlined"===options.linkStyle&&"A"===node.nodeName&&node.getAttribute("href")},replacement:function(content,node){return"["+content+"]("+node.getAttribute("href")+(node.title?' "'+node.title+'"':"")+")"}},rules.referenceLink={filter:function(node,options){return"referenced"===options.linkStyle&&"A"===node.nodeName&&node.getAttribute("href")},replacement:function(content,node,options){var replacement,reference,href=node.getAttribute("href"),title=node.title?' "'+node.title+'"':"";switch(options.linkReferenceStyle){case"collapsed":replacement="["+content+"][]",reference="["+content+"]: "+href+title;break;case"shortcut":replacement="["+content+"]",reference="["+content+"]: "+href+title;break;default:var id=this.references.length+1;replacement="["+content+"]["+id+"]",reference="["+id+"]: "+href+title}return this.references.push(reference),replacement},references:[],append:function(options){var references="";return this.references.length&&(references="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),references}},rules.emphasis={filter:["em","i"],replacement:function(content,node,options){return content.trim()?options.emDelimiter+content+options.emDelimiter:""}},rules.strong={filter:["strong","b"],replacement:function(content,node,options){return content.trim()?options.strongDelimiter+content+options.strongDelimiter:""}},rules.code={filter:function(node){var hasSiblings=node.previousSibling||node.nextSibling,isCodeBlock="PRE"===node.parentNode.nodeName&&!hasSiblings;return"CODE"===node.nodeName&&!isCodeBlock},replacement:function(content){if(!content.trim())return"";var delimiter="`",leadingSpace="",trailingSpace="",matches=content.match(/`+/gm);if(matches)for(/^`/.test(content)&&(leadingSpace=" "),/`$/.test(content)&&(trailingSpace=" ");-1!==matches.indexOf(delimiter);)delimiter+="`";return delimiter+leadingSpace+content+trailingSpace+delimiter}},rules.image={filter:"img",replacement:function(content,node){var alt=node.alt||"",src=node.getAttribute("src")||"",title=node.title||"";return src?"!["+alt+"]("+src+(title?' "'+title+'"':"")+")":""}},Rules.prototype={add:function(key,rule){this.array.unshift(rule)},keep:function(filter){this._keep.unshift({filter:filter,replacement:this.keepReplacement})},remove:function(filter){this._remove.unshift({filter:filter,replacement:function(){return""}})},forNode:function(node){return node.isBlank?this.blankRule:(rule=findRule(this.array,node,this.options))?rule:(rule=findRule(this._keep,node,this.options))?rule:(rule=findRule(this._remove,node,this.options))?rule:this.defaultRule;var rule},forEach:function(fn){for(var i=0;i<this.array.length;i++)fn(this.array[i],i)}};var root="undefined"!=typeof window?window:{};var _htmlParser,HTMLParser=function canParseHTMLNatively(){var Parser=root.DOMParser,canParse=!1;try{(new Parser).parseFromString("","text/html")&&(canParse=!0)}catch(e){}return canParse}()?root.DOMParser:function createHTMLParser(){var Parser=function(){},JSDOM=__webpack_require__(77).JSDOM;return Parser.prototype.parseFromString=function(string){return new JSDOM(string).window.document},Parser}();function RootNode(input){var root;"string"==typeof input?root=function htmlParser(){return _htmlParser=_htmlParser||new HTMLParser}().parseFromString('<x-turndown id="turndown-root">'+input+"</x-turndown>","text/html").getElementById("turndown-root"):root=input.cloneNode(!0);return function collapseWhitespace(options){var element=options.element,isBlock=options.isBlock,isVoid=options.isVoid,isPre=options.isPre||function(node){return"PRE"===node.nodeName};if(element.firstChild&&!isPre(element)){for(var prevText=null,prevVoid=!1,prev=null,node=next(prev,element,isPre);node!==element;){if(3===node.nodeType||4===node.nodeType){var text=node.data.replace(/[ \r\n\t]+/g," ");if(prevText&&!/ $/.test(prevText.data)||prevVoid||" "!==text[0]||(text=text.substr(1)),!text){node=remove(node);continue}node.data=text,prevText=node}else{if(1!==node.nodeType){node=remove(node);continue}isBlock(node)||"BR"===node.nodeName?(prevText&&(prevText.data=prevText.data.replace(/ $/,"")),prevText=null,prevVoid=!1):isVoid(node)&&(prevText=null,prevVoid=!0)}var nextNode=next(prev,node,isPre);prev=node,node=nextNode}prevText&&(prevText.data=prevText.data.replace(/ $/,""),prevText.data||remove(prevText))}}({element:root,isBlock:isBlock,isVoid:isVoid}),root}function Node(node){return node.isBlock=isBlock(node),node.isCode="code"===node.nodeName.toLowerCase()||node.parentNode.isCode,node.isBlank=function isBlank(node){return-1===["A","TH","TD"].indexOf(node.nodeName)&&/^\s*$/i.test(node.textContent)&&!isVoid(node)&&!function hasVoid(node){return node.querySelector&&node.querySelector(voidSelector)}(node)}(node),node.flankingWhitespace=function flankingWhitespace(node){var leading="",trailing="";if(!node.isBlock){var hasLeading=/^[ \r\n\t]/.test(node.textContent),hasTrailing=/[ \r\n\t]$/.test(node.textContent);hasLeading&&!isFlankedByWhitespace("left",node)&&(leading=" "),hasTrailing&&!isFlankedByWhitespace("right",node)&&(trailing=" ")}return{leading:leading,trailing:trailing}}(node),node}function isFlankedByWhitespace(side,node){var sibling,regExp,isFlanked;return"left"===side?(sibling=node.previousSibling,regExp=/ $/):(sibling=node.nextSibling,regExp=/^ /),sibling&&(3===sibling.nodeType?isFlanked=regExp.test(sibling.nodeValue):1!==sibling.nodeType||isBlock(sibling)||(isFlanked=regExp.test(sibling.textContent))),isFlanked}var reduce=Array.prototype.reduce,leadingNewLinesRegExp=/^\n*/,trailingNewLinesRegExp=/\n*$/;function TurndownService(options){if(!(this instanceof TurndownService))return new TurndownService(options);var defaults={rules:rules,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(content,node){return node.isBlock?"\n\n":""},keepReplacement:function(content,node){return node.isBlock?"\n\n"+node.outerHTML+"\n\n":node.outerHTML},defaultReplacement:function(content,node){return node.isBlock?"\n\n"+content+"\n\n":content}};this.options=function extend(destination){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)source.hasOwnProperty(key)&&(destination[key]=source[key])}return destination}({},defaults,options),this.rules=new Rules(this.options)}function process(parentNode){var self=this;return reduce.call(parentNode.childNodes,function(output,node){var replacement="";return 3===(node=new Node(node)).nodeType?replacement=node.isCode?node.nodeValue:self.escape(node.nodeValue):1===node.nodeType&&(replacement=function replacementForNode(node){var rule=this.rules.forNode(node),content=process.call(this,node),whitespace=node.flankingWhitespace;(whitespace.leading||whitespace.trailing)&&(content=content.trim());return whitespace.leading+rule.replacement(content,node,this.options)+whitespace.trailing}.call(self,node)),join(output,replacement)},"")}function join(string1,string2){var separator=function separatingNewlines(output,replacement){var newlines=[output.match(trailingNewLinesRegExp)[0],replacement.match(leadingNewLinesRegExp)[0]].sort(),maxNewlines=newlines[newlines.length-1];return maxNewlines.length<2?maxNewlines:"\n\n"}(string1,string2);return(string1=string1.replace(trailingNewLinesRegExp,""))+separator+(string2=string2.replace(leadingNewLinesRegExp,""))}TurndownService.prototype={turndown:function(input){if(!function canConvert(input){return null!=input&&("string"==typeof input||input.nodeType&&(1===input.nodeType||9===input.nodeType||11===input.nodeType))}(input))throw new TypeError(input+" is not a string, or an element/document/fragment node.");if(""===input)return"";var output=process.call(this,new RootNode(input));return function postProcess(output){var self=this;return this.rules.forEach(function(rule){"function"==typeof rule.append&&(output=join(output,rule.append(self.options)))}),output.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,output)},use:function(plugin){if(Array.isArray(plugin))for(var i=0;i<plugin.length;i++)this.use(plugin[i]);else{if("function"!=typeof plugin)throw new TypeError("plugin must be a Function or an Array of Functions");plugin(this)}return this},addRule:function(key,rule){return this.rules.add(key,rule),this},keep:function(filter){return this.rules.keep(filter),this},remove:function(filter){return this.rules.remove(filter),this},escape:function(string){return string.replace(/\\(\S)/g,"\\\\$1").replace(/^(#{1,6} )/gm,"\\$1").replace(/^([-*_] *){3,}$/gm,function(match,character){return match.split(character).join("\\"+character)}).replace(/^(\W* {0,3})(\d+)\. /gm,"$1$2\\. ").replace(/^([^\\\w]*)[*+-] /gm,function(match){return match.replace(/([*+-])/g,"\\$1")}).replace(/^(\W* {0,3})> /gm,"$1\\> ").replace(/\*+(?![*\s\W]).+?\*+/g,function(match){return match.replace(/\*/g,"\\*")}).replace(/_+(?![_\s\W]).+?_+/g,function(match){return match.replace(/_/g,"\\_")}).replace(/`+(?![`\s\W]).+?`+/g,function(match){return match.replace(/`/g,"\\`")}).replace(/[\[\]]/g,"\\$&")}},__webpack_exports__.default=TurndownService},function(module,exports){},function(module,exports,__webpack_require__){(function(global){var apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;0<=msecs&&(item._idleTimeoutId=setTimeout(function onTimeout(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(79),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(exports,__webpack_require__(4))},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}():!function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}():function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}(),attachTo.setImmediate=function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(exports,__webpack_require__(4),__webpack_require__(80))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports){!function(){"use strict";var pIndexOf,ThemeManager=tinymce.util.Tools.resolve("tinymce.ThemeManager"),EditorManager=tinymce.util.Tools.resolve("tinymce.EditorManager"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),hasMenubar=function(editor){return!1!==getMenubar(editor)},getMenubar=function(editor){return editor.getParam("menubar")},getToolbarSize=function(editor){return editor.getParam("toolbar_items_size")},getMenu=function(editor){return editor.getParam("menu")},isSkinDisabled=function(editor){return!1===editor.settings.skin},getResize=function(editor){var resize=editor.getParam("resize","vertical");return!1===resize?"none":"both"===resize?"both":"vertical"},DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Factory=tinymce.util.Tools.resolve("tinymce.ui.Factory"),I18n=tinymce.util.Tools.resolve("tinymce.util.I18n"),$_9c9onhskjdud7dhp_fireSkinLoaded=function(editor){return editor.fire("SkinLoaded")},$_9c9onhskjdud7dhp_fireResizeEditor=function(editor){return editor.fire("ResizeEditor")},$_9c9onhskjdud7dhp_fireBeforeRenderUI=function(editor){return editor.fire("BeforeRenderUI")},focus=function(panel,type){return function(){var item=panel.find(type)[0];item&&item.focus(!0)}},$_4w3fresljdud7dhq_addKeys=function(editor,panel){editor.shortcuts.add("Alt+F9","",focus(panel,"menubar")),editor.shortcuts.add("Alt+F10,F10","",focus(panel,"toolbar")),editor.shortcuts.add("Alt+F11","",focus(panel,"elementpath")),panel.on("cancel",function(){editor.focus()})},Rect=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Delay=tinymce.util.Tools.resolve("tinymce.util.Delay"),constant=function(value){return function(){return value}},$_8mc7v6srjdud7di7={noop:function(){},noarg:function(f){return function(){return f()}},compose:function(fa,fb){return function(){return fa(fb.apply(null,arguments))}},constant:constant,identity:function(x){return x},tripleEquals:function(a,b){return a===b},curry:function(f){for(var args=new Array(arguments.length-1),i=1;i<arguments.length;i++)args[i-1]=arguments[i];return function(){for(var newArgs=new Array(arguments.length),j=0;j<newArgs.length;j++)newArgs[j]=arguments[j];var all=args.concat(newArgs);return f.apply(null,all)}},not:function(f){return function(){return!f.apply(null,arguments)}},die:function(msg){return function(){throw new Error(msg)}},apply:function(f){return f()},call:function(f){f()},never:constant(!1),always:constant(!0)},never$1=$_8mc7v6srjdud7di7.never,always$1=$_8mc7v6srjdud7di7.always,none=function(){return NONE},NONE=function(){var eq=function(o){return o.isNone()},call=function(thunk){return thunk()},id=function(n){return n},me={fold:function(n,s){return n()},is:never$1,isSome:never$1,isNone:always$1,getOr:id,getOrThunk:call,getOrDie:function(msg){throw new Error(msg||"error: getOrDie called on none.")},or:id,orThunk:call,map:none,ap:none,each:function(){},bind:none,flatten:none,exists:never$1,forall:always$1,filter:none,equals:eq,equals_:eq,toArray:function(){return[]},toString:$_8mc7v6srjdud7di7.constant("none()")};return Object.freeze&&Object.freeze(me),me}(),some=function(a){var constant_a=function(){return a},self=function(){return me},bind=function(f){return f(a)},me={fold:function(n,s){return s(a)},is:function(v){return a===v},isSome:always$1,isNone:never$1,getOr:constant_a,getOrThunk:constant_a,getOrDie:constant_a,or:self,orThunk:self,map:function(f){return some(f(a))},ap:function(optfab){return optfab.fold(none,function(fab){return some(fab(a))})},each:function(f){f(a)},bind:bind,flatten:constant_a,exists:bind,forall:bind,filter:function(f){return f(a)?me:NONE},equals:function(o){return o.is(a)},equals_:function(o,elementEq){return o.fold(never$1,function(b){return elementEq(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return me},Option={some:some,none:none,from:function(value){return null==value?NONE:some(value)}},getUiContainer=function(ctrl){return ctrl?ctrl.getRoot().uiContainer:null},$_80cyhospjdud7dhz={getUiContainerDelta:function(ctrl){var uiContainer=getUiContainer(ctrl);if(uiContainer&&"static"!==DOMUtils.DOM.getStyle(uiContainer,"position",!0)){var containerPos=DOMUtils.DOM.getPos(uiContainer),dx=uiContainer.scrollLeft-containerPos.x,dy=uiContainer.scrollTop-containerPos.y;return Option.some({x:dx,y:dy})}return Option.none()},setUiContainer:function(editor,ctrl){var uiContainer=DOMUtils.DOM.select(editor.settings.ui_container)[0];ctrl.getRoot().uiContainer=uiContainer},getUiContainer:getUiContainer,inheritUiContainer:function(fromCtrl,toCtrl){return toCtrl.uiContainer=getUiContainer(fromCtrl)}},createToolbar=function(editor,items,size){var buttonGroup,toolbarItems=[];if(items)return Tools.each(items.split(/[ ,]/),function(item){var itemName,bindSelectorChanged=function(){var selection=editor.selection;item.settings.stateSelector&&selection.selectorChanged(item.settings.stateSelector,function(state){item.active(state)},!0),item.settings.disabledStateSelector&&selection.selectorChanged(item.settings.disabledStateSelector,function(state){item.disabled(state)})};"|"===item?buttonGroup=null:(buttonGroup||(buttonGroup={type:"buttongroup",items:[]},toolbarItems.push(buttonGroup)),editor.buttons[item]&&(itemName=item,"function"==typeof(item=editor.buttons[itemName])&&(item=item()),item.type=item.type||"button",item.size=size,item=Factory.create(item),buttonGroup.items.push(item),editor.initialized?bindSelectorChanged():editor.on("init",bindSelectorChanged)))}),{type:"toolbar",layout:"flow",items:toolbarItems}},$_4k33rfssjdud7dia_createToolbar=createToolbar,$_4k33rfssjdud7dia_createToolbars=function(editor,size){var toolbars=[];if(Tools.each(function(editor){var toolbar=editor.getParam("toolbar");return!1===toolbar?[]:Tools.isArray(toolbar)?Tools.grep(toolbar,function(toolbar){return 0<toolbar.length}):function(settings,defaultToolbar){for(var toolbars=[],i=1;i<10;i++){var toolbar_1=settings["toolbar"+i];if(!toolbar_1)break;toolbars.push(toolbar_1)}var mainToolbar=settings.toolbar?[settings.toolbar]:[defaultToolbar];return 0<toolbars.length?toolbars:mainToolbar}(editor.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}(editor),function(toolbar){var items;(items=toolbar)&&toolbars.push(createToolbar(editor,items,size))}),toolbars.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:toolbars}},DOM=DOMUtils.DOM,toClientRect=function(geomRect){return{left:geomRect.x,top:geomRect.y,width:geomRect.w,height:geomRect.h,right:geomRect.x+geomRect.w,bottom:geomRect.y+geomRect.h}},movePanelTo=function(panel,pos){panel.moveTo(pos.left,pos.top)},userConstrain=function(handler,x,y,elementRect,contentAreaRect,panelRect){return panelRect=toClientRect({x:x,y:y,w:panelRect.w,h:panelRect.h}),handler&&(panelRect=handler({elementRect:toClientRect(elementRect),contentAreaRect:toClientRect(contentAreaRect),panelRect:panelRect})),panelRect},$_er9inssmjdud7dht_addContextualToolbars=function(editor){var scrollContainer,getContextToolbars=function(){return editor.contextToolbars||[]},reposition=function(match,shouldShow){var relPos,panelRect,elementRect,contentAreaRect,panel,relRect,testPositions,handler=function(editor){return editor.getParam("inline_toolbar_position_handler")}(editor);if(!editor.removed)if(match&&match.toolbar.panel){var elm,pos,targetRect,root;testPositions=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],panel=match.toolbar.panel,shouldShow&&panel.show(),elm=match.element,pos=DOM.getPos(editor.getContentAreaContainer()),targetRect=editor.dom.getRect(elm),"BODY"===(root=editor.dom.getRoot()).nodeName&&(targetRect.x-=root.ownerDocument.documentElement.scrollLeft||root.scrollLeft,targetRect.y-=root.ownerDocument.documentElement.scrollTop||root.scrollTop),targetRect.x+=pos.x,targetRect.y+=pos.y,elementRect=targetRect,panelRect=DOM.getRect(panel.getEl()),contentAreaRect=DOM.getRect(editor.getContentAreaContainer()||editor.getBody());var delta=$_80cyhospjdud7dhz.getUiContainerDelta(panel).getOr({x:0,y:0});if(elementRect.x+=delta.x,elementRect.y+=delta.y,panelRect.x+=delta.x,panelRect.y+=delta.y,contentAreaRect.x+=delta.x,contentAreaRect.y+=delta.y,"inline"!==DOM.getStyle(match.element,"display",!0)){var clientRect=match.element.getBoundingClientRect();elementRect.w=clientRect.width,elementRect.h=clientRect.height}editor.inline||(contentAreaRect.w=editor.getDoc().documentElement.offsetWidth),editor.selection.controlSelection.isResizable(match.element)&&elementRect.w<25&&(elementRect=Rect.inflate(elementRect,0,8)),relPos=Rect.findBestRelativePosition(panelRect,elementRect,contentAreaRect,testPositions),elementRect=Rect.clamp(elementRect,contentAreaRect),relPos?(relRect=Rect.relativePosition(panelRect,elementRect,relPos),movePanelTo(panel,userConstrain(handler,relRect.x,relRect.y,elementRect,contentAreaRect,panelRect))):(contentAreaRect.h+=panelRect.h,(elementRect=Rect.intersect(contentAreaRect,elementRect))?(relPos=Rect.findBestRelativePosition(panelRect,elementRect,contentAreaRect,["bc-tc","bl-tl","br-tr"]))?(relRect=Rect.relativePosition(panelRect,elementRect,relPos),movePanelTo(panel,userConstrain(handler,relRect.x,relRect.y,elementRect,contentAreaRect,panelRect))):movePanelTo(panel,userConstrain(handler,elementRect.x,elementRect.y,elementRect,contentAreaRect,panelRect)):panel.hide()),function(panel,relPos,predicate){relPos=relPos?relPos.substr(0,2):"",Tools.each({t:"down",b:"up"},function(cls,pos){panel.classes.toggle("arrow-"+cls,predicate(pos,relPos.substr(0,1)))}),Tools.each({l:"left",r:"right"},function(cls,pos){panel.classes.toggle("arrow-"+cls,predicate(pos,relPos.substr(1,1)))})}(panel,relPos,function(pos1,pos2){return pos1===pos2})}else!function(editor){Tools.each(editor.contextToolbars,function(toolbar){toolbar.panel&&toolbar.panel.hide()})}(editor)},repositionHandler=function(show){return function(){Delay.requestAnimationFrame(function(){editor.selection&&reposition(findFrontMostMatch(editor.selection.getNode()),show)})}},showContextToolbar=function(match){var panel;if(match.toolbar.panel)return match.toolbar.panel.show(),void reposition(match);panel=Factory.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:$_4k33rfssjdud7dia_createToolbar(editor,match.toolbar.items),oncancel:function(){editor.focus()}}),$_80cyhospjdud7dhz.setUiContainer(editor,panel),function(panel){if(!scrollContainer){var reposition_1=repositionHandler(!0),uiContainer_1=$_80cyhospjdud7dhz.getUiContainer(panel);scrollContainer=editor.selection.getScrollContainer()||editor.getWin(),DOM.bind(scrollContainer,"scroll",reposition_1),DOM.bind(uiContainer_1,"scroll",reposition_1),editor.on("remove",function(){DOM.unbind(scrollContainer,"scroll",reposition_1),DOM.unbind(uiContainer_1,"scroll",reposition_1)})}}(panel),(match.toolbar.panel=panel).renderTo().reflow(),reposition(match)},hideAllContextToolbars=function(){Tools.each(getContextToolbars(),function(toolbar){toolbar.panel&&toolbar.panel.hide()})},findFrontMostMatch=function(targetElm){var i,y,parentsAndSelf,toolbars=getContextToolbars();for(i=(parentsAndSelf=editor.$(targetElm).parents().add(targetElm)).length-1;0<=i;i--)for(y=toolbars.length-1;0<=y;y--)if(toolbars[y].predicate(parentsAndSelf[i]))return{toolbar:toolbars[y],element:parentsAndSelf[i]};return null};editor.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&Delay.setEditorTimeout(editor,function(){var match;(match=findFrontMostMatch(editor.selection.getNode()))?(hideAllContextToolbars(),showContextToolbar(match)):hideAllContextToolbars()})}),editor.on("blur hide contextmenu",hideAllContextToolbars),editor.on("ObjectResizeStart",function(){var match=findFrontMostMatch(editor.selection.getNode());match&&match.toolbar.panel&&match.toolbar.panel.hide()}),editor.on("ResizeEditor ResizeWindow",repositionHandler(!0)),editor.on("nodeChange",repositionHandler(!1)),editor.on("remove",function(){Tools.each(getContextToolbars(),function(toolbar){toolbar.panel&&toolbar.panel.remove()}),editor.contextToolbars={}}),editor.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var match=findFrontMostMatch(editor.selection.getNode());match&&match.toolbar.panel&&match.toolbar.panel.items()[0].focus()})},rawIndexOf=void 0===(pIndexOf=Array.prototype.indexOf)?function(xs,x){return slowIndexOf(xs,x)}:function(xs,x){return pIndexOf.call(xs,x)},contains=function(xs,x){return-1<rawIndexOf(xs,x)},map=function(xs,f){for(var len=xs.length,r=new Array(len),i=0;i<len;i++){var x=xs[i];r[i]=f(x,i,xs)}return r},each=function(xs,f){for(var i=0,len=xs.length;i<len;i++)f(xs[i],i,xs)},eachr=function(xs,f){for(var i=xs.length-1;0<=i;i--)f(xs[i],i,xs)},filter=function(xs,pred){for(var r=[],i=0,len=xs.length;i<len;i++){var x=xs[i];pred(x,i,xs)&&r.push(x)}return r},findIndex=function(xs,pred){for(var i=0,len=xs.length;i<len;i++)if(pred(xs[i],i,xs))return Option.some(i);return Option.none()},slowIndexOf=function(xs,x){for(var i=0,len=xs.length;i<len;++i)if(xs[i]===x)return i;return-1},push=Array.prototype.push,flatten=function(xs){for(var r=[],i=0,len=xs.length;i<len;++i){if(!Array.prototype.isPrototypeOf(xs[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+xs);push.apply(r,xs[i])}return r},forall=function(xs,pred){for(var i=0,len=xs.length;i<len;++i)if(!0!==pred(xs[i],i,xs))return!1;return!0},slice=Array.prototype.slice,$_7xl71gsujdud7dik={map:map,each:each,eachr:eachr,partition:function(xs,pred){for(var pass=[],fail=[],i=0,len=xs.length;i<len;i++){var x=xs[i];(pred(x,i,xs)?pass:fail).push(x)}return{pass:pass,fail:fail}},filter:filter,groupBy:function(xs,f){if(0===xs.length)return[];for(var wasType=f(xs[0]),r=[],group=[],i=0,len=xs.length;i<len;i++){var x=xs[i],type=f(x);type!==wasType&&(r.push(group),group=[]),wasType=type,group.push(x)}return 0!==group.length&&r.push(group),r},indexOf:function(xs,x){var r=rawIndexOf(xs,x);return-1===r?Option.none():Option.some(r)},foldr:function(xs,f,acc){return eachr(xs,function(x){acc=f(acc,x)}),acc},foldl:function(xs,f,acc){return each(xs,function(x){acc=f(acc,x)}),acc},find:function(xs,pred){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs))return Option.some(x)}return Option.none()},findIndex:findIndex,flatten:flatten,bind:function(xs,f){var output=map(xs,f);return flatten(output)},forall:forall,exists:function(xs,pred){return findIndex(xs,pred).isSome()},contains:contains,equal:function(a1,a2){return a1.length===a2.length&&forall(a1,function(x,i){return x===a2[i]})},reverse:function(xs){var r=slice.call(xs,0);return r.reverse(),r},chunk:function(array,size){for(var r=[],i=0;i<array.length;i+=size){var s=array.slice(i,i+size);r.push(s)}return r},difference:function(a1,a2){return filter(a1,function(x){return!contains(a2,x)})},mapToObject:function(xs,f){for(var r={},i=0,len=xs.length;i<len;i++){var x=xs[i];r[String(x)]=f(x,i)}return r},pure:function(x){return[x]},sort:function(xs,comparator){var copy=slice.call(xs,0);return copy.sort(comparator),copy},range:function(num,f){for(var r=[],i=0;i<num;i++)r.push(f(i));return r},head:function(xs){return 0===xs.length?Option.none():Option.some(xs[0])},last:function(xs){return 0===xs.length?Option.none():Option.some(xs[xs.length-1])}},defaultMenus={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},createMenuNameItemPair=function(name,item){return"|"===name?{name:"|",item:{text:"|"}}:item?{name:name,item:item}:null},isSeparator=function(namedMenuItem){return namedMenuItem&&"|"===namedMenuItem.item.text},createMenu=function(editorMenuItems,menus,removedMenuItems,context){var menuButton,menu,namedMenuItems,isUserDefined;return menus?(menu=menus[context],isUserDefined=!0):menu=defaultMenus[context],menu&&(menuButton={text:menu.title},namedMenuItems=[],Tools.each((menu.items||"").split(/[ ,]/),function(name){var namedMenuItem=createMenuNameItemPair(name,editorMenuItems[name]);namedMenuItem&&namedMenuItems.push(namedMenuItem)}),isUserDefined||Tools.each(editorMenuItems,function(item,name){item.context!==context||function(namedMenuItems,name){return $_7xl71gsujdud7dik.findIndex(namedMenuItems,function(namedMenuItem){return namedMenuItem.name===name}).isSome()}(namedMenuItems,name)||("before"===item.separator&&namedMenuItems.push({name:"|",item:{text:"|"}}),item.prependToContext?namedMenuItems.unshift(createMenuNameItemPair(name,item)):namedMenuItems.push(createMenuNameItemPair(name,item)),"after"===item.separator&&namedMenuItems.push({name:"|",item:{text:"|"}}))}),menuButton.menu=$_7xl71gsujdud7dik.map(function(namedMenuItems,removedMenuItems){var menuItemsPass1=$_7xl71gsujdud7dik.filter(namedMenuItems,function(namedMenuItem){return!1===removedMenuItems.hasOwnProperty(namedMenuItem.name)}),menuItemsPass2=$_7xl71gsujdud7dik.filter(menuItemsPass1,function(namedMenuItem,i,namedMenuItems){return!isSeparator(namedMenuItem)||!isSeparator(namedMenuItems[i-1])});return $_7xl71gsujdud7dik.filter(menuItemsPass2,function(namedMenuItem,i,namedMenuItems){return!isSeparator(namedMenuItem)||0<i&&i<namedMenuItems.length-1})}(namedMenuItems,removedMenuItems),function(menuItem){return menuItem.item}),!menuButton.menu.length)?null:menuButton},$_2md26cstjdud7did_createMenuButtons=function(editor){for(var menuButtons=[],defaultMenuBar=function(editor){var name,defaultMenuBar=[],menu=getMenu(editor);if(menu)for(name in menu)defaultMenuBar.push(name);else for(name in defaultMenus)defaultMenuBar.push(name);return defaultMenuBar}(editor),removedMenuItems=Tools.makeMap(function(editor){return editor.getParam("removed_menuitems","")}(editor).split(/[ ,]/)),menubar=getMenubar(editor),enabledMenuNames="string"==typeof menubar?menubar.split(/[ ,]/):defaultMenuBar,i=0;i<enabledMenuNames.length;i++){var menuItems=enabledMenuNames[i],menu=createMenu(editor.menuItems,getMenu(editor),removedMenuItems,menuItems);menu&&menuButtons.push(menu)}return menuButtons},DOM$1=DOMUtils.DOM,getSize=function(elm){return{width:elm.clientWidth,height:elm.clientHeight}},resizeTo=function(editor,width,height){var containerElm,iframeElm,containerSize,iframeSize;containerElm=editor.getContainer(),iframeElm=editor.getContentAreaContainer().firstChild,containerSize=getSize(containerElm),iframeSize=getSize(iframeElm),null!==width&&(width=Math.max(function(editor){return editor.getParam("min_width",100,"number")}(editor),width),width=Math.min(function(editor){return editor.getParam("max_width",65535,"number")}(editor),width),DOM$1.setStyle(containerElm,"width",width+(containerSize.width-iframeSize.width)),DOM$1.setStyle(iframeElm,"width",width)),height=Math.max(function(editor){return editor.getParam("min_height",100,"number")}(editor),height),height=Math.min(function(editor){return editor.getParam("max_height",65535,"number")}(editor),height),DOM$1.setStyle(iframeElm,"height",height),$_9c9onhskjdud7dhp_fireResizeEditor(editor)},$_192384svjdud7diq_resizeTo=resizeTo,$_192384svjdud7diq_resizeBy=function(editor,dw,dh){var elm=editor.getContentAreaContainer();resizeTo(editor,elm.clientWidth+dw,elm.clientHeight+dh)},Env=tinymce.util.Tools.resolve("tinymce.Env"),trigger=function(sidebar,panel,callbackName){var elm,callback=sidebar.settings[callbackName];callback&&callback((elm=panel.getEl("body"),{element:function(){return elm}}))},showPanel=function(editor,name,sidebars){return function(e){var btnCtrl=e.control,container=btnCtrl.parents().filter("panel")[0],panel=container.find("#"+name)[0],sidebar=function(sidebars,name){return Tools.grep(sidebars,function(sidebar){return sidebar.name===name})[0]}(sidebars,name);!function(name,container,sidebars){Tools.each(sidebars,function(sidebar){var panel=container.items().filter("#"+sidebar.name)[0];panel&&panel.visible()&&sidebar.name!==name&&(trigger(sidebar,panel,"onhide"),panel.visible(!1))})}(name,container,sidebars),btnCtrl.parent().items().each(function(ctrl){ctrl.active(!1)}),panel&&panel.visible()?(trigger(sidebar,panel,"onhide"),panel.hide(),btnCtrl.active(!1)):(panel?panel.show():(panel=Factory.create({type:"container",name:name,layout:"stack",classes:"sidebar-panel",html:""}),container.prepend(panel),trigger(sidebar,panel,"onrender")),trigger(sidebar,panel,"onshow"),btnCtrl.active(!0)),$_9c9onhskjdud7dhp_fireResizeEditor(editor)}},$_81mny0swjdud7dis_hasSidebar=function(editor){return!(Env.ie&&!(11<=Env.ie)||!editor.sidebars)&&0<editor.sidebars.length},$_81mny0swjdud7dis_createSidebar=function(editor){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:Tools.map(editor.sidebars,function(sidebar){var settings=sidebar.settings;return{type:"button",icon:settings.icon,image:settings.image,tooltip:settings.tooltip,onclick:showPanel(editor,sidebar.name,editor.sidebars)}})}]}},$_fx9v3ysyjdud7div_fireSkinLoaded=function(editor){var done=function(){editor._skinLoaded=!0,$_9c9onhskjdud7dhp_fireSkinLoaded(editor)};return function(){editor.initialized?done():editor.on("init",done)}},DOM$2=DOMUtils.DOM,editArea=function(border){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:border,html:""}},$_e9ps88sgjdud7dhl_render=function(editor,theme,args){var panel,resizeHandleCtrl,startSize;if(!1===isSkinDisabled(editor)&&args.skinUiCss?DOM$2.styleSheetLoader.load(args.skinUiCss,$_fx9v3ysyjdud7div_fireSkinLoaded(editor)):$_fx9v3ysyjdud7div_fireSkinLoaded(editor)(),panel=theme.panel=Factory.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===hasMenubar(editor)?null:{type:"menubar",border:"0 0 1 0",items:$_2md26cstjdud7did_createMenuButtons(editor)},$_4k33rfssjdud7dia_createToolbars(editor,getToolbarSize(editor))]},$_81mny0swjdud7dis_hasSidebar(editor)?function(editor){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[editArea("0"),$_81mny0swjdud7dis_createSidebar(editor)]}}(editor):editArea("1 0 0 0")]}),$_80cyhospjdud7dhz.setUiContainer(editor,panel),"none"!==getResize(editor)&&(resizeHandleCtrl={type:"resizehandle",direction:getResize(editor),onResizeStart:function(){var elm=editor.getContentAreaContainer().firstChild;startSize={width:elm.clientWidth,height:elm.clientHeight}},onResize:function(e){"both"===getResize(editor)?$_192384svjdud7diq_resizeTo(editor,startSize.width+e.deltaX,startSize.height+e.deltaY):$_192384svjdud7diq_resizeTo(editor,null,startSize.height+e.deltaY)}}),function(editor){return editor.getParam("statusbar",!0,"boolean")}(editor)){var html=I18n.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),brandingLabel=function(editor){return editor.getParam("branding",!0,"boolean")}(editor)?{type:"label",classes:"branding",html:" "+html}:null;panel.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:editor},resizeHandleCtrl,brandingLabel]})}return $_9c9onhskjdud7dhp_fireBeforeRenderUI(editor),editor.on("SwitchMode",function(panel){return function(e){panel.find("*").disabled("readonly"===e.mode)}}(panel)),panel.renderBefore(args.targetNode).reflow(),function(editor){return editor.getParam("readonly",!1,"boolean")}(editor)&&editor.setMode("readonly"),args.width&&DOM$2.setStyle(panel.getEl(),"width",args.width),editor.on("remove",function(){panel.remove(),panel=null}),$_4w3fresljdud7dhq_addKeys(editor,panel),$_er9inssmjdud7dht_addContextualToolbars(editor),{iframeContainer:panel.find("#iframe")[0].getEl(),editorContainer:panel.getEl()}},$=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),count=0,funcs={id:function(){return"mceu_"+count++},create:function(name,attrs,children){var elm=document.createElement(name);return DOMUtils.DOM.setAttribs(elm,attrs),"string"==typeof children?elm.innerHTML=children:Tools.each(children,function(child){child.nodeType&&elm.appendChild(child)}),elm},createFragment:function(html){return DOMUtils.DOM.createFragment(html)},getWindowSize:function(){return DOMUtils.DOM.getViewPort()},getSize:function(elm){var width,height;if(elm.getBoundingClientRect){var rect=elm.getBoundingClientRect();width=Math.max(rect.width||rect.right-rect.left,elm.offsetWidth),height=Math.max(rect.height||rect.bottom-rect.bottom,elm.offsetHeight)}else width=elm.offsetWidth,height=elm.offsetHeight;return{width:width,height:height}},getPos:function(elm,root){return DOMUtils.DOM.getPos(elm,root||funcs.getContainer())},getContainer:function(){return Env.container?Env.container:document.body},getViewPort:function(win){return DOMUtils.DOM.getViewPort(win)},get:function(id){return document.getElementById(id)},addClass:function(elm,cls){return DOMUtils.DOM.addClass(elm,cls)},removeClass:function(elm,cls){return DOMUtils.DOM.removeClass(elm,cls)},hasClass:function(elm,cls){return DOMUtils.DOM.hasClass(elm,cls)},toggleClass:function(elm,cls,state){return DOMUtils.DOM.toggleClass(elm,cls,state)},css:function(elm,name,value){return DOMUtils.DOM.setStyle(elm,name,value)},getRuntimeStyle:function(elm,name){return DOMUtils.DOM.getStyle(elm,name,!0)},on:function(target,name,callback,scope){return DOMUtils.DOM.bind(target,name,callback,scope)},off:function(target,name,callback){return DOMUtils.DOM.unbind(target,name,callback)},fire:function(target,name,args){return DOMUtils.DOM.fire(target,name,args)},innerHtml:function(elm,html){DOMUtils.DOM.setHTML(elm,html)}},isStatic=function(elm){return"static"===funcs.getRuntimeStyle(elm,"position")},isFixed=function(ctrl){return ctrl.state.get("fixed")};function calculateRelativePosition(ctrl,targetElm,rel){var ctrlElm,pos,x,y,selfW,selfH,targetW,targetH,viewport,size;return viewport=getDocumentViewPort(),x=(pos=funcs.getPos(targetElm,$_80cyhospjdud7dhz.getUiContainer(ctrl))).x,y=pos.y,isFixed(ctrl)&&isStatic(document.body)&&(x-=viewport.x,y-=viewport.y),ctrlElm=ctrl.getEl(),selfW=(size=funcs.getSize(ctrlElm)).width,selfH=size.height,targetW=(size=funcs.getSize(targetElm)).width,targetH=size.height,"b"===(rel=(rel||"").split(""))[0]&&(y+=targetH),"r"===rel[1]&&(x+=targetW),"c"===rel[0]&&(y+=Math.round(targetH/2)),"c"===rel[1]&&(x+=Math.round(targetW/2)),"b"===rel[3]&&(y-=selfH),"r"===rel[4]&&(x-=selfW),"c"===rel[3]&&(y-=Math.round(selfH/2)),"c"===rel[4]&&(x-=Math.round(selfW/2)),{x:x,y:y,w:selfW,h:selfH}}var getDocumentViewPort=function(){return{x:0,y:0,w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.defaultView.innerWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.defaultView.innerHeight)}},getViewPortRect=function(ctrl){var customUiContainer=$_80cyhospjdud7dhz.getUiContainer(ctrl);return customUiContainer&&!isFixed(ctrl)?function(customUiContainer){return{x:0,y:0,w:customUiContainer.scrollWidth-1,h:customUiContainer.scrollHeight-1}}(customUiContainer):getDocumentViewPort()},$_7vzycqt3jdud7djm={testMoveRel:function(elm,rels){for(var viewPortRect=getViewPortRect(this),i=0;i<rels.length;i++){var pos=calculateRelativePosition(this,elm,rels[i]);if(isFixed(this)){if(0<pos.x&&pos.x+pos.w<viewPortRect.w&&0<pos.y&&pos.y+pos.h<viewPortRect.h)return rels[i]}else if(pos.x>viewPortRect.x&&pos.x+pos.w<viewPortRect.w+viewPortRect.x&&pos.y>viewPortRect.y&&pos.y+pos.h<viewPortRect.h+viewPortRect.y)return rels[i]}return rels[0]},moveRel:function(elm,rel){"string"!=typeof rel&&(rel=this.testMoveRel(elm,rel));var pos=calculateRelativePosition(this,elm,rel);return this.moveTo(pos.x,pos.y)},moveBy:function(dx,dy){var rect=this.layoutRect();return this.moveTo(rect.x+dx,rect.y+dy),this},moveTo:function(x,y){function constrain(value,max,size){return value<0?0:max<value+size&&(value=max-size)<0?0:value}if(this.settings.constrainToViewport){var viewPortRect=getViewPortRect(this),layoutRect=this.layoutRect();x=constrain(x,viewPortRect.w+viewPortRect.x,layoutRect.w),y=constrain(y,viewPortRect.h+viewPortRect.y,layoutRect.h)}var uiContainer=$_80cyhospjdud7dhz.getUiContainer(this);return uiContainer&&isStatic(uiContainer)&&!isFixed(this)&&(x-=uiContainer.scrollLeft,y-=uiContainer.scrollTop),uiContainer&&(x+=1,y+=1),this.state.get("rendered")?this.layoutRect({x:x,y:y}).repaint():(this.settings.x=x,this.settings.y=y),this.fire("move",{x:x,y:y}),this}},Class=tinymce.util.Tools.resolve("tinymce.util.Class"),EventDispatcher=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),$_287isvt9jdud7dkj_parseBox=function(value){var len;if(value)return"number"==typeof value?{top:value=value||0,left:value,bottom:value,right:value}:(1===(len=(value=value.split(" ")).length)?value[1]=value[2]=value[3]=value[0]:2===len?(value[2]=value[0],value[3]=value[1]):3===len&&(value[3]=value[1]),{top:parseInt(value[0],10)||0,right:parseInt(value[1],10)||0,bottom:parseInt(value[2],10)||0,left:parseInt(value[3],10)||0})},$_287isvt9jdud7dkj_measureBox=function(elm,prefix){function getSide(name){var val=parseFloat(function getStyle(name){var defaultView=elm.ownerDocument.defaultView;if(defaultView){var computedStyle=defaultView.getComputedStyle(elm,null);return computedStyle?(name=name.replace(/[A-Z]/g,function(a){return"-"+a}),computedStyle.getPropertyValue(name)):null}return elm.currentStyle[name]}(name));return isNaN(val)?0:val}return{top:getSide(prefix+"TopWidth"),right:getSide(prefix+"RightWidth"),bottom:getSide(prefix+"BottomWidth"),left:getSide(prefix+"LeftWidth")}};function noop$1(){}function ClassList(onchange){this.cls=[],this.cls._map={},this.onchange=onchange||noop$1,this.prefix=""}Tools.extend(ClassList.prototype,{add:function(cls){return cls&&!this.contains(cls)&&(this.cls._map[cls]=!0,this.cls.push(cls),this._change()),this},remove:function(cls){if(this.contains(cls)){var i=void 0;for(i=0;i<this.cls.length&&this.cls[i]!==cls;i++);this.cls.splice(i,1),delete this.cls._map[cls],this._change()}return this},toggle:function(cls,state){var curState=this.contains(cls);return curState!==state&&(curState?this.remove(cls):this.add(cls),this._change()),this},contains:function(cls){return!!this.cls._map[cls]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),ClassList.prototype.toString=function(){var value;if(this.clsValue)return this.clsValue;value="";for(var i=0;i<this.cls.length;i++)0<i&&(value+=" "),value+=this.prefix+this.cls[i];return value};var Collection,Collection$1,proto,expression=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,whiteSpace=/^\s*|\s*$/g,Selector=Class.extend({init:function(selector){var match=this.match;function compile(selector,filters,direct){var parts;function add(filter){filter&&filters.push(filter)}return add(function compileNameFilter(name){if(name)return name=name.toLowerCase(),function(item){return"*"===name||item.type===name}}((parts=expression.exec(selector.replace(whiteSpace,"")))[1])),add(function compileIdFilter(id){if(id)return function(item){return item._name===id}}(parts[2])),add(function compileClassesFilter(classes){if(classes)return classes=classes.split("."),function(item){for(var i=classes.length;i--;)if(!item.classes.contains(classes[i]))return!1;return!0}}(parts[3])),add(function compileAttrFilter(name,cmp,check){if(name)return function(item){var value=item[name]?item[name]():"";return cmp?"="===cmp?value===check:"*="===cmp?0<=value.indexOf(check):"~="===cmp?0<=(" "+value+" ").indexOf(" "+check+" "):"!="===cmp?value!==check:"^="===cmp?0===value.indexOf(check):"$="===cmp&&value.substr(value.length-check.length)===check:!!check}}(parts[4],parts[5],parts[6])),add(function compilePsuedoFilter(name){var notSelectors;if(name)return(name=/(?:not\((.+)\))|(.+)/i.exec(name))[1]?(notSelectors=parseChunks(name[1],[]),function(item){return!match(item,notSelectors)}):(name=name[2],function(item,index,length){return"first"===name?0===index:"last"===name?index===length-1:"even"===name?index%2==0:"odd"===name?index%2==1:!!item[name]&&item[name]()})}(parts[7])),filters.pseudo=!!parts[7],filters.direct=direct,filters}function parseChunks(selector,selectors){var extra,matches,i,parts=[];do{if(chunker.exec(""),(matches=chunker.exec(selector))&&(selector=matches[3],parts.push(matches[1]),matches[2])){extra=matches[3];break}}while(matches);for(extra&&parseChunks(extra,selectors),selector=[],i=0;i<parts.length;i++)">"!==parts[i]&&selector.push(compile(parts[i],[],">"===parts[i-1]));return selectors.push(selector),selectors}this._selectors=parseChunks(selector,[])},match:function(control,selectors){var i,l,si,sl,selector,fi,fl,filters,index,length,siblings,count,item;for(i=0,l=(selectors=selectors||this._selectors).length;i<l;i++){for(item=control,count=0,si=(sl=(selector=selectors[i]).length)-1;0<=si;si--)for(filters=selector[si];item;){if(filters.pseudo)for(index=length=(siblings=item.parent().items()).length;index--&&siblings[index]!==item;);for(fi=0,fl=filters.length;fi<fl;fi++)if(!filters[fi](item,index,length)){fi=fl+1;break}if(fi===fl){count++;break}if(si===sl-1)break;item=item.parent()}if(count===sl)return!0}return!1},find:function(container){var i,l,matches=[],selectors=this._selectors;function collect(items,selector,index){var i,l,fi,fl,item,filters=selector[index];for(i=0,l=items.length;i<l;i++){for(item=items[i],fi=0,fl=filters.length;fi<fl;fi++)if(!filters[fi](item,i,l)){fi=fl+1;break}if(fi===fl)index===selector.length-1?matches.push(item):item.items&&collect(item.items(),selector,index+1);else if(filters.direct)return;item.items&&collect(item.items(),selector,index)}}if(container.items){for(i=0,l=selectors.length;i<l;i++)collect(container.items(),selectors[i],0);1<l&&(matches=function unique(array){for(var item,uniqueItems=[],i=array.length;i--;)(item=array[i]).__checked||(uniqueItems.push(item),item.__checked=1);for(i=uniqueItems.length;i--;)delete uniqueItems[i].__checked;return uniqueItems}(matches))}return Collection||(Collection=Selector.Collection),new Collection(matches)}}),push$1=Array.prototype.push,slice$1=Array.prototype.slice;proto={length:0,init:function(items){items&&this.add(items)},add:function(items){return Tools.isArray(items)?push$1.apply(this,items):items instanceof Collection$1?this.add(items.toArray()):push$1.call(this,items),this},set:function(items){var i,len=this.length;for(this.length=0,this.add(items),i=this.length;i<len;i++)delete this[i];return this},filter:function(selector){var i,l,item,match,matches=[];for("string"==typeof selector?(selector=new Selector(selector),match=function(item){return selector.match(item)}):match=selector,i=0,l=this.length;i<l;i++)match(item=this[i])&&matches.push(item);return new Collection$1(matches)},slice:function(){return new Collection$1(slice$1.apply(this,arguments))},eq:function(index){return-1===index?this.slice(index):this.slice(index,+index+1)},each:function(callback){return Tools.each(this,callback),this},toArray:function(){return Tools.toArray(this)},indexOf:function(ctrl){for(var i=this.length;i--&&this[i]!==ctrl;);return i},reverse:function(){return new Collection$1(Tools.toArray(this).reverse())},hasClass:function(cls){return!!this[0]&&this[0].classes.contains(cls)},prop:function(name,value){var item;return void 0!==value?(this.each(function(item){item[name]&&item[name](value)}),this):(item=this[0])&&item[name]?item[name]():void 0},exec:function(name){var args=Tools.toArray(arguments).slice(1);return this.each(function(item){item[name]&&item[name].apply(item,args)}),this},remove:function(){for(var i=this.length;i--;)this[i].remove();return this},addClass:function(cls){return this.each(function(item){item.classes.add(cls)})},removeClass:function(cls){return this.each(function(item){item.classes.remove(cls)})}},Tools.each("fire on off show hide append prepend before after reflow".split(" "),function(name){proto[name]=function(){var args=Tools.toArray(arguments);return this.each(function(ctrl){name in ctrl&&ctrl[name].apply(ctrl,args)}),this}}),Tools.each("text name disabled active selected checked visible parent value data".split(" "),function(name){proto[name]=function(value){return this.prop(name,value)}}),Collection$1=Class.extend(proto);var Collection$2=Selector.Collection=Collection$1,Binding=function(settings){this.create=settings.create};Binding.create=function(model,name){return new Binding({create:function(otherModel,otherName){var bindings,fromSelfToOther=function(e){otherModel.set(otherName,e.value)};return otherModel.on("change:"+otherName,function(e){model.set(name,e.value)}),model.on("change:"+name,fromSelfToOther),(bindings=otherModel._bindings)||(bindings=otherModel._bindings=[],otherModel.on("destroy",function(){for(var i=bindings.length;i--;)bindings[i]()})),bindings.push(function(){model.off("change:"+name,fromSelfToOther)}),model.get(name)}})};var Observable=tinymce.util.Tools.resolve("tinymce.util.Observable");function isNode(node){return 0<node.nodeType}var animationFrameRequested,Control,ObservableObject=Class.extend({Mixins:[Observable],init:function(data){var name,value;for(name in data=data||{})(value=data[name])instanceof Binding&&(data[name]=value.create(this,name));this.data=data},set:function(name,value){var key,args,oldValue=this.data[name];if(value instanceof Binding&&(value=value.create(this,name)),"object"==typeof name){for(key in name)this.set(key,name[key]);return this}return function isEqual(a,b){var k,checked;if(a===b)return!0;if(null===a||null===b)return a===b;if("object"!=typeof a||"object"!=typeof b)return a===b;if(Tools.isArray(b)){if(a.length!==b.length)return!1;for(k=a.length;k--;)if(!isEqual(a[k],b[k]))return!1}if(isNode(a)||isNode(b))return a===b;for(k in checked={},b){if(!isEqual(a[k],b[k]))return!1;checked[k]=!0}for(k in a)if(!checked[k]&&!isEqual(a[k],b[k]))return!1;return!0}(oldValue,value)||(args={target:this,name:name,value:this.data[name]=value,oldValue:oldValue},this.fire("change:"+name,args),this.fire("change",args)),this},get:function(name){return this.data[name]},has:function(name){return name in this.data},bind:function(name){return Binding.create(this,name)},destroy:function(){this.fire("destroy")}}),dirtyCtrls={},$_65ijhgtgjdud7dli={add:function(ctrl){var parent=ctrl.parent();if(parent){if(!parent._layout||parent._layout.isNative())return;dirtyCtrls[parent._id]||(dirtyCtrls[parent._id]=parent),animationFrameRequested||(animationFrameRequested=!0,Delay.requestAnimationFrame(function(){var id,ctrl;for(id in animationFrameRequested=!1,dirtyCtrls)(ctrl=dirtyCtrls[id]).state.get("rendered")&&ctrl.reflow();dirtyCtrls={}},document.body))}},remove:function(ctrl){dirtyCtrls[ctrl._id]&&delete dirtyCtrls[ctrl._id]}},hasMouseWheelEventSupport="onmousewheel"in document,hasWheelEventSupport=!1,idCounter=0,proto$1={Statics:{classPrefix:"mce-"},isRtl:function(){return Control.rtl},classPrefix:"mce-",init:function(settings){var classes,defaultClasses,self=this;function applyClasses(classes){var i;for(classes=classes.split(" "),i=0;i<classes.length;i++)self.classes.add(classes[i])}self.settings=settings=Tools.extend({},self.Defaults,settings),self._id=settings.id||"mceu_"+idCounter++,self._aria={role:settings.role},self._elmCache={},self.$=$,self.state=new ObservableObject({visible:!0,active:!1,disabled:!1,value:""}),self.data=new ObservableObject(settings.data),self.classes=new ClassList(function(){self.state.get("rendered")&&(self.getEl().className=this.toString())}),self.classes.prefix=self.classPrefix,(classes=settings.classes)&&(self.Defaults&&(defaultClasses=self.Defaults.classes)&&classes!==defaultClasses&&applyClasses(defaultClasses),applyClasses(classes)),Tools.each("title text name visible disabled active value".split(" "),function(name){name in settings&&self[name](settings[name])}),self.on("click",function(){if(self.disabled())return!1}),self.settings=settings,self.borderBox=$_287isvt9jdud7dkj_parseBox(settings.border),self.paddingBox=$_287isvt9jdud7dkj_parseBox(settings.padding),self.marginBox=$_287isvt9jdud7dkj_parseBox(settings.margin),settings.hidden&&self.hide()},Properties:"parent,name",getContainerElm:function(){var uiContainer=$_80cyhospjdud7dhz.getUiContainer(this);return uiContainer||funcs.getContainer()},getParentCtrl:function(elm){for(var ctrl,lookup=this.getRoot().controlIdLookup;elm&&lookup&&!(ctrl=lookup[elm.id]);)elm=elm.parentNode;return ctrl},initLayoutRect:function(){var borderBox,layoutRect,width,height,minWidth,minHeight,autoResize,startMinWidth,startMinHeight,initialSize,settings=this.settings,elm=this.getEl();borderBox=this.borderBox=this.borderBox||$_287isvt9jdud7dkj_measureBox(elm,"border"),this.paddingBox=this.paddingBox||$_287isvt9jdud7dkj_measureBox(elm,"padding"),this.marginBox=this.marginBox||$_287isvt9jdud7dkj_measureBox(elm,"margin"),initialSize=funcs.getSize(elm),startMinWidth=settings.minWidth,startMinHeight=settings.minHeight,minWidth=startMinWidth||initialSize.width,minHeight=startMinHeight||initialSize.height,width=settings.width,height=settings.height,autoResize=void 0!==(autoResize=settings.autoResize)?autoResize:!width&&!height,width=width||minWidth,height=height||minHeight;var deltaW=borderBox.left+borderBox.right,deltaH=borderBox.top+borderBox.bottom,maxW=settings.maxWidth||65535,maxH=settings.maxHeight||65535;return this._layoutRect=layoutRect={x:settings.x||0,y:settings.y||0,w:width,h:height,deltaW:deltaW,deltaH:deltaH,contentW:width-deltaW,contentH:height-deltaH,innerW:width-deltaW,innerH:height-deltaH,startMinWidth:startMinWidth||0,startMinHeight:startMinHeight||0,minW:Math.min(minWidth,maxW),minH:Math.min(minHeight,maxH),maxW:maxW,maxH:maxH,autoResize:autoResize,scrollW:0},this._lastLayoutRect={},layoutRect},layoutRect:function(newRect){var lastLayoutRect,size,deltaWidth,deltaHeight,repaintControls,curRect=this._layoutRect;return curRect||(curRect=this.initLayoutRect()),newRect?(deltaWidth=curRect.deltaW,deltaHeight=curRect.deltaH,void 0!==newRect.x&&(curRect.x=newRect.x),void 0!==newRect.y&&(curRect.y=newRect.y),void 0!==newRect.minW&&(curRect.minW=newRect.minW),void 0!==newRect.minH&&(curRect.minH=newRect.minH),void 0!==(size=newRect.w)&&(size=(size=size<curRect.minW?curRect.minW:size)>curRect.maxW?curRect.maxW:size,curRect.w=size,curRect.innerW=size-deltaWidth),void 0!==(size=newRect.h)&&(size=(size=size<curRect.minH?curRect.minH:size)>curRect.maxH?curRect.maxH:size,curRect.h=size,curRect.innerH=size-deltaHeight),void 0!==(size=newRect.innerW)&&(size=(size=size<curRect.minW-deltaWidth?curRect.minW-deltaWidth:size)>curRect.maxW-deltaWidth?curRect.maxW-deltaWidth:size,curRect.innerW=size,curRect.w=size+deltaWidth),void 0!==(size=newRect.innerH)&&(size=(size=size<curRect.minH-deltaHeight?curRect.minH-deltaHeight:size)>curRect.maxH-deltaHeight?curRect.maxH-deltaHeight:size,curRect.innerH=size,curRect.h=size+deltaHeight),void 0!==newRect.contentW&&(curRect.contentW=newRect.contentW),void 0!==newRect.contentH&&(curRect.contentH=newRect.contentH),(lastLayoutRect=this._lastLayoutRect).x===curRect.x&&lastLayoutRect.y===curRect.y&&lastLayoutRect.w===curRect.w&&lastLayoutRect.h===curRect.h||((repaintControls=Control.repaintControls)&&repaintControls.map&&!repaintControls.map[this._id]&&(repaintControls.push(this),repaintControls.map[this._id]=!0),lastLayoutRect.x=curRect.x,lastLayoutRect.y=curRect.y,lastLayoutRect.w=curRect.w,lastLayoutRect.h=curRect.h),this):curRect},repaint:function(){var style,bodyStyle,bodyElm,rect,borderBox,borderW,borderH,lastRepaintRect,round,value;round=document.createRange?function(value){return value}:Math.round,style=this.getEl().style,rect=this._layoutRect,lastRepaintRect=this._lastRepaintRect||{},borderW=(borderBox=this.borderBox).left+borderBox.right,borderH=borderBox.top+borderBox.bottom,rect.x!==lastRepaintRect.x&&(style.left=round(rect.x)+"px",lastRepaintRect.x=rect.x),rect.y!==lastRepaintRect.y&&(style.top=round(rect.y)+"px",lastRepaintRect.y=rect.y),rect.w!==lastRepaintRect.w&&(value=round(rect.w-borderW),style.width=(0<=value?value:0)+"px",lastRepaintRect.w=rect.w),rect.h!==lastRepaintRect.h&&(value=round(rect.h-borderH),style.height=(0<=value?value:0)+"px",lastRepaintRect.h=rect.h),this._hasBody&&rect.innerW!==lastRepaintRect.innerW&&(value=round(rect.innerW),(bodyElm=this.getEl("body"))&&((bodyStyle=bodyElm.style).width=(0<=value?value:0)+"px"),lastRepaintRect.innerW=rect.innerW),this._hasBody&&rect.innerH!==lastRepaintRect.innerH&&(value=round(rect.innerH),(bodyElm=bodyElm||this.getEl("body"))&&((bodyStyle=bodyStyle||bodyElm.style).height=(0<=value?value:0)+"px"),lastRepaintRect.innerH=rect.innerH),this._lastRepaintRect=lastRepaintRect,this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,funcs.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(name,callback){var self=this;return getEventDispatcher(self).on(name,function resolveCallbackName(name){var callback,scope;return"string"!=typeof name?name:function(e){return callback||self.parentsAndSelf().each(function(ctrl){var callbacks=ctrl.settings.callbacks;if(callbacks&&(callback=callbacks[name]))return scope=ctrl,!1}),callback?callback.call(scope,e):(e.action=name,void this.fire("execute",e))}}(callback)),self},off:function(name,callback){return getEventDispatcher(this).off(name,callback),this},fire:function(name,args,bubble){if((args=args||{}).control||(args.control=this),args=getEventDispatcher(this).fire(name,args),!1!==bubble&&this.parent)for(var parent_1=this.parent();parent_1&&!args.isPropagationStopped();)parent_1.fire(name,args,!1),parent_1=parent_1.parent();return args},hasEventListeners:function(name){return getEventDispatcher(this).has(name)},parents:function(selector){var ctrl,parents=new Collection$2;for(ctrl=this.parent();ctrl;ctrl=ctrl.parent())parents.add(ctrl);return selector&&(parents=parents.filter(selector)),parents},parentsAndSelf:function(selector){return new Collection$2(this).add(this.parents(selector))},next:function(){var parentControls=this.parent().items();return parentControls[parentControls.indexOf(this)+1]},prev:function(){var parentControls=this.parent().items();return parentControls[parentControls.indexOf(this)-1]},innerHtml:function(html){return this.$el.html(html),this},getEl:function(suffix){var id=suffix?this._id+"-"+suffix:this._id;return this._elmCache[id]||(this._elmCache[id]=$("#"+id)[0]),this._elmCache[id]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(ex){}return this},blur:function(){return this.getEl().blur(),this},aria:function(name,value){var elm=this.getEl(this.ariaTarget);return void 0===value?this._aria[name]:(this._aria[name]=value,this.state.get("rendered")&&elm.setAttribute("role"===name?name:"aria-"+name,value),this)},encode:function(text,translate){return!1!==translate&&(text=this.translate(text)),(text||"").replace(/[&<>"]/g,function(match){return"&#"+match.charCodeAt(0)+";"})},translate:function(text){return Control.translate?Control.translate(text):text},before:function(items){var parent=this.parent();return parent&&parent.insert(items,parent.items().indexOf(this),!0),this},after:function(items){var parent=this.parent();return parent&&parent.insert(items,parent.items().indexOf(this)),this},remove:function(){var newItems,i,self=this,elm=self.getEl(),parent=self.parent();if(self.items){var controls=self.items().toArray();for(i=controls.length;i--;)controls[i].remove()}parent&&parent.items&&(newItems=[],parent.items().each(function(item){item!==self&&newItems.push(item)}),parent.items().set(newItems),parent._lastRect=null),self._eventsRoot&&self._eventsRoot===self&&$(elm).off();var lookup=self.getRoot().controlIdLookup;return lookup&&delete lookup[self._id],elm&&elm.parentNode&&elm.parentNode.removeChild(elm),self.state.set("rendered",!1),self.state.destroy(),self.fire("remove"),self},renderBefore:function(elm){return $(elm).before(this.renderHtml()),this.postRender(),this},renderTo:function(elm){return $(elm||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var elm,box,parent,name,parentEventsRoot,self=this,settings=self.settings;for(name in self.$el=$(self.getEl()),self.state.set("rendered",!0),settings)0===name.indexOf("on")&&self.on(name.substr(2),settings[name]);if(self._eventsRoot){for(parent=self.parent();!parentEventsRoot&&parent;parent=parent.parent())parentEventsRoot=parent._eventsRoot;if(parentEventsRoot)for(name in parentEventsRoot._nativeEvents)self._nativeEvents[name]=!0}bindPendingEvents(self),settings.style&&(elm=self.getEl())&&(elm.setAttribute("style",settings.style),elm.style.cssText=settings.style),self.settings.border&&(box=self.borderBox,self.$el.css({"border-top-width":box.top,"border-right-width":box.right,"border-bottom-width":box.bottom,"border-left-width":box.left}));var root=self.getRoot();for(var key in root.controlIdLookup||(root.controlIdLookup={}),(root.controlIdLookup[self._id]=self)._aria)self.aria(key,self._aria[key]);!1===self.state.get("visible")&&(self.getEl().style.display="none"),self.bindStates(),self.state.on("change:visible",function(e){var parentCtrl,state=e.value;self.state.get("rendered")&&(self.getEl().style.display=!1===state?"none":"",self.getEl().getBoundingClientRect()),(parentCtrl=self.parent())&&(parentCtrl._lastRect=null),self.fire(state?"show":"hide"),$_65ijhgtgjdud7dli.add(self)}),self.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(align){var x,y,width,height,parentWidth,parentHeight,elm=this.getEl(),parentElm=elm.parentNode,pos=function getOffset(elm,rootElm){var x,y,parent=elm;for(x=y=0;parent&&parent!==rootElm&&parent.nodeType;)x+=parent.offsetLeft||0,y+=parent.offsetTop||0,parent=parent.offsetParent;return{x:x,y:y}}(elm,parentElm);return x=pos.x,y=pos.y,width=elm.offsetWidth,height=elm.offsetHeight,parentWidth=parentElm.clientWidth,parentHeight=parentElm.clientHeight,"end"===align?(x-=parentWidth-width,y-=parentHeight-height):"center"===align&&(x-=parentWidth/2-width/2,y-=parentHeight/2-height/2),parentElm.scrollLeft=x,parentElm.scrollTop=y,this},getRoot:function(){for(var rootControl,ctrl=this,parents=[];ctrl;){if(ctrl.rootControl){rootControl=ctrl.rootControl;break}parents.push(ctrl),ctrl=(rootControl=ctrl).parent()}rootControl||(rootControl=this);for(var i=parents.length;i--;)parents[i].rootControl=rootControl;return rootControl},reflow:function(){$_65ijhgtgjdud7dli.remove(this);var parent=this.parent();return parent&&parent._layout&&!parent._layout.isNative()&&parent.reflow(),this}};function getEventDispatcher(obj){return obj._eventDispatcher||(obj._eventDispatcher=new EventDispatcher({scope:obj,toggleEvent:function(name,state){state&&EventDispatcher.isNative(name)&&(obj._nativeEvents||(obj._nativeEvents={}),obj._nativeEvents[name]=!0,obj.state.get("rendered")&&bindPendingEvents(obj))}})),obj._eventDispatcher}function bindPendingEvents(eventCtrl){var i,l,parents,eventRootCtrl,nativeEvents,name;function delegate(e){var control=eventCtrl.getParentCtrl(e.target);control&&control.fire(e.type,e)}function mouseLeaveHandler(){var ctrl=eventRootCtrl._lastHoverCtrl;ctrl&&(ctrl.fire("mouseleave",{target:ctrl.getEl()}),ctrl.parents().each(function(ctrl){ctrl.fire("mouseleave",{target:ctrl.getEl()})}),eventRootCtrl._lastHoverCtrl=null)}function mouseEnterHandler(e){var i,parents,lastParents,ctrl=eventCtrl.getParentCtrl(e.target),lastCtrl=eventRootCtrl._lastHoverCtrl,idx=0;if(ctrl!==lastCtrl){if((parents=(eventRootCtrl._lastHoverCtrl=ctrl).parents().toArray().reverse()).push(ctrl),lastCtrl){for((lastParents=lastCtrl.parents().toArray().reverse()).push(lastCtrl),idx=0;idx<lastParents.length&&parents[idx]===lastParents[idx];idx++);for(i=lastParents.length-1;idx<=i;i--)(lastCtrl=lastParents[i]).fire("mouseleave",{target:lastCtrl.getEl()})}for(i=idx;i<parents.length;i++)(ctrl=parents[i]).fire("mouseenter",{target:ctrl.getEl()})}}function fixWheelEvent(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=eventCtrl.fire("wheel",e)}if(nativeEvents=eventCtrl._nativeEvents){for((parents=eventCtrl.parents().toArray()).unshift(eventCtrl),i=0,l=parents.length;!eventRootCtrl&&i<l;i++)eventRootCtrl=parents[i]._eventsRoot;for(eventRootCtrl||(eventRootCtrl=parents[parents.length-1]||eventCtrl),eventCtrl._eventsRoot=eventRootCtrl,l=i,i=0;i<l;i++)parents[i]._eventsRoot=eventRootCtrl;var eventRootDelegates=eventRootCtrl._delegates;for(name in eventRootDelegates||(eventRootDelegates=eventRootCtrl._delegates={}),nativeEvents){if(!nativeEvents)return!1;"wheel"!==name||hasWheelEventSupport?("mouseenter"===name||"mouseleave"===name?eventRootCtrl._hasMouseEnter||($(eventRootCtrl.getEl()).on("mouseleave",mouseLeaveHandler).on("mouseover",mouseEnterHandler),eventRootCtrl._hasMouseEnter=1):eventRootDelegates[name]||($(eventRootCtrl.getEl()).on(name,delegate),eventRootDelegates[name]=!0),nativeEvents[name]=!1):hasMouseWheelEventSupport?$(eventCtrl.getEl()).on("mousewheel",fixWheelEvent):$(eventCtrl.getEl()).on("DOMMouseScroll",fixWheelEvent)}}}Tools.each("text title visible disabled active value".split(" "),function(name){proto$1[name]=function(value){return 0===arguments.length?this.state.get(name):(void 0!==value&&this.state.set(name,value),this)}});var Control$1=Control=Class.extend(proto$1),hasTabstopData=function(elm){return!!elm.getAttribute("data-mce-tabstop")};function KeyboardNavigation(settings){var focusedElement,focusedControl,root=settings.root;function isElement(node){return node&&1===node.nodeType}try{focusedElement=document.activeElement}catch(ex){focusedElement=document.body}function getRole(elm){return isElement(elm=elm||focusedElement)?elm.getAttribute("role"):null}function getParentRole(elm){for(var role,parent=elm||focusedElement;parent=parent.parentNode;)if(role=getRole(parent))return role}function getAriaProp(name){var elm=focusedElement;if(isElement(elm))return elm.getAttribute("aria-"+name)}function isTextInputElement(elm){var tagName=elm.tagName.toUpperCase();return"INPUT"===tagName||"TEXTAREA"===tagName||"SELECT"===tagName}function getFocusElements(elm){var elements=[];return function collect(elm){if(1===elm.nodeType&&"none"!==elm.style.display&&!elm.disabled){(function canFocus(elm){return!(!isTextInputElement(elm)||elm.hidden)||!!hasTabstopData(elm)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))})(elm)&&elements.push(elm);for(var i=0;i<elm.childNodes.length;i++)collect(elm.childNodes[i])}}(elm||root.getEl()),elements}function getNavigationRoot(targetControl){var navigationRoot,controls;(controls=(targetControl=targetControl||focusedControl).parents().toArray()).unshift(targetControl);for(var i=0;i<controls.length&&!(navigationRoot=controls[i]).settings.ariaRoot;i++);return navigationRoot}function moveFocusToIndex(idx,elements){return idx<0?idx=elements.length-1:idx>=elements.length&&(idx=0),elements[idx]&&elements[idx].focus(),idx}function moveFocus(dir,elements){var idx=-1,navigationRoot=getNavigationRoot();elements=elements||getFocusElements(navigationRoot.getEl());for(var i=0;i<elements.length;i++)elements[i]===focusedElement&&(idx=i);idx+=dir,navigationRoot.lastAriaIndex=moveFocusToIndex(idx,elements)}function left(){"tablist"===getParentRole()?moveFocus(-1,getFocusElements(focusedElement.parentNode)):focusedControl.parent().submenu?cancel():moveFocus(-1)}function right(){var role=getRole(),parentRole=getParentRole();"tablist"===parentRole?moveFocus(1,getFocusElements(focusedElement.parentNode)):"menuitem"===role&&"menu"===parentRole&&getAriaProp("haspopup")?enter():moveFocus(1)}function up(){moveFocus(-1)}function down(){var role=getRole(),parentRole=getParentRole();"menuitem"===role&&"menubar"===parentRole?enter():"button"===role&&getAriaProp("haspopup")?enter({key:"down"}):moveFocus(1)}function cancel(){focusedControl.fire("cancel")}function enter(aria){aria=aria||{},focusedControl.fire("click",{target:focusedElement,aria:aria})}return focusedControl=root.getParentCtrl(focusedElement),root.on("keydown",function(e){function handleNonTabOrEscEvent(e,handler){isTextInputElement(focusedElement)||hasTabstopData(focusedElement)||"slider"!==getRole(focusedElement)&&!1!==handler(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:handleNonTabOrEscEvent(e,left);break;case 39:handleNonTabOrEscEvent(e,right);break;case 38:handleNonTabOrEscEvent(e,up);break;case 40:handleNonTabOrEscEvent(e,down);break;case 27:cancel();break;case 14:case 13:case 32:handleNonTabOrEscEvent(e,enter);break;case 9:!function tab(e){if("tablist"===getParentRole()){var elm=getFocusElements(focusedControl.getEl("body"))[0];elm&&elm.focus()}else moveFocus(e.shiftKey?-1:1)}(e),e.preventDefault()}}),root.on("focusin",function(e){focusedElement=e.target,focusedControl=e.control}),{focusFirst:function focusFirst(targetControl){var navigationRoot=getNavigationRoot(targetControl),focusElements=getFocusElements(navigationRoot.getEl());navigationRoot.settings.ariaRemember&&"lastAriaIndex"in navigationRoot?moveFocusToIndex(navigationRoot.lastAriaIndex,focusElements):moveFocusToIndex(0,focusElements)}}}var selectorCache={},Container=Control$1.extend({init:function(settings){var self=this;self._super(settings),(settings=self.settings).fixed&&self.state.set("fixed",!0),self._items=new Collection$2,self.isRtl()&&self.classes.add("rtl"),self.bodyClasses=new ClassList(function(){self.state.get("rendered")&&(self.getEl("body").className=this.toString())}),self.bodyClasses.prefix=self.classPrefix,self.classes.add("container"),self.bodyClasses.add("container-body"),settings.containerCls&&self.classes.add(settings.containerCls),self._layout=Factory.create((settings.layout||"")+"layout"),self.settings.items?self.add(self.settings.items):self.add(self.render()),self._hasBody=!0},items:function(){return this._items},find:function(selector){return(selector=selectorCache[selector]=selectorCache[selector]||new Selector(selector)).find(this)},add:function(items){return this.items().add(this.create(items)).parent(this),this},focus:function(keyboard){var focusCtrl,keyboardNav,items;if(!keyboard||!(keyboardNav=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return items=this.find("*"),this.statusbar&&items.add(this.statusbar.items()),items.each(function(ctrl){if(ctrl.settings.autofocus)return focusCtrl=null,!1;ctrl.canFocus&&(focusCtrl=focusCtrl||ctrl)}),focusCtrl&&focusCtrl.focus(),this;keyboardNav.focusFirst(this)},replace:function(oldItem,newItem){for(var ctrlElm,items=this.items(),i=items.length;i--;)if(items[i]===oldItem){items[i]=newItem;break}0<=i&&((ctrlElm=newItem.getEl())&&ctrlElm.parentNode.removeChild(ctrlElm),(ctrlElm=oldItem.getEl())&&ctrlElm.parentNode.removeChild(ctrlElm)),newItem.parent(this)},create:function(items){var settings,self=this,ctrlItems=[];return Tools.isArray(items)||(items=[items]),Tools.each(items,function(item){item&&(item instanceof Control$1||("string"==typeof item&&(item={type:item}),settings=Tools.extend({},self.settings.defaults,item),item.type=settings.type=settings.type||item.type||self.settings.defaultType||(settings.defaults?settings.defaults.type:null),item=Factory.create(settings)),ctrlItems.push(item))}),ctrlItems},renderNew:function(){var self=this;return self.items().each(function(ctrl,index){var containerElm;ctrl.parent(self),ctrl.state.get("rendered")||((containerElm=self.getEl("body")).hasChildNodes()&&index<=containerElm.childNodes.length-1?$(containerElm.childNodes[index]).before(ctrl.renderHtml()):$(containerElm).append(ctrl.renderHtml()),ctrl.postRender(),$_65ijhgtgjdud7dli.add(ctrl))}),self._layout.applyClasses(self.items().filter(":visible")),self._lastRect=null,self},append:function(items){return this.add(items).renderNew()},prepend:function(items){return this.items().set(this.create(items).concat(this.items().toArray())),this.renderNew()},insert:function(items,index,before){var curItems,beforeItems,afterItems;return items=this.create(items),curItems=this.items(),!before&&index<curItems.length-1&&(index+=1),0<=index&&index<curItems.length&&(beforeItems=curItems.slice(0,index).toArray(),afterItems=curItems.slice(index).toArray(),curItems.set(beforeItems.concat(items,afterItems))),this.renderNew()},fromJSON:function(data){for(var name_1 in data)this.find("#"+name_1).value(data[name_1]);return this},toJSON:function(){var data={};return this.find("*").each(function(ctrl){var name=ctrl.name(),value=ctrl.value();name&&void 0!==value&&(data[name]=value)}),data},renderHtml:function(){var layout=this._layout,role=this.settings.role;return this.preRender(),layout.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(role?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+layout.renderHtml(this)+"</div></div>"},postRender:function(){var box;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(box=this.borderBox,this.$el.css({"border-top-width":box.top,"border-right-width":box.right,"border-bottom-width":box.bottom,"border-left-width":box.left})),this.parent()||(this.keyboardNav=KeyboardNavigation({root:this})),this},initLayoutRect:function(){var layoutRect=this._super();return this._layout.recalc(this),layoutRect},recalc:function(){var rect=this._layoutRect,lastRect=this._lastRect;if(!lastRect||lastRect.w!==rect.w||lastRect.h!==rect.h)return this._layout.recalc(this),rect=this.layoutRect(),this._lastRect={x:rect.x,y:rect.y,w:rect.w,h:rect.h},!0},reflow:function(){var i;if($_65ijhgtgjdud7dli.remove(this),this.visible()){for(Control$1.repaintControls=[],Control$1.repaintControls.map={},this.recalc(),i=Control$1.repaintControls.length;i--;)Control$1.repaintControls[i].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Control$1.repaintControls=[]}return this}});function updateWithTouchData(e){var keys,i;if(e.changedTouches)for(keys="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<keys.length;i++)e[keys[i]]=e.changedTouches[0][keys[i]]}function DragHelper(id,settings){var $eventOverlay,downButton,start,stop,drag,startX,startY,doc=settings.document||document;settings=settings||{};var handleElement=doc.getElementById(settings.handle||id);start=function(e){var handleElm,cursor,docSize=function getDocumentSize(doc){var documentElement,body,scrollWidth,clientWidth,offsetWidth,scrollHeight,clientHeight,max=Math.max;return documentElement=doc.documentElement,body=doc.body,scrollWidth=max(documentElement.scrollWidth,body.scrollWidth),clientWidth=max(documentElement.clientWidth,body.clientWidth),offsetWidth=max(documentElement.offsetWidth,body.offsetWidth),scrollHeight=max(documentElement.scrollHeight,body.scrollHeight),clientHeight=max(documentElement.clientHeight,body.clientHeight),{width:scrollWidth<offsetWidth?clientWidth:scrollWidth,height:scrollHeight<max(documentElement.offsetHeight,body.offsetHeight)?clientHeight:scrollHeight}}(doc);updateWithTouchData(e),e.preventDefault(),downButton=e.button,handleElm=handleElement,startX=e.screenX,startY=e.screenY,cursor=window.getComputedStyle?window.getComputedStyle(handleElm,null).getPropertyValue("cursor"):handleElm.runtimeStyle.cursor,$eventOverlay=$("<div></div>").css({position:"absolute",top:0,left:0,width:docSize.width,height:docSize.height,zIndex:2147483647,opacity:1e-4,cursor:cursor}).appendTo(doc.body),$(doc).on("mousemove touchmove",drag).on("mouseup touchend",stop),settings.start(e)},drag=function(e){if(updateWithTouchData(e),e.button!==downButton)return stop(e);e.deltaX=e.screenX-startX,e.deltaY=e.screenY-startY,e.preventDefault(),settings.drag(e)},stop=function(e){updateWithTouchData(e),$(doc).off("mousemove touchmove",drag).off("mouseup touchend",stop),$eventOverlay.remove(),settings.stop&&settings.stop(e)},this.destroy=function(){$(handleElement).off()},$(handleElement).on("mousedown touchstart",start)}var documentClickHandler,documentScrollHandler,windowResizeHandler,hasModal,$_aldogvtijdud7dls={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var self=this,margin=2;function repaintScroll(){var hasScrollH,hasScrollV,bodyElm;function repaintAxis(axisName,posName,sizeName,contentSizeName,hasScroll,ax){var containerElm,scrollBarElm,scrollThumbElm,containerSize,ratio,rect,posNameLower,sizeNameLower;if(scrollBarElm=self.getEl("scroll"+axisName)){if(posNameLower=posName.toLowerCase(),sizeNameLower=sizeName.toLowerCase(),$(self.getEl("absend")).css(posNameLower,self.layoutRect()[contentSizeName]-1),!hasScroll)return void $(scrollBarElm).css("display","none");$(scrollBarElm).css("display","block"),containerElm=self.getEl("body"),scrollThumbElm=self.getEl("scroll"+axisName+"t"),containerSize=containerElm["client"+sizeName]-2*margin,ratio=(containerSize-=hasScrollH&&hasScrollV?scrollBarElm["client"+ax]:0)/containerElm["scroll"+sizeName],(rect={})[posNameLower]=containerElm["offset"+posName]+margin,rect[sizeNameLower]=containerSize,$(scrollBarElm).css(rect),(rect={})[posNameLower]=containerElm["scroll"+posName]*ratio,rect[sizeNameLower]=containerSize*ratio,$(scrollThumbElm).css(rect)}}bodyElm=self.getEl("body"),hasScrollH=bodyElm.scrollWidth>bodyElm.clientWidth,hasScrollV=bodyElm.scrollHeight>bodyElm.clientHeight,repaintAxis("h","Left","Width","contentW",hasScrollH,"Height"),repaintAxis("v","Top","Height","contentH",hasScrollV,"Width")}self.settings.autoScroll&&(self._hasScroll||(self._hasScroll=!0,function addScroll(){function addScrollAxis(axisName,posName,sizeName,deltaPosName,ax){var scrollStart,axisId=self._id+"-scroll"+axisName,prefix=self.classPrefix;$(self.getEl()).append('<div id="'+axisId+'" class="'+prefix+"scrollbar "+prefix+"scrollbar-"+axisName+'"><div id="'+axisId+'t" class="'+prefix+'scrollbar-thumb"></div></div>'),self.draghelper=new DragHelper(axisId+"t",{start:function(){scrollStart=self.getEl("body")["scroll"+posName],$("#"+axisId).addClass(prefix+"active")},drag:function(e){var ratio,hasScrollH,hasScrollV,containerSize,layoutRect=self.layoutRect();hasScrollH=layoutRect.contentW>layoutRect.innerW,hasScrollV=layoutRect.contentH>layoutRect.innerH,containerSize=self.getEl("body")["client"+sizeName]-2*margin,ratio=(containerSize-=hasScrollH&&hasScrollV?self.getEl("scroll"+axisName)["client"+ax]:0)/self.getEl("body")["scroll"+sizeName],self.getEl("body")["scroll"+posName]=scrollStart+e["delta"+deltaPosName]/ratio},stop:function(){$("#"+axisId).removeClass(prefix+"active")}})}self.classes.add("scroll"),addScrollAxis("v","Top","Height","Y","Width"),addScrollAxis("h","Left","Width","X","Height")}(),self.on("wheel",function(e){var bodyEl=self.getEl("body");bodyEl.scrollLeft+=10*(e.deltaX||0),bodyEl.scrollTop+=10*e.deltaY,repaintScroll()}),$(self.getEl("body")).on("scroll",repaintScroll)),repaintScroll())}},Panel=Container.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[$_aldogvtijdud7dls],renderHtml:function(){var layout=this._layout,innerHtml=this.settings.html;return this.preRender(),layout.preRender(this),void 0===innerHtml?innerHtml='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+layout.renderHtml(this)+"</div>":("function"==typeof innerHtml&&(innerHtml=innerHtml.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+innerHtml+"</div>"}}),$_bqv40jtkjdud7dly={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(w,h){if(w<=1||h<=1){var rect=funcs.getWindowSize();w=w<=1?w*rect.w:w,h=h<=1?h*rect.h:h}return this._layoutRect.autoResize=!1,this.layoutRect({minW:w,minH:h,w:w,h:h}).reflow()},resizeBy:function(dw,dh){var rect=this.layoutRect();return this.resizeTo(rect.w+dw,rect.h+dh)}},visiblePanels=[],zOrder=[];function isChildOf(ctrl,parent){for(;ctrl;){if(ctrl===parent)return!0;ctrl=ctrl.parent()}}function bindDocumentClickHandler(){documentClickHandler||(documentClickHandler=function(e){2!==e.button&&function skipOrHidePanels(e){for(var i=visiblePanels.length;i--;){var panel=visiblePanels[i],clickCtrl=panel.getParentCtrl(e.target);if(panel.settings.autohide){if(clickCtrl&&(isChildOf(clickCtrl,panel)||panel.parent()===clickCtrl))continue;(e=panel.fire("autohide",{target:e.target})).isDefaultPrevented()||panel.hide()}}}(e)},$(document).on("click touchstart",documentClickHandler))}function repositionPanel(panel){var scrollY=funcs.getViewPort().y;function toggleFixedChildPanels(fixed,deltaY){for(var parent,i=0;i<visiblePanels.length;i++)if(visiblePanels[i]!==panel)for(parent=visiblePanels[i].parent();parent&&(parent=parent.parent());)parent===panel&&visiblePanels[i].fixed(fixed).moveBy(0,deltaY).repaint()}panel.settings.autofix&&(panel.state.get("fixed")?panel._autoFixY>scrollY&&(panel.fixed(!1).layoutRect({y:panel._autoFixY}).repaint(),toggleFixedChildPanels(!1,panel._autoFixY-scrollY)):(panel._autoFixY=panel.layoutRect().y,panel._autoFixY<scrollY&&(panel.fixed(!0).layoutRect({y:0}).repaint(),toggleFixedChildPanels(!0,scrollY-panel._autoFixY))))}function addRemove(add,ctrl){var i,topModal,zIndex=FloatPanel.zIndex||65535;if(add)zOrder.push(ctrl);else for(i=zOrder.length;i--;)zOrder[i]===ctrl&&zOrder.splice(i,1);if(zOrder.length)for(i=0;i<zOrder.length;i++)zOrder[i].modal&&(zIndex++,topModal=zOrder[i]),zOrder[i].getEl().style.zIndex=zIndex,zOrder[i].zIndex=zIndex,zIndex++;var modalBlockEl=$("#"+ctrl.classPrefix+"modal-block",ctrl.getContainerElm())[0];topModal?$(modalBlockEl).css("z-index",topModal.zIndex-1):modalBlockEl&&(modalBlockEl.parentNode.removeChild(modalBlockEl),hasModal=!1),FloatPanel.currentZIndex=zIndex}var FloatPanel=Panel.extend({Mixins:[$_7vzycqt3jdud7djm,$_bqv40jtkjdud7dly],init:function(settings){var self=this;self._super(settings),(self._eventsRoot=self).classes.add("floatpanel"),settings.autohide&&(bindDocumentClickHandler(),function bindWindowResizeHandler(){if(!windowResizeHandler){var docElm_1=document.documentElement,clientWidth_1=docElm_1.clientWidth,clientHeight_1=docElm_1.clientHeight;windowResizeHandler=function(){document.all&&clientWidth_1===docElm_1.clientWidth&&clientHeight_1===docElm_1.clientHeight||(clientWidth_1=docElm_1.clientWidth,clientHeight_1=docElm_1.clientHeight,FloatPanel.hideAll())},$(window).on("resize",windowResizeHandler)}}(),visiblePanels.push(self)),settings.autofix&&(function bindDocumentScrollHandler(){documentScrollHandler||(documentScrollHandler=function(){var i;for(i=visiblePanels.length;i--;)repositionPanel(visiblePanels[i])},$(window).on("scroll",documentScrollHandler))}(),self.on("move",function(){repositionPanel(this)})),self.on("postrender show",function(e){if(e.control===self){var $modalBlockEl_1,prefix_1=self.classPrefix;self.modal&&!hasModal&&(($modalBlockEl_1=$("#"+prefix_1+"modal-block",self.getContainerElm()))[0]||($modalBlockEl_1=$('<div id="'+prefix_1+'modal-block" class="'+prefix_1+"reset "+prefix_1+'fade"></div>').appendTo(self.getContainerElm())),Delay.setTimeout(function(){$modalBlockEl_1.addClass(prefix_1+"in"),$(self.getEl()).addClass(prefix_1+"in")}),hasModal=!0),addRemove(!0,self)}}),self.on("show",function(){self.parents().each(function(ctrl){if(ctrl.state.get("fixed"))return self.fixed(!0),!1})}),settings.popover&&(self._preBodyHtml='<div class="'+self.classPrefix+'arrow"></div>',self.classes.add("popover").add("bottom").add(self.isRtl()?"end":"start")),self.aria("label",settings.ariaLabel),self.aria("labelledby",self._id),self.aria("describedby",self.describedBy||self._id+"-none")},fixed:function(state){if(this.state.get("fixed")!==state){if(this.state.get("rendered")){var viewport=funcs.getViewPort();state?this.layoutRect().y-=viewport.y:this.layoutRect().y+=viewport.y}this.classes.toggle("fixed",state),this.state.set("fixed",state)}return this},show:function(){var i,state=this._super();for(i=visiblePanels.length;i--&&visiblePanels[i]!==this;);return-1===i&&visiblePanels.push(this),state},hide:function(){return removeVisiblePanel(this),addRemove(!1,this),this._super()},hideAll:function(){FloatPanel.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),addRemove(!1,this)),this},remove:function(){removeVisiblePanel(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function removeVisiblePanel(panel){var i;for(i=visiblePanels.length;i--;)visiblePanels[i]===panel&&visiblePanels.splice(i,1);for(i=zOrder.length;i--;)zOrder[i]===panel&&zOrder.splice(i,1)}FloatPanel.hideAll=function(){for(var i=visiblePanels.length;i--;){var panel=visiblePanels[i];panel&&panel.settings.autohide&&(panel.hide(),visiblePanels.splice(i,1))}};var isFixed$1=function(inlineToolbarContainer,editor){return!(!inlineToolbarContainer||editor.settings.ui_container)},$_59vuz0szjdud7dix_render=function(editor,theme,args){var panel,inlineToolbarContainer,DOM=DOMUtils.DOM,fixedToolbarContainer=function(editor){return editor.getParam("fixed_toolbar_container")}(editor);fixedToolbarContainer&&(inlineToolbarContainer=DOM.select(fixedToolbarContainer)[0]);var reposition=function(){if(panel&&panel.moveRel&&panel.visible()&&!panel._fixed){var scrollContainer=editor.selection.getScrollContainer(),body=editor.getBody(),deltaX=0,deltaY=0;if(scrollContainer){var bodyPos=DOM.getPos(body),scrollContainerPos=DOM.getPos(scrollContainer);deltaX=Math.max(0,scrollContainerPos.x-bodyPos.x),deltaY=Math.max(0,scrollContainerPos.y-bodyPos.y)}panel.fixed(!1).moveRel(body,editor.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(deltaX,deltaY)}},show=function(){panel&&(panel.show(),reposition(),DOM.addClass(editor.getBody(),"mce-edit-focus"))},hide=function(){panel&&(panel.hide(),FloatPanel.hideAll(),DOM.removeClass(editor.getBody(),"mce-edit-focus"))},render=function(){panel?panel.visible()||show():(panel=theme.panel=Factory.create({type:inlineToolbarContainer?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:isFixed$1(inlineToolbarContainer,editor),fixed:isFixed$1(inlineToolbarContainer,editor),border:1,items:[!1===hasMenubar(editor)?null:{type:"menubar",border:"0 0 1 0",items:$_2md26cstjdud7did_createMenuButtons(editor)},$_4k33rfssjdud7dia_createToolbars(editor,getToolbarSize(editor))]}),$_80cyhospjdud7dhz.setUiContainer(editor,panel),$_9c9onhskjdud7dhp_fireBeforeRenderUI(editor),inlineToolbarContainer?panel.renderTo(inlineToolbarContainer).reflow():panel.renderTo().reflow(),$_4w3fresljdud7dhq_addKeys(editor,panel),show(),$_er9inssmjdud7dht_addContextualToolbars(editor),editor.on("nodeChange",reposition),editor.on("ResizeWindow",reposition),editor.on("activate",show),editor.on("deactivate",hide),editor.nodeChanged())};return editor.settings.content_editable=!0,editor.on("focus",function(){!1===isSkinDisabled(editor)&&args.skinUiCss?DOM.styleSheetLoader.load(args.skinUiCss,render,render):render()}),editor.on("blur hide",hide),editor.on("remove",function(){panel&&(panel.remove(),panel=null)}),!1===isSkinDisabled(editor)&&args.skinUiCss?DOM.styleSheetLoader.load(args.skinUiCss,$_fx9v3ysyjdud7div_fireSkinLoaded(editor)):$_fx9v3ysyjdud7div_fireSkinLoaded(editor)(),{}};function Throbber(elm,inline){var state,timer,self=this,classPrefix=Control$1.classPrefix;self.show=function(time,callback){function render(){state&&($(elm).append('<div class="'+classPrefix+"throbber"+(inline?" "+classPrefix+"throbber-inline":"")+'"></div>'),callback&&callback())}return self.hide(),state=!0,time?timer=Delay.setTimeout(render,time):render(),self},self.hide=function(){var child=elm.lastChild;return Delay.clearTimeout(timer),child&&-1!==child.className.indexOf("throbber")&&child.parentNode.removeChild(child),state=!1,self}}var $_dnddyvtljdud7dlz_setup=function(editor,theme){var throbber;editor.on("ProgressState",function(e){throbber=throbber||new Throbber(theme.panel.getEl("body")),e.state?throbber.show(e.time):throbber.hide()})},$_b4s00oscjdud7dhd_renderUI=function(editor,theme,args){var skinUrl=function(editor){var settings=editor.settings,skin=settings.skin,skinUrl=settings.skin_url;if(!1!==skin){var skinName=skin||"lightgray";skinUrl=skinUrl?editor.documentBaseURI.toAbsolute(skinUrl):EditorManager.baseURL+"/skins/"+skinName}return skinUrl}(editor);return skinUrl&&(args.skinUiCss=skinUrl+"/skin.min.css",editor.contentCSS.push(skinUrl+"/content"+(editor.inline?".inline":"")+".min.css")),$_dnddyvtljdud7dlz_setup(editor,theme),function(editor){return editor.getParam("inline",!1,"boolean")}(editor)?$_59vuz0szjdud7dix_render(editor,theme,args):$_e9ps88sgjdud7dhl_render(editor,theme,args)},Tooltip=Control$1.extend({Mixins:[$_7vzycqt3jdud7djm],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var prefix=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+prefix+'tooltip-arrow"></div><div class="'+prefix+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var self=this;return self.state.on("change:text",function(e){self.getEl().lastChild.innerHTML=self.encode(e.value)}),self._super()},repaint:function(){var style,rect;style=this.getEl().style,rect=this._layoutRect,style.left=rect.x+"px",style.top=rect.y+"px",style.zIndex=131070}}),Widget=Control$1.extend({init:function(settings){var self=this;self._super(settings),settings=self.settings,self.canFocus=!0,settings.tooltip&&!1!==Widget.tooltips&&(self.on("mouseenter",function(e){var tooltip=self.tooltip().moveTo(-65535);if(e.control===self){var rel=tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(),["bc-tc","bc-tl","bc-tr"]);tooltip.classes.toggle("tooltip-n","bc-tc"===rel),tooltip.classes.toggle("tooltip-nw","bc-tl"===rel),tooltip.classes.toggle("tooltip-ne","bc-tr"===rel),tooltip.moveRel(self.getEl(),rel)}else tooltip.hide()}),self.on("mouseleave mousedown click",function(){self.tooltip().remove(),self._tooltip=null})),self.aria("label",settings.ariaLabel||settings.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Tooltip({type:"tooltip"}),$_80cyhospjdud7dhz.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var settings=this.settings;this._super(),this.parent()||!settings.width&&!settings.height||(this.initLayoutRect(),this.repaint()),settings.autofocus&&this.focus()},bindStates:function(){var self=this;function disable(state){self.aria("disabled",state),self.classes.toggle("disabled",state)}function active(state){self.aria("pressed",state),self.classes.toggle("active",state)}return self.state.on("change:disabled",function(e){disable(e.value)}),self.state.on("change:active",function(e){active(e.value)}),self.state.get("disabled")&&disable(!0),self.state.get("active")&&active(!0),self._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Progress=Widget.extend({Defaults:{value:0},init:function(settings){this._super(settings),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(value){return Math.round(value)})},renderHtml:function(){var id=this._id,prefix=this.classPrefix;return'<div id="'+id+'" class="'+this.classes+'"><div class="'+prefix+'bar-container"><div class="'+prefix+'bar"></div></div><div class="'+prefix+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var self=this;function setValue(value){value=self.settings.filter(value),self.getEl().lastChild.innerHTML=value+"%",self.getEl().firstChild.firstChild.style.width=value+"%"}return self.state.on("change:value",function(e){setValue(e.value)}),setValue(self.state.get("value")),self._super()}}),updateLiveRegion=function(ctx,text){ctx.getEl().lastChild.textContent=text+(ctx.progressBar?" "+ctx.progressBar.value()+"%":"")},Notification=Control$1.extend({Mixins:[$_7vzycqt3jdud7djm],Defaults:{classes:"widget notification"},init:function(settings){var self=this;self._super(settings),self.maxWidth=settings.maxWidth,settings.text&&self.text(settings.text),settings.icon&&(self.icon=settings.icon),settings.color&&(self.color=settings.color),settings.type&&self.classes.add("notification-"+settings.type),settings.timeout&&(settings.timeout<0||0<settings.timeout)&&!settings.closeButton?self.closeButton=!1:(self.classes.add("has-close"),self.closeButton=!0),settings.progressBar&&(self.progressBar=new Progress),self.on("click",function(e){-1!==e.target.className.indexOf(self.classPrefix+"close")&&self.close()})},renderHtml:function(){var notificationStyle,prefix=this.classPrefix,icon="",closeButton="",progressBar="";return this.icon&&(icon='<i class="'+prefix+"ico "+prefix+"i-"+this.icon+'"></i>'),notificationStyle=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(closeButton='<button type="button" class="'+prefix+'close" aria-hidden="true">\xd7</button>'),this.progressBar&&(progressBar=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+notificationStyle+' role="presentation">'+icon+'<div class="'+prefix+'notification-inner">'+this.state.get("text")+"</div>"+progressBar+closeButton+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var self=this;return Delay.setTimeout(function(){self.$el.addClass(self.classPrefix+"in"),updateLiveRegion(self,self.state.get("text"))},100),self._super()},bindStates:function(){var self=this;return self.state.on("change:text",function(e){self.getEl().firstChild.innerHTML=e.value,updateLiveRegion(self,e.value)}),self.progressBar&&(self.progressBar.bindStates(),self.progressBar.state.on("change:value",function(e){updateLiveRegion(self,self.state.get("text"))})),self._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var style,rect;style=this.getEl().style,rect=this._layoutRect,style.left=rect.x+"px",style.top=rect.y+"px",style.zIndex=65534}});function NotificationManagerImpl(editor){var getEditorContainer=function(editor){return editor.inline?editor.getElement():editor.getContentAreaContainer()};return{open:function(args,closeCallback){var container,extendedArgs=Tools.extend(args,{maxWidth:(container=getEditorContainer(editor),funcs.getSize(container).width)}),notif=new Notification(extendedArgs);return 0<(notif.args=extendedArgs).timeout&&(notif.timer=setTimeout(function(){notif.close(),closeCallback()},extendedArgs.timeout)),notif.on("close",function(){closeCallback()}),notif.renderTo(),notif},close:function(notification){notification.close()},reposition:function(notifications){!function(notifications){$_7xl71gsujdud7dik.each(notifications,function(notification){notification.moveTo(0,0)})}(notifications),function(notifications){if(0<notifications.length){var firstItem=notifications.slice(0,1)[0],container=getEditorContainer(editor);firstItem.moveRel(container,"tc-tc"),$_7xl71gsujdud7dik.each(notifications,function(notification,index){0<index&&notification.moveRel(notifications[index-1].getEl(),"bc-tc")})}}(notifications)},getArgs:function(notification){return notification.args}}}var windows=[],oldMetaValue="";function toggleFullScreenState(state){var contentValue,viewport=$("meta[name=viewport]")[0];!1!==Env.overrideViewPort&&(viewport||((viewport=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(viewport)),(contentValue=viewport.getAttribute("content"))&&void 0!==oldMetaValue&&(oldMetaValue=contentValue),viewport.setAttribute("content",state?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":oldMetaValue))}function toggleBodyFullScreenClasses(classPrefix,state){(function checkFullscreenWindows(){for(var i=0;i<windows.length;i++)if(windows[i]._fullscreen)return!0;return!1})()&&!1===state&&$([document.documentElement,document.body]).removeClass(classPrefix+"fullscreen")}var Window=FloatPanel.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(settings){var self=this;self._super(settings),self.isRtl()&&self.classes.add("rtl"),self.classes.add("window"),self.bodyClasses.add("window-body"),self.state.set("fixed",!0),settings.buttons&&(self.statusbar=new Panel({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:self.isRtl()?"start":"end",defaults:{type:"button"},items:settings.buttons}),self.statusbar.classes.add("foot"),self.statusbar.parent(self)),self.on("click",function(e){var closeClass=self.classPrefix+"close";(funcs.hasClass(e.target,closeClass)||funcs.hasClass(e.target.parentNode,closeClass))&&self.close()}),self.on("cancel",function(){self.close()}),self.aria("describedby",self.describedBy||self._id+"-none"),self.aria("label",settings.title),self._fullscreen=!1},recalc:function(){var layoutRect,width,x,needsRecalc,statusbar=this.statusbar;this._fullscreen&&(this.layoutRect(funcs.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH),this._super(),layoutRect=this.layoutRect(),this.settings.title&&!this._fullscreen&&(width=layoutRect.headerW)>layoutRect.w&&(x=layoutRect.x-Math.max(0,width/2),this.layoutRect({w:width,x:x}),needsRecalc=!0),statusbar&&(statusbar.layoutRect({w:this.layoutRect().innerW}).recalc(),(width=statusbar.layoutRect().minW+layoutRect.deltaW)>layoutRect.w&&(x=layoutRect.x-Math.max(0,width-layoutRect.w),this.layoutRect({w:width,x:x}),needsRecalc=!0)),needsRecalc&&this.recalc()},initLayoutRect:function(){var headEl,layoutRect=this._super(),deltaH=0;if(this.settings.title&&!this._fullscreen){headEl=this.getEl("head");var size=funcs.getSize(headEl);layoutRect.headerW=size.width,layoutRect.headerH=size.height,deltaH+=layoutRect.headerH}this.statusbar&&(deltaH+=this.statusbar.layoutRect().h),layoutRect.deltaH+=deltaH,layoutRect.minH+=deltaH,layoutRect.h+=deltaH;var rect=funcs.getWindowSize();return layoutRect.x=this.settings.x||Math.max(0,rect.w/2-layoutRect.w/2),layoutRect.y=this.settings.y||Math.max(0,rect.h/2-layoutRect.h/2),layoutRect},renderHtml:function(){var layout=this._layout,id=this._id,prefix=this.classPrefix,settings=this.settings,headerHtml="",footerHtml="",html=settings.html;return this.preRender(),layout.preRender(this),settings.title&&(headerHtml='<div id="'+id+'-head" class="'+prefix+'window-head"><div id="'+id+'-title" class="'+prefix+'title">'+this.encode(settings.title)+'</div><div id="'+id+'-dragh" class="'+prefix+'dragh"></div><button type="button" class="'+prefix+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),settings.url&&(html='<iframe src="'+settings.url+'" tabindex="-1"></iframe>'),void 0===html&&(html=layout.renderHtml(this)),this.statusbar&&(footerHtml=this.statusbar.renderHtml()),'<div id="'+id+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+headerHtml+'<div id="'+id+'-body" class="'+this.bodyClasses+'">'+html+"</div>"+footerHtml+"</div></div>"},fullscreen:function(state){var slowRendering,layoutRect,self=this,documentElement=document.documentElement,prefix=self.classPrefix;if(state!==self._fullscreen)if($(window).on("resize",function(){var time;if(self._fullscreen)if(slowRendering)self._timer||(self._timer=Delay.setTimeout(function(){var rect=funcs.getWindowSize();self.moveTo(0,0).resizeTo(rect.w,rect.h),self._timer=0},50));else{time=(new Date).getTime();var rect=funcs.getWindowSize();self.moveTo(0,0).resizeTo(rect.w,rect.h),50<(new Date).getTime()-time&&(slowRendering=!0)}}),layoutRect=self.layoutRect(),self._fullscreen=state){self._initial={x:layoutRect.x,y:layoutRect.y,w:layoutRect.w,h:layoutRect.h},self.borderBox=$_287isvt9jdud7dkj_parseBox("0"),self.getEl("head").style.display="none",layoutRect.deltaH-=layoutRect.headerH+2,$([documentElement,document.body]).addClass(prefix+"fullscreen"),self.classes.add("fullscreen");var rect=funcs.getWindowSize();self.moveTo(0,0).resizeTo(rect.w,rect.h)}else self.borderBox=$_287isvt9jdud7dkj_parseBox(self.settings.border),self.getEl("head").style.display="",layoutRect.deltaH+=layoutRect.headerH,$([documentElement,document.body]).removeClass(prefix+"fullscreen"),self.classes.remove("fullscreen"),self.moveTo(self._initial.x,self._initial.y).resizeTo(self._initial.w,self._initial.h);return self.reflow()},postRender:function(){var startPos,self=this;setTimeout(function(){self.classes.add("in"),self.fire("open")},0),self._super(),self.statusbar&&self.statusbar.postRender(),self.focus(),this.dragHelper=new DragHelper(self._id+"-dragh",{start:function(){startPos={x:self.layoutRect().x,y:self.layoutRect().y}},drag:function(e){self.moveTo(startPos.x+e.deltaX,startPos.y+e.deltaY)}}),self.on("submit",function(e){e.isDefaultPrevented()||self.close()}),windows.push(self),toggleFullScreenState(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var i;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),toggleBodyFullScreenClasses(this.classPrefix,!1),i=windows.length;i--;)windows[i]===this&&windows.splice(i,1);toggleFullScreenState(0<windows.length)},getContentWindow:function(){var ifr=this.getEl().getElementsByTagName("iframe")[0];return ifr?ifr.contentWindow:null}});!function handleWindowResize(){if(!Env.desktop){var lastSize_1={w:window.innerWidth,h:window.innerHeight};Delay.setInterval(function(){var w=window.innerWidth,h=window.innerHeight;lastSize_1.w===w&&lastSize_1.h===h||(lastSize_1={w:w,h:h},$(window).trigger("resize"))},100)}$(window).on("resize",function reposition(){var i,layoutRect,rect=funcs.getWindowSize();for(i=0;i<windows.length;i++)layoutRect=windows[i].layoutRect(),windows[i].moveTo(windows[i].settings.x||Math.max(0,rect.w/2-layoutRect.w/2),windows[i].settings.y||Math.max(0,rect.h/2-layoutRect.h/2))})}();var fastKeys,MessageBox=Window.extend({init:function(settings){settings={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(settings)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(settings){var buttons,callback=settings.callback||function(){};function createButton(text,status,primary){return{type:"button",text:text,subtype:primary?"primary":"",onClick:function(e){e.control.parents()[1].close(),callback(status)}}}switch(settings.buttons){case MessageBox.OK_CANCEL:buttons=[createButton("Ok",!0,!0),createButton("Cancel",!1)];break;case MessageBox.YES_NO:case MessageBox.YES_NO_CANCEL:buttons=[createButton("Yes",1,!0),createButton("No",0)],settings.buttons===MessageBox.YES_NO_CANCEL&&buttons.push(createButton("Cancel",-1));break;default:buttons=[createButton("Ok",!0,!0)]}return new Window({padding:20,x:settings.x,y:settings.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:buttons,title:settings.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:settings.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:settings.onClose,onCancel:function(){callback(!1)}}).renderTo(document.body).reflow()},alert:function(settings,callback){return"string"==typeof settings&&(settings={text:settings}),settings.callback=callback,MessageBox.msgBox(settings)},confirm:function(settings,callback){return"string"==typeof settings&&(settings={text:settings}),settings.callback=callback,settings.buttons=MessageBox.OK_CANCEL,MessageBox.msgBox(settings)}}}),$_8x7awksbjdud7dha_get=function(editor){return{renderUI:function(args){return $_b4s00oscjdud7dhd_renderUI(editor,this,args)},resizeTo:function(w,h){return $_192384svjdud7diq_resizeTo(editor,w,h)},resizeBy:function(dw,dh){return $_192384svjdud7diq_resizeBy(editor,dw,dh)},getNotificationManagerImpl:function(){return NotificationManagerImpl(editor)},getWindowManagerImpl:function(){return function WindowManagerImpl(editor){return{open:function(args,params,closeCallback){var win;return args.title=args.title||" ",args.url=args.url||args.file,args.url&&(args.width=parseInt(args.width||320,10),args.height=parseInt(args.height||240,10)),args.body&&(args.items={defaults:args.defaults,type:args.bodyType||"form",items:args.body,data:args.data,callbacks:args.commands}),args.url||args.buttons||(args.buttons=[{text:"Ok",subtype:"primary",onclick:function(){win.find("form")[0].submit()}},{text:"Cancel",onclick:function(){win.close()}}]),(win=new Window(args)).on("close",function(){closeCallback(win)}),args.data&&win.on("postRender",function(){this.find("*").each(function(ctrl){var name=ctrl.name();name in args.data&&ctrl.value(args.data[name])})}),win.features=args||{},win.params=params||{},win=win.renderTo(document.body).reflow()},alert:function(message,choiceCallback,closeCallback){var win;return(win=MessageBox.alert(message,function(){choiceCallback()})).on("close",function(){closeCallback(win)}),win},confirm:function(message,choiceCallback,closeCallback){var win;return(win=MessageBox.confirm(message,function(state){choiceCallback(state)})).on("close",function(){closeCallback(win)}),win},close:function(window){window.close()},getParams:function(window){return window.params},setParams:function(window,params){window.params=params}}}()}}},Layout=Class.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(settings){this.settings=Tools.extend({},this.Defaults,settings)},preRender:function(container){container.bodyClasses.add(this.settings.containerClass)},applyClasses:function(items){var firstClass,lastClass,firstItem,lastItem,settings=this.settings;firstClass=settings.firstControlClass,lastClass=settings.lastControlClass,items.each(function(item){item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass),item.visible()&&(firstItem||(firstItem=item),lastItem=item)}),firstItem&&firstItem.classes.add(firstClass),lastItem&&lastItem.classes.add(lastClass)},renderHtml:function(container){var html="";return this.applyClasses(container.items()),container.items().each(function(item){html+=item.renderHtml()}),html},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),AbsoluteLayout=Layout.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(container){container.items().filter(":visible").each(function(ctrl){var settings=ctrl.settings;ctrl.layoutRect({x:settings.x,y:settings.y,w:settings.w,h:settings.h}),ctrl.recalc&&ctrl.recalc()})},renderHtml:function(container){return'<div id="'+container._id+'-absend" class="'+container.classPrefix+'abs-end"></div>'+this._super(container)}}),Button=Widget.extend({Defaults:{classes:"widget btn",role:"button"},init:function(settings){var size,self=this;self._super(settings),settings=self.settings,size=self.settings.size,self.on("click mousedown",function(e){e.preventDefault()}),self.on("touchstart",function(e){self.fire("click",e),e.preventDefault()}),settings.subtype&&self.classes.add(settings.subtype),size&&self.classes.add("btn-"+size),settings.icon&&self.icon(settings.icon)},icon:function(icon){return arguments.length?(this.state.set("icon",icon),this):this.state.get("icon")},repaint:function(){var btnStyle,btnElm=this.getEl().firstChild;btnElm&&((btnStyle=btnElm.style).width=btnStyle.height="100%"),this._super()},renderHtml:function(){var image,ariaPressed,id=this._id,prefix=this.classPrefix,icon=this.state.get("icon"),text=this.state.get("text"),textHtml="",settings=this.settings;return(image=settings.image)?(icon="none","string"!=typeof image&&(image=window.getSelection?image[0]:image[1]),image=" style=\"background-image: url('"+image+"')\""):image="",text&&(this.classes.add("btn-has-text"),textHtml='<span class="'+prefix+'txt">'+this.encode(text)+"</span>"),icon=icon?prefix+"ico "+prefix+"i-"+icon:"",ariaPressed="boolean"==typeof settings.active?' aria-pressed="'+settings.active+'"':"",'<div id="'+id+'" class="'+this.classes+'" tabindex="-1"'+ariaPressed+'><button id="'+id+'-button" role="presentation" type="button" tabindex="-1">'+(icon?'<i class="'+icon+'"'+image+"></i>":"")+textHtml+"</button></div>"},bindStates:function(){var self=this,$=self.$,textCls=self.classPrefix+"txt";function setButtonText(text){var $span=$("span."+textCls,self.getEl());text?($span[0]||($("button:first",self.getEl()).append('<span class="'+textCls+'"></span>'),$span=$("span."+textCls,self.getEl())),$span.html(self.encode(text))):$span.remove(),self.classes.toggle("btn-has-text",!!text)}return self.state.on("change:text",function(e){setButtonText(e.value)}),self.state.on("change:icon",function(e){var icon=e.value,prefix=self.classPrefix;icon=(self.settings.icon=icon)?prefix+"ico "+prefix+"i-"+self.settings.icon:"";var btnElm=self.getEl().firstChild,iconElm=btnElm.getElementsByTagName("i")[0];icon?(iconElm&&iconElm===btnElm.firstChild||(iconElm=document.createElement("i"),btnElm.insertBefore(iconElm,btnElm.firstChild)),iconElm.className=icon):iconElm&&btnElm.removeChild(iconElm),setButtonText(self.state.get("text"))}),self._super()}}),BrowseButton=Button.extend({init:function(settings){settings=Tools.extend({text:"Browse...",multiple:!1,accept:null},settings),this._super(settings),this.classes.add("browsebutton"),settings.multiple&&this.classes.add("multiple")},postRender:function(){var self=this,input=funcs.create("input",{type:"file",id:self._id+"-browse",accept:self.settings.accept});self._super(),$(input).on("change",function(e){var files=e.target.files;self.value=function(){return files.length?self.settings.multiple?files:files[0]:null},e.preventDefault(),files.length&&self.fire("change",e)}),$(input).on("click",function(e){e.stopPropagation()}),$(self.getEl("button")).on("click",function(e){e.stopPropagation(),input.click()}),self.getEl().appendChild(input)},remove:function(){$(this.getEl("button")).off(),$(this.getEl("input")).off(),this._super()}}),ButtonGroup=Container.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var layout=this._layout;return this.classes.add("btn-group"),this.preRender(),layout.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+layout.renderHtml(this)+"</div></div>"}}),Checkbox=Widget.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(settings){var self=this;self._super(settings),self.on("click mousedown",function(e){e.preventDefault()}),self.on("click",function(e){e.preventDefault(),self.disabled()||self.checked(!self.checked())}),self.checked(self.settings.checked)},checked:function(state){return arguments.length?(this.state.set("checked",state),this):this.state.get("checked")},value:function(state){return arguments.length?this.checked(state):this.checked()},renderHtml:function(){var id=this._id,prefix=this.classPrefix;return'<div id="'+id+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+id+'-al" tabindex="-1"><i class="'+prefix+"ico "+prefix+'i-checkbox"></i><span id="'+id+'-al" class="'+prefix+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var self=this;function checked(state){self.classes.toggle("checked",state),self.aria("checked",state)}return self.state.on("change:text",function(e){self.getEl("al").firstChild.data=self.translate(e.value)}),self.state.on("change:checked change:value",function(e){self.fire("change"),checked(e.value)}),self.state.on("change:icon",function(e){var icon=e.value,prefix=self.classPrefix;if(void 0===icon)return self.settings.icon;icon=(self.settings.icon=icon)?prefix+"ico "+prefix+"i-"+self.settings.icon:"";var btnElm=self.getEl().firstChild,iconElm=btnElm.getElementsByTagName("i")[0];icon?(iconElm&&iconElm===btnElm.firstChild||(iconElm=document.createElement("i"),btnElm.insertBefore(iconElm,btnElm.firstChild)),iconElm.className=icon):iconElm&&btnElm.removeChild(iconElm)}),self.state.get("checked")&&checked(!0),self._super()}}),VK=tinymce.util.Tools.resolve("tinymce.util.VK"),ComboBox=Widget.extend({init:function(settings){var self=this;self._super(settings),settings=self.settings,self.classes.add("combobox"),self.subinput=!0,self.ariaTarget="inp",settings.menu=settings.menu||settings.values,settings.menu&&(settings.icon="caret"),self.on("click",function(e){var elm=e.target,root=self.getEl();if($.contains(root,elm)||elm===root)for(;elm&&elm!==root;)elm.id&&-1!==elm.id.indexOf("-open")&&(self.fire("action"),settings.menu&&(self.showMenu(),e.aria&&self.menu.items()[0].focus())),elm=elm.parentNode}),self.on("keydown",function(e){var rootControl;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),self.parents().reverse().each(function(ctrl){if(ctrl.toJSON)return rootControl=ctrl,!1}),self.fire("submit",{data:rootControl.toJSON()}))}),self.on("keyup",function(e){if("INPUT"===e.target.nodeName){var oldValue=self.state.get("value"),newValue=e.target.value;newValue!==oldValue&&(self.state.set("value",newValue),self.fire("autocomplete",e))}}),self.on("mouseover",function(e){var tooltip=self.tooltip().moveTo(-65535);if(self.statusLevel()&&-1!==e.target.className.indexOf(self.classPrefix+"status")){var statusMessage=self.statusMessage()||"Ok",rel=tooltip.text(statusMessage).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);tooltip.classes.toggle("tooltip-n","bc-tc"===rel),tooltip.classes.toggle("tooltip-nw","bc-tl"===rel),tooltip.classes.toggle("tooltip-ne","bc-tr"===rel),tooltip.moveRel(e.target,rel)}})},statusLevel:function(value){return 0<arguments.length&&this.state.set("statusLevel",value),this.state.get("statusLevel")},statusMessage:function(value){return 0<arguments.length&&this.state.set("statusMessage",value),this.state.get("statusMessage")},showMenu:function(){var menu,self=this,settings=self.settings;self.menu||((menu=settings.menu||[]).length?menu={type:"menu",items:menu}:menu.type=menu.type||"menu",self.menu=Factory.create(menu).parent(self).renderTo(self.getContainerElm()),self.fire("createmenu"),self.menu.reflow(),self.menu.on("cancel",function(e){e.control===self.menu&&self.focus()}),self.menu.on("show hide",function(e){e.control.items().each(function(ctrl){ctrl.active(ctrl.value()===self.value())})}).fire("show"),self.menu.on("select",function(e){self.value(e.control.value())}),self.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&self.menu.hide()}),self.aria("expanded",!0)),self.menu.show(),self.menu.layoutRect({w:self.layoutRect().w}),self.menu.moveRel(self.getEl(),self.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var width,lineHeight,elm=this.getEl(),openElm=this.getEl("open"),rect=this.layoutRect(),innerPadding=0,inputElm=elm.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(innerPadding=parseInt(funcs.getRuntimeStyle(inputElm,"padding-right"),10)-parseInt(funcs.getRuntimeStyle(inputElm,"padding-left"),10)),width=openElm?rect.w-funcs.getSize(openElm).width-10:rect.w-10;var doc=document;return doc.all&&(!doc.documentMode||doc.documentMode<=8)&&(lineHeight=this.layoutRect().h-2+"px"),$(inputElm).css({width:width-innerPadding,lineHeight:lineHeight}),this._super(),this},postRender:function(){var self=this;return $(this.getEl("inp")).on("change",function(e){self.state.set("value",e.target.value),self.fire("change",e)}),self._super()},renderHtml:function(){var icon,text,statusHtml,id=this._id,settings=this.settings,prefix=this.classPrefix,value=this.state.get("value")||"",openBtnHtml="",extraAttrs="";return"spellcheck"in settings&&(extraAttrs+=' spellcheck="'+settings.spellcheck+'"'),settings.maxLength&&(extraAttrs+=' maxlength="'+settings.maxLength+'"'),settings.size&&(extraAttrs+=' size="'+settings.size+'"'),settings.subtype&&(extraAttrs+=' type="'+settings.subtype+'"'),statusHtml='<i id="'+id+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(extraAttrs+=' disabled="disabled"'),(icon=settings.icon)&&"caret"!==icon&&(icon=prefix+"ico "+prefix+"i-"+settings.icon),text=this.state.get("text"),(icon||text)&&(openBtnHtml='<div id="'+id+'-open" class="'+prefix+"btn "+prefix+'open" tabIndex="-1" role="button"><button id="'+id+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==icon?'<i class="'+icon+'"></i>':'<i class="'+prefix+'caret"></i>')+(text?(icon?" ":"")+text:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+id+'" class="'+this.classes+'"><input id="'+id+'-inp" class="'+prefix+'textbox" value="'+this.encode(value,!1)+'" hidefocus="1"'+extraAttrs+' placeholder="'+this.encode(settings.placeholder)+'" />'+statusHtml+openBtnHtml+"</div>"},value:function(value){return arguments.length?(this.state.set("value",value),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(items,term){var self=this;if(0!==items.length){self.menu?self.menu.items().remove():self.menu=Factory.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(self).renderTo(),Tools.each(items,function(item){var value,title;self.menu.add({text:item.title,url:item.previewUrl,match:term,classes:"menu-item-ellipsis",onclick:(value=item.value,title=item.title,function(){self.fire("selectitem",{title:title,value:value})})})}),self.menu.renderNew(),self.hideMenu(),self.menu.on("cancel",function(e){e.control.parent()===self.menu&&(e.stopPropagation(),self.focus(),self.hideMenu())}),self.menu.on("select",function(){self.focus()});var maxW=self.layoutRect().w;self.menu.layoutRect({w:maxW,minW:0,maxW:maxW}),self.menu.repaint(),self.menu.reflow(),self.menu.show(),self.menu.moveRel(self.getEl(),self.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else self.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var self=this;self.state.on("change:value",function(e){self.getEl("inp").value!==e.value&&(self.getEl("inp").value=e.value)}),self.state.on("change:disabled",function(e){self.getEl("inp").disabled=e.value}),self.state.on("change:statusLevel",function(e){var statusIconElm=self.getEl("status"),prefix=self.classPrefix,value=e.value;funcs.css(statusIconElm,"display","none"===value?"none":""),funcs.toggleClass(statusIconElm,prefix+"i-checkmark","ok"===value),funcs.toggleClass(statusIconElm,prefix+"i-warning","warn"===value),funcs.toggleClass(statusIconElm,prefix+"i-error","error"===value),self.classes.toggle("has-status","none"!==value),self.repaint()}),funcs.on(self.getEl("status"),"mouseleave",function(){self.tooltip().hide()}),self.on("cancel",function(e){self.menu&&self.menu.visible()&&(e.stopPropagation(),self.hideMenu())});var focusIdx=function(idx,menu){menu&&0<menu.items().length&&menu.items().eq(idx)[0].focus()};return self.on("keydown",function(e){var keyCode=e.keyCode;"INPUT"===e.target.nodeName&&(keyCode===VK.DOWN?(e.preventDefault(),self.fire("autocomplete"),focusIdx(0,self.menu)):keyCode===VK.UP&&(e.preventDefault(),focusIdx(-1,self.menu)))}),self._super()},remove:function(){$(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),ColorBox=ComboBox.extend({init:function(settings){var self=this;settings.spellcheck=!1,settings.onaction&&(settings.icon="none"),self._super(settings),self.classes.add("colorbox"),self.on("change keyup postrender",function(){self.repaintColor(self.value())})},repaintColor:function(value){var openElm=this.getEl("open"),elm=openElm?openElm.getElementsByTagName("i")[0]:null;if(elm)try{elm.style.background=value}catch(ex){}},bindStates:function(){var self=this;return self.state.on("change:value",function(e){self.state.get("rendered")&&self.repaintColor(e.value)}),self._super()}}),PanelButton=Button.extend({showPanel:function(){var self=this,settings=self.settings;if(self.classes.add("opened"),self.panel)self.panel.show();else{var panelSettings=settings.panel;panelSettings.type&&(panelSettings={layout:"grid",items:panelSettings}),panelSettings.role=panelSettings.role||"dialog",panelSettings.popover=!0,panelSettings.autohide=!0,panelSettings.ariaRoot=!0,self.panel=new FloatPanel(panelSettings).on("hide",function(){self.classes.remove("opened")}).on("cancel",function(e){e.stopPropagation(),self.focus(),self.hidePanel()}).parent(self).renderTo(self.getContainerElm()),self.panel.fire("show"),self.panel.reflow()}var rel=self.panel.testMoveRel(self.getEl(),settings.popoverAlign||(self.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));self.panel.classes.toggle("start","bc-tl"===rel),self.panel.classes.toggle("end","bc-tr"===rel),self.panel.moveRel(self.getEl(),rel)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var self=this;return self.aria("haspopup",!0),self.on("click",function(e){e.control===self&&(self.panel&&self.panel.visible()?self.hidePanel():(self.showPanel(),self.panel.focus(!!e.aria)))}),self._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),DOM$3=DOMUtils.DOM,ColorButton=PanelButton.extend({init:function(settings){this._super(settings),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(color){return color?(this._color=color,this.getEl("preview").style.backgroundColor=color,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var id=this._id,prefix=this.classPrefix,text=this.state.get("text"),icon=this.settings.icon?prefix+"ico "+prefix+"i-"+this.settings.icon:"",image=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",textHtml="";return text&&(this.classes.add("btn-has-text"),textHtml='<span class="'+prefix+'txt">'+this.encode(text)+"</span>"),'<div id="'+id+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(icon?'<i class="'+icon+'"'+image+"></i>":"")+'<span id="'+id+'-preview" class="'+prefix+'preview"></span>'+textHtml+'</button><button type="button" class="'+prefix+'open" hidefocus="1" tabindex="-1"> <i class="'+prefix+'caret"></i></button></div>'},postRender:function(){var self=this,onClickHandler=self.settings.onclick;return self.on("click",function(e){e.aria&&"down"===e.aria.key||e.control!==self||DOM$3.getParent(e.target,"."+self.classPrefix+"open")||(e.stopImmediatePropagation(),onClickHandler.call(self,e))}),delete self.settings.onclick,self._super()}}),Color=tinymce.util.Tools.resolve("tinymce.util.Color"),ColorPicker=Widget.extend({Defaults:{classes:"widget colorpicker"},init:function(settings){this._super(settings)},postRender:function(){var hsv,hueRootElm,huePointElm,svRootElm,svPointElm,self=this,color=self.color();function getPos(elm,event){var x,y,pos=funcs.getPos(elm);return x=event.pageX-pos.x,y=event.pageY-pos.y,{x:x=Math.max(0,Math.min(x/elm.clientWidth,1)),y:y=Math.max(0,Math.min(y/elm.clientHeight,1))}}function updateColor(hsv,hueUpdate){var hue=(360-hsv.h)/360;funcs.css(huePointElm,{top:100*hue+"%"}),hueUpdate||funcs.css(svPointElm,{left:hsv.s+"%",top:100-hsv.v+"%"}),svRootElm.style.background=Color({s:100,v:100,h:hsv.h}).toHex(),self.color().parse({s:hsv.s,v:hsv.v,h:hsv.h})}function updateSaturationAndValue(e){var pos;pos=getPos(svRootElm,e),hsv.s=100*pos.x,hsv.v=100*(1-pos.y),updateColor(hsv),self.fire("change")}function updateHue(e){var pos;pos=getPos(hueRootElm,e),(hsv=color.toHsv()).h=360*(1-pos.y),updateColor(hsv,!0),self.fire("change")}hueRootElm=self.getEl("h"),huePointElm=self.getEl("hp"),svRootElm=self.getEl("sv"),svPointElm=self.getEl("svp"),self._repaint=function(){updateColor(hsv=color.toHsv())},self._super(),self._svdraghelper=new DragHelper(self._id+"-sv",{start:updateSaturationAndValue,drag:updateSaturationAndValue}),self._hdraghelper=new DragHelper(self._id+"-h",{start:updateHue,drag:updateHue}),self._repaint()},rgb:function(){return this.color().toRgb()},value:function(value){if(!arguments.length)return this.color().toHex();this.color().parse(value),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=Color()),this._color},renderHtml:function(){var hueHtml,id=this._id,prefix=this.classPrefix,stops="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return hueHtml='<div id="'+id+'-h" class="'+prefix+'colorpicker-h" style="background: -ms-linear-gradient(top,'+stops+");background: linear-gradient(to bottom,"+stops+');">'+function getOldIeFallbackHtml(){var i,l,gradientPrefix,stopsList,html="";for(gradientPrefix="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=0,l=(stopsList=stops.split(",")).length-1;i<l;i++)html+='<div class="'+prefix+'colorpicker-h-chunk" style="height:'+100/l+"%;"+gradientPrefix+stopsList[i]+",endColorstr="+stopsList[i+1]+");-ms-"+gradientPrefix+stopsList[i]+",endColorstr="+stopsList[i+1]+')"></div>';return html}()+'<div id="'+id+'-hp" class="'+prefix+'colorpicker-h-marker"></div></div>','<div id="'+id+'" class="'+this.classes+'"><div id="'+id+'-sv" class="'+prefix+'colorpicker-sv"><div class="'+prefix+'colorpicker-overlay1"><div class="'+prefix+'colorpicker-overlay2"><div id="'+id+'-svp" class="'+prefix+'colorpicker-selector1"><div class="'+prefix+'colorpicker-selector2"></div></div></div></div></div>'+hueHtml+"</div>"}}),DropZone=Widget.extend({init:function(settings){settings=Tools.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},settings),this._super(settings),this.classes.add("dropzone"),settings.multiple&&this.classes.add("multiple")},renderHtml:function(){var attrs,elm,cfg=this.settings;return attrs={id:this._id,hidefocus:"1"},elm=funcs.create("div",attrs,"<span>"+this.translate(cfg.text)+"</span>"),cfg.height&&funcs.css(elm,"height",cfg.height+"px"),cfg.width&&funcs.css(elm,"width",cfg.width+"px"),elm.className=this.classes,elm.outerHTML},postRender:function(){var self=this,toggleDragClass=function(e){e.preventDefault(),self.classes.toggle("dragenter"),self.getEl().className=self.classes};self._super(),self.$el.on("dragover",function(e){e.preventDefault()}),self.$el.on("dragenter",toggleDragClass),self.$el.on("dragleave",toggleDragClass),self.$el.on("drop",function(e){if(e.preventDefault(),!self.state.get("disabled")){var files=function(files){var accept=self.settings.accept;if("string"!=typeof accept)return files;var re=new RegExp("("+accept.split(/\s*,\s*/).join("|")+")$","i");return Tools.grep(files,function(file){return re.test(file.name)})}(e.dataTransfer.files);self.value=function(){return files.length?self.settings.multiple?files:files[0]:null},files.length&&self.fire("change",e)}})},remove:function(){this.$el.off(),this._super()}}),Path=Widget.extend({init:function(settings){var self=this;settings.delimiter||(settings.delimiter="\xbb"),self._super(settings),self.classes.add("path"),self.canFocus=!0,self.on("click",function(e){var index;(index=e.target.getAttribute("data-index"))&&self.fire("select",{value:self.row()[index],index:index})}),self.row(self.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(row){return arguments.length?(this.state.set("row",row),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var self=this;return self.state.on("change:row",function(e){self.innerHtml(self._getDataPathHtml(e.value))}),self._super()},_getDataPathHtml:function(data){var i,l,parts=data||[],html="",prefix=this.classPrefix;for(i=0,l=parts.length;i<l;i++)html+=(0<i?'<div class="'+prefix+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+prefix+"path-item"+(i===l-1?" "+prefix+"last":"")+'" data-index="'+i+'" tabindex="-1" id="'+this._id+"-"+i+'" aria-level="'+(i+1)+'">'+parts[i].name+"</div>";return html||(html='<div class="'+prefix+'path-item">\xa0</div>'),html}}),ElementPath=Path.extend({postRender:function(){var self=this,editor=self.settings.editor;function isHidden(elm){if(1===elm.nodeType){if("BR"===elm.nodeName||elm.getAttribute("data-mce-bogus"))return!0;if("bookmark"===elm.getAttribute("data-mce-type"))return!0}return!1}return!1!==editor.settings.elementpath&&(self.on("select",function(e){editor.focus(),editor.selection.select(this.row()[e.index].element),editor.nodeChanged()}),editor.on("nodeChange",function(e){for(var outParents=[],parents=e.parents,i=parents.length;i--;)if(1===parents[i].nodeType&&!isHidden(parents[i])){var args=editor.fire("ResolveName",{name:parents[i].nodeName.toLowerCase(),target:parents[i]});if(args.isDefaultPrevented()||outParents.push({name:args.name,element:parents[i]}),args.isPropagationStopped())break}self.row(outParents)})),self._super()}}),FormItem=Container.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var layout=this._layout,prefix=this.classPrefix;return this.classes.add("formitem"),layout.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+prefix+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+layout.renderHtml(this)+"</div></div>"}}),Form=Container.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var self=this,items=self.items();self.settings.formItemDefaults||(self.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),items.each(function(ctrl){var formItem,label=ctrl.settings.label;label&&((formItem=new FormItem(Tools.extend({items:{type:"label",id:ctrl._id+"-l",text:label,flex:0,forId:ctrl._id,disabled:ctrl.disabled()}},self.settings.formItemDefaults))).type="formitem",ctrl.aria("labelledby",ctrl._id+"-l"),void 0===ctrl.settings.flex&&(ctrl.settings.flex=1),self.replace(ctrl,formItem),formItem.add(ctrl))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var self=this;function recalcLabels(){var i,labelGap,maxLabelWidth=0,labels=[];if(!1!==self.settings.labelGapCalc)for(("children"===self.settings.labelGapCalc?self.find("formitem"):self.items()).filter("formitem").each(function(item){var labelCtrl=item.items()[0],labelWidth=labelCtrl.getEl().clientWidth;maxLabelWidth=maxLabelWidth<labelWidth?labelWidth:maxLabelWidth,labels.push(labelCtrl)}),labelGap=self.settings.labelGap||0,i=labels.length;i--;)labels[i].settings.minWidth=maxLabelWidth+labelGap}self._super(),self.on("show",recalcLabels),recalcLabels()}}),FieldSet=Form.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var layout=this._layout,prefix=this.classPrefix;return this.preRender(),layout.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+prefix+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+layout.renderHtml(this)+"</div></fieldset>"}}),unique$1=0,$_2n8489uhjdud7dp7_generate=function(prefix){var time=(new Date).getTime();return prefix+"_"+Math.floor(1e9*Math.random())+ ++unique$1+String(time)},fromDom=function(node){if(null==node)throw new Error("Node cannot be null or undefined");return{dom:$_8mc7v6srjdud7di7.constant(node)}},$_1xa6jbuijdud7dp9={fromHtml:function(html,scope){var div=(scope||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||1<div.childNodes.length)throw console.error("HTML does not have a single root node",html),"HTML must have a single root node";return fromDom(div.childNodes[0])},fromTag:function(tag,scope){var node=(scope||document).createElement(tag);return fromDom(node)},fromText:function(text,scope){var node=(scope||document).createTextNode(text);return fromDom(node)},fromDom:fromDom,fromPoint:function(doc,x,y){return Option.from(doc.dom().elementFromPoint(x,y)).map(fromDom)}},$_e6xqb0umjdud7dpi_cached=function(f){var r,called=!1;return function(){return called||(called=!0,r=f.apply(null,arguments)),r}},$_cfs70puojdud7dpl_COMMENT=8,$_cfs70puojdud7dpl_DOCUMENT=9,$_cfs70puojdud7dpl_ELEMENT=1,$_cfs70puojdud7dpl_TEXT=3,name=function(element){return element.dom().nodeName.toLowerCase()},type=function(element){return element.dom().nodeType},isType=function(t){return function(element){return type(element)===t}},isElement=isType($_cfs70puojdud7dpl_ELEMENT),isText=isType($_cfs70puojdud7dpl_TEXT),isDocument=isType($_cfs70puojdud7dpl_DOCUMENT),$_2nkh01unjdud7dpj={name:name,type:type,value:function(element){return element.dom().nodeValue},isElement:isElement,isText:isText,isDocument:isDocument,isComment:function(element){return type(element)===$_cfs70puojdud7dpl_COMMENT||"#comment"===name(element)}},getBody=($_e6xqb0umjdud7dpi_cached(function(){return getBody($_1xa6jbuijdud7dp9.fromDom(document))}),function(doc){var body=doc.dom().body;if(null==body)throw"Body is not available yet";return $_1xa6jbuijdud7dp9.fromDom(body)}),isType$1=function(type){return function(value){return function(x){if(null===x)return"null";var t=typeof x;return"object"===t&&Array.prototype.isPrototypeOf(x)?"array":"object"===t&&String.prototype.isPrototypeOf(x)?"string":t}(value)===type}},$_981d05uqjdud7dpu={isString:isType$1("string"),isObject:isType$1("object"),isArray:isType$1("array"),isNull:isType$1("null"),isBoolean:isType$1("boolean"),isUndefined:isType$1("undefined"),isFunction:isType$1("function"),isNumber:isType$1("number")},keys=void 0===(fastKeys=Object.keys)?function(o){var r=[];for(var i in o)o.hasOwnProperty(i)&&r.push(i);return r}:fastKeys,each$1=function(obj,f){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k];f(obj[i],i,obj)}},tupleMap=function(obj,f){var r={};return each$1(obj,function(x,i){var tuple=f(x,i,obj);r[tuple.k]=tuple.v}),r},mapToArray=function(obj,f){var r=[];return each$1(obj,function(value,name){r.push(f(value,name))}),r},values=function(obj){return mapToArray(obj,function(v){return v})},$_1f66n8uujdud7dpz={bifilter:function(obj,pred){var t={},f={};return each$1(obj,function(x,i){(pred(x,i)?t:f)[i]=x}),{t:t,f:f}},each:each$1,map:function(obj,f){return tupleMap(obj,function(x,i,obj){return{k:i,v:f(x,i,obj)}})},mapToArray:mapToArray,tupleMap:tupleMap,find:function(obj,pred){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k],x=obj[i];if(pred(x,i,obj))return Option.some(x)}return Option.none()},keys:keys,values:values,size:function(obj){return values(obj).length}},sort$1=function(arr){return arr.slice(0).sort()},$_cpheyauvjdud7dq2={sort:sort$1,reqMessage:function(required,keys){throw new Error("All required keys ("+sort$1(required).join(", ")+") were not specified. Specified keys were: "+sort$1(keys).join(", ")+".")},unsuppMessage:function(unsupported){throw new Error("Unsupported keys for object: "+sort$1(unsupported).join(", "))},validateStrArr:function(label,array){if(!$_981d05uqjdud7dpu.isArray(array))throw new Error("The "+label+" fields must be an array. Was: "+array+".");$_7xl71gsujdud7dik.each(array,function(a){if(!$_981d05uqjdud7dpu.isString(a))throw new Error("The value "+a+" in the "+label+" fields was not a string.")})},invalidTypeMessage:function(incorrect,type){throw new Error("All values need to be of type: "+type+". Keys ("+sort$1(incorrect).join(", ")+") were not.")},checkDupes:function(everything){var sorted=sort$1(everything);$_7xl71gsujdud7dik.find(sorted,function(s,i){return i<sorted.length-1&&s===sorted[i+1]}).each(function(d){throw new Error("The field: "+d+" occurs more than once in the combined fields: ["+sorted.join(", ")+"].")})}},$_b9jbjaurjdud7dpv={immutable:function Immutable(){var fields=arguments;return function(){for(var values=new Array(arguments.length),i=0;i<values.length;i++)values[i]=arguments[i];if(fields.length!==values.length)throw new Error('Wrong number of arguments to struct. Expected "['+fields.length+']", got '+values.length+" arguments");var struct={};return $_7xl71gsujdud7dik.each(fields,function(name,i){struct[name]=$_8mc7v6srjdud7di7.constant(values[i])}),struct}},immutableBag:function MixedBag(required,optional){var everything=required.concat(optional);if(0===everything.length)throw new Error("You must specify at least one required or optional field.");return $_cpheyauvjdud7dq2.validateStrArr("required",required),$_cpheyauvjdud7dq2.validateStrArr("optional",optional),$_cpheyauvjdud7dq2.checkDupes(everything),function(obj){var keys=$_1f66n8uujdud7dpz.keys(obj);$_7xl71gsujdud7dik.forall(required,function(req){return $_7xl71gsujdud7dik.contains(keys,req)})||$_cpheyauvjdud7dq2.reqMessage(required,keys);var unsupported=$_7xl71gsujdud7dik.filter(keys,function(key){return!$_7xl71gsujdud7dik.contains(everything,key)});0<unsupported.length&&$_cpheyauvjdud7dq2.unsuppMessage(unsupported);var r={};return $_7xl71gsujdud7dik.each(required,function(req){r[req]=$_8mc7v6srjdud7di7.constant(obj[req])}),$_7xl71gsujdud7dik.each(optional,function(opt){r[opt]=$_8mc7v6srjdud7di7.constant(Object.prototype.hasOwnProperty.call(obj,opt)?Option.some(obj[opt]):Option.none())}),r}}},unknown=("undefined"!=typeof window?window:Function("return this;")(),function(){return nu(0,0)}),nu=function(major,minor){return{major:major,minor:minor}},$_1ia2ysv5jdud7dqp={nu:nu,detect:function(versionRegexes,agent){var cleanedAgent=String(agent).toLowerCase();return 0===versionRegexes.length?unknown():function(regexes,agent){var r=function(regexes,s){for(var i=0;i<regexes.length;i++){var x=regexes[i];if(x.test(s))return x}}(regexes,agent);if(!r)return{major:0,minor:0};var group=function(i){return Number(agent.replace(r,"$"+i))};return nu(group(1),group(2))}(versionRegexes,cleanedAgent)},unknown:unknown},isBrowser=function(name,current){return function(){return current===name}},nu$1=function(info){var current=info.current;return{current:current,version:info.version,isEdge:isBrowser("Edge",current),isChrome:isBrowser("Chrome",current),isIE:isBrowser("IE",current),isOpera:isBrowser("Opera",current),isFirefox:isBrowser("Firefox",current),isSafari:isBrowser("Safari",current)}},$_cu4e4gv4jdud7dqk={unknown:function(){return nu$1({current:void 0,version:$_1ia2ysv5jdud7dqp.unknown()})},nu:nu$1,edge:$_8mc7v6srjdud7di7.constant("Edge"),chrome:$_8mc7v6srjdud7di7.constant("Chrome"),ie:$_8mc7v6srjdud7di7.constant("IE"),opera:$_8mc7v6srjdud7di7.constant("Opera"),firefox:$_8mc7v6srjdud7di7.constant("Firefox"),safari:$_8mc7v6srjdud7di7.constant("Safari")},isOS=function(name,current){return function(){return current===name}},nu$2=function(info){var current=info.current;return{current:current,version:info.version,isWindows:isOS("Windows",current),isiOS:isOS("iOS",current),isAndroid:isOS("Android",current),isOSX:isOS("OSX",current),isLinux:isOS("Linux",current),isSolaris:isOS("Solaris",current),isFreeBSD:isOS("FreeBSD",current)}},$_dahhntv6jdud7dr1={unknown:function(){return nu$2({current:void 0,version:$_1ia2ysv5jdud7dqp.unknown()})},nu:nu$2,windows:$_8mc7v6srjdud7di7.constant("Windows"),ios:$_8mc7v6srjdud7di7.constant("iOS"),android:$_8mc7v6srjdud7di7.constant("Android"),linux:$_8mc7v6srjdud7di7.constant("Linux"),osx:$_8mc7v6srjdud7di7.constant("OSX"),solaris:$_8mc7v6srjdud7di7.constant("Solaris"),freebsd:$_8mc7v6srjdud7di7.constant("FreeBSD")},detect$1=function(candidates,userAgent){var agent=String(userAgent).toLowerCase();return $_7xl71gsujdud7dik.find(candidates,function(candidate){return candidate.search(agent)})},$_994y8rv8jdud7dr7_detectBrowser=function(browsers,userAgent){return detect$1(browsers,userAgent).map(function(browser){var version=$_1ia2ysv5jdud7dqp.detect(browser.versionRegexes,userAgent);return{current:browser.name,version:version}})},$_994y8rv8jdud7dr7_detectOs=function(oses,userAgent){return detect$1(oses,userAgent).map(function(os){var version=$_1ia2ysv5jdud7dqp.detect(os.versionRegexes,userAgent);return{current:os.name,version:version}})},$_ah5hbvvajdud7drf_contains=function(str,substr){return-1!==str.indexOf(substr)},normalVersionRegex=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,checkContains=function(target){return function(uastring){return $_ah5hbvvajdud7drf_contains(uastring,target)}},browsers=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(uastring){return $_ah5hbvvajdud7drf_contains(uastring,"edge/")&&$_ah5hbvvajdud7drf_contains(uastring,"chrome")&&$_ah5hbvvajdud7drf_contains(uastring,"safari")&&$_ah5hbvvajdud7drf_contains(uastring,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,normalVersionRegex],search:function(uastring){return $_ah5hbvvajdud7drf_contains(uastring,"chrome")&&!$_ah5hbvvajdud7drf_contains(uastring,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(uastring){return $_ah5hbvvajdud7drf_contains(uastring,"msie")||$_ah5hbvvajdud7drf_contains(uastring,"trident")}},{name:"Opera",versionRegexes:[normalVersionRegex,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:checkContains("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:checkContains("firefox")},{name:"Safari",versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(uastring){return($_ah5hbvvajdud7drf_contains(uastring,"safari")||$_ah5hbvvajdud7drf_contains(uastring,"mobile/"))&&$_ah5hbvvajdud7drf_contains(uastring,"applewebkit")}}],oses=[{name:"Windows",search:checkContains("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(uastring){return $_ah5hbvvajdud7drf_contains(uastring,"iphone")||$_ah5hbvvajdud7drf_contains(uastring,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:checkContains("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:checkContains("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:checkContains("linux"),versionRegexes:[]},{name:"Solaris",search:checkContains("sunos"),versionRegexes:[]},{name:"FreeBSD",search:checkContains("freebsd"),versionRegexes:[]}],$_ro8bmv9jdud7dra={browsers:$_8mc7v6srjdud7di7.constant(browsers),oses:$_8mc7v6srjdud7di7.constant(oses)},$_d2zlejv3jdud7dqj_detect=function(userAgent){var browsers=$_ro8bmv9jdud7dra.browsers(),oses=$_ro8bmv9jdud7dra.oses(),browser=$_994y8rv8jdud7dr7_detectBrowser(browsers,userAgent).fold($_cu4e4gv4jdud7dqk.unknown,$_cu4e4gv4jdud7dqk.nu),os=$_994y8rv8jdud7dr7_detectOs(oses,userAgent).fold($_dahhntv6jdud7dr1.unknown,$_dahhntv6jdud7dr1.nu);return{browser:browser,os:os,deviceType:function DeviceType(os,browser,userAgent){var isiPad=os.isiOS()&&!0===/ipad/i.test(userAgent),isiPhone=os.isiOS()&&!isiPad,isAndroid3=os.isAndroid()&&3===os.version.major,isAndroid4=os.isAndroid()&&4===os.version.major,isTablet=isiPad||isAndroid3||isAndroid4&&!0===/mobile/i.test(userAgent),isTouch=os.isiOS()||os.isAndroid(),isPhone=isTouch&&!isTablet,iOSwebview=browser.isSafari()&&os.isiOS()&&!1===/safari/i.test(userAgent);return{isiPad:$_8mc7v6srjdud7di7.constant(isiPad),isiPhone:$_8mc7v6srjdud7di7.constant(isiPhone),isTablet:$_8mc7v6srjdud7di7.constant(isTablet),isPhone:$_8mc7v6srjdud7di7.constant(isPhone),isTouch:$_8mc7v6srjdud7di7.constant(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:$_8mc7v6srjdud7di7.constant(iOSwebview)}}(os,browser,userAgent)}},detect$3=$_e6xqb0umjdud7dpi_cached(function(){var userAgent=navigator.userAgent;return $_d2zlejv3jdud7dqj_detect(userAgent)}),ELEMENT=$_cfs70puojdud7dpl_ELEMENT,DOCUMENT=$_cfs70puojdud7dpl_DOCUMENT,bypassSelector=function(dom){return dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT||0===dom.childElementCount},$_8higg6vdjdud7drj={all:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?[]:$_7xl71gsujdud7dik.map(base.querySelectorAll(selector),$_1xa6jbuijdud7dp9.fromDom)},is:function(element,selector){var elem=element.dom();if(elem.nodeType!==ELEMENT)return!1;if(void 0!==elem.matches)return elem.matches(selector);if(void 0!==elem.msMatchesSelector)return elem.msMatchesSelector(selector);if(void 0!==elem.webkitMatchesSelector)return elem.webkitMatchesSelector(selector);if(void 0!==elem.mozMatchesSelector)return elem.mozMatchesSelector(selector);throw new Error("Browser lacks native selectors")},one:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?Option.none():Option.from(base.querySelector(selector)).map($_1xa6jbuijdud7dp9.fromDom)}},$_88qnclujjdud7dpd_descendants=(detect$3().browser.isIE(),$_b9jbjaurjdud7dpv.immutable("element","offset"),function(scope,selector){return $_8higg6vdjdud7drj.all(selector,scope)}),trim$1=Tools.trim,hasContentEditableState=function(value){return function(node){if(node&&1===node.nodeType){if(node.contentEditable===value)return!0;if(node.getAttribute("data-mce-contenteditable")===value)return!0}return!1}},isContentEditableTrue=hasContentEditableState("true"),isContentEditableFalse=hasContentEditableState("false"),create=function(type,title,url,level,attach){return{type:type,title:title,url:url,level:level,attach:attach}},getElementText=function(elm){return elm.innerText||elm.textContent},isValidAnchor=function(elm){return function(elm){return elm&&"A"===elm.nodeName&&(elm.id||elm.name)}(elm)&&isEditable(elm)},isHeader=function(elm){return elm&&/^(H[1-6])$/.test(elm.nodeName)},isEditable=function(elm){return function(node){for(;node=node.parentNode;){var value=node.contentEditable;if(value&&"inherit"!==value)return isContentEditableTrue(node)}return!1}(elm)&&!isContentEditableFalse(elm)},isValidHeader=function(elm){return isHeader(elm)&&isEditable(elm)},headerTarget=function(elm){var headerId=function(elm){return elm.id?elm.id:$_2n8489uhjdud7dp7_generate("h")}(elm);return create("header",getElementText(elm),"#"+headerId,function(elm){return isHeader(elm)?parseInt(elm.nodeName.substr(1),10):0}(elm),function(){elm.id=headerId})},anchorTarget=function(elm){var anchorId=elm.id||elm.name,anchorText=getElementText(elm);return create("anchor",anchorText||"#"+anchorId,"#"+anchorId,0,$_8mc7v6srjdud7di7.noop)},getTargetElements=function(elm){var selector,root;return selector="h1,h2,h3,h4,h5,h6,a:not([href])",root=elm,$_7xl71gsujdud7dik.map($_88qnclujjdud7dpd_descendants($_1xa6jbuijdud7dp9.fromDom(root),selector),function(element){return element.dom()})},hasTitle=function(target){return 0<trim$1(target.title).length},$_fo30b3ugjdud7dp1_find=function(elm){var elms=getTargetElements(elm);return $_7xl71gsujdud7dik.filter(function(elms){return $_7xl71gsujdud7dik.map($_7xl71gsujdud7dik.filter(elms,isValidHeader),headerTarget)}(elms).concat(function(elms){return $_7xl71gsujdud7dik.map($_7xl71gsujdud7dik.filter(elms,isValidAnchor),anchorTarget)}(elms)),hasTitle)},history={},toMenuItem=function(target){return{title:target.title,value:{title:{raw:target.title},url:target.url,attach:target.attach}}},staticMenuItem=function(title,url){return{title:title,value:{title:title,url:url,attach:$_8mc7v6srjdud7di7.noop}}},getSetting=function(editorSettings,name,defaultValue){var value=name in editorSettings?editorSettings[name]:defaultValue;return!1===value?null:value},createMenuItems=function(term,targets,fileType,editorSettings){var items,separator={title:"-"},fromHistoryMenuItems=function(history){var historyItems=history.hasOwnProperty(fileType)?history[fileType]:[],uniqueHistory=$_7xl71gsujdud7dik.filter(historyItems,function(url){return function(url,targets){return!$_7xl71gsujdud7dik.exists(targets,function(target){return target.url===url})}(url,targets)});return Tools.map(uniqueHistory,function(url){return{title:url,value:{title:url,url:url,attach:$_8mc7v6srjdud7di7.noop}}})},fromMenuItems=function(type){return function(targets){return Tools.map(targets,toMenuItem)}($_7xl71gsujdud7dik.filter(targets,function(target){return target.type===type}))};return!1===editorSettings.typeahead_urls?[]:"file"===fileType?(items=[filterByQuery(term,fromHistoryMenuItems(history)),filterByQuery(term,fromMenuItems("header")),filterByQuery(term,function(){var anchorMenuItems=fromMenuItems("anchor"),topAnchor=getSetting(editorSettings,"anchor_top","#top"),bottomAchor=getSetting(editorSettings,"anchor_bottom","#bottom");return null!==topAnchor&&anchorMenuItems.unshift(staticMenuItem("<top>",topAnchor)),null!==bottomAchor&&anchorMenuItems.push(staticMenuItem("<bottom>",bottomAchor)),anchorMenuItems}())],$_7xl71gsujdud7dik.foldl(items,function(a,b){return 0===a.length||0===b.length?a.concat(b):a.concat(separator,b)},[])):filterByQuery(term,fromHistoryMenuItems(history))},filterByQuery=function(term,menuItems){var lowerCaseTerm=term.toLowerCase(),result=Tools.grep(menuItems,function(item){return-1!==item.title.toLowerCase().indexOf(lowerCaseTerm)});return 1===result.length&&result[0].title===term?[]:result},setupAutoCompleteHandler=function(ctrl,editorSettings,bodyElm,fileType){var autocomplete=function(term){var linkTargets=$_fo30b3ugjdud7dp1_find(bodyElm),menuItems=createMenuItems(term,linkTargets,fileType,editorSettings);ctrl.showAutoComplete(menuItems,term)};ctrl.on("autocomplete",function(){autocomplete(ctrl.value())}),ctrl.on("selectitem",function(e){var linkDetails=e.value;ctrl.value(linkDetails.url);var title=function(linkDetails){var title=linkDetails.title;return title.raw?title.raw:title}(linkDetails);"image"===fileType?ctrl.fire("change",{meta:{alt:title,attach:linkDetails.attach}}):ctrl.fire("change",{meta:{text:title,attach:linkDetails.attach}}),ctrl.focus()}),ctrl.on("click",function(e){0===ctrl.value().length&&"INPUT"===e.target.nodeName&&autocomplete("")}),ctrl.on("PostRender",function(){ctrl.getRoot().on("submit",function(e){e.isDefaultPrevented()||function(url,fileType){var items=history[fileType];/^https?/.test(url)&&(items?-1===$_7xl71gsujdud7dik.indexOf(items,url)&&(history[fileType]=items.slice(0,5).concat(url)):history[fileType]=[url])}(ctrl.value(),fileType)})})},setupLinkValidatorHandler=function(ctrl,editorSettings,fileType){var validatorHandler=editorSettings.filepicker_validator_handler;validatorHandler&&ctrl.state.on("change:value",function(e){var url;0!==(url=e.value).length?validatorHandler({url:url,type:fileType},function(result){var uiState=function(result){var status=result.status,message=result.message;return"valid"===status?{status:"ok",message:message}:"unknown"===status?{status:"warn",message:message}:"invalid"===status?{status:"warn",message:message}:{status:"none",message:""}}(result);ctrl.statusMessage(uiState.message),ctrl.statusLevel(uiState.status)}):ctrl.statusLevel("none")})},FilePicker=ComboBox.extend({Statics:{clearHistory:function(){history={}}},init:function(settings){var actionCallback,fileBrowserCallback,fileBrowserCallbackTypes,self=this,editor=window.tinymce?window.tinymce.activeEditor:EditorManager.activeEditor,editorSettings=editor.settings,fileType=settings.filetype;settings.spellcheck=!1,(fileBrowserCallbackTypes=editorSettings.file_picker_types||editorSettings.file_browser_callback_types)&&(fileBrowserCallbackTypes=Tools.makeMap(fileBrowserCallbackTypes,/[, ]/)),fileBrowserCallbackTypes&&!fileBrowserCallbackTypes[fileType]||(!(fileBrowserCallback=editorSettings.file_picker_callback)||fileBrowserCallbackTypes&&!fileBrowserCallbackTypes[fileType]?!(fileBrowserCallback=editorSettings.file_browser_callback)||fileBrowserCallbackTypes&&!fileBrowserCallbackTypes[fileType]||(actionCallback=function(){fileBrowserCallback(self.getEl("inp").id,self.value(),fileType,window)}):actionCallback=function(){var meta=self.fire("beforecall").meta;meta=Tools.extend({filetype:fileType},meta),fileBrowserCallback.call(editor,function(value,meta){self.value(value).fire("change",{meta:meta})},self.value(),meta)}),actionCallback&&(settings.icon="browse",settings.onaction=actionCallback),self._super(settings),self.classes.add("filepicker"),setupAutoCompleteHandler(self,editorSettings,editor.getBody(),fileType),setupLinkValidatorHandler(self,editorSettings,fileType)}}),FitLayout=AbsoluteLayout.extend({recalc:function(container){var contLayoutRect=container.layoutRect(),paddingBox=container.paddingBox;container.items().filter(":visible").each(function(ctrl){ctrl.layoutRect({x:paddingBox.left,y:paddingBox.top,w:contLayoutRect.innerW-paddingBox.right-paddingBox.left,h:contLayoutRect.innerH-paddingBox.top-paddingBox.bottom}),ctrl.recalc&&ctrl.recalc()})}}),FlexLayout=AbsoluteLayout.extend({recalc:function(container){var i,l,items,contLayoutRect,contPaddingBox,contSettings,align,pack,spacing,totalFlex,availableSpace,direction,ctrl,ctrlLayoutRect,flex,size,maxSize,ratio,rect,pos,maxAlignEndPos,sizeName,minSizeName,posName,maxSizeName,beforeName,innerSizeName,deltaSizeName,contentSizeName,alignAxisName,alignInnerSizeName,alignSizeName,alignMinSizeName,alignBeforeName,alignAfterName,alignDeltaSizeName,alignContentSizeName,maxSizeItems=[],max=Math.max,min=Math.min;for(items=container.items().filter(":visible"),contLayoutRect=container.layoutRect(),contPaddingBox=container.paddingBox,contSettings=container.settings,direction=container.isRtl()?contSettings.direction||"row-reversed":contSettings.direction,align=contSettings.align,pack=container.isRtl()?contSettings.pack||"end":contSettings.pack,spacing=contSettings.spacing||0,"row-reversed"!==direction&&"column-reverse"!==direction||(items=items.set(items.toArray().reverse()),direction=direction.split("-")[0]),"column"===direction?(posName="y",sizeName="h",minSizeName="minH",maxSizeName="maxH",innerSizeName="innerH",beforeName="top",deltaSizeName="deltaH",contentSizeName="contentH",alignBeforeName="left",alignSizeName="w",alignAxisName="x",alignInnerSizeName="innerW",alignMinSizeName="minW",alignAfterName="right",alignDeltaSizeName="deltaW",alignContentSizeName="contentW"):(posName="x",sizeName="w",minSizeName="minW",maxSizeName="maxW",innerSizeName="innerW",beforeName="left",deltaSizeName="deltaW",contentSizeName="contentW",alignBeforeName="top",alignSizeName="h",alignAxisName="y",alignInnerSizeName="innerH",alignMinSizeName="minH",alignAfterName="bottom",alignDeltaSizeName="deltaH",alignContentSizeName="contentH"),availableSpace=contLayoutRect[innerSizeName]-contPaddingBox[beforeName]-contPaddingBox[beforeName],maxAlignEndPos=totalFlex=0,i=0,l=items.length;i<l;i++)ctrlLayoutRect=(ctrl=items[i]).layoutRect(),availableSpace-=i<l-1?spacing:0,0<(flex=ctrl.settings.flex)&&(totalFlex+=flex,ctrlLayoutRect[maxSizeName]&&maxSizeItems.push(ctrl),ctrlLayoutRect.flex=flex),availableSpace-=ctrlLayoutRect[minSizeName],maxAlignEndPos<(size=contPaddingBox[alignBeforeName]+ctrlLayoutRect[alignMinSizeName]+contPaddingBox[alignAfterName])&&(maxAlignEndPos=size);if((rect={})[minSizeName]=availableSpace<0?contLayoutRect[minSizeName]-availableSpace+contLayoutRect[deltaSizeName]:contLayoutRect[innerSizeName]-availableSpace+contLayoutRect[deltaSizeName],rect[alignMinSizeName]=maxAlignEndPos+contLayoutRect[alignDeltaSizeName],rect[contentSizeName]=contLayoutRect[innerSizeName]-availableSpace,rect[alignContentSizeName]=maxAlignEndPos,rect.minW=min(rect.minW,contLayoutRect.maxW),rect.minH=min(rect.minH,contLayoutRect.maxH),rect.minW=max(rect.minW,contLayoutRect.startMinWidth),rect.minH=max(rect.minH,contLayoutRect.startMinHeight),!contLayoutRect.autoResize||rect.minW===contLayoutRect.minW&&rect.minH===contLayoutRect.minH){for(ratio=availableSpace/totalFlex,i=0,l=maxSizeItems.length;i<l;i++)(maxSize=(ctrlLayoutRect=(ctrl=maxSizeItems[i]).layoutRect())[maxSizeName])<(size=ctrlLayoutRect[minSizeName]+ctrlLayoutRect.flex*ratio)?(availableSpace-=ctrlLayoutRect[maxSizeName]-ctrlLayoutRect[minSizeName],totalFlex-=ctrlLayoutRect.flex,ctrlLayoutRect.flex=0,ctrlLayoutRect.maxFlexSize=maxSize):ctrlLayoutRect.maxFlexSize=0;for(ratio=availableSpace/totalFlex,pos=contPaddingBox[beforeName],rect={},0===totalFlex&&("end"===pack?pos=availableSpace+contPaddingBox[beforeName]:"center"===pack?(pos=Math.round(contLayoutRect[innerSizeName]/2-(contLayoutRect[innerSizeName]-availableSpace)/2)+contPaddingBox[beforeName])<0&&(pos=contPaddingBox[beforeName]):"justify"===pack&&(pos=contPaddingBox[beforeName],spacing=Math.floor(availableSpace/(items.length-1)))),rect[alignAxisName]=contPaddingBox[alignBeforeName],i=0,l=items.length;i<l;i++)size=(ctrlLayoutRect=(ctrl=items[i]).layoutRect()).maxFlexSize||ctrlLayoutRect[minSizeName],"center"===align?rect[alignAxisName]=Math.round(contLayoutRect[alignInnerSizeName]/2-ctrlLayoutRect[alignSizeName]/2):"stretch"===align?(rect[alignSizeName]=max(ctrlLayoutRect[alignMinSizeName]||0,contLayoutRect[alignInnerSizeName]-contPaddingBox[alignBeforeName]-contPaddingBox[alignAfterName]),rect[alignAxisName]=contPaddingBox[alignBeforeName]):"end"===align&&(rect[alignAxisName]=contLayoutRect[alignInnerSizeName]-ctrlLayoutRect[alignSizeName]-contPaddingBox.top),0<ctrlLayoutRect.flex&&(size+=ctrlLayoutRect.flex*ratio),rect[sizeName]=size,rect[posName]=pos,ctrl.layoutRect(rect),ctrl.recalc&&ctrl.recalc(),pos+=size+spacing}else if(rect.w=rect.minW,rect.h=rect.minH,container.layoutRect(rect),this.recalc(container),null===container._lastRect){var parentCtrl=container.parent();parentCtrl&&(parentCtrl._lastRect=null,parentCtrl.recalc())}}}),FlowLayout=Layout.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(container){container.items().filter(":visible").each(function(ctrl){ctrl.recalc&&ctrl.recalc()})},isNative:function(){return!0}}),$_7sehi6vijdud7dry_descendant=function(scope,selector){return $_8higg6vdjdud7drj.one(selector,scope)},$_8c5j0tvmjdud7dsb_toggleFormat=function(editor,fmt){return function(){editor.execCommand("mceToggleFormat",!1,fmt)}},$_8c5j0tvmjdud7dsb_postRenderFormat=function(editor,name){return function(){var self=this;editor.formatter?editor.formatter.formatChanged(name,function(state){self.active(state)}):editor.on("init",function(){editor.formatter.formatChanged(name,function(state){self.active(state)})})}},$_6btbc5vljdud7dsa_register=function(editor){editor.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,"alignleft")},{text:"Center",icon:"aligncenter",onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,"aligncenter")},{text:"Right",icon:"alignright",onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,"alignright")},{text:"Justify",icon:"alignjustify",onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,"alignjustify")}]}),Tools.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(item,name){editor.addButton(name,{active:!1,tooltip:item[0],cmd:item[1],onPostRender:$_8c5j0tvmjdud7dsb_postRenderFormat(editor,name)})})},getFontProp=function(propName){return function(rootElm,elm){return Option.from(elm).map($_1xa6jbuijdud7dp9.fromDom).filter($_2nkh01unjdud7dpj.isElement).bind(function(element){return function(propName,rootElm,elm){for(;elm!==rootElm;){if(elm.style[propName]){var foundStyle=elm.style[propName];return""!==foundStyle?Option.some(foundStyle):Option.none()}elm=elm.parentNode}return Option.none()}(propName,rootElm,element.dom()).or(function(propName,elm){return Option.from(DOMUtils.DOM.getStyle(elm,propName,!0))}(propName,element.dom()))}).getOr("")}},$_85qu2dvojdud7dsg={getFontSize:getFontProp("fontSize"),getFontFamily:$_8mc7v6srjdud7di7.compose(function(fontFamily){return fontFamily.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},getFontProp("fontFamily")),toPt:function(fontSize,precision){return/[0-9.]+px$/.test(fontSize)?function(number,precision){var factor=Math.pow(10,precision);return Math.round(number*factor)/factor}(72*parseInt(fontSize,10)/96,precision||0)+"pt":fontSize}},getFirstFont=function(fontFamily){return fontFamily?fontFamily.split(",")[0]:""},createFontNameListBoxChangeHandler=function(editor,items){return function(){var self=this;editor.on("init nodeChange",function(e){var fontFamily=$_85qu2dvojdud7dsg.getFontFamily(editor.getBody(),e.element),match=function(items,fontFamily){var value;return Tools.each(items,function(item){item.value.toLowerCase()===fontFamily.toLowerCase()&&(value=item.value)}),Tools.each(items,function(item){value||getFirstFont(item.value).toLowerCase()!==getFirstFont(fontFamily).toLowerCase()||(value=item.value)}),value}(items,fontFamily);self.value(match||null),!match&&fontFamily&&self.text(getFirstFont(fontFamily))})}},registerButtons=function(editor){editor.addButton("fontselect",function(){var items=function(editor){var fonts=function(formats){for(var i=(formats=formats.replace(/;$/,"").split(";")).length;i--;)formats[i]=formats[i].split("=");return formats}(editor.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return Tools.map(fonts,function(font){return{text:{raw:font[0]},value:font[1],textStyle:-1===font[1].indexOf("dings")?"font-family:"+font[1]:""}})}(editor);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:items,fixedWidth:!0,onPostRender:createFontNameListBoxChangeHandler(editor,items),onselect:function(e){e.control.settings.value&&editor.execCommand("FontName",!1,e.control.settings.value)}}})},$_7jo3j9vnjdud7dsd_register=function(editor){registerButtons(editor)},findMatchingValue$1=function(items,pt,px){var value;return Tools.each(items,function(item){item.value===px?value=px:item.value===pt&&(value=pt)}),value},registerButtons$1=function(editor){editor.addButton("fontsizeselect",function(){var items=function(editor){var fontsizeFormats=editor.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return Tools.map(fontsizeFormats.split(" "),function(item){var text=item,value=item,values=item.split("=");return 1<values.length&&(text=values[0],value=values[1]),{text:text,value:value}})}(editor);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:items,fixedWidth:!0,onPostRender:function(editor,items){return function(){var self=this;editor.on("init nodeChange",function(e){var px,pt,precision,match;if(px=$_85qu2dvojdud7dsg.getFontSize(editor.getBody(),e.element))for(precision=3;!match&&0<=precision;precision--)pt=$_85qu2dvojdud7dsg.toPt(px,precision),match=findMatchingValue$1(items,pt,px);self.value(match||null),match||self.text(pt)})}}(editor,items),onclick:function(e){e.control.settings.value&&editor.execCommand("FontSize",!1,e.control.settings.value)}}})},$_b96yztvpjdud7dsl_register=function(editor){registerButtons$1(editor)},hideMenuObjects=function(editor,menu){var count=menu.length;return Tools.each(menu,function(item){item.menu&&(item.hidden=0===hideMenuObjects(editor,item.menu));var formatName=item.format;formatName&&(item.hidden=!editor.formatter.canApply(formatName)),item.hidden&&count--}),count},hideFormatMenuItems=function(editor,menu){var count=menu.items().length;return menu.items().each(function(item){item.menu&&item.visible(0<hideFormatMenuItems(editor,item.menu)),!item.menu&&item.settings.menu&&item.visible(0<hideMenuObjects(editor,item.settings.menu));var formatName=item.settings.format;formatName&&item.visible(editor.formatter.canApply(formatName)),item.visible()||count--}),count},$_44u5hfvqjdud7dsn_register=function(editor){var formatMenu=function(editor){var count=0,newFormats=[],defaultStyleFormats=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],createMenu=function(formats){var menu=[];if(formats)return Tools.each(formats,function(format){var menuItem={text:format.title,icon:format.icon};if(format.items)menuItem.menu=createMenu(format.items);else{var formatName=format.format||"custom"+count++;format.format||(format.name=formatName,newFormats.push(format)),menuItem.format=formatName,menuItem.cmd=format.cmd}menu.push(menuItem)}),menu};return editor.on("init",function(){Tools.each(newFormats,function(format){editor.formatter.register(format.name,format)})}),{type:"menu",items:editor.settings.style_formats_merge?editor.settings.style_formats?createMenu(defaultStyleFormats.concat(editor.settings.style_formats)):createMenu(defaultStyleFormats):createMenu(editor.settings.style_formats||defaultStyleFormats),onPostRender:function(e){editor.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return editor.formatter.getCssText(this.settings.format)},onPostRender:function(){var self=this;self.parent().on("show",function(){var formatName,command;(formatName=self.settings.format)&&(self.disabled(!editor.formatter.canApply(formatName)),self.active(editor.formatter.match(formatName))),(command=self.settings.cmd)&&self.active(editor.queryCommandState(command))})},onclick:function(){this.settings.format&&$_8c5j0tvmjdud7dsb_toggleFormat(editor,this.settings.format)(),this.settings.cmd&&editor.execCommand(this.settings.cmd)}}}}(editor);!function(editor,formatMenu){editor.addMenuItem("formats",{text:"Formats",menu:formatMenu})}(editor,formatMenu),function(editor,formatMenu){editor.addButton("styleselect",{type:"menubutton",text:"Formats",menu:formatMenu,onShowMenu:function(){editor.settings.style_formats_autohide&&hideFormatMenuItems(editor,this.menu)}})}(editor,formatMenu)},lazyFormatSelectBoxItems=function(editor,blocks){return function(){var items=[];return Tools.each(blocks,function(block){items.push({text:block[0],value:block[1],textStyle:function(){return editor.formatter.getCssText(block[1])}})}),{type:"listbox",text:blocks[0][0],values:items,fixedWidth:!0,onselect:function(e){if(e.control){var fmt=e.control.value();$_8c5j0tvmjdud7dsb_toggleFormat(editor,fmt)()}},onPostRender:function(editor,items,formatName){return function(){var self=this;editor.on("nodeChange",function(e){var formatter=editor.formatter,value=null;Tools.each(e.parents,function(node){if(Tools.each(items,function(item){if(formatName?formatter.matchNode(node,formatName,{value:item.value})&&(value=item.value):formatter.matchNode(node,item.value)&&(value=item.value),value)return!1}),value)return!1}),self.value(value)})}}(editor,items)}}},$_82fuecvrjdud7dt1_register=function(editor){var blocks=function(formats){for(var i=(formats=formats.replace(/;$/,"").split(";")).length;i--;)formats[i]=formats[i].split("=");return formats}(editor.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");editor.addMenuItem("blockformats",{text:"Blocks",menu:function(editor,blocks){return Tools.map(blocks,function(block){return{text:block[0],onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,block[1]),textStyle:function(){return editor.formatter.getCssText(block[1])}}})}(editor,blocks)}),editor.addButton("formatselect",lazyFormatSelectBoxItems(editor,blocks))},createCustomMenuItems=function(editor,names){var items,nameList;if("string"==typeof names)nameList=names.split(" ");else if(Tools.isArray(names))return $_7xl71gsujdud7dik.flatten(Tools.map(names,function(names){return createCustomMenuItems(editor,names)}));return items=Tools.grep(nameList,function(name){return"|"===name||name in editor.menuItems}),Tools.map(items,function(name){return"|"===name?{text:"-"}:editor.menuItems[name]})},isSeparator$1=function(menuItem){return menuItem&&"-"===menuItem.text},trimMenuItems=function(menuItems){var menuItems2=$_7xl71gsujdud7dik.filter(menuItems,function(menuItem,i,menuItems){return!isSeparator$1(menuItem)||!isSeparator$1(menuItems[i-1])});return $_7xl71gsujdud7dik.filter(menuItems2,function(menuItem,i,menuItems){return!isSeparator$1(menuItem)||0<i&&i<menuItems.length-1})},createInsertMenu=function(editor){var insertButtonItems=editor.settings.insert_button_items;return trimMenuItems(insertButtonItems?createCustomMenuItems(editor,insertButtonItems):function(editor,context){var outputMenuItems=[{text:"-"}],menuItems=Tools.grep(editor.menuItems,function(menuItem){return menuItem.context===context});return Tools.each(menuItems,function(menuItem){"before"===menuItem.separator&&outputMenuItems.push({text:"|"}),menuItem.prependToContext?outputMenuItems.unshift(menuItem):outputMenuItems.push(menuItem),"after"===menuItem.separator&&outputMenuItems.push({text:"|"})}),outputMenuItems}(editor,"insert"))},$_1e3wxrvsjdud7dt3_register=function(editor){!function(editor){editor.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(createInsertMenu(editor)),this.menu.renderNew()}})}(editor)},registerButtons$4=function(editor){!function(editor){Tools.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(text,name){editor.addButton(name,{active:!1,tooltip:text,onPostRender:$_8c5j0tvmjdud7dsb_postRenderFormat(editor,name),onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,name)})})}(editor),function(editor){Tools.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(item,name){editor.addButton(name,{tooltip:item[0],cmd:item[1]})})}(editor),function(editor){Tools.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(item,name){editor.addButton(name,{active:!1,tooltip:item[0],cmd:item[1],onPostRender:$_8c5j0tvmjdud7dsb_postRenderFormat(editor,name)})})}(editor)},$_bcfn3vvtjdud7dt8_register=function(editor){registerButtons$4(editor),function(editor){Tools.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(item,name){editor.addMenuItem(name,{text:item[0],icon:name,shortcut:item[2],cmd:item[1]})}),editor.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:$_8c5j0tvmjdud7dsb_toggleFormat(editor,"code")})}(editor)},toggleUndoRedoState=function(editor,type){return function(){var self=this,checkState=function(){var typeFn="redo"===type?"hasRedo":"hasUndo";return!!editor.undoManager&&editor.undoManager[typeFn]()};self.disabled(!checkState()),editor.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){self.disabled(editor.readonly||!checkState())})}},$_6o6j38vujdud7dtb_register=function(editor){!function(editor){editor.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:toggleUndoRedoState(editor,"undo"),cmd:"undo"}),editor.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:toggleUndoRedoState(editor,"redo"),cmd:"redo"})}(editor),function(editor){editor.addButton("undo",{tooltip:"Undo",onPostRender:toggleUndoRedoState(editor,"undo"),cmd:"undo"}),editor.addButton("redo",{tooltip:"Redo",onPostRender:toggleUndoRedoState(editor,"redo"),cmd:"redo"})}(editor)},$_ecnjzkvvjdud7dtc_register=function(editor){!function(editor){editor.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(editor){return function(){var self=this;editor.on("VisualAid",function(e){self.active(e.hasVisual)}),self.active(editor.hasVisual)}}(editor),cmd:"mceToggleVisualAid"})}(editor)},$_9bp9q3vhjdud7drv={setup:function(editor){!function(editor){editor.rtl&&(Control$1.rtl=!0)}(editor),function(editor){editor.on("mousedown",function(){FloatPanel.hideAll()})}(editor),function(editor){editor.settings.ui_container&&(Env.container=$_7sehi6vijdud7dry_descendant($_1xa6jbuijdud7dp9.fromDom(document.body),editor.settings.ui_container).fold($_8mc7v6srjdud7di7.constant(null),function(elm){return elm.dom()}))}(editor),Widget.tooltips=!Env.iOS,Control$1.translate=function(text){return EditorManager.translate(text)},$_82fuecvrjdud7dt1_register(editor),$_6btbc5vljdud7dsa_register(editor),$_bcfn3vvtjdud7dt8_register(editor),$_6o6j38vujdud7dtb_register(editor),$_b96yztvpjdud7dsl_register(editor),$_7jo3j9vnjdud7dsd_register(editor),$_44u5hfvqjdud7dsn_register(editor),$_ecnjzkvvjdud7dtc_register(editor),$_1e3wxrvsjdud7dt3_register(editor)}},GridLayout=AbsoluteLayout.extend({recalc:function(container){var settings,rows,cols,items,contLayoutRect,width,height,rect,ctrlLayoutRect,ctrl,x,y,posX,posY,ctrlSettings,contPaddingBox,align,spacingH,spacingV,alignH,alignV,maxX,maxY,ctrlMinWidth,ctrlMinHeight,availableWidth,availableHeight,reverseRows,colWidths=[],rowHeights=[];settings=container.settings,items=container.items().filter(":visible"),contLayoutRect=container.layoutRect(),cols=settings.columns||Math.ceil(Math.sqrt(items.length)),rows=Math.ceil(items.length/cols),spacingH=settings.spacingH||settings.spacing||0,spacingV=settings.spacingV||settings.spacing||0,alignH=settings.alignH||settings.align,alignV=settings.alignV||settings.align,contPaddingBox=container.paddingBox,reverseRows="reverseRows"in settings?settings.reverseRows:container.isRtl(),alignH&&"string"==typeof alignH&&(alignH=[alignH]),alignV&&"string"==typeof alignV&&(alignV=[alignV]);for(x=0;x<cols;x++)colWidths.push(0);for(y=0;y<rows;y++)rowHeights.push(0);for(y=0;y<rows;y++)for(x=0;x<cols&&(ctrl=items[y*cols+x]);x++)ctrlMinWidth=(ctrlLayoutRect=ctrl.layoutRect()).minW,ctrlMinHeight=ctrlLayoutRect.minH,colWidths[x]=ctrlMinWidth>colWidths[x]?ctrlMinWidth:colWidths[x],rowHeights[y]=ctrlMinHeight>rowHeights[y]?ctrlMinHeight:rowHeights[y];for(availableWidth=contLayoutRect.innerW-contPaddingBox.left-contPaddingBox.right,x=maxX=0;x<cols;x++)maxX+=colWidths[x]+(0<x?spacingH:0),availableWidth-=(0<x?spacingH:0)+colWidths[x];for(availableHeight=contLayoutRect.innerH-contPaddingBox.top-contPaddingBox.bottom,y=maxY=0;y<rows;y++)maxY+=rowHeights[y]+(0<y?spacingV:0),availableHeight-=(0<y?spacingV:0)+rowHeights[y];if(maxX+=contPaddingBox.left+contPaddingBox.right,maxY+=contPaddingBox.top+contPaddingBox.bottom,(rect={}).minW=maxX+(contLayoutRect.w-contLayoutRect.innerW),rect.minH=maxY+(contLayoutRect.h-contLayoutRect.innerH),rect.contentW=rect.minW-contLayoutRect.deltaW,rect.contentH=rect.minH-contLayoutRect.deltaH,rect.minW=Math.min(rect.minW,contLayoutRect.maxW),rect.minH=Math.min(rect.minH,contLayoutRect.maxH),rect.minW=Math.max(rect.minW,contLayoutRect.startMinWidth),rect.minH=Math.max(rect.minH,contLayoutRect.startMinHeight),!contLayoutRect.autoResize||rect.minW===contLayoutRect.minW&&rect.minH===contLayoutRect.minH){var flexV;contLayoutRect.autoResize&&((rect=container.layoutRect(rect)).contentW=rect.minW-contLayoutRect.deltaW,rect.contentH=rect.minH-contLayoutRect.deltaH),flexV="start"===settings.packV?0:0<availableHeight?Math.floor(availableHeight/rows):0;var totalFlex=0,flexWidths=settings.flexWidths;if(flexWidths)for(x=0;x<flexWidths.length;x++)totalFlex+=flexWidths[x];else totalFlex=cols;var ratio=availableWidth/totalFlex;for(x=0;x<cols;x++)colWidths[x]+=flexWidths?flexWidths[x]*ratio:ratio;for(posY=contPaddingBox.top,y=0;y<rows;y++){for(posX=contPaddingBox.left,height=rowHeights[y]+flexV,x=0;x<cols&&(ctrl=items[reverseRows?y*cols+cols-1-x:y*cols+x]);x++)ctrlSettings=ctrl.settings,ctrlLayoutRect=ctrl.layoutRect(),width=Math.max(colWidths[x],ctrlLayoutRect.startMinWidth),ctrlLayoutRect.x=posX,ctrlLayoutRect.y=posY,"center"===(align=ctrlSettings.alignH||(alignH?alignH[x]||alignH[0]:null))?ctrlLayoutRect.x=posX+width/2-ctrlLayoutRect.w/2:"right"===align?ctrlLayoutRect.x=posX+width-ctrlLayoutRect.w:"stretch"===align&&(ctrlLayoutRect.w=width),"center"===(align=ctrlSettings.alignV||(alignV?alignV[x]||alignV[0]:null))?ctrlLayoutRect.y=posY+height/2-ctrlLayoutRect.h/2:"bottom"===align?ctrlLayoutRect.y=posY+height-ctrlLayoutRect.h:"stretch"===align&&(ctrlLayoutRect.h=height),ctrl.layoutRect(ctrlLayoutRect),posX+=width+spacingH,ctrl.recalc&&ctrl.recalc();posY+=height+spacingV}}else if(rect.w=rect.minW,rect.h=rect.minH,container.layoutRect(rect),this.recalc(container),null===container._lastRect){var parentCtrl=container.parent();parentCtrl&&(parentCtrl._lastRect=null,parentCtrl.recalc())}}}),Iframe$1=Widget.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(src){this.getEl().src=src},html:function(html,callback){var self=this,body=this.getEl().contentWindow.document.body;return body?(body.innerHTML=html,callback&&callback()):Delay.setTimeout(function(){self.html(html)}),this}}),InfoBox=Widget.extend({init:function(settings){this._super(settings),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(level){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(level)},help:function(state){this.state.set("help",state)},renderHtml:function(){var prefix=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+prefix+"ico "+prefix+'i-help"></i></button></div></div>'},bindStates:function(){var self=this;return self.state.on("change:text",function(e){self.getEl("body").firstChild.data=self.encode(e.value),self.state.get("rendered")&&self.updateLayoutRect()}),self.state.on("change:help",function(e){self.classes.toggle("has-help",e.value),self.state.get("rendered")&&self.updateLayoutRect()}),self._super()}}),Label=Widget.extend({init:function(settings){this._super(settings),this.classes.add("widget").add("label"),this.canFocus=!1,settings.multiline&&this.classes.add("autoscroll"),settings.strong&&this.classes.add("strong")},initLayoutRect:function(){var layoutRect=this._super();return this.settings.multiline&&(funcs.getSize(this.getEl()).width>layoutRect.maxW&&(layoutRect.minW=layoutRect.maxW,this.classes.add("multiline")),this.getEl().style.width=layoutRect.minW+"px",layoutRect.startMinH=layoutRect.h=layoutRect.minH=Math.min(layoutRect.maxH,funcs.getSize(this.getEl()).height)),layoutRect},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(level){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(level)},renderHtml:function(){var targetCtrl,forName,forId=this.settings.forId,text=this.settings.html?this.settings.html:this.encode(this.state.get("text"));return!forId&&(forName=this.settings.forName)&&(targetCtrl=this.getRoot().find("#"+forName)[0])&&(forId=targetCtrl._id),forId?'<label id="'+this._id+'" class="'+this.classes+'"'+(forId?' for="'+forId+'"':"")+">"+text+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+text+"</span>"},bindStates:function(){var self=this;return self.state.on("change:text",function(e){self.innerHtml(self.encode(e.value)),self.state.get("rendered")&&self.updateLayoutRect()}),self._super()}}),Toolbar$1=Container.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(settings){this._super(settings),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(ctrl){ctrl.classes.add("toolbar-item")}),this._super()}}),MenuBar=Toolbar$1.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),MenuButton=Button.extend({init:function(settings){this._renderOpen=!0,this._super(settings),settings=this.settings,this.classes.add("menubtn"),settings.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",settings.menu||this.render())},showMenu:function(toggle){var menu,self=this;if(self.menu&&self.menu.visible()&&!1!==toggle)return self.hideMenu();self.menu||(menu=self.state.get("menu")||[],self.classes.add("opened"),menu.length?menu={type:"menu",animate:!0,items:menu}:(menu.type=menu.type||"menu",menu.animate=!0),menu.renderTo?self.menu=menu.parent(self).show().renderTo():self.menu=Factory.create(menu).parent(self).renderTo(),self.fire("createmenu"),self.menu.reflow(),self.menu.on("cancel",function(e){e.control.parent()===self.menu&&(e.stopPropagation(),self.focus(),self.hideMenu())}),self.menu.on("select",function(){self.focus()}),self.menu.on("show hide",function(e){e.control===self.menu&&(self.activeMenu("show"===e.type),self.classes.toggle("opened","show"===e.type)),self.aria("expanded","show"===e.type)}).fire("show")),self.menu.show(),self.menu.layoutRect({w:self.layoutRect().w}),self.menu.repaint(),self.menu.moveRel(self.getEl(),self.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),self.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(item){item.hideMenu&&item.hideMenu()}),this.menu.hide())},activeMenu:function(state){this.classes.toggle("active",state)},renderHtml:function(){var image,id=this._id,prefix=this.classPrefix,icon=this.settings.icon,text=this.state.get("text"),textHtml="";return(image=this.settings.image)?(icon="none","string"!=typeof image&&(image=window.getSelection?image[0]:image[1]),image=" style=\"background-image: url('"+image+"')\""):image="",text&&(this.classes.add("btn-has-text"),textHtml='<span class="'+prefix+'txt">'+this.encode(text)+"</span>"),icon=this.settings.icon?prefix+"ico "+prefix+"i-"+icon:"",this.aria("role",this.parent()instanceof MenuBar?"menuitem":"button"),'<div id="'+id+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+id+'"><button id="'+id+'-open" role="presentation" type="button" tabindex="-1">'+(icon?'<i class="'+icon+'"'+image+"></i>":"")+textHtml+' <i class="'+prefix+'caret"></i></button></div>'},postRender:function(){var self=this;return self.on("click",function(e){e.control===self&&function isChildOf$1(node,parent){for(;node;){if(parent===node)return!0;node=node.parentNode}return!1}(e.target,self.getEl())&&(self.focus(),self.showMenu(!e.aria),e.aria&&self.menu.items().filter(":visible")[0].focus())}),self.on("mouseenter",function(e){var hasVisibleSiblingMenu,overCtrl=e.control,parent=self.parent();overCtrl&&parent&&overCtrl instanceof MenuButton&&overCtrl.parent()===parent&&(parent.items().filter("MenuButton").each(function(ctrl){ctrl.hideMenu&&ctrl!==overCtrl&&(ctrl.menu&&ctrl.menu.visible()&&(hasVisibleSiblingMenu=!0),ctrl.hideMenu())}),hasVisibleSiblingMenu&&(overCtrl.focus(),overCtrl.showMenu()))}),self._super()},bindStates:function(){var self=this;return self.state.on("change:menu",function(){self.menu&&self.menu.remove(),self.menu=null}),self._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Menu=FloatPanel.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(settings){if(settings.autohide=!0,settings.constrainToViewport=!0,"function"==typeof settings.items&&(settings.itemsFactory=settings.items,settings.items=[]),settings.itemDefaults)for(var items=settings.items,i=items.length;i--;)items[i]=Tools.extend({},settings.itemDefaults,items[i]);this._super(settings),this.classes.add("menu"),settings.animate&&11!==Env.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var time,self=this;function hideThrobber(){self.throbber&&(self.throbber.hide(),self.throbber=null)}self.settings.itemsFactory&&(self.throbber||(self.throbber=new Throbber(self.getEl("body"),!0),0===self.items().length?(self.throbber.show(),self.fire("loading")):self.throbber.show(100,function(){self.items().remove(),self.fire("loading")}),self.on("hide close",hideThrobber)),self.requestTime=time=(new Date).getTime(),self.settings.itemsFactory(function(items){0!==items.length?self.requestTime===time&&(self.getEl().style.width="",self.getEl("body").style.width="",hideThrobber(),self.items().remove(),self.getEl("body").innerHTML="",self.add(items),self.renderNew(),self.fire("loaded")):self.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var self=this;return self.items().each(function(ctrl){var settings=ctrl.settings;if(settings.icon||settings.image||settings.selectable)return self._hasIcons=!0,!1}),self.settings.itemsFactory&&self.on("postrender",function(){self.settings.itemsFactory&&self.load()}),self.on("show hide",function(e){e.control===self&&("show"===e.type?Delay.setTimeout(function(){self.classes.add("in")},0):self.classes.remove("in"))}),self._super()}}),ListBox=MenuButton.extend({init:function(settings){var values,selected,selectedText,lastItemCtrl,self=this;self._super(settings),settings=self.settings,self._values=values=settings.values,values&&(void 0!==settings.value&&function setSelected(menuValues){for(var i=0;i<menuValues.length;i++){if(selected=menuValues[i].selected||settings.value===menuValues[i].value)return selectedText=selectedText||menuValues[i].text,self.state.set("value",menuValues[i].value),!0;if(menuValues[i].menu&&setSelected(menuValues[i].menu))return!0}}(values),!selected&&0<values.length&&(selectedText=values[0].text,self.state.set("value",values[0].value)),self.state.set("menu",values)),self.state.set("text",settings.text||selectedText),self.classes.add("listbox"),self.on("select",function(e){var ctrl=e.control;lastItemCtrl&&(e.lastControl=lastItemCtrl),settings.multiple?ctrl.active(!ctrl.active()):self.value(e.control.value()),lastItemCtrl=ctrl})},bindStates:function(){var self=this;return self.on("show",function(e){!function activateMenuItemsByValue(menu,value){menu instanceof Menu&&menu.items().each(function(ctrl){ctrl.hasMenus()||ctrl.active(ctrl.value()===value)})}(e.control,self.value())}),self.state.on("change:value",function(e){var selectedItem=function getSelectedItem(menuValues,value){var selectedItem;if(menuValues)for(var i=0;i<menuValues.length;i++){if(menuValues[i].value===value)return menuValues[i];if(menuValues[i].menu&&(selectedItem=getSelectedItem(menuValues[i].menu,value)))return selectedItem}}(self.state.get("menu"),e.value);selectedItem?self.text(selectedItem.text):self.text(self.settings.text)}),self._super()}}),MenuItem=Widget.extend({Defaults:{border:0,role:"menuitem"},init:function(settings){var text;this._super(settings),settings=this.settings,this.classes.add("menu-item"),settings.menu&&this.classes.add("menu-item-expand"),settings.preview&&this.classes.add("menu-item-preview"),"-"!==(text=this.state.get("text"))&&"|"!==text||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-")),settings.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),settings.icon="selected"),settings.preview||settings.selectable||this.classes.add("menu-item-normal"),this.on("mousedown",function(e){e.preventDefault()}),settings.menu&&!settings.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var menu,self=this,settings=self.settings,parent=self.parent();if(parent.items().each(function(ctrl){ctrl!==self&&ctrl.hideMenu()}),settings.menu){(menu=self.menu)?menu.show():((menu=settings.menu).length?menu={type:"menu",items:menu}:menu.type=menu.type||"menu",parent.settings.itemDefaults&&(menu.itemDefaults=parent.settings.itemDefaults),(menu=self.menu=Factory.create(menu).parent(self).renderTo()).reflow(),menu.on("cancel",function(e){e.stopPropagation(),self.focus(),menu.hide()}),menu.on("show hide",function(e){e.control.items&&e.control.items().each(function(ctrl){ctrl.active(ctrl.settings.selected)})}).fire("show"),menu.on("hide",function(e){e.control===menu&&self.classes.remove("selected")}),menu.submenu=!0),menu._parentMenu=parent,menu.classes.add("menu-sub");var rel=menu.testMoveRel(self.getEl(),self.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);menu.moveRel(self.getEl(),rel),rel="menu-sub-"+(menu.rel=rel),menu.classes.remove(menu._lastRel).add(rel),menu._lastRel=rel,self.classes.add("selected"),self.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(item){item.hideMenu&&item.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var iconHtml,id=this._id,settings=this.settings,prefix=this.classPrefix,text=this.state.get("text"),icon=this.settings.icon,image="",shortcut=settings.shortcut,url=this.encode(settings.url);function escapeRegExp(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function markMatches(text){var match=settings.match||"";return match?text.replace(new RegExp(escapeRegExp(match),"gi"),function(match){return"!mce~match["+match+"]mce~match!"}):text}function boldMatches(text){return text.replace(new RegExp(escapeRegExp("!mce~match["),"g"),"<b>").replace(new RegExp(escapeRegExp("]mce~match!"),"g"),"</b>")}return icon&&this.parent().classes.add("menu-has-icons"),settings.image&&(image=" style=\"background-image: url('"+settings.image+"')\""),shortcut&&(shortcut=function convertShortcut(shortcut){var i,value,replace={};for(replace=Env.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},shortcut=shortcut.split("+"),i=0;i<shortcut.length;i++)(value=replace[shortcut[i].toLowerCase()])&&(shortcut[i]=value);return shortcut.join("+")}(shortcut)),icon=prefix+"ico "+prefix+"i-"+(this.settings.icon||"none"),iconHtml="-"!==text?'<i class="'+icon+'"'+image+"></i>\xa0":"",text=boldMatches(this.encode(markMatches(text))),url=boldMatches(this.encode(markMatches(url))),'<div id="'+id+'" class="'+this.classes+'" tabindex="-1">'+iconHtml+("-"!==text?'<span id="'+id+'-text" class="'+prefix+'text">'+text+"</span>":"")+(shortcut?'<div id="'+id+'-shortcut" class="'+prefix+'menu-shortcut">'+shortcut+"</div>":"")+(settings.menu?'<div class="'+prefix+'caret"></div>':"")+(url?'<div class="'+prefix+'menu-item-link">'+url+"</div>":"")+"</div>"},postRender:function(){var self=this,settings=self.settings,textStyle=settings.textStyle;if("function"==typeof textStyle&&(textStyle=textStyle.call(this)),textStyle){var textElm=self.getEl("text");textElm&&(textElm.setAttribute("style",textStyle),self._textStyle=textStyle)}return self.on("mouseenter click",function(e){e.control===self&&(settings.menu||"click"!==e.type?(self.showMenu(),e.aria&&self.menu.focus(!0)):(self.fire("select"),Delay.requestAnimationFrame(function(){self.parent().hideAll()})))}),self._super(),self},hover:function(){return this.parent().items().each(function(ctrl){ctrl.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(state){return function(ctrl,state){var textStyle=ctrl._textStyle;if(textStyle){var textElm=ctrl.getEl("text");textElm.setAttribute("style",textStyle),state&&(textElm.style.color="",textElm.style.backgroundColor="")}}(this,state),void 0!==state&&this.aria("checked",state),this._super(state)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Radio=Checkbox.extend({Defaults:{classes:"radio",role:"radio"}}),ResizeHandle=Widget.extend({renderHtml:function(){var prefix=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+prefix+"ico "+prefix+'i-resize"></i></div>'},postRender:function(){var self=this;self._super(),self.resizeDragHelper=new DragHelper(this._id,{start:function(){self.fire("ResizeStart")},drag:function(e){"both"!==self.settings.direction&&(e.deltaX=0),self.fire("Resize",e)},stop:function(){self.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function createOptions(options){var strOptions="";if(options)for(var i=0;i<options.length;i++)strOptions+='<option value="'+options[i]+'">'+options[i]+"</option>";return strOptions}var SelectBox=Widget.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(settings){var self=this;self._super(settings),self.settings.size&&(self.size=self.settings.size),self.settings.options&&(self._options=self.settings.options),self.on("keydown",function(e){var rootControl;13===e.keyCode&&(e.preventDefault(),self.parents().reverse().each(function(ctrl){if(ctrl.toJSON)return rootControl=ctrl,!1}),self.fire("submit",{data:rootControl.toJSON()}))})},options:function(state){return arguments.length?(this.state.set("options",state),this):this.state.get("options")},renderHtml:function(){var options,size="";return options=createOptions(this._options),this.size&&(size=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+size+">"+options+"</select>"},bindStates:function(){var self=this;return self.state.on("change:options",function(e){self.getEl().innerHTML=createOptions(e.value)}),self._super()}});function constrain(value,minVal,maxVal){return value<minVal&&(value=minVal),maxVal<value&&(value=maxVal),value}function setAriaProp(el,name,value){el.setAttribute("aria-"+name,value)}function updateSliderHandle(ctrl,value){var shortSizeName,sizeName,stylePosName,styleValue,handleEl;"v"===ctrl.settings.orientation?(stylePosName="top",sizeName="height",shortSizeName="h"):(stylePosName="left",sizeName="width",shortSizeName="w"),handleEl=ctrl.getEl("handle"),styleValue=((ctrl.layoutRect()[shortSizeName]||100)-funcs.getSize(handleEl)[sizeName])*((value-ctrl._minValue)/(ctrl._maxValue-ctrl._minValue))+"px",handleEl.style[stylePosName]=styleValue,handleEl.style.height=ctrl.layoutRect().h+"px",setAriaProp(handleEl,"valuenow",value),setAriaProp(handleEl,"valuetext",""+ctrl.settings.previewFilter(value)),setAriaProp(handleEl,"valuemin",ctrl._minValue),setAriaProp(handleEl,"valuemax",ctrl._maxValue)}var Slider=Widget.extend({init:function(settings){settings.previewFilter||(settings.previewFilter=function(value){return Math.round(100*value)/100}),this._super(settings),this.classes.add("slider"),"v"===settings.orientation&&this.classes.add("vertical"),this._minValue=$_981d05uqjdud7dpu.isNumber(settings.minValue)?settings.minValue:0,this._maxValue=$_981d05uqjdud7dpu.isNumber(settings.maxValue)?settings.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var id=this._id,prefix=this.classPrefix;return'<div id="'+id+'" class="'+this.classes+'"><div id="'+id+'-handle" class="'+prefix+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var minValue,maxValue,screenCordName,stylePosName,sizeName,shortSizeName,self=this;minValue=self._minValue,maxValue=self._maxValue,"v"===self.settings.orientation?(screenCordName="screenY",stylePosName="top",sizeName="height",shortSizeName="h"):(screenCordName="screenX",stylePosName="left",sizeName="width",shortSizeName="w"),self._super(),function handleKeyboard(minValue,maxValue){function alter(delta){var value;value=self.value(),value=constrain(value=function fromFraction(min,max,val){return val*(max-min)-min}(minValue,maxValue,function toFraction(min,max,val){return(val+min)/(max-min)}(minValue,maxValue,value)+.05*delta),minValue,maxValue),self.value(value),self.fire("dragstart",{value:value}),self.fire("drag",{value:value}),self.fire("dragend",{value:value})}self.on("keydown",function(e){switch(e.keyCode){case 37:case 38:alter(-1);break;case 39:case 40:alter(1)}})}(minValue,maxValue),function handleDrag(minValue,maxValue,handleEl){var startPos,startHandlePos,maxHandlePos,handlePos,value;self._dragHelper=new DragHelper(self._id,{handle:self._id+"-handle",start:function(e){startPos=e[screenCordName],startHandlePos=parseInt(self.getEl("handle").style[stylePosName],10),maxHandlePos=(self.layoutRect()[shortSizeName]||100)-funcs.getSize(handleEl)[sizeName],self.fire("dragstart",{value:value})},drag:function(e){var delta=e[screenCordName]-startPos;handlePos=constrain(startHandlePos+delta,0,maxHandlePos),handleEl.style[stylePosName]=handlePos+"px",value=minValue+handlePos/maxHandlePos*(maxValue-minValue),self.value(value),self.tooltip().text(""+self.settings.previewFilter(value)).show().moveRel(handleEl,"bc tc"),self.fire("drag",{value:value})},stop:function(){self.tooltip().hide(),self.fire("dragend",{value:value})}})}(minValue,maxValue,self.getEl("handle"))},repaint:function(){this._super(),updateSliderHandle(this,this.value())},bindStates:function(){var self=this;return self.state.on("change:value",function(e){updateSliderHandle(self,e.value)}),self._super()}}),Spacer=Widget.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),SplitButton=MenuButton.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var mainButtonElm,menuButtonElm,elm=this.getEl(),rect=this.layoutRect();return this._super(),mainButtonElm=elm.firstChild,menuButtonElm=elm.lastChild,$(mainButtonElm).css({width:rect.w-funcs.getSize(menuButtonElm).width,height:rect.h-2}),$(menuButtonElm).css({height:rect.h-2}),this},activeMenu:function(state){$(this.getEl().lastChild).toggleClass(this.classPrefix+"active",state)},renderHtml:function(){var image,ariaPressed,id=this._id,prefix=this.classPrefix,icon=this.state.get("icon"),text=this.state.get("text"),settings=this.settings,textHtml="";return(image=settings.image)?(icon="none","string"!=typeof image&&(image=window.getSelection?image[0]:image[1]),image=" style=\"background-image: url('"+image+"')\""):image="",icon=settings.icon?prefix+"ico "+prefix+"i-"+icon:"",text&&(this.classes.add("btn-has-text"),textHtml='<span class="'+prefix+'txt">'+this.encode(text)+"</span>"),ariaPressed="boolean"==typeof settings.active?' aria-pressed="'+settings.active+'"':"",'<div id="'+id+'" class="'+this.classes+'" role="button"'+ariaPressed+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(icon?'<i class="'+icon+'"'+image+"></i>":"")+textHtml+'</button><button type="button" class="'+prefix+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(icon?"\xa0":"")+this._menuBtnText:"")+' <i class="'+prefix+'caret"></i></button></div>'},postRender:function(){var onClickHandler=this.settings.onclick;return this.on("click",function(e){var node=e.target;if(e.control===this)for(;node;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===node.nodeName&&-1===node.className.indexOf("open"))return e.stopImmediatePropagation(),void(onClickHandler&&onClickHandler.call(this,e));node=node.parentNode}}),delete this.settings.onclick,this._super()}}),StackLayout=FlowLayout.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),TabPanel=Panel.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(idx){var activeTabElm;this.activeTabId&&(activeTabElm=this.getEl(this.activeTabId),$(activeTabElm).removeClass(this.classPrefix+"active"),activeTabElm.setAttribute("aria-selected","false")),this.activeTabId="t"+idx,(activeTabElm=this.getEl("t"+idx)).setAttribute("aria-selected","true"),$(activeTabElm).addClass(this.classPrefix+"active"),this.items()[idx].show().fire("showtab"),this.reflow(),this.items().each(function(item,i){idx!==i&&item.hide()})},renderHtml:function(){var self=this,layout=self._layout,tabsHtml="",prefix=self.classPrefix;return self.preRender(),layout.preRender(self),self.items().each(function(ctrl,i){var id=self._id+"-t"+i;ctrl.aria("role","tabpanel"),ctrl.aria("labelledby",id),tabsHtml+='<div id="'+id+'" class="'+prefix+'tab" unselectable="on" role="tab" aria-controls="'+ctrl._id+'" aria-selected="false" tabIndex="-1">'+self.encode(ctrl.settings.title)+"</div>"}),'<div id="'+self._id+'" class="'+self.classes+'" hidefocus="1" tabindex="-1"><div id="'+self._id+'-head" class="'+prefix+'tabs" role="tablist">'+tabsHtml+'</div><div id="'+self._id+'-body" class="'+self.bodyClasses+'">'+layout.renderHtml(self)+"</div></div>"},postRender:function(){var self=this;self._super(),self.settings.activeTab=self.settings.activeTab||0,self.activateTab(self.settings.activeTab),this.on("click",function(e){var targetParent=e.target.parentNode;if(targetParent&&targetParent.id===self._id+"-head")for(var i=targetParent.childNodes.length;i--;)targetParent.childNodes[i]===e.target&&self.activateTab(i)})},initLayoutRect:function(){var rect,minW,minH;minW=(minW=funcs.getSize(this.getEl("head")).width)<0?0:minW,minH=0,this.items().each(function(item){minW=Math.max(minW,item.layoutRect().minW),minH=Math.max(minH,item.layoutRect().minH)}),this.items().each(function(ctrl){ctrl.settings.x=0,ctrl.settings.y=0,ctrl.settings.w=minW,ctrl.settings.h=minH,ctrl.layoutRect({x:0,y:0,w:minW,h:minH})});var headH=funcs.getSize(this.getEl("head")).height;return this.settings.minWidth=minW,this.settings.minHeight=minH+headH,(rect=this._super()).deltaH+=headH,rect.innerH=rect.h-rect.deltaH,rect}}),TextBox=Widget.extend({init:function(settings){var self=this;self._super(settings),self.classes.add("textbox"),settings.multiline?self.classes.add("multiline"):(self.on("keydown",function(e){var rootControl;13===e.keyCode&&(e.preventDefault(),self.parents().reverse().each(function(ctrl){if(ctrl.toJSON)return rootControl=ctrl,!1}),self.fire("submit",{data:rootControl.toJSON()}))}),self.on("keyup",function(e){self.state.set("value",e.target.value)}))},repaint:function(){var style,rect,borderBox,borderW,lastRepaintRect,borderH=0;style=this.getEl().style,rect=this._layoutRect,lastRepaintRect=this._lastRepaintRect||{};var doc=document;return!this.settings.multiline&&doc.all&&(!doc.documentMode||doc.documentMode<=8)&&(style.lineHeight=rect.h-borderH+"px"),borderW=(borderBox=this.borderBox).left+borderBox.right+8,borderH=borderBox.top+borderBox.bottom+(this.settings.multiline?8:0),rect.x!==lastRepaintRect.x&&(style.left=rect.x+"px",lastRepaintRect.x=rect.x),rect.y!==lastRepaintRect.y&&(style.top=rect.y+"px",lastRepaintRect.y=rect.y),rect.w!==lastRepaintRect.w&&(style.width=rect.w-borderW+"px",lastRepaintRect.w=rect.w),rect.h!==lastRepaintRect.h&&(style.height=rect.h-borderH+"px",lastRepaintRect.h=rect.h),this._lastRepaintRect=lastRepaintRect,this.fire("repaint",{},!1),this},renderHtml:function(){var attrs,elm,settings=this.settings;return attrs={id:this._id,hidefocus:"1"},Tools.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(name){attrs[name]=settings[name]}),this.disabled()&&(attrs.disabled="disabled"),settings.subtype&&(attrs.type=settings.subtype),(elm=funcs.create(settings.multiline?"textarea":"input",attrs)).value=this.state.get("value"),elm.className=this.classes,elm.outerHTML},value:function(value){return arguments.length?(this.state.set("value",value),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var self=this;self.getEl().value=self.state.get("value"),self._super(),self.$el.on("change",function(e){self.state.set("value",e.target.value),self.fire("change",e)})},bindStates:function(){var self=this;return self.state.on("change:value",function(e){self.getEl().value!==e.value&&(self.getEl().value=e.value)}),self.state.on("change:disabled",function(e){self.getEl().disabled=e.value}),self._super()},remove:function(){this.$el.off(),this._super()}}),getApi=function(){return{Selector:Selector,Collection:Collection$2,ReflowQueue:$_65ijhgtgjdud7dli,Control:Control$1,Factory:Factory,KeyboardNavigation:KeyboardNavigation,Container:Container,DragHelper:DragHelper,Scrollable:$_aldogvtijdud7dls,Panel:Panel,Movable:$_7vzycqt3jdud7djm,Resizable:$_bqv40jtkjdud7dly,FloatPanel:FloatPanel,Window:Window,MessageBox:MessageBox,Tooltip:Tooltip,Widget:Widget,Progress:Progress,Notification:Notification,Layout:Layout,AbsoluteLayout:AbsoluteLayout,Button:Button,ButtonGroup:ButtonGroup,Checkbox:Checkbox,ComboBox:ComboBox,ColorBox:ColorBox,PanelButton:PanelButton,ColorButton:ColorButton,ColorPicker:ColorPicker,Path:Path,ElementPath:ElementPath,FormItem:FormItem,Form:Form,FieldSet:FieldSet,FilePicker:FilePicker,FitLayout:FitLayout,FlexLayout:FlexLayout,FlowLayout:FlowLayout,FormatControls:$_9bp9q3vhjdud7drv,GridLayout:GridLayout,Iframe:Iframe$1,InfoBox:InfoBox,Label:Label,Toolbar:Toolbar$1,MenuBar:MenuBar,MenuButton:MenuButton,MenuItem:MenuItem,Throbber:Throbber,Menu:Menu,ListBox:ListBox,Radio:Radio,ResizeHandle:ResizeHandle,SelectBox:SelectBox,Slider:Slider,Spacer:Spacer,SplitButton:SplitButton,StackLayout:StackLayout,TabPanel:TabPanel,TextBox:TextBox,DropZone:DropZone,BrowseButton:BrowseButton}},Api_appendTo=function(target){target.ui?Tools.each(getApi(),function(ref,key){target.ui[key]=ref}):target.ui=getApi()};Tools.each(getApi(),function(ref,key){Factory.add(key,ref)}),Api_appendTo(window.tinymce?window.tinymce:{}),ThemeManager.add("modern",function(editor){return $_9bp9q3vhjdud7drv.setup(editor),$_8x7awksbjdud7dha_get(editor)})}()},function(module,exports,__webpack_require__){__webpack_require__(83)},function(module,exports){!function(){"use strict";var Cell=function(initial){var value=initial,get=function(){return value};return{get:get,set:function(v){value=v},clone:function(){return Cell(get())}}},PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),$_2if3kz9zjdud7a32_get=function(visibleState){return{isContextMenuVisible:function(){return visibleState.get()}}},$_n4muwa1jdud7a34_shouldNeverUseNative=function(editor){return editor.settings.contextmenu_never_use_native},$_n4muwa1jdud7a34_getContextMenu=function(editor){return editor.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")},DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),getUiContainer=function(editor){return DOMUtils.DOM.select(editor.settings.ui_container)[0]},nu=function(x,y){return{x:x,y:y}},transpose=function(pos,dx,dy){return nu(pos.x+dx,pos.y+dy)},transposeUiContainer=function(element,pos){if(element&&"static"!==DOMUtils.DOM.getStyle(element,"position",!0)){var containerPos=DOMUtils.DOM.getPos(element),dx=containerPos.x-element.scrollLeft,dy=containerPos.y-element.scrollTop;return transpose(pos,-dx,-dy)}return transpose(pos,0,0)},$_2q3s3ha2jdud7a36_getPos=function(editor,e){if(editor.inline)return transposeUiContainer(getUiContainer(editor),function(e){return nu(e.pageX,e.pageY)}(e));var element,pos,containerPos,iframePos=(element=editor.getContentAreaContainer(),pos=function(e){return nu(e.clientX,e.clientY)}(e),containerPos=DOMUtils.DOM.getPos(element),transpose(pos,containerPos.x,containerPos.y));return transposeUiContainer(getUiContainer(editor),iframePos)},Factory=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),$_dwpdywa5jdud7a39_show=function(editor,pos,visibleState,menu){null===menu.get()?menu.set(function(editor,visibleState){var menu,contextmenu,items=[];contextmenu=$_n4muwa1jdud7a34_getContextMenu(editor),Tools.each(contextmenu.split(/[ ,]/),function(name){var item=editor.menuItems[name];"|"===name&&(item={text:name}),item&&(item.shortcut="",items.push(item))});for(var i=0;i<items.length;i++)"|"===items[i].text&&(0!==i&&i!==items.length-1||items.splice(i,1));return(menu=Factory.create("menu",{items:items,context:"contextmenu",classes:"contextmenu"})).uiContainer=getUiContainer(editor),menu.renderTo(getUiContainer(editor)),menu.on("hide",function(e){e.control===this&&visibleState.set(!1)}),editor.on("remove",function(){menu.remove(),menu=null}),menu}(editor,visibleState)):menu.get().show(),menu.get().moveTo(pos.x,pos.y),visibleState.set(!0)},$_e9w76ha0jdud7a33_setup=function(editor,visibleState,menu){editor.on("contextmenu",function(e){(function(editor,e){return e.ctrlKey&&!$_n4muwa1jdud7a34_shouldNeverUseNative(editor)})(editor,e)||(e.preventDefault(),$_dwpdywa5jdud7a39_show(editor,$_2q3s3ha2jdud7a36_getPos(editor,e),visibleState,menu))})};PluginManager.add("contextmenu",function(editor){var menu=Cell(null),visibleState=Cell(!1);return $_e9w76ha0jdud7a33_setup(editor,visibleState,menu),$_2if3kz9zjdud7a32_get(visibleState)})}()},function(module,exports,__webpack_require__){__webpack_require__(85)},function(module,exports){!function(){"use strict";var Cell=function(initial){var value=initial,get=function(){return value};return{get:get,set:function(v){value=v},clone:function(){return Cell(get())}}},PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),$_ecqxzeh6jdud7b3n_hasProPlugin=function(editor){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins)||!PluginManager.get("powerpaste")||(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},$_e35pevh7jdud7b3p_get=function(clipboard,quirks){return{clipboard:clipboard,quirks:quirks}},$_2jdacbhajdud7b3s_firePastePreProcess=function(editor,html,internal,isWordHtml){return editor.fire("PastePreProcess",{content:html,internal:internal,wordContent:isWordHtml})},$_2jdacbhajdud7b3s_firePastePostProcess=function(editor,node,internal,isWordHtml){return editor.fire("PastePostProcess",{node:node,internal:internal,wordContent:isWordHtml})},$_2jdacbhajdud7b3s_firePastePlainTextToggle=function(editor,state){return editor.fire("PastePlainTextToggle",{state:state})},$_2jdacbhajdud7b3s_firePaste=function(editor,ieFake){return editor.fire("paste",{ieFake:ieFake})},$_azap85hbjdud7b3w={shouldPlainTextInform:function(editor){return editor.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(editor){return editor.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(editor){return editor.getParam("paste_data_images",!1)},shouldFilterDrop:function(editor){return editor.getParam("paste_filter_drop",!0)},getPreProcess:function(editor){return editor.getParam("paste_preprocess")},getPostProcess:function(editor){return editor.getParam("paste_postprocess")},getWebkitStyles:function(editor){return editor.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(editor){return editor.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(editor){return editor.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(editor){return editor.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(editor){return editor.getParam("paste_as_text",!1)},getRetainStyleProps:function(editor){return editor.getParam("paste_retain_style_properties")},getWordValidElements:function(editor){return editor.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(editor){return editor.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(editor){return editor.getParam("paste_enable_default_filters",!0)}},$_52eh4sh9jdud7b3r_togglePlainTextPaste=function(editor,clipboard,userIsInformedState){"text"===clipboard.pasteFormat?(clipboard.pasteFormat="html",$_2jdacbhajdud7b3s_firePastePlainTextToggle(editor,!1)):(clipboard.pasteFormat="text",$_2jdacbhajdud7b3s_firePastePlainTextToggle(editor,!0),function(editor,userIsInformedState){return!1===userIsInformedState.get()&&$_azap85hbjdud7b3w.shouldPlainTextInform(editor)}(editor,userIsInformedState)&&(function(editor,message){editor.notificationManager.open({text:editor.translate(message),type:"info"})}(editor,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),userIsInformedState.set(!0))),editor.focus()},$_bw5us7h8jdud7b3p_register=function(editor,clipboard,userIsInformedState){editor.addCommand("mceTogglePlainTextPaste",function(){$_52eh4sh9jdud7b3r_togglePlainTextPaste(editor,clipboard,userIsInformedState)}),editor.addCommand("mceInsertClipboardContent",function(ui,value){value.content&&clipboard.pasteHtml(value.content,value.internal),value.text&&clipboard.pasteText(value.text)})},Env=tinymce.util.Tools.resolve("tinymce.Env"),Delay=tinymce.util.Tools.resolve("tinymce.util.Delay"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),VK=tinymce.util.Tools.resolve("tinymce.util.VK"),internalMark="\x3c!-- x-tinymce/html --\x3e",$_gdm3qmhijdud7b4m={mark:function(html){return internalMark+html},unmark:function(html){return html.replace(internalMark,"")},isMarked:function(html){return-1!==html.indexOf(internalMark)},internalHtmlMime:function(){return"x-tinymce/html"}},Entities=tinymce.util.Tools.resolve("tinymce.html.Entities"),toBRs=function(text){return text.replace(/\r?\n/g,"<br>")},toBlockElements=function(text,rootTag,rootAttrs){var blocks=text.split(/\n\n/),tagOpen=function(rootTag,rootAttrs){var key,attrs=[],tag="<"+rootTag;if("object"==typeof rootAttrs){for(key in rootAttrs)rootAttrs.hasOwnProperty(key)&&attrs.push(key+'="'+Entities.encodeAllRaw(rootAttrs[key])+'"');attrs.length&&(tag+=" "+attrs.join(" "))}return tag+">"}(rootTag,rootAttrs),tagClose="</"+rootTag+">",paragraphs=Tools.map(blocks,function(p){return p.split(/\n/).join("<br />")});return 1===paragraphs.length?paragraphs[0]:Tools.map(paragraphs,function(p){return tagOpen+p+tagClose}).join("")},$_a2zdzhhjjdud7b4o={isPlainText:function(text){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(text)},convert:function(text,rootTag,rootAttrs){return rootTag?toBlockElements(text,rootTag,rootAttrs):toBRs(text)},toBRs:toBRs,toBlockElements:toBlockElements},DomParser=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Node=tinymce.util.Tools.resolve("tinymce.html.Node"),Schema=tinymce.util.Tools.resolve("tinymce.html.Schema"),Serializer=tinymce.util.Tools.resolve("tinymce.html.Serializer");function filter(content,items){return Tools.each(items,function(v){content=v.constructor===RegExp?content.replace(v,""):content.replace(v[0],v[1])}),content}var $_6v6suqhrjdud7b5b={filter:filter,innerText:function innerText(html){var schema=Schema(),domParser=DomParser({},schema),text="",shortEndedElements=schema.getShortEndedElements(),ignoreElements=Tools.makeMap("script noscript style textarea video audio iframe object"," "),blockElements=schema.getBlockElements();return html=filter(html,[/<!\[[^\]]+\]>/g]),function walk(node){var name=node.name,currentNode=node;if("br"!==name)if(shortEndedElements[name]&&(text+=" "),ignoreElements[name])text+=" ";else{if(3===node.type&&(text+=node.value),!node.shortEnded&&(node=node.firstChild))for(;walk(node),node=node.next;);blockElements[name]&&currentNode.next&&(text+="\n","p"===name&&(text+="\n"))}else text+="\n"}(domParser.parse(html)),text},trimHtml:function trimHtml(html){return html=filter(html,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function trimSpaces(all,s1,s2){return s1||s2?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function createIdGenerator(prefix){var count=0;return function(){return prefix+count++}},isMsEdge:function(){return-1!==navigator.userAgent.indexOf(" Edge/")}};function isNumericList(text){var found,patterns;return patterns=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],text=text.replace(/^[\u00a0 ]+/,""),Tools.each(patterns,function(pattern){if(pattern.test(text))return found=!0,!1}),found}function convertFakeListsToProperLists(node){var currentListNode,prevListNode,lastLevel=1;function getText(node){var txt="";if(3===node.type)return node.value;if(node=node.firstChild)for(;txt+=getText(node),node=node.next;);return txt}function trimListStart(node,regExp){if(3===node.type&&regExp.test(node.value))return node.value=node.value.replace(regExp,""),!1;if(node=node.firstChild)do{if(!trimListStart(node,regExp))return!1}while(node=node.next);return!0}function convertParagraphToLi(paragraphNode,listName,start){var level=paragraphNode._listLevel||lastLevel;level!==lastLevel&&(level<lastLevel?currentListNode&&(currentListNode=currentListNode.parent.parent):(prevListNode=currentListNode,currentListNode=null)),currentListNode&&currentListNode.name===listName?currentListNode.append(paragraphNode):(prevListNode=prevListNode||currentListNode,currentListNode=new Node(listName,1),1<start&&currentListNode.attr("start",""+start),paragraphNode.wrap(currentListNode)),paragraphNode.name="li",lastLevel<level&&prevListNode&&prevListNode.lastChild.append(currentListNode),lastLevel=level,function removeIgnoredNodes(node){if(node._listIgnore)node.remove();else if(node=node.firstChild)for(;removeIgnoredNodes(node),node=node.next;);}(paragraphNode),trimListStart(paragraphNode,/^\u00a0+/),trimListStart(paragraphNode,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),trimListStart(paragraphNode,/^\u00a0+/)}for(var elements=[],child=node.firstChild;null!=child;)if(elements.push(child),null!==(child=child.walk()))for(;void 0!==child&&child.parent!==node;)child=child.walk();for(var i=0;i<elements.length;i++)if("p"===(node=elements[i]).name&&node.firstChild){var nodeText=getText(node);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(nodeText)){convertParagraphToLi(node,"ul");continue}if(isNumericList(nodeText)){var matches=/([0-9]+)\./.exec(nodeText),start=1;matches&&(start=parseInt(matches[1],10)),convertParagraphToLi(node,"ol",start);continue}if(node._listLevel){convertParagraphToLi(node,"ul",1);continue}currentListNode=null}else prevListNode=currentListNode,currentListNode=null}function filterStyles(editor,validStyles,node,styleValue){var matches,outputStyles={},styles=editor.dom.parseStyle(styleValue);return Tools.each(styles,function(value,name){switch(name){case"mso-list":(matches=/\w+ \w+([0-9]+)/i.exec(styleValue))&&(node._listLevel=parseInt(matches[1],10)),/Ignore/i.test(value)&&node.firstChild&&(node._listIgnore=!0,node.firstChild._listIgnore=!0);break;case"horiz-align":name="text-align";break;case"vert-align":name="vertical-align";break;case"font-color":case"mso-foreground":name="color";break;case"mso-background":case"mso-highlight":name="background";break;case"font-weight":case"font-style":return void("normal"!==value&&(outputStyles[name]=value));case"mso-element":if(/^(comment|comment-list)$/i.test(value))return void node.remove()}0!==name.indexOf("mso-comment")?0!==name.indexOf("mso-")&&("all"===$_azap85hbjdud7b3w.getRetainStyleProps(editor)||validStyles&&validStyles[name])&&(outputStyles[name]=value):node.remove()}),/(bold)/i.test(outputStyles["font-weight"])&&(delete outputStyles["font-weight"],node.wrap(new Node("b",1))),/(italic)/i.test(outputStyles["font-style"])&&(delete outputStyles["font-style"],node.wrap(new Node("i",1))),(outputStyles=editor.dom.serializeStyle(outputStyles,node.name))||null}var $_bysflqhmjdud7b51={preProcess:function(editor,content){return $_azap85hbjdud7b3w.shouldUseDefaultFilters(editor)?function(editor,content){var retainStyleProperties,validStyles;(retainStyleProperties=$_azap85hbjdud7b3w.getRetainStyleProps(editor))&&(validStyles=Tools.makeMap(retainStyleProperties.split(/[, ]/))),content=$_6v6suqhrjdud7b5b.filter(content,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(str,spaces){return 0<spaces.length?spaces.replace(/./," ").slice(Math.floor(spaces.length/2)).split("").join("\xa0"):""}]]);var validElements=$_azap85hbjdud7b3w.getWordValidElements(editor),schema=Schema({valid_elements:validElements,valid_children:"-li[p]"});Tools.each(schema.elements,function(rule){rule.attributes.class||(rule.attributes.class={},rule.attributesOrder.push("class")),rule.attributes.style||(rule.attributes.style={},rule.attributesOrder.push("style"))});var domParser=DomParser({},schema);domParser.addAttributeFilter("style",function(nodes){for(var node,i=nodes.length;i--;)(node=nodes[i]).attr("style",filterStyles(editor,validStyles,node,node.attr("style"))),"span"===node.name&&node.parent&&!node.attributes.length&&node.unwrap()}),domParser.addAttributeFilter("class",function(nodes){for(var node,className,i=nodes.length;i--;)className=(node=nodes[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)&&node.remove(),node.attr("class",null)}),domParser.addNodeFilter("del",function(nodes){for(var i=nodes.length;i--;)nodes[i].remove()}),domParser.addNodeFilter("a",function(nodes){for(var node,href,name,i=nodes.length;i--;)if(href=(node=nodes[i]).attr("href"),name=node.attr("name"),href&&-1!==href.indexOf("#_msocom_"))node.remove();else if(href&&0===href.indexOf("file://")&&(href=href.split("#")[1])&&(href="#"+href),href||name){if(name&&!/^_?(?:toc|edn|ftn)/i.test(name)){node.unwrap();continue}node.attr({href:href,name:name})}else node.unwrap()});var rootNode=domParser.parse(content);return $_azap85hbjdud7b3w.shouldConvertWordFakeLists(editor)&&convertFakeListsToProperLists(rootNode),content=Serializer({validate:editor.settings.validate},schema).serialize(rootNode)}(editor,content):content},isWordContent:function isWordContent(content){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(content)||/class="OutlineElement/.test(content)||/id="?docs\-internal\-guid\-/.test(content)}},processResult=function(content,cancelled){return{content:content,cancelled:cancelled}},filterContent=function(editor,content,internal,isWordHtml){var preProcessArgs=$_2jdacbhajdud7b3s_firePastePreProcess(editor,content,internal,isWordHtml);return editor.hasEventListeners("PastePostProcess")&&!preProcessArgs.isDefaultPrevented()?function(editor,html,internal,isWordHtml){var tempBody=editor.dom.create("div",{style:"display:none"},html),postProcessArgs=$_2jdacbhajdud7b3s_firePastePostProcess(editor,tempBody,internal,isWordHtml);return processResult(postProcessArgs.node.innerHTML,postProcessArgs.isDefaultPrevented())}(editor,preProcessArgs.content,internal,isWordHtml):processResult(preProcessArgs.content,preProcessArgs.isDefaultPrevented())},$_3gqc5bhljdud7b4y_process=function(editor,html,internal){var isWordHtml=$_bysflqhmjdud7b51.isWordContent(html),content=isWordHtml?$_bysflqhmjdud7b51.preProcess(editor,html):html;return filterContent(editor,content,internal,isWordHtml)},pasteHtml=function(editor,html){return editor.insertContent(html,{merge:$_azap85hbjdud7b3w.shouldMergeFormats(editor),paste:!0}),!0},isAbsoluteUrl=function(url){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(url)},isImageUrl=function(url){return isAbsoluteUrl(url)&&/.(gif|jpe?g|png)$/.test(url)},linkSelection=function(editor,html,pasteHtmlFn){return!(!1!==editor.selection.isCollapsed()||!isAbsoluteUrl(html))&&function(editor,url,pasteHtmlFn){return editor.undoManager.extra(function(){pasteHtmlFn(editor,url)},function(){editor.execCommand("mceInsertLink",!1,url)}),!0}(editor,html,pasteHtmlFn)},insertImage=function(editor,html,pasteHtmlFn){return!!isImageUrl(html)&&function(editor,url,pasteHtmlFn){return editor.undoManager.extra(function(){pasteHtmlFn(editor,url)},function(){editor.insertContent('<img src="'+url+'">')}),!0}(editor,html,pasteHtmlFn)},$_f5ymxlhsjdud7b5d_insertContent=function(editor,html){!1===$_azap85hbjdud7b3w.isSmartPasteEnabled(editor)?pasteHtml(editor,html):function(editor,html){Tools.each([linkSelection,insertImage,pasteHtml],function(action){return!0!==action(editor,html,pasteHtml)})}(editor,html)},pasteHtml$1=function(editor,html,internalFlag){var internal=internalFlag||$_gdm3qmhijdud7b4m.isMarked(html),args=$_3gqc5bhljdud7b4y_process(editor,$_gdm3qmhijdud7b4m.unmark(html),internal);!1===args.cancelled&&$_f5ymxlhsjdud7b5d_insertContent(editor,args.content)},pasteText=function(editor,text){text=editor.dom.encode(text).replace(/\r\n/g,"\n"),text=$_a2zdzhhjjdud7b4o.convert(text,editor.settings.forced_root_block,editor.settings.forced_root_block_attrs),pasteHtml$1(editor,text,!1)},getDataTransferItems=function(dataTransfer){var items={};if(dataTransfer){if(dataTransfer.getData){var legacyText=dataTransfer.getData("Text");legacyText&&0<legacyText.length&&-1===legacyText.indexOf("data:text/mce-internal,")&&(items["text/plain"]=legacyText)}if(dataTransfer.types)for(var i=0;i<dataTransfer.types.length;i++){var contentType=dataTransfer.types[i];try{items[contentType]=dataTransfer.getData(contentType)}catch(ex){items[contentType]=""}}}return items},hasContentType=function(clipboardContent,mimeType){return mimeType in clipboardContent&&0<clipboardContent[mimeType].length},hasHtmlOrText=function(content){return hasContentType(content,"text/html")||hasContentType(content,"text/plain")},pasteImage=function(editor,rng,reader,blob){var uniqueId=$_6v6suqhrjdud7b5b.createIdGenerator("mceclip");rng&&(editor.selection.setRng(rng),rng=null);var uri,idx,settings,imgElm,dataUri=reader.result,base64=-1!==(idx=(uri=dataUri).indexOf(","))?uri.substr(idx+1):null,id=uniqueId(),name=editor.settings.images_reuse_filename&&blob.name?function(editor,str){var m=str.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return m?editor.dom.encode(m[1]):null}(editor,blob.name):id,img=new Image;if(img.src=dataUri,settings=editor.settings,imgElm=img,!settings.images_dataimg_filter||settings.images_dataimg_filter(imgElm)){var existingBlobInfo,blobCache=editor.editorUpload.blobCache,blobInfo=void 0;(existingBlobInfo=blobCache.findFirst(function(cachedBlobInfo){return cachedBlobInfo.base64()===base64}))?blobInfo=existingBlobInfo:(blobInfo=blobCache.create(id,blob,base64,name),blobCache.add(blobInfo)),pasteHtml$1(editor,'<img src="'+blobInfo.blobUri()+'">',!1)}else pasteHtml$1(editor,'<img src="'+dataUri+'">',!1)},pasteImageData=function(editor,e,rng){var dataTransfer="paste"===e.type?e.clipboardData:e.dataTransfer;function processItems(items){var i,item,reader,hadImage=!1;if(items)for(i=0;i<items.length;i++)if(item=items[i],/^image\/(jpeg|png|gif|bmp)$/.test(item.type)){var blob=item.getAsFile?item.getAsFile():item;(reader=new window.FileReader).onload=pasteImage.bind(null,editor,rng,reader,blob),reader.readAsDataURL(blob),e.preventDefault(),hadImage=!0}return hadImage}if(editor.settings.paste_data_images&&dataTransfer)return processItems(dataTransfer.items)||processItems(dataTransfer.files)},isKeyboardPasteEvent=function(e){return VK.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},registerEventHandlers=function(editor,pasteBin,pasteFormat){var keyboardPastePlainTextState,keyboardPasteTimeStamp=0;function insertClipboardContent(clipboardContent,isKeyBoardPaste,plainTextMode,internal){var content,isPlainTextHtml;hasContentType(clipboardContent,"text/html")?content=clipboardContent["text/html"]:(content=pasteBin.getHtml(),internal=internal||$_gdm3qmhijdud7b4m.isMarked(content),pasteBin.isDefaultContent(content)&&(plainTextMode=!0)),content=$_6v6suqhrjdud7b5b.trimHtml(content),pasteBin.remove(),isPlainTextHtml=!1===internal&&$_a2zdzhhjjdud7b4o.isPlainText(content),content.length&&!isPlainTextHtml||(plainTextMode=!0),plainTextMode&&(content=hasContentType(clipboardContent,"text/plain")&&isPlainTextHtml?clipboardContent["text/plain"]:$_6v6suqhrjdud7b5b.innerText(content)),pasteBin.isDefaultContent(content)?isKeyBoardPaste||editor.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):plainTextMode?pasteText(editor,content):pasteHtml$1(editor,content,internal)}editor.on("keydown",function(e){function removePasteBinOnKeyUp(e){isKeyboardPasteEvent(e)&&!e.isDefaultPrevented()&&pasteBin.remove()}if(isKeyboardPasteEvent(e)&&!e.isDefaultPrevented()){if((keyboardPastePlainTextState=e.shiftKey&&86===e.keyCode)&&Env.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),keyboardPasteTimeStamp=(new Date).getTime(),Env.ie&&keyboardPastePlainTextState)return e.preventDefault(),void $_2jdacbhajdud7b3s_firePaste(editor,!0);pasteBin.remove(),pasteBin.create(),editor.once("keyup",removePasteBinOnKeyUp),editor.once("paste",function(){editor.off("keyup",removePasteBinOnKeyUp)})}}),editor.on("paste",function(e){var clipboardTimer=(new Date).getTime(),clipboardContent=function(editor,clipboardEvent){var content=getDataTransferItems(clipboardEvent.clipboardData||editor.getDoc().dataTransfer);return $_6v6suqhrjdud7b5b.isMsEdge()?Tools.extend(content,{"text/html":""}):content}(editor,e),clipboardDelay=(new Date).getTime()-clipboardTimer,isKeyBoardPaste=(new Date).getTime()-keyboardPasteTimeStamp-clipboardDelay<1e3,plainTextMode="text"===pasteFormat||keyboardPastePlainTextState,internal=hasContentType(clipboardContent,$_gdm3qmhijdud7b4m.internalHtmlMime());keyboardPastePlainTextState=!1,e.isDefaultPrevented()||function(e){var clipboardData=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&clipboardData&&clipboardData.items&&0===clipboardData.items.length}(e)?pasteBin.remove():hasHtmlOrText(clipboardContent)||!pasteImageData(editor,e,pasteBin.getLastRng()||editor.selection.getRng())?(isKeyBoardPaste||e.preventDefault(),!Env.ie||isKeyBoardPaste&&!e.ieFake||hasContentType(clipboardContent,"text/html")||(pasteBin.create(),editor.dom.bind(pasteBin.getEl(),"paste",function(e){e.stopPropagation()}),editor.getDoc().execCommand("Paste",!1,null),clipboardContent["text/html"]=pasteBin.getHtml()),hasContentType(clipboardContent,"text/html")?(e.preventDefault(),internal||(internal=$_gdm3qmhijdud7b4m.isMarked(clipboardContent["text/html"])),insertClipboardContent(clipboardContent,isKeyBoardPaste,plainTextMode,internal)):Delay.setEditorTimeout(editor,function(){insertClipboardContent(clipboardContent,isKeyBoardPaste,plainTextMode,internal)},0)):pasteBin.remove()})},getEl=function(editor){return editor.dom.get("mcepastebin")},isDefaultContent=function(pasteBinDefaultContent,content){return content===pasteBinDefaultContent},PasteBin=function(editor){var lastRng=Cell(null);return{create:function(){return function(editor,lastRngCell,pasteBinDefaultContent){var pasteBinElm,scrollContainer,dom=editor.dom,body=editor.getBody(),scrollTop=editor.dom.getViewPort(editor.getWin()).y,top=20;lastRngCell.set(editor.selection.getRng());var lastRng=lastRngCell.get();if(editor.inline&&(scrollContainer=editor.selection.getScrollContainer())&&0<scrollContainer.scrollTop&&(scrollTop=scrollContainer.scrollTop),lastRng.getClientRects){var rect=function getCaretRect(rng){var rects,textNode,node,container=rng.startContainer;if((rects=rng.getClientRects()).length)return rects[0];if(rng.collapsed&&1===container.nodeType){for(node=container.childNodes[lastRng.startOffset];node&&3===node.nodeType&&!node.data.length;)node=node.nextSibling;if(node)return"BR"===node.tagName&&(textNode=dom.doc.createTextNode("\ufeff"),node.parentNode.insertBefore(textNode,node),(rng=dom.createRng()).setStartBefore(textNode),rng.setEndAfter(textNode),rects=rng.getClientRects(),dom.remove(textNode)),rects.length?rects[0]:void 0}}(lastRng);if(rect)top=scrollTop+(rect.top-dom.getPos(body).y);else{top=scrollTop;var container=lastRng.startContainer;container&&(3===container.nodeType&&container.parentNode!==body&&(container=container.parentNode),1===container.nodeType&&(top=dom.getPos(container,scrollContainer||body).y))}}pasteBinElm=editor.dom.add(editor.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+top+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},pasteBinDefaultContent),(Env.ie||Env.gecko)&&dom.setStyle(pasteBinElm,"left","rtl"===dom.getStyle(body,"direction",!0)?65535:-65535),dom.bind(pasteBinElm,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),pasteBinElm.focus(),editor.selection.select(pasteBinElm,!0)}(editor,lastRng,"%MCEPASTEBIN%")},remove:function(){return function(editor,lastRngCell){if(getEl(editor)){for(var pasteBinClone=void 0,lastRng=lastRngCell.get();pasteBinClone=editor.dom.get("mcepastebin");)editor.dom.remove(pasteBinClone),editor.dom.unbind(pasteBinClone);lastRng&&editor.selection.setRng(lastRng)}lastRngCell.set(null)}(editor,lastRng)},getEl:function(){return getEl(editor)},getHtml:function(){return function(editor){var pasteBinElm,pasteBinClones,i,dirtyWrappers,cleanWrapper,copyAndRemove=function(toElm,fromElm){toElm.appendChild(fromElm),editor.dom.remove(fromElm,!0)};for(pasteBinClones=Tools.grep(editor.getBody().childNodes,function(elm){return"mcepastebin"===elm.id}),pasteBinElm=pasteBinClones.shift(),Tools.each(pasteBinClones,function(pasteBinClone){copyAndRemove(pasteBinElm,pasteBinClone)}),i=(dirtyWrappers=editor.dom.select("div[id=mcepastebin]",pasteBinElm)).length-1;0<=i;i--)cleanWrapper=editor.dom.create("div"),pasteBinElm.insertBefore(cleanWrapper,dirtyWrappers[i]),copyAndRemove(cleanWrapper,dirtyWrappers[i]);return pasteBinElm?pasteBinElm.innerHTML:""}(editor)},getLastRng:function(){return function(lastRng){return lastRng.get()}(lastRng)},isDefault:function(){return function(editor,pasteBinDefaultContent){var elm,pasteBinElm=getEl(editor);return(elm=pasteBinElm)&&"mcepastebin"===elm.id&&isDefaultContent(pasteBinDefaultContent,pasteBinElm.innerHTML)}(editor,"%MCEPASTEBIN%")},isDefaultContent:function(content){return isDefaultContent("%MCEPASTEBIN%",content)}}},Clipboard=function(editor){var pasteBin=PasteBin(editor),pasteFormat=$_azap85hbjdud7b3w.isPasteAsTextEnabled(editor)?"text":"html";return editor.on("preInit",function(){return function(editor,pasteBin,pasteFormat){var src;registerEventHandlers(editor,pasteBin,pasteFormat),editor.parser.addNodeFilter("img",function(nodes,name,args){var remove=function(node){node.attr("data-mce-object")||src===Env.transparentSrc||node.remove()},isWebKitFakeUrl=function(src){return 0===src.indexOf("webkit-fake-url")},isDataUri=function(src){return 0===src.indexOf("data:")};if(!editor.settings.paste_data_images&&function(args){return args.data&&!0===args.data.paste}(args))for(var i=nodes.length;i--;)(src=nodes[i].attributes.map.src)&&(isWebKitFakeUrl(src)?remove(nodes[i]):!editor.settings.allow_html_data_urls&&isDataUri(src)&&remove(nodes[i]))})}(editor,pasteBin,pasteFormat)}),{pasteFormat:pasteFormat,pasteHtml:function(html,internalFlag){return pasteHtml$1(editor,html,internalFlag)},pasteText:function(text){return pasteText(editor,text)},pasteImageData:function(e,rng){return pasteImageData(editor,e,rng)},getDataTransferItems:getDataTransferItems,hasHtmlOrText:hasHtmlOrText,hasContentType:hasContentType}},noop=function(){},setHtml5Clipboard=function(clipboardData,html,text){if(!function(clipboardData){return!1===Env.iOS&&void 0!==clipboardData&&"function"==typeof clipboardData.setData&&!0!==$_6v6suqhrjdud7b5b.isMsEdge()}(clipboardData))return!1;try{return clipboardData.clearData(),clipboardData.setData("text/html",html),clipboardData.setData("text/plain",text),clipboardData.setData($_gdm3qmhijdud7b4m.internalHtmlMime(),html),!0}catch(e){return!1}},setClipboardData=function(evt,data,fallback,done){setHtml5Clipboard(evt.clipboardData,data.html,data.text)?(evt.preventDefault(),done()):fallback(data.html,done)},fallback=function(editor){return function(html,done){var markedHtml=$_gdm3qmhijdud7b4m.mark(html),outer=editor.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),inner=editor.dom.create("div",{contenteditable:"true"},markedHtml);editor.dom.setStyles(outer,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),outer.appendChild(inner),editor.dom.add(editor.getBody(),outer);var range=editor.selection.getRng();inner.focus();var offscreenRange=editor.dom.createRng();offscreenRange.selectNodeContents(inner),editor.selection.setRng(offscreenRange),setTimeout(function(){editor.selection.setRng(range),outer.parentNode.removeChild(outer),done()},0)}},getData=function(editor){return{html:editor.selection.getContent({contextual:!0}),text:editor.selection.getContent({format:"text"})}},$_6l0yrkhujdud7b5r_register=function(editor){editor.on("cut",function(editor){return function(evt){!1===editor.selection.isCollapsed()&&setClipboardData(evt,getData(editor),fallback(editor),function(){setTimeout(function(){editor.execCommand("Delete")},0)})}}(editor)),editor.on("copy",function(editor){return function(evt){!1===editor.selection.isCollapsed()&&setClipboardData(evt,getData(editor),fallback(editor),noop)}}(editor))},RangeUtils=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),getCaretRangeFromEvent=function(editor,e){return RangeUtils.getCaretRangeFromPoint(e.clientX,e.clientY,editor.getDoc())},setFocusedRange=function(editor,rng){editor.focus(),editor.selection.setRng(rng)},$_x24w1hvjdud7b5u_setup=function(editor,clipboard,draggingInternallyState){$_azap85hbjdud7b3w.shouldBlockDrop(editor)&&editor.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),$_azap85hbjdud7b3w.shouldPasteDataImages(editor)||editor.on("drop",function(e){var dataTransfer=e.dataTransfer;dataTransfer&&dataTransfer.files&&0<dataTransfer.files.length&&e.preventDefault()}),editor.on("drop",function(e){var dropContent,rng;if(rng=getCaretRangeFromEvent(editor,e),!e.isDefaultPrevented()&&!draggingInternallyState.get()){dropContent=clipboard.getDataTransferItems(e.dataTransfer);var plainTextContent,internal=clipboard.hasContentType(dropContent,$_gdm3qmhijdud7b4m.internalHtmlMime());if((clipboard.hasHtmlOrText(dropContent)&&(!(plainTextContent=dropContent["text/plain"])||0!==plainTextContent.indexOf("file://"))||!clipboard.pasteImageData(e,rng))&&rng&&$_azap85hbjdud7b3w.shouldFilterDrop(editor)){var content_1=dropContent["mce-internal"]||dropContent["text/html"]||dropContent["text/plain"];content_1&&(e.preventDefault(),Delay.setEditorTimeout(editor,function(){editor.undoManager.transact(function(){dropContent["mce-internal"]&&editor.execCommand("Delete"),setFocusedRange(editor,rng),content_1=$_6v6suqhrjdud7b5b.trimHtml(content_1),dropContent["text/html"]?clipboard.pasteHtml(content_1,internal):clipboard.pasteText(content_1)})}))}}}),editor.on("dragstart",function(e){draggingInternallyState.set(!0)}),editor.on("dragover dragend",function(e){$_azap85hbjdud7b3w.shouldPasteDataImages(editor)&&!1===draggingInternallyState.get()&&(e.preventDefault(),setFocusedRange(editor,getCaretRangeFromEvent(editor,e))),"dragend"===e.type&&draggingInternallyState.set(!1)})},$_ckgir0hxjdud7b5x_setup=function(editor){var plugin=editor.plugins.paste,preProcess=$_azap85hbjdud7b3w.getPreProcess(editor);preProcess&&editor.on("PastePreProcess",function(e){preProcess.call(plugin,plugin,e)});var postProcess=$_azap85hbjdud7b3w.getPostProcess(editor);postProcess&&editor.on("PastePostProcess",function(e){postProcess.call(plugin,plugin,e)})};function addPreProcessFilter(editor,filterFunc){editor.on("PastePreProcess",function(e){e.content=filterFunc(editor,e.content,e.internal,e.wordContent)})}function removeExplorerBrElementsAfterBlocks(editor,html){if(!$_bysflqhmjdud7b51.isWordContent(html))return html;var blockElements=[];Tools.each(editor.schema.getBlockElements(),function(block,blockName){blockElements.push(blockName)});var explorerBlocksRegExp=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+blockElements.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return html=$_6v6suqhrjdud7b5b.filter(html,[[explorerBlocksRegExp,"$1"]]),html=$_6v6suqhrjdud7b5b.filter(html,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function removeWebKitStyles(editor,content,internal,isWordHtml){if(isWordHtml||internal)return content;var webKitStyles,webKitStylesSetting=$_azap85hbjdud7b3w.getWebkitStyles(editor);if(!1===$_azap85hbjdud7b3w.shouldRemoveWebKitStyles(editor)||"all"===webKitStylesSetting)return content;if(webKitStylesSetting&&(webKitStyles=webKitStylesSetting.split(/[, ]/)),webKitStyles){var dom_1=editor.dom,node_1=editor.selection.getNode();content=content.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(all,before,value,after){var inputStyles=dom_1.parseStyle(dom_1.decode(value),"span"),outputStyles={};if("none"===webKitStyles)return before+after;for(var i=0;i<webKitStyles.length;i++){var inputValue=inputStyles[webKitStyles[i]],currentValue=dom_1.getStyle(node_1,webKitStyles[i],!0);/color/.test(webKitStyles[i])&&(inputValue=dom_1.toHex(inputValue),currentValue=dom_1.toHex(currentValue)),currentValue!==inputValue&&(outputStyles[webKitStyles[i]]=inputValue)}return(outputStyles=dom_1.serializeStyle(outputStyles,"span"))?before+' style="'+outputStyles+'"'+after:before+after})}else content=content.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return content=content.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(all,before,value,after){return before+' style="'+value+'"'+after})}function removeUnderlineAndFontInAnchor(editor,root){editor.$("a",root).find("font,u").each(function(i,node){editor.dom.remove(node,!0)})}var $_g71rxwhyjdud7b5z_setup=function(editor){Env.webkit&&addPreProcessFilter(editor,removeWebKitStyles),Env.ie&&(addPreProcessFilter(editor,removeExplorerBrElementsAfterBlocks),function addPostProcessFilter(editor,filterFunc){editor.on("PastePostProcess",function(e){filterFunc(editor,e.node)})}(editor,removeUnderlineAndFontInAnchor))},constant=function(value){return function(){return value}},$_3m2ldi0jdud7b65_curry=(constant(!1),constant(!0),function(f){for(var args=new Array(arguments.length-1),i=1;i<arguments.length;i++)args[i-1]=arguments[i];return function(){for(var newArgs=new Array(arguments.length),j=0;j<newArgs.length;j++)newArgs[j]=arguments[j];var all=args.concat(newArgs);return f.apply(null,all)}}),stateChange=function(editor,clipboard,e){var ctrl=e.control;ctrl.active("text"===clipboard.pasteFormat),editor.on("PastePlainTextToggle",function(e){ctrl.active(e.state)})},$_tvjlfhzjdud7b62_register=function(editor,clipboard){var postRender=$_3m2ldi0jdud7b65_curry(stateChange,editor,clipboard);editor.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:postRender}),editor.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:clipboard.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:postRender})},userIsInformedState=Cell(!1);PluginManager.add("paste",function(editor){if(!1===$_ecqxzeh6jdud7b3n_hasProPlugin(editor)){var clipboard=Clipboard(editor),quirks=$_g71rxwhyjdud7b5z_setup(editor),draggingInternallyState=Cell(!1);return $_tvjlfhzjdud7b62_register(editor,clipboard),$_bw5us7h8jdud7b3p_register(editor,clipboard,userIsInformedState),$_ckgir0hxjdud7b5x_setup(editor),$_6l0yrkhujdud7b5r_register(editor),$_x24w1hvjdud7b5u_setup(editor,clipboard,draggingInternallyState),$_e35pevh7jdud7b3p_get(clipboard,quirks)}})}()},function(module,exports,__webpack_require__){__webpack_require__(87)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),VK=tinymce.util.Tools.resolve("tinymce.util.VK"),getTargetList=function(editorSettings){return editorSettings.target_list},getRelList=function(editorSettings){return editorSettings.rel_list},getLinkClassList=function(editorSettings){return editorSettings.link_class_list},$_d1kmhxeojdud7asw_assumeExternalTargets=function(editorSettings){return"boolean"==typeof editorSettings.link_assume_external_targets&&editorSettings.link_assume_external_targets},$_d1kmhxeojdud7asw_hasContextToolbar=function(editorSettings){return"boolean"==typeof editorSettings.link_context_toolbar&&editorSettings.link_context_toolbar},$_d1kmhxeojdud7asw_getLinkList=function(editorSettings){return editorSettings.link_list},$_d1kmhxeojdud7asw_hasDefaultLinkTarget=function(editorSettings){return"string"==typeof editorSettings.default_link_target},$_d1kmhxeojdud7asw_getDefaultLinkTarget=function(editorSettings){return editorSettings.default_link_target},$_d1kmhxeojdud7asw_getTargetList=getTargetList,$_d1kmhxeojdud7asw_setTargetList=function(editor,list){editor.settings.target_list=list},$_d1kmhxeojdud7asw_shouldShowTargetList=function(editorSettings){return!1!==getTargetList(editorSettings)},$_d1kmhxeojdud7asw_getRelList=getRelList,$_d1kmhxeojdud7asw_hasRelList=function(editorSettings){return void 0!==getRelList(editorSettings)},$_d1kmhxeojdud7asw_getLinkClassList=getLinkClassList,$_d1kmhxeojdud7asw_hasLinkClassList=function(editorSettings){return void 0!==getLinkClassList(editorSettings)},$_d1kmhxeojdud7asw_shouldShowLinkTitle=function(editorSettings){return!1!==editorSettings.link_title},$_d1kmhxeojdud7asw_allowUnsafeLinkTarget=function(editorSettings){return"boolean"==typeof editorSettings.allow_unsafe_link_target&&editorSettings.allow_unsafe_link_target},DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Env=tinymce.util.Tools.resolve("tinymce.Env"),$_2nh7hzepjdud7asy_open=function(url){if(!Env.ie||10<Env.ie){var link=document.createElement("a");link.target="_blank",link.href=url,link.rel="noreferrer noopener";var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(link,evt){document.body.appendChild(link),link.dispatchEvent(evt),document.body.removeChild(link)}(link,evt)}else{var win=window.open("","_blank");if(win){win.opener=null;var doc=win.document;doc.open(),doc.write('<meta http-equiv="refresh" content="0; url='+DOMUtils.DOM.encode(url)+'">'),doc.close()}}},Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),toggleTargetRules=function(rel,isUnsafe){var rules=["noopener"],newRel=rel?rel.split(/\s+/):[],removeTargetRules=function(rel){return rel.filter(function(val){return-1===Tools.inArray(rules,val)})};return(newRel=isUnsafe?function(rel){return(rel=removeTargetRules(rel)).length?rel.concat(rules):rules}(newRel):removeTargetRules(newRel)).length?function(rel){return Tools.trim(rel.sort().join(" "))}(newRel):null},getAnchorElement=function(editor,selectedElm){return selectedElm=selectedElm||editor.selection.getNode(),isImageFigure(selectedElm)?editor.dom.select("a[href]",selectedElm)[0]:editor.dom.getParent(selectedElm,"a[href]")},isLink=function(elm){return elm&&"A"===elm.nodeName&&elm.href},isImageFigure=function(node){return node&&"FIGURE"===node.nodeName&&/\bimage\b/i.test(node.className)},unlinkImageFigure=function(editor,fig){var a,img;(img=editor.dom.select("img",fig)[0])&&(a=editor.dom.getParents(img,"a[href]",fig)[0])&&(a.parentNode.insertBefore(img,a),editor.dom.remove(a))},linkImageFigure=function(editor,fig,attrs){var a,img;(img=editor.dom.select("img",fig)[0])&&(a=editor.dom.create("a",attrs),img.parentNode.insertBefore(a,img),a.appendChild(img))},$_8poiolesjdud7at1_link=function(editor,attachState){return function(data){editor.undoManager.transact(function(){var selectedElm=editor.selection.getNode(),anchorElm=getAnchorElement(editor,selectedElm),linkAttrs={href:data.href,target:data.target?data.target:null,rel:data.rel?data.rel:null,class:data.class?data.class:null,title:data.title?data.title:null};$_d1kmhxeojdud7asw_hasRelList(editor.settings)||!1!==$_d1kmhxeojdud7asw_allowUnsafeLinkTarget(editor.settings)||(linkAttrs.rel=toggleTargetRules(linkAttrs.rel,"_blank"===linkAttrs.target)),data.href===attachState.href&&(attachState.attach(),attachState={}),anchorElm?(editor.focus(),data.hasOwnProperty("text")&&("innerText"in anchorElm?anchorElm.innerText=data.text:anchorElm.textContent=data.text),editor.dom.setAttribs(anchorElm,linkAttrs),editor.selection.select(anchorElm),editor.undoManager.add()):isImageFigure(selectedElm)?linkImageFigure(editor,selectedElm,linkAttrs):data.hasOwnProperty("text")?editor.insertContent(editor.dom.createHTML("a",linkAttrs,editor.dom.encode(data.text))):editor.execCommand("mceInsertLink",!1,linkAttrs)})}},$_8poiolesjdud7at1_unlink=function(editor){return function(){editor.undoManager.transact(function(){var node=editor.selection.getNode();isImageFigure(node)?unlinkImageFigure(editor,node):editor.execCommand("unlink")})}},$_8poiolesjdud7at1_isLink=isLink,$_8poiolesjdud7at1_hasLinks=function(elements){return 0<Tools.grep(elements,isLink).length},$_8poiolesjdud7at1_isOnlyTextSelected=function(html){return!(/</.test(html)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(html)||-1===html.indexOf("href=")))},$_8poiolesjdud7at1_getAnchorElement=getAnchorElement,$_8poiolesjdud7at1_getAnchorText=function(selection,anchorElm){return function(text){return text.replace(/\uFEFF/g,"")}(anchorElm?anchorElm.innerText||anchorElm.textContent:selection.getContent({format:"text"}))},$_8poiolesjdud7at1_toggleTargetRules=toggleTargetRules,Delay=tinymce.util.Tools.resolve("tinymce.util.Delay"),XHR=tinymce.util.Tools.resolve("tinymce.util.XHR"),attachState={},buildListItems=function(inputList,itemCallback,startItems){var appendItems=function(values,output){return output=output||[],Tools.each(values,function(item){var menuItem={text:item.text||item.title};item.menu?menuItem.menu=appendItems(item.menu):(menuItem.value=item.value,itemCallback&&itemCallback(menuItem)),output.push(menuItem)}),output};return appendItems(inputList,startItems||[])},delayedConfirm=function(editor,message,callback){var rng=editor.selection.getRng();Delay.setEditorTimeout(editor,function(){editor.windowManager.confirm(message,function(state){editor.selection.setRng(rng),callback(state)})})},showDialog=function(editor,linkList){var anchorElm,initialText,win,onlyText,textListCtrl,linkListCtrl,relListCtrl,targetListCtrl,classListCtrl,linkTitleCtrl,value,data={},selection=editor.selection,dom=editor.dom,linkListChangeHandler=function(e){var textCtrl=win.find("#text");(!textCtrl.value()||e.lastControl&&textCtrl.value()===e.lastControl.text())&&textCtrl.value(e.control.text()),win.find("#href").value(e.control.value())},updateText=function(){initialText||!onlyText||data.text||this.parent().parent().find("#text")[0].value(this.value())};onlyText=$_8poiolesjdud7at1_isOnlyTextSelected(selection.getContent()),anchorElm=$_8poiolesjdud7at1_getAnchorElement(editor),data.text=initialText=$_8poiolesjdud7at1_getAnchorText(editor.selection,anchorElm),data.href=anchorElm?dom.getAttrib(anchorElm,"href"):"",anchorElm?data.target=dom.getAttrib(anchorElm,"target"):$_d1kmhxeojdud7asw_hasDefaultLinkTarget(editor.settings)&&(data.target=$_d1kmhxeojdud7asw_getDefaultLinkTarget(editor.settings)),(value=dom.getAttrib(anchorElm,"rel"))&&(data.rel=value),(value=dom.getAttrib(anchorElm,"class"))&&(data.class=value),(value=dom.getAttrib(anchorElm,"title"))&&(data.title=value),onlyText&&(textListCtrl={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){data.text=this.value()}}),linkList&&(linkListCtrl={type:"listbox",label:"Link list",values:buildListItems(linkList,function(item){item.value=editor.convertURL(item.value||item.url,"href")},[{text:"None",value:""}]),onselect:linkListChangeHandler,value:editor.convertURL(data.href,"href"),onPostRender:function(){linkListCtrl=this}}),$_d1kmhxeojdud7asw_shouldShowTargetList(editor.settings)&&(void 0===$_d1kmhxeojdud7asw_getTargetList(editor.settings)&&$_d1kmhxeojdud7asw_setTargetList(editor,[{text:"None",value:""},{text:"New window",value:"_blank"}]),targetListCtrl={name:"target",type:"listbox",label:"Target",values:buildListItems($_d1kmhxeojdud7asw_getTargetList(editor.settings))}),$_d1kmhxeojdud7asw_hasRelList(editor.settings)&&(relListCtrl={name:"rel",type:"listbox",label:"Rel",values:buildListItems($_d1kmhxeojdud7asw_getRelList(editor.settings),function(item){!1===$_d1kmhxeojdud7asw_allowUnsafeLinkTarget(editor.settings)&&(item.value=$_8poiolesjdud7at1_toggleTargetRules(item.value,"_blank"===data.target))})}),$_d1kmhxeojdud7asw_hasLinkClassList(editor.settings)&&(classListCtrl={name:"class",type:"listbox",label:"Class",values:buildListItems($_d1kmhxeojdud7asw_getLinkClassList(editor.settings),function(item){item.value&&(item.textStyle=function(){return editor.formatter.getCssText({inline:"a",classes:[item.value]})})})}),$_d1kmhxeojdud7asw_shouldShowLinkTitle(editor.settings)&&(linkTitleCtrl={name:"title",type:"textbox",label:"Title",value:data.title}),win=editor.windowManager.open({title:"Insert link",data:data,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var meta=e.meta||{};linkListCtrl&&linkListCtrl.value(editor.convertURL(this.value(),"href")),Tools.each(e.meta,function(value,key){var inp=win.find("#"+key);"text"===key?0===initialText.length&&(inp.value(value),data.text=value):inp.value(value)}),meta.attach&&(attachState={href:this.value(),attach:meta.attach}),meta.text||updateText.call(this)},onkeyup:updateText,onpaste:updateText,onbeforecall:function(e){e.meta=win.toJSON()}},textListCtrl,linkTitleCtrl,function(url){var anchorList=[];if(Tools.each(editor.dom.select("a:not([href])"),function(anchor){var id=anchor.name||anchor.id;id&&anchorList.push({text:id,value:"#"+id,selected:-1!==url.indexOf("#"+id)})}),anchorList.length)return anchorList.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:anchorList,onselect:linkListChangeHandler}}(data.href),linkListCtrl,relListCtrl,targetListCtrl,classListCtrl],onSubmit:function(e){var assumeExternalTargets=$_d1kmhxeojdud7asw_assumeExternalTargets(editor.settings),insertLink=$_8poiolesjdud7at1_link(editor,attachState),removeLink=$_8poiolesjdud7at1_unlink(editor),resultData=Tools.extend({},data,e.data),href=resultData.href;href?(onlyText&&resultData.text!==initialText||delete resultData.text,0<href.indexOf("@")&&-1===href.indexOf("//")&&-1===href.indexOf("mailto:")?delayedConfirm(editor,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(state){state&&(resultData.href="mailto:"+href),insertLink(resultData)}):!0===assumeExternalTargets&&!/^\w+:/i.test(href)||!1===assumeExternalTargets&&/^\s*www[\.|\d\.]/i.test(href)?delayedConfirm(editor,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(state){state&&(resultData.href="http://"+href),insertLink(resultData)}):insertLink(resultData)):removeLink()}})},$_18wfzreujdud7at8_open=function(editor){!function(editor,callback){var linkList=$_d1kmhxeojdud7asw_getLinkList(editor.settings);"string"==typeof linkList?XHR.send({url:linkList,success:function(text){callback(editor,JSON.parse(text))}}):"function"==typeof linkList?linkList(function(list){callback(editor,list)}):callback(editor,linkList)}(editor,showDialog)},getLink=function(editor,elm){return editor.dom.getParent(elm,"a[href]")},getSelectedLink=function(editor){return getLink(editor,editor.selection.getStart())},gotoLink=function(editor,a){if(a){var href=function(elm){var href=elm.getAttribute("data-mce-href");return href||elm.getAttribute("href")}(a);if(/^#/.test(href)){var targetEl=editor.$(href);targetEl.length&&editor.selection.scrollIntoView(targetEl[0],!0)}else $_2nh7hzepjdud7asy_open(a.href)}},$_fh26uiemjdud7asm_openDialog=function(editor){return function(){$_18wfzreujdud7at8_open(editor)}},$_fh26uiemjdud7asm_gotoSelectedLink=function(editor){return function(){gotoLink(editor,getSelectedLink(editor))}},$_fh26uiemjdud7asm_leftClickedOnAHref=function(editor){return function(elm){var sel,rng,node;return!!($_d1kmhxeojdud7asw_hasContextToolbar(editor.settings)&&!function(editor){var contextmenu=editor.plugins.contextmenu;return!!contextmenu&&contextmenu.isContextMenuVisible()}(editor)&&$_8poiolesjdud7at1_isLink(elm)&&3===(node=(rng=(sel=editor.selection).getRng()).startContainer).nodeType&&sel.isCollapsed()&&0<rng.startOffset&&rng.startOffset<node.data.length)}},$_fh26uiemjdud7asm_setupGotoLinks=function(editor){editor.on("click",function(e){var link=getLink(editor,e.target);link&&VK.metaKeyPressed(e)&&(e.preventDefault(),gotoLink(editor,link))}),editor.on("keydown",function(e){var link=getSelectedLink(editor);link&&13===e.keyCode&&function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey}(e)&&(e.preventDefault(),gotoLink(editor,link))})},$_fh26uiemjdud7asm_toggleActiveState=function(editor){return function(){var self=this;editor.on("nodechange",function(e){self.active(!editor.readonly&&!!$_8poiolesjdud7at1_getAnchorElement(editor,e.element))})}},$_fh26uiemjdud7asm_toggleViewLinkState=function(editor){return function(){var self=this,toggleVisibility=function(e){$_8poiolesjdud7at1_hasLinks(e.parents)?self.show():self.hide()};$_8poiolesjdud7at1_hasLinks(editor.dom.getParents(editor.selection.getStart()))||self.hide(),editor.on("nodechange",toggleVisibility),self.on("remove",function(){editor.off("nodechange",toggleVisibility)})}},$_793u30eljdud7asl_register=function(editor){editor.addCommand("mceLink",$_fh26uiemjdud7asm_openDialog(editor))},$_zvw0yexjdud7atf_setup=function(editor){editor.addShortcut("Meta+K","",$_fh26uiemjdud7asm_openDialog(editor))},$_covkg0eyjdud7atg_setupButtons=function(editor){editor.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:$_fh26uiemjdud7asm_openDialog(editor),onpostrender:$_fh26uiemjdud7asm_toggleActiveState(editor)}),editor.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:$_8poiolesjdud7at1_unlink(editor),onpostrender:$_fh26uiemjdud7asm_toggleActiveState(editor)}),editor.addContextToolbar&&editor.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:$_fh26uiemjdud7asm_gotoSelectedLink(editor)})},$_covkg0eyjdud7atg_setupMenuItems=function(editor){editor.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:$_fh26uiemjdud7asm_gotoSelectedLink(editor),onPostRender:$_fh26uiemjdud7asm_toggleViewLinkState(editor),prependToContext:!0}),editor.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:$_fh26uiemjdud7asm_openDialog(editor),stateSelector:"a[href]",context:"insert",prependToContext:!0})},$_covkg0eyjdud7atg_setupContextToolbars=function(editor){editor.addContextToolbar&&editor.addContextToolbar($_fh26uiemjdud7asm_leftClickedOnAHref(editor),"openlink | link unlink")};PluginManager.add("link",function(editor){$_covkg0eyjdud7atg_setupButtons(editor),$_covkg0eyjdud7atg_setupMenuItems(editor),$_covkg0eyjdud7atg_setupContextToolbars(editor),$_fh26uiemjdud7asm_setupGotoLinks(editor),$_793u30eljdud7asl_register(editor),$_zvw0yexjdud7atf_setup(editor)})}()},function(module,exports,__webpack_require__){__webpack_require__(89)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),RangeUtils=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),TreeWalker=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),VK=tinymce.util.Tools.resolve("tinymce.util.VK"),BookmarkManager=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),isBr=function(node){return node&&"BR"===node.nodeName},$_bi4fmzfdjdud7avi_isTextNode=function(node){return node&&3===node.nodeType},$_bi4fmzfdjdud7avi_isListNode=function(node){return node&&/^(OL|UL|DL)$/.test(node.nodeName)},$_bi4fmzfdjdud7avi_isListItemNode=function(node){return node&&/^(LI|DT|DD)$/.test(node.nodeName)},$_bi4fmzfdjdud7avi_isTableCellNode=function(node){return node&&/^(TH|TD)$/.test(node.nodeName)},$_bi4fmzfdjdud7avi_isBr=isBr,$_bi4fmzfdjdud7avi_isFirstChild=function(node){return node.parentNode.firstChild===node},$_bi4fmzfdjdud7avi_isLastChild=function(node){return node.parentNode.lastChild===node},$_bi4fmzfdjdud7avi_isTextBlock=function(editor,node){return node&&!!editor.schema.getTextBlockElements()[node.nodeName]},$_bi4fmzfdjdud7avi_isBlock=function(node,blockElements){return node&&node.nodeName in blockElements},$_bi4fmzfdjdud7avi_isBogusBr=function(dom,node){return!!isBr(node)&&!(!dom.isBlock(node.nextSibling)||isBr(node.previousSibling))},$_bi4fmzfdjdud7avi_isEmpty=function(dom,elm,keepBookmarks){var empty=dom.isEmpty(elm);return!(keepBookmarks&&0<dom.select("span[data-mce-type=bookmark]",elm).length)&&empty},$_bi4fmzfdjdud7avi_isChildOfBody=function(dom,elm){return dom.isChildOf(elm,dom.getRoot())},getNormalizedEndPoint=function(container,offset){var node=RangeUtils.getNode(container,offset);return $_bi4fmzfdjdud7avi_isListItemNode(container)&&$_bi4fmzfdjdud7avi_isTextNode(node)?{container:node,offset:offset>=container.childNodes.length?node.data.length:0}:{container:container,offset:offset}},$_93pootfcjdud7avg_normalizeRange=function(rng){var outRng=rng.cloneRange(),rangeStart=getNormalizedEndPoint(rng.startContainer,rng.startOffset);outRng.setStart(rangeStart.container,rangeStart.offset);var rangeEnd=getNormalizedEndPoint(rng.endContainer,rng.endOffset);return outRng.setEnd(rangeEnd.container,rangeEnd.offset),outRng},DOM=DOMUtils.DOM,$_20q1blfbjdud7avd_createBookmark=function(rng){var bookmark={},setupEndPoint=function(start){var offsetNode,container,offset;container=rng[start?"startContainer":"endContainer"],offset=rng[start?"startOffset":"endOffset"],1===container.nodeType&&(offsetNode=DOM.create("span",{"data-mce-type":"bookmark"}),container.hasChildNodes()?(offset=Math.min(offset,container.childNodes.length-1),start?container.insertBefore(offsetNode,container.childNodes[offset]):DOM.insertAfter(offsetNode,container.childNodes[offset])):container.appendChild(offsetNode),container=offsetNode,offset=0),bookmark[start?"startContainer":"endContainer"]=container,bookmark[start?"startOffset":"endOffset"]=offset};return setupEndPoint(!0),rng.collapsed||setupEndPoint(),bookmark},$_20q1blfbjdud7avd_resolveBookmark=function(bookmark){function restoreEndPoint(start){var container,offset,node;container=node=bookmark[start?"startContainer":"endContainer"],offset=bookmark[start?"startOffset":"endOffset"],container&&(1===container.nodeType&&(offset=function(container){for(var node=container.parentNode.firstChild,idx=0;node;){if(node===container)return idx;1===node.nodeType&&"bookmark"===node.getAttribute("data-mce-type")||idx++,node=node.nextSibling}return-1}(container),container=container.parentNode,DOM.remove(node),!container.hasChildNodes()&&DOM.isBlock(container)&&container.appendChild(DOM.create("br"))),bookmark[start?"startContainer":"endContainer"]=container,bookmark[start?"startOffset":"endOffset"]=offset)}restoreEndPoint(!0),restoreEndPoint();var rng=DOM.createRng();return rng.setStart(bookmark.startContainer,bookmark.startOffset),bookmark.endContainer&&rng.setEnd(bookmark.endContainer,bookmark.endOffset),$_93pootfcjdud7avg_normalizeRange(rng)},DOM$1=DOMUtils.DOM,normalizeList=function(dom,ul){var sibling,parentNode=ul.parentNode;"LI"===parentNode.nodeName&&parentNode.firstChild===ul&&((sibling=parentNode.previousSibling)&&"LI"===sibling.nodeName?(sibling.appendChild(ul),$_bi4fmzfdjdud7avi_isEmpty(dom,parentNode)&&DOM$1.remove(parentNode)):DOM$1.setStyle(parentNode,"listStyleType","none")),$_bi4fmzfdjdud7avi_isListNode(parentNode)&&(sibling=parentNode.previousSibling)&&"LI"===sibling.nodeName&&sibling.appendChild(ul)},$_4qhs1fejdud7avk_normalizeLists=function(dom,element){Tools.each(Tools.grep(dom.select("ol,ul",element)),function(ul){normalizeList(dom,ul)})},DomQuery=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),getParentList=function(editor){var selectionStart=editor.selection.getStart(!0);return editor.dom.getParent(selectionStart,"OL,UL,DL",getClosestListRootElm(editor,selectionStart))},getClosestListRootElm=function(editor,elm){var parentTableCell=editor.dom.getParents(elm,"TD,TH");return 0<parentTableCell.length?parentTableCell[0]:editor.getBody()},$_euzr0fffjdud7avm={getParentList:getParentList,getSelectedSubLists:function(editor){var parentList=getParentList(editor),selectedBlocks=editor.selection.getSelectedBlocks();return function(parentList,selectedBlocks){return parentList&&1===selectedBlocks.length&&selectedBlocks[0]===parentList}(parentList,selectedBlocks)?function(parentList){return Tools.grep(parentList.querySelectorAll("ol,ul,dl"),function(elm){return $_bi4fmzfdjdud7avi_isListNode(elm)})}(parentList):Tools.grep(selectedBlocks,function(elm){return $_bi4fmzfdjdud7avi_isListNode(elm)&&parentList!==elm})},getSelectedListItems:function(editor){var selectedBlocks=editor.selection.getSelectedBlocks();return Tools.grep(function(editor,elms){var listItemsElms=Tools.map(elms,function(elm){var parentLi=editor.dom.getParent(elm,"li,dd,dt",getClosestListRootElm(editor,elm));return parentLi||elm});return DomQuery.unique(listItemsElms)}(editor,selectedBlocks),function(block){return $_bi4fmzfdjdud7avi_isListItemNode(block)})},getClosestListRootElm:getClosestListRootElm},Env=tinymce.util.Tools.resolve("tinymce.Env"),DOM$2=DOMUtils.DOM,$_40615zfijdud7avq_createNewTextBlock=function(editor,contentNode,blockName){var node,textBlock,hasContentNode,fragment=DOM$2.createFragment(),blockElements=editor.schema.getBlockElements();if(editor.settings.forced_root_block&&(blockName=blockName||editor.settings.forced_root_block),blockName&&((textBlock=DOM$2.create(blockName)).tagName===editor.settings.forced_root_block&&DOM$2.setAttribs(textBlock,editor.settings.forced_root_block_attrs),$_bi4fmzfdjdud7avi_isBlock(contentNode.firstChild,blockElements)||fragment.appendChild(textBlock)),contentNode)for(;node=contentNode.firstChild;){var nodeName=node.nodeName;hasContentNode||"SPAN"===nodeName&&"bookmark"===node.getAttribute("data-mce-type")||(hasContentNode=!0),$_bi4fmzfdjdud7avi_isBlock(node,blockElements)?(fragment.appendChild(node),textBlock=null):blockName?(textBlock||(textBlock=DOM$2.create(blockName),fragment.appendChild(textBlock)),textBlock.appendChild(node)):fragment.appendChild(node)}return editor.settings.forced_root_block?hasContentNode||Env.ie&&!(10<Env.ie)||textBlock.appendChild(DOM$2.create("br",{"data-mce-bogus":"1"})):fragment.appendChild(DOM$2.create("br")),fragment},DOM$3=DOMUtils.DOM,$_96ygl6fhjdud7avo_splitList=function(editor,ul,li,newBlock){var tmpRng,fragment,bookmarks,node,targetNode;for(bookmarks=DOM$3.select('span[data-mce-type="bookmark"]',ul),newBlock=newBlock||$_40615zfijdud7avq_createNewTextBlock(editor,li),(tmpRng=DOM$3.createRng()).setStartAfter(li),tmpRng.setEndAfter(ul),node=(fragment=tmpRng.extractContents()).firstChild;node;node=node.firstChild)if("LI"===node.nodeName&&editor.dom.isEmpty(node)){DOM$3.remove(node);break}editor.dom.isEmpty(fragment)||DOM$3.insertAfter(fragment,ul),DOM$3.insertAfter(newBlock,ul),$_bi4fmzfdjdud7avi_isEmpty(editor.dom,li.parentNode)&&(targetNode=li.parentNode,Tools.each(bookmarks,function(node){targetNode.parentNode.insertBefore(node,li.parentNode)}),DOM$3.remove(targetNode)),DOM$3.remove(li),$_bi4fmzfdjdud7avi_isEmpty(editor.dom,ul)&&DOM$3.remove(ul)},DOM$4=DOMUtils.DOM,removeEmptyLi=function(dom,li){$_bi4fmzfdjdud7avi_isEmpty(dom,li)&&DOM$4.remove(li)},outdent=function(editor,li){var newBlock,ul=li.parentNode,ulParent=ul.parentNode;return ul===editor.getBody()||("DD"===li.nodeName?DOM$4.rename(li,"DT"):$_bi4fmzfdjdud7avi_isFirstChild(li)&&$_bi4fmzfdjdud7avi_isLastChild(li)?"LI"===ulParent.nodeName?(DOM$4.insertAfter(li,ulParent),removeEmptyLi(editor.dom,ulParent),DOM$4.remove(ul)):$_bi4fmzfdjdud7avi_isListNode(ulParent)?DOM$4.remove(ul,!0):(ulParent.insertBefore($_40615zfijdud7avq_createNewTextBlock(editor,li),ul),DOM$4.remove(ul)):$_bi4fmzfdjdud7avi_isFirstChild(li)?"LI"===ulParent.nodeName?(DOM$4.insertAfter(li,ulParent),li.appendChild(ul),removeEmptyLi(editor.dom,ulParent)):$_bi4fmzfdjdud7avi_isListNode(ulParent)?ulParent.insertBefore(li,ul):(ulParent.insertBefore($_40615zfijdud7avq_createNewTextBlock(editor,li),ul),DOM$4.remove(li)):$_bi4fmzfdjdud7avi_isLastChild(li)?"LI"===ulParent.nodeName?DOM$4.insertAfter(li,ulParent):$_bi4fmzfdjdud7avi_isListNode(ulParent)?DOM$4.insertAfter(li,ul):(DOM$4.insertAfter($_40615zfijdud7avq_createNewTextBlock(editor,li),ul),DOM$4.remove(li)):("LI"===ulParent.nodeName?(ul=ulParent,newBlock=$_40615zfijdud7avq_createNewTextBlock(editor,li,"LI")):newBlock=$_bi4fmzfdjdud7avi_isListNode(ulParent)?$_40615zfijdud7avq_createNewTextBlock(editor,li,"LI"):$_40615zfijdud7avq_createNewTextBlock(editor,li),$_96ygl6fhjdud7avo_splitList(editor,ul,li,newBlock),$_4qhs1fejdud7avk_normalizeLists(editor.dom,ul.parentNode))),!0},$_68cr9if9jdud7av9_outdent=outdent,$_68cr9if9jdud7av9_outdentSelection=function(editor){var listElements=$_euzr0fffjdud7avm.getSelectedListItems(editor);if(listElements.length){var bookmark=$_20q1blfbjdud7avd_createBookmark(editor.selection.getRng(!0)),i=void 0,y=void 0,root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,editor.selection.getStart(!0));for(i=listElements.length;i--;)for(var node=listElements[i].parentNode;node&&node!==root;){for(y=listElements.length;y--;)if(listElements[y]===node){listElements.splice(i,1);break}node=node.parentNode}for(i=0;i<listElements.length&&(outdent(editor,listElements[i])||0!==i);i++);return editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark)),editor.nodeChanged(),!0}},setAttribs=function(elm,attrs){Tools.each(attrs,function(value,key){elm.setAttribute(key,value)})},updateListWithDetails=function(dom,el,detail){!function(dom,el,detail){var type=detail["list-style-type"]?detail["list-style-type"]:null;dom.setStyle(el,"list-style-type",type)}(dom,el,detail),function(dom,el,detail){setAttribs(el,detail["list-attributes"]),Tools.each(dom.select("li",el),function(li){setAttribs(li,detail["list-item-attributes"])})}(dom,el,detail)},getEndPointNode=function(editor,rng,start,root){var container,offset;for(container=rng[start?"startContainer":"endContainer"],offset=rng[start?"startOffset":"endOffset"],1===container.nodeType&&(container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container),!start&&$_bi4fmzfdjdud7avi_isBr(container.nextSibling)&&(container=container.nextSibling);container.parentNode!==root;){if($_bi4fmzfdjdud7avi_isTextBlock(editor,container))return container;if(/^(TD|TH)$/.test(container.parentNode.nodeName))return container;container=container.parentNode}return container},applyList=function(editor,listName,detail){void 0===detail&&(detail={});var bookmark,rng=editor.selection.getRng(!0),listItemName="LI",root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,editor.selection.getStart(!0)),dom=editor.dom;"false"!==dom.getContentEditable(editor.selection.getNode())&&("DL"===(listName=listName.toUpperCase())&&(listItemName="DT"),bookmark=$_20q1blfbjdud7avd_createBookmark(rng),Tools.each(function(editor,rng,root){for(var block,textBlocks=[],dom=editor.dom,startNode=getEndPointNode(editor,rng,!0,root),endNode=getEndPointNode(editor,rng,!1,root),siblings=[],node=startNode;node&&(siblings.push(node),node!==endNode);node=node.nextSibling);return Tools.each(siblings,function(node){if($_bi4fmzfdjdud7avi_isTextBlock(editor,node))return textBlocks.push(node),void(block=null);if(dom.isBlock(node)||$_bi4fmzfdjdud7avi_isBr(node))return $_bi4fmzfdjdud7avi_isBr(node)&&dom.remove(node),void(block=null);var nextSibling=node.nextSibling;BookmarkManager.isBookmarkNode(node)&&($_bi4fmzfdjdud7avi_isTextBlock(editor,nextSibling)||!nextSibling&&node.parentNode===root)?block=null:(block||(block=dom.create("p"),node.parentNode.insertBefore(block,node),textBlocks.push(block)),block.appendChild(node))}),textBlocks}(editor,rng,root),function(block){var listBlock,sibling;(sibling=block.previousSibling)&&$_bi4fmzfdjdud7avi_isListNode(sibling)&&sibling.nodeName===listName&&function(dom,sib,detail){var sibStyle=dom.getStyle(sib,"list-style-type"),detailStyle=detail?detail["list-style-type"]:"";return sibStyle===(detailStyle=null===detailStyle?"":detailStyle)}(dom,sibling,detail)?(listBlock=sibling,block=dom.rename(block,listItemName),sibling.appendChild(block)):(listBlock=dom.create(listName),block.parentNode.insertBefore(listBlock,block),listBlock.appendChild(block),block=dom.rename(block,listItemName)),function(dom,element,styles){Tools.each(styles,function(style){return dom.setStyle(element,((_a={})[style]="",_a));var _a})}(dom,block,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),updateListWithDetails(dom,listBlock,detail),mergeWithAdjacentLists(editor.dom,listBlock)}),editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark)))},removeList=function(editor){var bookmark=$_20q1blfbjdud7avd_createBookmark(editor.selection.getRng(!0)),root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,editor.selection.getStart(!0)),listItems=$_euzr0fffjdud7avm.getSelectedListItems(editor),emptyListItems=Tools.grep(listItems,function(li){return editor.dom.isEmpty(li)});listItems=Tools.grep(listItems,function(li){return!editor.dom.isEmpty(li)}),Tools.each(emptyListItems,function(li){$_bi4fmzfdjdud7avi_isEmpty(editor.dom,li)&&$_68cr9if9jdud7av9_outdent(editor,li)}),Tools.each(listItems,function(li){var node,rootList;if(li.parentNode!==editor.getBody()){for(node=li;node&&node!==root;node=node.parentNode)$_bi4fmzfdjdud7avi_isListNode(node)&&(rootList=node);$_96ygl6fhjdud7avo_splitList(editor,rootList,li),$_4qhs1fejdud7avk_normalizeLists(editor.dom,rootList.parentNode)}}),editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark))},shouldMerge=function(dom,list1,list2){return function(list1,list2){return list1&&list2&&$_bi4fmzfdjdud7avi_isListNode(list1)&&list1.nodeName===list2.nodeName}(list1,list2)&&function(dom,list1,list2){return dom.getStyle(list1,"list-style-type",!0)===dom.getStyle(list2,"list-style-type",!0)}(dom,list1,list2)&&(elm2=list2,list1.className===elm2.className);var elm2},mergeWithAdjacentLists=function(dom,listBlock){var sibling,node;if(sibling=listBlock.nextSibling,shouldMerge(dom,listBlock,sibling)){for(;node=sibling.firstChild;)listBlock.appendChild(node);dom.remove(sibling)}if(sibling=listBlock.previousSibling,shouldMerge(dom,listBlock,sibling)){for(;node=sibling.lastChild;)listBlock.insertBefore(node,listBlock.firstChild);dom.remove(sibling)}},toggleMultipleLists=function(editor,parentList,lists,listName,detail){if(parentList.nodeName!==listName||hasListStyleDetail(detail)){var bookmark=$_20q1blfbjdud7avd_createBookmark(editor.selection.getRng(!0));Tools.each([parentList].concat(lists),function(elm){!function(dom,list,listName,detail){if(list.nodeName!==listName){var newList=dom.rename(list,listName);updateListWithDetails(dom,newList,detail)}else updateListWithDetails(dom,list,detail)}(editor.dom,elm,listName,detail)}),editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark))}else removeList(editor)},hasListStyleDetail=function(detail){return"list-style-type"in detail},$_fr6bj8f6jdud7av1={toggleList:function(editor,listName,detail){var parentList=$_euzr0fffjdud7avm.getParentList(editor),selectedSubLists=$_euzr0fffjdud7avm.getSelectedSubLists(editor);detail=detail||{},parentList&&0<selectedSubLists.length?toggleMultipleLists(editor,parentList,selectedSubLists,listName,detail):function(editor,parentList,listName,detail){if(parentList!==editor.getBody())if(parentList)if(parentList.nodeName!==listName||hasListStyleDetail(detail)){var bookmark=$_20q1blfbjdud7avd_createBookmark(editor.selection.getRng(!0));updateListWithDetails(editor.dom,parentList,detail),mergeWithAdjacentLists(editor.dom,editor.dom.rename(parentList,listName)),editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark))}else removeList(editor);else applyList(editor,listName,detail)}(editor,parentList,listName,detail)},removeList:removeList,mergeWithAdjacentLists:mergeWithAdjacentLists},findNextCaretContainer=function(editor,rng,isForward,root){var nonEmptyBlocks,walker,node=rng.startContainer,offset=rng.startOffset;if(3===node.nodeType&&(isForward?offset<node.data.length:0<offset))return node;for(nonEmptyBlocks=editor.schema.getNonEmptyElements(),1===node.nodeType&&(node=RangeUtils.getNode(node,offset)),walker=new TreeWalker(node,root),isForward&&$_bi4fmzfdjdud7avi_isBogusBr(editor.dom,node)&&walker.next();node=walker[isForward?"next":"prev2"]();){if("LI"===node.nodeName&&!node.hasChildNodes())return node;if(nonEmptyBlocks[node.nodeName])return node;if(3===node.nodeType&&0<node.data.length)return node}},hasOnlyOneBlockChild=function(dom,elm){var childNodes=elm.childNodes;return 1===childNodes.length&&!$_bi4fmzfdjdud7avi_isListNode(childNodes[0])&&dom.isBlock(childNodes[0])},moveChildren=function(dom,fromElm,toElm){var node,targetElm;if(targetElm=hasOnlyOneBlockChild(dom,toElm)?toElm.firstChild:toElm,function(dom,elm){hasOnlyOneBlockChild(dom,elm)&&dom.remove(elm.firstChild,!0)}(dom,fromElm),!$_bi4fmzfdjdud7avi_isEmpty(dom,fromElm,!0))for(;node=fromElm.firstChild;)targetElm.appendChild(node)},mergeLiElements=function(dom,fromElm,toElm){var node,listNode,ul=fromElm.parentNode;$_bi4fmzfdjdud7avi_isChildOfBody(dom,fromElm)&&$_bi4fmzfdjdud7avi_isChildOfBody(dom,toElm)&&($_bi4fmzfdjdud7avi_isListNode(toElm.lastChild)&&(listNode=toElm.lastChild),ul===toElm.lastChild&&$_bi4fmzfdjdud7avi_isBr(ul.previousSibling)&&dom.remove(ul.previousSibling),(node=toElm.lastChild)&&$_bi4fmzfdjdud7avi_isBr(node)&&fromElm.hasChildNodes()&&dom.remove(node),$_bi4fmzfdjdud7avi_isEmpty(dom,toElm,!0)&&dom.$(toElm).empty(),moveChildren(dom,fromElm,toElm),listNode&&toElm.appendChild(listNode),dom.remove(fromElm),$_bi4fmzfdjdud7avi_isEmpty(dom,ul)&&ul!==dom.getRoot()&&dom.remove(ul))},mergeForward=function(editor,rng,fromLi,toLi){var dom=editor.dom;if(dom.isEmpty(toLi))!function(editor,fromLi,toLi){editor.dom.$(toLi).empty(),mergeLiElements(editor.dom,fromLi,toLi),editor.selection.setCursorLocation(toLi)}(editor,fromLi,toLi);else{var bookmark=$_20q1blfbjdud7avd_createBookmark(rng);mergeLiElements(dom,fromLi,toLi),editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark))}},backspaceDeleteFromListToListCaret=function(editor,isForward){var ul,rng,otherLi,dom=editor.dom,selection=editor.selection,selectionStartElm=selection.getStart(),root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,selectionStartElm),li=dom.getParent(selection.getStart(),"LI",root);if(li){if((ul=li.parentNode)===editor.getBody()&&$_bi4fmzfdjdud7avi_isEmpty(dom,ul))return!0;if(rng=$_93pootfcjdud7avg_normalizeRange(selection.getRng(!0)),(otherLi=dom.getParent(findNextCaretContainer(editor,rng,isForward,root),"LI",root))&&otherLi!==li)return isForward?mergeForward(editor,rng,otherLi,li):function(editor,rng,fromLi,toLi){var bookmark=$_20q1blfbjdud7avd_createBookmark(rng);mergeLiElements(editor.dom,fromLi,toLi);var resolvedBookmark=$_20q1blfbjdud7avd_resolveBookmark(bookmark);editor.selection.setRng(resolvedBookmark)}(editor,rng,li,otherLi),!0;if(!otherLi&&!isForward&&$_fr6bj8f6jdud7av1.removeList(editor))return!0}return!1},backspaceDeleteCaret=function(editor,isForward){return backspaceDeleteFromListToListCaret(editor,isForward)||function(editor,isForward){var dom=editor.dom,selectionStartElm=editor.selection.getStart(),root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,selectionStartElm),block=dom.getParent(selectionStartElm,dom.isBlock,root);if(block&&dom.isEmpty(block)){var rng=$_93pootfcjdud7avg_normalizeRange(editor.selection.getRng(!0)),otherLi_1=dom.getParent(findNextCaretContainer(editor,rng,isForward,root),"LI",root);if(otherLi_1)return editor.undoManager.transact(function(){!function(dom,block,root){var parentBlock=dom.getParent(block.parentNode,dom.isBlock,root);dom.remove(block),parentBlock&&dom.isEmpty(parentBlock)&&dom.remove(parentBlock)}(dom,block,root),$_fr6bj8f6jdud7av1.mergeWithAdjacentLists(dom,otherLi_1.parentNode),editor.selection.select(otherLi_1,!0),editor.selection.collapse(isForward)}),!0}return!1}(editor,isForward)},backspaceDelete=function(editor,isForward){return editor.selection.isCollapsed()?backspaceDeleteCaret(editor,isForward):function(editor){var selectionStartElm=editor.selection.getStart(),root=$_euzr0fffjdud7avm.getClosestListRootElm(editor,selectionStartElm);return!!(editor.dom.getParent(selectionStartElm,"LI,DT,DD",root)||0<$_euzr0fffjdud7avm.getSelectedListItems(editor).length)&&(editor.undoManager.transact(function(){editor.execCommand("Delete"),$_4qhs1fejdud7avk_normalizeLists(editor.dom,editor.getBody())}),!0)}(editor)},$_1bdj3pf2jdud7aur_setup=function(editor){editor.on("keydown",function(e){e.keyCode===VK.BACKSPACE?backspaceDelete(editor,!1)&&e.preventDefault():e.keyCode===VK.DELETE&&backspaceDelete(editor,!0)&&e.preventDefault()})},$_1bdj3pf2jdud7aur_backspaceDelete=backspaceDelete,$_3ksyttf1jdud7aup_get=function(editor){return{backspaceDelete:function(isForward){$_1bdj3pf2jdud7aur_backspaceDelete(editor,isForward)}}},DOM$5=DOMUtils.DOM,mergeLists=function(from,to){var node;if($_bi4fmzfdjdud7avi_isListNode(from)){for(;node=from.firstChild;)to.appendChild(node);DOM$5.remove(from)}},$_8nih5bfljdud7avv_indentSelection=function(editor){var li,sibling,newList,listStyle,listElements=$_euzr0fffjdud7avm.getSelectedListItems(editor);if(listElements.length){for(var bookmark=$_20q1blfbjdud7avd_createBookmark(editor.selection.getRng(!0)),i=0;i<listElements.length&&(li=listElements[i],listStyle=newList=sibling=void 0,("DT"===li.nodeName?(DOM$5.rename(li,"DD"),1):(sibling=li.previousSibling)&&$_bi4fmzfdjdud7avi_isListNode(sibling)?(sibling.appendChild(li),1):sibling&&"LI"===sibling.nodeName&&$_bi4fmzfdjdud7avi_isListNode(sibling.lastChild)?(sibling.lastChild.appendChild(li),mergeLists(li.lastChild,sibling.lastChild),1):(sibling=li.nextSibling)&&$_bi4fmzfdjdud7avi_isListNode(sibling)?(sibling.insertBefore(li,sibling.firstChild),1):(sibling=li.previousSibling)&&"LI"===sibling.nodeName&&(newList=DOM$5.create(li.parentNode.nodeName),(listStyle=DOM$5.getStyle(li.parentNode,"listStyleType"))&&DOM$5.setStyle(newList,"listStyleType",listStyle),sibling.appendChild(newList),newList.appendChild(li),mergeLists(li.lastChild,newList),1))||0!==i);i++);return editor.selection.setRng($_20q1blfbjdud7avd_resolveBookmark(bookmark)),editor.nodeChanged(),!0}},queryListCommandState=function(editor,listName){return function(){var parentList=editor.dom.getParent(editor.selection.getStart(),"UL,OL,DL");return parentList&&parentList.nodeName===listName}},$_6glq3fkjdud7avt_register=function(editor){editor.on("BeforeExecCommand",function(e){var isHandled,cmd=e.command.toLowerCase();if("indent"===cmd?$_8nih5bfljdud7avv_indentSelection(editor)&&(isHandled=!0):"outdent"===cmd&&$_68cr9if9jdud7av9_outdentSelection(editor)&&(isHandled=!0),isHandled)return editor.fire("ExecCommand",{command:e.command}),e.preventDefault(),!0}),editor.addCommand("InsertUnorderedList",function(ui,detail){$_fr6bj8f6jdud7av1.toggleList(editor,"UL",detail)}),editor.addCommand("InsertOrderedList",function(ui,detail){$_fr6bj8f6jdud7av1.toggleList(editor,"OL",detail)}),editor.addCommand("InsertDefinitionList",function(ui,detail){$_fr6bj8f6jdud7av1.toggleList(editor,"DL",detail)}),editor.addQueryStateHandler("InsertUnorderedList",queryListCommandState(editor,"UL")),editor.addQueryStateHandler("InsertOrderedList",queryListCommandState(editor,"OL")),editor.addQueryStateHandler("InsertDefinitionList",queryListCommandState(editor,"DL"))},$_3ydv4gfnjdud7avz_shouldIndentOnTab=function(editor){return editor.getParam("lists_indent_on_tab",!0)},$_9duilifmjdud7avy_setup=function(editor){$_3ydv4gfnjdud7avz_shouldIndentOnTab(editor)&&function(editor){editor.on("keydown",function(e){e.keyCode!==VK.TAB||VK.metaKeyPressed(e)||editor.dom.getParent(editor.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?$_68cr9if9jdud7av9_outdentSelection(editor):$_8nih5bfljdud7avv_indentSelection(editor))})}(editor),$_1bdj3pf2jdud7aur_setup(editor)},listState=function(editor,listName){return function(e){var ctrl=e.control;editor.on("NodeChange",function(e){var tableCellIndex=function(list,predicate){for(var index=0;index<list.length;index++)if(predicate(list[index]))return index;return-1}(e.parents,$_bi4fmzfdjdud7avi_isTableCellNode),parents=-1!==tableCellIndex?e.parents.slice(0,tableCellIndex):e.parents,lists=Tools.grep(parents,$_bi4fmzfdjdud7avi_isListNode);ctrl.active(0<lists.length&&lists[0].nodeName===listName)})}},$_3755mzfojdud7aw1_register=function(editor){(function(editor,plugin){var plugins=editor.settings.plugins?editor.settings.plugins:"";return-1!==Tools.inArray(plugins.split(/[ ,]/),plugin)})(editor,"advlist")||(editor.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:listState(editor,"OL")}),editor.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:listState(editor,"UL")})),editor.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(editor){return function(e){var ctrl=e.control;editor.on("nodechange",function(){var listItemBlocks=$_euzr0fffjdud7avm.getSelectedListItems(editor),disable=0<listItemBlocks.length&&$_bi4fmzfdjdud7avi_isFirstChild(listItemBlocks[0]);ctrl.disabled(disable)})}}(editor)})};PluginManager.add("lists",function(editor){return $_9duilifmjdud7avy_setup(editor),$_3755mzfojdud7aw1_register(editor),$_6glq3fkjdud7avt_register(editor),$_3ksyttf1jdud7aup_get(editor)})}()},function(module,exports,__webpack_require__){__webpack_require__(91)},function(module,exports){!function(){"use strict";var pIndexOf,fastKeys,PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),constant=function(value){return function(){return value}},$_e8r7mrjsjdud7bkx={noop:function(){},noarg:function(f){return function(){return f()}},compose:function(fa,fb){return function(){return fa(fb.apply(null,arguments))}},constant:constant,identity:function(x){return x},tripleEquals:function(a,b){return a===b},curry:function(f){for(var args=new Array(arguments.length-1),i=1;i<arguments.length;i++)args[i-1]=arguments[i];return function(){for(var newArgs=new Array(arguments.length),j=0;j<newArgs.length;j++)newArgs[j]=arguments[j];var all=args.concat(newArgs);return f.apply(null,all)}},not:function(f){return function(){return!f.apply(null,arguments)}},die:function(msg){return function(){throw new Error(msg)}},apply:function(f){return f()},call:function(f){f()},never:constant(!1),always:constant(!0)},never$1=$_e8r7mrjsjdud7bkx.never,always$1=$_e8r7mrjsjdud7bkx.always,none=function(){return NONE},NONE=function(){var eq=function(o){return o.isNone()},call=function(thunk){return thunk()},id=function(n){return n},me={fold:function(n,s){return n()},is:never$1,isSome:never$1,isNone:always$1,getOr:id,getOrThunk:call,getOrDie:function(msg){throw new Error(msg||"error: getOrDie called on none.")},or:id,orThunk:call,map:none,ap:none,each:function(){},bind:none,flatten:none,exists:never$1,forall:always$1,filter:none,equals:eq,equals_:eq,toArray:function(){return[]},toString:$_e8r7mrjsjdud7bkx.constant("none()")};return Object.freeze&&Object.freeze(me),me}(),some=function(a){var constant_a=function(){return a},self=function(){return me},bind=function(f){return f(a)},me={fold:function(n,s){return s(a)},is:function(v){return a===v},isSome:always$1,isNone:never$1,getOr:constant_a,getOrThunk:constant_a,getOrDie:constant_a,or:self,orThunk:self,map:function(f){return some(f(a))},ap:function(optfab){return optfab.fold(none,function(fab){return some(fab(a))})},each:function(f){f(a)},bind:bind,flatten:constant_a,exists:bind,forall:bind,filter:function(f){return f(a)?me:NONE},equals:function(o){return o.is(a)},equals_:function(o,elementEq){return o.fold(never$1,function(b){return elementEq(a,b)})},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return me},Option={some:some,none:none,from:function(value){return null==value?NONE:some(value)}},rawIndexOf=void 0===(pIndexOf=Array.prototype.indexOf)?function(xs,x){return slowIndexOf(xs,x)}:function(xs,x){return pIndexOf.call(xs,x)},contains=function(xs,x){return-1<rawIndexOf(xs,x)},map=function(xs,f){for(var len=xs.length,r=new Array(len),i=0;i<len;i++){var x=xs[i];r[i]=f(x,i,xs)}return r},each=function(xs,f){for(var i=0,len=xs.length;i<len;i++)f(xs[i],i,xs)},eachr=function(xs,f){for(var i=xs.length-1;0<=i;i--)f(xs[i],i,xs)},filter=function(xs,pred){for(var r=[],i=0,len=xs.length;i<len;i++){var x=xs[i];pred(x,i,xs)&&r.push(x)}return r},findIndex=function(xs,pred){for(var i=0,len=xs.length;i<len;i++)if(pred(xs[i],i,xs))return Option.some(i);return Option.none()},slowIndexOf=function(xs,x){for(var i=0,len=xs.length;i<len;++i)if(xs[i]===x)return i;return-1},push=Array.prototype.push,flatten=function(xs){for(var r=[],i=0,len=xs.length;i<len;++i){if(!Array.prototype.isPrototypeOf(xs[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+xs);push.apply(r,xs[i])}return r},forall=function(xs,pred){for(var i=0,len=xs.length;i<len;++i)if(!0!==pred(xs[i],i,xs))return!1;return!0},slice=Array.prototype.slice,$_2b6dlmjqjdud7bko={map:map,each:each,eachr:eachr,partition:function(xs,pred){for(var pass=[],fail=[],i=0,len=xs.length;i<len;i++){var x=xs[i];(pred(x,i,xs)?pass:fail).push(x)}return{pass:pass,fail:fail}},filter:filter,groupBy:function(xs,f){if(0===xs.length)return[];for(var wasType=f(xs[0]),r=[],group=[],i=0,len=xs.length;i<len;i++){var x=xs[i],type=f(x);type!==wasType&&(r.push(group),group=[]),wasType=type,group.push(x)}return 0!==group.length&&r.push(group),r},indexOf:function(xs,x){var r=rawIndexOf(xs,x);return-1===r?Option.none():Option.some(r)},foldr:function(xs,f,acc){return eachr(xs,function(x){acc=f(acc,x)}),acc},foldl:function(xs,f,acc){return each(xs,function(x){acc=f(acc,x)}),acc},find:function(xs,pred){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs))return Option.some(x)}return Option.none()},findIndex:findIndex,flatten:flatten,bind:function(xs,f){var output=map(xs,f);return flatten(output)},forall:forall,exists:function(xs,pred){return findIndex(xs,pred).isSome()},contains:contains,equal:function(a1,a2){return a1.length===a2.length&&forall(a1,function(x,i){return x===a2[i]})},reverse:function(xs){var r=slice.call(xs,0);return r.reverse(),r},chunk:function(array,size){for(var r=[],i=0;i<array.length;i+=size){var s=array.slice(i,i+size);r.push(s)}return r},difference:function(a1,a2){return filter(a1,function(x){return!contains(a2,x)})},mapToObject:function(xs,f){for(var r={},i=0,len=xs.length;i<len;i++){var x=xs[i];r[String(x)]=f(x,i)}return r},pure:function(x){return[x]},sort:function(xs,comparator){var copy=slice.call(xs,0);return copy.sort(comparator),copy},range:function(num,f){for(var r=[],i=0;i<num;i++)r.push(f(i));return r},head:function(xs){return 0===xs.length?Option.none():Option.some(xs[0])},last:function(xs){return 0===xs.length?Option.none():Option.some(xs[xs.length-1])}},keys=void 0===(fastKeys=Object.keys)?function(o){var r=[];for(var i in o)o.hasOwnProperty(i)&&r.push(i);return r}:fastKeys,each$1=function(obj,f){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k];f(obj[i],i,obj)}},tupleMap=function(obj,f){var r={};return each$1(obj,function(x,i){var tuple=f(x,i,obj);r[tuple.k]=tuple.v}),r},mapToArray=function(obj,f){var r=[];return each$1(obj,function(value,name){r.push(f(value,name))}),r},values=function(obj){return mapToArray(obj,function(v){return v})},$_fzfxsxjujdud7ble={bifilter:function(obj,pred){var t={},f={};return each$1(obj,function(x,i){(pred(x,i)?t:f)[i]=x}),{t:t,f:f}},each:each$1,map:function(obj,f){return tupleMap(obj,function(x,i,obj){return{k:i,v:f(x,i,obj)}})},mapToArray:mapToArray,tupleMap:tupleMap,find:function(obj,pred){for(var props=keys(obj),k=0,len=props.length;k<len;k++){var i=props[k],x=obj[i];if(pred(x,i,obj))return Option.some(x)}return Option.none()},keys:keys,values:values,size:function(obj){return values(obj).length}},isType=function(type){return function(value){return function(x){if(null===x)return"null";var t=typeof x;return"object"===t&&Array.prototype.isPrototypeOf(x)?"array":"object"===t&&String.prototype.isPrototypeOf(x)?"string":t}(value)===type}},$_duf7n8jzjdud7blu={isString:isType("string"),isObject:isType("object"),isArray:isType("array"),isNull:isType("null"),isBoolean:isType("boolean"),isUndefined:isType("undefined"),isFunction:isType("function"),isNumber:isType("number")},sort$1=function(arr){return arr.slice(0).sort()},$_jsge2jyjdud7bls={sort:sort$1,reqMessage:function(required,keys){throw new Error("All required keys ("+sort$1(required).join(", ")+") were not specified. Specified keys were: "+sort$1(keys).join(", ")+".")},unsuppMessage:function(unsupported){throw new Error("Unsupported keys for object: "+sort$1(unsupported).join(", "))},validateStrArr:function(label,array){if(!$_duf7n8jzjdud7blu.isArray(array))throw new Error("The "+label+" fields must be an array. Was: "+array+".");$_2b6dlmjqjdud7bko.each(array,function(a){if(!$_duf7n8jzjdud7blu.isString(a))throw new Error("The value "+a+" in the "+label+" fields was not a string.")})},invalidTypeMessage:function(incorrect,type){throw new Error("All values need to be of type: "+type+". Keys ("+sort$1(incorrect).join(", ")+") were not.")},checkDupes:function(everything){var sorted=sort$1(everything);$_2b6dlmjqjdud7bko.find(sorted,function(s,i){return i<sorted.length-1&&s===sorted[i+1]}).each(function(d){throw new Error("The field: "+d+" occurs more than once in the combined fields: ["+sorted.join(", ")+"].")})}},$_4vwz6tjvjdud7blm={immutable:function Immutable(){var fields=arguments;return function(){for(var values=new Array(arguments.length),i=0;i<values.length;i++)values[i]=arguments[i];if(fields.length!==values.length)throw new Error('Wrong number of arguments to struct. Expected "['+fields.length+']", got '+values.length+" arguments");var struct={};return $_2b6dlmjqjdud7bko.each(fields,function(name,i){struct[name]=$_e8r7mrjsjdud7bkx.constant(values[i])}),struct}},immutableBag:function MixedBag(required,optional){var everything=required.concat(optional);if(0===everything.length)throw new Error("You must specify at least one required or optional field.");return $_jsge2jyjdud7bls.validateStrArr("required",required),$_jsge2jyjdud7bls.validateStrArr("optional",optional),$_jsge2jyjdud7bls.checkDupes(everything),function(obj){var keys=$_fzfxsxjujdud7ble.keys(obj);$_2b6dlmjqjdud7bko.forall(required,function(req){return $_2b6dlmjqjdud7bko.contains(keys,req)})||$_jsge2jyjdud7bls.reqMessage(required,keys);var unsupported=$_2b6dlmjqjdud7bko.filter(keys,function(key){return!$_2b6dlmjqjdud7bko.contains(everything,key)});0<unsupported.length&&$_jsge2jyjdud7bls.unsuppMessage(unsupported);var r={};return $_2b6dlmjqjdud7bko.each(required,function(req){r[req]=$_e8r7mrjsjdud7bkx.constant(obj[req])}),$_2b6dlmjqjdud7bko.each(optional,function(opt){r[opt]=$_e8r7mrjsjdud7bkx.constant(Object.prototype.hasOwnProperty.call(obj,opt)?Option.some(obj[opt]):Option.none())}),r}}},dimensions=$_4vwz6tjvjdud7blm.immutable("width","height"),grid=$_4vwz6tjvjdud7blm.immutable("rows","columns"),address=$_4vwz6tjvjdud7blm.immutable("row","column"),coords=$_4vwz6tjvjdud7blm.immutable("x","y"),detail=$_4vwz6tjvjdud7blm.immutable("element","rowspan","colspan"),detailnew=$_4vwz6tjvjdud7blm.immutable("element","rowspan","colspan","isNew"),$_g6h236k1jdud7bm2={dimensions:dimensions,grid:grid,address:address,coords:coords,extended:$_4vwz6tjvjdud7blm.immutable("element","rowspan","colspan","row","column"),detail:detail,detailnew:detailnew,rowdata:$_4vwz6tjvjdud7blm.immutable("element","cells","section"),elementnew:$_4vwz6tjvjdud7blm.immutable("element","isNew"),rowdatanew:$_4vwz6tjvjdud7blm.immutable("element","cells","section","isNew"),rowcells:$_4vwz6tjvjdud7blm.immutable("cells","section"),rowdetails:$_4vwz6tjvjdud7blm.immutable("details","section"),bounds:$_4vwz6tjvjdud7blm.immutable("startRow","startCol","finishRow","finishCol")},fromDom=function(node){if(null==node)throw new Error("Node cannot be null or undefined");return{dom:$_e8r7mrjsjdud7bkx.constant(node)}},$_2q3j53k5jdud7bmr={fromHtml:function(html,scope){var div=(scope||document).createElement("div");if(div.innerHTML=html,!div.hasChildNodes()||1<div.childNodes.length)throw console.error("HTML does not have a single root node",html),"HTML must have a single root node";return fromDom(div.childNodes[0])},fromTag:function(tag,scope){var node=(scope||document).createElement(tag);return fromDom(node)},fromText:function(text,scope){var node=(scope||document).createTextNode(text);return fromDom(node)},fromDom:fromDom,fromPoint:function(doc,x,y){return Option.from(doc.dom().elementFromPoint(x,y)).map(fromDom)}},$_4yj7d2k6jdud7bmv_COMMENT=8,$_4yj7d2k6jdud7bmv_DOCUMENT=9,$_4yj7d2k6jdud7bmv_ELEMENT=1,$_4yj7d2k6jdud7bmv_TEXT=3,ELEMENT=$_4yj7d2k6jdud7bmv_ELEMENT,DOCUMENT=$_4yj7d2k6jdud7bmv_DOCUMENT,bypassSelector=function(dom){return dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT||0===dom.childElementCount},$_zvi87k4jdud7bmn={all:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?[]:$_2b6dlmjqjdud7bko.map(base.querySelectorAll(selector),$_2q3j53k5jdud7bmr.fromDom)},is:function(element,selector){var elem=element.dom();if(elem.nodeType!==ELEMENT)return!1;if(void 0!==elem.matches)return elem.matches(selector);if(void 0!==elem.msMatchesSelector)return elem.msMatchesSelector(selector);if(void 0!==elem.webkitMatchesSelector)return elem.webkitMatchesSelector(selector);if(void 0!==elem.mozMatchesSelector)return elem.mozMatchesSelector(selector);throw new Error("Browser lacks native selectors")},one:function(selector,scope){var base=void 0===scope?document:scope.dom();return bypassSelector(base)?Option.none():Option.from(base.querySelector(selector)).map($_2q3j53k5jdud7bmr.fromDom)}},$_6g257sk8jdud7bn6_toArray=function(target,f){for(var r=[],recurse=function(e){return r.push(e),f(e)},cur=f(target);(cur=cur.bind(recurse)).isSome(););return r},global="undefined"!=typeof window?window:Function("return this;")(),path=function(parts,scope){for(var o=null!=scope?scope:global,i=0;i<parts.length&&null!=o;++i)o=o[parts[i]];return o},$_1youybkcjdud7bno_resolve=function(p,scope){var parts=p.split(".");return path(parts,scope)},$_geldl3kbjdud7bnf_getOrDie=function(name,scope){var actual=function(name,scope){return $_1youybkcjdud7bno_resolve(name,scope)}(name,scope);if(null==actual)throw name+" not available on this browser";return actual},node=function(){return $_geldl3kbjdud7bnf_getOrDie("Node")},compareDocumentPosition=function(a,b,match){return 0!=(a.compareDocumentPosition(b)&match)},$_8cyrgxkajdud7bne_documentPositionContainedBy=function(a,b){return compareDocumentPosition(a,b,node().DOCUMENT_POSITION_CONTAINED_BY)},$_fkkxj4kfjdud7bns_cached=function(f){var r,called=!1;return function(){return called||(called=!0,r=f.apply(null,arguments)),r}},unknown=function(){return nu(0,0)},nu=function(major,minor){return{major:major,minor:minor}},$_1nzphakijdud7bny={nu:nu,detect:function(versionRegexes,agent){var cleanedAgent=String(agent).toLowerCase();return 0===versionRegexes.length?unknown():function(regexes,agent){var r=function(regexes,s){for(var i=0;i<regexes.length;i++){var x=regexes[i];if(x.test(s))return x}}(regexes,agent);if(!r)return{major:0,minor:0};var group=function(i){return Number(agent.replace(r,"$"+i))};return nu(group(1),group(2))}(versionRegexes,cleanedAgent)},unknown:unknown},isBrowser=function(name,current){return function(){return current===name}},nu$1=function(info){var current=info.current;return{current:current,version:info.version,isEdge:isBrowser("Edge",current),isChrome:isBrowser("Chrome",current),isIE:isBrowser("IE",current),isOpera:isBrowser("Opera",current),isFirefox:isBrowser("Firefox",current),isSafari:isBrowser("Safari",current)}},$_egui95khjdud7bnv={unknown:function(){return nu$1({current:void 0,version:$_1nzphakijdud7bny.unknown()})},nu:nu$1,edge:$_e8r7mrjsjdud7bkx.constant("Edge"),chrome:$_e8r7mrjsjdud7bkx.constant("Chrome"),ie:$_e8r7mrjsjdud7bkx.constant("IE"),opera:$_e8r7mrjsjdud7bkx.constant("Opera"),firefox:$_e8r7mrjsjdud7bkx.constant("Firefox"),safari:$_e8r7mrjsjdud7bkx.constant("Safari")},isOS=function(name,current){return function(){return current===name}},nu$2=function(info){var current=info.current;return{current:current,version:info.version,isWindows:isOS("Windows",current),isiOS:isOS("iOS",current),isAndroid:isOS("Android",current),isOSX:isOS("OSX",current),isLinux:isOS("Linux",current),isSolaris:isOS("Solaris",current),isFreeBSD:isOS("FreeBSD",current)}},$_11ab7ekjjdud7bo1={unknown:function(){return nu$2({current:void 0,version:$_1nzphakijdud7bny.unknown()})},nu:nu$2,windows:$_e8r7mrjsjdud7bkx.constant("Windows"),ios:$_e8r7mrjsjdud7bkx.constant("iOS"),android:$_e8r7mrjsjdud7bkx.constant("Android"),linux:$_e8r7mrjsjdud7bkx.constant("Linux"),osx:$_e8r7mrjsjdud7bkx.constant("OSX"),solaris:$_e8r7mrjsjdud7bkx.constant("Solaris"),freebsd:$_e8r7mrjsjdud7bkx.constant("FreeBSD")},detect$1=function(candidates,userAgent){var agent=String(userAgent).toLowerCase();return $_2b6dlmjqjdud7bko.find(candidates,function(candidate){return candidate.search(agent)})},$_3yx7dkljdud7bo6_detectBrowser=function(browsers,userAgent){return detect$1(browsers,userAgent).map(function(browser){var version=$_1nzphakijdud7bny.detect(browser.versionRegexes,userAgent);return{current:browser.name,version:version}})},$_3yx7dkljdud7bo6_detectOs=function(oses,userAgent){return detect$1(oses,userAgent).map(function(os){var version=$_1nzphakijdud7bny.detect(os.versionRegexes,userAgent);return{current:os.name,version:version}})},$_awqw62kojdud7boj_addToStart=function(str,prefix){return prefix+str},$_awqw62kojdud7boj_addToEnd=function(str,suffix){return str+suffix},$_awqw62kojdud7boj_removeFromStart=function(str,numChars){return str.substring(numChars)},$_awqw62kojdud7boj_removeFromEnd=function(str,numChars){return str.substring(0,str.length-numChars)},$_fhuohkkpjdud7bok_head=function(str){return""===str?Option.none():Option.some(str.substr(0,1))},$_fhuohkkpjdud7bok_tail=function(str){return""===str?Option.none():Option.some(str.substring(1))},checkRange=function(str,substr,start){return""===substr||!(str.length<substr.length)&&str.substr(start,start+substr.length)===substr},startsWith=function(str,prefix){return checkRange(str,prefix,0)},endsWith=function(str,suffix){return checkRange(str,suffix,str.length-suffix.length)},$_a5si2uknjdud7bog={supplant:function(str,obj){return str.replace(/\${([^{}]*)}/g,function(a,b){var value=obj[b];return function(a){var t=typeof a;return"string"===t||"number"===t}(value)?value:a})},startsWith:startsWith,removeLeading:function(str,prefix){return startsWith(str,prefix)?$_awqw62kojdud7boj_removeFromStart(str,prefix.length):str},removeTrailing:function(str,prefix){return endsWith(str,prefix)?$_awqw62kojdud7boj_removeFromEnd(str,prefix.length):str},ensureLeading:function(str,prefix){return startsWith(str,prefix)?str:$_awqw62kojdud7boj_addToStart(str,prefix)},ensureTrailing:function(str,prefix){return endsWith(str,prefix)?str:$_awqw62kojdud7boj_addToEnd(str,prefix)},endsWith:endsWith,contains:function(str,substr){return-1!==str.indexOf(substr)},trim:function(str){return str.replace(/^\s+|\s+$/g,"")},lTrim:function(str){return str.replace(/^\s+/g,"")},rTrim:function(str){return str.replace(/\s+$/g,"")},capitalize:function(str){return $_fhuohkkpjdud7bok_head(str).bind(function(head){return $_fhuohkkpjdud7bok_tail(str).map(function(tail){return head.toUpperCase()+tail})}).getOr(str)}},normalVersionRegex=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,checkContains=function(target){return function(uastring){return $_a5si2uknjdud7bog.contains(uastring,target)}},browsers=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(uastring){return $_a5si2uknjdud7bog.contains(uastring,"edge/")&&$_a5si2uknjdud7bog.contains(uastring,"chrome")&&$_a5si2uknjdud7bog.contains(uastring,"safari")&&$_a5si2uknjdud7bog.contains(uastring,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,normalVersionRegex],search:function(uastring){return $_a5si2uknjdud7bog.contains(uastring,"chrome")&&!$_a5si2uknjdud7bog.contains(uastring,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(uastring){return $_a5si2uknjdud7bog.contains(uastring,"msie")||$_a5si2uknjdud7bog.contains(uastring,"trident")}},{name:"Opera",versionRegexes:[normalVersionRegex,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:checkContains("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:checkContains("firefox")},{name:"Safari",versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(uastring){return($_a5si2uknjdud7bog.contains(uastring,"safari")||$_a5si2uknjdud7bog.contains(uastring,"mobile/"))&&$_a5si2uknjdud7bog.contains(uastring,"applewebkit")}}],oses=[{name:"Windows",search:checkContains("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(uastring){return $_a5si2uknjdud7bog.contains(uastring,"iphone")||$_a5si2uknjdud7bog.contains(uastring,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:checkContains("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:checkContains("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:checkContains("linux"),versionRegexes:[]},{name:"Solaris",search:checkContains("sunos"),versionRegexes:[]},{name:"FreeBSD",search:checkContains("freebsd"),versionRegexes:[]}],$_9h3blckmjdud7bob={browsers:$_e8r7mrjsjdud7bkx.constant(browsers),oses:$_e8r7mrjsjdud7bkx.constant(oses)},$_4o2cd2kgjdud7bnt_detect=function(userAgent){var browsers=$_9h3blckmjdud7bob.browsers(),oses=$_9h3blckmjdud7bob.oses(),browser=$_3yx7dkljdud7bo6_detectBrowser(browsers,userAgent).fold($_egui95khjdud7bnv.unknown,$_egui95khjdud7bnv.nu),os=$_3yx7dkljdud7bo6_detectOs(oses,userAgent).fold($_11ab7ekjjdud7bo1.unknown,$_11ab7ekjjdud7bo1.nu);return{browser:browser,os:os,deviceType:function DeviceType(os,browser,userAgent){var isiPad=os.isiOS()&&!0===/ipad/i.test(userAgent),isiPhone=os.isiOS()&&!isiPad,isAndroid3=os.isAndroid()&&3===os.version.major,isAndroid4=os.isAndroid()&&4===os.version.major,isTablet=isiPad||isAndroid3||isAndroid4&&!0===/mobile/i.test(userAgent),isTouch=os.isiOS()||os.isAndroid(),isPhone=isTouch&&!isTablet,iOSwebview=browser.isSafari()&&os.isiOS()&&!1===/safari/i.test(userAgent);return{isiPad:$_e8r7mrjsjdud7bkx.constant(isiPad),isiPhone:$_e8r7mrjsjdud7bkx.constant(isiPhone),isTablet:$_e8r7mrjsjdud7bkx.constant(isTablet),isPhone:$_e8r7mrjsjdud7bkx.constant(isPhone),isTouch:$_e8r7mrjsjdud7bkx.constant(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:$_e8r7mrjsjdud7bkx.constant(iOSwebview)}}(os,browser,userAgent)}},$_e4jb8lkejdud7bnr={detect:$_fkkxj4kfjdud7bns_cached(function(){var userAgent=navigator.userAgent;return $_4o2cd2kgjdud7bnt_detect(userAgent)})},eq=function(e1,e2){return e1.dom()===e2.dom()},contains$2=$_e4jb8lkejdud7bnr.detect().browser.isIE()?function(e1,e2){return $_8cyrgxkajdud7bne_documentPositionContainedBy(e1.dom(),e2.dom())}:function(e1,e2){var d1=e1.dom(),d2=e2.dom();return d1!==d2&&d1.contains(d2)},$_6nkapzk9jdud7bn7={eq:eq,isEqualNode:function(e1,e2){return e1.dom().isEqualNode(e2.dom())},member:function(element,elements){return $_2b6dlmjqjdud7bko.exists(elements,$_e8r7mrjsjdud7bkx.curry(eq,element))},contains:contains$2,is:$_zvi87k4jdud7bmn.is},owner=function(element){return $_2q3j53k5jdud7bmr.fromDom(element.dom().ownerDocument)},parent=function(element){var dom=element.dom();return Option.from(dom.parentNode).map($_2q3j53k5jdud7bmr.fromDom)},prevSibling=function(element){var dom=element.dom();return Option.from(dom.previousSibling).map($_2q3j53k5jdud7bmr.fromDom)},nextSibling=function(element){var dom=element.dom();return Option.from(dom.nextSibling).map($_2q3j53k5jdud7bmr.fromDom)},children=function(element){var dom=element.dom();return $_2b6dlmjqjdud7bko.map(dom.childNodes,$_2q3j53k5jdud7bmr.fromDom)},child=function(element,index){var children=element.dom().childNodes;return Option.from(children[index]).map($_2q3j53k5jdud7bmr.fromDom)},spot=$_4vwz6tjvjdud7blm.immutable("element","offset"),$_9s8a4jk7jdud7bmw={owner:owner,defaultView:function(element){var defaultView=element.dom().ownerDocument.defaultView;return $_2q3j53k5jdud7bmr.fromDom(defaultView)},documentElement:function(element){var doc=owner(element);return $_2q3j53k5jdud7bmr.fromDom(doc.dom().documentElement)},parent:parent,findIndex:function(element){return parent(element).bind(function(p){var kin=children(p);return $_2b6dlmjqjdud7bko.findIndex(kin,function(elem){return $_6nkapzk9jdud7bn7.eq(element,elem)})})},parents:function(element,isRoot){for(var stop=$_duf7n8jzjdud7blu.isFunction(isRoot)?isRoot:$_e8r7mrjsjdud7bkx.constant(!1),dom=element.dom(),ret=[];null!==dom.parentNode&&void 0!==dom.parentNode;){var rawParent=dom.parentNode,parent=$_2q3j53k5jdud7bmr.fromDom(rawParent);if(ret.push(parent),!0===stop(parent))break;dom=rawParent}return ret},siblings:function(element){return parent(element).map(children).map(function(elements){return $_2b6dlmjqjdud7bko.filter(elements,function(x){return!$_6nkapzk9jdud7bn7.eq(element,x)})}).getOr([])},prevSibling:prevSibling,offsetParent:function(element){var dom=element.dom();return Option.from(dom.offsetParent).map($_2q3j53k5jdud7bmr.fromDom)},prevSiblings:function(element){return $_2b6dlmjqjdud7bko.reverse($_6g257sk8jdud7bn6_toArray(element,prevSibling))},nextSibling:nextSibling,nextSiblings:function(element){return $_6g257sk8jdud7bn6_toArray(element,nextSibling)},children:children,child:child,firstChild:function(element){return child(element,0)},lastChild:function(element){return child(element,element.dom().childNodes.length-1)},childNodesCount:function(element){return element.dom().childNodes.length},hasChildNodes:function(element){return element.dom().hasChildNodes()},leaf:function(element,offset){var cs=children(element);return 0<cs.length&&offset<cs.length?spot(cs[offset],0):spot(element,offset)}},filterFirstLayer=function(scope,selector,predicate){return $_2b6dlmjqjdud7bko.bind($_9s8a4jk7jdud7bmw.children(scope),function(x){return $_zvi87k4jdud7bmn.is(x,selector)?predicate(x)?[x]:[]:filterFirstLayer(x,selector,predicate)})},$_7iyapuk3jdud7bmh={firstLayer:function(scope,selector){return filterFirstLayer(scope,selector,$_e8r7mrjsjdud7bkx.constant(!0))},filterFirstLayer:filterFirstLayer},name=function(element){return element.dom().nodeName.toLowerCase()},type=function(element){return element.dom().nodeType},isType$1=function(t){return function(element){return type(element)===t}},isElement=isType$1($_4yj7d2k6jdud7bmv_ELEMENT),isText=isType$1($_4yj7d2k6jdud7bmv_TEXT),isDocument=isType$1($_4yj7d2k6jdud7bmv_DOCUMENT),$_1102zvkrjdud7bou={name:name,type:type,value:function(element){return element.dom().nodeValue},isElement:isElement,isText:isText,isDocument:isDocument,isComment:function(element){return type(element)===$_4yj7d2k6jdud7bmv_COMMENT||"#comment"===name(element)}},rawSet=function(dom,key,value){if(!($_duf7n8jzjdud7blu.isString(value)||$_duf7n8jzjdud7blu.isBoolean(value)||$_duf7n8jzjdud7blu.isNumber(value)))throw console.error("Invalid call to Attr.set. Key ",key,":: Value ",value,":: Element ",dom),new Error("Attribute value was not simple");dom.setAttribute(key,value+"")},set=function(element,key,value){rawSet(element.dom(),key,value)},get=function(element,key){var v=element.dom().getAttribute(key);return null===v?void 0:v},has=function(element,key){var dom=element.dom();return!(!dom||!dom.hasAttribute)&&dom.hasAttribute(key)},$_1ei337kqjdud7bom={clone:function(element){return $_2b6dlmjqjdud7bko.foldl(element.dom().attributes,function(acc,attr){return acc[attr.name]=attr.value,acc},{})},set:set,setAll:function(element,attrs){var dom=element.dom();$_fzfxsxjujdud7ble.each(attrs,function(v,k){rawSet(dom,k,v)})},get:get,has:has,remove:function(element,key){element.dom().removeAttribute(key)},hasNone:function(element){var attrs=element.dom().attributes;return null==attrs||0===attrs.length},transfer:function(source,destination,attrs){$_1102zvkrjdud7bou.isElement(source)&&$_1102zvkrjdud7bou.isElement(destination)&&$_2b6dlmjqjdud7bko.each(attrs,function(attr){!function(source,destination,attr){has(source,attr)&&!has(destination,attr)&&set(destination,attr,get(source,attr))}(source,destination,attr)})}},body=$_fkkxj4kfjdud7bns_cached(function(){return getBody($_2q3j53k5jdud7bmr.fromDom(document))}),getBody=function(doc){var body=doc.dom().body;if(null==body)throw"Body is not available yet";return $_2q3j53k5jdud7bmr.fromDom(body)},$_4q6kiskujdud7bp0={body:body,getBody:getBody,inBody:function(element){var dom=$_1102zvkrjdud7bou.isText(element)?element.dom().parentNode:element.dom();return null!=dom&&dom.ownerDocument.body.contains(dom)}},descendants=function(scope,predicate){var result=[];return $_2b6dlmjqjdud7bko.each($_9s8a4jk7jdud7bmw.children(scope),function(x){predicate(x)&&(result=result.concat([x])),result=result.concat(descendants(x,predicate))}),result},$_6237bpktjdud7box={all:function(predicate){return descendants($_4q6kiskujdud7bp0.body(),predicate)},ancestors:function(scope,predicate,isRoot){return $_2b6dlmjqjdud7bko.filter($_9s8a4jk7jdud7bmw.parents(scope,isRoot),predicate)},siblings:function(scope,predicate){return $_2b6dlmjqjdud7bko.filter($_9s8a4jk7jdud7bmw.siblings(scope),predicate)},children:function(scope,predicate){return $_2b6dlmjqjdud7bko.filter($_9s8a4jk7jdud7bmw.children(scope),predicate)},descendants:descendants},$_b4a6sqksjdud7bov={all:function(selector){return $_zvi87k4jdud7bmn.all(selector)},ancestors:function(scope,selector,isRoot){return $_6237bpktjdud7box.ancestors(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)},isRoot)},siblings:function(scope,selector){return $_6237bpktjdud7box.siblings(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)})},children:function(scope,selector){return $_6237bpktjdud7box.children(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)})},descendants:function(scope,selector){return $_zvi87k4jdud7bmn.all(selector,scope)}};function ClosestOrAncestor(is,ancestor,scope,a,isRoot){return is(scope,a)?Option.some(scope):$_duf7n8jzjdud7blu.isFunction(isRoot)&&isRoot(scope)?Option.none():ancestor(scope,a,isRoot)}var ancestor=function(scope,predicate,isRoot){for(var element=scope.dom(),stop=$_duf7n8jzjdud7blu.isFunction(isRoot)?isRoot:$_e8r7mrjsjdud7bkx.constant(!1);element.parentNode;){element=element.parentNode;var el=$_2q3j53k5jdud7bmr.fromDom(element);if(predicate(el))return Option.some(el);if(stop(el))break}return Option.none()},child$1=function(scope,predicate){return $_2b6dlmjqjdud7bko.find(scope.dom().childNodes,$_e8r7mrjsjdud7bkx.compose(predicate,$_2q3j53k5jdud7bmr.fromDom)).map($_2q3j53k5jdud7bmr.fromDom)},descendant=function(scope,predicate){var descend=function(element){for(var i=0;i<element.childNodes.length;i++){if(predicate($_2q3j53k5jdud7bmr.fromDom(element.childNodes[i])))return Option.some($_2q3j53k5jdud7bmr.fromDom(element.childNodes[i]));var res=descend(element.childNodes[i]);if(res.isSome())return res}return Option.none()};return descend(scope.dom())},$_70n3lxkwjdud7bp4={first:function(predicate){return descendant($_4q6kiskujdud7bp0.body(),predicate)},ancestor:ancestor,closest:function(scope,predicate,isRoot){return ClosestOrAncestor(function(scope){return predicate(scope)},ancestor,scope,predicate,isRoot)},sibling:function(scope,predicate){var element=scope.dom();return element.parentNode?child$1($_2q3j53k5jdud7bmr.fromDom(element.parentNode),function(x){return!$_6nkapzk9jdud7bn7.eq(scope,x)&&predicate(x)}):Option.none()},child:child$1,descendant:descendant},ancestor$1=function(scope,selector,isRoot){return $_70n3lxkwjdud7bp4.ancestor(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)},isRoot)},$_a3r4h1kvjdud7bp3={first:function(selector){return $_zvi87k4jdud7bmn.one(selector)},ancestor:ancestor$1,sibling:function(scope,selector){return $_70n3lxkwjdud7bp4.sibling(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)})},child:function(scope,selector){return $_70n3lxkwjdud7bp4.child(scope,function(e){return $_zvi87k4jdud7bmn.is(e,selector)})},descendant:function(scope,selector){return $_zvi87k4jdud7bmn.one(selector,scope)},closest:function(scope,selector,isRoot){return ClosestOrAncestor($_zvi87k4jdud7bmn.is,ancestor$1,scope,selector,isRoot)}},lookup=function(tags,element,_isRoot){var isRoot=void 0!==_isRoot?_isRoot:$_e8r7mrjsjdud7bkx.constant(!1);return isRoot(element)?Option.none():$_2b6dlmjqjdud7bko.contains(tags,$_1102zvkrjdud7bou.name(element))?Option.some(element):$_a3r4h1kvjdud7bp3.ancestor(element,tags.join(","),function(element){return $_zvi87k4jdud7bmn.is(element,"table")||isRoot(element)})},neighbours=function(selector,element){return $_9s8a4jk7jdud7bmw.parent(element).map(function(parent){return $_b4a6sqksjdud7bov.children(parent,selector)})},neighbourCells=$_e8r7mrjsjdud7bkx.curry(neighbours,"th,td"),neighbourRows=$_e8r7mrjsjdud7bkx.curry(neighbours,"tr"),attr=function(element,property){return parseInt($_1ei337kqjdud7bom.get(element,property),10)},$_e5b08wk2jdud7bm5={cell:function(element,isRoot){return lookup(["td","th"],element,isRoot)},firstCell:function(ancestor){return $_a3r4h1kvjdud7bp3.descendant(ancestor,"th,td")},cells:function(ancestor){return $_7iyapuk3jdud7bmh.firstLayer(ancestor,"th,td")},neighbourCells:neighbourCells,table:function(element,isRoot){return $_a3r4h1kvjdud7bp3.closest(element,"table",isRoot)},row:function(element,isRoot){return lookup(["tr"],element,isRoot)},rows:function(ancestor){return $_7iyapuk3jdud7bmh.firstLayer(ancestor,"tr")},notCell:function(element,isRoot){return lookup(["caption","tr","tbody","tfoot","thead"],element,isRoot)},neighbourRows:neighbourRows,attr:attr,grid:function(element,rowProp,colProp){var rows=attr(element,rowProp),cols=attr(element,colProp);return $_g6h236k1jdud7bm2.grid(rows,cols)}},$_bfx1aek0jdud7blw_fromTable=function(table){var rows=$_e5b08wk2jdud7bm5.rows(table);return $_2b6dlmjqjdud7bko.map(rows,function(row){var element=row,parentSection=$_9s8a4jk7jdud7bmw.parent(element).bind(function(parent){var parentName=$_1102zvkrjdud7bou.name(parent);return"tfoot"===parentName||"thead"===parentName||"tbody"===parentName?parentName:"tbody"}),cells=$_2b6dlmjqjdud7bko.map($_e5b08wk2jdud7bm5.cells(row),function(cell){var rowspan=$_1ei337kqjdud7bom.has(cell,"rowspan")?parseInt($_1ei337kqjdud7bom.get(cell,"rowspan"),10):1,colspan=$_1ei337kqjdud7bom.has(cell,"colspan")?parseInt($_1ei337kqjdud7bom.get(cell,"colspan"),10):1;return $_g6h236k1jdud7bm2.detail(cell,rowspan,colspan)});return $_g6h236k1jdud7bm2.rowdata(element,cells,parentSection)})},$_bfx1aek0jdud7blw_fromPastedRows=function(rows,example){return $_2b6dlmjqjdud7bko.map(rows,function(row){var cells=$_2b6dlmjqjdud7bko.map($_e5b08wk2jdud7bm5.cells(row),function(cell){var rowspan=$_1ei337kqjdud7bom.has(cell,"rowspan")?parseInt($_1ei337kqjdud7bom.get(cell,"rowspan"),10):1,colspan=$_1ei337kqjdud7bom.has(cell,"colspan")?parseInt($_1ei337kqjdud7bom.get(cell,"colspan"),10):1;return $_g6h236k1jdud7bm2.detail(cell,rowspan,colspan)});return $_g6h236k1jdud7bm2.rowdata(row,cells,example.section())})},key=function(row,column){return row+","+column},filterItems=function(warehouse,predicate){var all=$_2b6dlmjqjdud7bko.bind(warehouse.all(),function(r){return r.cells()});return $_2b6dlmjqjdud7bko.filter(all,predicate)},$_ftidmkkyjdud7bpf={generate:function(list){var access={},cells=[],maxRows=list.length,maxColumns=0;$_2b6dlmjqjdud7bko.each(list,function(details,r){var currentRow=[];$_2b6dlmjqjdud7bko.each(details.cells(),function(detail,c){for(var start=0;void 0!==access[key(r,start)];)start++;for(var current=$_g6h236k1jdud7bm2.extended(detail.element(),detail.rowspan(),detail.colspan(),r,start),i=0;i<detail.colspan();i++)for(var j=0;j<detail.rowspan();j++){var cc=start+i,newpos=key(r+j,cc);access[newpos]=current,maxColumns=Math.max(maxColumns,cc+1)}currentRow.push(current)}),cells.push($_g6h236k1jdud7bm2.rowdata(details.element(),currentRow,details.section()))});var grid=$_g6h236k1jdud7bm2.grid(maxRows,maxColumns);return{grid:$_e8r7mrjsjdud7bkx.constant(grid),access:$_e8r7mrjsjdud7bkx.constant(access),all:$_e8r7mrjsjdud7bkx.constant(cells)}},getAt:function(warehouse,row,column){var raw=warehouse.access()[key(row,column)];return void 0!==raw?Option.some(raw):Option.none()},findItem:function(warehouse,item,comparator){var filtered=filterItems(warehouse,function(detail){return comparator(item,detail.element())});return 0<filtered.length?Option.some(filtered[0]):Option.none()},filterItems:filterItems,justCells:function(warehouse){var rows=$_2b6dlmjqjdud7bko.map(warehouse.all(),function(w){return w.cells()});return $_2b6dlmjqjdud7bko.flatten(rows)}},$_ac63a8l0jdud7bq3={isSupported:function(dom){return void 0!==dom.style}},internalSet=function(dom,property,value){if(!$_duf7n8jzjdud7blu.isString(value))throw console.error("Invalid call to CSS.set. Property ",property,":: Value ",value,":: Element ",dom),new Error("CSS value must be a string: "+value);$_ac63a8l0jdud7bq3.isSupported(dom)&&dom.style.setProperty(property,value)},internalRemove=function(dom,property){$_ac63a8l0jdud7bq3.isSupported(dom)&&dom.style.removeProperty(property)},set$1=function(element,property,value){var dom=element.dom();internalSet(dom,property,value)},getUnsafeProperty=function(dom,property){return $_ac63a8l0jdud7bq3.isSupported(dom)?dom.style.getPropertyValue(property):""},getRaw=function(element,property){var dom=element.dom(),raw=getUnsafeProperty(dom,property);return Option.from(raw).filter(function(r){return 0<r.length})},$_b5rw3dkzjdud7bpm={copy:function(source,target){var sourceDom=source.dom(),targetDom=target.dom();$_ac63a8l0jdud7bq3.isSupported(sourceDom)&&$_ac63a8l0jdud7bq3.isSupported(targetDom)&&(targetDom.style.cssText=sourceDom.style.cssText)},set:set$1,preserve:function(element,f){var oldStyles=$_1ei337kqjdud7bom.get(element,"style"),result=f(element);return(void 0===oldStyles?$_1ei337kqjdud7bom.remove:$_1ei337kqjdud7bom.set)(element,"style",oldStyles),result},setAll:function(element,css){var dom=element.dom();$_fzfxsxjujdud7ble.each(css,function(v,k){internalSet(dom,k,v)})},setOptions:function(element,css){var dom=element.dom();$_fzfxsxjujdud7ble.each(css,function(v,k){v.fold(function(){internalRemove(dom,k)},function(value){internalSet(dom,k,value)})})},remove:function(element,property){var dom=element.dom();internalRemove(dom,property),$_1ei337kqjdud7bom.has(element,"style")&&""===$_a5si2uknjdud7bog.trim($_1ei337kqjdud7bom.get(element,"style"))&&$_1ei337kqjdud7bom.remove(element,"style")},get:function(element,property){var dom=element.dom(),r=window.getComputedStyle(dom).getPropertyValue(property),v=""!==r||$_4q6kiskujdud7bp0.inBody(element)?r:getUnsafeProperty(dom,property);return null===v?void 0:v},getRaw:getRaw,getAllRaw:function(element){var css={},dom=element.dom();if($_ac63a8l0jdud7bq3.isSupported(dom))for(var i=0;i<dom.style.length;i++){var ruleName=dom.style.item(i);css[ruleName]=dom.style[ruleName]}return css},isValidValue:function(tag,property,value){var element=$_2q3j53k5jdud7bmr.fromTag(tag);return set$1(element,property,value),getRaw(element,property).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(source,destination,styles){$_1102zvkrjdud7bou.isElement(source)&&$_1102zvkrjdud7bou.isElement(destination)&&$_2b6dlmjqjdud7bko.each(styles,function(style){!function(source,destination,style){getRaw(source,style).each(function(value){getRaw(destination,style).isNone()&&set$1(destination,style,value)})}(source,destination,style)})}},before=function(marker,element){$_9s8a4jk7jdud7bmw.parent(marker).each(function(v){v.dom().insertBefore(element.dom(),marker.dom())})},append=function(parent,element){parent.dom().appendChild(element.dom())},$_b9f8rkl1jdud7bq5={before:before,after:function(marker,element){$_9s8a4jk7jdud7bmw.nextSibling(marker).fold(function(){$_9s8a4jk7jdud7bmw.parent(marker).each(function(v){append(v,element)})},function(v){before(v,element)})},prepend:function(parent,element){$_9s8a4jk7jdud7bmw.firstChild(parent).fold(function(){append(parent,element)},function(v){parent.dom().insertBefore(element.dom(),v.dom())})},append:append,appendAt:function(parent,element,index){$_9s8a4jk7jdud7bmw.child(parent,index).fold(function(){append(parent,element)},function(v){before(v,element)})},wrap:function(element,wrapper){before(element,wrapper),append(wrapper,element)}},$_3zxknwl3jdud7bq9={before:function(marker,elements){$_2b6dlmjqjdud7bko.each(elements,function(x){$_b9f8rkl1jdud7bq5.before(marker,x)})},after:function(marker,elements){$_2b6dlmjqjdud7bko.each(elements,function(x,i){var e=0===i?marker:elements[i-1];$_b9f8rkl1jdud7bq5.after(e,x)})},prepend:function(parent,elements){$_2b6dlmjqjdud7bko.each(elements.slice().reverse(),function(x){$_b9f8rkl1jdud7bq5.prepend(parent,x)})},append:function(parent,elements){$_2b6dlmjqjdud7bko.each(elements,function(x){$_b9f8rkl1jdud7bq5.append(parent,x)})}},remove$2=function(element){var dom=element.dom();null!==dom.parentNode&&dom.parentNode.removeChild(dom)},$_g2ty44l2jdud7bq6={empty:function(element){element.dom().textContent="",$_2b6dlmjqjdud7bko.each($_9s8a4jk7jdud7bmw.children(element),function(rogue){remove$2(rogue)})},remove:remove$2,unwrap:function(wrapper){var children=$_9s8a4jk7jdud7bmw.children(wrapper);0<children.length&&$_3zxknwl3jdud7bq9.before(wrapper,children),remove$2(wrapper)}},stats=$_4vwz6tjvjdud7blm.immutable("minRow","minCol","maxRow","maxCol"),findSelectedStats=function(house,isSelected){var totalColumns=house.grid().columns(),minRow=house.grid().rows(),minCol=totalColumns,maxRow=0,maxCol=0;return $_fzfxsxjujdud7ble.each(house.access(),function(detail){if(isSelected(detail)){var startRow=detail.row(),endRow=startRow+detail.rowspan()-1,startCol=detail.column(),endCol=startCol+detail.colspan()-1;startRow<minRow?minRow=startRow:maxRow<endRow&&(maxRow=endRow),startCol<minCol?minCol=startCol:maxCol<endCol&&(maxCol=endCol)}}),stats(minRow,minCol,maxRow,maxCol)},makeCell=function(list,seenSelected,rowIndex){var row=list[rowIndex].element(),td=$_2q3j53k5jdud7bmr.fromTag("td");$_b9f8rkl1jdud7bq5.append(td,$_2q3j53k5jdud7bmr.fromTag("br")),(seenSelected?$_b9f8rkl1jdud7bq5.append:$_b9f8rkl1jdud7bq5.prepend)(row,td)},$_flk5m5jtjdud7bl0_extract=function(table,selectedSelector){var isSelected=function(detail){return $_zvi87k4jdud7bmn.is(detail.element(),selectedSelector)},list=$_bfx1aek0jdud7blw_fromTable(table),house=$_ftidmkkyjdud7bpf.generate(list),stats=findSelectedStats(house,isSelected),selector="th:not("+selectedSelector+"),td:not("+selectedSelector+")",unselectedCells=$_7iyapuk3jdud7bmh.filterFirstLayer(table,"th,td",function(cell){return $_zvi87k4jdud7bmn.is(cell,selector)});return $_2b6dlmjqjdud7bko.each(unselectedCells,$_g2ty44l2jdud7bq6.remove),function(list,house,stats,isSelected){for(var totalColumns=house.grid().columns(),totalRows=house.grid().rows(),i=0;i<totalRows;i++)for(var seenSelected=!1,j=0;j<totalColumns;j++)i<stats.minRow()||i>stats.maxRow()||j<stats.minCol()||j>stats.maxCol()||($_ftidmkkyjdud7bpf.getAt(house,i,j).filter(isSelected).isNone()?makeCell(list,seenSelected,i):seenSelected=!0)}(list,house,stats,isSelected),function(table,stats){var emptyRows=$_2b6dlmjqjdud7bko.filter($_7iyapuk3jdud7bmh.firstLayer(table,"tr"),function(row){return 0===row.dom().childElementCount});$_2b6dlmjqjdud7bko.each(emptyRows,$_g2ty44l2jdud7bq6.remove),stats.minCol()!==stats.maxCol()&&stats.minRow()!==stats.maxRow()||$_2b6dlmjqjdud7bko.each($_7iyapuk3jdud7bmh.firstLayer(table,"th,td"),function(cell){$_1ei337kqjdud7bom.remove(cell,"rowspan"),$_1ei337kqjdud7bom.remove(cell,"colspan")}),$_1ei337kqjdud7bom.remove(table,"width"),$_1ei337kqjdud7bom.remove(table,"height"),$_b5rw3dkzjdud7bpm.remove(table,"width"),$_b5rw3dkzjdud7bpm.remove(table,"height")}(table,stats),table},clone$1=function(original,deep){return $_2q3j53k5jdud7bmr.fromDom(original.dom().cloneNode(deep))},deep=function(original){return clone$1(original,!0)},shallowAs=function(original,tag){var nu=$_2q3j53k5jdud7bmr.fromTag(tag),attributes=$_1ei337kqjdud7bom.clone(original);return $_1ei337kqjdud7bom.setAll(nu,attributes),nu},$_dxykb7l5jdud7bqr_shallow=function(original){return clone$1(original,!1)},$_dxykb7l5jdud7bqr_deep=deep,$_dxykb7l5jdud7bqr_copy=function(original,tag){var nu=shallowAs(original,tag),cloneChildren=$_9s8a4jk7jdud7bmw.children(deep(original));return $_3zxknwl3jdud7bq9.append(nu,cloneChildren),nu},api=function NodeValue(is,name){var getOptionSafe=function(element){return is(element)?Option.from(element.dom().nodeValue):Option.none()},browser=$_e4jb8lkejdud7bnr.detect().browser,getOption=browser.isIE()&&10===browser.version.major?function(element){try{return getOptionSafe(element)}catch(e){return Option.none()}}:getOptionSafe;return{get:function(element){if(!is(element))throw new Error("Can only get "+name+" value of a "+name+" node");return getOption(element).getOr("")},getOption:getOption,set:function(element,value){if(!is(element))throw new Error("Can only set raw "+name+" value of a "+name+" node");element.dom().nodeValue=value}}}($_1102zvkrjdud7bou.isText,"text"),$_cvxenhl8jdud7bqz={get:function(element){return api.get(element)},getOption:function(element){return api.getOption(element)},set:function(element,value){api.set(element,value)}},getEnd=function(element){return"img"===$_1102zvkrjdud7bou.name(element)?1:$_cvxenhl8jdud7bqz.getOption(element).fold(function(){return $_9s8a4jk7jdud7bmw.children(element).length},function(v){return v.length})},elementsWithCursorPosition=["img","br"],$_7y1bjwl7jdud7bqw_getEnd=getEnd,$_7y1bjwl7jdud7bqw_isCursorPosition=function(elem){var el;return el=elem,$_cvxenhl8jdud7bqz.getOption(el).filter(function(text){return 0!==text.trim().length||-1<text.indexOf("\xa0")}).isSome()||$_2b6dlmjqjdud7bko.contains(elementsWithCursorPosition,$_1102zvkrjdud7bou.name(elem))},descendantRtl=function(scope,predicate){var descend=function(element){for(var children=$_9s8a4jk7jdud7bmw.children(element),i=children.length-1;0<=i;i--){var child=children[i];if(predicate(child))return Option.some(child);var res=descend(child);if(res.isSome())return res}return Option.none()};return descend(scope)},$_b7vkeyl6jdud7bqu={first:function(element){return $_70n3lxkwjdud7bp4.descendant(element,$_7y1bjwl7jdud7bqw_isCursorPosition)},last:function(element){return descendantRtl(element,$_7y1bjwl7jdud7bqw_isCursorPosition)}},cell$1=function(){var td=$_2q3j53k5jdud7bmr.fromTag("td");return $_b9f8rkl1jdud7bq5.append(td,$_2q3j53k5jdud7bmr.fromTag("br")),td},replace=function(cell,tag,attrs){var replica=$_dxykb7l5jdud7bqr_copy(cell,tag);return $_fzfxsxjujdud7ble.each(attrs,function(v,k){null===v?$_1ei337kqjdud7bom.remove(replica,k):$_1ei337kqjdud7bom.set(replica,k,v)}),replica},pasteReplace=function(cellContent){return cellContent},newRow=function(doc){return function(){return $_2q3j53k5jdud7bmr.fromTag("tr",doc.dom())}},$_c3joicl4jdud7bqc={cellOperations:function(mutate,doc,formatsToClone){return{row:newRow(doc),cell:function(prev){var doc=$_9s8a4jk7jdud7bmw.owner(prev.element()),td=$_2q3j53k5jdud7bmr.fromTag($_1102zvkrjdud7bou.name(prev.element()),doc.dom()),formats=formatsToClone.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),lastNode=0<formats.length?function(oldCell,newCell,formats){return $_b7vkeyl6jdud7bqu.first(oldCell).map(function(firstText){var formatSelector=formats.join(","),parents=$_b4a6sqksjdud7bov.ancestors(firstText,formatSelector,function(element){return $_6nkapzk9jdud7bn7.eq(element,oldCell)});return $_2b6dlmjqjdud7bko.foldr(parents,function(last,parent){var clonedFormat=$_dxykb7l5jdud7bqr_shallow(parent);return $_b9f8rkl1jdud7bq5.append(last,clonedFormat),clonedFormat},newCell)}).getOr(newCell)}(prev.element(),td,formats):td;return $_b9f8rkl1jdud7bq5.append(lastNode,$_2q3j53k5jdud7bmr.fromTag("br")),$_b5rw3dkzjdud7bpm.copy(prev.element(),td),$_b5rw3dkzjdud7bpm.remove(td,"height"),1!==prev.colspan()&&$_b5rw3dkzjdud7bpm.remove(prev.element(),"width"),mutate(prev.element(),td),td},replace:replace,gap:cell$1}},paste:function(doc){return{row:newRow(doc),cell:cell$1,replace:pasteReplace,gap:cell$1}}},$_buahlulajdud7br5_fromHtml=function(html,scope){var div=(scope||document).createElement("div");return div.innerHTML=html,$_9s8a4jk7jdud7bmw.children($_2q3j53k5jdud7bmr.fromDom(div))},TagBoundaries=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function DomUniverse(){return{up:$_e8r7mrjsjdud7bkx.constant({selector:$_a3r4h1kvjdud7bp3.ancestor,closest:$_a3r4h1kvjdud7bp3.closest,predicate:$_70n3lxkwjdud7bp4.ancestor,all:$_9s8a4jk7jdud7bmw.parents}),down:$_e8r7mrjsjdud7bkx.constant({selector:$_b4a6sqksjdud7bov.descendants,predicate:$_6237bpktjdud7box.descendants}),styles:$_e8r7mrjsjdud7bkx.constant({get:$_b5rw3dkzjdud7bpm.get,getRaw:$_b5rw3dkzjdud7bpm.getRaw,set:$_b5rw3dkzjdud7bpm.set,remove:$_b5rw3dkzjdud7bpm.remove}),attrs:$_e8r7mrjsjdud7bkx.constant({get:$_1ei337kqjdud7bom.get,set:$_1ei337kqjdud7bom.set,remove:$_1ei337kqjdud7bom.remove,copyTo:function(source,destination){var as=$_1ei337kqjdud7bom.clone(source);$_1ei337kqjdud7bom.setAll(destination,as)}}),insert:$_e8r7mrjsjdud7bkx.constant({before:$_b9f8rkl1jdud7bq5.before,after:$_b9f8rkl1jdud7bq5.after,afterAll:$_3zxknwl3jdud7bq9.after,append:$_b9f8rkl1jdud7bq5.append,appendAll:$_3zxknwl3jdud7bq9.append,prepend:$_b9f8rkl1jdud7bq5.prepend,wrap:$_b9f8rkl1jdud7bq5.wrap}),remove:$_e8r7mrjsjdud7bkx.constant({unwrap:$_g2ty44l2jdud7bq6.unwrap,remove:$_g2ty44l2jdud7bq6.remove}),create:$_e8r7mrjsjdud7bkx.constant({nu:$_2q3j53k5jdud7bmr.fromTag,clone:function(element){return $_2q3j53k5jdud7bmr.fromDom(element.dom().cloneNode(!1))},text:$_2q3j53k5jdud7bmr.fromText}),query:$_e8r7mrjsjdud7bkx.constant({comparePosition:function(element,other){return element.dom().compareDocumentPosition(other.dom())},prevSibling:$_9s8a4jk7jdud7bmw.prevSibling,nextSibling:$_9s8a4jk7jdud7bmw.nextSibling}),property:$_e8r7mrjsjdud7bkx.constant({children:$_9s8a4jk7jdud7bmw.children,name:$_1102zvkrjdud7bou.name,parent:$_9s8a4jk7jdud7bmw.parent,isText:$_1102zvkrjdud7bou.isText,isComment:$_1102zvkrjdud7bou.isComment,isElement:$_1102zvkrjdud7bou.isElement,getText:$_cvxenhl8jdud7bqz.get,setText:$_cvxenhl8jdud7bqz.set,isBoundary:function(element){return!!$_1102zvkrjdud7bou.isElement(element)&&("body"===$_1102zvkrjdud7bou.name(element)||$_2b6dlmjqjdud7bko.contains(TagBoundaries,$_1102zvkrjdud7bou.name(element)))},isEmptyTag:function(element){return!!$_1102zvkrjdud7bou.isElement(element)&&$_2b6dlmjqjdud7bko.contains(["br","img","hr","input"],$_1102zvkrjdud7bou.name(element))}}),eq:$_6nkapzk9jdud7bn7.eq,is:$_6nkapzk9jdud7bn7.is}}$_4vwz6tjvjdud7blm.immutable("left","right");var unsafeOne=function(universe,look,head,tail){var start=look(universe,head);return $_2b6dlmjqjdud7bko.foldr(tail,function(b,a){var current=look(universe,a);return commonElement(universe,b,current)},start)},commonElement=function(universe,start,end){return start.bind(function(s){return end.filter($_e8r7mrjsjdud7bkx.curry(universe.eq,s))})},$_b2zltilkjdud7btf_oneAll=function(universe,look,elements){return 0<elements.length?function(universe,look,elements,f){return f(universe,look,elements[0],elements.slice(1))}(universe,look,elements,unsafeOne):Option.none()},eq$1=function(universe,item){return $_e8r7mrjsjdud7bkx.curry(universe.eq,item)},ancestors$2=function(universe,start,end,_isRoot){var isRoot=void 0!==_isRoot?_isRoot:$_e8r7mrjsjdud7bkx.constant(!1),ps1=[start].concat(universe.up().all(start)),ps2=[end].concat(universe.up().all(end)),prune=function(path){return $_2b6dlmjqjdud7bko.findIndex(path,isRoot).fold(function(){return path},function(ind){return path.slice(0,ind+1)})},pruned1=prune(ps1),pruned2=prune(ps2),shared=$_2b6dlmjqjdud7bko.find(pruned1,function(x){return $_2b6dlmjqjdud7bko.exists(pruned2,eq$1(universe,x))});return{firstpath:$_e8r7mrjsjdud7bkx.constant(pruned1),secondpath:$_e8r7mrjsjdud7bkx.constant(pruned2),shared:$_e8r7mrjsjdud7bkx.constant(shared)}},$_ksfrtlljdud7btk_ancestors=ancestors$2,$_40qpqslijdud7bt6_sharedOne=function(universe,look,elements){return $_b2zltilkjdud7btf_oneAll(universe,look,elements)},$_40qpqslijdud7bt6_ancestors=function(universe,start,finish,_isRoot){return $_ksfrtlljdud7btk_ancestors(universe,start,finish,_isRoot)},universe=DomUniverse(),$_ef88mqlfjdud7bsc_sharedOne=function(look,elements){return $_40qpqslijdud7bt6_sharedOne(universe,function(universe,element){return look(element)},elements)},$_ef88mqlfjdud7bsc_ancestors=function(start,finish,_isRoot){return $_40qpqslijdud7bt6_ancestors(universe,start,finish,_isRoot)},isWithin=function(bounds,detail){return detail.column()>=bounds.startCol()&&detail.column()+detail.colspan()-1<=bounds.finishCol()&&detail.row()>=bounds.startRow()&&detail.row()+detail.rowspan()-1<=bounds.finishRow()},$_39qlcclojdud7bu4_inSelection=function(bounds,detail){var leftEdge=detail.column(),rightEdge=detail.column()+detail.colspan()-1,topEdge=detail.row(),bottomEdge=detail.row()+detail.rowspan()-1;return leftEdge<=bounds.finishCol()&&rightEdge>=bounds.startCol()&&topEdge<=bounds.finishRow()&&bottomEdge>=bounds.startRow()},$_39qlcclojdud7bu4_isRectangular=function(warehouse,bounds){for(var isRect=!0,detailIsWithin=$_e8r7mrjsjdud7bkx.curry(isWithin,bounds),i=bounds.startRow();i<=bounds.finishRow();i++)for(var j=bounds.startCol();j<=bounds.finishCol();j++)isRect=isRect&&$_ftidmkkyjdud7bpf.getAt(warehouse,i,j).exists(detailIsWithin);return isRect?Option.some(bounds):Option.none()},getAnyBox=function(warehouse,startCell,finishCell){var startCoords=$_ftidmkkyjdud7bpf.findItem(warehouse,startCell,$_6nkapzk9jdud7bn7.eq),finishCoords=$_ftidmkkyjdud7bpf.findItem(warehouse,finishCell,$_6nkapzk9jdud7bn7.eq);return startCoords.bind(function(sc){return finishCoords.map(function(fc){return detailA=sc,detailB=fc,$_g6h236k1jdud7bm2.bounds(Math.min(detailA.row(),detailB.row()),Math.min(detailA.column(),detailB.column()),Math.max(detailA.row()+detailA.rowspan()-1,detailB.row()+detailB.rowspan()-1),Math.max(detailA.column()+detailA.colspan()-1,detailB.column()+detailB.colspan()-1));var detailA,detailB})})},$_em65uslpjdud7bub_getAnyBox=getAnyBox,$_em65uslpjdud7bub_getBox=function(warehouse,startCell,finishCell){return getAnyBox(warehouse,startCell,finishCell).bind(function(bounds){return $_39qlcclojdud7bu4_isRectangular(warehouse,bounds)})},$_5jmwxzlnjdud7btz_moveBy=function(warehouse,cell,row,column){return $_ftidmkkyjdud7bpf.findItem(warehouse,cell,$_6nkapzk9jdud7bn7.eq).bind(function(detail){var startRow=0<row?detail.row()+detail.rowspan()-1:detail.row(),startCol=0<column?detail.column()+detail.colspan()-1:detail.column();return $_ftidmkkyjdud7bpf.getAt(warehouse,startRow+row,startCol+column).map(function(d){return d.element()})})},$_5jmwxzlnjdud7btz_intercepts=function(warehouse,start,finish){return $_em65uslpjdud7bub_getAnyBox(warehouse,start,finish).map(function(bounds){var inside=$_ftidmkkyjdud7bpf.filterItems(warehouse,$_e8r7mrjsjdud7bkx.curry($_39qlcclojdud7bu4_inSelection,bounds));return $_2b6dlmjqjdud7bko.map(inside,function(detail){return detail.element()})})},$_5jmwxzlnjdud7btz_parentCell=function(warehouse,innerCell){return $_ftidmkkyjdud7bpf.findItem(warehouse,innerCell,function(c1,c2){return $_6nkapzk9jdud7bn7.contains(c2,c1)}).bind(function(detail){return detail.element()})},getWarehouse=function(table){var list=$_bfx1aek0jdud7blw_fromTable(table);return $_ftidmkkyjdud7bpf.generate(list)},$_cn9agwlmjdud7btv_moveBy=function(cell,deltaRow,deltaColumn){return $_e5b08wk2jdud7bm5.table(cell).bind(function(table){var warehouse=getWarehouse(table);return $_5jmwxzlnjdud7btz_moveBy(warehouse,cell,deltaRow,deltaColumn)})},$_cn9agwlmjdud7btv_intercepts=function(table,first,last){var warehouse=getWarehouse(table);return $_5jmwxzlnjdud7btz_intercepts(warehouse,first,last)},$_cn9agwlmjdud7btv_nestedIntercepts=function(table,first,firstTable,last,lastTable){var warehouse=getWarehouse(table),startCell=$_6nkapzk9jdud7bn7.eq(table,firstTable)?first:$_5jmwxzlnjdud7btz_parentCell(warehouse,first),lastCell=$_6nkapzk9jdud7bn7.eq(table,lastTable)?last:$_5jmwxzlnjdud7btz_parentCell(warehouse,last);return $_5jmwxzlnjdud7btz_intercepts(warehouse,startCell,lastCell)},$_cn9agwlmjdud7btv_getBox=function(table,first,last){var warehouse=getWarehouse(table);return $_em65uslpjdud7bub_getBox(warehouse,first,last)},lookupTable=function(container,isRoot){return $_a3r4h1kvjdud7bp3.ancestor(container,"table")},identified=$_4vwz6tjvjdud7blm.immutableBag(["boxes","start","finish"],[]),identify=function(start,finish,isRoot){var getIsRoot=function(rootTable){return function(element){return isRoot(element)||$_6nkapzk9jdud7bn7.eq(element,rootTable)}};return $_6nkapzk9jdud7bn7.eq(start,finish)?Option.some(identified({boxes:Option.some([start]),start:start,finish:finish})):lookupTable(start).bind(function(startTable){return lookupTable(finish).bind(function(finishTable){if($_6nkapzk9jdud7bn7.eq(startTable,finishTable))return Option.some(identified({boxes:$_cn9agwlmjdud7btv_intercepts(startTable,start,finish),start:start,finish:finish}));if($_6nkapzk9jdud7bn7.contains(startTable,finishTable)){var finishCell=0<(ancestorCells=$_b4a6sqksjdud7bov.ancestors(finish,"td,th",getIsRoot(startTable))).length?ancestorCells[ancestorCells.length-1]:finish;return Option.some(identified({boxes:$_cn9agwlmjdud7btv_nestedIntercepts(startTable,start,startTable,finish,finishTable),start:start,finish:finishCell}))}if($_6nkapzk9jdud7bn7.contains(finishTable,startTable)){var ancestorCells,startCell=0<(ancestorCells=$_b4a6sqksjdud7bov.ancestors(start,"td,th",getIsRoot(finishTable))).length?ancestorCells[ancestorCells.length-1]:start;return Option.some(identified({boxes:$_cn9agwlmjdud7btv_nestedIntercepts(finishTable,start,startTable,finish,finishTable),start:start,finish:startCell}))}return $_ef88mqlfjdud7bsc_ancestors(start,finish).shared().bind(function(lca){return $_a3r4h1kvjdud7bp3.closest(lca,"table",isRoot).bind(function(lcaTable){var finishAncestorCells=$_b4a6sqksjdud7bov.ancestors(finish,"td,th",getIsRoot(lcaTable)),finishCell=0<finishAncestorCells.length?finishAncestorCells[finishAncestorCells.length-1]:finish,startAncestorCells=$_b4a6sqksjdud7bov.ancestors(start,"td,th",getIsRoot(lcaTable)),startCell=0<startAncestorCells.length?startAncestorCells[startAncestorCells.length-1]:start;return Option.some(identified({boxes:$_cn9agwlmjdud7btv_nestedIntercepts(lcaTable,start,startTable,finish,finishTable),start:startCell,finish:finishCell}))})})})})},$_btb09flejdud7brv={identify:identify,retrieve:function(container,selector){var sels=$_b4a6sqksjdud7bov.descendants(container,selector);return 0<sels.length?Option.some(sels):Option.none()},shiftSelection:function(boxes,deltaRow,deltaColumn,firstSelectedSelector,lastSelectedSelector){return function(boxes,lastSelectedSelector){return $_2b6dlmjqjdud7bko.find(boxes,function(box){return $_zvi87k4jdud7bmn.is(box,lastSelectedSelector)})}(boxes,lastSelectedSelector).bind(function(last){return $_cn9agwlmjdud7btv_moveBy(last,deltaRow,deltaColumn).bind(function(finish){return function(finish,firstSelectedSelector){return $_a3r4h1kvjdud7bp3.ancestor(finish,"table").bind(function(table){return $_a3r4h1kvjdud7bp3.descendant(table,firstSelectedSelector).bind(function(start){return identify(start,finish).bind(function(identified){return identified.boxes().map(function(boxes){return{boxes:$_e8r7mrjsjdud7bkx.constant(boxes),start:$_e8r7mrjsjdud7bkx.constant(identified.start()),finish:$_e8r7mrjsjdud7bkx.constant(identified.finish())}})})})})}(finish,firstSelectedSelector)})})},getEdges:function(container,firstSelectedSelector,lastSelectedSelector){return $_a3r4h1kvjdud7bp3.descendant(container,firstSelectedSelector).bind(function(first){return $_a3r4h1kvjdud7bp3.descendant(container,lastSelectedSelector).bind(function(last){return $_ef88mqlfjdud7bsc_sharedOne(lookupTable,[first,last]).map(function(tbl){return{first:$_e8r7mrjsjdud7bkx.constant(first),last:$_e8r7mrjsjdud7bkx.constant(last),table:$_e8r7mrjsjdud7bkx.constant(tbl)}})})})}},$_jbi15ldjdud7bri={retrieve:function(container,selector){return $_btb09flejdud7brv.retrieve(container,selector)},retrieveBox:function(container,firstSelectedSelector,lastSelectedSelector){return $_btb09flejdud7brv.getEdges(container,firstSelectedSelector,lastSelectedSelector).bind(function(edges){var isRoot=function(ancestor){return $_6nkapzk9jdud7bn7.eq(container,ancestor)},firstAncestor=$_a3r4h1kvjdud7bp3.ancestor(edges.first(),"thead,tfoot,tbody,table",isRoot),lastAncestor=$_a3r4h1kvjdud7bp3.ancestor(edges.last(),"thead,tfoot,tbody,table",isRoot);return firstAncestor.bind(function(fA){return lastAncestor.bind(function(lA){return $_6nkapzk9jdud7bn7.eq(fA,lA)?$_cn9agwlmjdud7btv_getBox(edges.table(),edges.first(),edges.last()):Option.none()})})})}},selected="data-mce-selected",$_f2i0m2lqjdud7buf={selected:$_e8r7mrjsjdud7bkx.constant(selected),selectedSelector:$_e8r7mrjsjdud7bkx.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:$_e8r7mrjsjdud7bkx.constant("[data-mce-selected]"),firstSelected:$_e8r7mrjsjdud7bkx.constant("data-mce-first-selected"),firstSelectedSelector:$_e8r7mrjsjdud7bkx.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:$_e8r7mrjsjdud7bkx.constant("data-mce-last-selected"),lastSelectedSelector:$_e8r7mrjsjdud7bkx.constant("td[data-mce-last-selected],th[data-mce-last-selected]")},$_d9zbmklsjdud7buk_generate=function(cases){if(!$_duf7n8jzjdud7blu.isArray(cases))throw new Error("cases must be an array");if(0===cases.length)throw new Error("there must be at least one case");var constructors=[],adt={};return $_2b6dlmjqjdud7bko.each(cases,function(acase,count){var keys=$_fzfxsxjujdud7ble.keys(acase);if(1!==keys.length)throw new Error("one and only one name per case");var key=keys[0],value=acase[key];if(void 0!==adt[key])throw new Error("duplicate key detected:"+key);if("cata"===key)throw new Error("cannot have a case named cata (sorry)");if(!$_duf7n8jzjdud7blu.isArray(value))throw new Error("case arguments must be an array");constructors.push(key),adt[key]=function(){var argLength=arguments.length;if(argLength!==value.length)throw new Error("Wrong number of arguments to case "+key+". Expected "+value.length+" ("+value+"), got "+argLength);for(var args=new Array(argLength),i=0;i<args.length;i++)args[i]=arguments[i];return{fold:function(){if(arguments.length!==cases.length)throw new Error("Wrong number of arguments to fold. Expected "+cases.length+", got "+arguments.length);return arguments[count].apply(null,args)},match:function(branches){var branchKeys=$_fzfxsxjujdud7ble.keys(branches);if(constructors.length!==branchKeys.length)throw new Error("Wrong number of arguments to match. Expected: "+constructors.join(",")+"\nActual: "+branchKeys.join(","));if(!$_2b6dlmjqjdud7bko.forall(constructors,function(reqKey){return $_2b6dlmjqjdud7bko.contains(branchKeys,reqKey)}))throw new Error("Not all branches were specified when using match. Specified: "+branchKeys.join(", ")+"\nRequired: "+constructors.join(", "));return branches[key].apply(null,args)},log:function(label){console.log(label,{constructors:constructors,constructor:key,params:args})}}}}),adt},type$1=$_d9zbmklsjdud7buk_generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),$_4ns5llrjdud7bui={cata:function(subject,onNone,onMultiple,onSingle){return subject.fold(onNone,onMultiple,onSingle)},none:type$1.none,multiple:type$1.multiple,single:type$1.single},selection=function(cell,selections){return $_4ns5llrjdud7bui.cata(selections.get(),$_e8r7mrjsjdud7bkx.constant([]),$_e8r7mrjsjdud7bkx.identity,$_e8r7mrjsjdud7bkx.constant([cell]))},$_dm2nhilcjdud7brc_mergable=function(table,selections){return $_4ns5llrjdud7bui.cata(selections.get(),Option.none,function(cells,_env){return 0===cells.length?Option.none():$_jbi15ldjdud7bri.retrieveBox(table,$_f2i0m2lqjdud7buf.firstSelectedSelector(),$_f2i0m2lqjdud7buf.lastSelectedSelector()).bind(function(bounds){return 1<cells.length?Option.some({bounds:$_e8r7mrjsjdud7bkx.constant(bounds),cells:$_e8r7mrjsjdud7bkx.constant(cells)}):Option.none()})},Option.none)},$_dm2nhilcjdud7brc_unmergable=function(cell,selections){var candidates=selection(cell,selections);return 0<candidates.length&&$_2b6dlmjqjdud7bko.forall(candidates,function(elem){return $_1ei337kqjdud7bom.has(elem,"rowspan")&&1<parseInt($_1ei337kqjdud7bom.get(elem,"rowspan"),10)||$_1ei337kqjdud7bom.has(elem,"colspan")&&1<parseInt($_1ei337kqjdud7bom.get(elem,"colspan"),10)})?Option.some(candidates):Option.none()},$_dm2nhilcjdud7brc_selection=selection,noMenu=function(cell){return{element:$_e8r7mrjsjdud7bkx.constant(cell),mergable:Option.none,unmergable:Option.none,selection:$_e8r7mrjsjdud7bkx.constant([cell])}},paste$1=$_4vwz6tjvjdud7blm.immutable("element","clipboard","generators"),$_50voclbjdud7br8={noMenu:noMenu,forMenu:function(selections,table,cell){return{element:$_e8r7mrjsjdud7bkx.constant(cell),mergable:$_e8r7mrjsjdud7bkx.constant($_dm2nhilcjdud7brc_mergable(table,selections)),unmergable:$_e8r7mrjsjdud7bkx.constant($_dm2nhilcjdud7brc_unmergable(cell,selections)),selection:$_e8r7mrjsjdud7bkx.constant($_dm2nhilcjdud7brc_selection(cell,selections))}},notCell:function(element){return noMenu(element)},paste:paste$1,pasteRows:function(selections,table,cell,clipboard,generators){return{element:$_e8r7mrjsjdud7bkx.constant(cell),mergable:Option.none,unmergable:Option.none,selection:$_e8r7mrjsjdud7bkx.constant($_dm2nhilcjdud7brc_selection(cell,selections)),clipboard:$_e8r7mrjsjdud7bkx.constant(clipboard),generators:$_e8r7mrjsjdud7bkx.constant(generators)}}},$_4j7ogljpjdud7bkb={registerEvents:function(editor,selections,actions,cellSelection){editor.on("BeforeGetContent",function(e){!0===e.selection&&$_4ns5llrjdud7bui.cata(selections.get(),$_e8r7mrjsjdud7bkx.noop,function(cells){e.preventDefault(),function(cells){return $_e5b08wk2jdud7bm5.table(cells[0]).map($_dxykb7l5jdud7bqr_deep).map(function(replica){return[$_flk5m5jtjdud7bl0_extract(replica,$_f2i0m2lqjdud7buf.attributeSelector())]})}(cells).each(function(elements){e.content=$_2b6dlmjqjdud7bko.map(elements,function(elm){return function(editor,elm){return editor.selection.serializer.serialize(elm.dom(),{})}(editor,elm)}).join("")})},$_e8r7mrjsjdud7bkx.noop)}),editor.on("BeforeSetContent",function(e){!0===e.selection&&!0===e.paste&&Option.from(editor.dom.getParent(editor.selection.getStart(),"th,td")).each(function(domCell){var cell=$_2q3j53k5jdud7bmr.fromDom(domCell);$_e5b08wk2jdud7bm5.table(cell).bind(function(table){var elements=$_2b6dlmjqjdud7bko.filter($_buahlulajdud7br5_fromHtml(e.content),function(content){return"meta"!==$_1102zvkrjdud7bou.name(content)});if(1===elements.length&&"table"===$_1102zvkrjdud7bou.name(elements[0])){e.preventDefault();var doc=$_2q3j53k5jdud7bmr.fromDom(editor.getDoc()),generators=$_c3joicl4jdud7bqc.paste(doc),targets=$_50voclbjdud7br8.paste(cell,elements[0],generators);actions.pasteCells(table,targets).each(function(rng){editor.selection.setRng(rng),editor.focus(),cellSelection.clear(table)})}})})})}};function Dimension(name,getOffset){var get=function(element){var r=getOffset(element);if(r<=0||null===r){var css=$_b5rw3dkzjdud7bpm.get(element,name);return parseFloat(css)||0}return r},aggregate=function(element,properties){return $_2b6dlmjqjdud7bko.foldl(properties,function(acc,property){var val=$_b5rw3dkzjdud7bpm.get(element,property),value=void 0===val?0:parseInt(val,10);return isNaN(value)?acc:acc+value},0)};return{set:function(element,h){if(!$_duf7n8jzjdud7blu.isNumber(h)&&!h.match(/^[0-9]+$/))throw name+".set accepts only positive integer values. Value was "+h;var dom=element.dom();$_ac63a8l0jdud7bq3.isSupported(dom)&&(dom.style[name]=h+"px")},get:get,getOuter:get,aggregate:aggregate,max:function(element,value,properties){var cumulativeInclusions=aggregate(element,properties);return cumulativeInclusions<value?value-cumulativeInclusions:0}}}var api$1=Dimension("height",function(element){return $_4q6kiskujdud7bp0.inBody(element)?element.dom().getBoundingClientRect().height:element.dom().offsetHeight}),$_d8flr3lxjdud7bvn_get=function(element){return api$1.get(element)},$_d8flr3lxjdud7bvn_getOuter=function(element){return api$1.getOuter(element)},api$2=Dimension("width",function(element){return element.dom().offsetWidth}),$_fnm25ilzjdud7bvz_get=function(element){return api$2.get(element)},$_fnm25ilzjdud7bvz_getOuter=function(element){return api$2.getOuter(element)},platform=$_e4jb8lkejdud7bnr.detect(),getProp=function(elm,name,fallback){return function(px,fallback){var num=parseFloat(px);return isNaN(num)?fallback:num}($_b5rw3dkzjdud7bpm.get(elm,name),fallback)},$_b9l41elwjdud7bvg_getHeight=function(cell){return platform.browser.isIE()||platform.browser.isEdge()?function(cell){var paddingTop=getProp(cell,"padding-top",0),paddingBottom=getProp(cell,"padding-bottom",0),borderTop=getProp(cell,"border-top-width",0),borderBottom=getProp(cell,"border-bottom-width",0),height=cell.dom().getBoundingClientRect().height;return"border-box"===$_b5rw3dkzjdud7bpm.get(cell,"box-sizing")?height:height-paddingTop-paddingBottom-(borderTop+borderBottom)}(cell):getProp(cell,"height",$_d8flr3lxjdud7bvn_get(cell))},genericSizeRegex=/(\d+(\.\d+)?)(\w|%)*/,percentageBasedSizeRegex=/(\d+(\.\d+)?)%/,pixelBasedSizeRegex=/(\d+(\.\d+)?)px|em/,setHeight=function(cell,amount){$_b5rw3dkzjdud7bpm.set(cell,"height",amount+"px")},normalizePixelSize=function(value,cell,getter,setter){var number=parseInt(value,10);return $_a5si2uknjdud7bog.endsWith(value,"%")&&"table"!==$_1102zvkrjdud7bou.name(cell)?function(cell,number,getter,setter){var newSize=$_e5b08wk2jdud7bm5.table(cell).map(function(table){var total=getter(table);return Math.floor(number/100*total)}).getOr(number);return setter(cell,newSize),newSize}(cell,number,getter,setter):number},getTotalHeight=function(cell){var value=function(cell){return $_b5rw3dkzjdud7bpm.getRaw(cell,"height").getOrThunk(function(){return $_b9l41elwjdud7bvg_getHeight(cell)+"px"})}(cell);return value?normalizePixelSize(value,cell,$_d8flr3lxjdud7bvn_get,setHeight):$_d8flr3lxjdud7bvn_get(cell)},getSpan=function(cell,type){return $_1ei337kqjdud7bom.has(cell,type)?parseInt($_1ei337kqjdud7bom.get(cell,type),10):1},getRawWidth=function(element){return $_b5rw3dkzjdud7bpm.getRaw(element,"width").fold(function(){return Option.from($_1ei337kqjdud7bom.get(element,"width"))},function(width){return Option.some(width)})},normalizePercentageWidth=function(cellWidth,tableSize){return cellWidth/tableSize.pixelWidth()*100},$_b1w9oplvjdud7bv2={percentageBasedSizeRegex:$_e8r7mrjsjdud7bkx.constant(percentageBasedSizeRegex),pixelBasedSizeRegex:$_e8r7mrjsjdud7bkx.constant(pixelBasedSizeRegex),setPixelWidth:function(cell,amount){$_b5rw3dkzjdud7bpm.set(cell,"width",amount+"px")},setPercentageWidth:function(cell,amount){$_b5rw3dkzjdud7bpm.set(cell,"width",amount+"%")},setHeight:setHeight,getPixelWidth:function(cell,tableSize){return getRawWidth(cell).fold(function(){var width=$_fnm25ilzjdud7bvz_get(cell);return parseInt(width,10)},function(width){return function(element,width,tableSize){if(pixelBasedSizeRegex.test(width)){var pixelMatch=pixelBasedSizeRegex.exec(width);return parseInt(pixelMatch[1],10)}if(percentageBasedSizeRegex.test(width)){var percentMatch=percentageBasedSizeRegex.exec(width);return function(cellWidth,tableSize){return cellWidth/100*tableSize.pixelWidth()}(parseFloat(percentMatch[1]),tableSize)}var fallbackWidth=$_fnm25ilzjdud7bvz_get(element);return parseInt(fallbackWidth,10)}(cell,width,tableSize)})},getPercentageWidth:function(cell,tableSize){return getRawWidth(cell).fold(function(){var width=$_fnm25ilzjdud7bvz_get(cell),intWidth=parseInt(width,10);return normalizePercentageWidth(intWidth,tableSize)},function(width){return function(element,width,tableSize){if(percentageBasedSizeRegex.test(width)){var percentMatch=percentageBasedSizeRegex.exec(width);return parseFloat(percentMatch[1])}var fallbackWidth=$_fnm25ilzjdud7bvz_get(element),intWidth=parseInt(fallbackWidth,10);return normalizePercentageWidth(intWidth,tableSize)}(cell,width,tableSize)})},getGenericWidth:function(cell){return getRawWidth(cell).bind(function(width){if(genericSizeRegex.test(width)){var match=genericSizeRegex.exec(width);return Option.some({width:$_e8r7mrjsjdud7bkx.constant(match[1]),unit:$_e8r7mrjsjdud7bkx.constant(match[3])})}return Option.none()})},setGenericWidth:function(cell,amount,unit){$_b5rw3dkzjdud7bpm.set(cell,"width",amount+unit)},getHeight:function(cell){return function(cell,type,f){return f(cell)/getSpan(cell,type)}(cell,"rowspan",getTotalHeight)},getRawWidth:getRawWidth},$_dxd1kqlujdud7bv0={halve:function(main,other){$_b1w9oplvjdud7bv2.getGenericWidth(main).each(function(width){var newWidth=width.width()/2;$_b1w9oplvjdud7bv2.setGenericWidth(main,newWidth,width.unit()),$_b1w9oplvjdud7bv2.setGenericWidth(other,newWidth,width.unit())})}},$_7sfq1fm4jdud7bwe_attached=function(element,scope){var doc=scope||$_2q3j53k5jdud7bmr.fromDom(document.documentElement);return $_70n3lxkwjdud7bp4.ancestor(element,$_e8r7mrjsjdud7bkx.curry($_6nkapzk9jdud7bn7.eq,doc)).isSome()},$_7sfq1fm4jdud7bwe_windowOf=function(element){var dom=element.dom();return dom===dom.window?element:$_1102zvkrjdud7bou.isDocument(element)?dom.defaultView||dom.parentWindow:null},r=function(left,top){return{left:$_e8r7mrjsjdud7bkx.constant(left),top:$_e8r7mrjsjdud7bkx.constant(top),translate:function(x,y){return r(left+x,top+y)}}},firstDefinedOrZero=function(a,b){return void 0!==a?a:void 0!==b?b:0},viewport=function(element){var dom=element.dom(),doc=dom.ownerDocument,body=doc.body,html=$_2q3j53k5jdud7bmr.fromDom(doc.documentElement);return body===dom?r(body.offsetLeft,body.offsetTop):$_7sfq1fm4jdud7bwe_attached(element,html)?function(dom){var box=dom.getBoundingClientRect();return r(box.left,box.top)}(dom):r(0,0)},$_1b83qkm3jdud7bwd_absolute=function(element){var doc=element.dom().ownerDocument,body=doc.body,win=$_7sfq1fm4jdud7bwe_windowOf($_2q3j53k5jdud7bmr.fromDom(doc)),html=doc.documentElement,scrollTop=firstDefinedOrZero(win.pageYOffset,html.scrollTop),scrollLeft=firstDefinedOrZero(win.pageXOffset,html.scrollLeft),clientTop=firstDefinedOrZero(html.clientTop,body.clientTop),clientLeft=firstDefinedOrZero(html.clientLeft,body.clientLeft);return viewport(element).translate(scrollLeft-clientLeft,scrollTop-clientTop)},rowInfo=$_4vwz6tjvjdud7blm.immutable("row","y"),colInfo=$_4vwz6tjvjdud7blm.immutable("col","x"),rtlEdge=function(cell){return $_1b83qkm3jdud7bwd_absolute(cell).left()+$_fnm25ilzjdud7bvz_getOuter(cell)},ltrEdge=function(cell){return $_1b83qkm3jdud7bwd_absolute(cell).left()},getLeftEdge=function(index,cell){return colInfo(index,ltrEdge(cell))},getRightEdge=function(index,cell){return colInfo(index,rtlEdge(cell))},getTop=function(cell){return $_1b83qkm3jdud7bwd_absolute(cell).top()},findPositions=function(getInnerEdge,getOuterEdge,array){if(0===array.length)return[];var lines=$_2b6dlmjqjdud7bko.map(array.slice(1),function(cellOption,index){return cellOption.map(function(cell){return getInnerEdge(index,cell)})}),lastLine=array[array.length-1].map(function(cell){return getOuterEdge(array.length-1,cell)});return lines.concat([lastLine])},height={delta:$_e8r7mrjsjdud7bkx.identity,positions:$_e8r7mrjsjdud7bkx.curry(findPositions,function(index,cell){return rowInfo(index,getTop(cell))},function(index,cell){return rowInfo(index,getTop(cell)+$_d8flr3lxjdud7bvn_getOuter(cell))}),edge:getTop},ltr={delta:$_e8r7mrjsjdud7bkx.identity,edge:ltrEdge,positions:$_e8r7mrjsjdud7bkx.curry(findPositions,getLeftEdge,getRightEdge)},$_2qb4vhm2jdud7bw4={height:height,rtl:{delta:function(step,_table){return-step},edge:rtlEdge,positions:$_e8r7mrjsjdud7bkx.curry(findPositions,getRightEdge,getLeftEdge)},ltr:ltr},$_8c5foxm1jdud7bw2={ltr:$_2qb4vhm2jdud7bw4.ltr,rtl:$_2qb4vhm2jdud7bw4.rtl};function TableDirection(directionAt){var auto=function(table){return directionAt(table).isRtl()?$_8c5foxm1jdud7bw2.rtl:$_8c5foxm1jdud7bw2.ltr};return{delta:function(amount,table){return auto(table).delta(amount,table)},edge:function(cell){return auto(cell).edge(cell)},positions:function(cols,table){return auto(table).positions(cols,table)}}}var $_eqfbxym6jdud7bwj={getGridSize:function(table){var input=$_bfx1aek0jdud7blw_fromTable(table);return $_ftidmkkyjdud7bpf.generate(input).grid()}},Cell=function(initial){var value=initial,get=function(){return value};return{get:get,set:function(v){value=v},clone:function(){return Cell(get())}}},base=function(handleUnsupported,required){return baseWith(handleUnsupported,required,{validate:$_duf7n8jzjdud7blu.isFunction,label:"function"})},baseWith=function(handleUnsupported,required,pred){if(0===required.length)throw new Error("You must specify at least one required field.");return $_jsge2jyjdud7bls.validateStrArr("required",required),$_jsge2jyjdud7bls.checkDupes(required),function(obj){var keys=$_fzfxsxjujdud7ble.keys(obj);$_2b6dlmjqjdud7bko.forall(required,function(req){return $_2b6dlmjqjdud7bko.contains(keys,req)})||$_jsge2jyjdud7bls.reqMessage(required,keys),handleUnsupported(required,keys);var invalidKeys=$_2b6dlmjqjdud7bko.filter(required,function(key){return!pred.validate(obj[key],key)});return 0<invalidKeys.length&&$_jsge2jyjdud7bls.invalidTypeMessage(invalidKeys,pred.label),obj}},allowExtra=$_e8r7mrjsjdud7bkx.noop,$_3vhhbcmajdud7bxe={exactly:$_e8r7mrjsjdud7bkx.curry(base,function(required,keys){var unsupported=$_2b6dlmjqjdud7bko.filter(keys,function(key){return!$_2b6dlmjqjdud7bko.contains(required,key)});0<unsupported.length&&$_jsge2jyjdud7bls.unsuppMessage(unsupported)}),ensure:$_e8r7mrjsjdud7bkx.curry(base,allowExtra),ensureWith:$_e8r7mrjsjdud7bkx.curry(baseWith,allowExtra)},elementToData=function(element){var colspan=$_1ei337kqjdud7bom.has(element,"colspan")?parseInt($_1ei337kqjdud7bom.get(element,"colspan"),10):1,rowspan=$_1ei337kqjdud7bom.has(element,"rowspan")?parseInt($_1ei337kqjdud7bom.get(element,"rowspan"),10):1;return{element:$_e8r7mrjsjdud7bkx.constant(element),colspan:$_e8r7mrjsjdud7bkx.constant(colspan),rowspan:$_e8r7mrjsjdud7bkx.constant(rowspan)}},contract=$_3vhhbcmajdud7bxe.exactly(["cell","row","replace","gap"]),$_7ldhy3m8jdud7bx2_modification=function(generators,_toData){contract(generators);var position=Cell(Option.none()),toData=void 0!==_toData?_toData:elementToData,nuFrom=function(element){return function(data){return generators.cell(data)}(toData(element))},add=function(element){var replacement=nuFrom(element);return position.get().isNone()&&position.set(Option.some(replacement)),recent=Option.some({item:element,replacement:replacement}),replacement},recent=Option.none();return{getOrInit:function(element,comparator){return recent.fold(function(){return add(element)},function(p){return comparator(element,p.item)?p.replacement:add(element)})},cursor:position.get}},$_7ldhy3m8jdud7bx2_transform=function(scope,tag){return function(generators){var position=Cell(Option.none());contract(generators);var list=[],makeNew=function(element){var cell=generators.replace(element,tag,{scope:scope});return list.push({item:element,sub:cell}),position.get().isNone()&&position.set(Option.some(cell)),cell};return{replaceOrInit:function(element,comparator){return function(element,comparator){return $_2b6dlmjqjdud7bko.find(list,function(x){return comparator(x.item,element)})}(element,comparator).fold(function(){return makeNew(element)},function(p){return comparator(element,p.item)?p.sub:makeNew(element)})},cursor:position.get}}},$_7ldhy3m8jdud7bx2_merging=function(generators){contract(generators);var position=Cell(Option.none());return{combine:function(cell){return position.get().isNone()&&position.set(Option.some(cell)),function(){var raw=generators.cell({element:$_e8r7mrjsjdud7bkx.constant(cell),colspan:$_e8r7mrjsjdud7bkx.constant(1),rowspan:$_e8r7mrjsjdud7bkx.constant(1)});return $_b5rw3dkzjdud7bpm.remove(raw,"width"),$_b5rw3dkzjdud7bpm.remove(cell,"width"),raw}},cursor:position.get}},blockList=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],isBlock=function(universe,item){var tagName=universe.property().name(item);return $_2b6dlmjqjdud7bko.contains(blockList,tagName)},isEmptyTag=function(universe,item){return $_2b6dlmjqjdud7bko.contains(["br","img","hr","input"],universe.property().name(item))},$_ce1o36mdjdud7by4_isBlock=isBlock,$_ce1o36mdjdud7by4_isList=function(universe,item){var tagName=universe.property().name(item);return $_2b6dlmjqjdud7bko.contains(["ol","ul"],tagName)},$_ce1o36mdjdud7by4_isEmptyTag=isEmptyTag,universe$1=DomUniverse(),$_4wh7q4mcjdud7by1_isBlock=function(element){return $_ce1o36mdjdud7by4_isBlock(universe$1,element)},$_4wh7q4mcjdud7by1_isList=function(element){return $_ce1o36mdjdud7by4_isList(universe$1,element)},$_4wh7q4mcjdud7by1_isEmptyTag=function(element){return $_ce1o36mdjdud7by4_isEmptyTag(universe$1,element)},$_7jh1dhmbjdud7bxh_merge=function(cells){var content,isBr=function(el){return"br"===$_1102zvkrjdud7bou.name(el)},markCell=function(cell){return $_b7vkeyl6jdud7bqu.last(cell).bind(function(rightEdge){var el,rightSiblingIsBlock=(el=rightEdge,$_9s8a4jk7jdud7bmw.nextSibling(el).map(function(rightSibling){return!!$_4wh7q4mcjdud7by1_isBlock(rightSibling)||($_4wh7q4mcjdud7by1_isEmptyTag(rightSibling)?"img"!==$_1102zvkrjdud7bou.name(rightSibling):void 0)}).getOr(!1));return $_9s8a4jk7jdud7bmw.parent(rightEdge).map(function(parent){return!0===rightSiblingIsBlock||(el=parent,"li"===$_1102zvkrjdud7bou.name(el)||$_70n3lxkwjdud7bp4.ancestor(el,$_4wh7q4mcjdud7by1_isList).isSome())||isBr(rightEdge)||$_4wh7q4mcjdud7by1_isBlock(parent)&&!$_6nkapzk9jdud7bn7.eq(cell,parent)?[]:[$_2q3j53k5jdud7bmr.fromTag("br")];var el})}).getOr([])},contents=0===(content=$_2b6dlmjqjdud7bko.bind(cells,function(cell){var children=$_9s8a4jk7jdud7bmw.children(cell);return function(children){return $_2b6dlmjqjdud7bko.forall(children,function(c){return isBr(c)||$_1102zvkrjdud7bou.isText(c)&&0===$_cvxenhl8jdud7bqz.get(c).trim().length})}(children)?[]:children.concat(markCell(cell))})).length?[$_2q3j53k5jdud7bmr.fromTag("br")]:content;$_g2ty44l2jdud7bq6.empty(cells[0]),$_3zxknwl3jdud7bq9.append(cells[0],contents)},baseMerge=function(merger){return function(){for(var objects=new Array(arguments.length),i=0;i<objects.length;i++)objects[i]=arguments[i];if(0===objects.length)throw new Error("Can't merge zero objects");for(var ret={},j=0;j<objects.length;j++){var curObject=objects[j];for(var key in curObject)curObject.hasOwnProperty(key)&&(ret[key]=merger(ret[key],curObject[key]))}return ret}},deepMerge=baseMerge(function(old,nu){return $_duf7n8jzjdud7blu.isObject(old)&&$_duf7n8jzjdud7blu.isObject(nu)?deepMerge(old,nu):nu}),merge$1=baseMerge(function(old,nu){return nu}),$_9egglgmfjdud7byk={deepMerge:deepMerge,merge:merge$1},$_a6p6d7mgjdud7bym_cat=function(arr){for(var r=[],push=function(x){r.push(x)},i=0;i<arr.length;i++)arr[i].each(push);return r},$_a6p6d7mgjdud7bym_findMap=function(arr,f){for(var i=0;i<arr.length;i++){var r=f(arr[i],i);if(r.isSome())return r}return Option.none()},setCells=function(gridRow,cells){return $_g6h236k1jdud7bm2.rowcells(cells,gridRow.section())},getCell=function(gridRow,index){return gridRow.cells()[index]},$_36mtvcmjjdud7byy={addCell:function(gridRow,index,cell){var cells=gridRow.cells(),before=cells.slice(0,index),after=cells.slice(index),newCells=before.concat([cell]).concat(after);return setCells(gridRow,newCells)},setCells:setCells,mutateCell:function(gridRow,index,cell){gridRow.cells()[index]=cell},getCell:getCell,getCellElement:function(gridRow,index){return getCell(gridRow,index).element()},mapCells:function(gridRow,f){var cells=gridRow.cells(),r=$_2b6dlmjqjdud7bko.map(cells,f);return $_g6h236k1jdud7bm2.rowcells(r,gridRow.section())},cellLength:function(gridRow){return gridRow.cells().length}},findDiff=function(xs,comp){if(0===xs.length)return 0;var first=xs[0];return $_2b6dlmjqjdud7bko.findIndex(xs,function(x){return!comp(first.element(),x.element())}).fold(function(){return xs.length},function(ind){return ind})},$_368uccmijdud7byt_subgrid=function(grid,row,column,comparator){var restOfRow=function(grid,index){return grid[index]}(grid,row).cells().slice(column),endColIndex=findDiff(restOfRow,comparator),restOfColumn=function(grid,index){return $_2b6dlmjqjdud7bko.map(grid,function(row){return $_36mtvcmjjdud7byy.getCell(row,index)})}(grid,column).slice(row),endRowIndex=findDiff(restOfColumn,comparator);return{colspan:$_e8r7mrjsjdud7bkx.constant(endColIndex),rowspan:$_e8r7mrjsjdud7bkx.constant(endRowIndex)}},$_17yaacmhjdud7byp_toDetails=function(grid,comparator){var seen=$_2b6dlmjqjdud7bko.map(grid,function(row,ri){return $_2b6dlmjqjdud7bko.map(row.cells(),function(col,ci){return!1})});return $_2b6dlmjqjdud7bko.map(grid,function(row,ri){var details=$_2b6dlmjqjdud7bko.bind(row.cells(),function(cell,ci){if(!1===seen[ri][ci]){var result=$_368uccmijdud7byt_subgrid(grid,ri,ci,comparator);return function(ri,ci,rowspan,colspan){for(var r=ri;r<ri+rowspan;r++)for(var c=ci;c<ci+colspan;c++)seen[r][c]=!0}(ri,ci,result.rowspan(),result.colspan()),[$_g6h236k1jdud7bm2.detailnew(cell.element(),result.rowspan(),result.colspan(),cell.isNew())]}return[]});return $_g6h236k1jdud7bm2.rowdetails(details,row.section())})},$_17yaacmhjdud7byp_toGrid=function(warehouse,generators,isNew){for(var grid=[],i=0;i<warehouse.grid().rows();i++){for(var rowCells=[],j=0;j<warehouse.grid().columns();j++){var element=$_ftidmkkyjdud7bpf.getAt(warehouse,i,j).map(function(item){return $_g6h236k1jdud7bm2.elementnew(item.element(),isNew)}).getOrThunk(function(){return $_g6h236k1jdud7bm2.elementnew(generators.gap(),!0)});rowCells.push(element)}var row=$_g6h236k1jdud7bm2.rowcells(rowCells,warehouse.all()[i].section());grid.push(row)}return grid},setIfNot=function(element,property,value,ignore){value===ignore?$_1ei337kqjdud7bom.remove(element,property):$_1ei337kqjdud7bom.set(element,property,value)},$_8uhxgumkjdud7bz1_render=function(table,grid){var newRows=[],newCells=[],renderOrRemoveSection=function(gridSection,sectionName){0<gridSection.length?function(gridSection,sectionName){var section=$_a3r4h1kvjdud7bp3.child(table,sectionName).getOrThunk(function(){var tb=$_2q3j53k5jdud7bmr.fromTag(sectionName,$_9s8a4jk7jdud7bmw.owner(table).dom());return $_b9f8rkl1jdud7bq5.append(table,tb),tb});$_g2ty44l2jdud7bq6.empty(section);var rows=$_2b6dlmjqjdud7bko.map(gridSection,function(row){row.isNew()&&newRows.push(row.element());var tr=row.element();return $_g2ty44l2jdud7bq6.empty(tr),$_2b6dlmjqjdud7bko.each(row.cells(),function(cell){cell.isNew()&&newCells.push(cell.element()),setIfNot(cell.element(),"colspan",cell.colspan(),1),setIfNot(cell.element(),"rowspan",cell.rowspan(),1),$_b9f8rkl1jdud7bq5.append(tr,cell.element())}),tr});$_3zxknwl3jdud7bq9.append(section,rows)}(gridSection,sectionName):function(sectionName){$_a3r4h1kvjdud7bp3.child(table,sectionName).bind($_g2ty44l2jdud7bq6.remove)}(sectionName)},headSection=[],bodySection=[],footSection=[];return $_2b6dlmjqjdud7bko.each(grid,function(row){switch(row.section()){case"thead":headSection.push(row);break;case"tbody":bodySection.push(row);break;case"tfoot":footSection.push(row)}}),renderOrRemoveSection(headSection,"thead"),renderOrRemoveSection(bodySection,"tbody"),renderOrRemoveSection(footSection,"tfoot"),{newRows:$_e8r7mrjsjdud7bkx.constant(newRows),newCells:$_e8r7mrjsjdud7bkx.constant(newCells)}},$_8uhxgumkjdud7bz1_copy=function(grid){return $_2b6dlmjqjdud7bko.map(grid,function(row){var tr=$_dxykb7l5jdud7bqr_shallow(row.element());return $_2b6dlmjqjdud7bko.each(row.cells(),function(cell){var clonedCell=$_dxykb7l5jdud7bqr_deep(cell.element());setIfNot(clonedCell,"colspan",cell.colspan(),1),setIfNot(clonedCell,"rowspan",cell.rowspan(),1),$_b9f8rkl1jdud7bq5.append(tr,clonedCell)}),tr})},$_fclc2pmnjdud7c04_repeat=function(repititions,f){for(var r=[],i=0;i<repititions;i++)r.push(f(i));return r},$_fclc2pmnjdud7c04_range=function(start,end){for(var r=[],i=start;i<end;i++)r.push(i);return r},$_fclc2pmnjdud7c04_deduce=function(xs,index){if(index<0||index>=xs.length-1)return Option.none();var current=xs[index].fold(function(){var rest=$_2b6dlmjqjdud7bko.reverse(xs.slice(0,index));return $_a6p6d7mgjdud7bym_findMap(rest,function(a,i){return a.map(function(aa){return{value:aa,delta:i+1}})})},function(c){return Option.some({value:c,delta:0})}),next=xs[index+1].fold(function(){var rest=xs.slice(index+1);return $_a6p6d7mgjdud7bym_findMap(rest,function(a,i){return a.map(function(aa){return{value:aa,delta:i+1}})})},function(n){return Option.some({value:n,delta:1})});return current.bind(function(c){return next.map(function(n){var extras=n.delta+c.delta;return Math.abs(n.value-c.value)/extras})})},decide=function(getBlock,isSingle,getFallback){var inBlock=getBlock();return $_2b6dlmjqjdud7bko.find(inBlock,isSingle).orThunk(function(){return Option.from(inBlock[0]).orThunk(getFallback)}).map(function(detail){return detail.element()})},$_n9ugpmmjdud7bzy_columns=function(warehouse){var grid=warehouse.grid(),cols=$_fclc2pmnjdud7c04_range(0,grid.columns()),rows=$_fclc2pmnjdud7c04_range(0,grid.rows());return $_2b6dlmjqjdud7bko.map(cols,function(col){return decide(function(){return $_2b6dlmjqjdud7bko.bind(rows,function(r){return $_ftidmkkyjdud7bpf.getAt(warehouse,r,col).filter(function(detail){return detail.column()===col}).fold($_e8r7mrjsjdud7bkx.constant([]),function(detail){return[detail]})})},function(detail){return 1===detail.colspan()},function(){return $_ftidmkkyjdud7bpf.getAt(warehouse,0,col)})})},$_n9ugpmmjdud7bzy_rows=function(warehouse){var grid=warehouse.grid(),rows=$_fclc2pmnjdud7c04_range(0,grid.rows()),cols=$_fclc2pmnjdud7c04_range(0,grid.columns());return $_2b6dlmjqjdud7bko.map(rows,function(row){return decide(function(){return $_2b6dlmjqjdud7bko.bind(cols,function(c){return $_ftidmkkyjdud7bpf.getAt(warehouse,row,c).filter(function(detail){return detail.row()===row}).fold($_e8r7mrjsjdud7bkx.constant([]),function(detail){return[detail]})})},function(detail){return 1===detail.rowspan()},function(){return $_ftidmkkyjdud7bpf.getAt(warehouse,row,0)})})},$_apsvjymojdud7c0a_col=function(column,x,y,w,h){var blocker=$_2q3j53k5jdud7bmr.fromTag("div");return $_b5rw3dkzjdud7bpm.setAll(blocker,{position:"absolute",left:x-w/2+"px",top:y+"px",height:h+"px",width:w+"px"}),$_1ei337kqjdud7bom.setAll(blocker,{"data-column":column,role:"presentation"}),blocker},$_apsvjymojdud7c0a_row=function(row,x,y,w,h){var blocker=$_2q3j53k5jdud7bmr.fromTag("div");return $_b5rw3dkzjdud7bpm.setAll(blocker,{position:"absolute",left:x+"px",top:y-h/2+"px",height:h+"px",width:w+"px"}),$_1ei337kqjdud7bom.setAll(blocker,{"data-row":row,role:"presentation"}),blocker},$_btd1tomqjdud7c0h_css=function(namespace){var dashNamespace=namespace.replace(/\./g,"-");return{resolve:function(str){return dashNamespace+"-"+str}}},$_1t7l1pmpjdud7c0f={resolve:$_btd1tomqjdud7c0h_css("ephox-snooker").resolve},read=function(element,attr){var value=$_1ei337kqjdud7bom.get(element,attr);return void 0===value||""===value?[]:value.split(" ")},$_89zlcqmujdud7c0o_read=read,$_89zlcqmujdud7c0o_add=function(element,attr,id){var nu=read(element,attr).concat([id]);$_1ei337kqjdud7bom.set(element,attr,nu.join(" "))},$_89zlcqmujdud7c0o_remove=function(element,attr,id){var nu=$_2b6dlmjqjdud7bko.filter(read(element,attr),function(v){return v!==id});0<nu.length?$_1ei337kqjdud7bom.set(element,attr,nu.join(" ")):$_1ei337kqjdud7bom.remove(element,attr)},get$6=function(element){return $_89zlcqmujdud7c0o_read(element,"class")},add$1=function(element,clazz){return $_89zlcqmujdud7c0o_add(element,"class",clazz)},remove$4=function(element,clazz){return $_89zlcqmujdud7c0o_remove(element,"class",clazz)},$_2n8nx3mtjdud7c0l_get=get$6,$_2n8nx3mtjdud7c0l_add=add$1,$_2n8nx3mtjdud7c0l_remove=remove$4,$_2n8nx3mtjdud7c0l_toggle=function(element,clazz){$_2b6dlmjqjdud7bko.contains(get$6(element),clazz)?remove$4(element,clazz):add$1(element,clazz)},$_2n8nx3mtjdud7c0l_supports=function(element){return void 0!==element.dom().classList},has$1=function(element,clazz){return $_2n8nx3mtjdud7c0l_supports(element)&&element.dom().classList.contains(clazz)},$_119fsomrjdud7c0i={add:function(element,clazz){$_2n8nx3mtjdud7c0l_supports(element)?element.dom().classList.add(clazz):$_2n8nx3mtjdud7c0l_add(element,clazz)},remove:function(element,clazz){$_2n8nx3mtjdud7c0l_supports(element)?element.dom().classList.remove(clazz):$_2n8nx3mtjdud7c0l_remove(element,clazz),function(element){0===($_2n8nx3mtjdud7c0l_supports(element)?element.dom().classList:$_2n8nx3mtjdud7c0l_get(element)).length&&$_1ei337kqjdud7bom.remove(element,"class")}(element)},toggle:function(element,clazz){return $_2n8nx3mtjdud7c0l_supports(element)?element.dom().classList.toggle(clazz):$_2n8nx3mtjdud7c0l_toggle(element,clazz)},toggler:function(element,clazz){var hasClasslist=$_2n8nx3mtjdud7c0l_supports(element),classList=element.dom().classList;return function Toggler(turnOff,turnOn,initial){var active=initial||!1,on=function(){turnOn(),active=!0},off=function(){turnOff(),active=!1};return{on:on,off:off,toggle:function(){(active?off:on)()},isOn:function(){return active}}}(function(){hasClasslist?classList.remove(clazz):$_2n8nx3mtjdud7c0l_remove(element,clazz)},function(){hasClasslist?classList.add(clazz):$_2n8nx3mtjdud7c0l_add(element,clazz)},has$1(element,clazz))},has:has$1},resizeBar=$_1t7l1pmpjdud7c0f.resolve("resizer-bar"),resizeRowBar=$_1t7l1pmpjdud7c0f.resolve("resizer-rows"),resizeColBar=$_1t7l1pmpjdud7c0f.resolve("resizer-cols"),clear=function(wire){var previous=$_b4a6sqksjdud7bov.descendants(wire.parent(),"."+resizeBar);$_2b6dlmjqjdud7bko.each(previous,$_g2ty44l2jdud7bq6.remove)},drawBar=function(wire,positions,create){var origin=wire.origin();$_2b6dlmjqjdud7bko.each(positions,function(cpOption,i){cpOption.each(function(cp){var bar=create(origin,cp);$_119fsomrjdud7c0i.add(bar,resizeBar),$_b9f8rkl1jdud7bq5.append(wire.parent(),bar)})})},refreshGrid=function(wire,table,rows,cols,hdirection,vdirection){var position=$_1b83qkm3jdud7bwd_absolute(table);!function(wire,rowPositions,position,tableWidth){drawBar(wire,rowPositions,function(origin,cp){var rowBar=$_apsvjymojdud7c0a_row(cp.row(),position.left()-origin.left(),cp.y()-origin.top(),tableWidth,7);return $_119fsomrjdud7c0i.add(rowBar,resizeRowBar),rowBar})}(wire,0<rows.length?hdirection.positions(rows,table):[],position,$_fnm25ilzjdud7bvz_getOuter(table)),function(wire,colPositions,position,tableHeight){drawBar(wire,colPositions,function(origin,cp){var colBar=$_apsvjymojdud7c0a_col(cp.col(),cp.x()-origin.left(),position.top()-origin.top(),7,tableHeight);return $_119fsomrjdud7c0i.add(colBar,resizeColBar),colBar})}(wire,0<cols.length?vdirection.positions(cols,table):[],position,$_d8flr3lxjdud7bvn_getOuter(table))},each$2=function(wire,f){var bars=$_b4a6sqksjdud7bov.descendants(wire.parent(),"."+resizeBar);$_2b6dlmjqjdud7bko.each(bars,f)},$_7xp62hmljdud7bzg={refresh:function(wire,table,hdirection,vdirection){clear(wire);var list=$_bfx1aek0jdud7blw_fromTable(table),warehouse=$_ftidmkkyjdud7bpf.generate(list),rows=$_n9ugpmmjdud7bzy_rows(warehouse),cols=$_n9ugpmmjdud7bzy_columns(warehouse);refreshGrid(wire,table,rows,cols,hdirection,vdirection)},hide:function(wire){each$2(wire,function(bar){$_b5rw3dkzjdud7bpm.set(bar,"display","none")})},show:function(wire){each$2(wire,function(bar){$_b5rw3dkzjdud7bpm.set(bar,"display","block")})},destroy:clear,isRowBar:function(element){return $_119fsomrjdud7c0i.has(element,resizeRowBar)},isColBar:function(element){return $_119fsomrjdud7c0i.has(element,resizeColBar)}},deriveRows=function(rendered,generators){return $_2b6dlmjqjdud7bko.map(rendered,function(details){var row=function(details){return $_a6p6d7mgjdud7bym_findMap(details,function(detail){return $_9s8a4jk7jdud7bmw.parent(detail.element()).map(function(row){var isNew=$_9s8a4jk7jdud7bmw.parent(row).isNone();return $_g6h236k1jdud7bm2.elementnew(row,isNew)})}).getOrThunk(function(){return $_g6h236k1jdud7bm2.elementnew(generators.row(),!0)})}(details.details());return $_g6h236k1jdud7bm2.rowdatanew(row.element(),details.details(),details.section(),row.isNew())})},toDetailList=function(grid,generators){var rendered=$_17yaacmhjdud7byp_toDetails(grid,$_6nkapzk9jdud7bn7.eq);return deriveRows(rendered,generators)},findInWarehouse=function(warehouse,element){var all=$_2b6dlmjqjdud7bko.flatten($_2b6dlmjqjdud7bko.map(warehouse.all(),function(r){return r.cells()}));return $_2b6dlmjqjdud7bko.find(all,function(e){return $_6nkapzk9jdud7bn7.eq(element,e.element())})},$_5ex7nomejdud7by9_run=function(operation,extract,adjustment,postAction,genWrappers){return function(wire,table,target,generators,direction){var input=$_bfx1aek0jdud7blw_fromTable(table),warehouse=$_ftidmkkyjdud7bpf.generate(input);return extract(warehouse,target).map(function(info){var model=function(warehouse,generators){return $_17yaacmhjdud7byp_toGrid(warehouse,generators,!1)}(warehouse,generators),result=operation(model,info,$_6nkapzk9jdud7bn7.eq,genWrappers(generators)),grid=toDetailList(result.grid(),generators);return{grid:$_e8r7mrjsjdud7bkx.constant(grid),cursor:result.cursor}}).fold(function(){return Option.none()},function(out){var newElements=$_8uhxgumkjdud7bz1_render(table,out.grid());return adjustment(table,out.grid(),direction),postAction(table),$_7xp62hmljdud7bzg.refresh(wire,table,$_2qb4vhm2jdud7bw4.height,direction),Option.some({cursor:out.cursor,newRows:newElements.newRows,newCells:newElements.newCells})})}},$_5ex7nomejdud7by9_toDetailList=toDetailList,$_5ex7nomejdud7by9_onCell=function(warehouse,target){return $_e5b08wk2jdud7bm5.cell(target.element()).bind(function(cell){return findInWarehouse(warehouse,cell)})},$_5ex7nomejdud7by9_onCells=function(warehouse,target){var details=$_2b6dlmjqjdud7bko.map(target.selection(),function(cell){return $_e5b08wk2jdud7bm5.cell(cell).bind(function(lc){return findInWarehouse(warehouse,lc)})}),cells=$_a6p6d7mgjdud7bym_cat(details);return 0<cells.length?Option.some(cells):Option.none()},$_5ex7nomejdud7by9_onPaste=function(warehouse,target){return $_e5b08wk2jdud7bm5.cell(target.element()).bind(function(cell){return findInWarehouse(warehouse,cell).map(function(details){return $_9egglgmfjdud7byk.merge(details,{generators:target.generators,clipboard:target.clipboard})})})},$_5ex7nomejdud7by9_onPasteRows=function(warehouse,target){var details=$_2b6dlmjqjdud7bko.map(target.selection(),function(cell){return $_e5b08wk2jdud7bm5.cell(cell).bind(function(lc){return findInWarehouse(warehouse,lc)})}),cells=$_a6p6d7mgjdud7bym_cat(details);return 0<cells.length?Option.some($_9egglgmfjdud7byk.merge({cells:cells},{generators:target.generators,clipboard:target.clipboard})):Option.none()},$_5ex7nomejdud7by9_onMergable=function(warehouse,target){return target.mergable()},$_5ex7nomejdud7by9_onUnmergable=function(warehouse,target){return target.unmergable()},value$1=function(o){return{is:function(v){return o===v},isValue:$_e8r7mrjsjdud7bkx.always,isError:$_e8r7mrjsjdud7bkx.never,getOr:$_e8r7mrjsjdud7bkx.constant(o),getOrThunk:$_e8r7mrjsjdud7bkx.constant(o),getOrDie:$_e8r7mrjsjdud7bkx.constant(o),or:function(opt){return value$1(o)},orThunk:function(f){return value$1(o)},fold:function(_,onValue){return onValue(o)},map:function(f){return value$1(f(o))},each:function(f){f(o)},bind:function(f){return f(o)},exists:function(f){return f(o)},forall:function(f){return f(o)},toOption:function(){return Option.some(o)}}},error=function(message){return{is:$_e8r7mrjsjdud7bkx.never,isValue:$_e8r7mrjsjdud7bkx.never,isError:$_e8r7mrjsjdud7bkx.always,getOr:$_e8r7mrjsjdud7bkx.identity,getOrThunk:function(f){return f()},getOrDie:function(){return $_e8r7mrjsjdud7bkx.die(message)()},or:function(opt){return opt},orThunk:function(f){return f()},fold:function(onError,_){return onError(message)},map:function(f){return error(message)},each:$_e8r7mrjsjdud7bkx.noop,bind:function(f){return error(message)},exists:$_e8r7mrjsjdud7bkx.never,forall:$_e8r7mrjsjdud7bkx.always,toOption:Option.none}},Result={value:value$1,error:error},fill=function(cells,generator){return $_2b6dlmjqjdud7bko.map(cells,function(){return $_g6h236k1jdud7bm2.elementnew(generator.cell(),!0)})},rowFill=function(grid,amount,generator){return grid.concat($_fclc2pmnjdud7c04_repeat(amount,function(_row){return $_36mtvcmjjdud7byy.setCells(grid[grid.length-1],fill(grid[grid.length-1].cells(),generator))}))},colFill=function(grid,amount,generator){return $_2b6dlmjqjdud7bko.map(grid,function(row){return $_36mtvcmjjdud7byy.setCells(row,row.cells().concat(fill($_fclc2pmnjdud7c04_range(0,amount),generator)))})},$_fj2pxjmwjdud7c0w_measure=function(startAddress,gridA,gridB){if(startAddress.row()>=gridA.length||startAddress.column()>$_36mtvcmjjdud7byy.cellLength(gridA[0]))return Result.error("invalid start address out of table bounds, row: "+startAddress.row()+", column: "+startAddress.column());var rowRemainder=gridA.slice(startAddress.row()),colRemainder=rowRemainder[0].cells().slice(startAddress.column()),colRequired=$_36mtvcmjjdud7byy.cellLength(gridB[0]),rowRequired=gridB.length;return Result.value({rowDelta:$_e8r7mrjsjdud7bkx.constant(rowRemainder.length-rowRequired),colDelta:$_e8r7mrjsjdud7bkx.constant(colRemainder.length-colRequired)})},$_fj2pxjmwjdud7c0w_measureWidth=function(gridA,gridB){var colLengthA=$_36mtvcmjjdud7byy.cellLength(gridA[0]),colLengthB=$_36mtvcmjjdud7byy.cellLength(gridB[0]);return{rowDelta:$_e8r7mrjsjdud7bkx.constant(0),colDelta:$_e8r7mrjsjdud7bkx.constant(colLengthA-colLengthB)}},$_fj2pxjmwjdud7c0w_tailor=function(gridA,delta,generator){var fillCols=delta.colDelta()<0?colFill:$_e8r7mrjsjdud7bkx.identity;return(delta.rowDelta()<0?rowFill:$_e8r7mrjsjdud7bkx.identity)(fillCols(gridA,Math.abs(delta.colDelta()),generator),Math.abs(delta.rowDelta()),generator)},$_bx6onlmyjdud7c16_merge=function(grid,bounds,comparator,substitution){if(0===grid.length)return grid;for(var i=bounds.startRow();i<=bounds.finishRow();i++)for(var j=bounds.startCol();j<=bounds.finishCol();j++)$_36mtvcmjjdud7byy.mutateCell(grid[i],j,$_g6h236k1jdud7bm2.elementnew(substitution(),!1));return grid},$_bx6onlmyjdud7c16_unmerge=function(grid,target,comparator,substitution){for(var first=!0,i=0;i<grid.length;i++)for(var j=0;j<$_36mtvcmjjdud7byy.cellLength(grid[0]);j++){var isToReplace=comparator($_36mtvcmjjdud7byy.getCellElement(grid[i],j),target);!0===isToReplace&&!1===first?$_36mtvcmjjdud7byy.mutateCell(grid[i],j,$_g6h236k1jdud7bm2.elementnew(substitution(),!0)):!0===isToReplace&&(first=!1)}return grid},$_bx6onlmyjdud7c16_splitRows=function(grid,index,comparator,substitution){if(0<index&&index<grid.length){var cells=function(row,comparator){return $_2b6dlmjqjdud7bko.foldl(row,function(rest,cell){return $_2b6dlmjqjdud7bko.exists(rest,function(currentCell){return comparator(currentCell.element(),cell.element())})?rest:rest.concat([cell])},[])}(grid[index-1].cells(),comparator);$_2b6dlmjqjdud7bko.each(cells,function(cell){for(var replacement=Option.none(),i=index;i<grid.length;i++)for(var j=0;j<$_36mtvcmjjdud7byy.cellLength(grid[0]);j++){var current=grid[i].cells()[j];comparator(current.element(),cell.element())&&(replacement.isNone()&&(replacement=Option.some(substitution())),replacement.each(function(sub){$_36mtvcmjjdud7byy.mutateCell(grid[i],j,$_g6h236k1jdud7bm2.elementnew(sub,!0))}))}})}return grid},isSpanning=function(grid,row,col,comparator){var candidate=$_36mtvcmjjdud7byy.getCell(grid[row],col),matching=$_e8r7mrjsjdud7bkx.curry(comparator,candidate.element()),currentRow=grid[row];return 1<grid.length&&1<$_36mtvcmjjdud7byy.cellLength(currentRow)&&(0<col&&matching($_36mtvcmjjdud7byy.getCellElement(currentRow,col-1))||col<currentRow.length-1&&matching($_36mtvcmjjdud7byy.getCellElement(currentRow,col+1))||0<row&&matching($_36mtvcmjjdud7byy.getCellElement(grid[row-1],col))||row<grid.length-1&&matching($_36mtvcmjjdud7byy.getCellElement(grid[row+1],col)))},$_1cg2k3mvjdud7c0r_merge=function(startAddress,gridA,gridB,generator,comparator){return $_fj2pxjmwjdud7c0w_measure(startAddress,gridA,gridB).map(function(delta){var fittedGrid=$_fj2pxjmwjdud7c0w_tailor(gridA,delta,generator);return function(startAddress,gridA,gridB,generator,comparator){for(var startRow=startAddress.row(),startCol=startAddress.column(),endRow=startRow+gridB.length,endCol=startCol+$_36mtvcmjjdud7byy.cellLength(gridB[0]),r=startRow;r<endRow;r++)for(var c=startCol;c<endCol;c++){isSpanning(gridA,r,c,comparator)&&$_bx6onlmyjdud7c16_unmerge(gridA,$_36mtvcmjjdud7byy.getCellElement(gridA[r],c),comparator,generator.cell);var newCell=$_36mtvcmjjdud7byy.getCellElement(gridB[r-startRow],c-startCol),replacement=generator.replace(newCell);$_36mtvcmjjdud7byy.mutateCell(gridA[r],c,$_g6h236k1jdud7bm2.elementnew(replacement,!0))}return gridA}(startAddress,fittedGrid,gridB,generator,comparator)})},$_1cg2k3mvjdud7c0r_insert=function(index,gridA,gridB,generator,comparator){$_bx6onlmyjdud7c16_splitRows(gridA,index,comparator,generator.cell);var delta=$_fj2pxjmwjdud7c0w_measureWidth(gridB,gridA),fittedNewGrid=$_fj2pxjmwjdud7c0w_tailor(gridB,delta,generator),secondDelta=$_fj2pxjmwjdud7c0w_measureWidth(gridA,fittedNewGrid),fittedOldGrid=$_fj2pxjmwjdud7c0w_tailor(gridA,secondDelta,generator);return fittedOldGrid.slice(0,index).concat(fittedNewGrid).concat(fittedOldGrid.slice(index,fittedOldGrid.length))},$_15q5cvmzjdud7c1c_insertRowAt=function(grid,index,example,comparator,substitution){var before=grid.slice(0,index),after=grid.slice(index),between=$_36mtvcmjjdud7byy.mapCells(grid[example],function(ex,c){return 0<index&&index<grid.length&&comparator($_36mtvcmjjdud7byy.getCellElement(grid[index-1],c),$_36mtvcmjjdud7byy.getCellElement(grid[index],c))?$_36mtvcmjjdud7byy.getCell(grid[index],c):$_g6h236k1jdud7bm2.elementnew(substitution(ex.element(),comparator),!0)});return before.concat([between]).concat(after)},$_15q5cvmzjdud7c1c_insertColumnAt=function(grid,index,example,comparator,substitution){return $_2b6dlmjqjdud7bko.map(grid,function(row){var sub=0<index&&index<$_36mtvcmjjdud7byy.cellLength(row)&&comparator($_36mtvcmjjdud7byy.getCellElement(row,index-1),$_36mtvcmjjdud7byy.getCellElement(row,index))?$_36mtvcmjjdud7byy.getCell(row,index):$_g6h236k1jdud7bm2.elementnew(substitution($_36mtvcmjjdud7byy.getCellElement(row,example),comparator),!0);return $_36mtvcmjjdud7byy.addCell(row,index,sub)})},$_15q5cvmzjdud7c1c_splitCellIntoColumns=function(grid,exampleRow,exampleCol,comparator,substitution){var index=exampleCol+1;return $_2b6dlmjqjdud7bko.map(grid,function(row,i){var sub=i===exampleRow?$_g6h236k1jdud7bm2.elementnew(substitution($_36mtvcmjjdud7byy.getCellElement(row,exampleCol),comparator),!0):$_36mtvcmjjdud7byy.getCell(row,exampleCol);return $_36mtvcmjjdud7byy.addCell(row,index,sub)})},$_15q5cvmzjdud7c1c_splitCellIntoRows=function(grid,exampleRow,exampleCol,comparator,substitution){var index=exampleRow+1,before=grid.slice(0,index),after=grid.slice(index),between=$_36mtvcmjjdud7byy.mapCells(grid[exampleRow],function(ex,i){return i===exampleCol?$_g6h236k1jdud7bm2.elementnew(substitution(ex.element(),comparator),!0):ex});return before.concat([between]).concat(after)},$_15q5cvmzjdud7c1c_deleteRowsAt=function(grid,start,finish){return grid.slice(0,start).concat(grid.slice(finish+1))},$_15q5cvmzjdud7c1c_deleteColumnsAt=function(grid,start,finish){var rows=$_2b6dlmjqjdud7bko.map(grid,function(row){var cells=row.cells().slice(0,start).concat(row.cells().slice(finish+1));return $_g6h236k1jdud7bm2.rowcells(cells,row.section())});return $_2b6dlmjqjdud7bko.filter(rows,function(row){return 0<row.cells().length})},replaceIn=function(grid,targets,comparator,substitution){return $_2b6dlmjqjdud7bko.map(grid,function(row){return $_36mtvcmjjdud7byy.mapCells(row,function(cell){return function(cell){return $_2b6dlmjqjdud7bko.exists(targets,function(target){return comparator(cell.element(),target.element())})}(cell)?$_g6h236k1jdud7bm2.elementnew(substitution(cell.element(),comparator),!0):cell})})},notStartRow=function(grid,rowIndex,colIndex,comparator){return void 0!==$_36mtvcmjjdud7byy.getCellElement(grid[rowIndex],colIndex)&&0<rowIndex&&comparator($_36mtvcmjjdud7byy.getCellElement(grid[rowIndex-1],colIndex),$_36mtvcmjjdud7byy.getCellElement(grid[rowIndex],colIndex))},notStartColumn=function(row,index,comparator){return 0<index&&comparator($_36mtvcmjjdud7byy.getCellElement(row,index-1),$_36mtvcmjjdud7byy.getCellElement(row,index))},$_21bofun0jdud7c1g_replaceColumn=function(grid,index,comparator,substitution){var targets=$_2b6dlmjqjdud7bko.bind(grid,function(row,i){return notStartRow(grid,i,index,comparator)||notStartColumn(row,index,comparator)?[]:[$_36mtvcmjjdud7byy.getCell(row,index)]});return replaceIn(grid,targets,comparator,substitution)},$_21bofun0jdud7c1g_replaceRow=function(grid,index,comparator,substitution){var targetRow=grid[index],targets=$_2b6dlmjqjdud7bko.bind(targetRow.cells(),function(item,i){return notStartRow(grid,index,i,comparator)||notStartColumn(targetRow,i,comparator)?[]:[item]});return replaceIn(grid,targets,comparator,substitution)},folder=function(fold){return{fold:fold}},$_4amvton3jdud7c1z_none=function(){return folder(function(n,o,l,m,r){return n()})},$_4amvton3jdud7c1z_only=function(index){return folder(function(n,o,l,m,r){return o(index)})},$_4amvton3jdud7c1z_left=function(index,next){return folder(function(n,o,l,m,r){return l(index,next)})},$_4amvton3jdud7c1z_middle=function(prev,index,next){return folder(function(n,o,l,m,r){return m(prev,index,next)})},$_4amvton3jdud7c1z_right=function(prev,index){return folder(function(n,o,l,m,r){return r(prev,index)})},$_62ymron2jdud7c1u_determine=function(input,column,step,tableSize){var result=input.slice(0),context=function(input,index){return 0===input.length?$_4amvton3jdud7c1z_none():1===input.length?$_4amvton3jdud7c1z_only(0):0===index?$_4amvton3jdud7c1z_left(0,1):index===input.length-1?$_4amvton3jdud7c1z_right(index-1,index):0<index&&index<input.length-1?$_4amvton3jdud7c1z_middle(index-1,index,index+1):$_4amvton3jdud7c1z_none()}(input,column),zero=function(array){return $_2b6dlmjqjdud7bko.map(array,$_e8r7mrjsjdud7bkx.constant(0))},onNone=$_e8r7mrjsjdud7bkx.constant(zero(result)),onChange=function(index,next){if(0<=step){var newNext=Math.max(tableSize.minCellWidth(),result[next]-step);return zero(result.slice(0,index)).concat([step,newNext-result[next]]).concat(zero(result.slice(next+1)))}var newThis=Math.max(tableSize.minCellWidth(),result[index]+step),diffx=result[index]-newThis;return zero(result.slice(0,index)).concat([newThis-result[index],diffx]).concat(zero(result.slice(next+1)))},onLeft=onChange;return context.fold(onNone,function(index){return tableSize.singleColumnWidth(result[index],step)},onLeft,function(prev,index,next){return onChange(index,next)},function(prev,index){if(0<=step)return zero(result.slice(0,index)).concat([step]);var size=Math.max(tableSize.minCellWidth(),result[index]+step);return zero(result.slice(0,index)).concat([size-result[index]])})},getSpan$1=function(cell,type){return $_1ei337kqjdud7bom.has(cell,type)&&1<parseInt($_1ei337kqjdud7bom.get(cell,type),10)},$_g0vp2on5jdud7c27={hasColspan:function(cell){return getSpan$1(cell,"colspan")},hasRowspan:function(cell){return getSpan$1(cell,"rowspan")},minWidth:$_e8r7mrjsjdud7bkx.constant(10),minHeight:$_e8r7mrjsjdud7bkx.constant(10),getInt:function(element,property){return parseInt($_b5rw3dkzjdud7bpm.get(element,property),10)}},getRaw$1=function(cell,property,getter){return $_b5rw3dkzjdud7bpm.getRaw(cell,property).fold(function(){return getter(cell)+"px"},function(raw){return raw})},getRawW=function(cell){return getRaw$1(cell,"width",$_b1w9oplvjdud7bv2.getPixelWidth)},getRawH=function(cell){return getRaw$1(cell,"height",$_b1w9oplvjdud7bv2.getHeight)},getWidthFrom=function(warehouse,direction,getWidth,fallback,tableSize){var columns=$_n9ugpmmjdud7bzy_columns(warehouse),backups=$_2b6dlmjqjdud7bko.map(columns,function(cellOption){return cellOption.map(direction.edge)});return $_2b6dlmjqjdud7bko.map(columns,function(cellOption,c){return cellOption.filter($_e8r7mrjsjdud7bkx.not($_g0vp2on5jdud7c27.hasColspan)).fold(function(){var deduced=$_fclc2pmnjdud7c04_deduce(backups,c);return fallback(deduced)},function(cell){return getWidth(cell,tableSize)})})},getDeduced=function(deduced){return deduced.map(function(d){return d+"px"}).getOr("")},getHeightFrom=function(warehouse,direction,getHeight,fallback){var rows=$_n9ugpmmjdud7bzy_rows(warehouse),backups=$_2b6dlmjqjdud7bko.map(rows,function(cellOption){return cellOption.map(direction.edge)});return $_2b6dlmjqjdud7bko.map(rows,function(cellOption,c){return cellOption.filter($_e8r7mrjsjdud7bkx.not($_g0vp2on5jdud7c27.hasRowspan)).fold(function(){var deduced=$_fclc2pmnjdud7c04_deduce(backups,c);return fallback(deduced)},function(cell){return getHeight(cell)})})},$_eidhfcn4jdud7c21={getRawWidths:function(warehouse,direction){return getWidthFrom(warehouse,direction,getRawW,getDeduced)},getPixelWidths:function(warehouse,direction,tableSize){return getWidthFrom(warehouse,direction,$_b1w9oplvjdud7bv2.getPixelWidth,function(deduced){return deduced.getOrThunk(tableSize.minCellWidth)},tableSize)},getPercentageWidths:function(warehouse,direction,tableSize){return getWidthFrom(warehouse,direction,$_b1w9oplvjdud7bv2.getPercentageWidth,function(deduced){return deduced.fold(function(){return tableSize.minCellWidth()},function(cellWidth){return cellWidth/tableSize.pixelWidth()*100})},tableSize)},getPixelHeights:function(warehouse,direction){return getHeightFrom(warehouse,direction,$_b1w9oplvjdud7bv2.getHeight,function(deduced){return deduced.getOrThunk($_g0vp2on5jdud7c27.minHeight)})},getRawHeights:function(warehouse,direction){return getHeightFrom(warehouse,direction,getRawH,getDeduced)}},total=function(start,end,measures){for(var r=0,i=start;i<end;i++)r+=void 0!==measures[i]?measures[i]:0;return r},$_n94aqn6jdud7c2c_recalculateWidth=function(warehouse,widths){var all=$_ftidmkkyjdud7bpf.justCells(warehouse);return $_2b6dlmjqjdud7bko.map(all,function(cell){var width=total(cell.column(),cell.column()+cell.colspan(),widths);return{element:cell.element,width:$_e8r7mrjsjdud7bkx.constant(width),colspan:cell.colspan}})},$_n94aqn6jdud7c2c_recalculateHeight=function(warehouse,heights){var all=$_ftidmkkyjdud7bpf.justCells(warehouse);return $_2b6dlmjqjdud7bko.map(all,function(cell){var height=total(cell.row(),cell.row()+cell.rowspan(),heights);return{element:cell.element,height:$_e8r7mrjsjdud7bkx.constant(height),rowspan:cell.rowspan}})},$_n94aqn6jdud7c2c_matchRowHeight=function(warehouse,heights){return $_2b6dlmjqjdud7bko.map(warehouse.all(),function(row,i){return{element:row.element,height:$_e8r7mrjsjdud7bkx.constant(heights[i])}})},pixelSize=function(width){var intWidth=parseInt(width,10),getCellDelta=$_e8r7mrjsjdud7bkx.identity;return{width:$_e8r7mrjsjdud7bkx.constant(intWidth),pixelWidth:$_e8r7mrjsjdud7bkx.constant(intWidth),getWidths:$_eidhfcn4jdud7c21.getPixelWidths,getCellDelta:getCellDelta,singleColumnWidth:function(width,delta){return[Math.max($_g0vp2on5jdud7c27.minWidth(),width+delta)-width]},minCellWidth:$_g0vp2on5jdud7c27.minWidth,setElementWidth:$_b1w9oplvjdud7bv2.setPixelWidth,setTableWidth:function(table,newWidths,_delta){var total=$_2b6dlmjqjdud7bko.foldr(newWidths,function(b,a){return b+a},0);$_b1w9oplvjdud7bv2.setPixelWidth(table,total)}}},chooseSize=function(element,width){if($_b1w9oplvjdud7bv2.percentageBasedSizeRegex().test(width))return function(width,element){var floatWidth=parseFloat(width),pixelWidth=$_fnm25ilzjdud7bvz_get(element);return{width:$_e8r7mrjsjdud7bkx.constant(floatWidth),pixelWidth:$_e8r7mrjsjdud7bkx.constant(pixelWidth),getWidths:$_eidhfcn4jdud7c21.getPercentageWidths,getCellDelta:function(delta){return delta/pixelWidth*100},singleColumnWidth:function(width,_delta){return[100-width]},minCellWidth:function(){return $_g0vp2on5jdud7c27.minWidth()/pixelWidth*100},setElementWidth:$_b1w9oplvjdud7bv2.setPercentageWidth,setTableWidth:function(table,_newWidths,delta){var total=floatWidth+delta;$_b1w9oplvjdud7bv2.setPercentageWidth(table,total)}}}($_b1w9oplvjdud7bv2.percentageBasedSizeRegex().exec(width)[1],element);if($_b1w9oplvjdud7bv2.pixelBasedSizeRegex().test(width)){var pixelMatch=$_b1w9oplvjdud7bv2.pixelBasedSizeRegex().exec(width);return pixelSize(pixelMatch[1])}var fallbackWidth=$_fnm25ilzjdud7bvz_get(element);return pixelSize(fallbackWidth)},$_36fs3an7jdud7c2i_getTableSize=function(element){return $_b1w9oplvjdud7bv2.getRawWidth(element).fold(function(){var fallbackWidth=$_fnm25ilzjdud7bvz_get(element);return pixelSize(fallbackWidth)},function(width){return chooseSize(element,width)})},getWarehouse$1=function(list){return $_ftidmkkyjdud7bpf.generate(list)},getTableWarehouse=function(table){var list=$_bfx1aek0jdud7blw_fromTable(table);return getWarehouse$1(list)},$_3b8umn1jdud7c1k={adjustWidth:function(table,delta,index,direction){var tableSize=$_36fs3an7jdud7c2i_getTableSize(table),step=tableSize.getCellDelta(delta),warehouse=getTableWarehouse(table),widths=tableSize.getWidths(warehouse,direction,tableSize),deltas=$_62ymron2jdud7c1u_determine(widths,index,step,tableSize),newWidths=$_2b6dlmjqjdud7bko.map(deltas,function(dx,i){return dx+widths[i]}),newSizes=$_n94aqn6jdud7c2c_recalculateWidth(warehouse,newWidths);$_2b6dlmjqjdud7bko.each(newSizes,function(cell){tableSize.setElementWidth(cell.element(),cell.width())}),index===warehouse.grid().columns()-1&&tableSize.setTableWidth(table,newWidths,step)},adjustHeight:function(table,delta,index,direction){var warehouse=getTableWarehouse(table),heights=$_eidhfcn4jdud7c21.getPixelHeights(warehouse,direction),newHeights=$_2b6dlmjqjdud7bko.map(heights,function(dy,i){return index===i?Math.max(delta+dy,$_g0vp2on5jdud7c27.minHeight()):dy}),newCellSizes=$_n94aqn6jdud7c2c_recalculateHeight(warehouse,newHeights),newRowSizes=$_n94aqn6jdud7c2c_matchRowHeight(warehouse,newHeights);$_2b6dlmjqjdud7bko.each(newRowSizes,function(row){$_b1w9oplvjdud7bv2.setHeight(row.element(),row.height())}),$_2b6dlmjqjdud7bko.each(newCellSizes,function(cell){$_b1w9oplvjdud7bv2.setHeight(cell.element(),cell.height())});var newSize,total=(newSize=newHeights,$_2b6dlmjqjdud7bko.foldr(newSize,function(b,a){return b+a},0));$_b1w9oplvjdud7bv2.setHeight(table,total)},adjustWidthTo:function(table,list,direction){var tableSize=$_36fs3an7jdud7c2i_getTableSize(table),warehouse=getWarehouse$1(list),widths=tableSize.getWidths(warehouse,direction,tableSize),newSizes=$_n94aqn6jdud7c2c_recalculateWidth(warehouse,widths);$_2b6dlmjqjdud7bko.each(newSizes,function(cell){tableSize.setElementWidth(cell.element(),cell.width())});var total=$_2b6dlmjqjdud7bko.foldr(widths,function(b,a){return a+b},0);0<newSizes.length&&tableSize.setElementWidth(table,total)}},prune=function(table){0===$_e5b08wk2jdud7bm5.cells(table).length&&$_g2ty44l2jdud7bq6.remove(table)},outcome=$_4vwz6tjvjdud7blm.immutable("grid","cursor"),elementFromGrid=function(grid,row,column){return findIn(grid,row,column).orThunk(function(){return findIn(grid,0,0)})},findIn=function(grid,row,column){return Option.from(grid[row]).bind(function(r){return Option.from(r.cells()[column]).bind(function(c){return Option.from(c.element())})})},bundle=function(grid,row,column){return outcome(grid,findIn(grid,row,column))},uniqueRows=function(details){return $_2b6dlmjqjdud7bko.foldl(details,function(rest,detail){return $_2b6dlmjqjdud7bko.exists(rest,function(currentDetail){return currentDetail.row()===detail.row()})?rest:rest.concat([detail])},[]).sort(function(detailA,detailB){return detailA.row()-detailB.row()})},uniqueColumns=function(details){return $_2b6dlmjqjdud7bko.foldl(details,function(rest,detail){return $_2b6dlmjqjdud7bko.exists(rest,function(currentDetail){return currentDetail.column()===detail.column()})?rest:rest.concat([detail])},[]).sort(function(detailA,detailB){return detailA.column()-detailB.column()})},gridifyRows=function(rows,generators,example){var pasteDetails=$_bfx1aek0jdud7blw_fromPastedRows(rows,example),wh=$_ftidmkkyjdud7bpf.generate(pasteDetails);return $_17yaacmhjdud7byp_toGrid(wh,generators,!0)},resize=$_3b8umn1jdud7c1k.adjustWidthTo,$_a50jw7m7jdud7bwm={insertRowBefore:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var example=detail.row(),targetIndex=detail.row(),newGrid=$_15q5cvmzjdud7c1c_insertRowAt(grid,targetIndex,example,comparator,genWrappers.getOrInit);return bundle(newGrid,targetIndex,detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertRowsBefore:$_5ex7nomejdud7by9_run(function(grid,details,comparator,genWrappers){var example=details[0].row(),targetIndex=details[0].row(),rows=uniqueRows(details),newGrid=$_2b6dlmjqjdud7bko.foldl(rows,function(newGrid,_row){return $_15q5cvmzjdud7c1c_insertRowAt(newGrid,targetIndex,example,comparator,genWrappers.getOrInit)},grid);return bundle(newGrid,targetIndex,details[0].column())},$_5ex7nomejdud7by9_onCells,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertRowAfter:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var example=detail.row(),targetIndex=detail.row()+detail.rowspan(),newGrid=$_15q5cvmzjdud7c1c_insertRowAt(grid,targetIndex,example,comparator,genWrappers.getOrInit);return bundle(newGrid,targetIndex,detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertRowsAfter:$_5ex7nomejdud7by9_run(function(grid,details,comparator,genWrappers){var rows=uniqueRows(details),example=rows[rows.length-1].row(),targetIndex=rows[rows.length-1].row()+rows[rows.length-1].rowspan(),newGrid=$_2b6dlmjqjdud7bko.foldl(rows,function(newGrid,_row){return $_15q5cvmzjdud7c1c_insertRowAt(newGrid,targetIndex,example,comparator,genWrappers.getOrInit)},grid);return bundle(newGrid,targetIndex,details[0].column())},$_5ex7nomejdud7by9_onCells,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertColumnBefore:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var example=detail.column(),targetIndex=detail.column(),newGrid=$_15q5cvmzjdud7c1c_insertColumnAt(grid,targetIndex,example,comparator,genWrappers.getOrInit);return bundle(newGrid,detail.row(),targetIndex)},$_5ex7nomejdud7by9_onCell,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertColumnsBefore:$_5ex7nomejdud7by9_run(function(grid,details,comparator,genWrappers){var columns=uniqueColumns(details),example=columns[0].column(),targetIndex=columns[0].column(),newGrid=$_2b6dlmjqjdud7bko.foldl(columns,function(newGrid,_row){return $_15q5cvmzjdud7c1c_insertColumnAt(newGrid,targetIndex,example,comparator,genWrappers.getOrInit)},grid);return bundle(newGrid,details[0].row(),targetIndex)},$_5ex7nomejdud7by9_onCells,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertColumnAfter:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var example=detail.column(),targetIndex=detail.column()+detail.colspan(),newGrid=$_15q5cvmzjdud7c1c_insertColumnAt(grid,targetIndex,example,comparator,genWrappers.getOrInit);return bundle(newGrid,detail.row(),targetIndex)},$_5ex7nomejdud7by9_onCell,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),insertColumnsAfter:$_5ex7nomejdud7by9_run(function(grid,details,comparator,genWrappers){var example=details[details.length-1].column(),targetIndex=details[details.length-1].column()+details[details.length-1].colspan(),columns=uniqueColumns(details),newGrid=$_2b6dlmjqjdud7bko.foldl(columns,function(newGrid,_row){return $_15q5cvmzjdud7c1c_insertColumnAt(newGrid,targetIndex,example,comparator,genWrappers.getOrInit)},grid);return bundle(newGrid,details[0].row(),targetIndex)},$_5ex7nomejdud7by9_onCells,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),splitCellIntoColumns:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_15q5cvmzjdud7c1c_splitCellIntoColumns(grid,detail.row(),detail.column(),comparator,genWrappers.getOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),splitCellIntoRows:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_15q5cvmzjdud7c1c_splitCellIntoRows(grid,detail.row(),detail.column(),comparator,genWrappers.getOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),eraseColumns:$_5ex7nomejdud7by9_run(function(grid,details,comparator,_genWrappers){var columns=uniqueColumns(details),newGrid=$_15q5cvmzjdud7c1c_deleteColumnsAt(grid,columns[0].column(),columns[columns.length-1].column()),cursor=elementFromGrid(newGrid,details[0].row(),details[0].column());return outcome(newGrid,cursor)},$_5ex7nomejdud7by9_onCells,resize,prune,$_7ldhy3m8jdud7bx2_modification),eraseRows:$_5ex7nomejdud7by9_run(function(grid,details,comparator,_genWrappers){var rows=uniqueRows(details),newGrid=$_15q5cvmzjdud7c1c_deleteRowsAt(grid,rows[0].row(),rows[rows.length-1].row()),cursor=elementFromGrid(newGrid,details[0].row(),details[0].column());return outcome(newGrid,cursor)},$_5ex7nomejdud7by9_onCells,$_e8r7mrjsjdud7bkx.noop,prune,$_7ldhy3m8jdud7bx2_modification),makeColumnHeader:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_21bofun0jdud7c1g_replaceColumn(grid,detail.column(),comparator,genWrappers.replaceOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_transform("row","th")),unmakeColumnHeader:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_21bofun0jdud7c1g_replaceColumn(grid,detail.column(),comparator,genWrappers.replaceOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_transform(null,"td")),makeRowHeader:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_21bofun0jdud7c1g_replaceRow(grid,detail.row(),comparator,genWrappers.replaceOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_transform("col","th")),unmakeRowHeader:$_5ex7nomejdud7by9_run(function(grid,detail,comparator,genWrappers){var newGrid=$_21bofun0jdud7c1g_replaceRow(grid,detail.row(),comparator,genWrappers.replaceOrInit);return bundle(newGrid,detail.row(),detail.column())},$_5ex7nomejdud7by9_onCell,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_transform(null,"td")),mergeCells:$_5ex7nomejdud7by9_run(function(grid,mergable,comparator,_genWrappers){var cells=mergable.cells();$_7jh1dhmbjdud7bxh_merge(cells);var newGrid=$_bx6onlmyjdud7c16_merge(grid,mergable.bounds(),comparator,$_e8r7mrjsjdud7bkx.constant(cells[0]));return outcome(newGrid,Option.from(cells[0]))},$_5ex7nomejdud7by9_onMergable,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_merging),unmergeCells:$_5ex7nomejdud7by9_run(function(grid,unmergable,comparator,genWrappers){var newGrid=$_2b6dlmjqjdud7bko.foldr(unmergable,function(b,cell){return $_bx6onlmyjdud7c16_unmerge(b,cell,comparator,genWrappers.combine(cell))},grid);return outcome(newGrid,Option.from(unmergable[0]))},$_5ex7nomejdud7by9_onUnmergable,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_merging),pasteCells:$_5ex7nomejdud7by9_run(function(grid,pasteDetails,comparator,genWrappers){var table,generators,list,wh,gridB=(table=pasteDetails.clipboard(),generators=pasteDetails.generators(),list=$_bfx1aek0jdud7blw_fromTable(table),wh=$_ftidmkkyjdud7bpf.generate(list),$_17yaacmhjdud7byp_toGrid(wh,generators,!0)),startAddress=$_g6h236k1jdud7bm2.address(pasteDetails.row(),pasteDetails.column());return $_1cg2k3mvjdud7c0r_merge(startAddress,grid,gridB,pasteDetails.generators(),comparator).fold(function(){return outcome(grid,Option.some(pasteDetails.element()))},function(nuGrid){var cursor=elementFromGrid(nuGrid,pasteDetails.row(),pasteDetails.column());return outcome(nuGrid,cursor)})},$_5ex7nomejdud7by9_onPaste,resize,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),pasteRowsBefore:$_5ex7nomejdud7by9_run(function(grid,pasteDetails,comparator,genWrappers){var example=grid[pasteDetails.cells[0].row()],index=pasteDetails.cells[0].row(),gridB=gridifyRows(pasteDetails.clipboard(),pasteDetails.generators(),example),mergedGrid=$_1cg2k3mvjdud7c0r_insert(index,grid,gridB,pasteDetails.generators(),comparator),cursor=elementFromGrid(mergedGrid,pasteDetails.cells[0].row(),pasteDetails.cells[0].column());return outcome(mergedGrid,cursor)},$_5ex7nomejdud7by9_onPasteRows,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification),pasteRowsAfter:$_5ex7nomejdud7by9_run(function(grid,pasteDetails,comparator,genWrappers){var example=grid[pasteDetails.cells[0].row()],index=pasteDetails.cells[pasteDetails.cells.length-1].row()+pasteDetails.cells[pasteDetails.cells.length-1].rowspan(),gridB=gridifyRows(pasteDetails.clipboard(),pasteDetails.generators(),example),mergedGrid=$_1cg2k3mvjdud7c0r_insert(index,grid,gridB,pasteDetails.generators(),comparator),cursor=elementFromGrid(mergedGrid,pasteDetails.cells[0].row(),pasteDetails.cells[0].column());return outcome(mergedGrid,cursor)},$_5ex7nomejdud7by9_onPasteRows,$_e8r7mrjsjdud7bkx.noop,$_e8r7mrjsjdud7bkx.noop,$_7ldhy3m8jdud7bx2_modification)},getBody$1=function(editor){return $_2q3j53k5jdud7bmr.fromDom(editor.getBody())},$_6xec71n8jdud7c2o={getBody:getBody$1,getIsRoot:function(editor){return function(element){return $_6nkapzk9jdud7bn7.eq(element,getBody$1(editor))}},addSizeSuffix:function(size){return/^[0-9]+$/.test(size)&&(size+="px"),size},removePxSuffix:function(size){return size?size.replace(/px$/,""):""}},getDirection=function(element){return"rtl"===$_b5rw3dkzjdud7bpm.get(element,"direction")?"rtl":"ltr"},$_78y7btnajdud7c2w={onDirection:function(isLtr,isRtl){return function(element){return"rtl"===getDirection(element)?isRtl:isLtr}},getDirection:getDirection},ltr$1={isRtl:$_e8r7mrjsjdud7bkx.constant(!1)},rtl$1={isRtl:$_e8r7mrjsjdud7bkx.constant(!0)},$_eqsr8dn9jdud7c2r={directionAt:function(element){return"rtl"===$_78y7btnajdud7c2w.getDirection(element)?rtl$1:ltr$1}},defaultTableToolbar=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],defaultStyles={"border-collapse":"collapse",width:"100%"},defaultAttributes={border:"1"},getDefaultStyles=function(editor){return editor.getParam("table_default_styles",defaultStyles,"object")},hasTableResizeBars=function(editor){return editor.getParam("table_resize_bars",!0,"boolean")},hasTabNavigation=function(editor){return editor.getParam("table_tab_navigation",!0,"boolean")},getForcedRootBlock=function(editor){return editor.getParam("forced_root_block","p","string")},hasAdvancedCellTab=function(editor){return editor.getParam("table_cell_advtab",!0,"boolean")},hasAdvancedRowTab=function(editor){return editor.getParam("table_row_advtab",!0,"boolean")},hasAdvancedTableTab=function(editor){return editor.getParam("table_advtab",!0,"boolean")},shouldStyleWithCss=function(editor){return editor.getParam("table_style_by_css",!1,"boolean")},getForcedRootBlockAttrs=function(editor){return editor.getParam("forced_block_attrs",{},"object")},getCellClassList=function(editor){return editor.getParam("table_cell_class_list",[],"array")},getRowClassList=function(editor){return editor.getParam("table_row_class_list",[],"array")},getTableClassList=function(editor){return editor.getParam("table_class_list",[],"array")},isPixelsForced=function(editor){return!1===editor.getParam("table_responsive_width")},getCloneElements=function(editor){var cloneElements=editor.getParam("table_clone_elements");return $_duf7n8jzjdud7blu.isString(cloneElements)?Option.some(cloneElements.split(/[ ,]/)):Array.isArray(cloneElements)?Option.some(cloneElements):Option.none()},hasObjectResizing=function(editor){var objectResizing=editor.getParam("object_resizing",!0);return"table"===objectResizing||objectResizing},fireNewRow=function(editor,row){return editor.fire("newrow",{node:row})},fireNewCell=function(editor,cell){return editor.fire("newcell",{node:cell})},$_541tawnejdud7c3h_copyRows=function(table,target,generators){var list=$_bfx1aek0jdud7blw_fromTable(table),house=$_ftidmkkyjdud7bpf.generate(list);return $_5ex7nomejdud7by9_onCells(house,target).map(function(selectedCells){var slicedGrid=$_17yaacmhjdud7byp_toGrid(house,generators,!1).slice(selectedCells[0].row(),selectedCells[selectedCells.length-1].row()+selectedCells[selectedCells.length-1].rowspan()),slicedDetails=$_5ex7nomejdud7by9_toDetailList(slicedGrid,generators);return $_8uhxgumkjdud7bz1_copy(slicedDetails)})},Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),$_2bgm09nhjdud7c40={applyAlign:function(editor,elm,name){name&&editor.formatter.apply("align"+name,{},elm)},applyVAlign:function(editor,elm,name){name&&editor.formatter.apply("valign"+name,{},elm)},unApplyAlign:function(editor,elm){Tools.each("left center right".split(" "),function(name){editor.formatter.remove("align"+name,{},elm)})},unApplyVAlign:function(editor,elm){Tools.each("top middle bottom".split(" "),function(name){editor.formatter.remove("valign"+name,{},elm)})},getTDTHOverallStyle:function(dom,elm,name){var firstChildStyle;return firstChildStyle=function(firstChildStyle,elms){for(var i=0;i<elms.length;i++){var currentStyle=dom.getStyle(elms[i],name);if(void 0===firstChildStyle&&(firstChildStyle=currentStyle),firstChildStyle!==currentStyle)return""}return firstChildStyle}(firstChildStyle,dom.select("td,th",elm))}},updateStyleField=function(editor,evt){var dom=editor.dom,rootControl=evt.control.rootControl,data=rootControl.toJSON(),css=dom.parseStyle(data.style);"style"===evt.control.name()?(rootControl.find("#borderStyle").value(css["border-style"]||"")[0].fire("select"),rootControl.find("#borderColor").value(css["border-color"]||"")[0].fire("change"),rootControl.find("#backgroundColor").value(css["background-color"]||"")[0].fire("change"),rootControl.find("#width").value(css.width||"").fire("change"),rootControl.find("#height").value(css.height||"").fire("change")):(css["border-style"]=data.borderStyle,css["border-color"]=data.borderColor,css["background-color"]=data.backgroundColor,css.width=data.width?$_6xec71n8jdud7c2o.addSizeSuffix(data.width):"",css.height=data.height?$_6xec71n8jdud7c2o.addSizeSuffix(data.height):""),rootControl.find("#style").value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))))},$_9rcqunnijdud7c43={createStyleForm:function(editor){var createColorPickAction=function(){var colorPickerCallback=function(editor){return editor.getParam("color_picker_callback")}(editor);if(colorPickerCallback)return function(evt){return colorPickerCallback.call(editor,function(value){evt.control.value(value).fire("change")},evt.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:$_e8r7mrjsjdud7bkx.curry(updateStyleField,editor)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:$_e8r7mrjsjdud7bkx.curry(updateStyleField,editor),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:createColorPickAction()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:createColorPickAction()}]}]}},buildListItems:function(inputList,itemCallback,startItems){var appendItems=function(values,output){return output=output||[],Tools.each(values,function(item){var menuItem={text:item.text||item.title};item.menu?menuItem.menu=appendItems(item.menu):(menuItem.value=item.value,itemCallback&&itemCallback(menuItem)),output.push(menuItem)}),output};return appendItems(inputList,startItems||[])},updateStyleField:updateStyleField,extractAdvancedStyles:function(dom,elm){var css=dom.parseStyle(dom.getAttrib(elm,"style")),data={};return css["border-style"]&&(data.borderStyle=css["border-style"]),css["border-color"]&&(data.borderColor=css["border-color"]),css["background-color"]&&(data.backgroundColor=css["background-color"]),data.style=dom.serializeStyle(css),data}},onSubmitCellForm=function(editor,cells,evt){var data,dom=editor.dom;function setAttrib(elm,name,value){value&&dom.setAttrib(elm,name,value)}function setStyle(elm,name,value){value&&dom.setStyle(elm,name,value)}$_9rcqunnijdud7c43.updateStyleField(editor,evt),data=evt.control.rootControl.toJSON(),editor.undoManager.transact(function(){Tools.each(cells,function(cellElm){var elm,cssText;setAttrib(cellElm,"scope",data.scope),1===cells.length?setAttrib(cellElm,"style",data.style):(elm=cellElm,cssText=data.style,elm.style.cssText+=";"+cssText),setAttrib(cellElm,"class",data.class),setStyle(cellElm,"width",$_6xec71n8jdud7c2o.addSizeSuffix(data.width)),setStyle(cellElm,"height",$_6xec71n8jdud7c2o.addSizeSuffix(data.height)),data.type&&cellElm.nodeName.toLowerCase()!==data.type&&(cellElm=dom.rename(cellElm,data.type)),1===cells.length&&($_2bgm09nhjdud7c40.unApplyAlign(editor,cellElm),$_2bgm09nhjdud7c40.unApplyVAlign(editor,cellElm)),data.align&&$_2bgm09nhjdud7c40.applyAlign(editor,cellElm,data.align),data.valign&&$_2bgm09nhjdud7c40.applyVAlign(editor,cellElm,data.valign)}),editor.focus()})},$_fk6mv2ngjdud7c3u_open=function(editor){var cellElm,data,classListCtrl,cells=[];if(cells=editor.dom.select("td[data-mce-selected],th[data-mce-selected]"),cellElm=editor.dom.getParent(editor.selection.getStart(),"td,th"),!cells.length&&cellElm&&cells.push(cellElm),cellElm=cellElm||cells[0]){data=1<cells.length?{width:"",height:"",scope:"",class:"",align:"",style:"",type:cellElm.nodeName.toLowerCase()}:function(editor,elm){var dom=editor.dom,data={width:dom.getStyle(elm,"width")||dom.getAttrib(elm,"width"),height:dom.getStyle(elm,"height")||dom.getAttrib(elm,"height"),scope:dom.getAttrib(elm,"scope"),class:dom.getAttrib(elm,"class")};return data.type=elm.nodeName.toLowerCase(),Tools.each("left center right".split(" "),function(name){editor.formatter.matchNode(elm,"align"+name)&&(data.align=name)}),Tools.each("top middle bottom".split(" "),function(name){editor.formatter.matchNode(elm,"valign"+name)&&(data.valign=name)}),hasAdvancedCellTab(editor)&&Tools.extend(data,$_9rcqunnijdud7c43.extractAdvancedStyles(dom,elm)),data}(editor,cellElm),0<getCellClassList(editor).length&&(classListCtrl={name:"class",type:"listbox",label:"Class",values:$_9rcqunnijdud7c43.buildListItems(getCellClassList(editor),function(item){item.value&&(item.textStyle=function(){return editor.formatter.getCssText({block:"td",classes:[item.value]})})})});var generalCellForm={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)},{label:"Height",name:"height",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},classListCtrl]};hasAdvancedCellTab(editor)?editor.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:data,body:[{title:"General",type:"form",items:generalCellForm},$_9rcqunnijdud7c43.createStyleForm(editor)],onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitCellForm,editor,cells)}):editor.windowManager.open({title:"Cell properties",data:data,body:generalCellForm,onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitCellForm,editor,cells)})}},switchRowType=function(dom,rowElm,toType){var tableElm=dom.getParent(rowElm,"table"),oldParentElm=rowElm.parentNode,parentElm=dom.select(toType,tableElm)[0];parentElm||(parentElm=dom.create(toType),tableElm.firstChild?"CAPTION"===tableElm.firstChild.nodeName?dom.insertAfter(parentElm,tableElm.firstChild):tableElm.insertBefore(parentElm,tableElm.firstChild):tableElm.appendChild(parentElm)),parentElm.appendChild(rowElm),oldParentElm.hasChildNodes()||dom.remove(oldParentElm)};function onSubmitRowForm(editor,rows,evt){var data,dom=editor.dom;function setAttrib(elm,name,value){value&&dom.setAttrib(elm,name,value)}$_9rcqunnijdud7c43.updateStyleField(editor,evt),data=evt.control.rootControl.toJSON(),editor.undoManager.transact(function(){Tools.each(rows,function(rowElm){setAttrib(rowElm,"scope",data.scope),setAttrib(rowElm,"style",data.style),setAttrib(rowElm,"class",data.class),function setStyle(elm,name,value){value&&dom.setStyle(elm,name,value)}(rowElm,"height",$_6xec71n8jdud7c2o.addSizeSuffix(data.height)),data.type!==rowElm.parentNode.nodeName.toLowerCase()&&switchRowType(editor.dom,rowElm,data.type),1===rows.length&&$_2bgm09nhjdud7c40.unApplyAlign(editor,rowElm),data.align&&$_2bgm09nhjdud7c40.applyAlign(editor,rowElm,data.align)}),editor.focus()})}var $_8pnpw3njjdud7c47_open=function(editor){var tableElm,cellElm,rowElm,classListCtrl,data,generalRowForm,dom=editor.dom,rows=[];tableElm=dom.getParent(editor.selection.getStart(),"table"),cellElm=dom.getParent(editor.selection.getStart(),"td,th"),Tools.each(tableElm.rows,function(row){Tools.each(row.cells,function(cell){if(dom.getAttrib(cell,"data-mce-selected")||cell===cellElm)return rows.push(row),!1})}),(rowElm=rows[0])&&(data=1<rows.length?{height:"",scope:"",class:"",align:"",type:rowElm.parentNode.nodeName.toLowerCase()}:function(editor,elm){var dom=editor.dom,data={height:dom.getStyle(elm,"height")||dom.getAttrib(elm,"height"),scope:dom.getAttrib(elm,"scope"),class:dom.getAttrib(elm,"class")};return data.type=elm.parentNode.nodeName.toLowerCase(),Tools.each("left center right".split(" "),function(name){editor.formatter.matchNode(elm,"align"+name)&&(data.align=name)}),hasAdvancedRowTab(editor)&&Tools.extend(data,$_9rcqunnijdud7c43.extractAdvancedStyles(dom,elm)),data}(editor,rowElm),0<getRowClassList(editor).length&&(classListCtrl={name:"class",type:"listbox",label:"Class",values:$_9rcqunnijdud7c43.buildListItems(getRowClassList(editor),function(item){item.value&&(item.textStyle=function(){return editor.formatter.getCssText({block:"tr",classes:[item.value]})})})}),generalRowForm={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},classListCtrl]},hasAdvancedRowTab(editor)?editor.windowManager.open({title:"Row properties",data:data,bodyType:"tabpanel",body:[{title:"General",type:"form",items:generalRowForm},$_9rcqunnijdud7c43.createStyleForm(editor)],onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitRowForm,editor,rows)}):editor.windowManager.open({title:"Row properties",data:data,body:generalRowForm,onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitRowForm,editor,rows)}))},Env=tinymce.util.Tools.resolve("tinymce.Env"),DefaultRenderOptions={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},render$1=function(rows,columns,rowHeaders,columnHeaders,renderOpts){void 0===renderOpts&&(renderOpts=DefaultRenderOptions);var table=$_2q3j53k5jdud7bmr.fromTag("table");$_b5rw3dkzjdud7bpm.setAll(table,renderOpts.styles),$_1ei337kqjdud7bom.setAll(table,renderOpts.attributes);var tbody=$_2q3j53k5jdud7bmr.fromTag("tbody");$_b9f8rkl1jdud7bq5.append(table,tbody);for(var trs=[],i=0;i<rows;i++){for(var tr=$_2q3j53k5jdud7bmr.fromTag("tr"),j=0;j<columns;j++){var td=i<rowHeaders||j<columnHeaders?$_2q3j53k5jdud7bmr.fromTag("th"):$_2q3j53k5jdud7bmr.fromTag("td");j<columnHeaders&&$_1ei337kqjdud7bom.set(td,"scope","row"),i<rowHeaders&&$_1ei337kqjdud7bom.set(td,"scope","col"),$_b9f8rkl1jdud7bq5.append(td,$_2q3j53k5jdud7bmr.fromTag("br")),renderOpts.percentages&&$_b5rw3dkzjdud7bpm.set(td,"width",100/columns+"%"),$_b9f8rkl1jdud7bq5.append(tr,td)}trs.push(tr)}return $_3zxknwl3jdud7bq9.append(tbody,trs),table},get$7=function(element){return element.dom().innerHTML},$_9rjvonnpjdud7c52_getOuter=function(element){var container=$_2q3j53k5jdud7bmr.fromTag("div"),clone=$_2q3j53k5jdud7bmr.fromDom(element.dom().cloneNode(!0));return $_b9f8rkl1jdud7bq5.append(container,clone),get$7(container)},placeCaretInCell=function(editor,cell){editor.selection.select(cell.dom(),!0),editor.selection.collapse(!0)},$_n4pzbnmjdud7c4k_insert=function(editor,columns,rows){var width,defaultStyles=getDefaultStyles(editor),options={styles:defaultStyles,attributes:function(editor){return editor.getParam("table_default_attributes",defaultAttributes,"object")}(editor),percentages:(width=defaultStyles.width,$_duf7n8jzjdud7blu.isString(width)&&-1!==width.indexOf("%")&&!isPixelsForced(editor))},table=render$1(rows,columns,0,0,options);$_1ei337kqjdud7bom.set(table,"data-mce-id","__mce");var html=$_9rjvonnpjdud7c52_getOuter(table);return editor.insertContent(html),$_a3r4h1kvjdud7bp3.descendant($_6xec71n8jdud7c2o.getBody(editor),'table[data-mce-id="__mce"]').map(function(table){return isPixelsForced(editor)&&$_b5rw3dkzjdud7bpm.set(table,"width",$_b5rw3dkzjdud7bpm.get(table,"width")),$_1ei337kqjdud7bom.remove(table,"data-mce-id"),function(editor,table){$_2b6dlmjqjdud7bko.each($_b4a6sqksjdud7bov.descendants(table,"tr"),function(row){fireNewRow(editor,row.dom()),$_2b6dlmjqjdud7bko.each($_b4a6sqksjdud7bov.descendants(row,"th,td"),function(cell){fireNewCell(editor,cell.dom())})})}(editor,table),function(editor,tableElm){$_a3r4h1kvjdud7bp3.descendant(tableElm,"td,th").each($_e8r7mrjsjdud7bkx.curry(placeCaretInCell,editor))}(editor,table),table.dom()}).getOr(null)};function styleTDTH(dom,elm,name,value){if("TD"===elm.tagName||"TH"===elm.tagName)dom.setStyle(elm,name,value);else if(elm.children)for(var i=0;i<elm.children.length;i++)styleTDTH(dom,elm.children[i],name,value)}var onSubmitTableForm=function(editor,tableElm,evt){var captionElm,data,dom=editor.dom;$_9rcqunnijdud7c43.updateStyleField(editor,evt),!1===(data=evt.control.rootControl.toJSON()).class&&delete data.class,editor.undoManager.transact(function(){tableElm||(tableElm=$_n4pzbnmjdud7c4k_insert(editor,data.cols||1,data.rows||1)),function(editor,tableElm,data){var dom=editor.dom,attrs={},styles={};if(attrs.class=data.class,styles.height=$_6xec71n8jdud7c2o.addSizeSuffix(data.height),dom.getAttrib(tableElm,"width")&&!shouldStyleWithCss(editor)?attrs.width=$_6xec71n8jdud7c2o.removePxSuffix(data.width):styles.width=$_6xec71n8jdud7c2o.addSizeSuffix(data.width),shouldStyleWithCss(editor)?(styles["border-width"]=$_6xec71n8jdud7c2o.addSizeSuffix(data.border),styles["border-spacing"]=$_6xec71n8jdud7c2o.addSizeSuffix(data.cellspacing),Tools.extend(attrs,{"data-mce-border-color":data.borderColor,"data-mce-cell-padding":data.cellpadding,"data-mce-border":data.border})):Tools.extend(attrs,{border:data.border,cellpadding:data.cellpadding,cellspacing:data.cellspacing}),shouldStyleWithCss(editor)&&tableElm.children)for(var i=0;i<tableElm.children.length;i++)styleTDTH(dom,tableElm.children[i],{"border-width":$_6xec71n8jdud7c2o.addSizeSuffix(data.border),"border-color":data.borderColor,padding:$_6xec71n8jdud7c2o.addSizeSuffix(data.cellpadding)});data.style?Tools.extend(styles,dom.parseStyle(data.style)):styles=Tools.extend({},dom.parseStyle(dom.getAttrib(tableElm,"style")),styles),attrs.style=dom.serializeStyle(styles),dom.setAttribs(tableElm,attrs)}(editor,tableElm,data),(captionElm=dom.select("caption",tableElm)[0])&&!data.caption&&dom.remove(captionElm),!captionElm&&data.caption&&((captionElm=dom.create("caption")).innerHTML=Env.ie?"\xa0":'<br data-mce-bogus="1"/>',tableElm.insertBefore(captionElm,tableElm.firstChild)),$_2bgm09nhjdud7c40.unApplyAlign(editor,tableElm),data.align&&$_2bgm09nhjdud7c40.applyAlign(editor,tableElm,data.align),editor.focus(),editor.addVisual()})},$_bqump4nkjdud7c4d_open=function(editor,isProps){var tableElm,colsCtrl,rowsCtrl,classListCtrl,generalTableForm,dom=editor.dom,data={};!0===isProps?(tableElm=dom.getParent(editor.selection.getStart(),"table"))&&(data=function(editor,tableElm){var dom=editor.dom,data={width:dom.getStyle(tableElm,"width")||dom.getAttrib(tableElm,"width"),height:dom.getStyle(tableElm,"height")||dom.getAttrib(tableElm,"height"),cellspacing:dom.getStyle(tableElm,"border-spacing")||dom.getAttrib(tableElm,"cellspacing"),cellpadding:dom.getAttrib(tableElm,"data-mce-cell-padding")||dom.getAttrib(tableElm,"cellpadding")||$_2bgm09nhjdud7c40.getTDTHOverallStyle(editor.dom,tableElm,"padding"),border:dom.getAttrib(tableElm,"data-mce-border")||dom.getAttrib(tableElm,"border")||$_2bgm09nhjdud7c40.getTDTHOverallStyle(editor.dom,tableElm,"border"),borderColor:dom.getAttrib(tableElm,"data-mce-border-color"),caption:!!dom.select("caption",tableElm)[0],class:dom.getAttrib(tableElm,"class")};return Tools.each("left center right".split(" "),function(name){editor.formatter.matchNode(tableElm,"align"+name)&&(data.align=name)}),hasAdvancedTableTab(editor)&&Tools.extend(data,$_9rcqunnijdud7c43.extractAdvancedStyles(dom,tableElm)),data}(editor,tableElm)):(colsCtrl={label:"Cols",name:"cols"},rowsCtrl={label:"Rows",name:"rows"}),0<getTableClassList(editor).length&&(data.class&&(data.class=data.class.replace(/\s*mce\-item\-table\s*/g,"")),classListCtrl={name:"class",type:"listbox",label:"Class",values:$_9rcqunnijdud7c43.buildListItems(getTableClassList(editor),function(item){item.value&&(item.textStyle=function(){return editor.formatter.getCssText({block:"table",classes:[item.value]})})})}),generalTableForm={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:function(editor){return editor.getParam("table_appearance_options",!0,"boolean")}(editor)?[colsCtrl,rowsCtrl,{label:"Width",name:"width",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)},{label:"Height",name:"height",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[colsCtrl,rowsCtrl,{label:"Width",name:"width",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)},{label:"Height",name:"height",onchange:$_e8r7mrjsjdud7bkx.curry($_9rcqunnijdud7c43.updateStyleField,editor)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},classListCtrl]},hasAdvancedTableTab(editor)?editor.windowManager.open({title:"Table properties",data:data,bodyType:"tabpanel",body:[{title:"General",type:"form",items:generalTableForm},$_9rcqunnijdud7c43.createStyleForm(editor)],onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitTableForm,editor,tableElm)}):editor.windowManager.open({title:"Table properties",data:data,body:generalTableForm,onsubmit:$_e8r7mrjsjdud7bkx.curry(onSubmitTableForm,editor,tableElm)})},each$3=Tools.each,$_3ladizndjdud7c36={registerCommands:function(editor,actions,cellSelection,selections,clipboardRows){var isRoot=$_6xec71n8jdud7c2o.getIsRoot(editor),getSelectionStartCell=function(){return $_2q3j53k5jdud7bmr.fromDom(editor.dom.getParent(editor.selection.getStart(),"th,td"))},getTableFromCell=function(cell){return $_e5b08wk2jdud7bm5.table(cell,isRoot)},actOnSelection=function(execute){var cell=getSelectionStartCell();getTableFromCell(cell).each(function(table){var targets=$_50voclbjdud7br8.forMenu(selections,table,cell);execute(table,targets).each(function(rng){editor.selection.setRng(rng),editor.focus(),cellSelection.clear(table)})})},copyRowSelection=function(execute){var cell=getSelectionStartCell();return getTableFromCell(cell).bind(function(table){var doc=$_2q3j53k5jdud7bmr.fromDom(editor.getDoc()),targets=$_50voclbjdud7br8.forMenu(selections,table,cell),generators=$_c3joicl4jdud7bqc.cellOperations($_e8r7mrjsjdud7bkx.noop,doc,Option.none());return $_541tawnejdud7c3h_copyRows(table,targets,generators)})},pasteOnSelection=function(execute){clipboardRows.get().each(function(rows){var clonedRows=$_2b6dlmjqjdud7bko.map(rows,function(row){return $_dxykb7l5jdud7bqr_deep(row)}),cell=getSelectionStartCell();getTableFromCell(cell).bind(function(table){var doc=$_2q3j53k5jdud7bmr.fromDom(editor.getDoc()),generators=$_c3joicl4jdud7bqc.paste(doc),targets=$_50voclbjdud7br8.pasteRows(selections,table,cell,clonedRows,generators);execute(table,targets).each(function(rng){editor.selection.setRng(rng),editor.focus(),cellSelection.clear(table)})})})};each$3({mceTableSplitCells:function(){actOnSelection(actions.unmergeCells)},mceTableMergeCells:function(){actOnSelection(actions.mergeCells)},mceTableInsertRowBefore:function(){actOnSelection(actions.insertRowsBefore)},mceTableInsertRowAfter:function(){actOnSelection(actions.insertRowsAfter)},mceTableInsertColBefore:function(){actOnSelection(actions.insertColumnsBefore)},mceTableInsertColAfter:function(){actOnSelection(actions.insertColumnsAfter)},mceTableDeleteCol:function(){actOnSelection(actions.deleteColumn)},mceTableDeleteRow:function(){actOnSelection(actions.deleteRow)},mceTableCutRow:function(grid){clipboardRows.set(copyRowSelection()),actOnSelection(actions.deleteRow)},mceTableCopyRow:function(grid){clipboardRows.set(copyRowSelection())},mceTablePasteRowBefore:function(grid){pasteOnSelection(actions.pasteRowsBefore)},mceTablePasteRowAfter:function(grid){pasteOnSelection(actions.pasteRowsAfter)},mceTableDelete:function(){var cell=$_2q3j53k5jdud7bmr.fromDom(editor.dom.getParent(editor.selection.getStart(),"th,td"));$_e5b08wk2jdud7bm5.table(cell,isRoot).filter($_e8r7mrjsjdud7bkx.not(isRoot)).each(function(table){var cursor=$_2q3j53k5jdud7bmr.fromText("");$_b9f8rkl1jdud7bq5.after(table,cursor),$_g2ty44l2jdud7bq6.remove(table);var rng=editor.dom.createRng();rng.setStart(cursor.dom(),0),rng.setEnd(cursor.dom(),0),editor.selection.setRng(rng)})}},function(func,name){editor.addCommand(name,func)}),each$3({mceInsertTable:$_e8r7mrjsjdud7bkx.curry($_bqump4nkjdud7c4d_open,editor),mceTableProps:$_e8r7mrjsjdud7bkx.curry($_bqump4nkjdud7c4d_open,editor,!0),mceTableRowProps:$_e8r7mrjsjdud7bkx.curry($_8pnpw3njjdud7c47_open,editor),mceTableCellProps:$_e8r7mrjsjdud7bkx.curry($_fk6mv2ngjdud7c3u_open,editor)},function(func,name){editor.addCommand(name,function(ui,val){func(val)})})}},$_1xghylnrjdud7c5f={only:function(element){var parent=Option.from(element.dom().documentElement).map($_2q3j53k5jdud7bmr.fromDom).getOr(element);return{parent:$_e8r7mrjsjdud7bkx.constant(parent),view:$_e8r7mrjsjdud7bkx.constant(element),origin:$_e8r7mrjsjdud7bkx.constant(r(0,0))}},detached:function(editable,chrome){var origin=$_e8r7mrjsjdud7bkx.curry($_1b83qkm3jdud7bwd_absolute,chrome);return{parent:$_e8r7mrjsjdud7bkx.constant(chrome),view:$_e8r7mrjsjdud7bkx.constant(editable),origin:origin}},body:function(editable,chrome){return{parent:$_e8r7mrjsjdud7bkx.constant(chrome),view:$_e8r7mrjsjdud7bkx.constant(editable),origin:$_e8r7mrjsjdud7bkx.constant(r(0,0))}}};function Event(fields){var struct=$_4vwz6tjvjdud7blm.immutable.apply(null,fields),handlers=[];return{bind:function(handler){if(void 0===handler)throw"Event bind error: undefined handler";handlers.push(handler)},unbind:function(handler){handlers=$_2b6dlmjqjdud7bko.filter(handlers,function(h){return h!==handler})},trigger:function(){var event=struct.apply(null,arguments);$_2b6dlmjqjdud7bko.each(handlers,function(handler){handler(event)})}}}var $_9esbnqnujdud7c61={create:function(typeDefs){return{registry:$_fzfxsxjujdud7ble.map(typeDefs,function(event){return{bind:event.bind,unbind:event.unbind}}),trigger:$_fzfxsxjujdud7ble.map(typeDefs,function(event){return event.trigger})}}},$_duurdpnyjdud7c6v={mode:$_3vhhbcmajdud7bxe.exactly(["compare","extract","mutate","sink"]),sink:$_3vhhbcmajdud7bxe.exactly(["element","start","stop","destroy"]),api:$_3vhhbcmajdud7bxe.exactly(["forceDrop","drop","move","delayDrop"])},$_aekl05o0jdud7c76={resolve:$_btd1tomqjdud7c0h_css("ephox-dragster").resolve},handle=function(filter,handler){return function(rawEvent){if(filter(rawEvent)){var target=$_2q3j53k5jdud7bmr.fromDom(rawEvent.target),stop=function(){rawEvent.stopPropagation()},prevent=function(){rawEvent.preventDefault()},kill=$_e8r7mrjsjdud7bkx.compose(prevent,stop),evt=function(target,x,y,stop,prevent,kill,raw){return{target:$_e8r7mrjsjdud7bkx.constant(target),x:$_e8r7mrjsjdud7bkx.constant(x),y:$_e8r7mrjsjdud7bkx.constant(y),stop:stop,prevent:prevent,kill:kill,raw:$_e8r7mrjsjdud7bkx.constant(raw)}}(target,rawEvent.clientX,rawEvent.clientY,stop,prevent,kill,rawEvent);handler(evt)}}},binder=function(element,event,filter,handler,useCapture){var wrapped=handle(filter,handler);return element.dom().addEventListener(event,wrapped,useCapture),{unbind:$_e8r7mrjsjdud7bkx.curry(unbind,element,event,wrapped,useCapture)}},unbind=function(element,event,handler,useCapture){element.dom().removeEventListener(event,handler,useCapture)},$_6faycto2jdud7c7b_bind=function(element,event,filter,handler){return binder(element,event,filter,handler,!1)},$_6faycto2jdud7c7b_capture=function(element,event,filter,handler){return binder(element,event,filter,handler,!0)},filter$1=$_e8r7mrjsjdud7bkx.constant(!0),$_a29ngvo1jdud7c78={bind:function(element,event,handler){return $_6faycto2jdud7c7b_bind(element,event,filter$1,handler)},capture:function(element,event,handler){return $_6faycto2jdud7c7b_capture(element,event,filter$1,handler)}},MouseDrag=$_duurdpnyjdud7c6v.mode({compare:function(old,nu){return r(nu.left()-old.left(),nu.top()-old.top())},extract:function(event){return Option.some(r(event.x(),event.y()))},sink:function(dragApi,settings){var blocker=function Blocker(options){var settings=$_9egglgmfjdud7byk.merge({layerClass:$_aekl05o0jdud7c76.resolve("blocker")},options),div=$_2q3j53k5jdud7bmr.fromTag("div");return $_1ei337kqjdud7bom.set(div,"role","presentation"),$_b5rw3dkzjdud7bpm.setAll(div,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),$_119fsomrjdud7c0i.add(div,$_aekl05o0jdud7c76.resolve("blocker")),$_119fsomrjdud7c0i.add(div,settings.layerClass),{element:function(){return div},destroy:function(){$_g2ty44l2jdud7bq6.remove(div)}}}(settings),mdown=$_a29ngvo1jdud7c78.bind(blocker.element(),"mousedown",dragApi.forceDrop),mup=$_a29ngvo1jdud7c78.bind(blocker.element(),"mouseup",dragApi.drop),mmove=$_a29ngvo1jdud7c78.bind(blocker.element(),"mousemove",dragApi.move),mout=$_a29ngvo1jdud7c78.bind(blocker.element(),"mouseout",dragApi.delayDrop);return $_duurdpnyjdud7c6v.sink({element:blocker.element,start:function(parent){$_b9f8rkl1jdud7bq5.append(parent,blocker.element())},stop:function(){$_g2ty44l2jdud7bq6.remove(blocker.element())},destroy:function(){blocker.destroy(),mup.unbind(),mmove.unbind(),mout.unbind(),mdown.unbind()}})},mutate:function(mutation,info){mutation.mutate(info.left(),info.top())}});function InDrag(){var previous=Option.none(),events=$_9esbnqnujdud7c61.create({move:Event(["info"])});return{onEvent:function(event,mode){mode.extract(event).each(function(data){(function(mode,nu){var result=previous.map(function(old){return mode.compare(old,nu)});return previous=Option.some(nu),result})(mode,data).each(function(d){events.trigger.move(d)})})},reset:function(){previous=Option.none()},events:events.registry}}function Movement(){var noDragState=function NoDrag(anchor){return{onEvent:function(event,mode){},reset:$_e8r7mrjsjdud7bkx.noop}}(),inDragState=InDrag(),dragState=noDragState;return{on:function(){dragState.reset(),dragState=inDragState},off:function(){dragState.reset(),dragState=noDragState},isOn:function(){return dragState===inDragState},onEvent:function(event,mode){dragState.onEvent(event,mode)},events:inDragState.events}}var $_7zuks8o7jdud7c80_last=function(fn,rate){var timer=null;return{cancel:function(){null!==timer&&(clearTimeout(timer),timer=null)},throttle:function(){var args=arguments;null!==timer&&clearTimeout(timer),timer=setTimeout(function(){fn.apply(null,args),args=timer=null},rate)}}},$_gboaj8o3jdud7c7k_setup=function(mutation,mode,settings){var active=!1,events=$_9esbnqnujdud7c61.create({start:Event([]),stop:Event([])}),movement=Movement(),drop=function(){sink.stop(),movement.isOn()&&(movement.off(),events.trigger.stop())},throttledDrop=$_7zuks8o7jdud7c80_last(drop,200);movement.events.move.bind(function(event){mode.mutate(mutation,event.info())});var runIfActive=function(f){return function(){var args=Array.prototype.slice.call(arguments,0);if(active)return f.apply(null,args)}},sink=mode.sink($_duurdpnyjdud7c6v.api({forceDrop:drop,drop:runIfActive(drop),move:runIfActive(function(event,ui){throttledDrop.cancel(),movement.onEvent(event,mode)}),delayDrop:runIfActive(throttledDrop.throttle)}),settings);return{element:sink.element,go:function(parent){sink.start(parent),movement.on(),events.trigger.start()},on:function(){active=!0},off:function(){active=!1},destroy:function(){sink.destroy()},events:events.registry}},$_e0covinwjdud7c6m={transform:function(mutation,options){var settings=void 0!==options?options:{},mode=void 0!==settings.mode?settings.mode:MouseDrag;return $_gboaj8o3jdud7c7k_setup(mutation,mode,options)}};function BarMutation(){var events=$_9esbnqnujdud7c61.create({drag:Event(["xDelta","yDelta","target"])}),target=Option.none(),delegate=function Mutation(){var events=$_9esbnqnujdud7c61.create({drag:Event(["xDelta","yDelta"])});return{mutate:function(x,y){events.trigger.drag(x,y)},events:events.registry}}();return delegate.events.drag.bind(function(event){target.each(function(t){events.trigger.drag(event.xDelta(),event.yDelta(),t)})}),{assign:function(t){target=Option.some(t)},get:function(){return target},mutate:delegate.mutate,events:events.registry}}var $_f3156moajdud7c8i={any:function(selector){return $_a3r4h1kvjdud7bp3.first(selector).isSome()},ancestor:function(scope,selector,isRoot){return $_a3r4h1kvjdud7bp3.ancestor(scope,selector,isRoot).isSome()},sibling:function(scope,selector){return $_a3r4h1kvjdud7bp3.sibling(scope,selector).isSome()},child:function(scope,selector){return $_a3r4h1kvjdud7bp3.child(scope,selector).isSome()},descendant:function(scope,selector){return $_a3r4h1kvjdud7bp3.descendant(scope,selector).isSome()},closest:function(scope,selector,isRoot){return $_a3r4h1kvjdud7bp3.closest(scope,selector,isRoot).isSome()}},resizeBarDragging=$_1t7l1pmpjdud7c0f.resolve("resizer-bar-dragging");function TableResize(wire,vdirection){var hdirection=$_2qb4vhm2jdud7bw4.height,manager=function BarManager(wire,direction,hdirection){var mutation=BarMutation(),resizing=$_e0covinwjdud7c6m.transform(mutation,{}),hoverTable=Option.none(),getResizer=function(element,type){return Option.from($_1ei337kqjdud7bom.get(element,type))};mutation.events.drag.bind(function(event){getResizer(event.target(),"data-row").each(function(_dataRow){var currentRow=$_g0vp2on5jdud7c27.getInt(event.target(),"top");$_b5rw3dkzjdud7bpm.set(event.target(),"top",currentRow+event.yDelta()+"px")}),getResizer(event.target(),"data-column").each(function(_dataCol){var currentCol=$_g0vp2on5jdud7c27.getInt(event.target(),"left");$_b5rw3dkzjdud7bpm.set(event.target(),"left",currentCol+event.xDelta()+"px")})});var getDelta=function(target,direction){return $_g0vp2on5jdud7c27.getInt(target,direction)-parseInt($_1ei337kqjdud7bom.get(target,"data-initial-"+direction),10)};resizing.events.stop.bind(function(){mutation.get().each(function(target){hoverTable.each(function(table){getResizer(target,"data-row").each(function(row){var delta=getDelta(target,"top");$_1ei337kqjdud7bom.remove(target,"data-initial-top"),events.trigger.adjustHeight(table,delta,parseInt(row,10))}),getResizer(target,"data-column").each(function(column){var delta=getDelta(target,"left");$_1ei337kqjdud7bom.remove(target,"data-initial-left"),events.trigger.adjustWidth(table,delta,parseInt(column,10))}),$_7xp62hmljdud7bzg.refresh(wire,table,hdirection,direction)})})});var handler=function(target,direction){events.trigger.startAdjust(),mutation.assign(target),$_1ei337kqjdud7bom.set(target,"data-initial-"+direction,parseInt($_b5rw3dkzjdud7bpm.get(target,direction),10)),$_119fsomrjdud7c0i.add(target,resizeBarDragging),$_b5rw3dkzjdud7bpm.set(target,"opacity","0.2"),resizing.go(wire.parent())},mousedown=$_a29ngvo1jdud7c78.bind(wire.parent(),"mousedown",function(event){$_7xp62hmljdud7bzg.isRowBar(event.target())&&handler(event.target(),"top"),$_7xp62hmljdud7bzg.isColBar(event.target())&&handler(event.target(),"left")}),isRoot=function(e){return $_6nkapzk9jdud7bn7.eq(e,wire.view())},mouseover=$_a29ngvo1jdud7c78.bind(wire.view(),"mouseover",function(event){"table"===$_1102zvkrjdud7bou.name(event.target())||$_f3156moajdud7c8i.ancestor(event.target(),"table",isRoot)?(hoverTable="table"===$_1102zvkrjdud7bou.name(event.target())?Option.some(event.target()):$_a3r4h1kvjdud7bp3.ancestor(event.target(),"table",isRoot)).each(function(ht){$_7xp62hmljdud7bzg.refresh(wire,ht,hdirection,direction)}):$_4q6kiskujdud7bp0.inBody(event.target())&&$_7xp62hmljdud7bzg.destroy(wire)}),events=$_9esbnqnujdud7c61.create({adjustHeight:Event(["table","delta","row"]),adjustWidth:Event(["table","delta","column"]),startAdjust:Event([])});return{destroy:function(){mousedown.unbind(),mouseover.unbind(),resizing.destroy(),$_7xp62hmljdud7bzg.destroy(wire)},refresh:function(tbl){$_7xp62hmljdud7bzg.refresh(wire,tbl,hdirection,direction)},on:resizing.on,off:resizing.off,hideBars:$_e8r7mrjsjdud7bkx.curry($_7xp62hmljdud7bzg.hide,wire),showBars:$_e8r7mrjsjdud7bkx.curry($_7xp62hmljdud7bzg.show,wire),events:events.registry}}(wire,vdirection,hdirection),events=$_9esbnqnujdud7c61.create({beforeResize:Event(["table"]),afterResize:Event(["table"]),startDrag:Event([])});return manager.events.adjustHeight.bind(function(event){events.trigger.beforeResize(event.table());var delta=hdirection.delta(event.delta(),event.table());$_3b8umn1jdud7c1k.adjustHeight(event.table(),delta,event.row(),hdirection),events.trigger.afterResize(event.table())}),manager.events.startAdjust.bind(function(event){events.trigger.startDrag()}),manager.events.adjustWidth.bind(function(event){events.trigger.beforeResize(event.table());var delta=vdirection.delta(event.delta(),event.table());$_3b8umn1jdud7c1k.adjustWidth(event.table(),delta,event.column(),vdirection),events.trigger.afterResize(event.table())}),{on:manager.on,off:manager.off,hideBars:manager.hideBars,showBars:manager.showBars,destroy:manager.destroy,events:events.registry}}var $_794sbxobjdud7c8k={get:function(editor,container){return editor.inline?$_1xghylnrjdud7c5f.body($_6xec71n8jdud7c2o.getBody(editor),function(){var container=$_2q3j53k5jdud7bmr.fromTag("div");return $_b5rw3dkzjdud7bpm.setAll(container,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),$_b9f8rkl1jdud7bq5.append($_4q6kiskujdud7bp0.body(),container),container}()):$_1xghylnrjdud7c5f.only($_2q3j53k5jdud7bmr.fromDom(editor.getDoc()))},remove:function(editor,wire){editor.inline&&$_g2ty44l2jdud7bq6.remove(wire.parent())}};function ResizeHandler(editor){var startW,startRawW,selectionRng=Option.none(),resize=Option.none(),wire=Option.none(),percentageBasedSizeRegex=/(\d+(\.\d+)?)%/,isTable=function(elm){return"TABLE"===elm.nodeName};return editor.on("init",function(){var direction=TableDirection($_eqsr8dn9jdud7c2r.directionAt),rawWire=$_794sbxobjdud7c8k.get(editor);if(wire=Option.some(rawWire),hasObjectResizing(editor)&&hasTableResizeBars(editor)){var sz=TableResize(rawWire,direction);sz.on(),sz.events.startDrag.bind(function(event){selectionRng=Option.some(editor.selection.getRng())}),sz.events.afterResize.bind(function(event){var table=event.table(),dataStyleCells=$_b4a6sqksjdud7bov.descendants(table,"td[data-mce-style],th[data-mce-style]");$_2b6dlmjqjdud7bko.each(dataStyleCells,function(cell){$_1ei337kqjdud7bom.remove(cell,"data-mce-style")}),selectionRng.each(function(rng){editor.selection.setRng(rng),editor.focus()}),editor.undoManager.add()}),resize=Option.some(sz)}}),editor.on("ObjectResizeStart",function(e){var elm;isTable(e.target)&&(startW=e.width,elm=e.target,startRawW=editor.dom.getStyle(elm,"width")||editor.dom.getAttrib(elm,"width"))}),editor.on("ObjectResized",function(e){if(isTable(e.target)){var table=e.target;if(percentageBasedSizeRegex.test(startRawW)){var percentW=parseFloat(percentageBasedSizeRegex.exec(startRawW)[1]),targetPercentW=e.width*percentW/startW;editor.dom.setStyle(table,"width",targetPercentW+"%")}else{var newCellSizes_1=[];Tools.each(table.rows,function(row){Tools.each(row.cells,function(cell){var width=editor.dom.getStyle(cell,"width",!0);newCellSizes_1.push({cell:cell,width:width})})}),Tools.each(newCellSizes_1,function(newCellSize){editor.dom.setStyle(newCellSize.cell,"width",newCellSize.width),editor.dom.setAttrib(newCellSize.cell,"width",null)})}}}),{lazyResize:function(){return resize},lazyWire:function(){return wire.getOr($_1xghylnrjdud7c5f.only($_2q3j53k5jdud7bmr.fromDom(editor.getBody())))},destroy:function(){resize.each(function(sz){sz.destroy()}),wire.each(function(w){$_794sbxobjdud7c8k.remove(editor,w)})}}}var folder$1=function(fold){return{fold:fold}},$_e2lqweoejdud7c99_none=function(current){return folder$1(function(n,f,m,l){return n(current)})},$_e2lqweoejdud7c99_first=function(current){return folder$1(function(n,f,m,l){return f(current)})},$_e2lqweoejdud7c99_middle=function(current,target){return folder$1(function(n,f,m,l){return m(current,target)})},$_e2lqweoejdud7c99_last=function(current){return folder$1(function(n,f,m,l){return l(current)})},detect$4=function(current,isRoot){return $_e5b08wk2jdud7bm5.table(current,isRoot).bind(function(table){var all=$_e5b08wk2jdud7bm5.cells(table);return $_2b6dlmjqjdud7bko.findIndex(all,function(x){return $_6nkapzk9jdud7bn7.eq(current,x)}).map(function(ind){return{index:$_e8r7mrjsjdud7bkx.constant(ind),all:$_e8r7mrjsjdud7bkx.constant(all)}})})},$_b41ec1odjdud7c94_next=function(current,isRoot){return detect$4(current,isRoot).fold(function(){return $_e2lqweoejdud7c99_none(current)},function(info){return info.index()+1<info.all().length?$_e2lqweoejdud7c99_middle(current,info.all()[info.index()+1]):$_e2lqweoejdud7c99_last(current)})},$_b41ec1odjdud7c94_prev=function(current,isRoot){return detect$4(current,isRoot).fold(function(){return $_e2lqweoejdud7c99_none()},function(info){return 0<=info.index()-1?$_e2lqweoejdud7c99_middle(current,info.all()[info.index()-1]):$_e2lqweoejdud7c99_first(current)})},adt=$_d9zbmklsjdud7buk_generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$_588zi3ogjdud7c9h={before:adt.before,on:adt.on,after:adt.after,cata:function(subject,onBefore,onOn,onAfter){return subject.fold(onBefore,onOn,onAfter)},getStart:function(situ){return situ.fold($_e8r7mrjsjdud7bkx.identity,$_e8r7mrjsjdud7bkx.identity,$_e8r7mrjsjdud7bkx.identity)}},type$2=$_d9zbmklsjdud7buk_generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),range$2=$_4vwz6tjvjdud7blm.immutable("start","soffset","finish","foffset"),$_2twlhjofjdud7c9d={domRange:type$2.domRange,relative:type$2.relative,exact:type$2.exact,exactFromRange:function(simRange){return type$2.exact(simRange.start(),simRange.soffset(),simRange.finish(),simRange.foffset())},range:range$2,getWin:function(selection){var start=function(selection){return selection.match({domRange:function(rng){return $_2q3j53k5jdud7bmr.fromDom(rng.startContainer)},relative:function(startSitu,finishSitu){return $_588zi3ogjdud7c9h.getStart(startSitu)},exact:function(start,soffset,finish,foffset){return start}})}(selection);return $_9s8a4jk7jdud7bmw.defaultView(start)}},makeRange=function(start,soffset,finish,foffset){var rng=$_9s8a4jk7jdud7bmw.owner(start).dom().createRange();return rng.setStart(start.dom(),soffset),rng.setEnd(finish.dom(),foffset),rng},$_7gdjefoijdud7c9w_after=function(start,soffset,finish,foffset){var r=makeRange(start,soffset,finish,foffset),same=$_6nkapzk9jdud7bn7.eq(start,finish)&&soffset===foffset;return r.collapsed&&!same},$_2jpet2ojjdud7c9x_fromElements=function(elements,scope){var fragment=(scope||document).createDocumentFragment();return $_2b6dlmjqjdud7bko.each(elements,function(element){fragment.appendChild(element.dom())}),$_2q3j53k5jdud7bmr.fromDom(fragment)},selectNodeContentsUsing=function(rng,element){rng.selectNodeContents(element.dom())},deleteContents=function(rng){rng.deleteContents()},toRect=function(rect){return{left:$_e8r7mrjsjdud7bkx.constant(rect.left),top:$_e8r7mrjsjdud7bkx.constant(rect.top),right:$_e8r7mrjsjdud7bkx.constant(rect.right),bottom:$_e8r7mrjsjdud7bkx.constant(rect.bottom),width:$_e8r7mrjsjdud7bkx.constant(rect.width),height:$_e8r7mrjsjdud7bkx.constant(rect.height)}},$_ff2xi9okjdud7ca0={create:function(win){return win.document.createRange()},replaceWith:function(rng,fragment){deleteContents(rng),rng.insertNode(fragment.dom())},selectNodeContents:function(win,element){var rng=win.document.createRange();return selectNodeContentsUsing(rng,element),rng},selectNodeContentsUsing:selectNodeContentsUsing,relativeToNative:function(win,startSitu,finishSitu){var rng,range=win.document.createRange();return rng=range,startSitu.fold(function(e){rng.setStartBefore(e.dom())},function(e,o){rng.setStart(e.dom(),o)},function(e){rng.setStartAfter(e.dom())}),function(rng,situ){situ.fold(function(e){rng.setEndBefore(e.dom())},function(e,o){rng.setEnd(e.dom(),o)},function(e){rng.setEndAfter(e.dom())})}(range,finishSitu),range},exactToNative:function(win,start,soffset,finish,foffset){var rng=win.document.createRange();return rng.setStart(start.dom(),soffset),rng.setEnd(finish.dom(),foffset),rng},deleteContents:deleteContents,cloneFragment:function(rng){var fragment=rng.cloneContents();return $_2q3j53k5jdud7bmr.fromDom(fragment)},getFirstRect:function(rng){var rects=rng.getClientRects(),rect=0<rects.length?rects[0]:rng.getBoundingClientRect();return 0<rect.width||0<rect.height?Option.some(rect).map(toRect):Option.none()},getBounds:function(rng){var rect=rng.getBoundingClientRect();return 0<rect.width||0<rect.height?Option.some(rect).map(toRect):Option.none()},isWithin:function(outerRange,innerRange){return innerRange.compareBoundaryPoints(outerRange.END_TO_START,outerRange)<1&&-1<innerRange.compareBoundaryPoints(outerRange.START_TO_END,outerRange)},toString:function(rng){return rng.toString()}},adt$1=$_d9zbmklsjdud7buk_generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),fromRange=function(win,type,range){return type($_2q3j53k5jdud7bmr.fromDom(range.startContainer),range.startOffset,$_2q3j53k5jdud7bmr.fromDom(range.endContainer),range.endOffset)},diagnose=function(win,selection){return function(win,ranges){var rng=ranges.ltr();return rng.collapsed?ranges.rtl().filter(function(rev){return!1===rev.collapsed}).map(function(rev){return adt$1.rtl($_2q3j53k5jdud7bmr.fromDom(rev.endContainer),rev.endOffset,$_2q3j53k5jdud7bmr.fromDom(rev.startContainer),rev.startOffset)}).getOrThunk(function(){return fromRange(0,adt$1.ltr,rng)}):fromRange(0,adt$1.ltr,rng)}(0,function(win,selection){return selection.match({domRange:function(rng){return{ltr:$_e8r7mrjsjdud7bkx.constant(rng),rtl:Option.none}},relative:function(startSitu,finishSitu){return{ltr:$_fkkxj4kfjdud7bns_cached(function(){return $_ff2xi9okjdud7ca0.relativeToNative(win,startSitu,finishSitu)}),rtl:$_fkkxj4kfjdud7bns_cached(function(){return Option.some($_ff2xi9okjdud7ca0.relativeToNative(win,finishSitu,startSitu))})}},exact:function(start,soffset,finish,foffset){return{ltr:$_fkkxj4kfjdud7bns_cached(function(){return $_ff2xi9okjdud7ca0.exactToNative(win,start,soffset,finish,foffset)}),rtl:$_fkkxj4kfjdud7bns_cached(function(){return Option.some($_ff2xi9okjdud7ca0.exactToNative(win,finish,foffset,start,soffset))})}}})}(win,selection))},$_ddvh1soljdud7ca6={ltr:adt$1.ltr,rtl:adt$1.rtl,diagnose:diagnose,asLtrRange:function(win,selection){return diagnose(win,selection).match({ltr:function(start,soffset,finish,foffset){var rng=win.document.createRange();return rng.setStart(start.dom(),soffset),rng.setEnd(finish.dom(),foffset),rng},rtl:function(start,soffset,finish,foffset){var rng=win.document.createRange();return rng.setStart(finish.dom(),foffset),rng.setEnd(start.dom(),soffset),rng}})}},$_bhjjyaoojdud7cal_inRect=function(rect,x,y){return x>=rect.left&&x<=rect.right&&y>=rect.top&&y<=rect.bottom},$_bhjjyaoojdud7cal_searchForPoint=function(rectForOffset,x,y,maxX,length){if(0===length)return 0;if(x===maxX)return length-1;for(var xDelta=maxX,i=1;i<length;i++){var rect=rectForOffset(i),curDeltaX=Math.abs(x-rect.left);if(y>rect.bottom);else{if(y<rect.top||xDelta<curDeltaX)return i-1;xDelta=curDeltaX}}return 0},$_5jwrp1opjdud7cam={locate:function(doc,node,x,y){var r=doc.dom().createRange();r.selectNode(node.dom());var rects=r.getClientRects();return $_a6p6d7mgjdud7bym_findMap(rects,function(rect){return $_bhjjyaoojdud7cal_inRect(rect,x,y)?Option.some(rect):Option.none()}).map(function(rect){return function(doc,textnode,x,y,rect){var rangeForOffset=function(offset){var r=doc.dom().createRange();return r.setStart(textnode.dom(),offset),r.collapse(!0),r},length=$_cvxenhl8jdud7bqz.get(textnode).length,offset=$_bhjjyaoojdud7cal_searchForPoint(function(offset){return rangeForOffset(offset).getBoundingClientRect()},x,y,rect.right,length);return rangeForOffset(offset)}(doc,node,x,y,rect)})}},searchInChildren=function(doc,node,x,y){var r=doc.dom().createRange(),nodes=$_9s8a4jk7jdud7bmw.children(node);return $_a6p6d7mgjdud7bym_findMap(nodes,function(n){return r.selectNode(n.dom()),$_bhjjyaoojdud7cal_inRect(r.getBoundingClientRect(),x,y)?locateNode(doc,n,x,y):Option.none()})},locateNode=function(doc,node,x,y){return($_1102zvkrjdud7bou.isText(node)?$_5jwrp1opjdud7cam.locate:searchInChildren)(doc,node,x,y)},$_f0nqoconjdud7cag_locate=function(doc,node,x,y){var r=doc.dom().createRange();r.selectNode(node.dom());var rect=r.getBoundingClientRect(),boundedX=Math.max(rect.left,Math.min(rect.right,x)),boundedY=Math.max(rect.top,Math.min(rect.bottom,y));return locateNode(doc,node,boundedX,boundedY)},getCollapseDirection=function(rect,x){return x-rect.left<rect.right-x},createCollapsedNode=function(doc,target,collapseDirection){var r=doc.dom().createRange();return r.selectNode(target.dom()),r.collapse(collapseDirection),r},locateInElement=function(doc,node,x){var cursorRange=doc.dom().createRange();cursorRange.selectNode(node.dom());var rect=cursorRange.getBoundingClientRect(),collapseDirection=getCollapseDirection(rect,x);return(!0===collapseDirection?$_b7vkeyl6jdud7bqu.first:$_b7vkeyl6jdud7bqu.last)(node).map(function(target){return createCollapsedNode(doc,target,collapseDirection)})},locateInEmpty=function(doc,node,x){var rect=node.dom().getBoundingClientRect(),collapseDirection=getCollapseDirection(rect,x);return Option.some(createCollapsedNode(doc,node,collapseDirection))},$_awnrkcoqjdud7caq_search=function(doc,node,x){return(0===$_9s8a4jk7jdud7bmw.children(node).length?locateInEmpty:locateInElement)(doc,node,x)},availableSearch=document.caretPositionFromPoint?function(doc,x,y){return Option.from(doc.dom().caretPositionFromPoint(x,y)).bind(function(pos){if(null===pos.offsetNode)return Option.none();var r=doc.dom().createRange();return r.setStart(pos.offsetNode,pos.offset),r.collapse(),Option.some(r)})}:document.caretRangeFromPoint?function(doc,x,y){return Option.from(doc.dom().caretRangeFromPoint(x,y))}:function(doc,x,y){return $_2q3j53k5jdud7bmr.fromPoint(doc,x,y).bind(function(elem){var fallback=function(){return $_awnrkcoqjdud7caq_search(doc,elem,x)};return 0===$_9s8a4jk7jdud7bmw.children(elem).length?fallback():function(doc,node,x,y){var r=doc.dom().createRange();r.selectNode(node.dom());var rect=r.getBoundingClientRect(),boundedX=Math.max(rect.left,Math.min(rect.right,x)),boundedY=Math.max(rect.top,Math.min(rect.bottom,y));return $_f0nqoconjdud7cag_locate(doc,node,boundedX,boundedY)}(doc,elem,x,y).orThunk(fallback)})},$_cu0yncomjdud7cad_fromPoint=function(win,x,y){var doc=$_2q3j53k5jdud7bmr.fromDom(win.document);return availableSearch(doc,x,y).map(function(rng){return $_2twlhjofjdud7c9d.range($_2q3j53k5jdud7bmr.fromDom(rng.startContainer),rng.startOffset,$_2q3j53k5jdud7bmr.fromDom(rng.endContainer),rng.endOffset)})},$_ggvgs8orjdud7cau_find=function(win,selection,selector){var outerRange=$_ddvh1soljdud7ca6.asLtrRange(win,selection),ancestor=$_2q3j53k5jdud7bmr.fromDom(outerRange.commonAncestorContainer);return $_1102zvkrjdud7bou.isElement(ancestor)?function(win,ancestor,outerRange,selector){var innerRange=$_ff2xi9okjdud7ca0.create(win),elements=($_zvi87k4jdud7bmn.is(ancestor,selector)?[ancestor]:[]).concat($_b4a6sqksjdud7bov.descendants(ancestor,selector));return $_2b6dlmjqjdud7bko.filter(elements,function(elem){return $_ff2xi9okjdud7ca0.selectNodeContentsUsing(innerRange,elem),$_ff2xi9okjdud7ca0.isWithin(outerRange,innerRange)})}(win,ancestor,outerRange,selector):[]},beforeSpecial=function(element,offset){var name=$_1102zvkrjdud7bou.name(element);return"input"===name?$_588zi3ogjdud7c9h.after(element):$_2b6dlmjqjdud7bko.contains(["br","img"],name)?0===offset?$_588zi3ogjdud7c9h.before(element):$_588zi3ogjdud7c9h.after(element):$_588zi3ogjdud7c9h.on(element,offset)},preprocessRelative=function(startSitu,finishSitu){var start=startSitu.fold($_588zi3ogjdud7c9h.before,beforeSpecial,$_588zi3ogjdud7c9h.after),finish=finishSitu.fold($_588zi3ogjdud7c9h.before,beforeSpecial,$_588zi3ogjdud7c9h.after);return $_2twlhjofjdud7c9d.relative(start,finish)},preprocessExact=function(start,soffset,finish,foffset){var startSitu=beforeSpecial(start,soffset),finishSitu=beforeSpecial(finish,foffset);return $_2twlhjofjdud7c9d.relative(startSitu,finishSitu)},$_dir9a6osjdud7cax_preprocess=function(selection){return selection.match({domRange:function(rng){var start=$_2q3j53k5jdud7bmr.fromDom(rng.startContainer),finish=$_2q3j53k5jdud7bmr.fromDom(rng.endContainer);return preprocessExact(start,rng.startOffset,finish,rng.endOffset)},relative:preprocessRelative,exact:preprocessExact})},$_dir9a6osjdud7cax_preprocessRelative=preprocessRelative,$_dir9a6osjdud7cax_preprocessExact=preprocessExact,doSetNativeRange=function(win,rng){Option.from(win.getSelection()).each(function(selection){selection.removeAllRanges(),selection.addRange(rng)})},doSetRange=function(win,start,soffset,finish,foffset){var rng=$_ff2xi9okjdud7ca0.exactToNative(win,start,soffset,finish,foffset);doSetNativeRange(win,rng)},setRangeFromRelative=function(win,relative){return $_ddvh1soljdud7ca6.diagnose(win,relative).match({ltr:function(start,soffset,finish,foffset){doSetRange(win,start,soffset,finish,foffset)},rtl:function(start,soffset,finish,foffset){var selection=win.getSelection();selection.extend?(selection.collapse(start.dom(),soffset),selection.extend(finish.dom(),foffset)):doSetRange(win,finish,foffset,start,soffset)}})},doGetExact=function(selection){var anchorNode=$_2q3j53k5jdud7bmr.fromDom(selection.anchorNode),focusNode=$_2q3j53k5jdud7bmr.fromDom(selection.focusNode);return $_7gdjefoijdud7c9w_after(anchorNode,selection.anchorOffset,focusNode,selection.focusOffset)?Option.some($_2twlhjofjdud7c9d.range($_2q3j53k5jdud7bmr.fromDom(selection.anchorNode),selection.anchorOffset,$_2q3j53k5jdud7bmr.fromDom(selection.focusNode),selection.focusOffset)):function(selection){if(0<selection.rangeCount){var firstRng=selection.getRangeAt(0),lastRng=selection.getRangeAt(selection.rangeCount-1);return Option.some($_2twlhjofjdud7c9d.range($_2q3j53k5jdud7bmr.fromDom(firstRng.startContainer),firstRng.startOffset,$_2q3j53k5jdud7bmr.fromDom(lastRng.endContainer),lastRng.endOffset))}return Option.none()}(selection)},getExact=function(win){var selection=win.getSelection();return 0<selection.rangeCount?doGetExact(selection):Option.none()},$_4mbnt1ohjdud7c9m={setExact:function(win,start,soffset,finish,foffset){var relative=$_dir9a6osjdud7cax_preprocessExact(start,soffset,finish,foffset);setRangeFromRelative(win,relative)},getExact:getExact,get:function(win){return getExact(win).map(function(range){return $_2twlhjofjdud7c9d.exact(range.start(),range.soffset(),range.finish(),range.foffset())})},setRelative:function(win,startSitu,finishSitu){var relative=$_dir9a6osjdud7cax_preprocessRelative(startSitu,finishSitu);setRangeFromRelative(win,relative)},toNative:function(selection){var win=$_2twlhjofjdud7c9d.getWin(selection).dom(),getDomRange=function(start,soffset,finish,foffset){return $_ff2xi9okjdud7ca0.exactToNative(win,start,soffset,finish,foffset)},filtered=$_dir9a6osjdud7cax_preprocess(selection);return $_ddvh1soljdud7ca6.diagnose(win,filtered).match({ltr:getDomRange,rtl:getDomRange})},setToElement:function(win,element){var rng=$_ff2xi9okjdud7ca0.selectNodeContents(win,element);doSetNativeRange(win,rng)},clear:function(win){win.getSelection().removeAllRanges()},clone:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);return $_ff2xi9okjdud7ca0.cloneFragment(rng)},replace:function(win,selection,elements){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection),fragment=$_2jpet2ojjdud7c9x_fromElements(elements,win.document);$_ff2xi9okjdud7ca0.replaceWith(rng,fragment)},deleteAt:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);$_ff2xi9okjdud7ca0.deleteContents(rng)},forElement:function(win,element){var rng=$_ff2xi9okjdud7ca0.selectNodeContents(win,element);return $_2twlhjofjdud7c9d.range($_2q3j53k5jdud7bmr.fromDom(rng.startContainer),rng.startOffset,$_2q3j53k5jdud7bmr.fromDom(rng.endContainer),rng.endOffset)},getFirstRect:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);return $_ff2xi9okjdud7ca0.getFirstRect(rng)},getBounds:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);return $_ff2xi9okjdud7ca0.getBounds(rng)},getAtPoint:function(win,x,y){return $_cu0yncomjdud7cad_fromPoint(win,x,y)},findWithin:function(win,selection,selector){return $_ggvgs8orjdud7cau_find(win,selection,selector)},getAsString:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);return $_ff2xi9okjdud7ca0.toString(rng)},isCollapsed:function(start,soffset,finish,foffset){return $_6nkapzk9jdud7bn7.eq(start,finish)&&soffset===foffset}},VK=tinymce.util.Tools.resolve("tinymce.util.VK"),forward=function(editor,isRoot,cell,lazyWire){return go(editor,isRoot,$_b41ec1odjdud7c94_next(cell),lazyWire)},backward=function(editor,isRoot,cell,lazyWire){return go(editor,isRoot,$_b41ec1odjdud7c94_prev(cell),lazyWire)},getCellFirstCursorPosition=function(editor,cell){var selection=$_2twlhjofjdud7c9d.exact(cell,0,cell,0);return $_4mbnt1ohjdud7c9m.toNative(selection)},go=function(editor,isRoot,cell,actions,lazyWire){return cell.fold(Option.none,Option.none,function(current,next){return $_b7vkeyl6jdud7bqu.first(next).map(function(cell){return getCellFirstCursorPosition(0,cell)})},function(current){return $_e5b08wk2jdud7bm5.table(current,isRoot).bind(function(table){var targets=$_50voclbjdud7br8.noMenu(current);return editor.undoManager.transact(function(){actions.insertRowsAfter(table,targets)}),function(editor,table){var rows=$_b4a6sqksjdud7bov.descendants(table,"tr");return $_2b6dlmjqjdud7bko.last(rows).bind(function(last){return $_a3r4h1kvjdud7bp3.descendant(last,"td,th").map(function(first){return getCellFirstCursorPosition(0,first)})})}(0,table)})})},rootElements=["table","li","dl"],$_fmb5mnocjdud7c8r={handle:function(event,editor,actions,lazyWire){if(event.keyCode===VK.TAB){var body_1=$_6xec71n8jdud7c2o.getBody(editor),isRoot_1=function(element){var name=$_1102zvkrjdud7bou.name(element);return $_6nkapzk9jdud7bn7.eq(element,body_1)||$_2b6dlmjqjdud7bko.contains(rootElements,name)},rng=editor.selection.getRng();if(rng.collapsed){var start=$_2q3j53k5jdud7bmr.fromDom(rng.startContainer);$_e5b08wk2jdud7bm5.cell(start,isRoot_1).each(function(cell){event.preventDefault(),(event.shiftKey?backward:forward)(editor,isRoot_1,cell,actions,lazyWire).each(function(range){editor.selection.setRng(range)})})}}}},$_cvcdnbowjdud7cbw={response:$_4vwz6tjvjdud7blm.immutable("selection","kill")},isKey=function(key){return function(keycode){return keycode===key}},isUp=isKey(38),isDown=isKey(40),$_71t80poxjdud7cby={ltr:{isBackward:isKey(37),isForward:isKey(39)},rtl:{isBackward:isKey(39),isForward:isKey(37)},isUp:isUp,isDown:isDown,isNavigation:function(keycode){return 37<=keycode&&keycode<=40}},$_50qw0dozjdud7ccb={convertToRange:function(win,selection){var rng=$_ddvh1soljdud7ca6.asLtrRange(win,selection);return{start:$_e8r7mrjsjdud7bkx.constant($_2q3j53k5jdud7bmr.fromDom(rng.startContainer)),soffset:$_e8r7mrjsjdud7bkx.constant(rng.startOffset),finish:$_e8r7mrjsjdud7bkx.constant($_2q3j53k5jdud7bmr.fromDom(rng.endContainer)),foffset:$_e8r7mrjsjdud7bkx.constant(rng.endOffset)}},makeSitus:function(start,soffset,finish,foffset){return{start:$_e8r7mrjsjdud7bkx.constant($_588zi3ogjdud7c9h.on(start,soffset)),finish:$_e8r7mrjsjdud7bkx.constant($_588zi3ogjdud7c9h.on(finish,foffset))}}},isSafari=$_e4jb8lkejdud7bnr.detect().browser.isSafari(),get$10=function(_doc){var doc=void 0!==_doc?_doc.dom():document,x=doc.body.scrollLeft||doc.documentElement.scrollLeft,y=doc.body.scrollTop||doc.documentElement.scrollTop;return r(x,y)},to=function(x,y,_doc){(void 0!==_doc?_doc.dom():document).defaultView.scrollTo(x,y)},intoView=function(element,alignToTop){isSafari&&$_duf7n8jzjdud7blu.isFunction(element.dom().scrollIntoViewIfNeeded)?element.dom().scrollIntoViewIfNeeded(!1):element.dom().scrollIntoView(alignToTop)},$_aluts0p0jdud7cci={get:get$10,to:to,by:function(x,y,_doc){(void 0!==_doc?_doc.dom():document).defaultView.scrollBy(x,y)},preserve:function(doc,f){var before=get$10(doc);f();var after=get$10(doc);before.top()===after.top()&&before.left()===after.left()||to(before.left(),before.top(),doc)},capture:function(doc){var previous=Option.none(),save=function(){previous=Option.some(get$10(doc))};return save(),{save:save,restore:function(){previous.each(function(p){to(p.left(),p.top(),doc)})}}},intoView:intoView,intoViewIfNeeded:function(element,container){var containerBox=container.dom().getBoundingClientRect(),elementBox=element.dom().getBoundingClientRect();elementBox.top<containerBox.top?intoView(element,!0):elementBox.bottom>containerBox.bottom&&intoView(element,!1)},setToElement:function(win,element){var pos=$_1b83qkm3jdud7bwd_absolute(element),doc=$_2q3j53k5jdud7bmr.fromDom(win.document);to(pos.left(),pos.top(),doc)},scrollBarWidth:function(){var scrollDiv=$_2q3j53k5jdud7bmr.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');$_b9f8rkl1jdud7bq5.after($_4q6kiskujdud7bp0.body(),scrollDiv);var w=scrollDiv.dom().offsetWidth-scrollDiv.dom().clientWidth;return $_g2ty44l2jdud7bq6.remove(scrollDiv),w}};function WindowBridge(win){return{elementFromPoint:function(x,y){return Option.from(win.document.elementFromPoint(x,y)).map($_2q3j53k5jdud7bmr.fromDom)},getRect:function(element){return element.dom().getBoundingClientRect()},getRangedRect:function(start,soffset,finish,foffset){var sel=$_2twlhjofjdud7c9d.exact(start,soffset,finish,foffset);return $_4mbnt1ohjdud7c9m.getFirstRect(win,sel).map(function(structRect){return $_fzfxsxjujdud7ble.map(structRect,$_e8r7mrjsjdud7bkx.apply)})},getSelection:function(){return $_4mbnt1ohjdud7c9m.get(win).map(function(exactAdt){return $_50qw0dozjdud7ccb.convertToRange(win,exactAdt)})},fromSitus:function(situs){var relative=$_2twlhjofjdud7c9d.relative(situs.start(),situs.finish());return $_50qw0dozjdud7ccb.convertToRange(win,relative)},situsFromPoint:function(x,y){return $_4mbnt1ohjdud7c9m.getAtPoint(win,x,y).map(function(exact){return{start:$_e8r7mrjsjdud7bkx.constant($_588zi3ogjdud7c9h.on(exact.start(),exact.soffset())),finish:$_e8r7mrjsjdud7bkx.constant($_588zi3ogjdud7c9h.on(exact.finish(),exact.foffset()))}})},clearSelection:function(){$_4mbnt1ohjdud7c9m.clear(win)},setSelection:function(sel){$_4mbnt1ohjdud7c9m.setExact(win,sel.start(),sel.soffset(),sel.finish(),sel.foffset())},setRelativeSelection:function(start,finish){$_4mbnt1ohjdud7c9m.setRelative(win,start,finish)},selectContents:function(element){$_4mbnt1ohjdud7c9m.setToElement(win,element)},getInnerHeight:function(){return win.innerHeight},getScrollY:function(){return $_aluts0p0jdud7cci.get($_2q3j53k5jdud7bmr.fromDom(win.document)).top()},scrollBy:function(x,y){$_aluts0p0jdud7cci.by(x,y,$_2q3j53k5jdud7bmr.fromDom(win.document))}}}var detect$5=function(container,isRoot,start,finish,selectRange){if(!$_6nkapzk9jdud7bn7.eq(start,finish))return $_btb09flejdud7brv.identify(start,finish,isRoot).bind(function(cellSel){var boxes=cellSel.boxes().getOr([]);return 0<boxes.length?(selectRange(container,boxes,cellSel.start(),cellSel.finish()),Option.some($_cvcdnbowjdud7cbw.response(Option.some($_50qw0dozjdud7ccb.makeSitus(start,0,start,$_7y1bjwl7jdud7bqw_getEnd(start))),!0))):Option.none()})},$_a5kpzap1jdud7ccp={sync:function(container,isRoot,start,soffset,finish,foffset,selectRange){return $_6nkapzk9jdud7bn7.eq(start,finish)&&soffset===foffset?Option.none():$_a3r4h1kvjdud7bp3.closest(start,"td,th",isRoot).bind(function(s){return $_a3r4h1kvjdud7bp3.closest(finish,"td,th",isRoot).bind(function(f){return detect$5(container,isRoot,s,f,selectRange)})})},detect:detect$5,update:function(rows,columns,container,selected,annotations){return $_btb09flejdud7brv.shiftSelection(selected,rows,columns,annotations.firstSelectedSelector(),annotations.lastSelectedSelector()).map(function(newSels){return annotations.clear(container),annotations.selectRange(container,newSels.boxes(),newSels.start(),newSels.finish()),newSels.boxes()})}},nu$3=$_4vwz6tjvjdud7blm.immutableBag(["left","top","right","bottom"],[]),$_c8vayvp4jdud7cdu={nu:nu$3,moveUp:function(caret,amount){return nu$3({left:caret.left(),top:caret.top()-amount,right:caret.right(),bottom:caret.bottom()-amount})},moveDown:function(caret,amount){return nu$3({left:caret.left(),top:caret.top()+amount,right:caret.right(),bottom:caret.bottom()+amount})},moveBottomTo:function(caret,bottom){var height=caret.bottom()-caret.top();return nu$3({left:caret.left(),top:bottom-height,right:caret.right(),bottom:bottom})},moveTopTo:function(caret,top){var height=caret.bottom()-caret.top();return nu$3({left:caret.left(),top:top,right:caret.right(),bottom:top+height})},getTop:function(caret){return caret.top()},getBottom:function(caret){return caret.bottom()},translate:function(caret,xDelta,yDelta){return nu$3({left:caret.left()+xDelta,top:caret.top()+yDelta,right:caret.right()+xDelta,bottom:caret.bottom()+yDelta})},toString:function(caret){return"("+caret.left()+", "+caret.top()+") -> ("+caret.right()+", "+caret.bottom()+")"}},toCaret=function(rect){return $_c8vayvp4jdud7cdu.nu({left:rect.left,top:rect.top,right:rect.right,bottom:rect.bottom})},getElemBox=function(bridge,element){return Option.some(bridge.getRect(element))},$_411ytop5jdud7cdx_getBoxAt=function(bridge,element,offset){return $_1102zvkrjdud7bou.isElement(element)?getElemBox(bridge,element).map(toCaret):$_1102zvkrjdud7bou.isText(element)?function(bridge,element,offset){return 0<=offset&&offset<$_7y1bjwl7jdud7bqw_getEnd(element)?bridge.getRangedRect(element,offset,element,offset+1):0<offset?bridge.getRangedRect(element,offset-1,element,offset):Option.none()}(bridge,element,offset).map(toCaret):Option.none()},$_411ytop5jdud7cdx_getEntireBox=function(bridge,element){return $_1102zvkrjdud7bou.isElement(element)?getElemBox(bridge,element).map(toCaret):$_1102zvkrjdud7bou.isText(element)?bridge.getRangedRect(element,0,element,$_7y1bjwl7jdud7bqw_getEnd(element)).map(toCaret):Option.none()},traverse=$_4vwz6tjvjdud7blm.immutable("item","mode"),backtrack=function(universe,item,direction,_transition){var transition=void 0!==_transition?_transition:sidestep;return universe.property().parent(item).map(function(p){return traverse(p,transition)})},sidestep=function(universe,item,direction,_transition){var transition=void 0!==_transition?_transition:advance;return direction.sibling(universe,item).map(function(p){return traverse(p,transition)})},advance=function(universe,item,direction,_transition){var transition=void 0!==_transition?_transition:advance,children=universe.property().children(item);return direction.first(children).map(function(r){return traverse(r,transition)})},successors=[{current:backtrack,next:sidestep,fallback:Option.none()},{current:sidestep,next:advance,fallback:Option.some(backtrack)},{current:advance,next:advance,fallback:Option.some(sidestep)}],go$1=function(universe,item,mode,direction,rules){return rules=void 0!==rules?rules:successors,$_2b6dlmjqjdud7bko.find(rules,function(succ){return succ.current===mode}).bind(function(rule){return rule.current(universe,item,direction,rule.next).orThunk(function(){return rule.fallback.bind(function(fb){return go$1(universe,item,fb,direction)})})})},$_fy01gpajdud7ceo={backtrack:backtrack,sidestep:sidestep,advance:advance,go:go$1},$_eixmygpbjdud7cez={left:function(){return{sibling:function(universe,item){return universe.query().prevSibling(item)},first:function(children){return 0<children.length?Option.some(children[children.length-1]):Option.none()}}},right:function(){return{sibling:function(universe,item){return universe.query().nextSibling(item)},first:function(children){return 0<children.length?Option.some(children[0]):Option.none()}}}},hone=function(universe,item,predicate,mode,direction,isRoot){return $_fy01gpajdud7ceo.go(universe,item,mode,direction).bind(function(n){return isRoot(n.item())?Option.none():predicate(n.item())?Option.some(n.item()):hone(universe,n.item(),predicate,n.mode(),direction,isRoot)})},$_bhaux1p9jdud7cel_left=function(universe,item,predicate,isRoot){return hone(universe,item,predicate,$_fy01gpajdud7ceo.sidestep,$_eixmygpbjdud7cez.left(),isRoot)},$_bhaux1p9jdud7cel_right=function(universe,item,predicate,isRoot){return hone(universe,item,predicate,$_fy01gpajdud7ceo.sidestep,$_eixmygpbjdud7cez.right(),isRoot)},isLeaf=function(universe,element){return 0===universe.property().children(element).length},seekLeft=function(universe,item,predicate,isRoot){return $_bhaux1p9jdud7cel_left(universe,item,predicate,isRoot)},seekRight=function(universe,item,predicate,isRoot){return $_bhaux1p9jdud7cel_right(universe,item,predicate,isRoot)},$_g9gzv7p8jdud7cej={before:function(universe,item,isRoot){return seekLeft(universe,item,$_e8r7mrjsjdud7bkx.curry(isLeaf,universe),isRoot)},after:function(universe,item,isRoot){return seekRight(universe,item,$_e8r7mrjsjdud7bkx.curry(isLeaf,universe),isRoot)},seekLeft:seekLeft,seekRight:seekRight,walkers:function(){return{left:$_eixmygpbjdud7cez.left,right:$_eixmygpbjdud7cez.right}},walk:function(universe,item,mode,direction,_rules){return $_fy01gpajdud7ceo.go(universe,item,mode,direction,_rules)},backtrack:$_fy01gpajdud7ceo.backtrack,sidestep:$_fy01gpajdud7ceo.sidestep,advance:$_fy01gpajdud7ceo.advance},universe$2=DomUniverse(),$_7i72qgp7jdud7cef={gather:function(element,prune,transform){return $_g9gzv7p8jdud7cej.gather(universe$2,element,prune,transform)},before:function(element,isRoot){return $_g9gzv7p8jdud7cej.before(universe$2,element,isRoot)},after:function(element,isRoot){return $_g9gzv7p8jdud7cej.after(universe$2,element,isRoot)},seekLeft:function(element,predicate,isRoot){return $_g9gzv7p8jdud7cej.seekLeft(universe$2,element,predicate,isRoot)},seekRight:function(element,predicate,isRoot){return $_g9gzv7p8jdud7cej.seekRight(universe$2,element,predicate,isRoot)},walkers:function(){return $_g9gzv7p8jdud7cej.walkers()},walk:function(item,mode,direction,_rules){return $_g9gzv7p8jdud7cej.walk(universe$2,item,mode,direction,_rules)}},adt$2=$_d9zbmklsjdud7buk_generate([{none:[]},{retry:["caret"]}]),inOutsideBlock=function(bridge,element,caret){return $_70n3lxkwjdud7bp4.closest(element,$_4wh7q4mcjdud7by1_isBlock).fold($_e8r7mrjsjdud7bkx.constant(!1),function(cell){return $_411ytop5jdud7cdx_getEntireBox(bridge,cell).exists(function(box){return function(caret,box){return caret.left()<box.left()||Math.abs(box.right()-caret.left())<1||caret.left()>box.right()}(caret,box)})})},upMovement={point:$_c8vayvp4jdud7cdu.getTop,adjuster:function(bridge,element,guessBox,original,caret){var higherCaret=$_c8vayvp4jdud7cdu.moveUp(caret,5);return Math.abs(guessBox.top()-original.top())<1?adt$2.retry(higherCaret):guessBox.bottom()<caret.top()?adt$2.retry(higherCaret):guessBox.bottom()===caret.top()?adt$2.retry($_c8vayvp4jdud7cdu.moveUp(caret,1)):inOutsideBlock(bridge,element,caret)?adt$2.retry($_c8vayvp4jdud7cdu.translate(higherCaret,5,0)):adt$2.none()},move:$_c8vayvp4jdud7cdu.moveUp,gather:$_7i72qgp7jdud7cef.before},downMovement={point:$_c8vayvp4jdud7cdu.getBottom,adjuster:function(bridge,element,guessBox,original,caret){var lowerCaret=$_c8vayvp4jdud7cdu.moveDown(caret,5);return Math.abs(guessBox.bottom()-original.bottom())<1?adt$2.retry(lowerCaret):guessBox.top()>caret.bottom()?adt$2.retry(lowerCaret):guessBox.top()===caret.bottom()?adt$2.retry($_c8vayvp4jdud7cdu.moveDown(caret,1)):inOutsideBlock(bridge,element,caret)?adt$2.retry($_c8vayvp4jdud7cdu.translate(lowerCaret,5,0)):adt$2.none()},move:$_c8vayvp4jdud7cdu.moveDown,gather:$_7i72qgp7jdud7cef.after},adjustTil=function(bridge,movement,original,caret,numRetries){return 0===numRetries?Option.some(caret):function(bridge,x,y){return bridge.elementFromPoint(x,y).filter(function(elm){return"table"===$_1102zvkrjdud7bou.name(elm)}).isSome()}(bridge,caret.left(),movement.point(caret))?function(bridge,movement,original,caret,numRetries){return adjustTil(bridge,movement,original,movement.move(caret,5),numRetries)}(bridge,movement,original,caret,numRetries-1):bridge.situsFromPoint(caret.left(),movement.point(caret)).bind(function(guess){return guess.start().fold(Option.none,function(element,offset){return $_411ytop5jdud7cdx_getEntireBox(bridge,element,offset).bind(function(guessBox){return movement.adjuster(bridge,element,guessBox,original,caret).fold(Option.none,function(newCaret){return adjustTil(bridge,movement,original,newCaret,numRetries-1)})}).orThunk(function(){return Option.some(caret)})},Option.none)})},retry=function(movement,bridge,caret){var moved=movement.move(caret,5),adjusted=adjustTil(bridge,movement,caret,moved,100).getOr(moved);return function(movement,adjusted,bridge){return movement.point(adjusted)>bridge.getInnerHeight()?Option.some(movement.point(adjusted)-bridge.getInnerHeight()):movement.point(adjusted)<0?Option.some(-movement.point(adjusted)):Option.none()}(movement,adjusted,bridge).fold(function(){return bridge.situsFromPoint(adjusted.left(),movement.point(adjusted))},function(delta){return bridge.scrollBy(0,delta),bridge.situsFromPoint(adjusted.left(),movement.point(adjusted)-delta)})},$_954k06p6jdud7ce3={tryUp:$_e8r7mrjsjdud7bkx.curry(retry,upMovement),tryDown:$_e8r7mrjsjdud7bkx.curry(retry,downMovement),ieTryUp:function(bridge,caret){return bridge.situsFromPoint(caret.left(),caret.top()-5)},ieTryDown:function(bridge,caret){return bridge.situsFromPoint(caret.left(),caret.bottom()+5)},getJumpSize:$_e8r7mrjsjdud7bkx.constant(5)},adt$3=$_d9zbmklsjdud7buk_generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),isRow=function(elem){return $_a3r4h1kvjdud7bp3.closest(elem,"tr")},$_2yfkcupcjdud7cf3={verify:function(bridge,before,beforeOffset,after,afterOffset,failure,isRoot){return $_a3r4h1kvjdud7bp3.closest(after,"td,th",isRoot).bind(function(afterCell){return $_a3r4h1kvjdud7bp3.closest(before,"td,th",isRoot).map(function(beforeCell){return $_6nkapzk9jdud7bn7.eq(afterCell,beforeCell)?$_6nkapzk9jdud7bn7.eq(after,afterCell)&&$_7y1bjwl7jdud7bqw_getEnd(afterCell)===afterOffset?failure(beforeCell):adt$3.none("in same cell"):$_ef88mqlfjdud7bsc_sharedOne(isRow,[afterCell,beforeCell]).fold(function(){return function(bridge,before,after){var beforeBounds=bridge.getRect(before),afterBounds=bridge.getRect(after);return afterBounds.right>beforeBounds.left&&afterBounds.left<beforeBounds.right}(bridge,beforeCell,afterCell)?adt$3.success():failure(beforeCell)},function(sharedRow){return failure(beforeCell)})})}).getOr(adt$3.none("default"))},cata:function(subject,onNone,onSuccess,onFailedUp,onFailedDown){return subject.fold(onNone,onSuccess,onFailedUp,onFailedDown)},adt:adt$3},$_9zt1gvpejdud7cft={point:$_4vwz6tjvjdud7blm.immutable("element","offset"),delta:$_4vwz6tjvjdud7blm.immutable("element","deltaOffset"),range:$_4vwz6tjvjdud7blm.immutable("element","start","finish"),points:$_4vwz6tjvjdud7blm.immutable("begin","end"),text:$_4vwz6tjvjdud7blm.immutable("element","text")},inParent=($_4vwz6tjvjdud7blm.immutable("ancestor","descendants","element","index"),$_4vwz6tjvjdud7blm.immutable("parent","children","element","index")),indexOf$1=function(elements,element){return $_2b6dlmjqjdud7bko.findIndex(elements,$_e8r7mrjsjdud7bkx.curry($_6nkapzk9jdud7bn7.eq,element))},$_4uvku2pfjdud7cfv_indexInParent=function(element){return $_9s8a4jk7jdud7bmw.parent(element).bind(function(parent){var children=$_9s8a4jk7jdud7bmw.children(parent);return indexOf$1(children,element).map(function(index){return inParent(parent,children,element,index)})})},isBr=function(elem){return"br"===$_1102zvkrjdud7bou.name(elem)},gatherer=function(cand,gather,isRoot){return gather(cand,isRoot).bind(function(target){return $_1102zvkrjdud7bou.isText(target)&&0===$_cvxenhl8jdud7bqz.get(target).trim().length?gatherer(target,gather,isRoot):Option.some(target)})},handleParent=function(isRoot,element,offset,direction){return function(element,offset){return $_9s8a4jk7jdud7bmw.child(element,offset).filter(isBr).orThunk(function(){return $_9s8a4jk7jdud7bmw.child(element,offset-1).filter(isBr)})}(element,offset).bind(function(br){return direction.traverse(br).fold(function(){return gatherer(br,direction.gather,isRoot).map(direction.relative)},function(adjacent){return $_4uvku2pfjdud7cfv_indexInParent(adjacent).map(function(info){return $_588zi3ogjdud7c9h.on(info.parent(),info.index())})})})},$_2cmmn6pdjdud7cfc_tryBr=function(isRoot,element,offset,direction){return(isBr(element)?function(isRoot,element,direction){return direction.traverse(element).orThunk(function(){return gatherer(element,direction.gather,isRoot)}).map(direction.relative)}(isRoot,element,direction):handleParent(isRoot,element,offset,direction)).map(function(tgt){return{start:$_e8r7mrjsjdud7bkx.constant(tgt),finish:$_e8r7mrjsjdud7bkx.constant(tgt)}})},$_2cmmn6pdjdud7cfc_process=function(analysis){return $_2yfkcupcjdud7cf3.cata(analysis,function(message){return Option.none()},function(){return Option.none()},function(cell){return Option.some($_9zt1gvpejdud7cft.point(cell,0))},function(cell){return Option.some($_9zt1gvpejdud7cft.point(cell,$_7y1bjwl7jdud7bqw_getEnd(cell)))})},platform$1=$_e4jb8lkejdud7bnr.detect(),scan=function(bridge,isRoot,element,offset,direction,numRetries){return 0===numRetries?Option.none():tryCursor(bridge,isRoot,element,offset,direction).bind(function(situs){var range=bridge.fromSitus(situs),analysis=$_2yfkcupcjdud7cf3.verify(bridge,element,offset,range.finish(),range.foffset(),direction.failure,isRoot);return $_2yfkcupcjdud7cf3.cata(analysis,function(){return Option.none()},function(){return Option.some(situs)},function(cell){return $_6nkapzk9jdud7bn7.eq(element,cell)&&0===offset?tryAgain(bridge,element,offset,$_c8vayvp4jdud7cdu.moveUp,direction):scan(bridge,isRoot,cell,0,direction,numRetries-1)},function(cell){return $_6nkapzk9jdud7bn7.eq(element,cell)&&offset===$_7y1bjwl7jdud7bqw_getEnd(cell)?tryAgain(bridge,element,offset,$_c8vayvp4jdud7cdu.moveDown,direction):scan(bridge,isRoot,cell,$_7y1bjwl7jdud7bqw_getEnd(cell),direction,numRetries-1)})})},tryAgain=function(bridge,element,offset,move,direction){return $_411ytop5jdud7cdx_getBoxAt(bridge,element,offset).bind(function(box){return tryAt(bridge,direction,move(box,$_954k06p6jdud7ce3.getJumpSize()))})},tryAt=function(bridge,direction,box){return platform$1.browser.isChrome()||platform$1.browser.isSafari()||platform$1.browser.isFirefox()||platform$1.browser.isEdge()?direction.otherRetry(bridge,box):platform$1.browser.isIE()?direction.ieRetry(bridge,box):Option.none()},tryCursor=function(bridge,isRoot,element,offset,direction){return $_411ytop5jdud7cdx_getBoxAt(bridge,element,offset).bind(function(box){return tryAt(bridge,direction,box)})},$_3eldwjp3jdud7cdm_handle=function(bridge,isRoot,direction){return function(bridge,isRoot,direction){return bridge.getSelection().bind(function(sel){return $_2cmmn6pdjdud7cfc_tryBr(isRoot,sel.finish(),sel.foffset(),direction).fold(function(){return Option.some($_9zt1gvpejdud7cft.point(sel.finish(),sel.foffset()))},function(brNeighbour){var range=bridge.fromSitus(brNeighbour),analysis=$_2yfkcupcjdud7cf3.verify(bridge,sel.finish(),sel.foffset(),range.finish(),range.foffset(),direction.failure,isRoot);return $_2cmmn6pdjdud7cfc_process(analysis)})})}(bridge,isRoot,direction).bind(function(spot){return scan(bridge,isRoot,spot.element(),spot.offset(),direction,20).map(bridge.fromSitus)})},$_6gkvmfpgjdud7cg4_ancestor=function(scope,predicate,isRoot){return $_70n3lxkwjdud7bp4.ancestor(scope,predicate,isRoot).isSome()},detection=$_e4jb8lkejdud7bnr.detect(),simulate=function(bridge,isRoot,direction,initial,anchor){return $_a3r4h1kvjdud7bp3.closest(initial,"td,th",isRoot).bind(function(start){return $_a3r4h1kvjdud7bp3.closest(start,"table",isRoot).bind(function(table){return function(elem,table){return $_6gkvmfpgjdud7cg4_ancestor(elem,function(e){return $_9s8a4jk7jdud7bmw.parent(e).exists(function(p){return $_6nkapzk9jdud7bn7.eq(p,table)})})}(anchor,table)?$_3eldwjp3jdud7cdm_handle(bridge,isRoot,direction).bind(function(range){return $_a3r4h1kvjdud7bp3.closest(range.finish(),"td,th",isRoot).map(function(finish){return{start:$_e8r7mrjsjdud7bkx.constant(start),finish:$_e8r7mrjsjdud7bkx.constant(finish),range:$_e8r7mrjsjdud7bkx.constant(range)}})}):Option.none()})})},$_fwxxdvp2jdud7ccy_navigate=function(bridge,isRoot,direction,initial,anchor,precheck){return detection.browser.isIE()?Option.none():precheck(initial,isRoot).orThunk(function(){return simulate(bridge,isRoot,direction,initial,anchor).map(function(info){var range=info.range();return $_cvcdnbowjdud7cbw.response(Option.some($_50qw0dozjdud7ccb.makeSitus(range.start(),range.soffset(),range.finish(),range.foffset())),!0)})})},$_fwxxdvp2jdud7ccy_select=function(bridge,container,isRoot,direction,initial,anchor,selectRange){return simulate(bridge,isRoot,direction,initial,anchor).bind(function(info){return $_a5kpzap1jdud7ccp.detect(container,isRoot,info.start(),info.finish(),selectRange)})},$_fwxxdvp2jdud7ccy_firstUpCheck=function(initial,isRoot){return $_a3r4h1kvjdud7bp3.closest(initial,"tr",isRoot).bind(function(startRow){return $_a3r4h1kvjdud7bp3.closest(startRow,"table",isRoot).bind(function(table){var rows=$_b4a6sqksjdud7bov.descendants(table,"tr");return $_6nkapzk9jdud7bn7.eq(startRow,rows[0])?$_7i72qgp7jdud7cef.seekLeft(table,function(element){return $_b7vkeyl6jdud7bqu.last(element).isSome()},isRoot).map(function(last){var lastOffset=$_7y1bjwl7jdud7bqw_getEnd(last);return $_cvcdnbowjdud7cbw.response(Option.some($_50qw0dozjdud7ccb.makeSitus(last,lastOffset,last,lastOffset)),!0)}):Option.none()})})},$_fwxxdvp2jdud7ccy_lastDownCheck=function(initial,isRoot){return $_a3r4h1kvjdud7bp3.closest(initial,"tr",isRoot).bind(function(startRow){return $_a3r4h1kvjdud7bp3.closest(startRow,"table",isRoot).bind(function(table){var rows=$_b4a6sqksjdud7bov.descendants(table,"tr");return $_6nkapzk9jdud7bn7.eq(startRow,rows[rows.length-1])?$_7i72qgp7jdud7cef.seekRight(table,function(element){return $_b7vkeyl6jdud7bqu.first(element).isSome()},isRoot).map(function(first){return $_cvcdnbowjdud7cbw.response(Option.some($_50qw0dozjdud7ccb.makeSitus(first,0,first,0)),!0)}):Option.none()})})},findCell=function(target,isRoot){return $_a3r4h1kvjdud7bp3.closest(target,"td,th",isRoot)},$_4t1k61pijdud7cgb={down:{traverse:$_9s8a4jk7jdud7bmw.nextSibling,gather:$_7i72qgp7jdud7cef.after,relative:$_588zi3ogjdud7c9h.before,otherRetry:$_954k06p6jdud7ce3.tryDown,ieRetry:$_954k06p6jdud7ce3.ieTryDown,failure:$_2yfkcupcjdud7cf3.adt.failedDown},up:{traverse:$_9s8a4jk7jdud7bmw.prevSibling,gather:$_7i72qgp7jdud7cef.before,relative:$_588zi3ogjdud7c9h.before,otherRetry:$_954k06p6jdud7ce3.tryUp,ieRetry:$_954k06p6jdud7ce3.ieTryUp,failure:$_2yfkcupcjdud7cf3.adt.failedUp}},rc=$_4vwz6tjvjdud7blm.immutable("rows","cols"),$_8vorfpovjdud7cbi={mouse:function(win,container,isRoot,annotations){var handlers=function MouseSelection(bridge,container,isRoot,annotations){var cursor=Option.none(),clearState=function(){cursor=Option.none()};return{mousedown:function(event){annotations.clear(container),cursor=findCell(event.target(),isRoot)},mouseover:function(event){cursor.each(function(start){annotations.clear(container),findCell(event.target(),isRoot).each(function(finish){$_btb09flejdud7brv.identify(start,finish,isRoot).each(function(cellSel){var boxes=cellSel.boxes().getOr([]);(1<boxes.length||1===boxes.length&&!$_6nkapzk9jdud7bn7.eq(start,finish))&&(annotations.selectRange(container,boxes,cellSel.start(),cellSel.finish()),bridge.selectContents(finish))})})})},mouseup:function(){cursor.each(clearState)}}}(WindowBridge(win),container,isRoot,annotations);return{mousedown:handlers.mousedown,mouseover:handlers.mouseover,mouseup:handlers.mouseup}},keyboard:function(win,container,isRoot,annotations){var bridge=WindowBridge(win),clearToNavigate=function(){return annotations.clear(container),Option.none()};return{keydown:function(event,start,soffset,finish,foffset,direction){var keycode=event.raw().which,shiftKey=!0===event.raw().shiftKey;return $_btb09flejdud7brv.retrieve(container,annotations.selectedSelector()).fold(function(){return $_71t80poxjdud7cby.isDown(keycode)&&shiftKey?$_e8r7mrjsjdud7bkx.curry($_fwxxdvp2jdud7ccy_select,bridge,container,isRoot,$_4t1k61pijdud7cgb.down,finish,start,annotations.selectRange):$_71t80poxjdud7cby.isUp(keycode)&&shiftKey?$_e8r7mrjsjdud7bkx.curry($_fwxxdvp2jdud7ccy_select,bridge,container,isRoot,$_4t1k61pijdud7cgb.up,finish,start,annotations.selectRange):$_71t80poxjdud7cby.isDown(keycode)?$_e8r7mrjsjdud7bkx.curry($_fwxxdvp2jdud7ccy_navigate,bridge,isRoot,$_4t1k61pijdud7cgb.down,finish,start,$_fwxxdvp2jdud7ccy_lastDownCheck):$_71t80poxjdud7cby.isUp(keycode)?$_e8r7mrjsjdud7bkx.curry($_fwxxdvp2jdud7ccy_navigate,bridge,isRoot,$_4t1k61pijdud7cgb.up,finish,start,$_fwxxdvp2jdud7ccy_firstUpCheck):Option.none},function(selected){var update=function(attempts){return function(){return $_a6p6d7mgjdud7bym_findMap(attempts,function(delta){return $_a5kpzap1jdud7ccp.update(delta.rows(),delta.cols(),container,selected,annotations)}).fold(function(){return $_btb09flejdud7brv.getEdges(container,annotations.firstSelectedSelector(),annotations.lastSelectedSelector()).map(function(edges){var relative=$_71t80poxjdud7cby.isDown(keycode)||direction.isForward(keycode)?$_588zi3ogjdud7c9h.after:$_588zi3ogjdud7c9h.before;return bridge.setRelativeSelection($_588zi3ogjdud7c9h.on(edges.first(),0),relative(edges.table())),annotations.clear(container),$_cvcdnbowjdud7cbw.response(Option.none(),!0)})},function(_){return Option.some($_cvcdnbowjdud7cbw.response(Option.none(),!0))})}};return $_71t80poxjdud7cby.isDown(keycode)&&shiftKey?update([rc(1,0)]):$_71t80poxjdud7cby.isUp(keycode)&&shiftKey?update([rc(-1,0)]):direction.isBackward(keycode)&&shiftKey?update([rc(0,-1),rc(-1,0)]):direction.isForward(keycode)&&shiftKey?update([rc(0,1),rc(1,0)]):$_71t80poxjdud7cby.isNavigation(keycode)&&!1===shiftKey?clearToNavigate:Option.none})()},keyup:function(event,start,soffset,finish,foffset){return $_btb09flejdud7brv.retrieve(container,annotations.selectedSelector()).fold(function(){var keycode=event.raw().which;return 0==(!0===event.raw().shiftKey)?Option.none():$_71t80poxjdud7cby.isNavigation(keycode)?$_a5kpzap1jdud7ccp.sync(container,isRoot,start,soffset,finish,foffset,annotations.selectRange):Option.none()},Option.none)}}}},$_4d5njepljdud7cgr_remove=function(element,classes){$_2b6dlmjqjdud7bko.each(classes,function(x){$_119fsomrjdud7c0i.remove(element,x)})},$_en9xukpkjdud7cgp_addClass=function(clazz){return function(element){$_119fsomrjdud7c0i.add(element,clazz)}},$_en9xukpkjdud7cgp_removeClasses=function(classes){return function(element){$_4d5njepljdud7cgr_remove(element,classes)}},$_8lo57jpjjdud7cgh={byClass:function(ephemera){var addSelectionClass=$_en9xukpkjdud7cgp_addClass(ephemera.selected()),removeSelectionClasses=$_en9xukpkjdud7cgp_removeClasses([ephemera.selected(),ephemera.lastSelected(),ephemera.firstSelected()]),clear=function(container){var sels=$_b4a6sqksjdud7bov.descendants(container,ephemera.selectedSelector());$_2b6dlmjqjdud7bko.each(sels,removeSelectionClasses)};return{clear:clear,selectRange:function(container,cells,start,finish){clear(container),$_2b6dlmjqjdud7bko.each(cells,addSelectionClass),$_119fsomrjdud7c0i.add(start,ephemera.firstSelected()),$_119fsomrjdud7c0i.add(finish,ephemera.lastSelected())},selectedSelector:ephemera.selectedSelector,firstSelectedSelector:ephemera.firstSelectedSelector,lastSelectedSelector:ephemera.lastSelectedSelector}},byAttr:function(ephemera){var removeSelectionAttributes=function(element){$_1ei337kqjdud7bom.remove(element,ephemera.selected()),$_1ei337kqjdud7bom.remove(element,ephemera.firstSelected()),$_1ei337kqjdud7bom.remove(element,ephemera.lastSelected())},addSelectionAttribute=function(element){$_1ei337kqjdud7bom.set(element,ephemera.selected(),"1")},clear=function(container){var sels=$_b4a6sqksjdud7bov.descendants(container,ephemera.selectedSelector());$_2b6dlmjqjdud7bko.each(sels,removeSelectionAttributes)};return{clear:clear,selectRange:function(container,cells,start,finish){clear(container),$_2b6dlmjqjdud7bko.each(cells,addSelectionAttribute),$_1ei337kqjdud7bom.set(start,ephemera.firstSelected(),"1"),$_1ei337kqjdud7bom.set(finish,ephemera.lastSelected(),"1")},selectedSelector:ephemera.selectedSelector,firstSelectedSelector:ephemera.firstSelectedSelector,lastSelectedSelector:ephemera.lastSelectedSelector}}};function CellSelection$1(editor,lazyResize){var handlerStruct=$_4vwz6tjvjdud7blm.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),handlers=Option.none(),annotations=$_8lo57jpjjdud7cgh.byAttr($_f2i0m2lqjdud7buf);return editor.on("init",function(e){var win=editor.getWin(),body=$_6xec71n8jdud7c2o.getBody(editor),isRoot=$_6xec71n8jdud7c2o.getIsRoot(editor),mouseHandlers=$_8vorfpovjdud7cbi.mouse(win,body,isRoot,annotations),keyHandlers=$_8vorfpovjdud7cbi.keyboard(win,body,isRoot,annotations),handleResponse=function(event,response){(function(event){return!0===event.raw().shiftKey})(event)&&(response.kill()&&event.kill(),response.selection().each(function(ns){var relative=$_2twlhjofjdud7c9d.relative(ns.start(),ns.finish()),rng=$_ddvh1soljdud7ca6.asLtrRange(win,relative);editor.selection.setRng(rng)}))},keyup=function(event){var wrappedEvent=wrapEvent(event);if(wrappedEvent.raw().shiftKey&&$_71t80poxjdud7cby.isNavigation(wrappedEvent.raw().which)){var rng=editor.selection.getRng(),start=$_2q3j53k5jdud7bmr.fromDom(rng.startContainer),end=$_2q3j53k5jdud7bmr.fromDom(rng.endContainer);keyHandlers.keyup(wrappedEvent,start,rng.startOffset,end,rng.endOffset).each(function(response){handleResponse(wrappedEvent,response)})}},checkLast=function(last){return!($_1ei337kqjdud7bom.has(last,"data-mce-bogus")||"br"===$_1102zvkrjdud7bou.name(last)||$_1102zvkrjdud7bou.isText(last)&&0===$_cvxenhl8jdud7bqz.get(last).length)},keydown=function(event){var body,lastChild,getPrevLast,wrappedEvent=wrapEvent(event);lazyResize().each(function(resize){resize.hideBars()}),40===event.which&&(body=$_2q3j53k5jdud7bmr.fromDom(editor.getBody()),lastChild=$_9s8a4jk7jdud7bmw.lastChild(body),getPrevLast=function(last){return $_9s8a4jk7jdud7bmw.prevSibling(last).bind(function(prevLast){return checkLast(prevLast)?Option.some(prevLast):getPrevLast(prevLast)})},lastChild.bind(function(last){return checkLast(last)?Option.some(last):getPrevLast(last)})).each(function(last){"table"===$_1102zvkrjdud7bou.name(last)&&(getForcedRootBlock(editor)?editor.dom.add(editor.getBody(),getForcedRootBlock(editor),getForcedRootBlockAttrs(editor),"<br/>"):editor.dom.add(editor.getBody(),"br"))});var rng=editor.selection.getRng(),startContainer=$_2q3j53k5jdud7bmr.fromDom(editor.selection.getStart()),start=$_2q3j53k5jdud7bmr.fromDom(rng.startContainer),end=$_2q3j53k5jdud7bmr.fromDom(rng.endContainer),direction=$_eqsr8dn9jdud7c2r.directionAt(startContainer).isRtl()?$_71t80poxjdud7cby.rtl:$_71t80poxjdud7cby.ltr;keyHandlers.keydown(wrappedEvent,start,rng.startOffset,end,rng.endOffset,direction).each(function(response){handleResponse(wrappedEvent,response)}),lazyResize().each(function(resize){resize.showBars()})},wrapEvent=function(event){var target=$_2q3j53k5jdud7bmr.fromDom(event.target),stop=function(){event.stopPropagation()},prevent=function(){event.preventDefault()},kill=$_e8r7mrjsjdud7bkx.compose(prevent,stop);return{target:$_e8r7mrjsjdud7bkx.constant(target),x:$_e8r7mrjsjdud7bkx.constant(event.x),y:$_e8r7mrjsjdud7bkx.constant(event.y),stop:stop,prevent:prevent,kill:kill,raw:$_e8r7mrjsjdud7bkx.constant(event)}},isLeftMouse=function(raw){return 0===raw.button},mouseDown=function(e){isLeftMouse(e)&&mouseHandlers.mousedown(wrapEvent(e))},mouseOver=function(e){var raw;(void 0===(raw=e).buttons||0!=(1&raw.buttons))&&mouseHandlers.mouseover(wrapEvent(e))},mouseUp=function(e){isLeftMouse&&mouseHandlers.mouseup(wrapEvent(e))};editor.on("mousedown",mouseDown),editor.on("mouseover",mouseOver),editor.on("mouseup",mouseUp),editor.on("keyup",keyup),editor.on("keydown",keydown),editor.on("nodechange",function(){var sel=editor.selection,start=$_2q3j53k5jdud7bmr.fromDom(sel.getStart()),end=$_2q3j53k5jdud7bmr.fromDom(sel.getEnd()),startTable=$_e5b08wk2jdud7bm5.table(start),endTable=$_e5b08wk2jdud7bm5.table(end);startTable.bind(function(tableStart){return endTable.bind(function(tableEnd){return $_6nkapzk9jdud7bn7.eq(tableStart,tableEnd)?Option.some(!0):Option.none()})}).fold(function(){annotations.clear(body)},$_e8r7mrjsjdud7bkx.noop)}),handlers=Option.some(handlerStruct({mousedown:mouseDown,mouseover:mouseOver,mouseup:mouseUp,keyup:keyup,keydown:keydown}))}),{clear:annotations.clear,destroy:function(){handlers.each(function(handlers){})}}}var each$4=Tools.each,$_adjhh7pnjdud7cgy={addButtons:function(editor){var menuItems=[];function cmd(command){return function(){editor.execCommand(command)}}each$4("inserttable tableprops deletetable | cell row column".split(" "),function(name){"|"===name?menuItems.push({text:"-"}):menuItems.push(editor.menuItems[name])}),editor.addButton("table",{type:"menubutton",title:"Table",menu:menuItems}),editor.addButton("tableprops",{title:"Table properties",onclick:$_e8r7mrjsjdud7bkx.curry($_bqump4nkjdud7c4d_open,editor,!0),icon:"table"}),editor.addButton("tabledelete",{title:"Delete table",onclick:cmd("mceTableDelete")}),editor.addButton("tablecellprops",{title:"Cell properties",onclick:cmd("mceTableCellProps")}),editor.addButton("tablemergecells",{title:"Merge cells",onclick:cmd("mceTableMergeCells")}),editor.addButton("tablesplitcells",{title:"Split cell",onclick:cmd("mceTableSplitCells")}),editor.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:cmd("mceTableInsertRowBefore")}),editor.addButton("tableinsertrowafter",{title:"Insert row after",onclick:cmd("mceTableInsertRowAfter")}),editor.addButton("tabledeleterow",{title:"Delete row",onclick:cmd("mceTableDeleteRow")}),editor.addButton("tablerowprops",{title:"Row properties",onclick:cmd("mceTableRowProps")}),editor.addButton("tablecutrow",{title:"Cut row",onclick:cmd("mceTableCutRow")}),editor.addButton("tablecopyrow",{title:"Copy row",onclick:cmd("mceTableCopyRow")}),editor.addButton("tablepasterowbefore",{title:"Paste row before",onclick:cmd("mceTablePasteRowBefore")}),editor.addButton("tablepasterowafter",{title:"Paste row after",onclick:cmd("mceTablePasteRowAfter")}),editor.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:cmd("mceTableInsertColBefore")}),editor.addButton("tableinsertcolafter",{title:"Insert column after",onclick:cmd("mceTableInsertColAfter")}),editor.addButton("tabledeletecol",{title:"Delete column",onclick:cmd("mceTableDeleteCol")})},addToolbars:function(editor){var toolbar=function(editor){var toolbar=editor.getParam("table_toolbar",defaultTableToolbar);return""===toolbar||!1===toolbar?[]:$_duf7n8jzjdud7blu.isString(toolbar)?toolbar.split(/[ ,]/):$_duf7n8jzjdud7blu.isArray(toolbar)?toolbar:[]}(editor);0<toolbar.length&&editor.addContextToolbar(function(table){return editor.dom.is(table,"table")&&editor.getBody().contains(table)},toolbar.join(" "))}},$_dr1p3spojdud7ch3={addMenuItems:function(editor,selections){var targets=Option.none(),tableCtrls=[],cellCtrls=[],mergeCtrls=[],unmergeCtrls=[],noTargetDisable=function(ctrl){ctrl.disabled(!0)},ctrlEnable=function(ctrl){ctrl.disabled(!1)},pushTable=function(){var self=this;tableCtrls.push(self),targets.fold(function(){noTargetDisable(self)},function(targets){ctrlEnable(self)})},pushCell=function(){var self=this;cellCtrls.push(self),targets.fold(function(){noTargetDisable(self)},function(targets){ctrlEnable(self)})};editor.on("init",function(){editor.on("nodechange",function(e){var cellOpt=Option.from(editor.dom.getParent(editor.selection.getStart(),"th,td"));(targets=cellOpt.bind(function(cellDom){var cell=$_2q3j53k5jdud7bmr.fromDom(cellDom);return $_e5b08wk2jdud7bm5.table(cell).map(function(table){return $_50voclbjdud7br8.forMenu(selections,table,cell)})})).fold(function(){$_2b6dlmjqjdud7bko.each(tableCtrls,noTargetDisable),$_2b6dlmjqjdud7bko.each(cellCtrls,noTargetDisable),$_2b6dlmjqjdud7bko.each(mergeCtrls,noTargetDisable),$_2b6dlmjqjdud7bko.each(unmergeCtrls,noTargetDisable)},function(targets){$_2b6dlmjqjdud7bko.each(tableCtrls,ctrlEnable),$_2b6dlmjqjdud7bko.each(cellCtrls,ctrlEnable),$_2b6dlmjqjdud7bko.each(mergeCtrls,function(mergeCtrl){mergeCtrl.disabled(targets.mergable().isNone())}),$_2b6dlmjqjdud7bko.each(unmergeCtrls,function(unmergeCtrl){unmergeCtrl.disabled(targets.unmergable().isNone())})})})});var selectGrid=function(editor,tx,ty,control){var x,y,focusCell,cell,active,table=control.getEl().getElementsByTagName("table")[0],rtl=control.isRtl()||"tl-tr"===control.parent().rel;for(table.nextSibling.innerHTML=tx+1+" x "+(ty+1),rtl&&(tx=9-tx),y=0;y<10;y++)for(x=0;x<10;x++)cell=table.rows[y].childNodes[x].firstChild,active=(rtl?tx<=x:x<=tx)&&y<=ty,editor.dom.toggleClass(cell,"mce-active",active),active&&(focusCell=cell);return focusCell.parentNode},insertTable=!1===function(editor){return editor.getParam("table_grid",!0,"boolean")}(editor)?{text:"Table",icon:"table",context:"table",onclick:$_e8r7mrjsjdud7bkx.curry($_bqump4nkjdud7c4d_open,editor)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),$_bqump4nkjdud7c4d_open(editor))},onshow:function(){selectGrid(editor,0,0,this.menu.items()[0])},onhide:function(){var elements=this.menu.items()[0].getEl().getElementsByTagName("a");editor.dom.removeClass(elements,"mce-active"),editor.dom.addClass(elements[0],"mce-active")},menu:[{type:"container",html:function(){var html="";html='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var y=0;y<10;y++){html+="<tr>";for(var x=0;x<10;x++)html+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*y+x)+'" href="#" data-mce-x="'+x+'" data-mce-y="'+y+'"></a></td>';html+="</tr>"}return html+="</table>",html+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var x,y,target=e.target;"A"===target.tagName.toUpperCase()&&(x=parseInt(target.getAttribute("data-mce-x"),10),y=parseInt(target.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(x=9-x),x===this.lastX&&y===this.lastY||(selectGrid(editor,x,y,e.control),this.lastX=x,this.lastY=y))},onclick:function(e){var self=this;"A"===e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),self.parent().cancel(),editor.undoManager.transact(function(){$_n4pzbnmjdud7c4k_insert(editor,self.lastX+1,self.lastY+1)}),editor.addVisual())}}]};function cmd(command){return function(){editor.execCommand(command)}}var tableProperties={text:"Table properties",context:"table",onPostRender:pushTable,onclick:$_e8r7mrjsjdud7bkx.curry($_bqump4nkjdud7c4d_open,editor,!0)},deleteTable={text:"Delete table",context:"table",onPostRender:pushTable,cmd:"mceTableDelete"},row={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:cmd("mceTableInsertRowBefore"),onPostRender:pushCell},{text:"Insert row after",onclick:cmd("mceTableInsertRowAfter"),onPostRender:pushCell},{text:"Delete row",onclick:cmd("mceTableDeleteRow"),onPostRender:pushCell},{text:"Row properties",onclick:cmd("mceTableRowProps"),onPostRender:pushCell},{text:"-"},{text:"Cut row",onclick:cmd("mceTableCutRow"),onPostRender:pushCell},{text:"Copy row",onclick:cmd("mceTableCopyRow"),onPostRender:pushCell},{text:"Paste row before",onclick:cmd("mceTablePasteRowBefore"),onPostRender:pushCell},{text:"Paste row after",onclick:cmd("mceTablePasteRowAfter"),onPostRender:pushCell}]},column={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:cmd("mceTableInsertColBefore"),onPostRender:pushCell},{text:"Insert column after",onclick:cmd("mceTableInsertColAfter"),onPostRender:pushCell},{text:"Delete column",onclick:cmd("mceTableDeleteCol"),onPostRender:pushCell}]},cell={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:cmd("mceTableCellProps"),onPostRender:pushCell},{text:"Merge cells",onclick:cmd("mceTableMergeCells"),onPostRender:function(){var self=this;mergeCtrls.push(self),targets.fold(function(){noTargetDisable(self)},function(targets){self.disabled(targets.mergable().isNone())})}},{text:"Split cell",onclick:cmd("mceTableSplitCells"),onPostRender:function(){var self=this;unmergeCtrls.push(self),targets.fold(function(){noTargetDisable(self)},function(targets){self.disabled(targets.unmergable().isNone())})}}]};editor.addMenuItem("inserttable",insertTable),editor.addMenuItem("tableprops",tableProperties),editor.addMenuItem("deletetable",deleteTable),editor.addMenuItem("row",row),editor.addMenuItem("column",column),editor.addMenuItem("cell",cell)}},getApi=function(editor,clipboardRows){return{insertTable:function(columns,rows){return $_n4pzbnmjdud7c4k_insert(editor,columns,rows)},setClipboardRows:function(rows){return function(rows,clipboardRows){var sugarRows=$_2b6dlmjqjdud7bko.map(rows,$_2q3j53k5jdud7bmr.fromDom);clipboardRows.set(Option.from(sugarRows))}(rows,clipboardRows)},getClipboardRows:function(){return function(clipboardRows){return clipboardRows.get().fold(function(){},function(rows){return $_2b6dlmjqjdud7bko.map(rows,function(row){return row.dom()})})}(clipboardRows)}}};PluginManager.add("table",function Plugin(editor){var resizeHandler=ResizeHandler(editor),cellSelection=CellSelection$1(editor,resizeHandler.lazyResize),actions=function TableActions(editor,lazyWire){var isTableBody=function(editor){return"table"===$_1102zvkrjdud7bou.name($_6xec71n8jdud7c2o.getBody(editor))},cloneFormats=getCloneElements(editor),execute=function(operation,guard,mutate,lazyWire){return function(table,target){var dataStyleCells=$_b4a6sqksjdud7bov.descendants(table,"td[data-mce-style],th[data-mce-style]");$_2b6dlmjqjdud7bko.each(dataStyleCells,function(cell){$_1ei337kqjdud7bom.remove(cell,"data-mce-style")});var wire=lazyWire(),doc=$_2q3j53k5jdud7bmr.fromDom(editor.getDoc()),direction=TableDirection($_eqsr8dn9jdud7c2r.directionAt),generators=$_c3joicl4jdud7bqc.cellOperations(mutate,doc,cloneFormats);return guard(table)?operation(wire,table,target,generators,direction).bind(function(result){return $_2b6dlmjqjdud7bko.each(result.newRows(),function(row){fireNewRow(editor,row.dom())}),$_2b6dlmjqjdud7bko.each(result.newCells(),function(cell){fireNewCell(editor,cell.dom())}),result.cursor().map(function(cell){var rng=editor.dom.createRng();return rng.setStart(cell.dom(),0),rng.setEnd(cell.dom(),0),rng})}):Option.none()}};return{deleteRow:execute($_a50jw7m7jdud7bwm.eraseRows,function(table){var size=$_eqfbxym6jdud7bwj.getGridSize(table);return!1===isTableBody(editor)||1<size.rows()},$_e8r7mrjsjdud7bkx.noop,lazyWire),deleteColumn:execute($_a50jw7m7jdud7bwm.eraseColumns,function(table){var size=$_eqfbxym6jdud7bwj.getGridSize(table);return!1===isTableBody(editor)||1<size.columns()},$_e8r7mrjsjdud7bkx.noop,lazyWire),insertRowsBefore:execute($_a50jw7m7jdud7bwm.insertRowsBefore,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),insertRowsAfter:execute($_a50jw7m7jdud7bwm.insertRowsAfter,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),insertColumnsBefore:execute($_a50jw7m7jdud7bwm.insertColumnsBefore,$_e8r7mrjsjdud7bkx.always,$_dxd1kqlujdud7bv0.halve,lazyWire),insertColumnsAfter:execute($_a50jw7m7jdud7bwm.insertColumnsAfter,$_e8r7mrjsjdud7bkx.always,$_dxd1kqlujdud7bv0.halve,lazyWire),mergeCells:execute($_a50jw7m7jdud7bwm.mergeCells,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),unmergeCells:execute($_a50jw7m7jdud7bwm.unmergeCells,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),pasteRowsBefore:execute($_a50jw7m7jdud7bwm.pasteRowsBefore,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),pasteRowsAfter:execute($_a50jw7m7jdud7bwm.pasteRowsAfter,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire),pasteCells:execute($_a50jw7m7jdud7bwm.pasteCells,$_e8r7mrjsjdud7bkx.always,$_e8r7mrjsjdud7bkx.noop,lazyWire)}}(editor,resizeHandler.lazyWire),selections=function Selections(editor){return{get:function(){var body=$_6xec71n8jdud7c2o.getBody(editor);return $_jbi15ldjdud7bri.retrieve(body,$_f2i0m2lqjdud7buf.selectedSelector()).fold(function(){return void 0===editor.selection.getStart()?$_4ns5llrjdud7bui.none():$_4ns5llrjdud7bui.single(editor.selection)},function(cells){return $_4ns5llrjdud7bui.multiple(cells)})}}}(editor),clipboardRows=Cell(Option.none());return $_3ladizndjdud7c36.registerCommands(editor,actions,cellSelection,selections,clipboardRows),$_4j7ogljpjdud7bkb.registerEvents(editor,selections,actions,cellSelection),$_dr1p3spojdud7ch3.addMenuItems(editor,selections),$_adjhh7pnjdud7cgy.addButtons(editor),$_adjhh7pnjdud7cgy.addToolbars(editor),editor.on("PreInit",function(){editor.serializer.addTempAttr($_f2i0m2lqjdud7buf.firstSelected()),editor.serializer.addTempAttr($_f2i0m2lqjdud7buf.lastSelected())}),hasTabNavigation(editor)&&editor.on("keydown",function(e){$_fmb5mnocjdud7c8r.handle(e,editor,actions,resizeHandler.lazyWire)}),editor.on("remove",function(){resizeHandler.destroy(),cellSelection.destroy()}),getApi(editor,clipboardRows)})}()},function(module,exports,__webpack_require__){__webpack_require__(93)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$_3946dn9ajdud79zl_getMinWidth=function(editor){return editor.getParam("code_dialog_width",600)},$_3946dn9ajdud79zl_getMinHeight=function(editor){return editor.getParam("code_dialog_height",Math.min(DOMUtils.DOM.getViewPort().h-200,500))},$_avuhvz9cjdud79zm_setContent=function(editor,html){editor.focus(),editor.undoManager.transact(function(){editor.setContent(html)}),editor.selection.setCursorLocation(),editor.nodeChanged()},$_avuhvz9cjdud79zm_getContent=function(editor){return editor.getContent({source_view:!0})},$_acaiv399jdud79zk_open=function(editor){var minWidth=$_3946dn9ajdud79zl_getMinWidth(editor),minHeight=$_3946dn9ajdud79zl_getMinHeight(editor);editor.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:minWidth,minHeight:minHeight,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){$_avuhvz9cjdud79zm_setContent(editor,e.data.code)}}).find("#code").value($_avuhvz9cjdud79zm_getContent(editor))},$_3nj3no98jdud79zi_register=function(editor){editor.addCommand("mceCodeEditor",function(){$_acaiv399jdud79zk_open(editor)})},$_ctff7g9djdud79zn_register=function(editor){editor.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){$_acaiv399jdud79zk_open(editor)}}),editor.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){$_acaiv399jdud79zk_open(editor)}})};PluginManager.add("code",function(editor){return $_3nj3no98jdud79zi_register(editor),$_ctff7g9djdud79zn_register(editor),{}})}()},function(module,exports,__webpack_require__){__webpack_require__(95)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),Color=tinymce.util.Tools.resolve("tinymce.util.Color"),showPreview=function(win,hexColor){win.find("#preview")[0].getEl().style.background=hexColor},setColor=function(win,value){var color=Color(value),rgb=color.toRgb();win.fromJSON({r:rgb.r,g:rgb.g,b:rgb.b,hex:color.toHex().substr(1)}),showPreview(win,color.toHex())},$_9feinm9ujdud7a2n_open=function(editor,callback,value){var win=editor.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:value,onchange:function(){var rgb=this.rgb();win&&(win.find("#r").value(rgb.r),win.find("#g").value(rgb.g),win.find("#b").value(rgb.b),win.find("#hex").value(this.value().substr(1)),showPreview(win,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var name,value,colorPickerCtrl=win.find("colorpicker")[0];if(name=this.name(),value=this.value(),"hex"===name)return setColor(win,value="#"+value),void colorPickerCtrl.value(value);value={r:win.find("#r").value(),g:win.find("#g").value(),b:win.find("#b").value()},colorPickerCtrl.value(value),setColor(win,value)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){callback("#"+win.toJSON().hex)}});setColor(win,value)};PluginManager.add("colorpicker",function(editor){editor.settings.color_picker_callback||(editor.settings.color_picker_callback=function(callback,value){$_9feinm9ujdud7a2n_open(editor,callback,value)})})}()},function(module,exports,__webpack_require__){__webpack_require__(97)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),$_9iahaiq6jdud7d92_getCurrentColor=function(editor,format){var color;return editor.dom.getParents(editor.selection.getStart(),function(elm){var value;(value=elm.style["forecolor"===format?"color":"background-color"])&&(color=value)}),color},$_9iahaiq6jdud7d92_mapColors=function(colorMap){var i,colors=[];for(i=0;i<colorMap.length;i+=2)colors.push({text:colorMap[i+1],color:"#"+colorMap[i]});return colors},$_9iahaiq6jdud7d92_applyFormat=function(editor,format,value){editor.undoManager.transact(function(){editor.focus(),editor.formatter.apply(format,{value:value}),editor.nodeChanged()})},$_9iahaiq6jdud7d92_removeFormat=function(editor,format){editor.undoManager.transact(function(){editor.focus(),editor.formatter.remove(format,{value:null},null,!0),editor.nodeChanged()})},$_62a08jq5jdud7d91_register=function(editor){editor.addCommand("mceApplyTextcolor",function(format,value){$_9iahaiq6jdud7d92_applyFormat(editor,format,value)}),editor.addCommand("mceRemoveTextcolor",function(format){$_9iahaiq6jdud7d92_removeFormat(editor,format)})},DOMUtils=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),defaultColorMap=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],getTextColorMap=function(editor){return editor.getParam("textcolor_map",defaultColorMap)},getTextColorRows=function(editor){return editor.getParam("textcolor_rows",5)},getTextColorCols=function(editor){return editor.getParam("textcolor_cols",8)},getColorPickerCallback=function(editor){return editor.getParam("color_picker_callback",null)},$_d1zsegqajdud7d9c_getForeColorMap=function(editor){return editor.getParam("forecolor_map",getTextColorMap(editor))},$_d1zsegqajdud7d9c_getBackColorMap=function(editor){return editor.getParam("backcolor_map",getTextColorMap(editor))},$_d1zsegqajdud7d9c_getForeColorRows=function(editor){return editor.getParam("forecolor_rows",getTextColorRows(editor))},$_d1zsegqajdud7d9c_getBackColorRows=function(editor){return editor.getParam("backcolor_rows",getTextColorRows(editor))},$_d1zsegqajdud7d9c_getForeColorCols=function(editor){return editor.getParam("forecolor_cols",getTextColorCols(editor))},$_d1zsegqajdud7d9c_getBackColorCols=function(editor){return editor.getParam("backcolor_cols",getTextColorCols(editor))},$_d1zsegqajdud7d9c_getColorPickerCallback=getColorPickerCallback,$_d1zsegqajdud7d9c_hasColorPicker=function(editor){return"function"==typeof getColorPickerCallback(editor)},I18n=tinymce.util.Tools.resolve("tinymce.util.I18n"),$_g54gu6qbjdud7d9e_getHtml=function(cols,rows,colorMap,hasColorPicker){var colors,color,html,last,x,y,i,count=0,id=DOMUtils.DOM.uniqueId("mcearia"),getColorCellHtml=function(color,title){var isNoColor="transparent"===color;return'<td class="mce-grid-cell'+(isNoColor?" mce-colorbtn-trans":"")+'"><div id="'+id+"-"+count+++'" data-mce-color="'+(color||"")+'" role="option" tabIndex="-1" style="'+(color?"background-color: "+color:"")+'" title="'+I18n.translate(title)+'">'+(isNoColor?"&#215;":"")+"</div></td>"};for((colors=$_9iahaiq6jdud7d92_mapColors(colorMap)).push({text:I18n.translate("No color"),color:"transparent"}),html='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',last=colors.length-1,y=0;y<rows;y++){for(html+="<tr>",x=0;x<cols;x++)html+=last<(i=y*cols+x)?"<td></td>":getColorCellHtml((color=colors[i]).color,color.text);html+="</tr>"}if(hasColorPicker){for(html+='<tr><td colspan="'+cols+'" class="mce-custom-color-btn"><div id="'+id+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+id+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+I18n.translate("Custom...")+"</button></div></td></tr>",html+="<tr>",x=0;x<cols;x++)html+=getColorCellHtml("","Custom color");html+="</tr>"}return html+="</tbody></table>"},setDivColor=function setDivColor(div,value){div.style.background=value,div.setAttribute("data-mce-color",value)},onButtonClick=function(editor){return function(e){var ctrl=e.control;ctrl._color?editor.execCommand("mceApplyTextcolor",ctrl.settings.format,ctrl._color):editor.execCommand("mceRemoveTextcolor",ctrl.settings.format)}},onPanelClick=function(editor,cols){return function(e){var value,buttonCtrl=this.parent(),currentColor=$_9iahaiq6jdud7d92_getCurrentColor(editor,buttonCtrl.settings.format),selectColor=function(value){buttonCtrl.hidePanel(),buttonCtrl.color(value),editor.execCommand("mceApplyTextcolor",buttonCtrl.settings.format,value)};DOMUtils.DOM.getParent(e.target,".mce-custom-color-btn")&&(buttonCtrl.hidePanel(),$_d1zsegqajdud7d9c_getColorPickerCallback(editor).call(editor,function(value){var customColorCells,div,i,tableElm=buttonCtrl.panel.getEl().getElementsByTagName("table")[0];for(customColorCells=Tools.map(tableElm.rows[tableElm.rows.length-1].childNodes,function(elm){return elm.firstChild}),i=0;i<customColorCells.length&&(div=customColorCells[i]).getAttribute("data-mce-color");i++);if(i===cols)for(i=0;i<cols-1;i++)setDivColor(customColorCells[i],customColorCells[i+1].getAttribute("data-mce-color"));setDivColor(div,value),selectColor(value)},currentColor)),(value=e.target.getAttribute("data-mce-color"))?(this.lastId&&DOMUtils.DOM.get(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===value?(buttonCtrl.hidePanel(),buttonCtrl.resetColor(),editor.execCommand("mceRemoveTextcolor",buttonCtrl.settings.format)):selectColor(value)):null!==value&&buttonCtrl.hidePanel()}},renderColorPicker=function(editor,foreColor){return function(){var cols=foreColor?$_d1zsegqajdud7d9c_getForeColorCols(editor):$_d1zsegqajdud7d9c_getBackColorCols(editor),rows=foreColor?$_d1zsegqajdud7d9c_getForeColorRows(editor):$_d1zsegqajdud7d9c_getBackColorRows(editor),colorMap=foreColor?$_d1zsegqajdud7d9c_getForeColorMap(editor):$_d1zsegqajdud7d9c_getBackColorMap(editor),hasColorPicker=$_d1zsegqajdud7d9c_hasColorPicker(editor);return $_g54gu6qbjdud7d9e_getHtml(cols,rows,colorMap,hasColorPicker)}},$_36qu4tq7jdud7d96_register=function(editor){editor.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:renderColorPicker(editor,!0),onclick:onPanelClick(editor,$_d1zsegqajdud7d9c_getForeColorCols(editor))},onclick:onButtonClick(editor)}),editor.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:renderColorPicker(editor,!1),onclick:onPanelClick(editor,$_d1zsegqajdud7d9c_getBackColorCols(editor))},onclick:onButtonClick(editor)})};PluginManager.add("textcolor",function(editor){$_62a08jq5jdud7d91_register(editor),$_36qu4tq7jdud7d96_register(editor)})}()},function(module,exports,__webpack_require__){__webpack_require__(99)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),$_470wnubsjdud7abb_register=function(editor){editor.addCommand("InsertHorizontalRule",function(){editor.execCommand("mceInsertContent",!1,"<hr />")})},$_gb3ibbtjdud7abe_register=function(editor){editor.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),editor.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})};PluginManager.add("hr",function(editor){$_470wnubsjdud7abb_register(editor),$_gb3ibbtjdud7abe_register(editor)})}()},function(module,exports,__webpack_require__){__webpack_require__(101)},function(module,exports){!function(){"use strict";var PluginManager=tinymce.util.Tools.resolve("tinymce.PluginManager"),Tools=tinymce.util.Tools.resolve("tinymce.util.Tools"),$_cf7zmabzjdud7abv={hasDimensions:function(editor){return!1!==editor.settings.image_dimensions},hasAdvTab:function(editor){return!0===editor.settings.image_advtab},getPrependUrl:function(editor){return editor.getParam("image_prepend_url","")},getClassList:function(editor){return editor.getParam("image_class_list")},hasDescription:function(editor){return!1!==editor.settings.image_description},hasImageTitle:function(editor){return!0===editor.settings.image_title},hasImageCaption:function(editor){return!0===editor.settings.image_caption},getImageList:function(editor){return editor.getParam("image_list",!1)},hasUploadUrl:function(editor){return editor.getParam("images_upload_url",!1)},hasUploadHandler:function(editor){return editor.getParam("images_upload_handler",!1)},getUploadUrl:function(editor){return editor.getParam("images_upload_url")},getUploadHandler:function(editor){return editor.getParam("images_upload_handler")},getUploadBasePath:function(editor){return editor.getParam("images_upload_base_path")},getUploadCredentials:function(editor){return editor.getParam("images_upload_credentials")}},global="undefined"!=typeof window?window:Function("return this;")(),path=function(parts,scope){for(var o=null!=scope?scope:global,i=0;i<parts.length&&null!=o;++i)o=o[parts[i]];return o},$_3bm13kc3jdud7ac9_resolve=function(p,scope){var parts=p.split(".");return path(parts,scope)},$_fb5y5pc2jdud7ac5={getOrDie:function(name,scope){var actual=function(name,scope){return $_3bm13kc3jdud7ac9_resolve(name,scope)}(name,scope);if(null==actual)throw name+" not available on this browser";return actual}};function FileReader(){return new($_fb5y5pc2jdud7ac5.getOrDie("FileReader"))}var Promise=tinymce.util.Tools.resolve("tinymce.util.Promise"),XHR=tinymce.util.Tools.resolve("tinymce.util.XHR"),parseIntAndGetMax=function(val1,val2){return Math.max(parseInt(val1,10),parseInt(val2,10))},$_6swyimc0jdud7aby={getImageSize:function(url,callback){var img=document.createElement("img");function done(width,height){img.parentNode&&img.parentNode.removeChild(img),callback({width:width,height:height})}img.onload=function(){done(parseIntAndGetMax(img.width,img.clientWidth),parseIntAndGetMax(img.height,img.clientHeight))},img.onerror=function(){done(0,0)};var style=img.style;style.visibility="hidden",style.position="fixed",style.bottom=style.left="0px",style.width=style.height="auto",document.body.appendChild(img),img.src=url},buildListItems:function(inputList,itemCallback,startItems){return function appendItems(values,output){return output=output||[],Tools.each(values,function(item){var menuItem={text:item.text||item.title};item.menu?menuItem.menu=appendItems(item.menu):(menuItem.value=item.value,itemCallback(menuItem)),output.push(menuItem)}),output}(inputList,startItems||[])},removePixelSuffix:function(value){return value&&(value=value.replace(/px$/,"")),value},addPixelSuffix:function(value){return 0<value.length&&/^[0-9]+$/.test(value)&&(value+="px"),value},mergeMargins:function(css){if(css.margin){var splitMargin=css.margin.split(" ");switch(splitMargin.length){case 1:css["margin-top"]=css["margin-top"]||splitMargin[0],css["margin-right"]=css["margin-right"]||splitMargin[0],css["margin-bottom"]=css["margin-bottom"]||splitMargin[0],css["margin-left"]=css["margin-left"]||splitMargin[0];break;case 2:css["margin-top"]=css["margin-top"]||splitMargin[0],css["margin-right"]=css["margin-right"]||splitMargin[1],css["margin-bottom"]=css["margin-bottom"]||splitMargin[0],css["margin-left"]=css["margin-left"]||splitMargin[1];break;case 3:css["margin-top"]=css["margin-top"]||splitMargin[0],css["margin-right"]=css["margin-right"]||splitMargin[1],css["margin-bottom"]=css["margin-bottom"]||splitMargin[2],css["margin-left"]=css["margin-left"]||splitMargin[1];break;case 4:css["margin-top"]=css["margin-top"]||splitMargin[0],css["margin-right"]=css["margin-right"]||splitMargin[1],css["margin-bottom"]=css["margin-bottom"]||splitMargin[2],css["margin-left"]=css["margin-left"]||splitMargin[3]}delete css.margin}return css},createImageList:function(editor,callback){var imageList=$_cf7zmabzjdud7abv.getImageList(editor);"string"==typeof imageList?XHR.send({url:imageList,success:function(text){callback(JSON.parse(text))}}):"function"==typeof imageList?imageList(callback):callback(imageList)},waitLoadImage:function(editor,data,imgElm){function selectImage(){imgElm.onload=imgElm.onerror=null,editor.selection&&(editor.selection.select(imgElm),editor.nodeChanged())}imgElm.onload=function(){data.width||data.height||!$_cf7zmabzjdud7abv.hasDimensions(editor)||editor.dom.setAttribs(imgElm,{width:imgElm.clientWidth,height:imgElm.clientHeight}),selectImage()},imgElm.onerror=selectImage},blobToDataUri:function(blob){return new Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(FileReader.error.message)},reader.readAsDataURL(blob)})}},$_5ibzagc7jdud7acc={makeTab:function(editor,updateStyle){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:function(editor){return function(evt){var dom=editor.dom,rootControl=evt.control.rootControl;if($_cf7zmabzjdud7abv.hasAdvTab(editor)){var data=rootControl.toJSON(),css=dom.parseStyle(data.style);rootControl.find("#vspace").value(""),rootControl.find("#hspace").value(""),((css=$_6swyimc0jdud7aby.mergeMargins(css))["margin-top"]&&css["margin-bottom"]||css["margin-right"]&&css["margin-left"])&&(css["margin-top"]===css["margin-bottom"]?rootControl.find("#vspace").value($_6swyimc0jdud7aby.removePixelSuffix(css["margin-top"])):rootControl.find("#vspace").value(""),css["margin-right"]===css["margin-left"]?rootControl.find("#hspace").value($_6swyimc0jdud7aby.removePixelSuffix(css["margin-right"])):rootControl.find("#hspace").value("")),css["border-width"]&&rootControl.find("#border").value($_6swyimc0jdud7aby.removePixelSuffix(css["border-width"])),rootControl.find("#style").value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))))}}}(editor)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(evt){updateStyle(editor,evt.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(evt){updateStyle(editor,evt.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}}},doSyncSize=function(widthCtrl,heightCtrl){widthCtrl.state.set("oldVal",widthCtrl.value()),heightCtrl.state.set("oldVal",heightCtrl.value())},doSizeControls=function(win,f){var widthCtrl=win.find("#width")[0],heightCtrl=win.find("#height")[0],constrained=win.find("#constrain")[0];widthCtrl&&heightCtrl&&constrained&&f(widthCtrl,heightCtrl,constrained.checked())},doUpdateSize=function(widthCtrl,heightCtrl,isContrained){var oldWidth=widthCtrl.state.get("oldVal"),oldHeight=heightCtrl.state.get("oldVal"),newWidth=widthCtrl.value(),newHeight=heightCtrl.value();isContrained&&oldWidth&&oldHeight&&newWidth&&newHeight&&(newWidth!==oldWidth?(newHeight=Math.round(newWidth/oldWidth*newHeight),isNaN(newHeight)||heightCtrl.value(newHeight)):(newWidth=Math.round(newHeight/oldHeight*newWidth),isNaN(newWidth)||widthCtrl.value(newWidth))),doSyncSize(widthCtrl,heightCtrl)},updateSize=function(win){doSizeControls(win,doUpdateSize)},$_1e8ttpc9jdud7acj={createUi:function(){var recalcSize=function(evt){updateSize(evt.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:recalcSize,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:recalcSize,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(win){doSizeControls(win,doSyncSize)},updateSize:updateSize},onBeforeCall=function(evt){evt.meta=evt.control.rootControl.toJSON()},getGeneralItems=function(editor,imageListCtrl){var generalFormItems=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(evt){!function(evt,editor){var srcURL,prependURL,absoluteURLPattern,meta=evt.meta||{},control=evt.control,rootControl=control.rootControl,imageListCtrl=rootControl.find("#image-list")[0];imageListCtrl&&imageListCtrl.value(editor.convertURL(control.value(),"src")),Tools.each(meta,function(value,key){rootControl.find("#"+key).value(value)}),meta.width||meta.height||(srcURL=editor.convertURL(control.value(),"src"),prependURL=$_cf7zmabzjdud7abv.getPrependUrl(editor),absoluteURLPattern=new RegExp("^(?:[a-z]+:)?//","i"),prependURL&&!absoluteURLPattern.test(srcURL)&&srcURL.substring(0,prependURL.length)!==prependURL&&(srcURL=prependURL+srcURL),control.value(srcURL),$_6swyimc0jdud7aby.getImageSize(editor.documentBaseURI.toAbsolute(control.value()),function(data){data.width&&data.height&&$_cf7zmabzjdud7abv.hasDimensions(editor)&&(rootControl.find("#width").value(data.width),rootControl.find("#height").value(data.height),$_1e8ttpc9jdud7acj.updateSize(rootControl))}))}(evt,editor)},onbeforecall:onBeforeCall},imageListCtrl];return $_cf7zmabzjdud7abv.hasDescription(editor)&&generalFormItems.push({name:"alt",type:"textbox",label:"Image description"}),$_cf7zmabzjdud7abv.hasImageTitle(editor)&&generalFormItems.push({name:"title",type:"textbox",label:"Image Title"}),$_cf7zmabzjdud7abv.hasDimensions(editor)&&generalFormItems.push($_1e8ttpc9jdud7acj.createUi()),$_cf7zmabzjdud7abv.getClassList(editor)&&generalFormItems.push({name:"class",type:"listbox",label:"Class",values:$_6swyimc0jdud7aby.buildListItems($_cf7zmabzjdud7abv.getClassList(editor),function(item){item.value&&(item.textStyle=function(){return editor.formatter.getCssText({inline:"img",classes:[item.value]})})})}),$_cf7zmabzjdud7abv.hasImageCaption(editor)&&generalFormItems.push({name:"caption",type:"checkbox",label:"Caption"}),generalFormItems},$_5jjgw2c8jdud7acg={makeTab:function(editor,imageListCtrl){return{title:"General",type:"form",items:getGeneralItems(editor,imageListCtrl)}},getGeneralItems:getGeneralItems},url=function(){return $_fb5y5pc2jdud7ac5.getOrDie("URL")},$_dl15iscbjdud7acp_createObjectURL=function(blob){return url().createObjectURL(blob)},$_dl15iscbjdud7acp_revokeObjectURL=function(u){url().revokeObjectURL(u)},Factory=tinymce.util.Tools.resolve("tinymce.ui.Factory"),noop=function(){},pathJoin=function(path1,path2){return path1?path1.replace(/\/$/,"")+"/"+path2.replace(/^\//,""):path2};function Uploader(settings){var defaultHandler=function(blobInfo,success,failure,progress){var xhr,formData;(xhr=new function XMLHttpRequest(){return new($_fb5y5pc2jdud7ac5.getOrDie("XMLHttpRequest"))}).open("POST",settings.url),xhr.withCredentials=settings.credentials,xhr.upload.onprogress=function(e){progress(e.loaded/e.total*100)},xhr.onerror=function(){failure("Image upload failed due to a XHR Transport error. Code: "+xhr.status)},xhr.onload=function(){var json;xhr.status<200||300<=xhr.status?failure("HTTP Error: "+xhr.status):(json=JSON.parse(xhr.responseText))&&"string"==typeof json.location?success(pathJoin(settings.basePath,json.location)):failure("Invalid JSON: "+xhr.responseText)},(formData=new FormData).append("file",blobInfo.blob(),blobInfo.filename()),xhr.send(formData)};return settings=Tools.extend({credentials:!1,handler:defaultHandler},settings),{upload:function(blobInfo){return settings.url||settings.handler!==defaultHandler?function(blobInfo,handler){return new Promise(function(resolve,reject){try{handler(blobInfo,resolve,reject,noop)}catch(ex){reject(ex.message)}})}(blobInfo,settings.handler):Promise.reject("Upload url missing from the settings.")}}}var onFileInput=function(editor){return function(evt){var Throbber=Factory.get("Throbber"),rootControl=evt.control.rootControl,throbber=new Throbber(rootControl.getEl()),file=evt.control.value(),blobUri=$_dl15iscbjdud7acp_createObjectURL(file),uploader=Uploader({url:$_cf7zmabzjdud7abv.getUploadUrl(editor),basePath:$_cf7zmabzjdud7abv.getUploadBasePath(editor),credentials:$_cf7zmabzjdud7abv.getUploadCredentials(editor),handler:$_cf7zmabzjdud7abv.getUploadHandler(editor)}),finalize=function(){throbber.hide(),$_dl15iscbjdud7acp_revokeObjectURL(blobUri)};return throbber.show(),$_6swyimc0jdud7aby.blobToDataUri(file).then(function(dataUrl){var blobInfo=editor.editorUpload.blobCache.create({blob:file,blobUri:blobUri,name:file.name?file.name.replace(/\.[^\.]+$/,""):null,base64:dataUrl.split(",")[1]});return uploader.upload(blobInfo).then(function(url){var src=rootControl.find("#src");return src.value(url),rootControl.find("tabpanel")[0].activateTab(0),src.fire("change"),finalize(),url})}).catch(function(err){editor.windowManager.alert(err),finalize()})}},$_1w6w4wcajdud7acm={makeTab:function(editor){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:".jpg,.jpeg,.png,.gif",onchange:onFileInput(editor)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:".jpg,.jpeg,.png,.gif",height:100,onchange:onFileInput(editor)}]}}};function Dialog(editor){var updateStyle=function(editor,rootControl){if($_cf7zmabzjdud7abv.hasAdvTab(editor)){var dom=editor.dom,data=rootControl.toJSON(),css=dom.parseStyle(data.style);css=$_6swyimc0jdud7aby.mergeMargins(css),data.vspace&&(css["margin-top"]=css["margin-bottom"]=$_6swyimc0jdud7aby.addPixelSuffix(data.vspace)),data.hspace&&(css["margin-left"]=css["margin-right"]=$_6swyimc0jdud7aby.addPixelSuffix(data.hspace)),data.border&&(css["border-width"]=$_6swyimc0jdud7aby.addPixelSuffix(data.border)),data.borderStyle&&(css["border-style"]=data.borderStyle),rootControl.find("#style").value(dom.serializeStyle(dom.parseStyle(dom.serializeStyle(css))))}};function showDialog(imageList){var win,imgElm,figureElm,imageListCtrl,data={},dom=editor.dom;function onSubmitForm(){var figureElm,oldImg;$_1e8ttpc9jdud7acj.updateSize(win),updateStyle(editor,win),(data=Tools.extend(data,win.toJSON())).alt||(data.alt=""),data.title||(data.title=""),""===data.width&&(data.width=null),""===data.height&&(data.height=null),data.style||(data.style=null),data={src:data.src,alt:data.alt,title:data.title,width:data.width,height:data.height,style:data.style,caption:data.caption,class:data.class},editor.undoManager.transact(function(){if(data.src){if(""===data.title&&(data.title=null),imgElm?dom.setAttribs(imgElm,data):(data.id="__mcenew",editor.focus(),editor.selection.setContent(dom.createHTML("img",data)),imgElm=dom.get("__mcenew"),dom.setAttrib(imgElm,"id",null)),editor.editorUpload.uploadImagesAuto(),!1===data.caption&&dom.is(imgElm.parentNode,"figure.image")&&(figureElm=imgElm.parentNode,dom.insertAfter(imgElm,figureElm),dom.remove(figureElm)),!0!==data.caption)$_6swyimc0jdud7aby.waitLoadImage(editor,data,imgElm);else if(!dom.is(imgElm.parentNode,"figure.image")){imgElm=(oldImg=imgElm).cloneNode(!0),(figureElm=dom.create("figure",{class:"image"})).appendChild(imgElm),figureElm.appendChild(dom.create("figcaption",{contentEditable:!0},"Caption")),figureElm.contentEditable=!1;var textBlock=dom.getParent(oldImg,function(node){return editor.schema.getTextBlockElements()[node.nodeName]});textBlock?dom.split(textBlock,oldImg,figureElm):dom.replace(figureElm,oldImg),editor.selection.select(figureElm)}}else if(imgElm){var elm=dom.is(imgElm.parentNode,"figure.image")?imgElm.parentNode:imgElm;dom.remove(elm),editor.focus(),editor.nodeChanged(),dom.isEmpty(editor.getBody())&&(editor.setContent(""),editor.selection.setCursorLocation())}})}if(imgElm=editor.selection.getNode(),(figureElm=dom.getParent(imgElm,"figure.image"))&&(imgElm=dom.select("img",figureElm)[0]),imgElm&&("IMG"!==imgElm.nodeName||imgElm.getAttribute("data-mce-object")||imgElm.getAttribute("data-mce-placeholder"))&&(imgElm=null),imgElm&&(data={src:dom.getAttrib(imgElm,"src"),alt:dom.getAttrib(imgElm,"alt"),title:dom.getAttrib(imgElm,"title"),class:dom.getAttrib(imgElm,"class"),width:dom.getAttrib(imgElm,"width"),height:dom.getAttrib(imgElm,"height"),caption:!!figureElm}),imageList&&(imageListCtrl={type:"listbox",label:"Image list",name:"image-list",values:$_6swyimc0jdud7aby.buildListItems(imageList,function(item){item.value=editor.convertURL(item.value||item.url,"src")},[{text:"None",value:""}]),value:data.src&&editor.convertURL(data.src,"src"),onselect:function(e){var altCtrl=win.find("#alt");(!altCtrl.value()||e.lastControl&&altCtrl.value()===e.lastControl.text())&&altCtrl.value(e.control.text()),win.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){imageListCtrl=this}}),$_cf7zmabzjdud7abv.hasAdvTab(editor)||$_cf7zmabzjdud7abv.hasUploadUrl(editor)||$_cf7zmabzjdud7abv.hasUploadHandler(editor)){var body=[$_5jjgw2c8jdud7acg.makeTab(editor,imageListCtrl)];$_cf7zmabzjdud7abv.hasAdvTab(editor)&&(imgElm&&(imgElm.style.marginLeft&&imgElm.style.marginRight&&imgElm.style.marginLeft===imgElm.style.marginRight&&(data.hspace=$_6swyimc0jdud7aby.removePixelSuffix(imgElm.style.marginLeft)),imgElm.style.marginTop&&imgElm.style.marginBottom&&imgElm.style.marginTop===imgElm.style.marginBottom&&(data.vspace=$_6swyimc0jdud7aby.removePixelSuffix(imgElm.style.marginTop)),imgElm.style.borderWidth&&(data.border=$_6swyimc0jdud7aby.removePixelSuffix(imgElm.style.borderWidth)),data.borderStyle=imgElm.style.borderStyle,data.style=editor.dom.serializeStyle(editor.dom.parseStyle(editor.dom.getAttrib(imgElm,"style")))),body.push($_5ibzagc7jdud7acc.makeTab(editor,updateStyle))),($_cf7zmabzjdud7abv.hasUploadUrl(editor)||$_cf7zmabzjdud7abv.hasUploadHandler(editor))&&body.push($_1w6w4wcajdud7acm.makeTab(editor)),win=editor.windowManager.open({title:"Insert/edit image",data:data,bodyType:"tabpanel",body:body,onSubmit:onSubmitForm})}else win=editor.windowManager.open({title:"Insert/edit image",data:data,body:$_5jjgw2c8jdud7acg.getGeneralItems(editor,imageListCtrl),onSubmit:onSubmitForm});$_1e8ttpc9jdud7acj.syncSize(win)}return{open:function open(){$_6swyimc0jdud7aby.createImageList(editor,showDialog)}}}var $_6wc4qjbwjdud7abl_register=function(editor){editor.addCommand("mceImage",Dialog(editor).open)},hasImageClass=function(node){var className=node.attr("class");return className&&/\bimage\b/.test(className)},toggleContentEditableState=function(state){return function(nodes){for(var node,i=nodes.length,toggleContentEditable=function(node){node.attr("contenteditable",state?"true":null)};i--;)node=nodes[i],hasImageClass(node)&&(node.attr("contenteditable",state?"false":null),Tools.each(node.getAll("figcaption"),toggleContentEditable))}},$_f0xawscfjdud7ad4_setup=function(editor){editor.on("preInit",function(){editor.parser.addNodeFilter("figure",toggleContentEditableState(!0)),editor.serializer.addNodeFilter("figure",toggleContentEditableState(!1))})},$_c2tyrpcgjdud7ad5_register=function(editor){editor.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:Dialog(editor).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),editor.addMenuItem("image",{icon:"image",text:"Image",onclick:Dialog(editor).open,context:"insert",prependToContext:!0})};PluginManager.add("image",function(editor){$_f0xawscfjdud7ad4_setup(editor),$_c2tyrpcgjdud7ad5_register(editor),$_6wc4qjbwjdud7abl_register(editor)})}()},function(module,exports){tinymce.addI18n("ru",{Redo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",Undo:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c",Cut:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",Copy:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",Paste:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c","Select all":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435","New document":"\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",Ok:"\u041e\u043a",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","Visual aids":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0443\u0440\u044b",Bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",Underline:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",Strikethrough:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",Superscript:"\u0412\u0435\u0440\u0445\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",Subscript:"\u041d\u0438\u0436\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","Clear formatting":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442","Align left":"\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Align center":"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","Align right":"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",Justify:"\u041f\u043e \u0448\u0438\u0440\u0438\u043d\u0435","Bullet list":"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Numbered list":"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Decrease indent":"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f","Increase indent":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",Close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",Formats:"\u0424\u043e\u0440\u043c\u0430\u0442","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u044f\u043c\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u0431\u043c\u0435\u043d\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0432\u0438\u0448: Ctrl+X/C/V.",Headers:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438","Header 1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","Header 2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","Header 3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","Header 4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","Header 5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","Header 6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6",Headings:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438","Heading 1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","Heading 2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","Heading 3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","Heading 4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","Heading 5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","Heading 6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6",Div:"\u0411\u043b\u043e\u043a",Pre:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",Code:"\u041a\u043e\u0434",Paragraph:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444",Blockquote:"\u0426\u0438\u0442\u0430\u0442\u0430",Inline:"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435",Blocks:"\u0411\u043b\u043e\u043a\u0438","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430, \u043f\u043e\u043a\u0430 \u043d\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u043e\u043f\u0446\u0438\u044e.","Font Family":"\u0428\u0440\u0438\u0444\u0442","Font Sizes":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",Class:"\u041a\u043b\u0430\u0441\u0441","Browse for an image":"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",OR:"\u0418\u041b\u0418","Drop an image here":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u044e\u0434\u0430",Upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",Block:"\u0411\u043b\u043e\u043a",Align:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",Default:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439",Circle:"\u041e\u043a\u0440\u0443\u0436\u043d\u043e\u0441\u0442\u0438",Disc:"\u041a\u0440\u0443\u0433\u0438",Square:"\u041a\u0432\u0430\u0434\u0440\u0430\u0442\u044b","Lower Alpha":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Lower Greek":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Lower Roman":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435 \u0446\u0438\u0444\u0440\u044b","Upper Alpha":"\u0417\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Upper Roman":"\u0417\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435 \u0446\u0438\u0444\u0440\u044b",Anchor:"\u042f\u043a\u043e\u0440\u044c",Name:"\u0418\u043c\u044f",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 \u0431\u0443\u043a\u0432\u044b, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0442\u0438\u0440\u0435, \u0442\u043e\u0447\u043a\u0438, \u0434\u0432\u043e\u0435\u0442\u043e\u0447\u0438\u044f \u0438\u043b\u0438 \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u044f.","You have unsaved changes are you sure you want to navigate away?":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0439\u0442\u0438?","Restore last draft":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","Special character":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","Source code":"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434","Insert/Edit code sample":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c/\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430",Language:"\u042f\u0437\u044b\u043a","Code sample":"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434",Color:"\u0426\u0432\u0435\u0442",R:"R",G:"G",B:"B","Left to right":"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043b\u0435\u0432\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043e","Right to left":"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u0430 \u043d\u0430\u043b\u0435\u0432\u043e",Emoticons:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043c\u0430\u0439\u043b","Document properties":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",Title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Keywords:"\u041a\u043b\u044e\u0447\u0438\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430",Description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Robots:"\u0420\u043e\u0431\u043e\u0442\u044b",Author:"\u0410\u0432\u0442\u043e\u0440",Encoding:"\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430",Fullscreen:"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",Action:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",Shortcut:"\u042f\u0440\u043b\u044b\u043a",Help:"\u041f\u043e\u043c\u043e\u0449\u044c",Address:"\u0410\u0434\u0440\u0435\u0441","Focus to menubar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u0435\u043d\u044e","Focus to toolbar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","Focus to element path":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435 \u043f\u0443\u0442\u0438","Focus to contextual toolbar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","Insert link (if link plugin activated)":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d link \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Save (if save plugin activated)":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d save \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Find (if searchreplace plugin activated)":"\u041d\u0430\u0439\u0442\u0438 (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d searchreplace \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Plugins installed ({0}):":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0433\u0438\u043d\u044b ({0}):","Premium plugins:":"\u041f\u0440\u0435\u043c\u0438\u0443\u043c \u043f\u043b\u0430\u0433\u0438\u043d\u044b:","Learn more...":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435...","You are using {0}":"\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 {0}",Plugins:"\u041f\u043b\u0430\u0433\u0438\u043d\u044b","Handy Shortcuts":"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438","Horizontal line":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f","Insert/edit image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Image description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",Source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a",Dimensions:"\u0420\u0430\u0437\u043c\u0435\u0440","Constrain proportions":"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0438",General:"\u041e\u0431\u0449\u0435\u0435",Advanced:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435",Style:"\u0421\u0442\u0438\u043b\u044c","Vertical space":"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b","Horizontal space":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b",Border:"\u0420\u0430\u043c\u043a\u0430","Insert image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Image list":"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439","Rotate counterclockwise":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432 \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0438","Rotate clockwise":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0435","Flip vertically":"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438","Flip horizontally":"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438","Edit image":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Image options":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Zoom in":"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u044c","Zoom out":"\u041e\u0442\u0434\u0430\u043b\u0438\u0442\u044c",Crop:"\u041e\u0431\u0440\u0435\u0437\u0430\u0442\u044c",Resize:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440",Orientation:"\u041e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f",Brightness:"\u042f\u0440\u043a\u043e\u0441\u0442\u044c",Sharpen:"\u0427\u0435\u0442\u043a\u043e\u0441\u0442\u044c",Contrast:"\u041a\u043e\u043d\u0442\u0440\u0430\u0441\u0442","Color levels":"\u0426\u0432\u0435\u0442\u043e\u0432\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438",Gamma:"\u0413\u0430\u043c\u043c\u0430",Invert:"\u0418\u043d\u0432\u0435\u0440\u0441\u0438\u044f",Apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",Back:"\u041d\u0430\u0437\u0430\u0434","Insert date/time":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u0442\u0443/\u0432\u0440\u0435\u043c\u044f","Date/time":"\u0414\u0430\u0442\u0430/\u0432\u0440\u0435\u043c\u044f","Insert link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Insert/edit link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Text to display":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",Url:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438",Target:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",None:"\u041d\u0435\u0442","New window":"\u0412 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435","Remove link":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Anchors:"\u042f\u043a\u043e\u0440\u044f",Link:"\u0421\u0441\u044b\u043b\u043a\u0430","Paste or type a link":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 URL \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. \u0412\u044b \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \xabmailto:\xbb?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 URL \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439. \u0412\u044b \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \xabhttp://\xbb?","Link list":"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0441\u044b\u043b\u043e\u043a","Insert video":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Insert/edit video":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Insert/edit media":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Alternative source":"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",Poster:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Paste your embed code below:":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u0448 \u043a\u043e\u0434 \u043d\u0438\u0436\u0435:",Embed:"\u041a\u043e\u0434 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438",Media:"\u0412\u0438\u0434\u0435\u043e","Nonbreaking space":"\u041d\u0435\u0440\u0430\u0437\u0440\u044b\u0432\u043d\u044b\u0439 \u043f\u0440\u043e\u0431\u0435\u043b","Page break":"\u0420\u0430\u0437\u0440\u044b\u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","Paste as text":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0442\u0435\u043a\u0441\u0442",Preview:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",Print:"\u041f\u0435\u0447\u0430\u0442\u044c",Save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",Find:"\u041d\u0430\u0439\u0442\u0438","Replace with":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430",Replace:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c","Replace all":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435",Prev:"\u0412\u0432\u0435\u0440\u0445",Next:"\u0412\u043d\u0438\u0437","Find and replace":"\u041f\u043e\u0438\u0441\u043a \u0438 \u0437\u0430\u043c\u0435\u043d\u0430","Could not find the specified string.":"\u0417\u0430\u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430","Match case":"\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440","Whole words":"\u0421\u043b\u043e\u0432\u043e \u0446\u0435\u043b\u0438\u043a\u043e\u043c",Spellcheck:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Ignore:"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c","Ignore all":"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435",Finish:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","Add to Dictionary":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c","Insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","Table properties":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b","Delete table":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",Cell:"\u042f\u0447\u0435\u0439\u043a\u0430",Row:"\u0421\u0442\u0440\u043e\u043a\u0430",Column:"\u0421\u0442\u043e\u043b\u0431\u0435\u0446","Cell properties":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u044f\u0447\u0435\u0439\u043a\u0438","Merge cells":"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438","Split cell":"\u0420\u0430\u0437\u0431\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443","Insert row before":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","Insert row after":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","Delete row":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Row properties":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0440\u043e\u043a\u0438","Cut row":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Copy row":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Paste row before":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","Paste row after":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","Insert column before":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430","Insert column after":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430","Delete column":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446",Cols:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",Rows:"\u0421\u0442\u0440\u043e\u043a\u0438",Width:"\u0428\u0438\u0440\u0438\u043d\u0430",Height:"\u0412\u044b\u0441\u043e\u0442\u0430","Cell spacing":"\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u043e\u0442\u0441\u0442\u0443\u043f","Cell padding":"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043e\u0442\u0441\u0442\u0443\u043f",Caption:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Left:"\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",Center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",Right:"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Cell type":"\u0422\u0438\u043f \u044f\u0447\u0435\u0439\u043a\u0438",Scope:"Scope",Alignment:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435","H Align":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435","V Align":"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",Top:"\u041f\u043e \u0432\u0435\u0440\u0445\u0443",Middle:"\u041f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435",Bottom:"\u041f\u043e \u043d\u0438\u0437\u0443","Header cell":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","Row group":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0442\u0440\u043e\u043a","Column group":"\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a","Row type":"\u0422\u0438\u043f \u0441\u0442\u0440\u043e\u043a\u0438",Header:"\u0428\u0430\u043f\u043a\u0430",Body:"\u0422\u0435\u043b\u043e",Footer:"\u041d\u0438\u0437","Border color":"\u0426\u0432\u0435\u0442 \u0440\u0430\u043c\u043a\u0438","Insert template":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d",Templates:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b",Template:"\u0428\u0430\u0431\u043b\u043e\u043d","Text color":"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430","Background color":"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430","Custom...":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c\u2026","Custom color":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0446\u0432\u0435\u0442","No color":"\u0411\u0435\u0437 \u0446\u0432\u0435\u0442\u0430","Table of Contents":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","Show blocks":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0431\u043b\u043e\u043a\u0438","Show invisible characters":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","Words: {0}":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u043e\u0432: {0}","{0} words":"\u0441\u043b\u043e\u0432: {0}",File:"\u0424\u0430\u0439\u043b",Edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",Insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",View:"\u0412\u0438\u0434",Format:"\u0424\u043e\u0440\u043c\u0430\u0442",Table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",Tools:"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b","Powered by {0}":"\u041f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 ALT-F9 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u043d\u044e, ALT-F10 \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, ALT-0 \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043f\u043e\u043c\u043e\u0449\u0438."})},function(module,exports,__webpack_require__){"use strict";var Cell,PluginManager,Tools,DomParser,Node,Serializer,$_4aeordbdjdud7a9d_shouldHideInSourceView,$_4aeordbdjdud7a9d_getDefaultXmlPi,$_4aeordbdjdud7a9d_getDefaultEncoding,$_4aeordbdjdud7a9d_getDefaultFontFamily,$_4aeordbdjdud7a9d_getDefaultFontSize,$_4aeordbdjdud7a9d_getDefaultTextColor,$_4aeordbdjdud7a9d_getDefaultTitle,$_4aeordbdjdud7a9d_getDefaultDocType,parseHeader,$_58tdt7b9jdud7a94_parseHeader,$_58tdt7b9jdud7a94_htmlToData,$_58tdt7b9jdud7a94_dataToHtml,$_1z4w7sb7jdud7a90_open,$_9bxf9tb6jdud7a8z_register,$_73m398bfjdud7a9l_protectHtml,$_73m398bfjdud7a9l_unprotectHtml,each,low,getDefaultHeader,$_101dyabejdud7a9g_setup,$_g8k18qbgjdud7a9m_register,_tinymce2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__(15));function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Cell=function Cell(initial){var value=initial,get=function get(){return value};return{get:get,set:function set(v){value=v},clone:function clone(){return Cell(get())}}},PluginManager=_tinymce2.default.util.Tools.resolve("tinymce.PluginManager"),Tools=_tinymce2.default.util.Tools.resolve("tinymce.util.Tools"),DomParser=_tinymce2.default.util.Tools.resolve("tinymce.html.DomParser"),Node=_tinymce2.default.util.Tools.resolve("tinymce.html.Node"),Serializer=_tinymce2.default.util.Tools.resolve("tinymce.html.Serializer"),$_4aeordbdjdud7a9d_shouldHideInSourceView=function shouldHideInSourceView(editor){return editor.getParam("fullpage_hide_in_source_view")},$_4aeordbdjdud7a9d_getDefaultXmlPi=function getDefaultXmlPi(editor){return editor.getParam("fullpage_default_xml_pi")},$_4aeordbdjdud7a9d_getDefaultEncoding=function getDefaultEncoding(editor){return editor.getParam("fullpage_default_encoding")},$_4aeordbdjdud7a9d_getDefaultFontFamily=function getDefaultFontFamily(editor){return editor.getParam("fullpage_default_font_family")},$_4aeordbdjdud7a9d_getDefaultFontSize=function getDefaultFontSize(editor){return editor.getParam("fullpage_default_font_size")},$_4aeordbdjdud7a9d_getDefaultTextColor=function getDefaultTextColor(editor){return editor.getParam("fullpage_default_text_color")},$_4aeordbdjdud7a9d_getDefaultTitle=function getDefaultTitle(editor){return editor.getParam("fullpage_default_title")},$_4aeordbdjdud7a9d_getDefaultDocType=function getDefaultDocType(editor){return editor.getParam("fullpage_default_doctype","<!DOCTYPE html>")},$_58tdt7b9jdud7a94_parseHeader=parseHeader=function parseHeader(head){return DomParser({validate:!1,root_name:"#document"}).parse(head)},$_58tdt7b9jdud7a94_htmlToData=function htmlToData(editor,head){var headerFragment=parseHeader(head),data={pagemode:editor.getParam("fullpage_pagemode","body")},elm=void 0;function getAttr(elm,name){return elm.attr(name)||""}return data.fontface=$_4aeordbdjdud7a9d_getDefaultFontFamily(editor),data.fontsize=$_4aeordbdjdud7a9d_getDefaultFontSize(editor),(elm=headerFragment.getAll("#doctype")[0])&&(data.pagemode=elm.value.match(/XHTML/gi)?"xhtml":"html"),(elm=headerFragment.getAll("title")[0])&&elm.firstChild&&(data.title=elm.firstChild.value),Tools.each(headerFragment.getAll("meta"),function(meta){var name=meta.attr("name"),httpEquiv=meta.attr("http-equiv"),matches=void 0;name?data[name.toLowerCase()]=meta.attr("content"):"Content-Type"===httpEquiv&&(matches=/charset\s*=\s*(.*)\s*/gi.exec(meta.attr("content")))&&(data.docencoding=matches[1])}),(elm=headerFragment.getAll("html")[0])&&(data.langcode=getAttr(elm,"lang")||getAttr(elm,"xml:lang"),data.htmlAttrs=[].concat(_toConsumableArray(elm.attributes)).map(function(_ref){return{name:_ref.name,value:_ref.value}})),data.stylesheets=[],Tools.each(headerFragment.getAll("link"),function(link){"stylesheet"===link.attr("rel")&&data.stylesheets.push(link.attr("href"))}),(elm=headerFragment.getAll("body")[0])&&(console.log("BODY",elm),data.bodyAttrs=[].concat(_toConsumableArray(elm.attributes)).map(function(_ref2){return{name:_ref2.name,value:_ref2.value}}),console.log("bodyAttrs",data.bodyAttrs)),data},$_58tdt7b9jdud7a94_dataToHtml=function dataToHtml(editor,data,head){var headElement=void 0,elm=void 0;function setAttr(elm,name,value){elm.attr(name,value||void 0)}function addHeadNode(node){headElement.firstChild?headElement.insert(node,headElement.firstChild):headElement.append(node)}editor.dom;var headerFragment=parseHeader(head);(headElement=headerFragment.getAll("head")[0])||(elm=headerFragment.getAll("html")[0],headElement=new Node("head",1),elm.firstChild?elm.insert(headElement,elm.firstChild,!0):elm.append(headElement)),elm=headerFragment.getAll("#doctype")[0],"body"!==(data.pagemode||editor.getParam("fullpage_pagemode","body"))?(elm||addHeadNode(elm=new Node("#doctype",10)),elm.value="html"===data.pagemode?" html":' html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"'):(data.pagemode="body",elm&&elm.remove()),elm=null,Tools.each(headerFragment.getAll("meta"),function(meta){"Content-Type"===meta.attr("http-equiv")&&(elm=meta)}),data.docencoding?(elm||((elm=new Node("meta",1)).attr("http-equiv","Content-Type"),elm.shortEnded=!0,addHeadNode(elm)),elm.attr("content","text/html; charset="+data.docencoding)):elm&&elm.remove(),elm=headerFragment.getAll("title")[0],data.title?(elm?elm.empty():addHeadNode(elm=new Node("title",1)),elm.append(new Node("#text",3)).value=data.title):elm&&elm.remove(),Tools.each("keywords,description,author,copyright,robots".split(","),function(name){var nodes=headerFragment.getAll("meta"),i=void 0,meta=void 0,value=data[name];for(i=0;i<nodes.length;i++)if((meta=nodes[i]).attr("name")===name)return void(value?meta.attr("content",value):meta.remove());value&&((elm=new Node("meta",1)).attr("name",name),elm.attr("content",value),elm.shortEnded=!0,addHeadNode(elm))});var currentStyleSheetsMap={};Tools.each(headerFragment.getAll("link"),function(stylesheet){"stylesheet"===stylesheet.attr("rel")&&(currentStyleSheetsMap[stylesheet.attr("href")]=stylesheet)}),Tools.each(data.stylesheets,function(stylesheet){currentStyleSheetsMap[stylesheet]||((elm=new Node("link",1)).attr({rel:"stylesheet",text:"text/css",href:stylesheet}),elm.shortEnded=!0,addHeadNode(elm)),delete currentStyleSheetsMap[stylesheet]}),Tools.each(currentStyleSheetsMap,function(stylesheet){stylesheet.remove()}),elm=headerFragment.getAll("body")[0],(elm=headerFragment.getAll("html")[0])&&("xhtml"===data.pagemode?(elm.attr("lang",null),setAttr(elm,"xml:lang",data.langcode),setAttr(elm,"xmlns","http://www.w3.org/1999/xhtml")):([].concat(_toConsumableArray(elm.attributes)).map(function(_ref3){return _ref3.name}).filter(function(n){return n.startsWith("xml")}).forEach(function(n){elm.attr(n,null)}),setAttr(elm,"lang",data.langcode))),headElement.firstChild||headElement.remove();var html=Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(headerFragment);return html.substring(0,html.indexOf("</body>"))},$_1z4w7sb7jdud7a90_open=function open(editor,headState){var data=$_58tdt7b9jdud7a94_htmlToData(editor,headState.get());editor.windowManager.open({title:"Document properties",data:data,defaults:{type:"textbox",size:40},body:[{type:"listbox",name:"pagemode",label:"Page mode",values:[{text:"body",value:"body"},{text:"xhtml",value:"xhtml"},{text:"html",value:"html"}],value:data.pagemode},{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function onSubmit(e){if(editor.settings.fullpage_pagemode=e.data.pagemode,editor.settings.fullpage_ignoreswitch=!0,"body"!==e.data.pagemode){editor.setContent(editor.getContent());var headHtml=$_58tdt7b9jdud7a94_dataToHtml(editor,Tools.extend(data,e.data),headState.get());headState.set(headHtml)}else headState.set(""),editor.setContent(editor.getContent());editor.settings.fullpage_ignoreswitch=!1}})},$_9bxf9tb6jdud7a8z_register=function register(editor,headState){editor.addCommand("mceFullPageProperties",function(){$_1z4w7sb7jdud7a90_open(editor,headState)})},$_73m398bfjdud7a9l_protectHtml=function protectHtml(protect,html){return Tools.each(protect,function(pattern){html=html.replace(pattern,function(str){return"\x3c!--mce:protected "+escape(str)+"--\x3e"})}),html},$_73m398bfjdud7a9l_unprotectHtml=function unprotectHtml(html){return html.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(a,m){return unescape(m)})},each=Tools.each,low=function low(s){return s.replace(/<\/?[A-Z]+/g,function(a){return a.toLowerCase()})},getDefaultHeader=function getDefaultHeader(editor){var header="",value=void 0,styles="";if($_4aeordbdjdud7a9d_getDefaultXmlPi(editor)){var piEncoding=$_4aeordbdjdud7a9d_getDefaultEncoding(editor);header+='<?xml version="1.0" encoding="'+(piEncoding||"ISO-8859-1")+'" ?>\n'}return header+=$_4aeordbdjdud7a9d_getDefaultDocType(editor),header+="\n<html>\n<head>\n",(value=$_4aeordbdjdud7a9d_getDefaultTitle(editor))&&(header+="<title>"+value+"</title>\n"),(value=$_4aeordbdjdud7a9d_getDefaultEncoding(editor))&&(header+='<meta http-equiv="Content-Type" content="text/html; charset='+value+'" />\n'),(value=$_4aeordbdjdud7a9d_getDefaultFontFamily(editor))&&(styles+="font-family: "+value+";"),(value=$_4aeordbdjdud7a9d_getDefaultFontSize(editor))&&(styles+="font-size: "+value+";"),(value=$_4aeordbdjdud7a9d_getDefaultTextColor(editor))&&(styles+="color: "+value+";"),header+="</head>\n<body"+(styles?' style="'+styles+'"':"")+">\n"},$_101dyabejdud7a9g_setup=function setup(editor,headState,footState){editor.on("Undo",function(event){console.log("Undo",event)}),editor.on("BeforeSetContent",function(event){console.log("BeforeSetContent",event);var pagemode=editor.getParam("fullpage_pagemode","body");editor.settings.modifyingCode&&(editor.settings.fullpage_ignoreswitch||("body"===pagemode||event.content.match(/<html.*?>/)?"body"===pagemode&&event.content.match(/<html.*?>/)&&(headState.set(event.content.substring(0,event.content.indexOf("</body>"))),pagemode=event.content.match(/^<!DOCTYPE[^>]+XHTML.*?>/gi)?"xhtml":"html",editor.settings.fullpage_pagemode=pagemode):(pagemode="body",headState.set(""),editor.settings.fullpage_pagemode=pagemode))),"body"!==pagemode&&function handleSetContent(editor,headState,footState,evt){var startPos=void 0,endPos=void 0,content=void 0,styles="",dom=editor.dom,elm=void 0;if(!(evt.selection||(content=$_73m398bfjdud7a9l_protectHtml(editor.settings.protect,evt.content),"raw"===evt.format&&headState.get()||evt.source_view&&$_4aeordbdjdud7a9d_shouldHideInSourceView(editor)))){0!==content.length||evt.source_view||(content=Tools.trim(headState.get())+"\n"+Tools.trim(content)+"\n"+Tools.trim(footState.get())),-1!==(startPos=(content=content.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(startPos=content.indexOf(">",startPos),headState.set(low(content.substring(0,startPos+1))),-1===(endPos=content.indexOf("</body",startPos))&&(endPos=content.length),evt.content=Tools.trim(content.substring(startPos+1,endPos)),footState.set(low(content.substring(endPos)))):(headState.set(getDefaultHeader(editor)),footState.set("\n</body>\n</html>"));var headerFragment=$_58tdt7b9jdud7a94_parseHeader(headState.get());if(each(headerFragment.getAll("style"),function(node){node.firstChild&&(styles+=node.firstChild.value)}),elm=headerFragment.getAll("html")[0]){var html=editor.getBody().parentNode,htmlAttrs=[].concat(_toConsumableArray(html.attributes)).reduce(function(res,_ref4){return res[_ref4.name]=!1,res},{});[].concat(_toConsumableArray(elm.attributes)).map(function(_ref5){return{name:_ref5.name,value:_ref5.value}}).forEach(function(_ref6){var name=_ref6.name,value=_ref6.value;htmlAttrs[name]=!0,html.setAttribute(name,value)}),Object.keys(htmlAttrs).forEach(function(key){htmlAttrs[key]||html.removeAttribute(key)})}if(elm=headerFragment.getAll("body")[0]){var body=editor.getBody(),ignoreAttrs=["id","class","data-id","contenteditable","spellcheck"],bodyAttrs=[].concat(_toConsumableArray(body.attributes)).filter(function(attr){return!ignoreAttrs.includes(attr.name)}).reduce(function(res,_ref7){return res[_ref7.name]=!1,res},{});[].concat(_toConsumableArray(elm.attributes)).filter(function(attr){return!ignoreAttrs.includes(attr.name)}).map(function(_ref8){return{name:_ref8.name,value:_ref8.value}}).forEach(function(_ref9){var name=_ref9.name,value=_ref9.value;bodyAttrs[name]=!0,body.setAttribute(name,value)}),Object.keys(bodyAttrs).forEach(function(key){bodyAttrs[key]||body.removeAttribute(key)}),body.setAttribute("class","mce-content-body "+elm.attr("class"))}dom.remove("fullpage_styles");var headElm=editor.getDoc().getElementsByTagName("head")[0];styles&&(dom.add(headElm,"style",{id:"fullpage_styles"},styles),(elm=dom.get("fullpage_styles")).styleSheet&&(elm.styleSheet.cssText=styles));var currentStyleSheetsMap={};Tools.each(headElm.getElementsByTagName("link"),function(stylesheet){"stylesheet"===stylesheet.rel&&stylesheet.getAttribute("data-mce-fullpage")&&(currentStyleSheetsMap[stylesheet.href]=stylesheet)}),Tools.each(headerFragment.getAll("link"),function(stylesheet){var href=stylesheet.attr("href");if(!href)return!0;currentStyleSheetsMap[href]||"stylesheet"!==stylesheet.attr("rel")||dom.add(headElm,"link",{rel:"stylesheet",text:"text/css",href:href,"data-mce-fullpage":"1"}),delete currentStyleSheetsMap[href]}),Tools.each(currentStyleSheetsMap,function(stylesheet){stylesheet.parentNode.removeChild(stylesheet)})}}(editor,headState,footState,event)}),editor.on("GetContent",function(evt){"body"!==editor.getParam("fullpage_pagemode","body")&&function handleGetContent(editor,head,foot,evt){evt.selection||evt.source_view&&$_4aeordbdjdud7a9d_shouldHideInSourceView(editor)||(evt.content=$_73m398bfjdud7a9l_unprotectHtml(Tools.trim(head)+"\n"+Tools.trim(evt.content)+"\n"+Tools.trim(foot)))}(editor,headState.get(),footState.get(),evt)})},$_g8k18qbgjdud7a9m_register=function register$1(editor){editor.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),editor.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})},PluginManager.add("fullpage",function(editor){var headState=Cell(""),footState=Cell("");$_9bxf9tb6jdud7a8z_register(editor,headState),$_g8k18qbgjdud7a9m_register(editor),$_101dyabejdud7a9g_setup(editor,headState,footState)})},function(module,exports,__webpack_require__){"use strict";var beautify=__webpack_require__(105),condense=__webpack_require__(107),extend=__webpack_require__(16),defaults={unformatted:["code","pre","em","strong","span"],indent_inner_html:!0,indent_char:" ",indent_size:2,sep:"\n"};module.exports=function pretty(str,options){var opts=extend({},defaults,options);return str=beautify.html(str,opts),!0===opts.ocd?(opts.newlines&&(opts.sep=opts.newlines),function ocd(str,options){return condense(str,options).replace(/^\s+/g,"").replace(/\s+$/g,"\n").replace(/(\s*<!--)/g,"\n$1").replace(/>(\s*)(?=<!--\s*\/)/g,"> ")}(str,opts)):str}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;function get_beautify(js_beautify,css_beautify,html_beautify){var beautify=function(src,config){return js_beautify.js_beautify(src,config)};return beautify.js=js_beautify.js_beautify,beautify.css=css_beautify.css_beautify,beautify.html=html_beautify.html_beautify,beautify.js_beautify=js_beautify.js_beautify,beautify.css_beautify=css_beautify.css_beautify,beautify.html_beautify=html_beautify.html_beautify,beautify}__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(5),__webpack_require__(6),__webpack_require__(106)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(js_beautify,css_beautify,html_beautify){return get_beautify(js_beautify,css_beautify,html_beautify)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,style_html;style_html=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(module,exports,__webpack_require__){var mergeOpts=__webpack_require__(2).mergeOpts,acorn=__webpack_require__(1),lineBreak=acorn.lineBreak,allLineBreaks=acorn.allLineBreaks;function rtrim(s){return s.replace(/\s+$/g,"")}module.exports.Beautifier=function Beautifier(html_source,options,js_beautify,css_beautify){var multi_parser,indent_inner_html,indent_body_inner_html,indent_head_inner_html,indent_size,indent_character,wrap_line_length,brace_style,unformatted,content_unformatted,preserve_newlines,max_preserve_newlines,indent_handlebars,wrap_attributes,wrap_attributes_indent_size,is_wrap_attributes_force,is_wrap_attributes_force_expand_multiline,is_wrap_attributes_force_aligned,end_with_newline,extra_liners,eol;html_source=html_source||"",void 0!==(options=mergeOpts(options=options||{},"html")).wrap_line_length&&0!==parseInt(options.wrap_line_length,10)||void 0===options.max_char||0===parseInt(options.max_char,10)||(options.wrap_line_length=options.max_char),indent_inner_html=void 0!==options.indent_inner_html&&options.indent_inner_html,indent_body_inner_html=void 0===options.indent_body_inner_html||options.indent_body_inner_html,indent_head_inner_html=void 0===options.indent_head_inner_html||options.indent_head_inner_html,indent_size=void 0===options.indent_size?4:parseInt(options.indent_size,10),indent_character=void 0===options.indent_char?" ":options.indent_char,brace_style=void 0===options.brace_style?"collapse":options.brace_style,wrap_line_length=0===parseInt(options.wrap_line_length,10)?32786:parseInt(options.wrap_line_length||250,10),unformatted=options.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],content_unformatted=options.content_unformatted||["pre"],preserve_newlines=void 0===options.preserve_newlines||options.preserve_newlines,max_preserve_newlines=preserve_newlines?isNaN(parseInt(options.max_preserve_newlines,10))?32786:parseInt(options.max_preserve_newlines,10):0,indent_handlebars=void 0!==options.indent_handlebars&&options.indent_handlebars,wrap_attributes=void 0===options.wrap_attributes?"auto":options.wrap_attributes,wrap_attributes_indent_size=isNaN(parseInt(options.wrap_attributes_indent_size,10))?indent_size:parseInt(options.wrap_attributes_indent_size,10),is_wrap_attributes_force="force"===wrap_attributes.substr(0,"force".length),is_wrap_attributes_force_expand_multiline="force-expand-multiline"===wrap_attributes,is_wrap_attributes_force_aligned="force-aligned"===wrap_attributes,end_with_newline=void 0!==options.end_with_newline&&options.end_with_newline,extra_liners="object"==typeof options.extra_liners&&options.extra_liners?options.extra_liners.concat():"string"==typeof options.extra_liners?options.extra_liners.split(","):"head,body,/html".split(","),eol=options.eol?options.eol:"auto",options.indent_with_tabs&&(indent_character="\t",indent_size=1),"auto"===eol&&(eol="\n",html_source&&lineBreak.test(html_source||"")&&(eol=html_source.match(lineBreak)[0])),eol=eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),html_source=html_source.replace(allLineBreaks,"\n"),this.beautify=function(){for((multi_parser=new function Parser(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=indent_inner_html,this.indent_body_inner_html=indent_body_inner_html,this.indent_head_inner_html=indent_head_inner_html,this.Utils={whitespace:"\n\r\t ".split(""),single_token:options.void_elements||["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:extra_liners,in_array:function(what,arr){for(var i=0;i<arr.length;i++)if(what===arr[i])return!0;return!1}},this.is_whitespace=function(text){for(var n=0;n<text.length;n++)if(!this.Utils.in_array(text.charAt(n),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var input_char="";if(input_char=this.input.charAt(this.pos),this.Utils.in_array(input_char,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(input_char,this.Utils.whitespace);)preserve_newlines&&"\n"===input_char&&this.newlines<=max_preserve_newlines&&(this.newlines+=1),this.pos++,input_char=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(content){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,content),this.print_indentation(content),!0):(this.line_char_count++,content.push(" "),!1)},this.get_content=function(){for(var input_char="",content=[],handlebarsStarted=0;"<"!==this.input.charAt(this.pos)||2===handlebarsStarted;){if(this.pos>=this.input.length)return content.length?content.join(""):["","TK_EOF"];if(handlebarsStarted<2&&this.traverse_whitespace())this.space_or_wrap(content);else{if(input_char=this.input.charAt(this.pos),indent_handlebars){if("{"===input_char?handlebarsStarted+=1:handlebarsStarted<2&&(handlebarsStarted=0),"}"===input_char&&0<handlebarsStarted&&0==handlebarsStarted--)break;var peek3=this.input.substr(this.pos,3);if("{{#"===peek3||"{{/"===peek3)break;if("{{!"===peek3)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,content.push(input_char)}}return content.length?content.join(""):""},this.get_contents_to=function(name){if(this.pos===this.input.length)return["","TK_EOF"];var content="",reg_match=new RegExp("</"+name+"\\s*>","igm");reg_match.lastIndex=this.pos;var reg_array=reg_match.exec(this.input),end_script=reg_array?reg_array.index:this.input.length;return this.pos<end_script&&(content=this.input.substring(this.pos,end_script),this.pos=end_script),content},this.record_tag=function(tag){this.tags[tag+"count"]?this.tags[tag+"count"]++:this.tags[tag+"count"]=1,this.tags[tag+this.tags[tag+"count"]]=this.indent_level,this.tags[tag+this.tags[tag+"count"]+"parent"]=this.tags.parent,this.tags.parent=tag+this.tags[tag+"count"]},this.retrieve_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]],this.tags.parent=this.tags[temp_parent+"parent"]),delete this.tags[tag+this.tags[tag+"count"]+"parent"],delete this.tags[tag+this.tags[tag+"count"]],1===this.tags[tag+"count"]?delete this.tags[tag+"count"]:this.tags[tag+"count"]--}},this.indent_to_tag=function(tag){if(this.tags[tag+"count"]){for(var temp_parent=this.tags.parent;temp_parent&&tag+this.tags[tag+"count"]!==temp_parent;)temp_parent=this.tags[temp_parent+"parent"];temp_parent&&(this.indent_level=this.tags[tag+this.tags[tag+"count"]])}},this.get_tag=function(peek){var tag_start,tag_start_char,tail,input_char="",content=[],comment="",space=!1,first_attr=!0,has_wrapped_attrs=!1,orig_pos=this.pos,orig_line_char_count=this.line_char_count,is_tag_closed=!1;peek=void 0!==peek&&peek;do{if(this.pos>=this.input.length)return peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.length?content.join(""):["","TK_EOF"];if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace))space=!0;else{if("'"!==input_char&&'"'!==input_char||(input_char+=this.get_unformatted(input_char),space=!0),"="===input_char&&(space=!1),tail=this.input.substr(this.pos-1),!is_wrap_attributes_force_expand_multiline||!has_wrapped_attrs||is_tag_closed||">"!==input_char&&"/"!==input_char||tail.match(/^\/?\s*>/)&&(space=!1,is_tag_closed=!0,this.print_newline(!1,content),this.print_indentation(content)),content.length&&"="!==content[content.length-1]&&">"!==input_char&&space){var indentAttrs=this.space_or_wrap(content)&&"/"!==input_char&&!is_wrap_attributes_force;if(space=!1,is_wrap_attributes_force&&"/"!==input_char){var force_first_attr_wrap=!1;is_wrap_attributes_force_expand_multiline&&first_attr&&(force_first_attr_wrap=!(null!==tail.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),first_attr&&!force_first_attr_wrap||(this.print_newline(!1,content),this.print_indentation(content),indentAttrs=!0)}if(indentAttrs){has_wrapped_attrs=!0;var alignment_size=wrap_attributes_indent_size;is_wrap_attributes_force_aligned&&(alignment_size=content.indexOf(" ")+1);for(var count=0;count<alignment_size;count++)content.push(" ")}if(first_attr)for(var i=0;i<content.length;i++)if(" "===content[i]){first_attr=!1;break}}if(indent_handlebars&&"<"===tag_start_char&&input_char+this.input.charAt(this.pos)==="{{"&&(input_char+=this.get_unformatted("}}"),content.length&&" "!==content[content.length-1]&&"<"!==content[content.length-1]&&(input_char=" "+input_char),space=!0),"<"!==input_char||tag_start_char||(tag_start=this.pos-1,tag_start_char="<"),indent_handlebars&&!tag_start_char&&2<=content.length&&"{"===content[content.length-1]&&"{"===content[content.length-2]&&(tag_start="#"===input_char||"/"===input_char||"!"===input_char?this.pos-3:this.pos-2,tag_start_char="{"),this.line_char_count++,content.push(input_char),content[1]&&("!"===content[1]||"?"===content[1]||"%"===content[1])){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&content[1]&&"{"===content[1]&&content[2]&&"!"===content[2]){content=[this.get_comment(tag_start)];break}if(indent_handlebars&&"{"===tag_start_char&&2<content.length&&"}"===content[content.length-2]&&"}"===content[content.length-1])break}}while(">"!==input_char);var tag_index,tag_offset,tag_complete=content.join("");tag_index=-1!==tag_complete.indexOf(" ")?tag_complete.indexOf(" "):-1!==tag_complete.indexOf("\n")?tag_complete.indexOf("\n"):"{"===tag_complete.charAt(0)?tag_complete.indexOf("}"):tag_complete.indexOf(">"),tag_offset="<"!==tag_complete.charAt(0)&&indent_handlebars?"#"===tag_complete.charAt(2)?3:2:1;var tag_check=tag_complete.substring(tag_offset,tag_index).toLowerCase();return"/"===tag_complete.charAt(tag_complete.length-2)||this.Utils.in_array(tag_check,this.Utils.single_token)?peek||(this.tag_type="SINGLE"):indent_handlebars&&"{"===tag_complete.charAt(0)&&"else"===tag_check?peek||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(tag_check,unformatted)||this.is_unformatted(tag_check,content_unformatted)?(comment=this.get_unformatted("</"+tag_check+">",tag_complete),content.push(comment),this.pos,this.tag_type="SINGLE"):"script"===tag_check&&(-1===tag_complete.search("type")||-1<tag_complete.search("type")&&-1<tag_complete.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/))?peek||(this.record_tag(tag_check),this.tag_type="SCRIPT"):"style"===tag_check&&(-1===tag_complete.search("type")||-1<tag_complete.search("type")&&-1<tag_complete.search("text/css"))?peek||(this.record_tag(tag_check),this.tag_type="STYLE"):"!"===tag_check.charAt(0)?peek||(this.tag_type="SINGLE",this.traverse_whitespace()):peek||("/"===tag_check.charAt(0)?(this.retrieve_tag(tag_check.substring(1)),this.tag_type="END"):(this.record_tag(tag_check),"html"!==tag_check.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(content),this.Utils.in_array(tag_check,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),peek&&(this.pos=orig_pos,this.line_char_count=orig_line_char_count),content.join("")},this.get_comment=function(start_pos){var comment="",delimiter=">",matched=!1;this.pos=start_pos;var input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((comment+=input_char).charAt(comment.length-1)!==delimiter.charAt(delimiter.length-1)||-1===comment.indexOf(delimiter));)!matched&&comment.length<10&&(0===comment.indexOf("<![if")?(delimiter="<![endif]>",matched=!0):0===comment.indexOf("<![cdata[")?(delimiter="]]>",matched=!0):0===comment.indexOf("<![")?(delimiter="]>",matched=!0):0===comment.indexOf("\x3c!--")?(delimiter="--\x3e",matched=!0):0===comment.indexOf("{{!--")?(delimiter="--}}",matched=!0):0===comment.indexOf("{{!")?5===comment.length&&-1===comment.indexOf("{{!--")&&(delimiter="}}",matched=!0):0===comment.indexOf("<?")?(delimiter="?>",matched=!0):0===comment.indexOf("<%")&&(delimiter="%>",matched=!0)),input_char=this.input.charAt(this.pos),this.pos++;return comment},this.get_unformatted=function(delimiter,orig_tag){if(orig_tag&&-1!==orig_tag.toLowerCase().indexOf(delimiter))return"";var input_char="",content="",space=!0,delimiterMatcher=function tokenMatcher(delimiter){var token="";return{add:function(str){var newToken=token+str.toLowerCase();token=newToken.length<=delimiter.length?newToken:newToken.substr(newToken.length-delimiter.length,delimiter.length)},doesNotMatch:function(){return-1===token.indexOf(delimiter)}}}(delimiter);do{if(this.pos>=this.input.length)return content;if(input_char=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(input_char,this.Utils.whitespace)){if(!space){this.line_char_count--;continue}if("\n"===input_char||"\r"===input_char){content+="\n",this.line_char_count=0;continue}}content+=input_char,delimiterMatcher.add(input_char),this.line_char_count++,space=!0,indent_handlebars&&"{"===input_char&&content.length&&"{"===content.charAt(content.length-2)&&(content+=this.get_unformatted("}}"))}while(delimiterMatcher.doesNotMatch());return content},this.get_token=function(){var token;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var type=this.last_token.substr(7);return"string"!=typeof(token=this.get_contents_to(type))?token:[token,"TK_"+type]}return"CONTENT"===this.current_mode?"string"!=typeof(token=this.get_content())?token:[token,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(token=this.get_tag())?token:[token,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(level){return(level=this.indent_level+level||0)<1?"":Array(level+1).join(this.indent_string)},this.is_unformatted=function(tag_check,unformatted){if(!this.Utils.in_array(tag_check,unformatted))return!1;if("a"!==tag_check.toLowerCase()||!this.Utils.in_array("a",unformatted))return!0;var tag=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(tag&&!this.Utils.in_array(tag[1],unformatted))},this.printer=function(js_source,indent_character,indent_size,wrap_line_length,brace_style){this.input=js_source||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=indent_character,this.indent_string="",this.indent_size=indent_size,this.brace_style=brace_style,this.indent_level=0,this.wrap_line_length=wrap_line_length;for(var i=this.line_char_count=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(force,arr){this.line_char_count=0,arr&&arr.length&&(force||"\n"!==arr[arr.length-1])&&("\n"!==arr[arr.length-1]&&(arr[arr.length-1]=rtrim(arr[arr.length-1])),arr.push("\n"))},this.print_indentation=function(arr){for(var i=0;i<this.indent_level;i++)arr.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(text){this.is_whitespace(text)&&!this.output.length||((text||""!==text)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),text=function ltrim(s){return s.replace(/^\s+/g,"")}(text)),this.print_token_raw(text))},this.print_token_raw=function(text){0<this.newlines&&(text=rtrim(text)),text&&""!==text&&(1<text.length&&"\n"===text.charAt(text.length-1)?(this.output.push(text.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(text));for(var n=0;n<this.newlines;n++)this.print_newline(0<n,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(html_source,indent_character,indent_size,wrap_line_length,brace_style);;){var t=multi_parser.get_token();if(multi_parser.token_text=t[0],multi_parser.token_type=t[1],"TK_EOF"===multi_parser.token_type)break;switch(multi_parser.token_type){case"TK_TAG_START":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(!multi_parser.indent_body_inner_html&&multi_parser.token_text.match(/<body(?:.*)>/)||!multi_parser.indent_head_inner_html&&multi_parser.token_text.match(/<head(?:.*)>/)||multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===multi_parser.last_token&&""===multi_parser.last_text){var tag_name=(multi_parser.token_text.match(/\w+/)||[])[0],tag_extracted_from_last_output=null;multi_parser.output.length&&(tag_extracted_from_last_output=multi_parser.output[multi_parser.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===tag_extracted_from_last_output||tag_extracted_from_last_output[1]!==tag_name&&!multi_parser.Utils.in_array(tag_extracted_from_last_output[1],unformatted))&&multi_parser.print_newline(!1,multi_parser.output)}multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var tag_check=multi_parser.token_text.match(/^\s*<([a-z-]+)/i);tag_check&&multi_parser.Utils.in_array(tag_check[1],unformatted)||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var foundIfOnCurrentLine=!1,lastCheckedOutput=multi_parser.output.length-1;0<=lastCheckedOutput&&"\n"!==multi_parser.output[lastCheckedOutput];lastCheckedOutput--)if(multi_parser.output[lastCheckedOutput].match(/{{#if/)){foundIfOnCurrentLine=!0;break}foundIfOnCurrentLine||multi_parser.print_newline(!1,multi_parser.output),multi_parser.print_token(multi_parser.token_text),multi_parser.indent_content&&(multi_parser.indent(),multi_parser.indent_content=!1),multi_parser.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":multi_parser.print_token(multi_parser.token_text),multi_parser.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==multi_parser.token_text){multi_parser.print_newline(!1,multi_parser.output);var _beautifier,text=multi_parser.token_text,script_indent_level=1;"TK_SCRIPT"===multi_parser.token_type?_beautifier="function"==typeof js_beautify&&js_beautify:"TK_STYLE"===multi_parser.token_type&&(_beautifier="function"==typeof css_beautify&&css_beautify),"keep"===options.indent_scripts?script_indent_level=0:"separate"===options.indent_scripts&&(script_indent_level=-multi_parser.indent_level);var indentation=multi_parser.get_full_indent(script_indent_level);if(_beautifier){var Child_options=function(){this.eol="\n"};Child_options.prototype=options;var child_options=new Child_options;text=_beautifier(text.replace(/^\s*/,indentation),child_options)}else{var _level=text.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(multi_parser.indent_string).length-1,reindent=multi_parser.get_full_indent(script_indent_level-_level);text=text.replace(/^\s*/,indentation).replace(/\r\n|\r|\n/g,"\n"+reindent).replace(/\s+$/,"")}text&&(multi_parser.print_token_raw(text),multi_parser.print_newline(!0,multi_parser.output))}multi_parser.current_mode="TAG";break;default:""!==multi_parser.token_text&&multi_parser.print_token(multi_parser.token_text)}multi_parser.last_token=multi_parser.token_type,multi_parser.last_text=multi_parser.token_text}var sweet_code=multi_parser.output.join("").replace(/[\r\n\t ]+$/,"");return end_with_newline&&(sweet_code+="\n"),"\n"!==eol&&(sweet_code=sweet_code.replace(/[\n]/g,eol)),sweet_code}}},function(module,exports){var nonASCIIidentifierStartChars="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");exports.newline=/[\n\r\u2028\u2029]/,exports.lineBreak=new RegExp("\r\n|"+exports.newline.source),exports.allLineBreaks=new RegExp(exports.lineBreak.source,"g"),exports.isIdentifierStart=function(code){return code<65?36===code||64===code:code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifierStart.test(String.fromCharCode(code)))},exports.isIdentifierChar=function(code){return code<48?36===code:code<58||!(code<65)&&(code<91||(code<97?95===code:code<123||170<=code&&nonASCIIidentifier.test(String.fromCharCode(code))))}},function(module,exports){module.exports.mergeOpts=function mergeOpts(allOptions,targetType){var name,finalOpts={};for(name in allOptions)name!==targetType&&(finalOpts[name]=allOptions[name]);if(targetType in allOptions)for(name in allOptions[targetType])finalOpts[name]=allOptions[targetType][name];return finalOpts}},function(module,exports,__webpack_require__){var Beautifier=__webpack_require__(0).Beautifier;module.exports=function style_html(html_source,options,js_beautify,css_beautify){return new Beautifier(html_source,options,js_beautify,css_beautify).beautify()}}]),__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,__webpack_require__(5),__webpack_require__(6)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(requireamd){var js_beautify=__webpack_require__(5),css_beautify=__webpack_require__(6);return{html_beautify:function(html_source,options){return style_html(html_source,options,js_beautify.js_beautify,css_beautify.css_beautify)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){"use strict";var isWhitespace=__webpack_require__(108),extend=__webpack_require__(16),typeOf=__webpack_require__(110);module.exports=function(str,options){var re,opts=extend({},options),sep=opts.sep||"\n\n",min=opts.min;return"number"==typeof min&&2!==min&&(re=new RegExp("(\\r\\n|\\n|\\u2424) {"+min+",}")),void 0===re&&(re=opts.regex||/(\r\n|\n|\u2424){2,}/g),!0!==opts.keepWhitespace&&(str=str.split("\n").map(function(line){return isWhitespace(line)?line.trim():line}).join("\n")),(str=function trailingNewline(str,options){var val=options.trailingNewline;if(!1===val)return str;switch(typeOf(val)){case"string":str=str.replace(/\s+$/,options.trailingNewline);break;case"function":str=options.trailingNewline(str);break;case"undefined":case"boolean":default:str=str.replace(/\s+$/,"\n")}return str}(str,opts)).replace(re,sep)}},function(module,exports,__webpack_require__){"use strict";var cache;module.exports=function isWhitespace(str){return"string"==typeof str&&function regex(){return cache||(cache=new RegExp('^[\\s\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"]+$'))}().test(str)}},function(module,exports,__webpack_require__){"use strict";module.exports=function isExtendable(val){return null!=val&&("object"==typeof val||"function"==typeof val)}},function(module,exports,__webpack_require__){var isBuffer=__webpack_require__(111),toString=Object.prototype.toString;module.exports=function kindOf(val){if(void 0===val)return"undefined";if(null===val)return"null";if(!0===val||!1===val||val instanceof Boolean)return"boolean";if("string"==typeof val||val instanceof String)return"string";if("number"==typeof val||val instanceof Number)return"number";if("function"==typeof val||val instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(val))return"array";if(val instanceof RegExp)return"regexp";if(val instanceof Date)return"date";var type=toString.call(val);return"[object RegExp]"===type?"regexp":"[object Date]"===type?"date":"[object Arguments]"===type?"arguments":"[object Error]"===type?"error":isBuffer(val)?"buffer":"[object Set]"===type?"set":"[object WeakSet]"===type?"weakset":"[object Map]"===type?"map":"[object WeakMap]"===type?"weakmap":"[object Symbol]"===type?"symbol":"[object Int8Array]"===type?"int8array":"[object Uint8Array]"===type?"uint8array":"[object Uint8ClampedArray]"===type?"uint8clampedarray":"[object Int16Array]"===type?"int16array":"[object Uint16Array]"===type?"uint16array":"[object Int32Array]"===type?"int32array":"[object Uint32Array]"===type?"uint32array":"[object Float32Array]"===type?"float32array":"[object Float64Array]"===type?"float64array":"object"}},function(module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}}])});