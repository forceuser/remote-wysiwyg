!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.wysiwyg=t():e.wysiwyg=t()}(window,function(){return function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/js/",o(o.s=81)}([function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(e,t){return r.call(e,t)}function s(e){return!(55296<=e&&e<=57343)&&(!(64976<=e&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(0<=e&&e<=8)&&(11!==e&&(!(14<=e&&e<=31)&&(!(127<=e&&e<=159)&&!(1114111<e)))))))}function u(e){if(65535<e){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var o=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,i=new RegExp(o.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),c=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(41);var f=/[&<>"]/,d=/[&<>"]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function p(e){return h[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=n(20);t.lib={},t.lib.mdurl=n(42),t.lib.ucmicro=n(87),t.assign=function(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(e){n[e]=t[e]})}}),n},t.isString=function(e){return"[object String]"===(t=e,Object.prototype.toString.call(t));var t},t.has=a,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(o,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(i,function(e,t,n){return t||(r=e,i=0,a(l,o=n)?l[o]:35===o.charCodeAt(0)&&c.test(o)&&s(i="x"===o[1].toLowerCase()?parseInt(o.slice(2),16):parseInt(o.slice(1),10))?u(i):r);var r,o,i})},t.isValidEntityCode=s,t.fromCodePoint=u,t.escapeHtml=function(e){return f.test(e)?e.replace(d,p):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(8192<=e&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(pw,e,t){(function(hw){!function(){"use strict";var e,t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v=function(e){return function(){return e}},b={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:v,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:v(!1),always:v(!0)},y=b.never,_=b.always,w=function(){return x},x=(r={fold:function(e,t){return e()},is:y,isSome:y,isNone:_,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:w,ap:w,each:function(){},bind:w,flatten:w,exists:y,forall:_,filter:w,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:b.constant("none()")},Object.freeze&&Object.freeze(r),r),C=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:_,isNone:y,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return C(e(n))},ap:function(e){return e.fold(w,function(e){return C(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:x},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(y,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},A={some:C,none:w,from:function(e){return null==e?x:C(e)}},k=void 0===(o=Array.prototype.indexOf)?function(e,t){return D(e,t)}:function(e,t){return o.call(e,t)},S=function(e,t){return-1<k(e,t)},E=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},R=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},N=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return A.some(n);return A.none()},D=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},L=Array.prototype.push,B=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);L.apply(t,e[n])}return t},P=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},M=Array.prototype.slice,I={map:E,each:T,eachr:R,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:N,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=k(e,t);return-1===n?A.none():A.some(n)},foldr:function(e,t,n){return R(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return T(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return A.some(o)}return A.none()},findIndex:O,flatten:B,bind:function(e,t){var n=E(e,t);return B(n)},forall:P,exists:function(e,t){return O(e,t).isSome()},contains:S,equal:function(e,n){return e.length===n.length&&P(e,function(e,t){return e===n[t]})},reverse:function(e){var t=M.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return N(e,function(e){return!S(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=M.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?A.none():A.some(e[0])},last:function(e){return 0===e.length?A.none():A.some(e[e.length-1])}},F="undefined"!=typeof window?window:Function("return this;")(),j=function(e,t){for(var n=null!=t?t:F,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},z=function(e,t){var n=e.split(".");return j(n,t)},H={getOrDie:function(e,t){var n=z(e,t);if(null==n)throw e+" not available on this browser";return n}},q=function(){return H.getOrDie("URL")},U={createObjectURL:function(e){return q().createObjectURL(e)},revokeObjectURL:function(e){q().revokeObjectURL(e)}},W=navigator,V=W.userAgent,K=function(e){return"matchMedia"in window&&matchMedia(e).matches};d=/Android/.test(V),a=(a=!(i=/WebKit/.test(V))&&/MSIE/gi.test(V)&&/Explorer/gi.test(W.appName))&&/MSIE (\w+)\./.exec(V)[1],s=-1!==V.indexOf("Trident/")&&(-1!==V.indexOf("rv:")||-1!==W.appName.indexOf("Netscape"))&&11,u=-1!==V.indexOf("Edge/")&&!a&&!s&&12,a=a||s||u,c=!i&&!s&&/Gecko/.test(V),l=-1!==V.indexOf("Mac"),f=/(iPad|iPhone)/.test(V),h="FormData"in window&&"FileReader"in window&&"URL"in window&&!!U.createObjectURL,p=K("only screen and (max-device-width: 480px)")&&(d||f),m=K("only screen and (min-width: 800px)")&&(d||f),g=-1!==V.indexOf("Windows Phone"),u&&(i=!1);var $,G,Y,X,J,Z,Q,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,fe,de={opera:!1,webkit:i,ie:a,gecko:c,mac:l,iOS:f,android:d,contentEditable:!f||h||534<=parseInt(V.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==a,range:window.getSelection&&"Range"in window,documentMode:a&&!u?document.documentMode||7:10,fileApi:h,ceFalse:!1===a||8<a,cacheSuffix:"",container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===a||11<a,desktop:!p&&!m,windowsPhone:g},he=window.Promise?window.Promise:function(){function n(e,t){return function(){e.apply(t,arguments)}}var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(e,n(r,this),n(o,this))},t=i.immediateFn||"function"==typeof hw&&hw||function(e){setTimeout(e,1)};function a(n){var r=this;null!==this._state?t(function(){var e=r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(e){return void n.reject(e)}n.resolve(t)}else(r._state?n.resolve:n.reject)(r._value)}):this._deferreds.push(n)}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void u(n(t,e),n(r,this),n(o,this))}this._state=!0,this._value=e,s.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(n,r){var o=this;return new i(function(e,t){a.call(o,new function(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(n,r,e,t))})},i.all=function(){var s=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new i(function(r,o){if(0===s.length)return r([]);var i=s.length;function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},o)}s[t]=e,0==--i&&r(s)}catch(e){o(e)}}for(var e=0;e<s.length;e++)a(e,s[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i}(),pe=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},me=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},ge=function(t,n){var r,e;return(e=function(){var e=arguments;clearTimeout(r),r=pe(function(){t.apply(this,e)},n)}).stop=function(){clearTimeout(r)},e},ve={requestAnimationFrame:function(e,t){$?$.then(e):$=new he(function(e){t||(t=document.body),function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=function(e){window.setTimeout(e,0)}),r(e,t)}(e,t)}).then(e)},setTimeout:pe,setInterval:me,setEditorTimeout:function(e,t,n){return pe(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=me(function(){e.removed?clearInterval(r):t()},n)},debounce:ge,throttle:ge,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},be=/^(?:mouse|contextmenu)|click/,ye={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},_e=function(){return!1},we=function(){return!0},xe=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ce=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},ke=function(e,t){var n,r,o,i,a,s,u=t||{};for(n in e)ye[n]||(u[n]=e[n]);if(u.target||(u.target=u.srcElement||document),de.experimentalShadowDom&&(u.target=(r=e,o=u.target,a=o,(i=r.path)&&0<i.length&&(a=i[0]),r.composedPath&&(i=r.composedPath())&&0<i.length&&(a=i[0]),a)),e&&be.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var c=u.target.ownerDocument||document,l=c.documentElement,f=c.body;u.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),u.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=we,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=we,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=we,u.stopPropagation()},0==((s=u).isDefaultPrevented===we||s.isDefaultPrevented===_e)&&(u.isDefaultPrevented=_e,u.isPropagationStopped=_e,u.isImmediatePropagationStopped=_e),void 0===u.metaKey&&(u.metaKey=!1),u},Se=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},s=function(){i()&&(Ce(r,"readystatechange",s),a())},u=function(){try{r.documentElement.doScroll("left")}catch(e){return void ve.setTimeout(u)}a()};!r.addEventListener||de.ie&&de.ie<11?(xe(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&u()):i()?a():xe(e,"DOMContentLoaded",a),xe(e,"load",a)}},Ee=function(){var h,p,m,g,v,b=this,y={};p="mce-data-"+(+new Date).toString(32),g="onmouseenter"in document.documentElement,m="onfocusin"in document.documentElement,v={mouseenter:"mouseover",mouseleave:"mouseout"},h=1,b.domLoaded=!1,b.events=y;var _=function(e,t){var n,r,o,i,a=y[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};b.bind=function(e,t,n,r){var o,i,a,s,u,c,l,f=window,d=function(e){_(ke(e||f.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[p]?o=e[p]:(o=h++,e[p]=o,y[o]={}),r=r||e,a=(t=t.split(" ")).length;a--;)c=d,u=l=!1,"DOMContentLoaded"===(s=t[a])&&(s="ready"),b.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,ke({type:s})):(g||(u=v[s])&&(c=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=ke(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,_(e,o))}),m||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){(e=ke(e||f.event)).type="focus"===e.type?"focusin":"focusout",_(e,o)}),(i=y[o][s])?"ready"===s&&b.domLoaded?n({type:s}):i.push({func:n,scope:r}):(y[o][s]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=l,i.nativeHandler=c,"ready"===s?Se(e,c,b):xe(e,u||s,c,l)));return e=i=0,n}},b.unbind=function(t,e,n){var r,o,i,a,s,u;if(!t||3===t.nodeType||8===t.nodeType)return b;if(r=t[p]){if(u=y[r],e){for(i=(e=e.split(" ")).length;i--;)if(o=u[s=e[i]]){if(n)for(a=o.length;a--;)if(o[a].func===n){var c=o.nativeHandler,l=o.fakeName,f=o.capture;(o=o.slice(0,a).concat(o.slice(a+1))).nativeHandler=c,o.fakeName=l,o.capture=f,u[s]=o}n&&0!==o.length||(delete u[s],Ce(t,o.fakeName||s,o.nativeHandler,o.capture))}}else{for(s in u)o=u[s],Ce(t,o.fakeName||s,o.nativeHandler,o.capture);u={}}for(s in u)return b;delete y[r];try{delete t[p]}catch(e){t[p]=null}}return b},b.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=ke(null,n)).type=t,n.target=e;(r=e[p])&&_(n,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,r=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[p]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[p]&&r(e);return b},b.destroy=function(){y={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};(Ee.Event=new Ee).bind(window,"ready",function(){});var Te="sizzle"+-new Date,Ae=window.document,Re=0,Ne=0,Oe=lt(),De=lt(),Le=lt(),Be=function(e,t){return e===t&&(oe=!0),0},Pe="undefined",Me=1<<31,Ie={}.hasOwnProperty,Fe=[],je=Fe.pop,ze=Fe.push,He=Fe.push,qe=Fe.slice,Ue=Fe.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},We="[\\x20\\t\\r\\n\\f]",Ve="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ke="\\["+We+"*("+Ve+")(?:"+We+"*([*^$|!~]?=)"+We+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ve+"))|)"+We+"*\\]",$e=":("+Ve+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ke+")*)|.*)\\)|)",Ge=new RegExp("^"+We+"+|((?:^|[^\\\\])(?:\\\\.)*)"+We+"+$","g"),Ye=new RegExp("^"+We+"*,"+We+"*"),Xe=new RegExp("^"+We+"*([>+~]|"+We+")"+We+"*"),Je=new RegExp("="+We+"*([^\\]'\"]*?)"+We+"*\\]","g"),Ze=new RegExp($e),Qe=new RegExp("^"+Ve+"$"),et={ID:new RegExp("^#("+Ve+")"),CLASS:new RegExp("^\\.("+Ve+")"),TAG:new RegExp("^("+Ve+"|[*])"),ATTR:new RegExp("^"+Ke),PSEUDO:new RegExp("^"+$e),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+We+"*(even|odd|(([+-]|)(\\d*)n|)"+We+"*(?:([+-]|)"+We+"*(\\d+)|))"+We+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+We+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+We+"*((?:-\\d)?\\d*)"+We+"*\\)|)(?=[^-]|$)","i")},tt=/^(?:input|select|textarea|button)$/i,nt=/^h\d$/i,rt=/^[^{]+\{\s*\[native \w/,ot=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,at=/'|\\/g,st=new RegExp("\\\\([\\da-f]{1,6}"+We+"?|("+We+")|.)","ig"),ut=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{He.apply(Fe=qe.call(Ae.childNodes),Ae.childNodes),Fe[Ae.childNodes.length].nodeType}catch(e){He={apply:Fe.length?function(e,t){ze.apply(e,qe.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var ct=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h;if((t?t.ownerDocument||t:Ae)!==ae&&ie(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||ae).nodeType)&&9!==s)return[];if(ue&&!r){if(o=ot.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&fe(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return He.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Y.getElementsByClassName)return He.apply(n,t.getElementsByClassName(a)),n}if(Y.qsa&&(!ce||!ce.test(e))){if(f=l=Te,d=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=Q(e),(l=t.getAttribute("id"))?f=l.replace(at,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+bt(c[u]);d=it.test(e)&&gt(t.parentNode)||t,h=c.join(",")}if(h)try{return He.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return te(e.replace(Ge,"$1"),t,n,r)};function lt(){var r=[];return function e(t,n){return r.push(t+" ")>X.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ft(e){return e[Te]=!0,e}function dt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Me)-(~e.sourceIndex||Me);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function mt(a){return ft(function(i){return i=+i,ft(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function gt(e){return e&&typeof e.getElementsByTagName!==Pe&&e}for(G in Y=ct.support={},Z=ct.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ie=ct.setDocument=function(e){var t,u=e?e.ownerDocument||e:Ae,n=u.defaultView;return u!==ae&&9===u.nodeType&&u.documentElement?(se=(ae=u).documentElement,ue=!Z(u),n&&n!==function(e){try{return e.top}catch(e){}return null}(n)&&(n.addEventListener?n.addEventListener("unload",function(){ie()},!1):n.attachEvent&&n.attachEvent("onunload",function(){ie()})),Y.attributes=!0,Y.getElementsByTagName=!0,Y.getElementsByClassName=rt.test(u.getElementsByClassName),Y.getById=!0,X.find.ID=function(e,t){if(typeof t.getElementById!==Pe&&ue){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},X.filter.ID=function(e){var t=e.replace(st,ut);return function(e){return e.getAttribute("id")===t}},X.find.TAG=Y.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Pe)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},X.find.CLASS=Y.getElementsByClassName&&function(e,t){if(ue)return t.getElementsByClassName(e)},le=[],ce=[],Y.disconnectedMatch=!0,ce=ce.length&&new RegExp(ce.join("|")),le=le.length&&new RegExp(le.join("|")),t=rt.test(se.compareDocumentPosition),fe=t||rt.test(se.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Be=t?function(e,t){if(e===t)return oe=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Y.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===Ae&&fe(Ae,e)?-1:t===u||t.ownerDocument===Ae&&fe(Ae,t)?1:re?Ue.call(re,e)-Ue.call(re,t):0:4&n?-1:1)}:function(e,t){if(e===t)return oe=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===u?-1:t===u?1:o?-1:i?1:re?Ue.call(re,e)-Ue.call(re,t):0;if(o===i)return dt(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?dt(a[r],s[r]):a[r]===Ae?-1:s[r]===Ae?1:0},u):ae},ct.matches=function(e,t){return ct(e,null,null,t)},ct.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ae&&ie(e),t=t.replace(Je,"='$1']"),Y.matchesSelector&&ue&&(!le||!le.test(t))&&(!ce||!ce.test(t)))try{var n=(void 0).call(e,t);if(n||Y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ct(t,ae,null,[e]).length},ct.contains=function(e,t){return(e.ownerDocument||e)!==ae&&ie(e),fe(e,t)},ct.attr=function(e,t){(e.ownerDocument||e)!==ae&&ie(e);var n=X.attrHandle[t.toLowerCase()],r=n&&Ie.call(X.attrHandle,t.toLowerCase())?n(e,t,!ue):void 0;return void 0!==r?r:Y.attributes||!ue?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ct.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ct.uniqueSort=function(e){var t,n=[],r=0,o=0;if(oe=!Y.detectDuplicates,re=!Y.sortStable&&e.slice(0),e.sort(Be),oe){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return re=null,e},J=ct.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=J(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=J(t);return n},(X=ct.selectors={cacheLength:50,createPseudo:ft,match:et,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,ut),e[3]=(e[3]||e[4]||e[5]||"").replace(st,ut),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ct.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ct.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return et.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ze.test(n)&&(t=Q(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(st,ut).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Oe[e+" "];return t||(t=new RegExp("(^|"+We+")"+e+"("+We+"|$)"))&&Oe(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Pe&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=ct.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,s,u,c=g!==v?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(g){for(;c;){for(i=e;i=i[c];)if(b?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&d){for(s=(r=(o=l[Te]||(l[Te]={}))[h]||[])[0]===Re&&r[1],a=r[0]===Re&&r[2],i=s&&l.childNodes[s];i=++s&&i&&i[c]||(a=s=0)||u.pop();)if(1===i.nodeType&&++a&&i===e){o[h]=[Re,s,a];break}}else if(d&&(r=(e[Te]||(e[Te]={}))[h])&&r[0]===Re)a=r[1];else for(;(i=++s&&i&&i[c]||(a=s=0)||u.pop())&&((b?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[Te]||(i[Te]={}))[h]=[Re,a]),i!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,i){var t,a=X.pseudos[e]||X.setFilters[e.toLowerCase()]||ct.error("unsupported pseudo: "+e);return a[Te]?a(i):1<a.length?(t=[e,e,"",i],X.setFilters.hasOwnProperty(e.toLowerCase())?ft(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=Ue.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ft(function(e){var r=[],o=[],s=ee(e.replace(Ge,"$1"));return s[Te]?ft(function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,s(r,null,n,o),!o.pop()}}),has:ft(function(t){return function(e){return 0<ct(t,e).length}}),contains:ft(function(t){return t=t.replace(st,ut),function(e){return-1<(e.textContent||e.innerText||J(e)).indexOf(t)}}),lang:ft(function(n){return Qe.test(n||"")||ct.error("unsupported lang: "+n),n=n.replace(st,ut).toLowerCase(),function(e){var t;do{if(t=ue?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===se},focus:function(e){return e===ae.activeElement&&(!ae.hasFocus||ae.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!X.pseudos.empty(e)},header:function(e){return nt.test(e.nodeName)},input:function(e){return tt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(e,t){return[t-1]}),eq:mt(function(e,t,n){return[n<0?n+t:n]}),even:mt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:mt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:mt(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:mt(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=X.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[G]=ht(G);for(G in{submit:!0,reset:!0})X.pseudos[G]=pt(G);function vt(){}function bt(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function yt(a,e,t){var s=e.dir,u=t&&"parentNode"===s,c=Ne++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var r,o,i=[Re,c];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((r=(o=e[Te]||(e[Te]={}))[s])&&r[0]===Re&&r[1]===c)return i[2]=r[2];if((o[s]=i)[2]=a(e,t,n))return!0}}}function _t(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function wt(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function xt(h,p,m,g,v,e){return g&&!g[Te]&&(g=xt(g)),v&&!v[Te]&&(v=xt(v,e)),ft(function(e,t,n,r){var o,i,a,s=[],u=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ct(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!e&&p?l:wt(l,s,h,n,r),d=m?v||(e?h:c||g)?[]:t:f;if(m&&m(f,d,n,r),g)for(o=wt(d,u),g(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[u[i]]=!(f[u[i]]=a));if(e){if(v||h){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?Ue.call(e,a):s[i])&&(e[o]=!(t[o]=a))}}else d=wt(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):He.apply(t,d)})}function Ct(e){for(var r,t,n,o=e.length,i=X.relative[e[0].type],a=i||X.relative[" "],s=i?1:0,u=yt(function(e){return e===r},a,!0),c=yt(function(e){return-1<Ue.call(r,e)},a,!0),l=[function(e,t,n){return!i&&(n||t!==ne)||((r=t).nodeType?u(e,t,n):c(e,t,n))}];s<o;s++)if(t=X.relative[e[s].type])l=[yt(_t(l),t)];else{if((t=X.filter[e[s].type].apply(null,e[s].matches))[Te]){for(n=++s;n<o&&!X.relative[e[n].type];n++);return xt(1<s&&_t(l),1<s&&bt(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Ge,"$1"),t,s<n&&Ct(e.slice(s,n)),n<o&&Ct(e=e.slice(n)),n<o&&bt(e))}l.push(t)}return _t(l)}vt.prototype=X.filters=X.pseudos,X.setFilters=new vt,Q=ct.tokenize=function(e,t){var n,r,o,i,a,s,u,c=De[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=X.preFilter;a;){for(i in n&&!(r=Ye.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=Xe.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ge," ")}),a=a.slice(n.length)),X.filter)!(r=et[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ct.error(e):De(e,s).slice(0)},ee=ct.compile=function(e,t){var n,g,v,b,y,r,o=[],i=[],a=Le[e+" "];if(!a){for(t||(t=Q(e)),n=t.length;n--;)(a=Ct(t[n]))[Te]?o.push(a):i.push(a);(a=Le(e,(g=i,b=0<(v=o).length,y=0<g.length,r=function(e,t,n,r,o){var i,a,s,u=0,c="0",l=e&&[],f=[],d=ne,h=e||y&&X.find.TAG("*",o),p=Re+=null==d?1:Math.random()||.1,m=h.length;for(o&&(ne=t!==ae&&t);c!==m&&null!=(i=h[c]);c++){if(y&&i){for(a=0;s=g[a++];)if(s(i,t,n)){r.push(i);break}o&&(Re=p)}b&&((i=!s&&i)&&u--,e&&l.push(i))}if(u+=c,b&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=je.call(r));f=wt(f)}He.apply(r,f),o&&!e&&0<f.length&&1<u+v.length&&ct.uniqueSort(r)}return o&&(Re=p,ne=d),l},b?ft(r):r))).selector=e}return a},te=ct.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&Q(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&Y.getById&&9===t.nodeType&&ue&&X.relative[i[1].type]){if(!(t=(X.find.ID(a.matches[0].replace(st,ut),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=et.needsContext.test(e)?0:i.length;o--&&(a=i[o],!X.relative[s=a.type]);)if((u=X.find[s])&&(r=u(a.matches[0].replace(st,ut),it.test(i[0].type)&&gt(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&bt(i)))return He.apply(n,r),n;break}}return(c||ee(e,l))(r,t,!ue,n,it.test(e)&&gt(t.parentNode)||t),n},Y.sortStable=Te.split("").sort(Be).join("")===Te,Y.detectDuplicates=!!oe,ie(),Y.sortDetached=!0;var kt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},St=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},Et=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Tt={isArray:kt,toArray:function(e){var t,n,r=e;if(!kt(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:St,map:function(n,r){var o=[];return St(n,function(e,t){o.push(r(e,t,n))}),o},filter:function(n,r){var o=[];return St(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:Et,find:function(e,t,n){var r=Et(e,t,n);if(-1!==r)return e[r]},last:function(e){return e[e.length-1]}},At=/^\s*|\s*$/g,Rt=function(e){return null==e?"":(""+e).replace(At,"")},Nt=function(e,t){return t?!("array"!==t||!Tt.isArray(e))||typeof e===t:void 0!==e},Ot=function(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),Tt.each(e,function(e,t){if(!1===n.call(o,e,t,r))return!1;Ot(e,n,r,o)}))},Dt={trim:Rt,isArray:Tt.isArray,is:Nt,toArray:Tt.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:Tt.each,map:Tt.map,grep:Tt.filter,inArray:Tt.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s,u=arguments;for(n=1,r=u.length;n<r;n++)for(o in t=u[n])t.hasOwnProperty(o)&&void 0!==(s=t[o])&&(e[o]=s);return e},create:function(e,t,n){var r,o,i,a,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=u.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},c=1),o[i]=t[i],u.extend(o[i].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[i],o[i]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},o[i].prototype[i]=o[i],u.each(r,function(e,t){o[i].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),u.each(t.static,function(e,t){o[i][t]=e})}},walk:Ot,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Nt(e,"array")?e:Tt.map(e.split(t||","),Rt)},_addCacheSuffix:function(e){var t=de.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Lt=document,Bt=Array.prototype.push,Pt=Array.prototype.slice,Mt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,It=Ee.Event,Ft=Dt.makeMap("children,contents,next,prev"),jt=function(e){return void 0!==e},zt=function(e){return"string"==typeof e},Ht=function(e,t){var n,r,o;for(o=(t=t||Lt).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},qt=function(e,t,n,r){var o;if(zt(t))t=Ht(t,nn(e[0]));else if(t.length&&!t.nodeType){if(t=Jt.makeArray(t),r)for(o=t.length-1;0<=o;o--)qt(e,t[o],n,r);else for(o=0;o<t.length;o++)qt(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Ut=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Wt=function(e,t,n){var r,o;return t=Jt(t)[0],e.each(function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)}),e},Vt=Dt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Kt=Dt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),$t={for:"htmlFor",class:"className",readonly:"readOnly"},Gt={float:"cssFloat"},Yt={},Xt={},Jt=function(e,t){return new Jt.fn.init(e,t)},Zt=/^\s*|\s*$/g,Qt=function(e){return null==e?"":(""+e).replace(Zt,"")},en=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},tn=function(e,n){var r=[];return en(e,function(e,t){n(t,e)&&r.push(t)}),r},nn=function(e){return e?9===e.nodeType?e:e.ownerDocument:Lt};Jt.fn=Jt.prototype={constructor:Jt,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Jt(e).attr(t);o.context=t=document}if(zt(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Mt.exec(e)))return Jt(t).find(e);if(n[1])for(r=Ht(e,nn(t)).firstChild;r;)Bt.call(o,r),r=r.nextSibling;else{if(!(r=nn(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Dt.toArray(this)},add:function(e,t){var n,r,o=this;if(zt(e))return o.add(Jt(e));if(!1!==t)for(n=Jt.unique(o.toArray().concat(Jt.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Bt.apply(o,Jt.makeArray(e));return o},attr:function(t,n){var e,r=this;if("object"==typeof t)en(t,function(e,t){r.attr(e,t)});else{if(!jt(n)){if(r[0]&&1===r[0].nodeType){if((e=Yt[t])&&e.get)return e.get(r[0],t);if(Kt[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=Yt[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=$t[e]||e))en(e,function(e,t){n.prop(e,t)});else{if(!jt(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){var e,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof t)en(t,function(e,t){o.css(e,t)});else if(jt(n))t=i(t),"number"!=typeof n||Vt[t]||(n=n.toString()+"px"),o.each(function(){var e=this.style;if((r=Xt[t])&&r.set)r.set(this,n);else{try{this.style[Gt[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(a(t)):e.removeAttribute(t))}});else{if(e=o[0],(r=Xt[t])&&r.get)return r.get(e);if(e.ownerDocument.defaultView)try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(t))}catch(e){return}else if(e.currentStyle)return e.currentStyle[i(t)]}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],It.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,r=this;if(jt(t)){n=r.length;try{for(;n--;)r[n].innerHTML=t}catch(e){Jt(r[n]).empty().append(t)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var t,n=this;if(jt(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return qt(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return qt(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?qt(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?qt(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Jt(e).append(this),this},prependTo:function(e){return Jt(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Wt(this,e)},wrapAll:function(e){return Wt(this,e,!0)},wrapInner:function(e){return this.each(function(){Jt(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Jt(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Jt(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return"string"!=typeof o||(-1!==o.indexOf(" ")?en(o.split(" "),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r;(r=Ut(t,o))!==i&&(n=t.className,r?t.className=Qt((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o)})),e},hasClass:function(e){return Ut(this[0],e)},each:function(e){return en(this,e)},on:function(e,t){return this.each(function(){It.bind(this,e,t)})},off:function(e,t){return this.each(function(){It.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?It.fire(this,e.type,e):It.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Jt(Pt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Jt.find(e,this[t],r);return Jt(r)},filter:function(n){return Jt("function"==typeof n?tn(this.toArray(),function(e,t){return n(t,e)}):Jt.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof Jt&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&Jt(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),Jt(r)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Bt,sort:[].sort,splice:[].splice},Dt.extend(Jt,{extend:Dt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Dt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Dt.isArray,each:en,trim:Qt,grep:tn,find:ct,expr:ct.selectors,unique:ct.uniqueSort,text:ct.getText,contains:ct.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Jt.find.matchesSelector(t[0],e)?[t[0]]:[]:Jt.find.matches(e,t)}});var rn=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Jt&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Jt(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},on=function(e,t,n,r){var o=[];for(r instanceof Jt&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Jt(e).is(r))break}o.push(e)}return o},an=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};en({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rn(e,"parentNode")},next:function(e){return an(e,"nextSibling",1)},prev:function(e){return an(e,"previousSibling",1)},children:function(e){return on(e.firstChild,"nextSibling",1)},contents:function(e){return Dt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){Jt.fn[e]=function(t){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(Jt.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Ft[e]||(n=Jt.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=Jt(n),t?n.filter(t):n}}),en({parentsUntil:function(e,t){return rn(e,"parentNode",t)},nextUntil:function(e,t){return on(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return on(e,"previousSibling",1,t).slice(1)}},function(r,o){Jt.fn[r]=function(t,e){var n=[];return this.each(function(){var e=o.call(n,this,t,n);e&&(Jt.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=Jt.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse())),n=Jt(n),e?n.filter(e):n}}),Jt.fn.is=function(e){return!!e&&0<this.filter(e).length},Jt.fn.init.prototype=Jt.fn,Jt.overrideDefaults=function(n){var r,o=function(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new o.fn.init(e,t)};return Jt.extend(o,this),o};var sn=function(n,r,e){en(e,function(e,t){n[e]=n[e]||{},n[e][r]=t})};de.ie&&de.ie<8&&(sn(Yt,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),sn(Yt,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),de.ie&&de.ie<9&&(Gt.float="styleFloat",sn(Xt,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Jt.attrHooks=Yt,Jt.cssHooks=Xt;var un,cn=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},ln=function(){return fn(0,0)},fn=function(e,t){return{major:e,minor:t}},dn={nu:fn,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?ln():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return fn(r(1),r(2))}(e,n)},unknown:ln},hn="Firefox",pn=function(e,t){return function(){return t===e}},mn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:pn("Edge",t),isChrome:pn("Chrome",t),isIE:pn("IE",t),isOpera:pn("Opera",t),isFirefox:pn(hn,t),isSafari:pn("Safari",t)}},gn={unknown:function(){return mn({current:void 0,version:dn.unknown()})},nu:mn,edge:b.constant("Edge"),chrome:b.constant("Chrome"),ie:b.constant("IE"),opera:b.constant("Opera"),firefox:b.constant(hn),safari:b.constant("Safari")},vn="Windows",bn="Android",yn="Solaris",_n="FreeBSD",wn=function(e,t){return function(){return t===e}},xn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:wn(vn,t),isiOS:wn("iOS",t),isAndroid:wn(bn,t),isOSX:wn("OSX",t),isLinux:wn("Linux",t),isSolaris:wn(yn,t),isFreeBSD:wn(_n,t)}},Cn={unknown:function(){return xn({current:void 0,version:dn.unknown()})},nu:xn,windows:b.constant(vn),ios:b.constant("iOS"),android:b.constant(bn),linux:b.constant("Linux"),osx:b.constant("OSX"),solaris:b.constant(yn),freebsd:b.constant(_n)},kn=function(e,t){var n=String(t).toLowerCase();return I.find(e,function(e){return e.search(n)})},Sn=function(e,n){return kn(e,n).map(function(e){var t=dn.detect(e.versionRegexes,n);return{current:e.name,version:t}})},En=function(e,n){return kn(e,n).map(function(e){var t=dn.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Tn=function(e,t){return-1!==e.indexOf(t)},An=function(e){return e.replace(/^\s+|\s+$/g,"")},Rn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nn=function(t){return function(e){return Tn(e,t)}},On=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Tn(e,"edge/")&&Tn(e,"chrome")&&Tn(e,"safari")&&Tn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Rn],search:function(e){return Tn(e,"chrome")&&!Tn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Tn(e,"msie")||Tn(e,"trident")}},{name:"Opera",versionRegexes:[Rn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nn("firefox")},{name:"Safari",versionRegexes:[Rn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Tn(e,"safari")||Tn(e,"mobile/"))&&Tn(e,"applewebkit")}}],Dn=[{name:"Windows",search:Nn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Tn(e,"iphone")||Tn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nn("linux"),versionRegexes:[]},{name:"Solaris",search:Nn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nn("freebsd"),versionRegexes:[]}],Ln={browsers:b.constant(On),oses:b.constant(Dn)},Bn=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=Ln.browsers(),h=Ln.oses(),p=Sn(d,e).fold(gn.unknown,gn.nu),m=En(h,e).fold(Cn.unknown,Cn.nu);return{browser:p,os:m,deviceType:(n=p,r=e,o=(t=m).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,u=o||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!u,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:b.constant(o),isiPhone:b.constant(i),isTablet:b.constant(u),isPhone:b.constant(l),isTouch:b.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:b.constant(f)})}},Pn={detect:cn(function(){var e=navigator.userAgent;return Bn(e)})},Mn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:b.constant(e)}},In={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Mn(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Mn(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Mn(n)},fromDom:Mn,fromPoint:function(e,t,n){return A.from(e.dom().elementFromPoint(t,n)).map(Mn)}},Fn=8,jn=9,zn=1,Hn=3,qn=function(e){return e.dom().nodeName.toLowerCase()},Un=function(e){return e.dom().nodeType},Wn=function(t){return function(e){return Un(e)===t}},Vn=Wn(zn),Kn=Wn(Hn),$n=Wn(jn),Gn={name:qn,type:Un,value:function(e){return e.dom().nodeValue},isElement:Vn,isText:Kn,isDocument:$n,isComment:function(e){return Un(e)===Fn||"#comment"===qn(e)}},Yn=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},Xn={isString:Yn("string"),isObject:Yn("object"),isArray:Yn("array"),isNull:Yn("null"),isBoolean:Yn("boolean"),isUndefined:Yn("undefined"),isFunction:Yn("function"),isNumber:Yn("number")},Jn=void 0===(un=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:un,Zn=function(e,t){for(var n=Jn(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},Qn=function(r,o){var i={};return Zn(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},er=function(e,n){var r=[];return Zn(e,function(e,t){r.push(n(e,t))}),r},tr=function(e){return er(e,function(e){return e})},nr={bifilter:function(e,n){var r={},o={};return Zn(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:Zn,map:function(e,r){return Qn(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:er,tupleMap:Qn,find:function(e,t){for(var n=Jn(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return A.some(a)}return A.none()},keys:Jn,values:tr,size:function(e){return tr(e).length}},rr=function(e,t,n){if(!(Xn.isString(n)||Xn.isBoolean(n)||Xn.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},or=function(e,t,n){rr(e.dom(),t,n)},ir=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},ar=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},sr={clone:function(e){return I.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:or,setAll:function(e,t){var n=e.dom();nr.each(t,function(e,t){rr(n,t,e)})},get:ir,has:ar,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(o,i,e){Gn.isElement(o)&&Gn.isElement(i)&&I.each(e,function(e){var t,n,r;n=i,ar(t=o,r=e)&&!ar(n,r)&&or(n,r,ir(t,r))})}},ur=cn(function(){return cr(In.fromDom(document))}),cr=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return In.fromDom(t)},lr={body:ur,getBody:cr,inBody:function(e){var t=Gn.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},fr=function(e){return void 0!==e.style},dr=function(e,t,n){if(!Xn.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);fr(e)&&e.style.setProperty(t,n)},hr=function(e,t){return fr(e)?e.style.getPropertyValue(t):""},pr=function(e,t){var n=e.dom();nr.each(t,function(e,t){dr(n,t,e)})},mr=function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||lr.inBody(e)?r:hr(n,t);return null===o?void 0:o},gr=function(e){return e.slice(0).sort()},vr={sort:gr,reqMessage:function(e,t){throw new Error("All required keys ("+gr(e).join(", ")+") were not specified. Specified keys were: "+gr(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+gr(e).join(", "))},validateStrArr:function(t,e){if(!Xn.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");I.each(e,function(e){if(!Xn.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+gr(e).join(", ")+") were not.")},checkDupes:function(e){var n=gr(e);I.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},br={immutable:function(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return I.each(t,function(e,t){r[e]=b.constant(n[t])}),r}},immutableBag:function(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return vr.validateStrArr("required",o),vr.validateStrArr("optional",i),vr.checkDupes(a),function(t){var n=nr.keys(t);I.forall(o,function(e){return I.contains(n,e)})||vr.reqMessage(o,n);var e=I.filter(n,function(e){return!I.contains(a,e)});0<e.length&&vr.unsuppMessage(e);var r={};return I.each(o,function(e){r[e]=b.constant(t[e])}),I.each(i,function(e){r[e]=b.constant(Object.prototype.hasOwnProperty.call(t,e)?A.some(t[e]):A.none())}),r}}},yr=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},_r=function(){return H.getOrDie("Node")},wr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},xr=function(e,t){return wr(e,t,_r().DOCUMENT_POSITION_CONTAINED_BY)},Cr=zn,kr=jn,Sr=function(e){return e.nodeType!==Cr&&e.nodeType!==kr||0===e.childElementCount},Er={all:function(e,t){var n=void 0===t?document:t.dom();return Sr(n)?[]:I.map(n.querySelectorAll(e),In.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==Cr)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return Sr(n)?A.none():A.from(n.querySelector(e)).map(In.fromDom)}},Tr=function(e,t){return e.dom()===t.dom()},Ar=Pn.detect().browser.isIE()?function(e,t){return xr(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Rr={eq:Tr,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return I.exists(t,b.curry(Tr,e))},contains:Ar,is:Er.is},Nr=function(e){return In.fromDom(e.dom().ownerDocument)},Or=function(e){var t=e.dom();return A.from(t.parentNode).map(In.fromDom)},Dr=function(e){var t=e.dom();return A.from(t.previousSibling).map(In.fromDom)},Lr=function(e){var t=e.dom();return A.from(t.nextSibling).map(In.fromDom)},Br=function(e){var t=e.dom();return I.map(t.childNodes,In.fromDom)},Pr=function(e,t){var n=e.dom().childNodes;return A.from(n[t]).map(In.fromDom)},Mr=br.immutable("element","offset"),Ir={owner:Nr,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return In.fromDom(t)},documentElement:function(e){var t=Nr(e);return In.fromDom(t.dom().documentElement)},parent:Or,findIndex:function(n){return Or(n).bind(function(e){var t=Br(e);return I.findIndex(t,function(e){return Rr.eq(n,e)})})},parents:function(e,t){for(var n=Xn.isFunction(t)?t:b.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=In.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},siblings:function(t){return Or(t).map(Br).map(function(e){return I.filter(e,function(e){return!Rr.eq(t,e)})}).getOr([])},prevSibling:Dr,offsetParent:function(e){var t=e.dom();return A.from(t.offsetParent).map(In.fromDom)},prevSiblings:function(e){return I.reverse(yr(e,Dr))},nextSibling:Lr,nextSiblings:function(e){return yr(e,Lr)},children:Br,child:Pr,firstChild:function(e){return Pr(e,0)},lastChild:function(e){return Pr(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=Br(e);return 0<n.length&&t<n.length?Mr(n[t],0):Mr(e,t)}},Fr=Pn.detect().browser,jr=function(e){return I.find(e,Gn.isElement)},zr=function(e,t,n){var r,o,i,a=0,s=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===mr(In.fromDom(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:s=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(i=In.fromDom(t),Fr.isFirefox()&&"table"===Gn.name(i)?jr(Ir.children(i)).filter(function(e){return"caption"===Gn.name(e)}).bind(function(o){return jr(Ir.nextSiblings(o)).map(function(e){var t=e.dom().offsetTop,n=o.dom().offsetTop,r=o.dom().offsetHeight;return t<=n?-r:0})}).getOr(0):0)}return{x:a,y:s}},Hr=function(e){var n=A.none(),t=[],r=function(e){o()?a(e):t.push(e)},o=function(){return n.isSome()},i=function(e){I.each(e,a)},a=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){n=A.some(e),i(t),t=[]}),{get:r,map:function(n){return Hr(function(t){r(function(e){t(n(e))})})},isReady:o}},qr={nu:Hr,pure:function(t){return Hr(function(e){e(t)})}},Ur=function(n){return function(){var e=Array.prototype.slice.call(arguments),t=this;setTimeout(function(){n.apply(t,e)},0)}},Wr=function(t){var e=function(e){t(Ur(e))};return{map:function(r){return Wr(function(n){e(function(e){var t=r(e);n(t)})})},bind:function(n){return Wr(function(t){e(function(e){n(e).get(t)})})},anonBind:function(n){return Wr(function(t){e(function(e){n.get(t)})})},toLazy:function(){return qr.nu(e)},get:e}},Vr={nu:Wr,pure:function(t){return Wr(function(e){e(t)})}},Kr=function(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):I.each(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})})},$r=function(e){return Kr(e,Vr.nu)},Gr={par:$r,mapM:function(e,t){var n=I.map(e,t);return $r(n)},compose:function(t,n){return function(e){return n(e).bind(t)}}},Yr=function(n){return{is:function(e){return n===e},isValue:b.always,isError:b.never,getOr:b.constant(n),getOrThunk:b.constant(n),getOrDie:b.constant(n),or:function(e){return Yr(n)},orThunk:function(e){return Yr(n)},fold:function(e,t){return t(n)},map:function(e){return Yr(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return A.some(n)}}},Xr=function(n){return{is:b.never,isValue:b.never,isError:b.always,getOr:b.identity,getOrThunk:function(e){return e()},getOrDie:function(){return b.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return Xr(n)},each:b.noop,bind:function(e){return Xr(n)},exists:b.never,forall:b.always,toOption:A.none}},Jr={value:Yr,error:Xr};function Zr(e,s){var t=e,n=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==s){if(o=e[n])return o;for(i=e.parentNode;i&&i!==s;i=i.parentNode)if(o=i[n])return o}}};this.current=function(){return t},this.next=function(e){return t=n(t,"firstChild","nextSibling",e)},this.prev=function(e){return t=n(t,"lastChild","previousSibling",e)},this.prev2=function(e){return t=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],s&&o===s)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==s)return i}}(t,"lastChild","previousSibling",e)}}var Qr,eo,to,no=function(t){var n;return function(e){return(n=n||I.mapToObject(t,b.constant(!0))).hasOwnProperty(Gn.name(e))}},ro=no(["h1","h2","h3","h4","h5","h6"]),oo=no(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),io=function(e){return Gn.isElement(e)&&!oo(e)},ao=function(e){return Gn.isElement(e)&&"br"===Gn.name(e)},so=no(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),uo=no(["ul","ol","dl"]),co=no(["li","dd","dt"]),lo=no(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),fo=no(["thead","tbody","tfoot"]),ho=no(["td","th"]),po=function(t){return function(e){return!!e&&e.nodeType===t}},mo=po(1),go=function(e){var r=e.toLowerCase().split(" ");return function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<r.length;t++)if(n===r[t])return!0;return!1}},vo=function(t){return function(e){if(mo(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},bo=po(3),yo=po(8),_o=po(9),wo=go("br"),xo=vo("true"),Co=vo("false"),ko={isText:bo,isElement:mo,isComment:yo,isDocument:_o,isBr:wo,isContentEditableTrue:xo,isContentEditableFalse:Co,matchNodeNames:go,hasPropValue:function(t,n){return function(e){return mo(e)&&e[t]===n}},hasAttribute:function(t,e){return function(e){return mo(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,n){return function(e){return mo(e)&&e.getAttribute(t)===n}},matchStyleValues:function(n,e){var r=e.toLowerCase().split(" ");return function(e){var t;if(mo(e))for(t=0;t<r.length;t++)if(e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(n)===r[t])return!0;return!1}},isBogus:function(e){return mo(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return mo(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return mo(e)&&"TABLE"===e.tagName}},So=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Eo=function(e,t){var n,r=t.childNodes;if(!ko.isElement(t)||!So(t)){for(n=r.length-1;0<=n;n--)Eo(e,r[n]);if(!1===ko.isDocument(t)){if(ko.isText(t)&&0<t.nodeValue.length){var o=Dt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<o)return;if(0===o&&(a=(i=t).previousSibling&&"SPAN"===i.previousSibling.nodeName,s=i.nextSibling&&"SPAN"===i.nextSibling.nodeName,a&&s))return}else if(ko.isElement(t)&&(1===(r=t.childNodes).length&&So(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||lo(In.fromDom(t))))return;e.remove(t)}var i,a,s;return t}},To={trimNode:Eo},Ao=Dt.makeMap,Ro=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,No=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Oo=/[<>&\"\']/g,Do=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Lo={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};eo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},to={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Bo=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),eo[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};Qr=Bo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Po=function(e,t){return e.replace(t?Ro:No,function(e){return eo[e]||e})},Mo=function(e,t){return e.replace(t?Ro:No,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":eo[e]||"&#"+e.charCodeAt(0)+";"})},Io=function(e,t,n){return n=n||Qr,e.replace(t?Ro:No,function(e){return eo[e]||n[e]||e})},Fo={encodeRaw:Po,encodeAllRaw:function(e){return(""+e).replace(Oo,function(e){return eo[e]||e})},encodeNumeric:Mo,encodeNamed:Io,getEncodeFunc:function(e,t){var n=Bo(t)||Qr,r=Ao(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?Ro:No,function(e){return void 0!==eo[e]?eo[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:r.named?t?function(e,t){return Io(e,t,n)}:Io:r.numeric?Mo:Po},decode:function(e){return e.replace(Do,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Lo[t]||String.fromCharCode(t):to[e]||Qr[e]||(n=e,(r=In.fromTag("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},jo={},zo={},Ho=Dt.makeMap,qo=Dt.each,Uo=Dt.extend,Wo=Dt.explode,Vo=Dt.inArray,Ko=function(e,t){return(e=Dt.trim(e))?e.split(t||" "):[]},$o=function(e){var s,t,n,r,o,i,u={},a=function(e,t,n){var r,o,i,a=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(t=t||"","string"==typeof(n=n||[])&&(n=Ko(n)),r=(e=Ko(e)).length;r--;)i={attributes:a(o=Ko([s,t].join(" "))),attributesOrder:o,children:a(n,zo)},u[e[r]]=i},c=function(e,t){var n,r,o,i;for(n=(e=Ko(e)).length,t=Ko(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return jo[e]?jo[e]:(s="id accesskey class dir lang style tabindex title role",t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",t+=" article aside details dialog figure header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(s+=" xml:lang",n=[n,i="acronym applet basefont big font strike tt"].join(" "),qo(Ko(i),function(e){a(e,"",n)}),t=[t,o="center dir isindex noframes"].join(" "),r=[t,n].join(" "),qo(Ko(o),function(e){a(e,"",r)})),r=r||[t,n].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),a("address dt dd div caption","",r),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",r),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",r),a("dl","","dt dd"),a("a","href target rel media hreflang type",n),a("q","cite",n),a("ins del","cite datetime",r),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",r),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),a("param","name value"),a("map","name",[r,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",r),a("th","colspan rowspan headers scope abbr",r),a("form","accept-charset action autocomplete enctype method name novalidate target",r),a("fieldset","disabled form name",[r,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[r,"li"].join(" ")),a("noscript","",r),"html4"!==e&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",r),a("mark rt rp summary bdi","",n),a("canvas","width height",r),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside header footer","",r),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[r,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",r),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[r,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),qo(Ko("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,jo[e]=u)},Go=function(e,n){var r;return e&&(r={},"string"==typeof e&&(e={"*":e}),qo(e,function(e,t){r[t]=r[t.toUpperCase()]="map"===n?Ho(e,/[, ]/):Wo(e,/[, ]/)})),r};function Yo(i){var e,t,n,r,o,a,s,u,c,l,f,d,h,C={},p={},k=[],m={},g={},v=function(e,t,n){var r=i[e];return r?r=Ho(r,/[, ]/,Ho(r.toUpperCase(),/[, ]/)):(r=jo[e])||(r=Ho(t," ",Ho(t.toUpperCase()," ")),r=Uo(r,n),jo[e]=r),r};n=$o((i=i||{}).schema),!1===i.verify_html&&(i.valid_elements="*[*]"),e=Go(i.valid_styles),t=Go(i.invalid_styles,"map"),u=Go(i.valid_classes,"map"),r=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=v("non_empty_elements","td th iframe video audio object script pre code",a),f=v("move_caret_before_on_enter_elements","table",l),d=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),c=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",d),h=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),qo((i.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){g[e]=new RegExp("</"+e+"[^>]*>","gi")});var S=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},b=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(e)for(e=Ko(e,","),C["@"]&&(g=C["@"].attributes,v=C["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=_.exec(e[t])){if(p=i[1],c=i[2],m=i[3],u=i[5],a={attributes:d={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),g){for(b in g)d[b]=g[b];h.push.apply(h,v)}if(u)for(r=0,o=(u=Ko(u,"|")).length;r<o;r++)if(i=w.exec(u[r])){if(s={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),p=i[3],y=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===f){delete d[l],h.splice(Vo(h,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:y}),s.defaultValue=y),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:y}),s.forcedValue=y),"<"===p&&(s.validValues=Ho(y,"?"))),x.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=S(l),a.attributePatterns.push(s)):(d[l]||h.push(l),d[l]=s)}g||"@"!==c||(g=d,v=h),m&&(a.outputName=c,C[m]=a),x.test(c)?(a.pattern=S(c),k.push(a)):C[c]=a}},y=function(e){C={},k=[],b(e),qo(n,function(e,t){p[t]=e.children})},_=function(e){var a=/^(~)?(.+)$/;e&&(jo.text_block_elements=jo.block_elements=null,qo(Ko(e,","),function(e){var t=a.exec(e),n="~"===t[1],r=n?"span":"div",o=t[2];if(p[o]=p[r],m[o]=r,n||(c[o.toUpperCase()]={},c[o]={}),!C[o]){var i=C[r];delete(i=Uo({},i)).removeEmptyAttrs,delete i.removeEmpty,C[o]=i}qo(p,function(e,t){e[r]&&(p[t]=e=Uo({},p[t]),e[o]=e[r])})}))},w=function(e){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;jo[i.schema]=null,e&&qo(Ko(e,","),function(e){var t,n,r=o.exec(e);r&&(n=r[1],t=n?p[r[2]]:p[r[2]]={"#comment":{}},t=p[r[2]],qo(Ko(r[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})},x=function(e){var t,n=C[e];if(n)return n;for(t=k.length;t--;)if((n=k[t]).pattern.test(e))return n};return i.valid_elements?y(i.valid_elements):(qo(n,function(e,t){C[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},p[t]=e.children}),"html5"!==i.schema&&qo(Ko("strong/b em/i"),function(e){e=Ko(e,"/"),C[e[1]].outputName=e[0]}),qo(Ko("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){C[e]&&(C[e].removeEmpty=!0)}),qo(Ko("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){C[e].paddEmpty=!0}),qo(Ko("span"),function(e){C[e].removeEmptyAttrs=!0})),_(i.custom_elements),w(i.valid_children),b(i.extended_valid_elements),w("+ol[ul|ol],+ul[ul|ol]"),qo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){C[t]&&(C[t].parentsRequired=Ko(e))}),i.invalid_elements&&qo(Wo(i.invalid_elements),function(e){C[e]&&delete C[e]}),x("span")||b("span[!data-mce-type|*]"),{children:p,elements:C,getValidStyles:function(){return e},getValidClasses:function(){return u},getBlockElements:function(){return c},getInvalidStyles:function(){return t},getShortEndedElements:function(){return a},getTextBlockElements:function(){return d},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:x,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return g},isValidChild:function(e,t){var n=p[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=x(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return m},addValidElements:b,setValidElements:y,addCustomElements:_,addValidChildren:w}}var Xo=function(e,t,n,r){var o=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+o(t)+o(n)+o(r)};function Jo(y,e){var _,t,c,l,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,C=/\s*([^:]+):\s*([^;]+);?/g,k=/\s+$/,S={},E="\ufeff";for(y=y||{},e&&(c=e.getValidStyles(),l=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+E).split(" "),_=0;_<t.length;_++)S[t[_]]=E+_,S[E+_]=t[_];return{toHex:function(e){return e.replace(w,Xo)},parse:function(e){var t,n,r,o,i,a,s,u,c={},l=y.url_converter,f=y.url_converter_scope||this,d=function(e,t,n){var r,o,i,a;if((r=c[e+"-top"+t])&&(o=c[e+"-right"+t])&&(i=c[e+"-bottom"+t])&&(a=c[e+"-left"+t])){var s=[r,o,i,a];for(_=s.length-1;_--&&s[_]===s[_+1];);-1<_&&n||(c[e+t]=-1===_?s[0]:s.join(" "),delete c[e+"-top"+t],delete c[e+"-right"+t],delete c[e+"-bottom"+t],delete c[e+"-left"+t])}},h=function(e){var t,n=c[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return c[e]=n[0],!0}},p=function(e){return o=!0,S[e]},m=function(e,t){return o&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return S[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},g=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},v=function(e){return e.replace(/\\[0-9a-f]+/gi,g)},b=function(e,t,n,r,o,i){if(o=o||i)return"'"+(o=m(o)).replace(/\'/g,"\\'")+"'";if(t=m(t||n||r),!y.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!y.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return l&&(t=l.call(f,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,p)});t=C.exec(e);)if(C.lastIndex=t.index+t[0].length,n=t[1].replace(k,"").toLowerCase(),r=t[2].replace(k,""),n&&r){if(n=v(n),r=v(r),-1!==n.indexOf(E)||-1!==n.indexOf('"'))continue;if(!y.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(r)))continue;"font-weight"===n&&"700"===r?r="bold":"color"!==n&&"background-color"!==n||(r=r.toLowerCase()),r=(r=r.replace(w,Xo)).replace(x,b),c[n]=o?m(r,!0):r}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),i="border",s="border-style",u="border-color",h(a="border-width")&&h(s)&&h(u)&&(c[i]=c[a]+" "+c[s]+" "+c[u],delete c[a],delete c[s],delete c[u]),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(i,e){var t,n,r,o,a,s="",u=function(e){var t,n,r,o;if(t=c[e])for(n=0,r=t.length;n<r;n++)e=t[n],(o=i[e])&&(s+=(0<s.length?" ":"")+e+": "+o+";")};if(e&&c)u("*"),u(e);else for(t in i)!(n=i[t])||l&&(r=t,o=e,a=void 0,(a=l["*"])&&a[r]||(a=l[o])&&a[r])||(s+=(0<s.length?" ":"")+t+": "+n+";");return s}}}var Zo=Dt.each,Qo=Dt.is,ei=Dt.grep,ti=de.ie,ni=/^([a-z0-9],?)+$/i,ri=/^[ \t\r\n]*$/,oi=function(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)},ii=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},ai=function(e,t){var n,r,o,i,a,s,u=this;u.doc=e,u.win=window,u.files={},u.counter=0,u.stdMode=!ti||8<=e.documentMode,u.boxModel=!ti||"CSS1Compat"===e.compatMode||u.stdMode,u.styleSheetLoader=function(h,e){var p,m=0,g={};p=(e=e||{}).maxLoadTime||5e3;var v=function(e){h.getElementsByTagName("head")[0].appendChild(e)},n=function(e,t,n){var o,r,i,a,s=function(){for(var e=a.passed,t=e.length;t--;)e[t]();a.status=2,a.passed=[],a.failed=[]},u=function(){for(var e=a.failed,t=e.length;t--;)e[t]();a.status=3,a.passed=[],a.failed=[]},c=function(e,t){e()||((new Date).getTime()-i<p?ve.setTimeout(t):u())},l=function(){c(function(){for(var e,t,n=h.styleSheets,r=n.length;r--;)if((t=(e=n[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===o.id)return s(),!0},l)},f=function(){c(function(){try{var e=r.sheet.cssRules;return s(),!!e}catch(e){}},f)};if(e=Dt._addCacheSuffix(e),g[e]?a=g[e]:(a={passed:[],failed:[]},g[e]=a),t&&a.passed.push(t),n&&a.failed.push(n),1!==a.status)if(2!==a.status)if(3!==a.status){if(a.status=1,(o=h.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+m++,o.async=!1,o.defer=!1,i=(new Date).getTime(),"onload"in o&&!((d=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(d[1],10)<536))o.onload=l,o.onerror=u;else{if(0<navigator.userAgent.indexOf("Firefox"))return(r=h.createElement("style")).textContent='@import "'+e+'"',f(),void v(r);l()}var d;v(o),o.href=e}else u();else s()},t=function(t){return Vr.nu(function(e){n(t,b.compose(e,b.constant(Jr.value(t))),b.compose(e,b.constant(Jr.error(t))))})},o=function(e){return e.fold(b.identity,b.identity)};return{load:n,loadAll:function(e,n,r){Gr.par(I.map(e,t)).get(function(e){var t=I.partition(e,function(e){return e.isValue()});0<t.fail.length?r(t.fail.map(o)):n(t.pass.map(o))})}}}(e),u.boundEvents=[],u.settings=t=t||{},u.schema=t.schema?t.schema:Yo({}),u.styles=Jo({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u.fixDoc(e),u.events=t.ownEvents?new Ee(t.proxy):Ee.Event,u.attrHooks=(r=u,a={},s=(o=t).keep_values,i={set:function(e,t,n){o.url_converter&&(t=o.url_converter.call(o.url_converter_scope||r,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},a={style:{set:function(e,t){null===t||"object"!=typeof t?(s&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return t=r.serializeStyle(r.parseStyle(t),e[0].nodeName)}}},s&&(a.href=a.src=i),a),n=u.schema.getBlockElements(),u.$=Jt.overrideDefaults(function(){return{context:e,element:u.getRoot()}}),u.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}};ai.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){},clone:function(t,e){var n,r,o=this;return!ti||1!==t.nodeType||e?t.cloneNode(e):(r=o.doc,e?n.firstChild:(n=r.createElement(t.nodeName),Zo(o.getAttribs(t),function(e){o.setAttrib(n,e.nodeName,o.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var o,i=this,a=[];for(e=i.get(e),r=void 0===r,n=n||("BODY"!==i.getRoot().nodeName?i.getRoot().parentNode:null),Qo(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return i.is(e,o)});e&&e!==n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return ct(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1===e.nodeType;if(ni.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]===e)return!0;return!1}}if(e.nodeType&&1!==e.nodeType)return!1;var r=e.nodeType?[e]:e;return 0<ct(t,r[0].ownerDocument||r[0],null,r).length},add:function(e,n,r,o,i){var a=this;return this.run(e,function(e){var t;return t=Qo(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,r),o&&(o.nodeType?t.appendChild(o):a.setHTML(t,o)),i?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,o=this.doc;for(r=o.createElement("div"),t=o.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&oi(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=de.ie&&de.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&oi(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,o,i=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((o=this.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),r!==n&&i.onSetAttrib&&i.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var r=this;r.$$(e).each(function(e,n){Zo(t,function(e,t){r.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var r,o;return(e=this.$$(e)).length&&(o=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===o&&(o=n||""),o},getPos:function(e,t){return zr(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this.doc;if(this!==ai.DOM&&r===document){var o=ai.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,ai.DOM.addedStyles=o}(n=r.getElementById("mceDefaultStyles"))||((n=r.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=r.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var n,r=this,o=r.doc;r===ai.DOM||o!==document?(e||(e=""),n=o.getElementsByTagName("head")[0],Zo(e.split(","),function(e){var t;e=Dt._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),ti&&o.documentMode&&o.recalc&&(t.onload=function(){o.recalc&&o.recalc(),t.onload=null}),n.appendChild(t))})):ai.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&Jt(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"===this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),ti?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){Jt("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1===(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:Jt("<div></div>").append(Jt(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(Jt(this).html(t),!0)})},decode:Fo.decode,encode:Fo.encodeAllRaw,insertAfter:function(e,r){return r=this.get(r),this.run(e,function(e){var t,n;return t=r.parentNode,(n=r.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return Qo(e,"array")&&(t=t.cloneNode(!0)),n&&Zo(ei(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,r=this;return t.nodeName!==e.toUpperCase()&&(n=r.create(e),Zo(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),r.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(Dt.trim(e))},run:function(e,n,r){var o,i=this;return"string"==typeof e&&(e=i.get(e)),!!e&&(r=r||this,e.nodeType||!e.length&&0!==e.length?n.call(r,e):(o=[],Zo(e,function(e,t){e&&("string"==typeof e&&(e=i.get(e)),o.push(n.call(r,e,t)))}),o))},getAttribs:function(e){var t;return(e=this.get(e))?ti?(t=[],"OBJECT"===e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(e,t){var n,r,o,i,a,s,u=0;if(e=e.firstChild){a=new Zr(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),i=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(o=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(n=(r=this.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===o)return!1;if(3===o&&!ri.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&ri.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:ii,split:function(e,t,n){var r,o,i,a=this.createRng();if(e&&t)return a.setStart(e.parentNode,this.nodeIndex(e)),a.setEnd(t.parentNode,this.nodeIndex(t)),r=a.extractContents(),(a=this.createRng()).setStart(t.parentNode,this.nodeIndex(t)+1),a.setEnd(e.parentNode,this.nodeIndex(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(To.trimNode(this,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(To.trimNode(this,o),e),this.remove(e),n||t},bind:function(e,t,n,r){if(Dt.isArray(e)){for(var o=e.length;o--;)e[o]=this.bind(e[o],t,n,r);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,r]),this.events.bind(e,t,n,r||this)},unbind:function(e,t,n){var r;if(Dt.isArray(e)){for(r=e.length;r--;)e[r]=this.unbind(e[r],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(r=this.boundEvents.length;r--;){var o=this.boundEvents[r];e!==o[0]||t&&t!==o[1]||n&&n!==o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1===e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}ct.setDocument&&ct.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},ai.DOM=new ai(document),ai.nodeIndex=ii;var si=ai.DOM,ui=Dt.each,ci=Dt.grep,li=function(e){return"function"==typeof e},fi=function(){var f={},o=[],i={},a=[],d=0;this.isDone=function(e){return 2===f[e]},this.markDone=function(e){f[e]=2},this.add=this.load=function(e,t,n,r){void 0===f[e]&&(o.push(e),f[e]=0),t&&(i[e]||(i[e]=[]),i[e].push({success:t,failure:r,scope:n||this}))},this.remove=function(e){delete f[e],delete i[e]},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n)},this.loadScripts=function(n,e,t,r){var u,c=[],l=function(t,e){ui(i[e],function(e){li(e[t])&&e[t].call(e.scope)}),i[e]=void 0};a.push({success:e,failure:r,scope:t||this}),(u=function(){var e=ci(n);if(n.length=0,ui(e,function(e){var t,n,r,o,i,a,s;2!==f[e]?3!==f[e]?1!==f[e]&&(f[e]=1,d++,t=e,n=function(){f[e]=2,d--,l("success",e),u()},r=function(){f[e]=3,d--,c.push(e),l("failure",e),u()},s=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),n()},i=(a=si).uniqueId(),(o=document.createElement("script")).id=i,o.type="text/javascript",o.src=Dt._addCacheSuffix(t),"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&s()}:o.onload=s,o.onerror=function(){li(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)):l("failure",e):l("success",e)}),!d){var t=a.slice(0);a.length=0,ui(t,function(e){0===c.length?li(e.success)&&e.success.call(e.scope):li(e.failure)&&e.failure.call(e.scope,c)})}})()}};fi.ScriptLoader=new fi;var di=Dt.each,hi=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};hi.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=hi.language;if(n&&!1!==hi.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===t.indexOf(","+n+","))return;fi.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(t,e,n){this.items.push(e),this.lookup[t]={instance:e,dependencies:n};var r=I.partition(this._listeners,function(e){return e.name===t});return this._listeners=r.fail,di(r.pass,function(e){e.callback()}),e},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];di(t,function(e){fi.ScriptLoader.add(n+"/"+e)})},load:function(t,n,r,o,e){var i=this,a=n,s=function(){var e=i.dependencies(t);di(e,function(e){var t=i.createUrl(n,e);i.load(t.resource,t,void 0,void 0)}),r&&(o?r.call(o):r.call(fi))};i.urls[t]||("object"==typeof n&&(a=n.prefix+n.resource+n.suffix),0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=hi.baseURL+"/"+a),i.urls[t]=a.substring(0,a.lastIndexOf("/")),i.lookup[t]?s():fi.ScriptLoader.add(a,s,o,e))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},hi.PluginManager=new hi,hi.ThemeManager=new hi;var pi,mi="\ufeff",gi=function(e){return e===mi},vi=mi,bi=function(e){return e.replace(new RegExp(mi,"g"),"")},yi=ko.isElement,_i=ko.isText,wi=function(e){return _i(e)&&(e=e.parentNode),yi(e)&&e.hasAttribute("data-mce-caret")},xi=function(e){return _i(e)&&gi(e.data)},Ci=function(e){return wi(e)||xi(e)},ki=function(e){return e.firstChild!==e.lastChild||!ko.isBr(e.firstChild)},Si=function(e){var t=e.container();return e&&ko.isText(t)&&t.data.charAt(e.offset())===vi},Ei=function(e){var t=e.container();return e&&ko.isText(t)&&t.data.charAt(e.offset()-1)===vi},Ti=function(e,t,n){var r,o,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((i=document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},Ai=function(e){return _i(e)&&e.data[0]===vi},Ri=function(e){return _i(e)&&e.data[e.data.length-1]===vi},Ni=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],ko.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Oi=ko.isContentEditableTrue,Di=ko.isContentEditableFalse,Li=ko.isBr,Bi=ko.isText,Pi=ko.matchNodeNames("script style textarea"),Mi=ko.matchNodeNames("img input textarea hr iframe video audio object"),Ii=ko.matchNodeNames("table"),Fi=Ci,ji=function(e){return!Fi(e)&&(Bi(e)?!Pi(e.parentNode):Mi(e)||Li(e)||Ii(e)||Di(e))},zi=function(e,t){return ji(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Di(e))return!1;if(Oi(e))return!0}return!0}(e,t)},Hi=Math.round,qi=function(e){return e?{left:Hi(e.left),top:Hi(e.top),bottom:Hi(e.bottom),right:Hi(e.right),width:Hi(e.width),height:Hi(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ui=function(e,t){return e=qi(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Wi=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Vi=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Wi(t.top-e.bottom,e,t)},Ki=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Wi(t.bottom-e.top,e,t)},$i=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Gi=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Yi=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Xi=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Yi.test(e)},Ji=[].slice,Zi=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ji.call(arguments);return r.length-1>=e.length?e.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return Zi.apply(this,e)}},Qi={constant:function(e){return function(){return e}},negate:function(t){return function(e){return!t(e)}},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ji.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ji.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:Zi,compose:function(t,n){return function(e){return t(n(e))}},noop:function(){}},ea=ko.isElement,ta=ji,na=ko.matchStyleValues("display","block table"),ra=ko.matchStyleValues("float","left right"),oa=Qi.and(ea,ta,Qi.negate(ra)),ia=Qi.negate(ko.matchStyleValues("white-space","pre pre-line pre-wrap")),aa=ko.isText,sa=ko.isBr,ua=ai.nodeIndex,ca=Gi,la=function(e){return"createRange"in e?e.createRange():ai.DOM.createRng()},fa=function(e){return e&&/[\r\n\t ]/.test(e)},da=function(e){return!!e.setStart&&!!e.setEnd},ha=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(fa(e.toString())&&ia(n.parentNode)&&ko.isText(n)&&(t=n.data,fa(t[r-1])||fa(t[r+1])))},pa=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},ma=function(e){var t,n,r,o,i,a,s,u;return t=0<(n=e.getClientRects()).length?qi(n[0]):qi(e.getBoundingClientRect()),!da(e)&&sa(e)&&pa(t)?(i=(r=e).ownerDocument,a=la(i),s=i.createTextNode(""),(u=r.parentNode).insertBefore(s,r),a.setStart(s,0),a.setEnd(s,1),o=qi(a.getBoundingClientRect()),u.removeChild(s),o):pa(t)&&da(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&ko.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),ma(i)}return null}(e):t},ga=function(e,t){var n=Ui(e,t);return n.width=1,n.right=n.left+1,n},va=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(0<r.length&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=la(e.ownerDocument);if(t<e.data.length){if(Xi(e.data[t]))return r;if(Xi(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ha(n)))return o(ga(ma(n),!1)),r}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),ha(n)||o(ga(ma(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ha(n)||o(ga(ma(n),!0)))};if(aa(e.container()))return i(e.container(),e.offset()),r;if(ea(e.container()))if(e.isAtEnd())n=ca(e.container(),e.offset()),aa(n)&&i(n,n.data.length),oa(n)&&!sa(n)&&o(ga(ma(n),!1));else{if(n=ca(e.container(),e.offset()),aa(n)&&i(n,0),oa(n)&&e.isAtEnd())return o(ga(ma(n),!1)),r;t=ca(e.container(),e.offset()-1),oa(t)&&!sa(t)&&(na(t)||na(n)||!oa(n))&&o(ga(ma(t),!1)),oa(n)&&o(ga(ma(n),!0))}return r};function ba(t,n,e){var r=function(){return e||(e=va(ba(t,n))),e};return{container:Qi.constant(t),offset:Qi.constant(n),toRange:function(){var e;return(e=la(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return aa(t),0===n},isAtEnd:function(){return aa(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return ca(t,e?n-1:n)}}}(pi=ba||(ba={})).fromRangeStart=function(e){return pi(e.startContainer,e.startOffset)},pi.fromRangeEnd=function(e){return pi(e.endContainer,e.endOffset)},pi.after=function(e){return pi(e.parentNode,ua(e)+1)},pi.before=function(e){return pi(e.parentNode,ua(e))},pi.isAtStart=function(e){return!!e&&e.isAtStart()},pi.isAtEnd=function(e){return!!e&&e.isAtEnd()},pi.isTextPosition=function(e){return!!e&&ko.isText(e.container())};var ya,_a,wa=ba,xa=ko.isElement,Ca=ko.isText,ka=function(e){var t=e.parentNode;t&&t.removeChild(e)},Sa=function(e,t){0===t.length?ka(e):e.nodeValue=t},Ea=function(e){var t=bi(e);return{count:e.length-t.length,text:t}},Ta=function(e,t){return Na(e),t},Aa=function(e,t){return Ca(e)&&t.container()===e?(r=t,o=Ea((n=e).data.substr(0,r.offset())),i=Ea(n.data.substr(r.offset())),0<(a=o.text+i.text).length?(Sa(n,a),wa(n,r.offset()-o.count)):r):Ta(e,t);var n,r,o,i,a},Ra=function(e,t){return t.container()===e.parentNode?(n=e,o=(r=t).container(),i=I.indexOf(o.childNodes,n).map(function(e){return e<r.offset()?wa(o,r.offset()-1):r}).getOr(r),Na(n),i):Ta(e,t);var n,r,o,i},Na=function(e){if(xa(e)&&Ci(e)&&(ki(e)?e.removeAttribute("data-mce-caret"):ka(e)),Ca(e)){var t=bi(function(e){try{return e.nodeValue}catch(e){return""}}(e));Sa(e,t)}},Oa={removeAndReposition:function(e,t){return wa.isTextPosition(t)?Aa(e,t):Ra(e,t)},remove:Na},Da=function(e){return wa.isTextPosition(e)?0===e.offset():ji(e.getNode())},La=function(e){if(wa.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return ji(e.getNode(!0))},Ba=function(e,t){return!wa.isTextPosition(e)&&!wa.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Pa=function(e,t,n){return e?!Ba(t,n)&&(r=t,!(!wa.isTextPosition(r)&&ko.isBr(r.getNode())))&&La(t)&&Da(n):!Ba(n,t)&&Da(t)&&La(n);var r},Ma=function(e,t,n){var r=cu(t);return A.from(e?r.next(n):r.prev(n))},Ia=function(e,t){var n,r,o,i,a,s=e?t.firstChild:t.lastChild;return ko.isText(s)?A.some(wa(s,e?0:s.data.length)):s?ji(s)?A.some(e?wa.before(s):(a=s,ko.isBr(a)?wa.before(a):wa.after(a))):(r=t,o=s,i=(n=e)?wa.before(o):wa.after(o),Ma(n,r,i)):A.none()},Fa={fromPosition:Ma,nextPosition:b.curry(Ma,!0),prevPosition:b.curry(Ma,!1),navigate:function(t,n,r){return Ma(t,n,r).bind(function(e){return Ls(r,e,n)&&Pa(t,r,e)?Ma(t,n,e):A.some(e)})},positionIn:Ia,firstPositionIn:b.curry(Ia,!0),lastPositionIn:b.curry(Ia,!1)},ja=ko.isContentEditableTrue,za=ko.isContentEditableFalse,Ha=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},qa=function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r)},Ua=function(e,t){var n,r;return t=js(1,e.getBody(),t),n=wa.fromRangeStart(t),za(n.getNode())?Ha(1,e,n.getNode(),!n.isAtEnd()):za(n.getNode(!0))?Ha(1,e,n.getNode(!0),!1):(r=e.dom.getParent(n.getNode(),function(e){return za(e)||ja(e)}),za(r)?Ha(1,e,r,!1):null)},Wa=function(e,t){return t&&t.collapsed&&Ua(e,t)||t},Va=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return A.none();n.push(o.getOrDie())}return A.some(t.apply(null,n))};(_a=ya||(ya={}))[_a.Br=0]="Br",_a[_a.Block=1]="Block",_a[_a.Wrap=2]="Wrap",_a[_a.Eol=3]="Eol";var Ka,$a,Ga=function(e,t){return e===Ka.Backwards?t.reverse():t},Ya=function(e,t,n,r){for(var o,i,a,s,u,c,l=cu(n),f=r,d=[];f&&(u=l,c=f,o=t===Ka.Forwards?u.next(c):u.prev(c));){if(ko.isBr(o.getNode(!1)))return t===Ka.Forwards?{positions:Ga(t,d).concat([o]),breakType:ya.Br,breakAt:A.some(o)}:{positions:Ga(t,d),breakType:ya.Br,breakAt:A.some(o)};if(o.isVisible()){if(e(f,o)){var h=(i=t,a=f,s=o,ko.isBr(s.getNode(i===Ka.Forwards))?ya.Br:!1===Ls(a,s)?ya.Block:ya.Wrap);return{positions:Ga(t,d),breakType:h,breakAt:A.some(o)}}d.push(o),f=o}else f=o}return{positions:Ga(t,d),breakType:ya.Eol,breakAt:A.none()}},Xa=function(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===Ka.Backwards?t.concat(e):[e].concat(t)}).getOr([])},Ja=function(e,i){return I.foldl(e,function(e,o){return e.fold(function(){return A.some(o)},function(r){return Va([I.head(r.getClientRects()),I.head(o.getClientRects())],function(e,t){var n=Math.abs(i-e.left);return Math.abs(i-t.left)<=n?o:r}).or(e)})},A.none())},Za=function(t,e){return I.head(e.getClientRects()).bind(function(e){return Ja(t,e.left)})},Qa=b.curry(Ya,function(e,t){return Va([I.head(t.getClientRects()),I.last(e.getClientRects())],Vi).getOr(!1)},-1),es=b.curry(Ya,function(e,t){return Va([I.last(t.getClientRects()),I.head(e.getClientRects())],function(e,t){return Ki(e,t)}).getOr(!1)},1),ts=b.curry(Xa,-1,Qa),ns=b.curry(Xa,1,es),rs=function(e,t){return Er.all(t,e)},os=function(e,t,n,r,o){var i,a,s,u,c,l=rs(In.fromDom(n),"td,th").map(function(e){return e.dom()}),f=I.filter((i=e,a=l,I.bind(a,function(e){var t,n,r=(t=e.getBoundingClientRect(),n=-1,{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n});return[{x:r.left,y:i(r),cell:e},{x:r.right,y:i(r),cell:e}]})),function(e){return t(e,o)});return(s=f,u=r,c=o,I.foldl(s,function(e,r){return e.fold(function(){return A.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-u)+Math.abs(e.y-c)),n=Math.sqrt(Math.abs(r.x-u)+Math.abs(r.y-c));return A.some(n<t?r:e)})},A.none())).map(function(e){return e.cell})},is=b.curry(os,function(e){return e.bottom},function(e,t){return e.y<t}),as=b.curry(os,function(e){return e.top},function(e,t){return e.y>t}),ss=function(t,n){return I.head(n.getClientRects()).bind(function(e){return is(t,e.left,e.top)}).bind(function(e){return Za((t=e,Fa.lastPositionIn(t).map(function(e){return Qa(t,e).positions.concat(e)}).getOr([])),n);var t})},us=function(t,n){return I.last(n.getClientRects()).bind(function(e){return as(t,e.left,e.top)}).bind(function(e){return Za((t=e,Fa.firstPositionIn(t).map(function(e){return[e].concat(es(t,e).positions)}).getOr([])),n);var t})},cs=Pn.detect().browser,ls=function(){return cs.isIE()||cs.isEdge()||cs.isFirefox()},fs=function(t,n,e){var r=t(n,e);return r.breakType===ya.Wrap&&0===r.positions.length?r.breakAt.map(function(e){return t(n,e).breakAt.isNone()}).getOr(!0):r.breakAt.isNone()},ds=Qi.curry(fs,Qa),hs=Qi.curry(fs,es),ps=function(e,t,n,r){var o,i,a,s,u=e.selection.getRng(),c=t?1:-1;if(ls()&&(o=t,i=u,a=n,s=wa.fromRangeStart(i),Fa.positionIn(!o,a).map(function(e){return e.isEqual(s)}).getOr(!1))){var l=Ha(c,e,n,!t);return e.selection.setRng(l),!0}return!1},ms=function(e,t,n,r){var o,i,a,s,u,c,l=e.selection.getRng(),f=wa.fromRangeStart(l),d=e.getBody();if(!t&&ds(r,f)){var h=(s=d,ss(u=n,c=f).orThunk(function(){return I.head(c.getClientRects()).bind(function(e){return Ja(ts(s,wa.before(u)),e.left)})}).getOr(wa.before(u)));return e.selection.setRng(h.toRange()),!0}return!(!t||!hs(r,f))&&(o=d,h=us(i=n,a=f).orThunk(function(){return I.head(a.getClientRects()).bind(function(e){return Ja(ns(o,wa.after(i)),e.left)})}).getOr(wa.after(i)),e.selection.setRng(h.toRange()),!0)},gs=function(t,n){return function(){return A.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(e){return A.from(t.dom.getParent(e,"table")).map(function(e){return ps(t,n,e)})}).getOr(!1)}},vs=function(n,r){return function(){return A.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return A.from(n.dom.getParent(t,"table")).map(function(e){return ms(n,r,e,t)})}).getOr(!1)}},bs=ko.isContentEditableFalse,ys=function(p,m){var e,g,v=null,b=function(){!function(e){var t,n,r,o,i;for(t=Jt("*[contentEditable=false]",e),o=0;o<t.length;o++)r=(n=t[o]).previousSibling,Ri(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Ai(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(p),g&&(Oa.remove(g),g=null),v&&(v.remove(),v=null),clearInterval(e)},y=function(){e=ve.setInterval(function(){var e;(e=p).ownerDocument.activeElement===e?Jt("div.mce-visual-caret",p).toggleClass("mce-visual-caret-hidden"):Jt("div.mce-visual-caret",p).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h;return b(),o=t,ko.isElement(o)&&/^(TD|TH)$/i.test(o.tagName)?null:(m(t)?(g=Ti("p",t,e),i=p,s=e,h=Ui((a=t).getBoundingClientRect(),s),"BODY"===i.tagName?(u=i.ownerDocument.documentElement,c=i.scrollLeft||u.scrollLeft,l=i.scrollTop||u.scrollTop):(d=i.getBoundingClientRect(),c=i.scrollLeft-d.left,l=i.scrollTop-d.top),h.left+=c,h.right+=c,h.top+=l,h.bottom+=l,h.width=1,0<(f=a.offsetWidth-a.clientWidth)&&(s&&(f*=-1),h.left+=f,h.right+=f),n=h,Jt(g).css("top",n.top),v=Jt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(p),e&&v.addClass("mce-visual-caret-before"),y(),(r=t.ownerDocument.createRange()).setStart(g,0),r.setEnd(g,0)):(g=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(vi),o=e.parentNode,t){if(n=e.previousSibling,_i(n)){if(Ci(n))return n;if(Ri(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,_i(n)){if(Ci(n))return n;if(Ai(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(t,e),r=t.ownerDocument.createRange(),bs(g.nextSibling)?(r.setStart(g,0),r.setEnd(g,0)):(r.setStart(g,1),r.setEnd(g,1))),r)},hide:b,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){return ve.clearInterval(e)}}},_s=function(e){return bs(e)||ko.isTable(e)&&ls()},ws=ko.isContentEditableFalse,xs=ko.matchStyleValues("display","block table table-cell table-caption list-item"),Cs=Ci,ks=wi,Ss=Qi.curry,Es=ko.isElement,Ts=ji,As=function(e){return 0<e},Rs=function(e){return e<0},Ns=function(e,t){for(var n;n=e(t);)if(!ks(n))return n;return null},Os=function(e,t,n,r,o){var i=new Zr(e,r);if(Rs(t)){if((ws(e)||ks(e))&&n(e=Ns(i.prev,!0)))return e;for(;e=Ns(i.prev,o);)if(n(e))return e}if(As(t)){if((ws(e)||ks(e))&&n(e=Ns(i.next,!0)))return e;for(;e=Ns(i.next,o);)if(n(e))return e}return null},Ds=function(e,t){for(;e&&e!==t;){if(xs(e))return e;e=e.parentNode}return null},Ls=function(e,t,n){return Ds(e.container(),n)===Ds(t.container(),n)},Bs=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),Es(n)?n.childNodes[r+e]:null):null},Ps=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Ms=function(e,t,n){var r,o,i,a;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Cs(r)&&(r=r[o]),ws(r)){if(a=n,Ds(r,i=t)===Ds(a,i))return r;break}if(Ts(r))break;n=n.parentNode}return null},Is=Ss(Ps,!0),Fs=Ss(Ps,!1),js=function(e,t,n){var r,o,i,a,s=Ss(Ms,!0,t),u=Ss(Ms,!1,t);if(o=n.startContainer,i=n.startOffset,wi(o)){if(Es(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,_s(r)))return Is(r);if("after"===a&&(r=o.previousSibling,_s(r)))return Fs(r)}if(!n.collapsed)return n;if(ko.isText(o)){if(Cs(o)){if(1===e){if(r=u(o))return Is(r);if(r=s(o))return Fs(r)}if(-1===e){if(r=s(o))return Fs(r);if(r=u(o))return Is(r)}return n}if(Ri(o)&&i>=o.data.length-1)return 1===e&&(r=u(o))?Is(r):n;if(Ai(o)&&i<=1)return-1===e&&(r=s(o))?Fs(r):n;if(i===o.data.length)return(r=u(o))?Is(r):n;if(0===i)return(r=s(o))?Fs(r):n}return n},zs=function(e,t){var n=Bs(e,t);return ws(n)&&!ko.isBogusAll(n)},Hs=function(e,t){return ko.isTable(Bs(e,t))},qs=function(e,t){return A.from(Bs(e?0:-1,t)).filter(ws)},Us=function(e,t,n){var r=js(e,t,n);return-1===e?ba.fromRangeStart(r):ba.fromRangeEnd(r)},Ws=Ss(zs,0),Vs=Ss(zs,-1),Ks=Ss(Hs,0),$s=Ss(Hs,-1);($a=Ka||(Ka={}))[$a.Backwards=-1]="Backwards",$a[$a.Forwards=1]="Forwards";var Gs,Ys,Xs,Js,Zs,Qs=ko.isContentEditableFalse,eu=ko.isText,tu=ko.isElement,nu=ko.isBr,ru=ji,ou=function(e){return Mi(e)||!!Di(t=e)&&!0!==Tt.reduce(t.getElementsByTagName("*"),function(e,t){return e||Oi(t)},!1);var t},iu=zi,au=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},su=function(e,t){if(As(e)){if(ru(t.previousSibling)&&!eu(t.previousSibling))return wa.before(t);if(eu(t))return wa(t,0)}if(Rs(e)){if(ru(t.nextSibling)&&!eu(t.nextSibling))return wa.after(t);if(eu(t))return wa(t,t.data.length)}return Rs(e)?nu(t)?wa.before(t):wa.after(t):wa.before(t)},uu=function(e,t,n){var r,o,i,a,s;if(!tu(n)||!t)return null;if(t.isEqual(wa.after(n))&&n.lastChild){if(s=wa.after(n.lastChild),Rs(e)&&ru(n.lastChild)&&tu(n.lastChild))return nu(n.lastChild)?wa.before(n.lastChild):s}else s=t;var u,c,l,f=s.container(),d=s.offset();if(eu(f)){if(Rs(e)&&0<d)return wa(f,--d);if(As(e)&&d<f.length)return wa(f,++d);r=f}else{if(Rs(e)&&0<d&&(o=au(f,d-1),ru(o)))return!ou(o)&&(i=Os(o,e,iu,o))?eu(i)?wa(i,i.data.length):wa.after(i):eu(o)?wa(o,o.data.length):wa.before(o);if(As(e)&&d<f.childNodes.length&&(o=au(f,d),ru(o)))return u=o,c=n,ko.isBr(u)&&(l=uu(1,wa.after(u),c))&&!Ls(wa.before(u),wa.before(l),c)?uu(e,wa.after(o),n):!ou(o)&&(i=Os(o,e,iu,o))?eu(i)?wa(i,0):wa.before(i):eu(o)?wa(o,0):wa.after(o);r=o||s.getNode()}return(As(e)&&s.isAtEnd()||Rs(e)&&s.isAtStart())&&(r=Os(r,e,Qi.constant(!0),n,!0),iu(r,n))?su(e,r):(o=Os(r,e,iu,n),!(a=Tt.last(Tt.filter(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(f,n),Qs)))||o&&a.contains(o)?o?su(e,o):null:s=As(e)?wa.after(a):wa.before(a))},cu=function(t){return{next:function(e){return uu(Ka.Forwards,e,t)},prev:function(e){return uu(Ka.Backwards,e,t)}}},lu=function(e){return Dt.grep(e.childNodes,function(e){return"LI"===e.nodeName})},fu=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&(""===(t=e.firstChild).data||ko.isBr(t));var t},du=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||fu(t))?e.slice(0,-1):e;var t},hu=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},pu=function(e,t){var n=wa.after(e),r=cu(t).prev(n);return r?r.toRange():null},mu=function(t,e,n){var r,o,i,a,s=t.parentNode;return Dt.each(e,function(e){s.insertBefore(e,t)}),r=t,o=n,i=wa.before(r),(a=cu(o).next(i))?a.toRange():null},gu=function(e,t){var n,r,o,i,a,s,u=t.firstChild,c=t.lastChild;return u&&"meta"===u.name&&(u=u.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=e).getNonEmptyElements(),r&&(r.isEmpty(s)||(o=r,n.getBlockElements()[o.name]&&(a=o).firstChild&&a.firstChild===a.lastChild&&("br"===(i=o.firstChild).name||""===i.value)))&&(c=c.prev),!(!u||u!==c||"ul"!==u.name&&"ol"!==u.name)},vu=function(e,o,i,t){var n,r,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C=(n=o,r=t,c=e.serialize(r),l=n.createFragment(c),s=(a=l).firstChild,u=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),u&&"mce_marker"===u.id&&u.parentNode.removeChild(u),a),k=hu(o,i.startContainer),S=du(lu(C.firstChild)),E=o.getRoot(),T=function(e){var t=wa.fromRangeStart(i),n=cu(o.getRoot()),r=1===e?n.prev(t):n.next(t);return!r||hu(o,r.getNode())!==k};return T(1)?mu(k,S,E):T(2)?(f=k,d=S,h=E,o.insertAfter(d.reverse(),f),pu(d[0],h)):(m=S,g=E,v=p=k,y=(b=i).cloneRange(),_=b.cloneRange(),y.setStartBefore(v),_.setEndAfter(v),w=[y.cloneContents(),_.cloneContents()],(x=p.parentNode).insertBefore(w[0],p),Dt.each(m,function(e){x.insertBefore(e,p)}),x.insertBefore(w[1],p),x.removeChild(p),pu(m[m.length-1],g))},bu=function(e,t){return!!hu(e,t)},yu=ko.isText,_u=ko.isBogus,wu=ai.nodeIndex,xu=function(e){var t=e.parentNode;return _u(t)?xu(t):t},Cu=function(e){return e?Tt.reduce(e.childNodes,function(e,t){return _u(t)&&"BR"!==t.nodeName?e=e.concat(Cu(t)):e.push(t),e},[]):[]},ku=function(t){return function(e){return t===e}},Su=function(e){var t,r,n,o;return(yu(e)?"text()":e.nodeName.toLowerCase())+"["+(r=Cu(xu(t=e)),n=Tt.findIndex(r,ku(t),t),r=r.slice(0,n+1),o=Tt.reduce(r,function(e,t,n){return yu(t)&&yu(r[n-1])&&e++,e},0),r=Tt.filter(r,ko.matchNodeNames(t.nodeName)),(n=Tt.findIndex(r,ku(t),t))-o)+"]"},Eu=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),yu(n)?o=function(e,t){for(;(e=e.previousSibling)&&yu(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(Su(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)r.push(t);return r}(e,n),a=Tt.filter(a,Qi.negate(ko.isBogus)),(s=s.concat(Tt.map(a,function(e){return Su(e)}))).reverse().join("/")+","+o},Tu=function(e,t){var n,r,o;return t?(t=(n=t.split(","))[0].split("/"),o=1<n.length?n[1]:"before",(r=Tt.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,r=t[1],o=parseInt(t[2],10),i=Cu(n),i=Tt.filter(i,function(e,t){return!yu(e)||!yu(i[t-1])}),(i=Tt.filter(i,ko.matchNodeNames(r)))[o]):null;var n,r,o,i},e))?yu(r)?function(e,t){for(var n,r=e,o=0;yu(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!yu(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return yu(e)&&t>e.data.length&&(t=e.data.length),wa(e,t)}(r,parseInt(o,10)):(o="after"===o?wu(r)+1:wu(r),wa(r.parentNode,o)):null):null},Au=ko.isContentEditableFalse,Ru=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(ko.isText(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&ko.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},Nu=function(e){ko.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},Ou=function(e,t,n){var r=0;return Dt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Du=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],ko.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},Lu=function(e){return Du(e,!0),Du(e,!1),e},Bu=function(e,t){var n;if(ko.isElement(e)&&(e=Gi(e,t),Au(e)))return e;if(Ci(e)){if(ko.isText(e)&&wi(e)&&(e=e.parentNode),n=e.previousSibling,Au(n))return n;if(n=e.nextSibling,Au(n))return n}},Pu=function(e,t,n){var r,o,i,a,s,u,c,l=n.getNode(),f=l?l.nodeName:null,d=n.getRng();return Au(l)||"IMG"===f?{name:f,index:Ou(n.dom,f,l)}:(l=Bu((r=d).startContainer,r.startOffset)||Bu(r.endContainer,r.endOffset))?{name:f=l.tagName,index:Ou(n.dom,f,l)}:(o=e,a=t,s=d,u=(i=n).dom,(c={}).start=Ru(u,o,a,s,!0),i.isCollapsed()||(c.end=Ru(u,o,a,s,!1)),c)},Mu={getBookmark:function(e,t,n){return 2===t?Pu(bi,n,e):3===t?(o=(r=e).getRng(),{start:Eu(r.dom.getRoot(),wa.fromRangeStart(o)),end:Eu(r.dom.getRoot(),wa.fromRangeEnd(o))}):t?{rng:e.getRng()}:function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i="overflow:hidden;line-height:0px",a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ou(t,s,a)};var u=Lu(n.cloneRange());if(!o){u.collapse(!1);var c=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:i},"&#xFEFF;");u.insertNode(c),Nu(c.nextSibling)}(n=Lu(n)).collapse(!0);var l=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:i},"&#xFEFF;");return n.insertNode(l),Nu(l.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}}(e);var r,o},getUndoBookmark:b.curry(Pu,b.identity,!0)},Iu=function(e,t){return!e.isBlock(t)||t.innerHTML||de.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},Fu=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;1<=o;o--){if(s=i.childNodes,u[o]>s.length-1)return;i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},ju=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,l?(r=c.firstChild,o=1):o=e.nodeIndex(c),s=r,u=o,!l){for(a=c.previousSibling,i=c.nextSibling,Dt.each(Dt.grep(c.childNodes),function(e){ko.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,1);a&&i&&a.nodeType===i.nodeType&&ko.isText(a)&&!de.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return A.some(wa(s,u))}return A.none()},zu=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v=e.dom;if(t){if(Dt.isArray(t.start))return m=t,g=(p=v).createRng(),Fu(p,!0,m,g)&&Fu(p,!1,m,g)?A.some(g):A.none();if("string"==typeof t.start)return A.some((f=t,d=(l=v).createRng(),h=Tu(l.getRoot(),f.start),d.setStart(h.container(),h.offset()),h=Tu(l.getRoot(),f.end),d.setEnd(h.container(),h.offset()),d));if(t.id)return u=ju(o=v,"start",i=t),c=ju(o,"end",i),Va([u,(a=c,s=u,a.isSome()?a:s)],function(e,t){var n=o.createRng();return n.setStart(Iu(o,e.container()),e.offset()),n.setEnd(Iu(o,t.container()),t.offset()),n});if(t.name)return n=v,r=t,A.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.rng)return A.some(t.rng)}return A.none()},Hu={getBookmark:function(e,t,n){return Mu.getBookmark(e,t,n)},moveToBookmark:function(t,e){zu(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(e){return ko.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},qu=Dt.each,Uu=function(o){this.compare=function(e,t){if(e.nodeName!==t.nodeName)return!1;var n=function(n){var r={};return qu(o.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(r[t]=o.getAttrib(n,t))}),r},r=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!r(n(e),n(t))||!r(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||Hu.isBookmarkNode(e)||Hu.isBookmarkNode(t))}},Wu=function(t,n){Ir.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},Vu=function(e,t){e.dom().appendChild(t.dom())},Ku={before:Wu,after:function(e,t){Ir.nextSibling(e).fold(function(){Ir.parent(e).each(function(e){Vu(e,t)})},function(e){Wu(e,t)})},prepend:function(t,n){Ir.firstChild(t).fold(function(){Vu(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:Vu,appendAt:function(e,t,n){Ir.child(e,n).fold(function(){Vu(e,t)},function(e){Wu(e,t)})},wrap:function(e,t){Wu(e,t),Vu(t,e)}},$u=function(t,e){I.each(e,function(e){Ku.before(t,e)})},Gu=function(t,e){I.each(e,function(e){Ku.append(t,e)})},Yu=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Xu={empty:function(e){e.dom().textContent="",I.each(Ir.children(e),function(e){Yu(e)})},remove:Yu,unwrap:function(e){var t=Ir.children(e);0<t.length&&$u(e,t),Yu(e)}},Ju=(Gs=Gn.isText,Ys="text",Xs=function(e){return Gs(e)?A.from(e.dom().nodeValue):A.none()},Js=Pn.detect().browser,{get:function(e){if(!Gs(e))throw new Error("Can only get "+Ys+" value of a "+Ys+" node");return Zs(e).getOr("")},getOption:Zs=Js.isIE()&&10===Js.version.major?function(e){try{return Xs(e)}catch(e){return A.none()}}:Xs,set:function(e,t){if(!Gs(e))throw new Error("Can only set raw "+Ys+" value of a "+Ys+" node");e.dom().nodeValue=t}}),Zu=function(e){return Ju.get(e)},Qu=function(e){var t=rs(e,"br"),n=I.filter(function(e){for(var t=[],n=e.dom();n;)t.push(In.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),ao);t.length===n.length&&I.each(n,Xu.remove)},ec=function(e){Xu.empty(e),Ku.append(e,In.fromHtml('<br data-mce-bogus="1">'))},tc=function(n){Ir.lastChild(n).each(function(t){Ir.prevSibling(t).each(function(e){oo(n)&&ao(t)&&oo(e)&&Xu.remove(t)})})},nc=Dt.makeMap;function rc(e){var s,u,c,l,f,d=[];return s=(e=e||{}).indent,u=nc(e.indent_before||""),c=nc(e.indent_after||""),l=Fo.getEncodeFunc(e.entity_encoding||"raw",e.entities),f="html"===e.element_format,{start:function(e,t,n){var r,o,i,a;if(s&&u[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n"),d.push("<",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],d.push(" ",i.name,'="',l(i.value,!0),'"');d[d.length]=!n||f?">":" />",n&&s&&c[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n")},end:function(e){var t;d.push("</",e,">"),s&&c[e]&&0<d.length&&0<(t=d[d.length-1]).length&&"\n"!==t&&d.push("\n")},text:function(e,t){0<e.length&&(d[d.length]=t?e:l(e))},cdata:function(e){d.push("<![CDATA[",e,"]]>")},comment:function(e){d.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?d.push("<?",e," ",l(t),"?>"):d.push("<?",e,"?>"),s&&d.push("\n")},doctype:function(e){d.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){d.length=0},getContent:function(){return d.join("").replace(/\n$/,"")}}}function oc(t,p){void 0===p&&(p=Yo());var m=rc(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(e){var f,d;d=t.validate,f={3:function(e){m.text(e.value,e.raw)},8:function(e){m.comment(e.value)},7:function(e){m.pi(e.name,e.value)},10:function(e){m.doctype(e.value)},4:function(e){m.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;h(e),e=e.next;);}},m.reset();var h=function(e){var t,n,r,o,i,a,s,u,c,l=f[e.type];if(l)l(e);else{if(t=e.name,n=e.shortEnded,r=e.attributes,d&&r&&1<r.length&&((a=[]).map={},c=p.getElementRule(e.name))){for(s=0,u=c.attributesOrder.length;s<u;s++)(o=c.attributesOrder[s])in r.map&&(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));for(s=0,u=r.length;s<u;s++)(o=r[s].name)in a.map||(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));r=a}if(m.start(e.name,r,n),!n){if(e=e.firstChild)for(;h(e),e=e.next;);m.end(t)}}};return 1!==e.type||t.inner?f[11](e):h(e),m.getContent()}}}var ic=function(a){var s=wa.fromRangeStart(a),u=wa.fromRangeEnd(a),c=a.commonAncestorContainer;return Fa.fromPosition(!1,c,u).map(function(e){return!Ls(s,u,c)&&Ls(s,e,c)?(t=s.container(),n=s.offset(),r=e.container(),o=e.offset(),(i=document.createRange()).setStart(t,n),i.setEnd(r,o),i):a;var t,n,r,o,i}).getOr(a)},ac=function(e){return(t=e).collapsed?t:ic(t);var t},sc=ko.matchNodeNames("td th"),uc=function(o,e,t){var n,r,i,a,s,u,c,l,f,d,h,p,m=o.schema.getTextInlineElements(),g=o.selection,v=o.dom;if(/^ | $/.test(e)&&(e=function(e){var t,n,r;t=g.getRng(),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(e)),n=o.parser,p=t.merge,r=oc({validate:o.settings.validate},o.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:e,format:"html",selection:!0,paste:t.paste},(u=o.fire("BeforeSetContent",u)).isDefaultPrevented())o.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:t.paste});else{-1===(e=u.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var b,y,_,w,x=(l=g.getRng()).startContainer||(l.parentElement?l.parentElement():null),C=o.getBody();x===C&&g.isCollapsed()&&v.isBlock(C.firstChild)&&(b=C.firstChild)&&!o.schema.getShortEndedElements()[b.nodeName]&&v.isEmpty(C.firstChild)&&((l=v.createRng()).setStart(C.firstChild,0),l.setEnd(C.firstChild,0),g.setRng(l)),g.isCollapsed()||(o.selection.setRng(ac(o.selection.getRng())),o.getDoc().execCommand("Delete",!1,null),_=(y=g.getRng()).startContainer,w=y.startOffset,3===_.nodeType&&y.collapsed&&(""===_.data[w]?(_.deleteData(w,1),/[\u00a0| ]$/.test(e)||(e+=" ")):""===_.data[w-1]&&(_.deleteData(w-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))));var k,S,E,T={context:(i=g.getNode()).nodeName.toLowerCase(),data:t.data,insert:!0};if(s=n.parse(e,T),!0===t.paste&&gu(o.schema,s)&&bu(v,i))return l=vu(r,v,o.selection.getRng(!0),s),o.selection.setRng(l),void o.fire("SetContent",u);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"===(f=s.lastChild).attr("id"))for(f=(c=f).prev;f;f=f.walk(!0))if(3===f.type||!v.isBlock(f.name)){o.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(o._selectionOverrides.showBlockCaretContainer(i),T.invalid){for(g.setContent(h),i=g.getNode(),a=o.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)f=(i=f).parentNode;e=i===a?a.innerHTML:v.getOuterHTML(i),e=r.serialize(n.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),i===a?v.setHTML(a,e):v.setOuterHTML(i,e)}else e=r.serialize(s),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(o,e,i);!function(){if(p){var n=o.getBody(),r=new Uu(v);Dt.each(v.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==n;t=t.parentNode)m[e.nodeName.toLowerCase()]&&r.compare(t,e)&&v.remove(e,!0)})}}(),function(e){var t,n,r;if(e){if(g.scrollIntoView(e),t=function(e){for(var t=o.getBody();e&&e!==t;e=e.parentNode)if("false"===o.dom.getContentEditable(e))return e;return null}(e))return v.remove(e),g.select(t);l=v.createRng(),(f=e.previousSibling)&&3===f.nodeType?(l.setStart(f,f.nodeValue.length),de.ie||(d=e.nextSibling)&&3===d.nodeType&&(f.appendData(d.data),d.parentNode.removeChild(d))):(l.setStartBefore(e),l.setEndBefore(e)),n=v.getParent(e,v.isBlock),v.remove(e),n&&v.isEmpty(n)&&(o.$(n).empty(),l.setStart(n,0),l.setEnd(n,0),sc(n)||n.getAttribute("data-mce-fragment")||!(r=function(e){var t=wa.fromRangeStart(e);if(t=cu(o.getBody()).next(t))return t.toRange()}(l))?v.add(n,v.create("br",{"data-mce-bogus":"1"})):(l=r,v.remove(n))),g.setRng(l)}}(v.get("mce_marker")),k=o.getBody(),Dt.each(k.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),S=o.dom,E=o.selection.getStart(),A.from(S.getParent(E,"td,th")).map(In.fromDom).each(tc),o.fire("SetContent",u),o.addVisual()}},cc={insertAtCaret:function(e,t){var n,r,o="string"!=typeof(n=t)?(r=Dt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};uc(e,o.content,o.details)}};function lc(e,t,n,r,o){return e(n,r)?A.some(n):Xn.isFunction(o)&&o(n)?A.none():t(n,r,o)}var fc=function(e,t,n){for(var r=e.dom(),o=Xn.isFunction(n)?n:b.constant(!1);r.parentNode;){r=r.parentNode;var i=In.fromDom(r);if(t(i))return A.some(i);if(o(i))break}return A.none()},dc=function(e,t){return I.find(e.dom().childNodes,b.compose(t,In.fromDom)).map(In.fromDom)},hc=function(e,r){var o=function(e){for(var t=0;t<e.childNodes.length;t++){if(r(In.fromDom(e.childNodes[t])))return A.some(In.fromDom(e.childNodes[t]));var n=o(e.childNodes[t]);if(n.isSome())return n}return A.none()};return o(e.dom())},pc={first:function(e){return hc(lr.body(),e)},ancestor:fc,closest:function(e,t,n){return lc(function(e){return t(e)},fc,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?dc(In.fromDom(e.parentNode),function(e){return!Rr.eq(t,e)&&n(e)}):A.none()},child:dc,descendant:hc},mc=br.immutable("sections","settings"),gc=Pn.detect().deviceType.isTouch(),vc=["lists","autolink","autosave"],bc={theme:"mobile"},yc=function(e){var t=Xn.isArray(e)?e.join(" "):e,n=I.map(Xn.isString(t)?t.split(" "):[],An);return I.filter(n,function(e){return 0<e.length})},_c=function(e,t){return e.sections().hasOwnProperty(t)},wc=function(e,t,n,r){var o,i,a=yc(n.forced_plugins),s=yc(r.plugins),u=e&&_c(t,"mobile")?(o=s,I.filter(o,b.curry(I.contains,vc))):s,c=(i=u,[].concat(yc(a)).concat(yc(i)));return Dt.extend(r,{plugins:c.join(" ")})},xc=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v=(o=["mobile"],i=r,a=nr.bifilter(i,function(e,t){return I.contains(o,t)}),mc(a.t,a.f)),b=Dt.extend(t,n,v.settings(),(p=e,g=(m=v).settings().inline,p&&_c(m,"mobile")&&!g?(l="mobile",f=bc,d=v.sections(),h=d.hasOwnProperty(l)?d[l]:{},Dt.extend({},f,h)):{}),{validate:!0,content_editable:v.settings().inline,external_plugins:(s=n,u=v.settings(),c=u.external_plugins?u.external_plugins:{},s&&s.external_plugins?Dt.extend({},s.external_plugins,c):c)});return wc(e,v,n,b)},Cc=function(e,t,n){return A.from(t.settings[n]).filter(e)},kc=b.curry(Cc,Xn.isString),Sc=function(e,t,n,r){var o,i,a=t in e.settings?e.settings[t]:n;return"hash"===r?(i={},"string"==typeof(o=a)?I.each(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){1<(e=e.split("=")).length?i[Dt.trim(e[0])]=Dt.trim(e[1]):i[Dt.trim(e[0])]=Dt.trim(e)}):i=o,i):"string"===r?Cc(Xn.isString,e,t).getOr(n):"number"===r?Cc(Xn.isNumber,e,t).getOr(n):"boolean"===r?Cc(Xn.isBoolean,e,t).getOr(n):"object"===r?Cc(Xn.isObject,e,t).getOr(n):"array"===r?Cc(Xn.isArray,e,t).getOr(n):"function"===r?Cc(Xn.isFunction,e,t).getOr(n):a},Ec=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Tc=function(e,t){var n=t.container(),r=t.offset();return e?xi(n)?ko.isText(n.nextSibling)?wa(n.nextSibling,0):wa.after(n):Si(t)?wa(n,r+1):t:xi(n)?ko.isText(n.previousSibling)?wa(n.previousSibling,n.previousSibling.data.length):wa.before(n):Ei(t)?wa(n,r-1):t},Ac={isInlineTarget:function(e,t){var n=kc(e,"inline_boundaries_selector").getOr("a[href],code");return Er.is(In.fromDom(t),n)},findRootInline:function(e,t,n){var r,o,i,a=(r=e,o=t,i=n,I.filter(ai.DOM.getParents(i.container(),"*",o),r));return A.from(a[a.length-1])},isRtl:function(e){return"rtl"===ai.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Ec.test(t));var t},isAtZwsp:function(e){return Si(e)||Ei(e)},normalizePosition:Tc,normalizeForwards:b.curry(Tc,!0),normalizeBackwards:b.curry(Tc,!1),hasSameParentBlock:function(e,t,n){var r=Ds(t,e),o=Ds(n,e);return r&&r===o}},Rc=function(e,t){return Rr.contains(e,t)?pc.closest(t,function(e){return so(e)||co(e)},(n=e,function(e){return Rr.eq(n,In.fromDom(e.dom().parentNode))})):A.none();var n},Nc=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},Oc=function(i,a,s){return Va([Fa.firstPositionIn(s),Fa.lastPositionIn(s)],function(e,t){var n=Ac.normalizePosition(!0,e),r=Ac.normalizePosition(!1,t),o=Ac.normalizePosition(!1,a);return i?Fa.nextPosition(s,o).map(function(e){return e.isEqual(r)&&a.isEqual(n)}).getOr(!1):Fa.prevPosition(s,o).map(function(e){return e.isEqual(n)&&a.isEqual(r)}).getOr(!1)}).getOr(!0)},Dc=function(e,t,n){return pc.ancestor(e,function(e){return Er.is(e,t)},n)},Lc=Dc,Bc=function(e,t){return Er.one(t,e)},Pc=function(e,t,n){return lc(Er.is,Dc,e,t,n)},Mc=function(e,t,n){return Lc(e,t,n).isSome()},Ic=function(e,t){return ko.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===(n=e,r=t,o=In.fromDom(n),i=In.fromDom(r),Mc(i,"pre,code",b.curry(Rr.eq,o)));var n,r,o,i},Fc=function(e,t){return ji(t)&&!1===Ic(e,t)||(n=t,ko.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||jc(t);var n},jc=ko.hasAttribute("data-mce-bookmark"),zc=ko.hasAttribute("data-mce-bogus"),Hc=ko.hasAttributeValue("data-mce-bogus","all"),qc=function(e){return function(e){var t,n,r=0;if(Fc(e,e))return!1;if(!(n=e.firstChild))return!0;t=new Zr(n,e);do{if(Hc(n))n=t.next(!0);else if(zc(n))n=t.next();else if(ko.isBr(n))r++,n=t.next();else{if(Fc(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())},Uc=br.immutable("block","position"),Wc=br.immutable("from","to"),Vc=function(e,t){var n=In.fromDom(e),r=In.fromDom(t.container());return Rc(n,r).map(function(e){return Uc(e,t)})},Kc=function(o,i,e){var t=Vc(o,wa.fromRangeStart(e)),n=t.bind(function(e){return Fa.fromPosition(i,o,e.position()).bind(function(e){return Vc(o,e).map(function(e){return t=o,n=i,r=e,ko.isBr(r.position().getNode())&&!1===qc(r.block())?Fa.positionIn(!1,r.block().dom()).bind(function(e){return e.isEqual(r.position())?Fa.fromPosition(n,t,e).bind(function(e){return Vc(t,e)}):A.some(r)}).getOr(r):r;var t,n,r})})});return Va([t,n],Wc).filter(function(e){return r=e,!1===Rr.eq(r.from().block(),r.to().block())&&(n=e,Ir.parent(n.from().block()).bind(function(t){return Ir.parent(n.to().block()).filter(function(e){return Rr.eq(t,e)})}).isSome())&&(t=e,!1===ko.isContentEditableFalse(t.from().block())&&!1===ko.isContentEditableFalse(t.to().block()));var t,n,r})},$c=function(e,t,n){return n.collapsed?Kc(e,t,n):A.none()},Gc=function(e,t,n){return Rr.contains(t,e)?Ir.parents(e,function(e){return n(e)||Rr.eq(e,t)}).slice(0,-1):[]},Yc=function(e,t){return Gc(e,t,b.constant(!1))},Xc=Yc,Jc=function(e,t){return[e].concat(Yc(e,t))},Zc=function(e){var t,n,r=(t=e,n=Ir.children(t),I.findIndex(n,oo).fold(function(){return n},function(e){return n.slice(0,e)}));return I.each(r,function(e){Xu.remove(e)}),r},Qc=function(e,t){Fa.positionIn(e,t.dom()).each(function(e){var t=e.getNode();ko.isBr(t)&&Xu.remove(In.fromDom(t))})},el=function(e,t){var n=Jc(t,e);return I.find(n.reverse(),qc).each(Xu.remove)},tl=function(o,i){return Rr.contains(i,o)?Ir.parent(o).bind(function(e){return Rr.eq(e,i)?A.some(o):(t=i,n=o,r=Ir.parents(n,function(e){return Rr.eq(e,t)}),A.from(r[r.length-2]));var t,n,r}):A.none()},nl=function(n,r,o){if(qc(o))return Xu.remove(o),qc(r)&&ec(r),Fa.firstPositionIn(r.dom());Qc(!0,r),Qc(!1,o);var i=Zc(r);return tl(r,o).fold(function(){el(n,r);var e=Fa.lastPositionIn(o.dom());return I.each(i,function(e){Ku.append(o,e)}),e},function(t){var e=Fa.prevPosition(o.dom(),wa.before(t.dom()));return I.each(i,function(e){Ku.before(t,e)}),el(n,r),e})},rl=function(e,t,n,r){return t?nl(e,r,n):nl(e,n,r)},ol=function(t,n){var e,r=In.fromDom(t.getBody());return(e=$c(r.dom(),n,t.selection.getRng()).bind(function(e){return rl(r,n,e.from().block(),e.to().block())})).each(function(e){t.selection.setRng(e.toRange())}),e.isSome()},il=function(e,t){var n=In.fromDom(t),r=b.curry(Rr.eq,e);return pc.ancestor(n,ho,r).isSome()},al=function(e,t){var n,r,o=Fa.prevPosition(e.dom(),wa.fromRangeStart(t)).isNone(),i=Fa.nextPosition(e.dom(),wa.fromRangeEnd(t)).isNone();return!(il(n=e,(r=t).startContainer)||il(n,r.endContainer))&&o&&i},sl=function(e){var n,r,o,t,i=In.fromDom(e.getBody()),a=e.selection.getRng();return al(i,a)?((t=e).setContent(""),t.selection.setCursorLocation(),!0):(n=i,r=e.selection,o=r.getRng(),Va([Rc(n,In.fromDom(o.startContainer)),Rc(n,In.fromDom(o.endContainer))],function(e,t){return!1===Rr.eq(e,t)&&(o.deleteContents(),rl(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1))},ul=function(e,t){return!e.selection.isCollapsed()&&sl(e)},cl=function(a){if(!Xn.isArray(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return I.each(a,function(e,r){var t=nr.keys(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!Xn.isArray(i))throw new Error("case arguments must be an array");s.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=nr.keys(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!I.forall(s,function(e){return I.contains(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:s,constructor:o,params:n})}}}}),n},ll=cl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),fl=function(e,t,n,r){var o=r.getNode(!1===t);return Rc(In.fromDom(e),In.fromDom(n.getNode())).map(function(e){return qc(e)?ll.remove(e.dom()):ll.moveToElement(o)}).orThunk(function(){return A.some(ll.moveToElement(o))})},dl=function(s,u,c){return Fa.fromPosition(u,s,c).bind(function(e){return a=e.getNode(),ho(In.fromDom(a))||co(In.fromDom(a))?A.none():(t=s,o=e,i=function(e){return io(In.fromDom(e))&&!Ls(r,o,t)},qs(!(n=u),r=c).fold(function(){return qs(n,o).fold(b.constant(!1),i)},i)?A.none():u&&ko.isContentEditableFalse(e.getNode())?fl(s,u,c,e):!1===u&&ko.isContentEditableFalse(e.getNode(!0))?fl(s,u,c,e):u&&Vs(c)?A.some(ll.moveToPosition(e)):!1===u&&Ws(c)?A.some(ll.moveToPosition(e)):A.none());var t,n,r,o,i,a})},hl=function(r,e,o){return i=e,a=o.getNode(!1===i),s=i?"after":"before",ko.isElement(a)&&a.getAttribute("data-mce-caret")===s?(t=e,n=o.getNode(!1===e),t&&ko.isContentEditableFalse(n.nextSibling)?A.some(ll.moveToElement(n.nextSibling)):!1===t&&ko.isContentEditableFalse(n.previousSibling)?A.some(ll.moveToElement(n.previousSibling)):A.none()).fold(function(){return dl(r,e,o)},A.some):dl(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return A.some(ll.remove(e))},function(e){return A.some(ll.moveToElement(e))},function(e){return Ls(n,e,t)?A.none():A.some(ll.moveToPosition(e))});var t,n});var t,n,i,a,s},pl=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===wa.isTextPosition(n)&&o===r.parentNode&&i>wa.before(r).offset()?wa(t.container(),t.offset()-1):t;var n,r,o,i},ml=function(e){return ji(e.previousSibling)?A.some((t=e.previousSibling,ko.isText(t)?wa(t,t.data.length):wa.after(t))):e.previousSibling?Fa.lastPositionIn(e.previousSibling):A.none();var t},gl=function(e){return ji(e.nextSibling)?A.some((t=e.nextSibling,ko.isText(t)?wa(t,0):wa.before(t))):e.nextSibling?Fa.firstPositionIn(e.nextSibling):A.none();var t},vl=function(r,o){return ml(o).orThunk(function(){return gl(o)}).orThunk(function(){return e=r,t=o,n=wa.before(t.previousSibling?t.previousSibling:t.parentNode),Fa.prevPosition(e,n).fold(function(){return Fa.nextPosition(e,wa.after(t))},A.some);var e,t,n})},bl=function(n,r){return gl(r).orThunk(function(){return ml(r)}).orThunk(function(){return e=n,t=r,Fa.nextPosition(e,wa.after(t)).fold(function(){return Fa.prevPosition(e,wa.before(t))},A.some);var e,t})},yl=function(e,t,n){return(r=e,o=t,i=n,r?bl(o,i):vl(o,i)).map(b.curry(pl,n));var r,o,i},_l=function(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})},wl=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Gn.name(t))},xl=function(e){if(qc(e)){var t=In.fromHtml('<br data-mce-bogus="1">');return Xu.empty(e),Ku.append(e,t),A.some(wa.before(t.dom()))}return A.none()},Cl=function(t,n,e){var r,a,o,i=yl(n,t.getBody(),e.dom()),s=pc.ancestor(e,b.curry(wl,t),(r=t.getBody(),function(e){return e.dom()===r})),u=(a=e,o=i,Va([Ir.prevSibling(a),Ir.nextSibling(a),o],function(e,t,n){var r,o=e.dom(),i=t.dom();return ko.isText(o)&&ko.isText(i)?(r=o.data.length,o.appendData(i.data),Xu.remove(t),Xu.remove(a),n.container()===i?wa(o,r):n):(Xu.remove(a),n)}).orThunk(function(){return Xu.remove(a),o}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):s.bind(xl).fold(function(){_l(t,n,u)},function(e){_l(t,n,A.some(e))})},kl=function(a,s){var e,t,n,r,o;return(e=a.getBody(),t=s,n=a.selection.getRng(),r=js(t?1:-1,e,n),o=wa.fromRangeStart(r),!1===t&&Vs(o)?A.some(ll.remove(o.getNode(!0))):t&&Ws(o)?A.some(ll.remove(o.getNode())):hl(e,t,o)).map(function(e){return e.fold((o=a,i=s,function(e){return o._selectionOverrides.hideFakeCaret(),Cl(o,i,In.fromDom(e)),!0}),(n=a,r=s,function(e){var t=r?wa.before(e):wa.after(e);return n.selection.setRng(t.toRange()),!0}),(t=a,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i}).getOr(!1)},Sl=function(e,t){var n,r=e.selection.getNode();return!!ko.isContentEditableFalse(r)&&(n=In.fromDom(e.getBody()),I.each(rs(n,".mce-offscreen-selection"),Xu.remove),Cl(e,t,In.fromDom(e.selection.getNode())),Nc(e),!0)},El=function(e,t){return e.selection.isCollapsed()?kl(e,t):Sl(e,t)},Tl=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(ko.isContentEditableTrue(t)||ko.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return ko.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(wa.before(t).toRange())),!0},Al=ko.isText,Rl=function(e){return Al(e)&&e.data[0]===vi},Nl=function(e){return Al(e)&&e.data[e.data.length-1]===vi},Ol=function(e){return e.ownerDocument.createTextNode(vi)},Dl=function(e,t){return e?function(e){if(Al(e.previousSibling))return Nl(e.previousSibling)||e.previousSibling.appendData(vi),e.previousSibling;if(Al(e))return Rl(e)||e.insertData(0,vi),e;var t=Ol(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(Al(e.nextSibling))return Rl(e.nextSibling)||e.nextSibling.insertData(0,vi),e.nextSibling;if(Al(e))return Nl(e)||e.appendData(vi),e;var t=Ol(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},Ll=b.curry(Dl,!0),Bl=b.curry(Dl,!1),Pl=function(e,t){return ko.isText(e.container())?Dl(t,e.container()):Dl(t,e.getNode())},Ml=function(e,t){var n=t.get();return n&&e.container()===n&&xi(n)},Il=function(n,e){return e.fold(function(e){Oa.remove(n.get());var t=Ll(e);return n.set(t),A.some(wa(t,t.length-1))},function(e){return Fa.firstPositionIn(e).map(function(e){if(Ml(e,n))return wa(n.get(),1);Oa.remove(n.get());var t=Pl(e,!0);return n.set(t),wa(t,1)})},function(e){return Fa.lastPositionIn(e).map(function(e){if(Ml(e,n))return wa(n.get(),n.get().length-1);Oa.remove(n.get());var t=Pl(e,!1);return n.set(t),wa(t,t.length-1)})},function(e){Oa.remove(n.get());var t=Bl(e);return n.set(t),A.some(wa(t,1))})},Fl=function(e){return e&&/^(IMG)$/.test(e.nodeName)},jl=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},zl=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Hl={isInlineBlock:Fl,moveStart:function(e,t,n){var r,o,i,a=n.startContainer,s=n.startOffset;if((n.startContainer!==n.endContainer||!Fl(n.startContainer.childNodes[n.startOffset]))&&(3===a.nodeType&&s>=a.nodeValue.length&&(s=e.nodeIndex(a),a=a.parentNode),1===a.nodeType))for(s<(i=a.childNodes).length?r=new Zr(a=i[s],e.getParent(a,e.isBlock)):(r=new Zr(a=i[i.length-1],e.getParent(a,e.isBlock))).next(!0),o=r.current();o;o=r.next())if(3===o.nodeType&&!jl(o))return n.setStart(o,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!jl(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:jl,replaceVars:function(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},isEq:function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:zl,getStyle:function(e,t,n){return zl(e,e.getStyle(t,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}},ql=Hu.isBookmarkNode,Ul=Hl.getParents,Wl=Hl.isWhiteSpaceNode,Vl=Hl.isTextBlock,Kl=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},$l=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Gl=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),-1===(o=(i=a.lastIndexOf("",r))<o?o:i)||t||o++):(o=a.indexOf(" ",r),i=a.indexOf("",r),o=-1!==o&&(-1===i||o<i)?o:i),o},Yl=function(e,t,n,r,o,i){var a,s,u,c;if(3===n.nodeType){if(-1!==(u=Gl(o,i,n,r)))return{container:n,offset:u};c=n}for(a=new Zr(n,e.getParent(n,e.isBlock)||t);s=a[o?"prev":"next"]();)if(3===s.nodeType){if(-1!==(u=Gl(o,i,c=s)))return{container:s,offset:u}}else if(e.isBlock(s))break;if(c)return{container:c,offset:r=o?0:c.length}},Xl=function(e,t,n,r,o){var i,a,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=Ul(e,r),a=0;a<i.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(u=t[s])&&u.collapsed!==n.collapsed)&&e.is(i[a],u.selector))return i[a];return r},Jl=function(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==a&&Vl(t,e)},s)}if(o&&e[0].wrapper&&(o=Ul(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!Hl.isEq(o,"br")););return o||n},Zl=function(e,t,n,r,o,i,a){var s,u,c,l,f,d;if(s=u=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===s.nodeType&&!Wl(s)&&(a?0<r:i<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!ql(c)&&!Wl(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return u;if(u===f||u.parentNode===f){s=u;break}u=u.parentNode}return s},Ql=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=Gi(i,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=Gi(s,t.collapsed?u:u-1)).nodeType&&(u=s.nodeValue.length),i=$l(c,i),s=$l(c,s),(ql(i.parentNode)||ql(i))&&3===(i=(i=ql(i)?i:i.parentNode).nextSibling||i).nodeType&&(a=0),(ql(s.parentNode)||ql(s))&&3===(s=(s=ql(s)?s:s.parentNode).previousSibling||s).nodeType&&(u=s.length),n[0].inline&&(t.collapsed&&((o=Yl(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=Yl(c,e.getBody(),s,u,!1,r))&&(s=o.container,u=o.offset)),s=r?s:function(e,t){var n=Kl(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Kl(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Zl(c,n,i,a,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=Zl(c,n,i,a,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=Xl(c,n,t,i,"previousSibling"),s=Xl(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Jl(e,n,i,"previousSibling"),s=Jl(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=Zl(c,n,i,a,s,u,!0)),c.isBlock(s)||(s=Zl(c,n,i,a,s,u,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:a,endContainer:s,endOffset:u}},ef=Hl.isEq,tf=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},nf=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,function(e){return!!tf(t,e,n)||e.parentNode===o||!!af(t,e,n,r,!0)}),af(t,e,n,r))},rf=function(e,t,n){return!!ef(t,n.inline)||!!ef(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},of=function(e,t,n,r,o,i){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):Hl.getStyle(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!ef(s,Hl.normalizeStyleValue(e,Hl.replaceVars(c[a],i),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):Hl.getStyle(e,t,c[u]))return n;return n},af=function(e,t,n,r,o){var i,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],rf(e.dom,t,i)&&of(l,t,i,"attributes",o,r)&&of(l,t,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return i}},sf={matchNode:af,matchName:rf,match:function(e,t,n,r){var o;return r?nf(e,r,t,n):(r=e.selection.getNode(),!!nf(e,r,t,n)||!((o=e.selection.getStart())===r||!nf(e,o,t,n)))},matchAll:function(r,o,i){var e,a=[],s={};return e=r.selection.getStart(),r.dom.getParent(e,function(e){var t,n;for(t=0;t<o.length;t++)n=o[t],!s[n]&&af(r,e,n,i)&&(s[n]=!0,a.push(n))},r.dom.getRoot()),a},canApply:function(e,t){var n,r,o,i,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=Hl.getParents(u,n),i=s.length-1;0<=i;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--)if(u.is(r[o],a))return!0}return!1},matchesUnInheritedFormatSelector:tf},uf=function(e,t){return e.splitText(t)},cf={split:function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&ko.isText(t)?0<n&&n<t.nodeValue.length&&(t=(r=uf(t,n)).previousSibling,n<o?(t=r=uf(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(ko.isText(t)&&0<n&&n<t.nodeValue.length&&(t=uf(t,n),n=0),ko.isText(r)&&0<o&&o<r.nodeValue.length&&(o=(r=uf(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}}},lf=vi,ff="_mce_caret",df=function(e){return 1===e.nodeType&&e.id===ff},hf=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==lf||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},pf=function(e){var t;if(e)for(e=(t=new Zr(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},mf=function(e){var t=In.fromTag("span");return sr.setAll(t,{id:ff,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ku.append(t,In.fromText(lf)),t},gf=function(e,t){for(;t&&t!==e;){if(t.id===ff)return t;t=t.parentNode}return null},vf=function(e,t,n,r){var o,i,a,s;o=t.getRng(!0),i=e.getParent(n,e.isBlock),hf(n)?(!1!==r&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):((s=pf(n))&&s.nodeValue.charAt(0)===lf&&s.deleteData(0,1),a=s,o.startContainer===a&&0<o.startOffset&&o.setStart(a,o.startOffset-1),o.endContainer===a&&0<o.endOffset&&o.setEnd(a,o.endOffset-1),e.remove(n,!0)),i&&e.isEmpty(i)&&ec(In.fromDom(i)),t.setRng(o)},bf=function(e,t,n,r,o){if(r)vf(t,n,r,o);else if(!(r=gf(e,n.getStart())))for(;r=t.get(ff);)vf(t,n,r,!1)},yf=function(e,t,n){var r=e.dom,o=r.getParent(n,Qi.curry(Hl.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(Qu(In.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},_f=function(e,t){return e.appendChild(t),t},wf=function(e,t){var n=I.foldr(e,function(e,t){return _f(e,t.cloneNode(!1))},t);return _f(n,n.ownerDocument.createTextNode(lf))},xf={setup:function(e){var i=e.dom,a=e.selection,s=e.getBody();e.on("mouseup keydown",function(e){var t,n,r,o;t=s,n=i,r=a,o=e.keyCode,bf(t,n,r,null,!1),8===o&&r.isCollapsed()&&r.getStart().innerHTML===lf&&bf(t,n,r,gf(t,r.getStart())),37!==o&&39!==o||bf(t,n,r,gf(t,r.getStart()))})},applyCaretFormat:function(e,t,n){var r,o,i,a,s,u,c=e.selection;a=(r=c.getRng(!0)).startOffset,u=r.startContainer.nodeValue,(o=gf(e.getBody(),c.getStart()))&&(i=pf(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&0<a&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=Ql(e,r,e.formatter.get(t)),r=cf.split(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(o&&i.nodeValue===lf||(l=e.getDoc(),f=mf(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1),e.formatter.apply(t,n,o),c.setCursorLocation(i,a))},removeCaretFormat:function(e,t,n,r){var o,i,a,s,u,c,l,f=e.dom,d=e.selection,h=[],p=d.getRng();for(o=p.startContainer,i=p.startOffset,3===(u=o).nodeType&&(i!==o.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(sf.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),h.push(u),u=u.parentNode}if(c)if(s){a=d.getBookmark(),p.collapse(!0);var m=Ql(e,p,e.formatter.get(t),!0);m=cf.split(m),e.formatter.remove(t,n,m),d.moveToBookmark(a)}else{l=gf(e.getBody(),c);var g=mf(!1).dom(),v=wf(h,g);yf(e,g,l||c),vf(f,d,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c)}},isCaretNode:df,getParentCaretContainer:gf,replaceWithCaretFormat:function(e,t){var n=mf(!1),r=wf(t,n.dom());return Ku.before(In.fromDom(e),n),Xu.remove(In.fromDom(e)),wa(r,0)},isFormatElement:function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Gn.name(t))&&!df(t.dom())&&!ko.isBogus(t.dom())}},Cf=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return A.none()},kf=cl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Sf=function(e,t){var n=Ds(t,e);return n||e},Ef=function(e,t,n){var r=Ac.normalizeForwards(n),o=Sf(t,r.container());return Ac.findRootInline(e,o,r).fold(function(){return Fa.nextPosition(o,r).bind(b.curry(Ac.findRootInline,e,o)).map(function(e){return kf.before(e)})},A.none)},Tf=function(e,t){return null===xf.getParentCaretContainer(e,t)},Af=function(e,t,n){return Ac.findRootInline(e,t,n).filter(b.curry(Tf,t))},Rf=function(e,t,n){var r=Ac.normalizeBackwards(n);return Af(e,t,r).bind(function(e){return Fa.prevPosition(e,r).isNone()?A.some(kf.start(e)):A.none()})},Nf=function(e,t,n){var r=Ac.normalizeForwards(n);return Af(e,t,r).bind(function(e){return Fa.nextPosition(e,r).isNone()?A.some(kf.end(e)):A.none()})},Of=function(e,t,n){var r=Ac.normalizeBackwards(n),o=Sf(t,r.container());return Ac.findRootInline(e,o,r).fold(function(){return Fa.prevPosition(o,r).bind(b.curry(Ac.findRootInline,e,o)).map(function(e){return kf.after(e)})},A.none)},Df=function(e){return!1===Ac.isRtl(Bf(e))},Lf=function(e,t,n){return Cf([Ef,Rf,Nf,Of],[e,t,n]).filter(Df)},Bf=function(e){return e.fold(b.identity,b.identity,b.identity,b.identity)},Pf=function(e){return e.fold(b.constant("before"),b.constant("start"),b.constant("end"),b.constant("after"))},Mf=function(e){return e.fold(kf.before,kf.before,kf.after,kf.after)},If=function(n,e,r,t,o,i){return Va([Ac.findRootInline(e,r,t),Ac.findRootInline(e,r,o)],function(e,t){return e!==t&&Ac.hasSameParentBlock(r,e,t)?kf.after(n?e:t):i}).getOr(i)},Ff=function(e,r){return e.fold(b.constant(!0),function(e){return n=r,!(Pf(t=e)===Pf(n)&&Bf(t)===Bf(n));var t,n})},jf=function(e,t){return e?t.fold(b.compose(A.some,kf.start),A.none,b.compose(A.some,kf.after),A.none):t.fold(A.none,b.compose(A.some,kf.before),A.none,b.compose(A.some,kf.end))},zf=function(a,s,u,c){var e=Ac.normalizePosition(a,c),l=Lf(s,u,e);return Lf(s,u,e).bind(b.curry(jf,a)).orThunk(function(){return t=a,n=s,r=u,o=l,e=c,i=Ac.normalizePosition(t,e),Fa.fromPosition(t,r,i).map(b.curry(Ac.normalizePosition,t)).fold(function(){return o.map(Mf)},function(e){return Lf(n,r,e).map(b.curry(If,t,n,r,i,e)).filter(b.curry(Ff,o))}).filter(Df);var t,n,r,o,e,i})},Hf=Lf,qf=zf,Uf=(b.curry(zf,!1),b.curry(zf,!0),Mf),Wf=function(e){return e.fold(kf.start,kf.start,kf.end,kf.end)},Vf=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return Vf(n())}}},Kf=function(e){return Xn.isFunction(e.selection.getSel().modify)},$f=function(e,t,n){var r=e?1:-1;return t.setRng(wa(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Gf=function(e,t){var n=t.selection.getRng(),r=e?wa.fromRangeEnd(n):wa.fromRangeStart(n);return!!Kf(t)&&(e&&Si(r)?$f(!0,t.selection,r):!(e||!Ei(r))&&$f(!1,t.selection,r))},Yf=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},Xf=function(e){return!1!==e.settings.inline_boundaries},Jf=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Zf=function(t,e,n){return Il(e,n).map(function(e){return Yf(t,e),n})},Qf=function(e,t,n){return function(){return!!Xf(t)&&Gf(e,t)}},ed={move:function(a,s,u){return function(){return!!Xf(a)&&(t=a,n=s,e=u,r=t.getBody(),o=wa.fromRangeStart(t.selection.getRng()),i=b.curry(Ac.isInlineTarget,t),qf(e,i,r,o).bind(function(e){return Zf(t,n,e)})).isSome();var t,n,e,r,o,i}},moveNextWord:b.curry(Qf,!0),movePrevWord:b.curry(Qf,!1),setupSelectedState:function(a){var s=new Vf(null),u=b.curry(Ac.isInlineTarget,a);return a.on("NodeChange",function(e){var t,n,r,o,i;Xf(a)&&(t=u,n=a.dom,r=e.parents,o=I.filter(n.select('*[data-mce-selected="inline-boundary"]'),t),i=I.filter(r,t),I.each(I.difference(o,i),b.curry(Jf,!1)),I.each(I.difference(i,o),b.curry(Jf,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=wa.fromRangeStart(e.selection.getRng());wa.isTextPosition(n)&&!1===Ac.isAtZwsp(n)&&(Yf(e,Oa.removeAndReposition(t.get(),n)),t.set(null))}}(a,s),function(n,r,o,e){if(r.selection.isCollapsed()){var t=I.filter(e,n);I.each(t,function(e){var t=wa.fromRangeStart(r.selection.getRng());Hf(n,r.getBody(),t).bind(function(e){return Zf(r,o,e)})})}}(u,a,s,e.parents))}),s},setCaretPosition:Yf},td=function(t,n){return function(e){return Il(n,e).map(function(e){return ed.setCaretPosition(t,e),!0}).getOr(!1)}},nd=function(r,o,i,a){var s=r.getBody(),u=b.curry(Ac.isInlineTarget,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),Hf(u,s,wa.fromRangeStart(r.selection.getRng())).map(Wf).map(td(r,o))}),r.nodeChanged()},rd=function(n,r,i,o){var e,t,a=(e=n.getBody(),t=o.container(),Ds(t,e)||e),s=b.curry(Ac.isInlineTarget,n),u=Hf(s,a,o);return u.bind(function(e){return i?e.fold(b.constant(A.some(Wf(e))),A.none,b.constant(A.some(Uf(e))),A.none):e.fold(A.none,b.constant(A.some(Uf(e))),A.none,b.constant(A.some(Wf(e))))}).map(td(n,r)).getOrThunk(function(){var t=Fa.navigate(i,a,o),e=t.bind(function(e){return Hf(s,a,e)});return u.isSome()&&e.isSome()?Ac.findRootInline(s,a,o).map(function(e){return o=e,!!Va([Fa.firstPositionIn(o),Fa.lastPositionIn(o)],function(e,t){var n=Ac.normalizePosition(!0,e),r=Ac.normalizePosition(!1,t);return Fa.nextPosition(o,n).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)&&(Cl(n,i,In.fromDom(e)),!0);var o}).getOr(!1):e.bind(function(e){return t.map(function(e){return i?nd(n,r,o,e):nd(n,r,e,o),!0})}).getOr(!1)})},od=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=wa.fromRangeStart(e.selection.getRng());return rd(e,t,n,r)}return!1},id=br.immutable("start","end"),ad=br.immutable("rng","table","cells"),sd=cl([{removeTable:["element"]},{emptyCells:["cells"]}]),ud=function(e,t){return Pc(In.fromDom(e),"td,th",t)},cd=function(e,t){return Lc(e,"table",t)},ld=function(e){return!1===Rr.eq(e.start(),e.end())},fd=function(n,e){return(r=n,o=e,cd(r.start(),o).bind(function(t){return cd(r.end(),o).bind(function(e){return Rr.eq(t,e)?A.some(t):A.none()})})).bind(function(e){var t=rs(e,"td,th");return ad(n,e,t)});var r,o},dd=function(e,t){var n,r,o=b.curry(Rr.eq,e);return(n=t,r=o,Va([ud(n.startContainer,r),ud(n.endContainer,r)],id).filter(ld)).map(function(e){return fd(e,o)})},hd=function(e,t){return I.findIndex(e,function(e){return Rr.eq(e,t)})},pd=function(n){return(r=n,Va([hd(r.cells(),r.rng().start()),hd(r.cells(),r.rng().end())],function(e,t){return r.cells().slice(e,t+1)})).bind(function(e){var t=n.cells();return e.length===t.length?sd.removeTable(n.table()):sd.emptyCells(e)});var r},md=function(e,t){return dd(e,t).map(pd)},gd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},vd=gd,bd=function(e){return I.bind(e,function(e){var t=$i(e);return t?[In.fromDom(t)]:[]})},yd=function(e){return 1<gd(e).length},_d=function(e){return I.filter(bd(e),ho)},wd=function(e){return rs(e,"td[data-mce-selected],th[data-mce-selected]")},xd=function(e,t){var n=wd(t),r=_d(e);return 0<n.length?n:r},Cd=xd,kd=function(e){return xd(vd(e.selection.getSel()),In.fromDom(e.getBody()))},Sd=function(e,t){return I.each(t,ec),e.selection.setCursorLocation(t[0].dom(),0),!0},Ed=function(e,t){return Cl(e,!1,t),!0},Td=function(n,e,r,t){return Rd(e,t).fold(function(){return t=n,md(e,r).map(function(e){return e.fold(b.curry(Ed,t),b.curry(Sd,t))});var t},function(e){return Nd(n,e)}).getOr(!1)},Ad=function(e,t){return I.find(Jc(t,e),ho)},Rd=function(e,t){return I.find(Jc(t,e),function(e){return"caption"===Gn.name(e)})},Nd=function(e,t){return ec(t),e.selection.setCursorLocation(t.dom(),0),A.some(!0)},Od=function(s,u,c,l,f){return Fa.navigate(c,s.getBody(),f).bind(function(e){return r=l,o=c,i=f,a=e,Fa.firstPositionIn(r.dom()).bind(function(t){return Fa.lastPositionIn(r.dom()).map(function(e){return o?i.isEqual(t)&&a.isEqual(e):i.isEqual(e)&&a.isEqual(t)})}).getOr(!0)?Nd(s,l):(t=l,n=e,Rd(u,In.fromDom(n.getNode())).map(function(e){return!1===Rr.eq(e,t)}));var t,n,r,o,i,a}).or(A.some(!0))},Dd=function(a,s,u,e){var c=wa.fromRangeStart(a.selection.getRng());return Ad(u,e).bind(function(e){return qc(e)?Nd(a,e):(t=a,n=u,r=s,o=e,i=c,Fa.navigate(r,t.getBody(),i).bind(function(e){return Ad(n,In.fromDom(e.getNode())).map(function(e){return!1===Rr.eq(e,o)})}));var t,n,r,o,i})},Ld=function(a,s,e){var u=In.fromDom(a.getBody());return Rd(u,e).fold(function(){return Dd(a,s,u,e)},function(e){return t=a,n=s,r=u,o=e,i=wa.fromRangeStart(t.selection.getRng()),qc(o)?Nd(t,o):Od(t,r,n,o,i);var t,n,r,o,i}).getOr(!1)},Bd=function(e,t){var n,r,o,i,a,s=In.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?Ld(e,t,s):(n=e,r=s,o=In.fromDom(n.getBody()),i=n.selection.getRng(),0!==(a=kd(n)).length?Sd(n,a):Td(n,o,i,r))},Pd=function(e,t){e.getDoc().execCommand(t,!1,null)},Md={deleteCommand:function(e){El(e,!1)||od(e,!1)||ol(e,!1)||Bd(e)||ul(e,!1)||(Pd(e,"Delete"),Nc(e))},forwardDeleteCommand:function(e){El(e,!0)||od(e,!0)||ol(e,!0)||Bd(e)||ul(e,!0)||Pd(e,"ForwardDelete")}},Id={isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}},Fd=br.immutable("container","offset"),jd=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},zd=function(e,t,n){return jd(e,t,function(e){return e.nodeName===n})},Hd=function(e){return e&&"TABLE"===e.nodeName},qd=function(e,t,n){for(var r=new Zr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(ko.isBr(t))return!0},Ud=function(e,t,n,r,o){var i,a,s,u,c,l,f=e.getRoot(),d=e.schema.getNonEmptyElements();if(s=e.getParent(o.parentNode,e.isBlock)||f,r&&ko.isBr(o)&&t&&e.isEmpty(s))return A.some(Fd(o.parentNode,e.nodeIndex(o)));for(i=new Zr(o,s);u=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(u)||(l=f,Ci(c=u)&&!1===jd(c,l,xf.isCaretNode)))return A.none();if(ko.isText(u)&&0<u.nodeValue.length)return!1===zd(u,f,"A")?A.some(Fd(u,r?u.nodeValue.length:0)):A.none();if(e.isBlock(u)||d[u.nodeName.toLowerCase()])return A.none();a=u}return n&&a?A.some(Fd(a,0)):A.none()},Wd=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p=e.getRoot(),m=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=ko.isElement(o)&&i===o.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,Ci(o))return A.none();if(ko.isElement(o)&&i>o.childNodes.length-1&&(c=!1),ko.isDocument(o)&&(o=p,i=0),o===p){if(c&&(s=o.childNodes[0<i?i-1:0])){if(Ci(s))return A.none();if(u[s.nodeName]||Hd(s))return A.none()}if(o.hasChildNodes()){if(i=Math.min(!c&&0<i?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=ko.isText(o)&&l?o.data.length:0,!t&&o===p.lastChild&&Hd(o))return A.none();if(function(e,t){for(;t&&t!==e;){if(ko.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(p,o)||Ci(o))return A.none();if(o.hasChildNodes()&&!1===Hd(o)){a=new Zr(s=o,p);do{if(ko.isContentEditableFalse(s)||Ci(s)){m=!1;break}if(ko.isText(s)&&0<s.nodeValue.length){i=c?0:s.nodeValue.length,o=s,m=!0;break}if(u[s.nodeName.toLowerCase()]&&(!(f=s)||!/^(TD|TH|CAPTION)$/.test(f.nodeName))){i=e.nodeIndex(s),o=s.parentNode,"IMG"!==s.nodeName&&"PRE"!==s.nodeName||c||i++,m=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(ko.isText(o)&&0===i&&Ud(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),m=!0}),ko.isElement(o)&&((s=o.childNodes[i])||(s=o.childNodes[i-1]),!s||!ko.isBr(s)||(h="A",(d=s).previousSibling&&d.previousSibling.nodeName===h)||qd(e,s,!1)||qd(e,s,!0)||Ud(e,l,t,!0,s).each(function(e){o=e.container(),i=e.offset(),m=!0}))),c&&!t&&ko.isText(o)&&i===o.nodeValue.length&&Ud(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),m=!0}),m?A.some(Fd(o,i)):A.none()},Vd={normalize:function(e,t){var n=t.collapsed,r=t.cloneRange();return Wd(e,n,!0,r).each(function(e){r.setStart(e.container(),e.offset())}),n||Wd(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Id.isEq(t,r)?A.none():A.some(r)}},Kd=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},$d=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},Gd=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Vd.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=t&&t.ctrlKey;"LI"!==d||h||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new Zr(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),Kd(i,o,n),$d(i,o,n,r),e.undoManager.add()},Yd=function(e,t){var n=In.fromTag("br");Ku.before(In.fromDom(t),n),e.undoManager.add()},Xd=function(e,t){Jd(e.getBody(),t)||Ku.after(In.fromDom(t),In.fromTag("br"));var n=In.fromTag("br");Ku.after(In.fromDom(t),n),Kd(e.dom,e.selection,n.dom()),$d(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Jd=function(e,t){return n=wa.after(t),!!ko.isBr(n.getNode())||Fa.nextPosition(e,wa.after(t)).map(function(e){return ko.isBr(e.getNode())}).getOr(!1);var n},Zd=function(e){return e&&"A"===e.nodeName&&"href"in e},Qd=function(e){return e.fold(b.constant(!1),Zd,Zd,b.constant(!1))},eh=function(e,t){t.fold(b.noop,b.curry(Yd,e),b.curry(Xd,e),b.noop)},th={insert:function(e,t){var n,r,o,i=(n=e,r=b.curry(Ac.isInlineTarget,n),o=wa.fromRangeStart(n.selection.getRng()),Hf(r,n.getBody(),o).filter(Qd));i.isSome()?i.each(b.curry(eh,e)):Gd(e,t)}},nh=cl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),rh=(nh.before,nh.on,nh.after,function(e){return e.fold(b.identity,b.identity,b.identity)}),oh=cl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ih=br.immutable("start","soffset","finish","foffset"),ah={domRange:oh.domRange,relative:oh.relative,exact:oh.exact,exactFromRange:function(e){return oh.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:ih,getWin:function(e){var t=e.match({domRange:function(e){return In.fromDom(e.startContainer)},relative:function(e,t){return rh(e)},exact:function(e,t,n,r){return e}});return Ir.defaultView(t)}},sh=Pn.detect().browser,uh=function(e,t){var n=Gn.isText(t)?Zu(t).length:Ir.children(t).length+1;return n<e?n:e<0?0:e},ch=function(e){return ah.range(e.start(),uh(e.soffset(),e.start()),e.finish(),uh(e.foffset(),e.finish()))},lh=function(e,t){return Rr.contains(e,t)||Rr.eq(e,t)},fh=function(t){return function(e){return lh(t,e.start())&&lh(t,e.finish())}},dh=function(e){return!0===e.inline||sh.isIE()},hh=function(e){return ah.range(In.fromDom(e.startContainer),e.startOffset,In.fromDom(e.endContainer),e.endOffset)},ph=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?A.from(t.getRangeAt(0)):A.none()).map(hh)},mh=function(e){var t=Ir.defaultView(e);return ph(t.dom()).filter(fh(e))},gh=function(e,t){return A.from(t).filter(fh(e)).map(ch)},vh=function(e){var t=document.createRange();return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),A.some(t)},bh=function(e){return(e.bookmark?e.bookmark:A.none()).bind(b.curry(gh,In.fromDom(e.getBody()))).bind(vh)},yh={store:function(e){var t=dh(e)?mh(In.fromDom(e.getBody())):A.none();e.bookmark=t.isSome()?t:e.bookmark},storeNative:function(e,t){var n=In.fromDom(e.getBody()),r=(dh(e)?A.from(t):A.none()).map(hh).filter(fh(n));e.bookmark=r.isSome()?r:e.bookmark},readRange:ph,restore:function(t){bh(t).each(function(e){t.selection.setRng(e)})},getRng:bh,getBookmark:mh,validate:gh},_h=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),u=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),I.each(o.getSelectedBlocks(),function(e){return function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)&&"LI"!==i.nodeName){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,s?s+o:"")}else s=parseInt(i.style[a]||0,10)+r+o,e.setStyle(i,a,s)}}(r,t,u,s,a,e)}))},wh=Dt.each,xh=Dt.extend,Ch=Dt.map,kh=Dt.inArray,Sh=Dt.explode,Eh=!0,Th=!1;function Ah(s){var o,i,a,t,u={state:{},exec:{},value:{}},c=s.settings;s.on("PreInit",function(){o=s.dom,i=s.selection,c=s.settings,a=s.formatter});var n=function(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=u.state[e])return t(e);try{return s.getDoc().queryCommandState(e)}catch(e){}return!1}},e=function(e,n){n=n||"exec",wh(e,function(t,e){wh(e.toLowerCase().split(","),function(e){u[n][e]=t})})};xh(this,{execCommand:function(t,n,r,e){var o,i,a=!1;if(!s.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?yh.restore(s):s.focus(),(e=s.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(i=t.toLowerCase(),o=u.exec[i])return o(i,n,r),s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(wh(s.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),a=!0,!1}),a)return a;if(s.theme&&s.theme.execCommand&&s.theme.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=s.getDoc().execCommand(t,n,r)}catch(e){}return!!a&&(s.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},queryCommandState:n,queryCommandValue:function(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=u.value[e])return t(e);try{return s.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),u.exec[e])return!0;try{return s.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,o,i){e=e.toLowerCase(),u.exec[e]=function(e,t,n,r){return o.call(i||s,t,n,r)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),u.state[e]=function(){return t.call(n||s)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),u.value[e]=function(){return t.call(n||s)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!u.exec[e]}});var l=function(e,t,n){return void 0===t&&(t=Th),void 0===n&&(n=null),s.getDoc().execCommand(e,t,n)},r=function(e){return a.match(e)},f=function(e,t){a.toggle(e,t?{value:t}:void 0),s.nodeChanged()},d=function(e){t=i.getBookmark(e)},h=function(){i.moveToBookmark(t)};e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=s.getDoc();try{l(e)}catch(e){t=Eh}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var r=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");de.mac&&(r=r.replace(/Ctrl\+/g,"+")),s.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(i.isCollapsed()){var e=s.dom.getParent(s.selection.getStart(),"a");e&&s.dom.remove(e,!0)}else a.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),wh("left,center,right,justify".split(","),function(e){t!==e&&a.remove("align"+e)}),"none"!==t&&f("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;l(e),(t=o.getParent(i.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(d(),o.split(n,t),h()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){f(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){f(e,n)},FontSize:function(e,t,n){var r,o;1<=n&&n<=7&&(o=Sh(c.font_size_style_values),n=(r=Sh(c.font_size_classes))?r[n-1]||n:o[n-1]||n),f(e,n)},RemoveFormat:function(e){a.remove(e)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(e,t,n){return f(n||"p")},mceCleanup:function(){var e=i.getBookmark();s.setContent(s.getContent({cleanup:Eh}),{cleanup:Eh}),i.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||i.getNode();r!==s.getBody()&&(d(),s.dom.remove(r,Eh),h())},mceSelectNodeDepth:function(e,t,n){var r=0;o.getParent(i.getNode(),function(e){if(1===e.nodeType&&r++===n)return i.select(e),Th},s.getBody())},mceSelectNode:function(e,t,n){i.select(n)},mceInsertContent:function(e,t,n){cc.insertAtCaret(s,n)},mceInsertRawHTML:function(e,t,n){i.setContent("tiny_mce_marker"),s.setContent(s.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){f(n)},mceSetContent:function(e,t,n){s.setContent(n)},"Indent,Outdent":function(e){_h(s,e)},mceRepaint:function(){},InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(e,t,n){s.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,i.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=o.getParent(i.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||a.remove("link"),n.href&&a.apply("link",n,r)},selectAll:function(){var e=o.getParent(i.getStart(),ko.isContentEditableTrue);if(e){var t=o.createRng();t.selectNodeContents(e),i.setRng(t)}},delete:function(){Md.deleteCommand(s)},forwardDelete:function(){Md.forwardDeleteCommand(s)},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(e,t,n){return th.insert(s,n),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=i.isCollapsed()?[o.getParent(i.getNode(),o.isBlock)]:i.getSelectedBlocks(),r=Ch(n,function(e){return!!a.matchNode(e,t)});return-1!==kh(r,Eh)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return r(e)},mceBlockQuote:function(){return r("blockquote")},Outdent:function(){var e;if(c.inline_styles){if((e=o.getParent(i.getStart(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return Eh;if((e=o.getParent(i.getEnd(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return Eh}return n("InsertUnorderedList")||n("InsertOrderedList")||!c.inline_styles&&!!o.getParent(i.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=o.getParent(i.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return(t=o.getParent(i.getNode(),"span"))&&(n="fontsize"===e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),e({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}})}var Rh=Dt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Nh=function(a){var s,u,c=this,l={},f=function(){return!1},d=function(){return!0};s=(a=a||{}).scope||c,u=a.toggleEvent||f;var r=function(e,t,n,r){var o,i,a;if(!1===t&&(t=f),t)for(t={func:t},r&&Dt.extend(t,r),a=(i=e.toLowerCase().split(" ")).length;a--;)e=i[a],(o=l[e])||(o=l[e]=[],u(e,!0)),n?o.unshift(t):o.push(t);return c},h=function(e,t){var n,r,o,i,a;if(e)for(n=(i=e.toLowerCase().split(" ")).length;n--;){if(e=i[n],r=l[e],!e){for(o in l)u(o,!1),delete l[o];return c}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),l[e]=r);else r.length=0;r.length||(u(e,!1),delete l[e])}}else{for(e in l)u(e,!1);l={}}return c};c.fire=function(e,t){var n,r,o,i;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=s),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=d},t.stopPropagation=function(){t.isPropagationStopped=d},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=d},t.isDefaultPrevented=f,t.isPropagationStopped=f,t.isImmediatePropagationStopped=f),a.beforeFire&&a.beforeFire(t),n=l[e])for(r=0,o=n.length;r<o;r++){if((i=n[r]).once&&h(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(s,t))return t.preventDefault(),t}return t},c.on=r,c.off=h,c.once=function(e,t,n){return r(e,t,n,{once:!0})},c.has=function(e){return e=e.toLowerCase(),!(!l[e]||0===l[e].length)}};Nh.isNative=function(e){return!!Rh[e.toLowerCase()]};var Oh,Dh=function(n){return n._eventDispatcher||(n._eventDispatcher=new Nh({scope:n,toggleEvent:function(e,t){Nh.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher},Lh={fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=Dh(this).fire(e,t,n),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return Dh(this).on(e,t,n)},off:function(e,t){return Dh(this).off(e,t)},once:function(e,t){return Dh(this).once(e,t)},hasEventListeners:function(e){return Dh(this).has(e)}},Bh=ai.DOM,Ph=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Bh.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Mh=function(i,a){var e,t,s=function(e){return!e.hidden&&!e.readonly};if(i.delegates||(i.delegates={}),!i.delegates[a]&&!i.removed)if(e=Ph(i,a),i.settings.event_root){if(Oh||(Oh={},i.editorManager.on("removeEditor",function(){var e;if(!i.editorManager.activeEditor&&Oh){for(e in Oh)i.dom.unbind(Ph(i,e));Oh=null}})),Oh[a])return;t=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();(o===t||Bh.isChildOf(t,o))&&s(n[r])&&n[r].fire(a,e)}},Oh[a]=t,Bh.bind(e,a,t)}else t=function(e){s(i)&&i.fire(a,e)},Bh.bind(e,a,t),i.delegates[a]=t},Ih={bindPendingEventDelegates:function(){var t=this;Dt.each(t._pendingNativeEvents,function(e){Mh(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Mh(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Ph(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(Ph(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}},Fh=Ih=Dt.extend({},Lh,Ih),jh=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},zh=function(e,t){var n,r,o;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(r=(n=e).getBody(),o=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(r,"click",o),{unbind:function(){n.dom.unbind(r,"click",o)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,jh(e,"StyleWithCSS",!1),jh(e,"enableInlineTableEditing",!1),jh(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},Hh=function(e,t){var n=e.readonly?"readonly":"design";t!==n&&(e.initialized?zh(e,"readonly"===t):e.on("init",function(){zh(e,"readonly"===t)}),e.fire("SwitchMode",{mode:t}))},qh=Dt.each,Uh=Dt.explode,Wh={f9:120,f10:121,f11:122},Vh=Dt.makeMap("alt,ctrl,shift,meta,access");function Kh(i){var a={},r=[],s=function(e){var t,n,r={};for(n in qh(Uh(e,"+"),function(e){e in Vh?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=Wh[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],Vh)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,de.mac?r.ctrl=!0:r.shift=!0),r.meta&&(de.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},u=function(e,t,n,r){var o;return(o=Dt.map(Uh(e,">"),s))[o.length-1]=Dt.extend(o[o.length-1],{func:n,scope:r||i}),Dt.extend(o[0],{desc:i.translate(t),subpatterns:o.slice(1)})},o=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},c=function(e){return e.func?e.func.call(e.scope):null};i.on("keyup keypress keydown",function(t){var e,n;((n=t).altKey||n.ctrlKey||n.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)&&!t.isDefaultPrevented()&&(qh(a,function(e){if(o(t,e))return r=e.subpatterns.slice(0),"keydown"===t.type&&c(e),!0}),o(t,r[0])&&(1===r.length&&"keydown"===t.type&&c(r[0]),r.shift()))}),this.add=function(e,n,r,o){var t;return"string"==typeof(t=r)?r=function(){i.execCommand(t,!1,null)}:Dt.isArray(t)&&(r=function(){i.execCommand(t[0],t[1],t[2])}),qh(Uh(Dt.trim(e.toLowerCase())),function(e){var t=u(e,n,r,o);a[t.id]=t}),!0},this.remove=function(e){var t=u(e);return!!a[t.id]&&(delete a[t.id],!0)}}var $h=function(e){var t=void 0!==e?e.dom():document;return A.from(t.activeElement).map(In.fromDom)},Gh=function(e){var t=Ir.owner(e).dom();return e.dom()===t.activeElement},Yh=function(t){return $h(Ir.owner(t)).filter(function(e){return t.dom().contains(e.dom())})},Xh=function(t,e){return(n=e,n.collapsed?A.from(Gi(n.startContainer,n.startOffset)).map(In.fromDom):A.none()).bind(function(e){return fo(e)?A.some(e):!1===Rr.contains(t,e)?A.some(t):A.none()});var n},Jh=function(t,e){Xh(In.fromDom(t.getBody()),e).bind(function(e){return Fa.firstPositionIn(e.dom())}).fold(function(){return t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Zh=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Qh=function(e){var t,n=e.getBody();return n&&(t=In.fromDom(n),Gh(t)||Yh(t).isSome())},ep=function(e){return e.inline?Qh(e):(t=e).iframeElement&&Gh(In.fromDom(t.iframeElement));var t},tp=function(e){e.editorManager.setActive(e)},np=function(e,t){e.removed||(t?tp(e):function(t){var e,n,r,o=t.selection,i=t.settings.content_editable,a=t.getBody(),s=o.getRng();if(t.quirks.refreshContentEditable(),n=t,r=o.getNode(),e=n.dom.getParent(r,function(e){return"true"===n.dom.getContentEditable(e)}),t.$.contains(a,e))return Zh(e),Jh(t,s),tp(t);void 0!==t.bookmark&&!1===ep(t)&&yh.getRng(t).each(function(e){t.selection.setRng(e),s=e}),i||(de.opera||Zh(a),t.getWin().focus()),(de.gecko||i)&&(Zh(a),Jh(t,s)),tp(t)}(e))},rp=ep,op=function(e,t){return t.dom()[e]},ip=function(e,t){return parseInt(mr(t,e),10)},ap=b.curry(op,"clientWidth"),sp=b.curry(op,"clientHeight"),up=b.curry(ip,"margin-top"),cp=b.curry(ip,"margin-left"),lp={isXYInContentArea:function(e,t,n){var r,o,i,a,s,u,c,l,f,d,h=In.fromDom(e.getBody()),p=e.inline?h:Ir.documentElement(h),m=(r=e.inline,i=t,a=n,s=(o=p).dom().getBoundingClientRect(),{x:i-(r?s.left+o.dom().clientLeft+cp(o):0),y:a-(r?s.top+o.dom().clientTop+up(o):0)});return c=m.x,l=m.y,f=ap(u=p),d=sp(u),0<=c&&0<=l&&c<=f&&l<=d},isEditorAttachedToDom:function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,A.from(t).map(In.fromDom)).map(function(e){return Rr.contains(Ir.owner(e),e)}).getOr(!1)}};function fp(n){var t,o=[],i=function(){var e,t=n.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},a=function(){0<o.length&&i().reposition(o)},s=function(t){I.findIndex(o,function(e){return e===t}).each(function(e){o.splice(e,1)})},r=function(r){if(!n.removed&&lp.isEditorAttachedToDom(n))return I.find(o,function(e){return t=i().getArgs(e),n=r,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n}).getOrThunk(function(){n.editorManager.setActive(n);var e,t=i().open(r,function(){s(t),a()});return e=t,o.push(e),a(),t})};return(t=n).on("SkinLoaded",function(){var e=t.settings.service_message;e&&r({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){ve.requestAnimationFrame(a)}),t.on("remove",function(){I.each(o,function(e){i().close(e)})}),{open:r,close:function(){A.from(o[0]).each(function(e){i().close(e),s(e),a()})},getNotifications:function(){return o}}}function dp(r){var o=[],i=function(){var e,t=r.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:e,confirm:e,close:e,getParams:e,setParams:e}},a=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},s=function(e){var t;o.push(e),t=e,r.fire("OpenWindow",{win:t})},u=function(n){I.findIndex(o,function(e){return e===n}).each(function(e){var t;o.splice(e,1),t=n,r.fire("CloseWindow",{win:t}),0===o.length&&r.focus()})},e=function(){return A.from(o[o.length-1])};return r.on("remove",function(){I.each(o.slice(0),function(e){i().close(e)})}),{windows:o,open:function(e,t){r.editorManager.setActive(r),yh.store(r);var n=i().open(e,t,u);return s(n),n},alert:function(e,t,n){var r=i().alert(e,a(n||this,t),u);s(r)},confirm:function(e,t,n){var r=i().confirm(e,a(n||this,t),u);s(r)},close:function(){e().each(function(e){i().close(e),u(e)})},getParams:function(){return e().map(i().getParams).getOr(null)},setParams:function(t){e().each(function(e){i().setParams(e,t)})},getWindows:function(){return o}}}var hp=hi.PluginManager,pp=function(e,t){var n=function(e,t){for(var n in hp.urls)if(hp.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},mp=function(e,t){e.notificationManager.open({type:"error",text:t})},gp=function(e,t){e._skinLoaded?mp(e,t):e.on("SkinLoaded",function(){mp(e,t)})},vp={pluginLoadError:function(e,t){gp(e,pp(e,t))},uploadError:function(e,t){gp(e,"Failed to upload image: "+t)},displayError:gp,initError:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))}},bp=hi.PluginManager,yp=hi.ThemeManager;function _p(){return new(H.getOrDie("XMLHttpRequest"))}function wp(s,u){var r={},n=function(e,r,o,t){var i,n;(i=new _p).open("POST",u.url),i.withCredentials=u.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,t,n;i.status<200||300<=i.status?o("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?r((t=u.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):o("Invalid JSON: "+i.responseText)},(n=new FormData).append("file",e.blob(),e.filename()),i.send(n)},c=function(e,t){return{url:t,blobInfo:e,status:!0}},l=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},f=function(e,t){Dt.each(r[e],function(e){e(t)}),delete r[e]},o=function(e,n){return e=Dt.grep(e,function(e){return!s.isUploaded(e.blobUri())}),he.all(Dt.map(e,function(e){return s.isPending(e.blobUri())?(t=e.blobUri(),new he(function(e){r[t]=r[t]||[],r[t].push(e)})):(o=e,i=u.handler,a=n,s.markPending(o.blobUri()),new he(function(t){var n;try{var r=function(){n&&n.close()};i(o,function(e){r(),s.markUploaded(o.blobUri(),e),f(o.blobUri(),c(o,e)),t(c(o,e))},function(e){r(),s.removeFailed(o.blobUri()),f(o.blobUri(),l(o,e)),t(l(o,e))},function(e){e<0||100<e||(n||(n=a()),n.progressBar.value(e))})}catch(e){t(l(o,e.message))}}));var o,i,a,t}))};return u=Dt.extend({credentials:!1,handler:n},u),{upload:function(e,t){return u.url||u.handler!==n?o(e,t):new he(function(e){e([])})}}}function xp(e,t){return new(H.getOrDie("Blob"))(e,t)}var Cp=function(e){return H.getOrDie("atob")(e)},kp=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},Sp=function(o){return new he(function(t){var e,n,r;o=kp(o);try{e=Cp(o.data)}catch(e){return void t(new xp([]))}for(n=new function(e){return new(H.getOrDie("Uint8Array"))(e)}(e.length),r=0;r<n.length;r++)n[r]=e.charCodeAt(r);t(new xp([n],{type:o.type}))})},Ep=function(e){return 0===e.indexOf("blob:")?(o=e,new he(function(e,t){var n=function(){t("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new _p;r.open("GET",o,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf("data:")?Sp(e):null;var o},Tp=function(n){return new he(function(e){var t=new function(){return new(H.getOrDie("FileReader"))};t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},Ap=kp,Rp=0,Np=function(e){return(e||"blobid")+Rp++},Op=function(n,r,o,t){var i,a;0!==r.src.indexOf("blob:")?(i=Ap(r.src).data,(a=n.findFirst(function(e){return e.base64()===i}))?o({image:r,blobInfo:a}):Ep(r.src).then(function(e){a=n.create(Np(),e,i),n.add(a),o({image:r,blobInfo:a})},function(e){t(e)})):(a=n.getByUri(r.src))?o({image:r,blobInfo:a}):Ep(r.src).then(function(t){Tp(t).then(function(e){i=Ap(e).data,a=n.create(Np(),t,i),n.add(a),o({image:r,blobInfo:a})})},function(e){t(e)})},Dp=function(e){return e?e.getElementsByTagName("img"):[]},Lp=0,Bp={uuid:function(e){return e+Lp+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}};function Pp(s){var n,o,i,t,e,a,r,u,c,l,f=(n=[],o=Qi.constant,i=function(e){var t,n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Bp.uuid("blobid"),n=e.name||t,{id:o(t),name:o(n),filename:o(n+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||U.createObjectURL(e.blob)),uri:o(e.uri)}},{create:function(e,t,n,r){return i("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){t(e.id())||n.push(e)},get:t=function(t){return e(function(e){return e.id()===t})},getByUri:function(t){return e(function(e){return e.blobUri()===t})},findFirst:e=function(e){return Tt.filter(n,e)[0]},removeByUri:function(t){n=Tt.filter(n,function(e){return e.blobUri()!==t||(U.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Tt.each(n,function(e){U.revokeObjectURL(e.blobUri())}),n=[]}}),d=s.settings,h=(u={},c=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:l=function(e){return e in u},getResultUri:function(e){var t=u[e];return t?t.resultUri:null},isPending:function(e){return!!l(e)&&1===u[e].status},isUploaded:function(e){return!!l(e)&&2===u[e].status},markPending:function(e){u[e]=c(1,null)},markUploaded:function(e,t){u[e]=c(2,t)},removeFailed:function(e){delete u[e]},destroy:function(){u={}}}),p=function(t){return function(e){return s.selection?t(e):[]}},m=function(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e},g=function(e,t,n){return e=m(e,'src="'+t+'"','src="'+n+'"'),e=m(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},v=function(t,n){Tt.each(s.undoManager.data,function(e){"fragmented"===e.type?e.fragments=Tt.map(e.fragments,function(e){return g(e,t,n)}):e.content=g(e.content,t,n)})},b=function(){return s.notificationManager.open({text:s.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},y=function(e,t){f.removeByUri(e.src),v(e.src,t),s.$(e).attr({src:d.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":s.convertURL(t,"src")})},_=function(n){return a||(a=wp(h,{url:d.images_upload_url,basePath:d.images_upload_base_path,credentials:d.images_upload_credentials,handler:d.images_upload_handler})),C().then(p(function(r){var e;return e=Tt.map(r,function(e){return e.blobInfo}),a.upload(e,b).then(p(function(e){var t=Tt.map(e,function(e,t){var n=r[t].image;return e.status&&!1!==s.settings.images_replace_blob_uris?y(n,e.url):e.error&&vp.uploadError(s,e.error),{element:n,status:e.status}});return n&&n(t),t}))}))},w=function(e){if(!1!==d.automatic_uploads)return _(e)},x=function(e){return!d.images_dataimg_filter||d.images_dataimg_filter(e)},C=function(){var o,i,a;return r||(o=h,i=f,a={},r={findAll:function(e,n){var t,r;return n||(n=Qi.constant(!0)),t=Tt.filter(Dp(e),function(e){var t=e.src;return!!de.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===de.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&n(e))}),r=Tt.map(t,function(n){var e;return a[n.src]?new he(function(t){a[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo})})}):(e=new he(function(e,t){Op(i,n,e,t)}).then(function(e){return delete a[e.image.src],e}).catch(function(e){return delete a[n.src],e}),a[n.src]=e)}),he.all(r)}}),r.findAll(s.getBody(),x).then(p(function(e){return e=Tt.filter(e,function(e){return"string"!=typeof e||(vp.displayError(s,e),!1)}),Tt.each(e,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))},k=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=h.getResultUri(n);if(t)return'src="'+t+'"';var r=f.getByUri(n);return r||(r=Tt.reduce(s.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})};return s.on("setContent",function(){!1!==s.settings.automatic_uploads?w():C()}),s.on("RawSaveContent",function(e){e.content=k(e.content)}),s.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=k(e.content))}),s.on("PostRender",function(){s.parser.addNodeFilter("img",function(e){Tt.each(e,function(e){var t=e.attr("src");if(!f.getByUri(t)){var n=h.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:f,uploadImages:_,uploadImagesAuto:w,scanForImages:C,destroy:function(){f.destroy(),h.destroy(),r=a=null}}}var Mp=function(e,t){return e.hasOwnProperty(t.nodeName)},Ip=function(e,t){if(ko.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Mp(e,t.nextSibling)))return!0}return!1},Fp=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,h=e.dom,p=e.selection,m=e.schema,g=m.getBlockElements(),v=p.getStart(),b=e.getBody();if(f=d.forced_root_block,v&&ko.isElement(v)&&f&&(l=b.nodeName.toLowerCase(),m.isValidChild(l,f.toLowerCase())&&(y=g,_=b,w=v,!I.exists(Xc(In.fromDom(w),In.fromDom(_)),function(e){return Mp(y,e.dom())})))){var y,_,w,x,C;for(n=(t=p.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=rp(e),v=b.firstChild;v;)if(x=g,C=v,ko.isText(C)||ko.isElement(C)&&!Mp(x,C)&&!Hu.isBookmarkNode(C)){if(Ip(g,v)){v=(s=v).nextSibling,h.remove(s);continue}a||(a=h.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),u=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(o,i),p.setRng(t),e.nodeChanged())}},jp=function(e){e.settings.forced_root_block&&e.on("NodeChange",b.curry(Fp,e))};function zp(i){var r,o=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=i.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!==e.type&&Id.isEq(n,r)||i.fire("SelectionChange"),r=n}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!de.range&&i.selection.isCollapsed()||!function(e){var t,n;if((n=i.$(e).parentsUntil(i.getBody()).add(e)).length===o.length){for(t=n.length;0<=t&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"===i.selection.getNode().nodeName?ve.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),(t=o.getStart(!0)||r).ownerDocument===i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),n=[],i.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,i.fire("NodeChange",e))}}var Hp,qp,Up=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},Wp=function(e,t){return n=(s=e).inline?Up(s.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=Up(e.getContentAreaContainer()),r=(i=(o=e).getBody(),a=o.getDoc().documentElement,s={left:i.scrollLeft,top:i.scrollTop},u={left:i.scrollLeft||a.scrollLeft,top:i.scrollTop||a.scrollTop},o.inline?s:u);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}var o,i,a,s,u;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,s},Vp=ko.isContentEditableFalse,Kp=ko.isContentEditableTrue,$p=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Gp=function(s,u){return function(e){if(0===e.button){var t=Tt.find(u.dom.getParents(e.target),Qi.or(Vp,Kp));if(i=u.getBody(),Vp(a=t)&&a!==i){var n=u.dom.getPos(t),r=u.getBody(),o=u.getDoc().documentElement;s.element=t,s.screenX=e.screenX,s.screenY=e.screenY,s.maxX=(u.inline?r.scrollWidth:o.offsetWidth)-2,s.maxY=(u.inline?r.scrollHeight:o.offsetHeight)-2,s.relX=e.pageX-n.x,s.relY=e.pageY-n.y,s.width=t.offsetWidth,s.height=t.offsetHeight,s.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(u,t,s.width,s.height)}}var i,a}},Yp=function(l,f){return function(e){if(l.dragging&&(u=(i=f).selection,c=u.getSel().getRangeAt(0).startContainer,a=3===c.nodeType?c.parentNode:c,s=l.element,a!==s&&!i.dom.isChildOf(a,s)&&!Vp(a))){var t=(r=l.element,(o=r.cloneNode(!0)).removeAttribute("data-mce-selected"),o),n=f.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,f.undoManager.transact(function(){$p(l.element),f.insertContent(f.dom.getOuterHTML(t)),f._selectionOverrides.hideFakeCaret()}))}var r,o,i,a,s,u,c;Xp(l)}},Xp=function(e){e.dragging=!1,e.element=null,$p(e.ghost)},Jp=function(e){var t,n,r,o,i,a,m,g,v,s,u,c={};t=ai.DOM,a=document,n=Gp(c,e),m=c,g=e,v=ve.throttle(function(e,t){g._selectionOverrides.hideFakeCaret(),g.selection.placeCaretAt(e,t)},0),r=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h=Math.max(Math.abs(e.screenX-m.screenX),Math.abs(e.screenY-m.screenY));if(m.element&&!m.dragging&&10<h){if(g.fire("dragstart",{target:m.element}).isDefaultPrevented())return;m.dragging=!0,g.focus()}if(m.dragging){var p=(f=m,{pageX:(d=Wp(g,e)).pageX-f.relX,pageY:d.pageY+5});c=m.ghost,l=g.getBody(),c.parentNode!==l&&l.appendChild(c),t=m.ghost,n=p,r=m.width,o=m.height,i=m.maxX,a=m.maxY,u=s=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+r>i&&(s=n.pageX+r-i),n.pageY+o>a&&(u=n.pageY+o-a),t.style.width=r-s+"px",t.style.height=o-u+"px",v(e.clientX,e.clientY)}},o=Yp(c,e),s=c,i=function(){Xp(s),s.dragging&&u.fire("dragend")},(u=e).on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)})},Zp=function(e){var n;Jp(e),(n=e).on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Vp(t)||Vp(n.dom.getContentEditableParent(t)))&&e.preventDefault()})},Qp=function(e){return Tt.reduce(e,function(e,t){return e.concat(function(t){var e=function(e){return Tt.map(e,function(e){return(e=qi(e)).node=t,e})};if(ko.isElement(t))return e(t.getClientRects());if(ko.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(t))},[])};(qp=Hp||(Hp={}))[qp.Up=-1]="Up",qp[qp.Down=1]="Down";var em=function(o,i,a,e,s,t){var n,u,c=0,l=[],r=function(e){var t,n,r;for(r=Qp([e]),-1===o&&(r=r.reverse()),t=0;t<r.length;t++)if(n=r[t],!a(n,u)){if(0<l.length&&i(n,Tt.last(l))&&c++,n.line=c,s(n))return!0;l.push(n)}};return(u=Tt.last(t.getClientRects()))&&(r(n=t.getNode()),function(e,t,n,r){for(;r=Os(r,e,zi,t);)if(n(r))return}(o,e,r,n)),l},tm=b.curry(em,Hp.Up,Vi,Ki),nm=b.curry(em,Hp.Down,Ki,Vi),rm=function(n){return function(e){return t=n,e.line>t;var t}},om=function(n){return function(e){return t=n,e.line===t;var t}},im=ko.isContentEditableFalse,am=Os,sm=function(e,t){return Math.abs(e.left-t)},um=function(e,t){return Math.abs(e.right-t)},cm=function(e,t){return e>=t.left&&e<=t.right},lm=function(e,o){return Tt.reduce(e,function(e,t){var n,r;return n=Math.min(sm(e,o),um(e,o)),r=Math.min(sm(t,o),um(t,o)),cm(o,t)?t:cm(o,e)?e:r===n&&im(t.node)?t:r<n?t:e})},fm=function(e,t,n,r){for(;r=am(r,e,zi,t);)if(n(r))return},dm=function(e,t,n){var r,o,i,a,s,u,c,l,f=Qp((o=e,Tt.filter(Tt.toArray(o.getElementsByTagName("*")),_s))),d=Tt.filter(f,function(e){return n>=e.top&&n<=e.bottom});return(r=lm(d,t))&&(r=lm((s=e,l=function(t,e){var n;return n=Tt.filter(Qp([e]),function(e){return!t(e,u)}),c=c.concat(n),0===n.length},(c=[]).push(u=r),fm(Hp.Up,s,b.curry(l,Vi),u.node),fm(Hp.Down,s,b.curry(l,Ki),u.node),c),t))&&_s(r.node)?(a=t,{node:(i=r).node,before:sm(i,a)<um(i,a)}):null},hm=function(i,a,e){return!e.collapsed&&I.foldl(e.getClientRects(),function(e,t){return e||(o=a,(r=i)>=(n=t).left&&r<=n.right&&o>=n.top&&o<=n.bottom);var n,r,o},!1)},pm=function(t,n){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){var e=arguments;null===r&&(r=setTimeout(function(){t.apply(null,e),e=r=null},n))}}},mm=function(t){var e=pm(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=Wa(t,t.selection.getRng());t.selection.setRng(e)}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},gm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return de.mac?e.metaKey:e.ctrlKey&&!e.altKey}},vm=ko.isContentEditableTrue,bm=ko.isContentEditableFalse,ym=Vs,_m=Ws,wm=function(p){var m,e,t,a=p.getBody(),r=ys(p.getBody(),function(e){return p.dom.isBlock(e)}),g="sel-"+p.dom.uniqueId(),s=function(e){e&&p.selection.setRng(e)},u=function(){return p.selection.getRng()},o=function(e,t){p.selection.scrollIntoView(e,t)},v=function(e,t,n){return p.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(o(t,-1===e),r.show(n,t))},b=function(e,t){return t=js(e,a,t),-1===e?wa.fromRangeStart(t):wa.fromRangeEnd(t)},n=function(e){return Ci(e)||Ai(e)||Ri(e)},y=function(e){return n(e.startContainer)||n(e.endContainer)},c=function(e,t){var n,r,o,i,a,s,u,c,l,f,d=p.$,h=p.dom;if(!e)return null;if(e.collapsed){if(!y(e))if(!1===t){if(c=b(-1,e),_s(c.getNode(!0)))return v(-1,c.getNode(!0),!1);if(_s(c.getNode()))return v(-1,c.getNode(),!c.isAtEnd())}else{if(c=b(1,e),_s(c.getNode()))return v(1,c.getNode(),!c.isAtEnd());if(_s(c.getNode(!0)))return v(1,c.getNode(!0),!1)}return null}return i=e.startContainer,a=e.startOffset,s=e.endOffset,3===i.nodeType&&0===a&&bm(i.parentNode)&&(i=i.parentNode,a=h.nodeIndex(i),i=i.parentNode),1!==i.nodeType?null:(s===a+1&&(n=i.childNodes[a]),bm(n)?(l=f=n.cloneNode(!0),(u=p.fire("ObjectSelected",{target:n,targetClone:l})).isDefaultPrevented()?null:(r=Bc(In.fromDom(p.getBody()),"#"+g).fold(function(){return d([])},function(e){return d([e.dom()])}),l=u.targetClone,0===r.length&&(r=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g)).appendTo(p.getBody()),e=p.dom.createRng(),l===f&&de.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(l),e.setStartAfter(r[0].firstChild.firstChild),e.setEndAfter(l)):(r.empty().append("").append(l).append(""),e.setStart(r[0].firstChild,1),e.setEnd(r[0].lastChild,0)),r.css({top:h.getPos(n,p.getBody()).y}),r[0].focus(),(o=p.selection.getSel()).removeAllRanges(),o.addRange(e),I.each(rs(In.fromDom(p.getBody()),"*[data-mce-selected]"),function(e){sr.remove(e,"data-mce-selected")}),n.setAttribute("data-mce-selected","1"),m=n,_(),e)):null)},l=function(){m&&(m.removeAttribute("data-mce-selected"),Bc(In.fromDom(p.getBody()),"#"+g).each(Xu.remove),m=null)},_=function(){r.hide()};return de.ceFalse&&(function(){var o=function(e){for(var t=p.getBody();e&&e!==t;){if(vm(e)||bm(e))return e;e=e.parentNode}return null};p.on("mouseup",function(e){var t=u();t.collapsed&&lp.isXYInContentArea(p,e.clientX,e.clientY)&&s(Ua(p,t))}),p.on("click",function(e){var t;(t=o(e.target))&&(bm(t)&&(e.preventDefault(),p.focus()),vm(t)&&p.dom.isChildOf(t,p.selection.getNode())&&l())}),p.on("blur NewBlock",function(){l()});var n,r,i=function(e,t){var n,r,o=p.dom.getParent(e,p.dom.isBlock),i=p.dom.getParent(t,p.dom.isBlock);return o&&(n=o,r=i,!(p.dom.getParent(n,p.dom.isBlock)===p.dom.getParent(r,p.dom.isBlock)))&&function(e){var t=cu(e);if(!e.firstChild)return!1;var n=wa.before(e.firstChild),r=t.next(n);return r&&!_m(r)&&!ym(r)}(o)};r=!1,(n=p).on("touchstart",function(){r=!1}),n.on("touchmove",function(){r=!0}),n.on("touchend",function(e){var t=o(e.target);bm(t)&&(r||(e.preventDefault(),c(qa(n,t))))}),p.on("mousedown",function(e){var t,n=e.target;if((n===a||"HTML"===n.nodeName||p.dom.isChildOf(n,a))&&!1!==lp.isXYInContentArea(p,e.clientX,e.clientY))if(t=o(n))bm(t)?(e.preventDefault(),c(qa(p,t))):(l(),vm(t)&&e.shiftKey||hm(e.clientX,e.clientY,p.selection.getRng())||p.selection.placeCaretAt(e.clientX,e.clientY));else if(!1===_s(n)){l(),_();var r=dm(a,e.clientX,e.clientY);r&&(i(e.target,r.node)||(e.preventDefault(),p.getBody().focus(),s(v(1,r.node,r.before))))}}),p.on("keypress",function(e){gm.modifierPressed(e)||(e.keyCode,bm(p.selection.getNode())&&e.preventDefault())}),p.on("getSelectionRange",function(e){var t=e.range;if(m){if(!m.parentNode)return void(m=null);(t=t.cloneRange()).selectNode(m),e.range=t}}),p.on("setSelectionRange",function(e){var t;(t=c(e.range,e.forward))&&(e.range=t)}),p.on("AfterSetSelectionRange",function(e){var t,n=e.range;y(n)||_(),t=n.startContainer.parentNode,p.dom.hasClass(t,"mce-offscreen-selection")||l()}),p.on("copy",function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!de.ie){var r=(t=p.dom.get(g))?t.getElementsByTagName("*")[0]:t;r&&(e.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}}),Zp(p),mm(p)}(),e=p.contentStyles,t=".mce-content-body",e.push(r.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showCaret:v,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Ni(e),s(u()),o(e[0]))},hideFakeCaret:_,destroy:function(){r.destroy(),m=null}}},xm=Dt.each,Cm=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},km=function(e){return e.replace(/<!--|-->/g,"")},Sm=function(e,t,n){var r,o,i,a,s=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return r};function Em(j,z){void 0===z&&(z=Yo());var t=function(){};!1!==(j=j||{}).fix_self_closing&&(j.fix_self_closing=!0),xm("comment cdata text start end pi doctype".split(" "),function(e){e&&(self[e]=j[e]||t)});var H=j.comment?j.comment:t,q=j.cdata?j.cdata:t,U=j.text?j.text:t,W=j.start?j.start:t,V=j.end?j.end:t,K=j.pi?j.pi:t,$=j.doctype?j.doctype:t;return{parse:function(e){var t,n,r,u,o,i,a,c,s,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N=0,O=[],D=0,L=Fo.decode,B=Dt.makeMap("src,href,data,background,formaction,poster"),P=/((java|vb)script|mhtml):/i,M=/^data:/i,I=function(e){var t,n;for(t=O.length;t--&&O[t].name!==e;);if(0<=t){for(n=O.length-1;t<=n;n--)(e=O[n]).valid&&V(e.name);O.length=t}},F=function(e,t,n,r,o){var i,a;if(n=(t=t.toLowerCase())in f?t:L(n||r||o||""),h&&!c&&!1===Cm(t)){if(!(i=b[t])&&y){for(a=y.length;a--&&!(i=y[a]).pattern.test(t););-1===a&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}if(B[t]&&!j.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(P.test(s))return;if(!j.allow_html_data_urls&&M.test(s)&&!/^data:image\//i.test(s))return}c&&(t in B||0===t.indexOf("on"))||(u.map[t]=n,u.push({name:t,value:n}))};for(S=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),E=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,l=z.getShortEndedElements(),k=j.self_closing_elements||z.getSelfClosingElements(),f=z.getBoolAttrs(),h=j.validate,s=j.remove_internals,R=j.fix_self_closing,T=z.getSpecialElements(),C=e+">";t=S.exec(C);){if(N<t.index&&U(L(e.substr(N,t.index-N))),n=t[6])":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),I(n);else if(n=t[7]){if(t.index+t[0].length>e.length){U(L(e.substr(t.index))),N=t.index+t[0].length;continue}if(":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),d=n in l,R&&k[n]&&0<O.length&&O[O.length-1].name===n&&I(n),!h||(p=z.getElementRule(n))){if(m=!0,h&&(b=p.attributes,y=p.attributePatterns),(v=t[8])?((c=-1!==v.indexOf("data-mce-type"))&&s&&(m=!1),(u=[]).map={},v.replace(E,F)):(u=[]).map={},h&&!c){if(_=p.attributesRequired,w=p.attributesDefault,x=p.attributesForced,p.removeEmptyAttrs&&!u.length&&(m=!1),x)for(o=x.length;o--;)a=(g=x[o]).name,"{$uid}"===(A=g.value)&&(A="mce_"+D++),u.map[a]=A,u.push({name:a,value:A});if(w)for(o=w.length;o--;)(a=(g=w[o]).name)in u.map||("{$uid}"===(A=g.value)&&(A="mce_"+D++),u.map[a]=A,u.push({name:a,value:A}));if(_){for(o=_.length;o--&&!(_[o]in u.map););-1===o&&(m=!1)}if(g=u.map["data-mce-bogus"]){if("all"===g){N=Sm(z,e,S.lastIndex),S.lastIndex=N;continue}m=!1}}m&&W(n,u,d)}else m=!1;if(r=T[n]){r.lastIndex=N=t.index+t[0].length,(t=r.exec(e))?(m&&(i=e.substr(N,t.index-N)),N=t.index+t[0].length):(i=e.substr(N),N=e.length),m&&(0<i.length&&U(i,!0),V(n)),S.lastIndex=N;continue}d||(v&&v.indexOf("/")===v.length-1?m&&V(n):O.push({name:n,valid:m}))}else(n=t[1])?(">"===n.charAt(0)&&(n=" "+n),j.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),H(n)):(n=t[2])?q(km(n)):(n=t[3])?$(n):(n=t[4])&&K(n,t[5]);N=t.index+t[0].length}for(N<e.length&&U(L(e.substr(N))),o=O.length-1;0<=o;o--)(n=O[o]).valid&&V(n.name)}}}(Em||(Em={})).findEndTag=Sm;var Tm=Em,Am=function(e,t){var n,r,o,i,a,s,u,c,l=t,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(s=e.getTempAttrs(),u=l,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),l=u.replace(c,""),a=d.getShortEndedElements();i=f.exec(l);)r=f.lastIndex,o=i[0].length,n=a[i[1]]?r:Tm.findEndTag(d,l,r),l=l.substring(0,r-o)+l.substring(n),f.lastIndex=r-o;return l},Rm=function(e,t){return bi(Am(e,t))},Nm=Am,Om=0,Dm=2,Lm=1,Bm=function(p,m){var e=p.length+m.length+2,g=new Array(e),v=new Array(e),c=function(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,s=n;a<t||s<r;)a<t&&s<r&&p[a]===m[s]?(o.push([0,p[a]]),++a,++s):r-n<t-e?(o.push([2,p[a]]),++a):(o.push([1,m[s]]),++s);else{c(e,i.start,n,i.start-i.diag,o);for(var u=i.start;u<i.end;++u)o.push([0,p[u]]);c(i.end,t,i.end-i.diag,r,o)}},b=function(e,t,n,r){for(var o=e;o-t<r&&o<n&&p[o]===m[o-t];)++o;return{start:e,end:o,diag:t}},l=function(e,t,n,r){var o=t-e,i=r-n;if(0===o||0===i)return null;var a,s,u,c,l,f=o-i,d=i+o,h=(d%2==0?d:d+1)/2;for(g[1+h]=e,v[1+h]=t+1,a=0;a<=h;++a){for(s=-a;s<=a;s+=2){for(u=s+h,s===-a||s!==a&&g[u-1]<g[u+1]?g[u]=g[u+1]:g[u]=g[u-1]+1,l=(c=g[u])-e+n-s;c<t&&l<r&&p[c]===m[l];)g[u]=++c,++l;if(f%2!=0&&f-a<=s&&s<=f+a&&v[u-f]<=g[u])return b(v[u-f],s+e-n,t,r)}for(s=f-a;s<=f+a;s+=2){for(u=s+h-f,s===f-a||s!==f+a&&v[u+1]<=v[u-1]?v[u]=v[u+1]-1:v[u]=v[u-1],l=(c=v[u]-1)-e+n-s;e<=c&&n<=l&&p[c]===m[l];)v[u]=c--,l--;if(f%2==0&&-a<=s&&s<=a&&v[u]<=g[u+f])return b(v[u],s+e-n,t,r)}}},t=[];return c(0,p.length,0,m.length,t),t},Pm=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?Fo.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},Mm=function(e,t,n){var r=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},Im=function(e){return Tt.filter(Tt.map(e.childNodes,Pm),function(e){return 0<e.length})},Fm=function(e,t){var n,r,o,i=Tt.map(t.childNodes,Pm);return n=Bm(i,e),r=t,o=0,Tt.each(n,function(e){e[0]===Om?o++:e[0]===Lm?(Mm(r,e[1],o),o++):e[0]===Dm&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)}),t},jm=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},zm=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Hm=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},qm={createFragmentedLevel:jm,createCompleteLevel:zm,createFromEditor:function(n){var e,t,r;return e=Im(n.getBody()),-1!==(t=(r=I.bind(e,function(e){var t=Nm(n.serializer,e);return 0<t.length?[t]:[]})).join("")).indexOf("</iframe>")?jm(r):zm(t)},applyToEditor:function(e,t,n){"fragmented"===t.type?Fm(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!!e&&!!t&&Hm(e)===Hm(t)}};function Um(s){var u,r,o=this,c=0,l=[],t=0,f=function(){return 0===t},i=function(e){f()&&(o.typing=e)},d=function(e){s.setDirty(e)},a=function(e){i(!1),o.add({},e)},n=function(){o.typing&&(i(!1),o.add())};return s.on("init",function(){o.add()}),s.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(n(),o.beforeChange())}),s.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&a(e)}),s.on("ObjectResizeStart Cut",function(){o.beforeChange()}),s.on("SaveContent ObjectResized blur",a),s.on("DragEnd",a),s.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),s.nodeChanged()),46!==t&&8!==t||s.nodeChanged(),r&&o.typing&&!1===qm.isEq(qm.createFromEditor(s),l[0])&&(!1===s.isDirty()&&(d(!0),s.fire("change",{level:l[0],lastLevel:null})),s.fire("TypingUndo"),r=!1,s.nodeChanged()))}),s.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)o.typing&&a(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||o.typing||n||(o.beforeChange(),i(!0),o.add({},e),r=!0)}}),s.on("MouseDown",function(e){o.typing&&a(e)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||s.nodeChanged()}),o={data:l,typing:!1,beforeChange:function(){f()&&(u=Mu.getUndoBookmark(s.selection))},add:function(e,t){var n,r,o,i=s.settings;if(o=qm.createFromEditor(s),e=e||{},e=Dt.extend(e,o),!1===f()||s.removed)return null;if(r=l[c],s.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:t}).isDefaultPrevented())return null;if(r&&qm.isEq(r,e))return null;if(l[c]&&(l[c].beforeBookmark=u),i.custom_undo_redo_levels&&l.length>i.custom_undo_redo_levels){for(n=0;n<l.length-1;n++)l[n]=l[n+1];l.length--,c=l.length}e.bookmark=Mu.getUndoBookmark(s.selection),c<l.length-1&&(l.length=c+1),l.push(e),c=l.length-1;var a={level:e,lastLevel:r,originalEvent:t};return s.fire("AddUndo",a),0<c&&(d(!0),s.fire("change",a)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1,i(!1)),0<c&&(e=l[--c],qm.applyToEditor(s,e,!0),d(!0),s.fire("undo",{level:e})),e},redo:function(){var e;return c<l.length-1&&(e=l[++c],qm.applyToEditor(s,e,!1),d(!0),s.fire("redo",{level:e})),e},clear:function(){l=[],c=0,o.typing=!1,o.data=l,s.fire("ClearUndos")},hasUndo:function(){return 0<c||o.typing&&l[0]&&!qm.isEq(qm.createFromEditor(s),l[0])},hasRedo:function(){return c<l.length-1&&!o.typing},transact:function(e){return n(),o.beforeChange(),o.ignore(e),o.add()},ignore:function(e){try{t++,e()}finally{t--}},extra:function(e,t){var n,r;o.transact(e)&&(r=l[c].bookmark,n=l[c-1],qm.applyToEditor(s,n,!0),o.transact(t)&&(l[c-1].beforeBookmark=r))}}}var Wm,Vm,Km={},$m=Tt.filter,Gm=Tt.each;Vm=function(e){var t,n,r=e.selection.getRng();t=ko.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),Gm($m($m(n,t),function(e){return t(e.previousSibling)&&-1!==Tt.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,Jt(n=e).remove(),Jt(t).append("<br><br>").append(n.childNodes)}))},Km[Wm="pre"]||(Km[Wm]=[]),Km[Wm].push(Vm);var Ym=function(e,t){Gm(Km[e],function(e){e(t)})},Xm=Dt.each,Jm={walk:function(e,t,o){var n,r,i,a,s,u,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,h=t.endOffset;if(0<(c=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Xm(c,function(e){o([e])});else{var p,m,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&0<e.length&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},b=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},y=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},_=function(e,t,n){var r=n?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(u=b(a===e?a:a[r],r)).length&&(n||u.reverse(),o(v(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(m=h,g=(p=d).childNodes,--m>g.length-1?m=g.length-1:m<0&&(m=0),d=g[m]||p),l===d)return o(v([l]));for(n=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return _(l,n,!0);if(a===n)break}for(a=d;a;a=a.parentNode){if(a===l)return _(d,n);if(a===n)break}r=y(l,n)||l,i=y(d,n)||d,_(l,r,!0),(u=b(r===l?r:r.nextSibling,"nextSibling",i===d?i.nextSibling:i)).length&&o(v(u)),_(d,i)}}},Zm=/^(src|href|style)$/,Qm=Dt.each,eg=Hl.isEq,tg=function(e){return/^(TH|TD)$/.test(e.nodeName)},ng=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],ko.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[i<o?i:o]),ko.isText(r)&&n&&o>=r.nodeValue.length&&(r=new Zr(r,e.getBody()).next()||r),ko.isText(r)&&!n&&0===o&&(r=new Zr(r,e.getBody()).prev()||r),r},rg=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},og=function(e,t,n,r){return!(t=Hl.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},ig=function(e,n,r,o,i){var t,a,s,u,c,l,f,d,h,p,m,g,v,b,y=e.dom;if(c=y,!(eg(l=o,(f=n).inline)||eg(l,f.block)||(f.selector?ko.isElement(l)&&c.is(l,f.selector):void 0)||(u=o,n.links&&"A"===u.tagName)))return!1;if("all"!==n.remove)for(Qm(n.styles,function(e,t){e=Hl.normalizeStyleValue(y,Hl.replaceVars(e,r),t),"number"==typeof t&&(t=e,i=0),(n.remove_similar||!i||eg(Hl.getStyle(y,i,t),e))&&y.setStyle(o,t,""),s=1}),s&&""===y.getAttrib(o,"style")&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style")),Qm(n.attributes,function(e,t){var n;if(e=Hl.replaceVars(e,r),"number"==typeof t&&(t=e,i=0),!i||eg(y.getAttrib(i,t),e)){if("class"===t&&(e=y.getAttrib(o,t))&&(n="",Qm(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void y.setAttrib(o,t,n);"class"===t&&o.removeAttribute("className"),Zm.test(t)&&o.removeAttribute("data-mce-"+t),o.removeAttribute(t)}}),Qm(n.classes,function(e){e=Hl.replaceVars(e,r),i&&!y.hasClass(i,e)||y.removeClass(o,e)}),a=y.getAttribs(o),t=0;t<a.length;t++){var _=a[t].nodeName;if(0!==_.indexOf("_")&&0!==_.indexOf("data-"))return!1}return"none"!==n.remove?(d=e,p=n,g=(h=o).parentNode,v=d.dom,b=d.settings.forced_root_block,p.block&&(b?g===v.getRoot()&&(p.list_block&&eg(h,p.list_block)||Qm(Dt.grep(h.childNodes),function(e){Hl.isValid(d,b,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=rg(v,e,b),v.setAttribs(m,d.settings.forced_root_block_attrs)):m=0})):v.isBlock(h)&&!v.isBlock(g)&&(og(v,h,!1)||og(v,h.firstChild,!0,1)||h.insertBefore(v.create("br"),h.firstChild),og(v,h,!0)||og(v,h.lastChild,!1,1)||h.appendChild(v.create("br")))),p.selector&&p.inline&&!eg(p.inline,h)||v.remove(h,1),!0):void 0},ag={removeFormat:ig,remove:function(u,c,l,e,f){var t,n,d=u.formatter.get(c),h=d[0],a=!0,s=u.dom,r=u.selection,o=function(e){var n,t,r,o,i,a,s=(n=u,t=e,r=c,o=l,i=f,Qm(Hl.getParents(n.dom,t.parentNode).reverse(),function(e){var t;a||"_start"===e.id||"_end"===e.id||(t=sf.matchNode(n,e,r,o,i))&&!1!==t.split&&(a=e)}),a);return function(e,t,n,r,o,i,a,s){var u,c,l,f,d,h,p=e.dom;if(n){for(h=n.parentNode,u=r.parentNode;u&&u!==h;u=u.parentNode){for(c=p.clone(u,!1),d=0;d<t.length;d++)if(ig(e,t[d],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),f||(f=c),l=c)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(u,d,s,e,e,!0,h,l)},p=function(e){var t,n,r,o,i;if(ko.isElement(e)&&s.getContentEditable(e)&&(o=a,a="true"===s.getContentEditable(e),i=!0),t=Dt.grep(e.childNodes),a&&!i)for(n=0,r=d.length;n<r&&!ig(u,d[n],l,e,e);n++);if(h.deep&&t.length){for(n=0,r=t.length;n<r;n++)p(t[n]);i&&(a=o)}},i=function(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Hu.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),ko.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n},m=function(e){var t,n,r=e.commonAncestorContainer;if(e=Ql(u,e,d,!0),h.split){if((t=ng(u,e,!0))!==(n=ng(u,e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&tg(n)&&n.firstChild&&(n=n.firstChild||n),s.isChildOf(t,n)&&t!==n&&!s.isBlock(n)&&!tg(t)&&!tg(n))return t=rg(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),o(t),void(t=i(!0));t=rg(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=rg(s,n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=i(!0),n=i()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=s.nodeIndex(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=s.nodeIndex(n)+1}Jm.walk(s,e,function(e){Qm(e,function(e){p(e),ko.isElement(e)&&"underline"===u.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===Hl.getTextDecoration(s,e.parentNode)&&ig(u,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(e)e.nodeType?((n=s.createRng()).setStartBefore(e),n.setEndAfter(e),m(n)):m(e);else if("false"!==s.getContentEditable(r.getNode()))r.isCollapsed()&&h.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length?xf.removeCaretFormat(u,c,l,f):(t=r.getBookmark(),m(r.getRng()),r.moveToBookmark(t),h.inline&&sf.match(u,c,l,r.getStart())&&Hl.moveStart(s,r,r.getRng()),u.nodeChanged());else{e=r.getNode();for(var g=0,v=d.length;g<v&&(!d[g].ceFalseOverride||!ig(u,d[g],l,e,e));g++);}}},sg=Dt.each,ug=function(e){return e&&1===e.nodeType&&!Hu.isBookmarkNode(e)&&!xf.isCaretNode(e)&&!ko.isBogus(e)},cg=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Hu.isBookmarkNode(n))return n}return e},lg=function(e,t,n){var r,o,i=new Uu(e);if(t&&n&&(t=cg(t,"previousSibling"),n=cg(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),Dt.each(Dt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},fg=function(e,t,n){sg(e.childNodes,function(e){ug(e)&&(t(e)&&n(e),e.hasChildNodes()&&fg(e,t,n))})},dg=function(n,e){return b.curry(function(e,t){return!(!t||!Hl.getStyle(n,t,e))},e)},hg=function(r,e,t){return b.curry(function(e,t,n){r.setStyle(n,e,t),""===n.getAttribute("style")&&n.removeAttribute("style"),pg(r,n)},e,t)},pg=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},mg=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Hl.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},gg=function(n,e,r,o){sg(e,function(t){sg(n.dom.select(t.inline,o),function(e){ug(e)&&ag.removeFormat(n,t,r,e,t.exact?e:null)}),function(r,e,t){if(e.clear_child_styles){var n=e.links?"*:not(a)":"*";sg(r.select(n,t),function(n){ug(n)&&sg(e.styles,function(e,t){r.setStyle(n,t,"")})})}}(n.dom,t,o)})},vg=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(Dt.walk(r,b.curry(mg,e),"childNodes"),mg(e,r))},bg=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&fg(r,dg(e,"fontSize"),hg(e,"backgroundColor",Hl.replaceVars(t.styles.backgroundColor,n)))},yg=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(fg(r,dg(e,"fontSize"),hg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},_g=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=lg(e,Hl.getNonWhiteSpaceSibling(r),r),r=lg(e,r,Hl.getNonWhiteSpaceSibling(r,!0)))},wg=function(t,n,r,o,i){sf.matchNode(t,i.parentNode,r,o)&&ag.removeFormat(t,n,o,i)||n.merge_with_parents&&t.dom.getParent(i.parentNode,function(e){if(sf.matchNode(t,e,r,o))return ag.removeFormat(t,n,o,i),!0})},xg=Dt.each,Cg=function(p,m,g,r){var e,t,v=p.formatter.get(m),b=v[0],o=!r&&p.selection.isCollapsed(),i=p.dom,n=p.selection,y=function(n,e){if(e=e||b,n){if(e.onformat&&e.onformat(n,e,g,r),xg(e.styles,function(e,t){i.setStyle(n,t,Hl.replaceVars(e,g))}),e.styles){var t=i.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}xg(e.attributes,function(e,t){i.setAttrib(n,t,Hl.replaceVars(e,g))}),xg(e.classes,function(e){e=Hl.replaceVars(e,g),i.hasClass(n,e)||i.addClass(n,e)})}},_=function(e,t){var n=!1;return!!b.selector&&(xg(e,function(e){if(!("collapsed"in e&&e.collapsed!==o))return i.is(t,e.selector)&&!xf.isCaretNode(t)?(y(t,e),n=!0,!1):void 0}),n)},a=function(u,e,t,c){var l,f,d=[],h=!0;l=b.inline||b.block,f=u.create(l),y(f),Jm.walk(u,e,function(e){var a,s=function(e){var t,n,r,o;if(o=h,t=e.nodeName.toLowerCase(),n=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&u.getContentEditable(e)&&(o=h,h="true"===u.getContentEditable(e),r=!0),Hl.isEq(t,"br"))return a=0,void(b.block&&u.remove(e));if(b.wrapper&&sf.matchNode(p,e,m,g))a=0;else{if(h&&!r&&b.block&&!b.wrapper&&Hl.isTextBlock(p,t)&&Hl.isValid(p,n,l))return e=u.rename(e,l),y(e),d.push(e),void(a=0);if(b.selector){var i=_(v,e);if(!b.inline||i)return void(a=0)}!h||r||!Hl.isValid(p,l,t)||!Hl.isValid(p,n,l)||!c&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||xf.isCaretNode(e)||b.inline&&u.isBlock(e)?(a=0,xg(Dt.grep(e.childNodes),s),r&&(h=o),a=0):(a||(a=u.clone(f,!1),e.parentNode.insertBefore(a,e),d.push(a)),a.appendChild(e))}};xg(e,s)}),!0===b.links&&xg(d,function(e){var t=function(e){"A"===e.nodeName&&y(e,b),xg(Dt.grep(e.childNodes),t)};t(e)}),xg(d,function(e){var t,n,r,o,i,a=function(e){var n=!1;return xg(e.childNodes,function(e){if((t=e)&&1===t.nodeType&&!Hu.isBookmarkNode(t)&&!xf.isCaretNode(t)&&!ko.isBogus(t))return n=e,!1;var t}),n};n=0,xg(e.childNodes,function(e){Hl.isWhiteSpaceNode(e)||Hu.isBookmarkNode(e)||n++}),t=n,!(1<d.length)&&u.isBlock(e)||0!==t?(b.inline||b.wrapper)&&(b.exact||1!==t||((o=a(r=e))&&!Hu.isBookmarkNode(o)&&sf.matchName(u,o,b)&&(i=u.clone(o,!1),y(i),u.replace(i,r,!0),u.remove(o,1)),e=i||r),gg(p,v,g,e),wg(p,b,m,g,e),bg(u,b,g,e),yg(u,b,g,e),_g(u,b,g,e)):u.remove(e,1)})};if("false"!==i.getContentEditable(n.getNode())){if(b){if(r)r.nodeType?_(v,r)||((t=i.createRng()).setStartBefore(r),t.setEndAfter(r),a(i,Ql(p,t,v),0,!0)):a(i,r,0,!0);else if(o&&b.inline&&!i.select("td[data-mce-selected],th[data-mce-selected]").length)xf.applyCaretFormat(p,m,g);else{var s=p.selection.getNode();p.settings.forced_root_block||!v[0].defaultBlock||i.getParent(s,i.isBlock)||Cg(p,v[0].defaultBlock),p.selection.setRng(ac(p.selection.getRng())),e=n.getBookmark(),a(i,Ql(p,n.getRng(),v)),b.styles&&vg(i,b,g,s),n.moveToBookmark(e),Hl.moveStart(i,n,n.getRng()),p.nodeChanged()}Ym(m,p)}}else{r=n.getNode();for(var u=0,c=v.length;u<c;u++)if(v[u].ceFalseOverride&&i.is(r,v[u].selector))return void y(r,v[u])}},kg={applyFormat:Cg},Sg=Dt.each,Eg={formatChanged:function(e,t,n,r,o){var i,a,s,u,c,l,f,d;null===t.get()&&(a=e,s={},(i=t).set({}),a.on("NodeChange",function(n){var r=Hl.getParents(a.dom,n.element),o={};r=Dt.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Sg(i.get(),function(e,n){Sg(r,function(t){return a.formatter.matchNode(t,n,{},e.similar)?(s[n]||(Sg(e,function(e){e(!0,{node:t,format:n,parents:r})}),s[n]=e),o[n]=e,!1):!sf.matchesUnInheritedFormatSelector(a,t,n)&&void 0})}),Sg(s,function(e,t){o[t]||(delete s[t],Sg(e,function(e){e(!1,{node:n.element,format:t,parents:r})}))})})),c=n,l=r,f=o,d=(u=t).get(),Sg(c.split(","),function(e){d[e]||(d[e]=[],d[e].similar=f),d[e].push(l)}),u.set(d)}},Tg={get:function(r){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){Dt.each(t,function(e,t){r.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Dt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}},Ag=Dt.each,Rg=ai.DOM,Ng=function(e,t){var n,o,r,h=t&&t.schema||Yo({}),p=function(e){var t,n,r;return o="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=Rg.create(o.name),n=t,(r=o).classes.length&&Rg.addClass(n,r.classes.join(" ")),Rg.setAttribs(n,r.attrs),t},m=function(n,e,t){var r,o,i,a,s,u,c,l,f=0<e.length&&e[0],d=f&&f.name;if(s=d,u="string"!=typeof(a=n)?a.nodeName.toLowerCase():a,c=h.getElementRule(u),i=!(!(l=c&&c.parentsRequired)||!l.length)&&(s&&-1!==Dt.inArray(l,s)?s:l[0]))d===i?(o=e[0],e=e.slice(1)):o=i;else if(f)o=e[0],e=e.slice(1);else if(!t)return n;return o&&(r=p(o)).appendChild(n),t&&(r||(r=Rg.create("div")).appendChild(n),Dt.each(t,function(e){var t=p(e);r.insertBefore(t,n)})),m(r,e,o&&o.siblings)};return e&&e.length?(o=e[0],n=p(o),(r=Rg.create("div")).appendChild(m(n,e.slice(1),o.siblings)),r):""},Og=function(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=Dt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,o){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==Dt.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["===r){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(a.attrs[i[1]]=i[2])}return""})),a.name=t||"div",a},Dg=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Dt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Dt.map(e.split(/(?:~\+|~|\+)/),Og),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},Lg={getCssText:function(n,e){var t,r,o,i,a,s,u="";if(!1===(s=n.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(s=e.preview)?"":(t=e.block||e.inline||"span",(i=Dg(e.selector)).length?(i[0].name||(i[0].name=t),t=e.selector,r=Ng(i,n)):r=Ng([t],n),o=Rg.select(t,r)[0]||r.firstChild,Ag(e.styles,function(e,t){(e=c(e))&&Rg.setStyle(o,t,e)}),Ag(e.attributes,function(e,t){(e=c(e))&&Rg.setAttrib(o,t,e)}),Ag(e.classes,function(e){e=c(e),Rg.hasClass(o,e)||Rg.addClass(o,e)}),n.fire("PreviewFormats"),Rg.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),a=Rg.getStyle(n.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Ag(s.split(" "),function(e){var t=Rg.getStyle(o,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=Rg.getStyle(n.getBody(),e,!0),"#ffffff"===Rg.toHex(t).toLowerCase())||"color"===e&&"#000000"===Rg.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===a)return;t=(t=parseFloat(t)/(/%$/.test(t)?100:1))*a+"px"}"border"===e&&t&&(u+="padding:0 2px;"),u+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),Rg.remove(r),u)},parseSelector:Dg,selectorToHtml:function(e,t){return Ng(Dg(e),t)}},Bg={toggle:function(e,t,n,r,o){var i=t.get(n);!sf.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?kg.applyFormat(e,n,r,o):ag.remove(e,n,r,o)}},Pg={setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function Mg(e){var t,n,r,o=(t=e,n={},(r=function(e,t){e&&("string"!=typeof e?Dt.each(e,function(e,t){r(t,e)}):(t=t.length?t:[t],Dt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))})(Tg.get(t.dom)),r(t.settings.formats),{get:function(e){return e?n[e]:n},register:r,unregister:function(e){return e&&n[e]&&delete n[e],n}}),i=Vf(null);return Pg.setup(e),xf.setup(e),{get:o.get,register:o.register,unregister:o.unregister,apply:b.curry(kg.applyFormat,e),remove:b.curry(ag.remove,e),toggle:b.curry(Bg.toggle,e,o),match:b.curry(sf.match,e),matchAll:b.curry(sf.matchAll,e),matchNode:b.curry(sf.matchNode,e),canApply:b.curry(sf.canApply,e),formatChanged:b.curry(Eg.formatChanged,e,i),getCssText:b.curry(Lg.getCssText,e)}}var Ig=function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)o.hasOwnProperty(i)&&(n[i]=a(n[i],o[i]))}return n}},Fg=Ig(function(e,t){return Xn.isObject(e)&&Xn.isObject(t)?Fg(e,t):t}),jg=Ig(function(e,t){return t}),zg={deepMerge:Fg,merge:jg},Hg=function(e,t){return e.fire("PreProcess",t)},qg=function(e,t){return e.fire("PostProcess",t)},Ug=function(e){return e.fire("remove")},Wg={register:function(t,u,c){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),t.addAttributeFilter("src,href,style",function(e,t){for(var n,r,o=e.length,i="data-mce-"+t,a=u.url_converter,s=u.url_converter_scope;o--;)void 0!==(r=(n=e[o]).attributes.map[i])?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attributes.map[t],"style"===t?r=c.serializeStyle(c.parseStyle(r),n.name):a&&(r=a.call(s,r,t,n.name)),n.attr(t,0<r.length?r:null))}),t.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),t.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Fo.decode(t.value))}),t.addNodeFilter("script,style",function(e,t){for(var n,r,o,i=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)r=(n=e[i]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===u.element_format&&0<r.length&&(n.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===u.element_format&&0<r.length&&(n.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),t.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){I.each(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}},Vg={process:function(e,t,n){return f=n,(l=e)&&l.hasEventListeners("PreProcess")&&!f.no_events?(o=t,i=n,c=(r=e).dom,o=o.cloneNode(!0),(a=document.implementation).createHTMLDocument&&(s=a.createHTMLDocument(""),Dt.each("BODY"===o.nodeName?o.childNodes:[o],function(e){s.body.appendChild(s.importNode(e,!0))}),o="BODY"!==o.nodeName?s.body.firstChild:s.body,u=c.doc,c.doc=s),Hg(r,zg.merge(i,{node:o})),u&&(c.doc=u),o):t;var r,o,i,a,s,u,c,l,f}},Kg=function(e,s,u){e.addNodeFilter("font",function(e){I.each(e,function(e){var t,n,r=s.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=u[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",s.serialize(r)),t=e,n=["color","face","size"],I.each(n,function(e){t.attr(e,null)})})})},$g=function(e,t){var n,r=Jo();t.convert_fonts_to_spans&&Kg(e,r,Dt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){I.each(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},Gg={register:function(e,t){t.inline_styles&&$g(e,t)}},Yg=/^[ \t\r\n]*$/,Xg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Jg=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},Zg=function(){function a(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return a.create=function(e,t){var n,r;if(n=new a(e,Xg[e]||1),t)for(r in t)n.attr(r,t[r]);return n},a.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},a.prototype.attr=function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},a.prototype.clone=function(){var e,t,n,r,o,i=new a(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);i.attributes=o}return i.value=this.value,i.shortEnded=this.shortEnded,i},a.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},a.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},a.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},a.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},a.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},a.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=Jg(t,this))t.name===e&&n.push(t);return n},a.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=Jg(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},a.prototype.isEmpty=function(e,t,n){var r,o,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(r=i.attributes.length;r--;)if("name"===(o=i.attributes[r].name)||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!Yg.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Yg.test(i.value))return!1;if(n&&n(i))return!1}while(i=Jg(i,this));return!0},a.prototype.walk=function(e){return Jg(this,null,e)},a}(),Qg=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Zg("br",1)).shortEnded=!0:r.empty().append(new Zg("#text",3)).value=""},ev=function(e){return tv(e,"#text")&&""===e.firstChild.value},tv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},nv=function(r,e,t,n){return n.isEmpty(e,t,function(e){return t=e,(n=r.getElementRule(t.name))&&n.paddEmpty;var t,n})},rv=function(e,t){return e&&(t[e.name]||"br"===e.name)},ov=function(e,m){var g=e.schema;m.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var r,o,i,a,s,u,c,l,f=e.length,d=Dt.extend({},g.getBlockElements()),h=g.getNonEmptyElements(),p=g.getNonEmptyElements();for(d.body=1,r=0;r<f;r++)if(i=(o=e[r]).parent,d[o.parent.name]&&o===i.lastChild){for(s=o.prev;s;){if("span"!==(u=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==u)break;if("br"===u){o=null;break}}s=s.prev}o&&(o.remove(),nv(g,h,p,i)&&(c=g.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&Qg(m,n,d,i)))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!d[(a=i).name];)i=i.parent;a===i&&!0!==m.padd_empty_with_br&&((l=new Zg("#text",3)).value="",o.replace(l))}}),e.addAttributeFilter("href",function(e){var t,n,r,o=e.length;if(!m.allow_unsafe_link_target)for(;o--;)"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(n=t.attr("rel"),r=n?Dt.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),m.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Zg("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),m.validate&&g.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,n,r,o,i,a,s,u=e.length,c=g.getValidClasses();u--;){for(n=(t=e[u]).attr("class").split(" "),i="",r=0;r<n.length;r++)o=n[r],s=!1,(a=c["*"])&&a[o]&&(s=!0),a=c[t.name],!s&&a&&a[o]&&(s=!0),s&&(i&&(i+=" "),i+=o);i.length||(i=null),t.attr("class",i)}})},iv=Dt.makeMap,av=Dt.each,sv=Dt.explode,uv=Dt.extend;function cv(E,T){void 0===T&&(T=Yo());var A={},R=[],N={},O={};(E=E||{}).validate=!("validate"in E)||E.validate,E.root_name=E.root_name||"body";var D=function(e){var t,n,r;n in A&&((r=N[n])?r.push(e):N[n]=[e]),t=R.length;for(;t--;)(n=R[t].name)in e.attributes.map&&((r=O[n])?r.push(e):O[n]=[e]);return e},e={schema:T,addAttributeFilter:function(e,n){av(sv(e),function(e){var t;for(t=0;t<R.length;t++)if(R[t].name===e)return void R[t].callbacks.push(n);R.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(R)},addNodeFilter:function(e,n){av(sv(e),function(e){var t=A[e];t||(A[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e=[];for(var t in A)A.hasOwnProperty(t)&&e.push({name:t,callbacks:A[t]});return e},filterNode:D,parse:function(e,a){var t,n,r,o,i,s,u,c,l,f,d,h=[];a=a||{},N={},O={},l=uv(iv("script,style,head,html,body,title,meta,param"),T.getBlockElements());var p=T.getNonEmptyElements(),m=T.children,g=E.validate,v="forced_root_block"in a?a.forced_root_block:E.forced_root_block,b=T.getWhiteSpaceElements(),y=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,w=/[ \t\r\n]+/g,x=/^[ \t\r\n]+$/,C=function(e,t){var n,r=new Zg(e,t);return e in A&&((n=N[e])?n.push(r):N[e]=[r]),r},k=function(e){var t,n,r,o,i=T.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(r=t.value.replace(_,"")).length)return void(t.value=r);if(n=t.next){if(3===n.type&&n.value.length){t=t.prev;continue}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){t=t.prev;continue}}o=t.prev,t.remove(),t=o}};t=Tm({validate:g,allow_script_urls:E.allow_script_urls,allow_conditional_comments:E.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(T.getSelfClosingElements()),cdata:function(e){d.append(C("#cdata",4)).value=e},text:function(e,t){var n;f||(e=e.replace(w," "),rv(d.lastChild,l)&&(e=e.replace(y,""))),0!==e.length&&((n=C("#text",3)).raw=!!t,d.append(n).value=e)},comment:function(e){d.append(C("#comment",8)).value=e},pi:function(e,t){d.append(C(e,7)).value=t,k(d)},doctype:function(e){d.append(C("#doctype",10)).value=e,k(d)},start:function(e,t,n){var r,o,i,a,s;if(i=g?T.getElementRule(e):{}){for((r=C(i.outputName||e,1)).attributes=t,r.shortEnded=n,d.append(r),(s=m[d.name])&&m[r.name]&&!s[r.name]&&h.push(r),o=R.length;o--;)(a=R[o].name)in t.map&&((u=O[a])?u.push(r):O[a]=[r]);l[e]&&k(r),n||(d=r),!f&&b[e]&&(f=!0)}},end:function(e){var t,n,r,o,i;if(n=g?T.getElementRule(e):{}){if(l[e]&&!f){if((t=d.firstChild)&&3===t.type)if(0<(r=t.value.replace(y,"")).length)t.value=r,t=t.next;else for(o=t.next,t.remove(),t=o;t&&3===t.type;)r=t.value,o=t.next,(0===r.length||x.test(r))&&(t.remove(),t=o),t=o;if((t=d.lastChild)&&3===t.type)if(0<(r=t.value.replace(_,"")).length)t.value=r,t=t.prev;else for(o=t.prev,t.remove(),t=o;t&&3===t.type;)r=t.value,o=t.prev,(0===r.length||x.test(r))&&(t.remove(),t=o),t=o}if(f&&b[e]&&(f=!1),n.removeEmpty&&nv(T,p,b,d)&&!d.attributes.map.name&&!d.attr("id"))return i=d.parent,l[d.name]?d.empty().remove():d.unwrap(),void(d=i);n.paddEmpty&&(ev(d)||nv(T,p,b,d))&&Qg(E,a,l,d),d=d.parent}}},T);var S=d=new Zg(a.context||E.root_name,11);if(t.parse(e),g&&h.length&&(a.context?a.invalid=!0:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g;for(d=iv("tr,td,th,tbody,thead,tfoot,table"),l=T.getNonEmptyElements(),f=T.getWhiteSpaceElements(),h=T.getTextBlockElements(),p=T.getSpecialElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(h[n.name]&&"li"===n.parent.name){for(m=n.next;m&&h[m.name];)m.name="li",m.fixed=!0,n.parent.insert(m,n.parent),m=m.next;n.unwrap(n)}else{for(o=[n],r=n.parent;r&&!T.isValidChild(r.name,n.name)&&!d[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),i=a=D(o[0].clone()),c=0;c<o.length-1;c++){for(T.isValidChild(a.name,o[c].name)?(s=D(o[c].clone()),a.append(s)):s=a,u=o[c].firstChild;u&&u!==o[c+1];)g=u.next,s.append(u),u=g;a=s}nv(T,l,f,i)?r.insert(n,o[0],!0):(r.insert(i,o[0],!0),r.insert(n,i)),r=o[0],(nv(T,l,f,r)||tv(r,"br"))&&r.empty().remove()}else if(n.parent){if("li"===n.name){if((m=n.prev)&&("ul"===m.name||"ul"===m.name)){m.append(n);continue}if((m=n.next)&&("ul"===m.name||"ul"===m.name)){m.insert(n,m.firstChild,!0);continue}n.wrap(D(new Zg("ul",1)));continue}T.isValidChild(n.parent.name,"div")&&T.isValidChild("div",n.name)?n.wrap(D(new Zg("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}}(h)),v&&("body"===S.name||a.isRootContent)&&function(){var e,t,n=S.firstChild,r=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(y,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(_,"")))};if(T.isValidChild(S.name,v.toLowerCase())){for(;n;)e=n.next,3===n.type||1===n.type&&"p"!==n.name&&!l[n.name]&&!n.attr("data-mce-type")?(t||((t=C(v,1)).attr(E.forced_root_block_attrs),S.insert(t,n)),t.append(n)):(r(t),t=null),n=e;r(t)}}(),!a.invalid){for(c in N){for(u=A[c],i=(n=N[c]).length;i--;)n[i].parent||n.splice(i,1);for(r=0,o=u.length;r<o;r++)u[r](n,c,a)}for(r=0,o=R.length;r<o;r++)if((u=R[r]).name in O){for(i=(n=O[u.name]).length;i--;)n[i].parent||n.splice(i,1);for(i=0,s=u.callbacks.length;i<s;i++)u.callbacks[i](n,u.name,a)}}return S}};return ov(e,E),Gg.register(e,E),e}var lv=function(e,t,n){-1===Dt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},fv=function(e,t,n){var r=bi(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection?r:Dt.trim(r)},dv=function(e,t,n,r){var o=r.selection?zg.merge({forced_root_block:!1},r):r,i=e.parse(n,o);return Wg.trimTrailingBr(i),i},hv=function(e,t,n,r,o){var i,a,s,u,c=(i=r,oc(t,n).serialize(i));return a=e,u=c,!(s=o).no_events&&a?qg(a,zg.merge(s,{content:u})).content:u};function pv(e,t){var a,s,u,c,l,n,r=(a=e,n=["data-mce-selected"],u=(s=t)&&s.dom?s.dom:ai.DOM,c=s&&s.schema?s.schema:Yo(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,l=cv(a,c),Wg.register(l,a,u),{schema:c,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(e,t){var n=zg.merge({format:"html"},t||{}),r=Vg.process(s,e,n),o=fv(u,r,n),i=dv(l,u,o,n);return"tree"===n.format?i:hv(s,a,c,i,n)},addRules:function(e){c.addValidElements(e)},setRules:function(e){c.setValidElements(e)},addTempAttr:b.curry(lv,l,n),getTempAttrs:function(){return n}});return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs}}var mv=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(Ni(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},gv=function(e,t){var n,r=(n=e,Bc(In.fromDom(n.getBody()),"*[data-mce-caret]").fold(b.constant(null),function(e){return e.dom()}));if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void mv(e,r)):void(ki(r)&&mv(e,r))},vv=function(e){e.on("keyup compositionstart",b.curry(gv,e))};function bv(e){return{getBookmark:b.curry(Hu.getBookmark,e),moveToBookmark:b.curry(Hu.moveToBookmark,e)}}(bv||(bv={})).isBookmarkNode=Hu.isBookmarkNode;var yv=bv,_v=ko.isContentEditableFalse,wv=ko.isContentEditableTrue,xv=function(r,a){var s,u,c,l,f,d,h,p,m,g,v,b,i,y,_,w,x,C=a.dom,k=Dt.each,S=a.getDoc(),E=document,T=Math.abs,A=Math.round,R=a.getBody();l={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var e=".mce-content-body";a.contentStyles.push(e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+e+" .mce-resizehandle:hover {background: #000}"+e+" img[data-mce-selected],"+e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+e+" .mce-clonedresizable {position: absolute;"+(de.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var N=function(e){return e&&("IMG"===e.nodeName||a.dom.is(e,"figure.image"))},n=function(e){var t,n,r=e.target;t=e,n=a.selection.getRng(),!N(t.target)||hm(t.clientX,t.clientY,n)||e.isDefaultPrevented()||(e.preventDefault(),a.selection.select(r))},O=function(e){return a.dom.is(e,"figure.image")?e.querySelector("img"):e},D=function(e){var t=a.settings.object_resizing;return!1!==t&&!de.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==a.getBody()&&Er.is(In.fromDom(e),t))},L=function(e){var t,n,r,o;t=e.screenX-d,n=e.screenY-h,y=t*f[2]+g,_=n*f[3]+v,y=y<5?5:y,_=_<5?5:_,(N(s)&&!1!==a.settings.resize_img_proportional?!gm.modifierPressed(e):gm.modifierPressed(e)||N(s)&&f[2]*f[3]!=0)&&(T(t)>T(n)?(_=A(y*b),y=A(_/b)):(y=A(_/b),_=A(y*b))),C.setStyles(O(u),{width:y,height:_}),r=0<(r=f.startPos.x+t)?r:0,o=0<(o=f.startPos.y+n)?o:0,C.setStyles(c,{left:r,top:o,display:"block"}),c.innerHTML=y+" &times; "+_,f[2]<0&&u.clientWidth<=y&&C.setStyle(u,"left",p+(g-y)),f[3]<0&&u.clientHeight<=_&&C.setStyle(u,"top",m+(v-_)),(t=R.scrollWidth-w)+(n=R.scrollHeight-x)!=0&&C.setStyles(c,{left:r-t,top:o-n}),i||(a.fire("ObjectResizeStart",{target:s,width:g,height:v}),i=!0)},B=function(){i=!1;var e=function(e,t){t&&(s.style[e]||!a.schema.isValid(s.nodeName.toLowerCase(),e)?C.setStyle(O(s),e,t):C.setAttrib(O(s),e,t))};e("width",y),e("height",_),C.unbind(S,"mousemove",L),C.unbind(S,"mouseup",B),E!==S&&(C.unbind(E,"mousemove",L),C.unbind(E,"mouseup",B)),C.remove(u),C.remove(c),o(s),a.fire("ObjectResized",{target:s,width:y,height:_}),C.setAttrib(s,"style",C.getAttrib(s,"style")),a.nodeChanged()},o=function(e){var t,r,o,n,i;P(),F(),t=C.getPos(e,R),p=t.x,m=t.y,i=e.getBoundingClientRect(),r=i.width||i.right-i.left,o=i.height||i.bottom-i.top,s!==e&&(s=e,y=_=0),n=a.fire("ObjectSelected",{target:e}),D(e)&&!n.isDefaultPrevented()?k(l,function(n,e){var t;(t=C.get("mceResizeHandle"+e))&&C.remove(t),t=C.add(R,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),de.ie&&(t.contentEditable=!1),C.bind(t,"mousedown",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),d=(t=e).screenX,h=t.screenY,g=O(s).clientWidth,v=O(s).clientHeight,b=v/g,(f=n).startPos={x:r*n[0]+p,y:o*n[1]+m},w=R.scrollWidth,x=R.scrollHeight,u=s.cloneNode(!0),C.addClass(u,"mce-clonedresizable"),C.setAttrib(u,"data-mce-bogus","all"),u.contentEditable=!1,u.unSelectabe=!0,C.setStyles(u,{left:p,top:m,margin:0}),u.removeAttribute("data-mce-selected"),R.appendChild(u),C.bind(S,"mousemove",L),C.bind(S,"mouseup",B),E!==S&&(C.bind(E,"mousemove",L),C.bind(E,"mouseup",B)),c=C.add(R,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+v)}),n.elm=t,C.setStyles(t,{left:r*n[0]+p-t.offsetWidth/2,top:o*n[1]+m-t.offsetHeight/2})}):P(),s.setAttribute("data-mce-selected","1")},P=function(){var e,t;for(e in F(),s&&s.removeAttribute("data-mce-selected"),l)(t=C.get("mceResizeHandle"+e))&&(C.unbind(t),C.remove(t))},M=function(e){var t,n=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};i||a.removed||(k(C.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),t="mousedown"===e.type?e.target:r.getNode(),n(t=C.$(t).closest("table,img,figure.image,hr")[0],R)&&(j(),n(r.getStart(!0),t)&&n(r.getEnd(!0),t))?o(t):P())},I=function(e){return _v(function(e,t){for(;t&&t!==e;){if(wv(t)||_v(t))return t;t=t.parentNode}return null}(a.getBody(),e))},F=function(){for(var e in l){var t=l[e];t.elm&&(C.unbind(t.elm),delete t.elm)}},j=function(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return a.on("init",function(){j(),de.ie&&11<=de.ie&&(a.on("mousedown click",function(e){var t=e.target,n=t.nodeName;i||!/^(TABLE|IMG|HR)$/.test(n)||I(t)||(2!==e.button&&a.selection.select(t,"TABLE"===n),"mousedown"===e.type&&a.nodeChanged())}),a.dom.bind(R,"mscontrolselect",function(e){var t=function(e){ve.setEditorTimeout(a,function(){a.selection.select(e)})};if(I(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var t=ve.throttle(function(e){a.composing||M(e)});a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),a.on("keyup compositionend",function(e){s&&"TABLE"===s.nodeName&&t(e)}),a.on("hide blur",P),a.on("contextmenu",n)}),a.on("remove",F),{isResizable:D,showResizeRect:o,hideResizeRect:P,updateResizeRect:M,destroy:function(){s=u=null}}},Cv=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},kv=function(e,t,n){var r,o,i,a,s,u=e.dom,c=u.getRoot(),l=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&ko.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==c.nodeName){var f=e.selection.getScrollContainer();if(f)return r=Cv(t).y-Cv(f).y+l,a=f.clientHeight,void((r<(i=f.scrollTop)||i+a<r+25)&&(f.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+l,i=o.y,a=o.h,(r<o.y||i+a<r+25)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},Sv=function(e){return ko.isContentEditableTrue(e)||ko.isContentEditableFalse(e)},Ev={fromPoint:function(t,n,r){var o,e,i,a,s,u=r;if(u.caretPositionFromPoint)(e=u.caretPositionFromPoint(t,n))&&((o=r.createRange()).setStart(e.offsetNode,e.offset),o.collapse(!0));else if(r.caretRangeFromPoint)o=r.caretRangeFromPoint(t,n);else if(u.body.createTextRange){o=u.body.createTextRange();try{o.moveToPoint(t,n),o.collapse(!0)}catch(e){o=function(e,n,t){var r,o,i;if(r=t.elementFromPoint(e,n),o=t.body.createTextRange(),r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(i=(i=Dt.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(t,n,r)}return i=o,a=r.body,s=i&&i.parentElement?i.parentElement():null,ko.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,Sv))?null:i}return o}},Tv=function(n,e){return I.map(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})},Av=function(e,t){return In.fromDom(e.dom().cloneNode(t))},Rv=function(e){return Av(e,!0)},Nv=function(e){return Av(e,!1)},Ov=Rv,Dv=function(e,t){var n=(t||document).createDocumentFragment();return I.each(e,function(e){n.appendChild(e.dom())}),In.fromDom(n)},Lv=function(t){return Ir.firstChild(t).fold(b.constant([t]),function(e){return[t].concat(Lv(e))})},Bv=function(t){return Ir.lastChild(t).fold(b.constant([t]),function(e){return"br"===Gn.name(e)?Ir.prevSibling(e).map(function(e){return[t].concat(Bv(e))}).getOr([]):[t].concat(Bv(e))})},Pv=function(o,e){return Va([(i=e,a=i.startContainer,s=i.startOffset,ko.isText(a)?0===s?A.some(In.fromDom(a)):A.none():A.from(a.childNodes[s]).map(In.fromDom)),(t=e,n=t.endContainer,r=t.endOffset,ko.isText(n)?r===n.data.length?A.some(In.fromDom(n)):A.none():A.from(n.childNodes[r-1]).map(In.fromDom))],function(e,t){var n=I.find(Lv(o),b.curry(Rr.eq,e)),r=I.find(Bv(o),b.curry(Rr.eq,t));return n.isSome()&&r.isSome()}).getOr(!1);var t,n,r,i,a,s},Mv=function(e,t,n,r){var o=n,i=new Zr(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Dt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(de.ie&&de.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Iv=br.immutable("element","width","rows"),Fv=br.immutable("element","cells"),jv=br.immutable("x","y"),zv=function(e,t){var n=parseInt(sr.get(e,t),10);return isNaN(n)?1:n},Hv=function(e){return I.foldl(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},qv=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(Rr.eq(o[i],t))return A.some(jv(i,r));return A.none()},Uv=function(e,t,n,r,o){for(var i=[],a=e.rows(),s=n;s<=o;s++){var u=a[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(Fv(a[s].element(),c))}return i},Wv=function(e){var o=Iv(Nv(e),0,[]);return I.each(rs(e,"tr"),function(n,r){I.each(rs(n,"td,th"),function(e,t){!function(e,t,n,r,o){for(var i=zv(o,"rowspan"),a=zv(o,"colspan"),s=e.rows(),u=n;u<n+i;u++){s[u]||(s[u]=Fv(Ov(r),[]));for(var c=t;c<t+a;c++)s[u].cells()[c]=u===n&&c===t?o:Nv(o)}}(o,function(e,t,n){for(;r=t,o=n,i=void 0,((i=e.rows())[o]?i[o].cells():[])[r];)t++;var r,o,i;return t}(o,t,r),r,n,e)})}),Iv(o.element(),Hv(o.rows()),o.rows())},Vv=function(e){return i=t=e,n=I.map(i.rows(),function(e){var t=I.map(e.cells(),function(e){var t=Ov(e);return sr.remove(t,"colspan"),sr.remove(t,"rowspan"),t}),n=Nv(e.element());return Gu(n,t),n}),r=Nv(t.element()),o=In.fromTag("tbody"),Gu(o,n),Ku.append(r,o),r;var t,n,r,o,i},Kv=function(l,e,t){return qv(l,e).bind(function(c){return qv(l,t).map(function(e){return t=l,r=e,o=(n=c).x(),i=n.y(),a=r.x(),s=r.y(),u=i<s?Uv(t,o,i,a,s):Uv(t,o,s,a,i),Iv(t.element(),Hv(u),u);var t,n,r,o,i,a,s,u})})},$v=function(n,t){return I.find(n,function(e){return"li"===Gn.name(e)&&Pv(e,t)}).fold(b.constant([]),function(e){return(t=n,I.find(t,function(e){return"ul"===Gn.name(e)||"ol"===Gn.name(e)})).map(function(e){return[In.fromTag("li"),In.fromTag(Gn.name(e))]}).getOr([]);var t})},Gv=function(e,t){var n,r=In.fromDom(t.commonAncestorContainer),o=Jc(r,e),i=I.filter(o,function(e){return io(e)||ro(e)}),a=$v(o,t),s=i.concat(a.length?a:co(n=r)?Ir.parent(n).filter(uo).fold(b.constant([]),function(e){return[n,e]}):uo(n)?[n]:[]);return I.map(s,Nv)},Yv=function(){return Dv([])},Xv=function(e,t){return n=In.fromDom(t.cloneContents()),r=Gv(e,t),o=I.foldl(r,function(e,t){return Ku.append(t,e),t},n),0<r.length?Dv([o]):o;var n,r,o},Jv=function(e,o){return(t=e,n=o[0],Lc(n,"table",b.curry(Rr.eq,t))).bind(function(e){var t=o[0],n=o[o.length-1],r=Wv(e);return Kv(r,t,n).map(function(e){return Dv([Vv(e)])})}).getOrThunk(Yv);var t,n},Zv=function(e,t){var n,r,o=Cd(t,e);return 0<o.length?Jv(e,o):(n=e,0<(r=t).length&&r[0].collapsed?Yv():Xv(n,r[0]))},Qv=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=Tv(e,vd(i));if((t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":bi(r.text||(i.toString?i.toString():""));r.cloneContents?(n=t.contextual?Zv(In.fromDom(e.getBody()),a).dom():r.cloneContents())&&o.appendChild(n):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),t.getInner=!0;var s=e.selection.serializer.serialize(o,t);return"tree"===t.format?s:(t.content=e.selection.isCollapsed()?"":s,e.fire("GetContent",t),t.content)},eb=function(e,t,n){var r,o,i,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=s.createDocumentFragment(),i=s.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)},tb=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return A.from(i).map(In.fromDom).map(function(e){return r&&t.collapsed?e:Ir.child(e,o(e,a)).getOr(e)}).bind(function(e){return Gn.isElement(e)?A.some(e):Ir.parent(e)}).map(function(e){return e.dom()}).getOr(e)},nb=function(e,t,n){return tb(e,t,!0,n,function(e,t){return Math.min(Ir.childNodesCount(e),t)})},rb=function(e,t,n){return tb(e,t,!1,n,function(e,t){return 0<t?t-1:t})},ob=function(e,t){for(var n=e;e&&ko.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},ib=Dt.each,ab=function(e){return!!e.select},sb=function(e){return!(!e||!e.ownerDocument)&&Rr.contains(In.fromDom(e.ownerDocument),In.fromDom(e))},ub=function(a,s,e,u){var n,t,c,l,f,r=function(e,t){return eb(u,e,t)},o=function(e){var t=h();t.collapse(!!e),i(t)},d=function(){return s.getSelection?s.getSelection():s.document.selection},h=function(){var e,t,n,r,o=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!s)return null;if(null==(r=s.document))return null;if(void 0!==u.bookmark&&!1===rp(u)){var i=yh.getRng(u);if(i.isSome())return i.map(function(e){return Tv(u,[e])[0]}).getOr(r.createRange())}try{(e=d())&&(t=0<e.rangeCount?e.getRangeAt(0):e.createRange?e.createRange():r.createRange())}catch(e){}return(t=Tv(u,[t])[0])||(t=r.createRange?r.createRange():r.body.createTextRange()),t.setStart&&9===t.startContainer.nodeType&&t.collapsed&&(n=a.getRoot(),t.setStart(n,0),t.setEnd(n,0)),c&&l&&(0===o(t.START_TO_START,t,c)&&0===o(t.END_TO_END,t,c)?t=l:l=c=null),t},i=function(e,t){var n,r;if((o=e)&&(ab(o)||sb(o.startContainer)&&sb(o.endContainer))){var o,i=ab(e)?e:null;if(i){l=null;try{i.select()}catch(e){}}else{if(n=d(),e=u.fire("SetSelectionRange",{range:e,forward:t}).range,n){l=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),c=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||de.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),u.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var e,t,n=d();return!(n&&n.anchorNode&&n.focusNode)||((e=a.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=a.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},m={bookmarkManager:null,controlSelection:null,dom:a,win:s,serializer:e,editor:u,collapse:o,setCursorLocation:function(e,t){var n=a.createRng();e?(n.setStart(e,t),n.setEnd(e,t),i(n),o(!1)):(Mv(a,n,u.getBody(),!0),i(n))},getContent:function(e){return Qv(u,e)},setContent:r,getBookmark:function(e,t){return n.getBookmark(e,t)},moveToBookmark:function(e){return n.moveToBookmark(e)},select:function(e,t){var r,n,o;return(r=a,n=e,o=t,A.from(n).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Mv(r,n,e,!0),Mv(r,n,e,!1)),n})).each(i),e},isCollapsed:function(){var e=h(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(e){return r(a.getOuterHTML(e)),e},getNode:function(){return e=u.getBody(),(t=h())?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?ob(r.nextSibling,!0):r.parentNode,o=0===a?ob(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,i,a},getSel:d,setRng:i,getRng:h,getStart:function(e){return nb(u.getBody(),h(),e)},getEnd:function(e){return rb(u.getBody(),h(),e)},getSelectedBlocks:function(e,t){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||nb(i,t,!1),e.isBlock),r=e.getParent(r||rb(i,t,!1),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r)for(var s=new Zr(o=n,i);(o=s.next())&&o!==r;)e.isBlock(o)&&a.push(o);return r&&n!==r&&r!==i&&a.push(r),a}(a,h(),e,t)},normalize:function(){var e=h();if(!yd(d())){var t=Vd.normalize(a,e);return t.each(function(e){i(e,p())}),t.getOr(e)}return e},selectorChanged:function(e,t){var i;return f||(f={},i={},u.on("NodeChange",function(e){var n=e.element,r=a.getParents(n,null,a.getRoot()),o={};ib(f,function(e,n){ib(r,function(t){if(a.is(t,n))return i[n]||(ib(e,function(e){e(!0,{node:t,selector:n,parents:r})}),i[n]=e),o[n]=e,!1})}),ib(i,function(e,t){o[t]||(delete i[t],ib(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),f[e]||(f[e]=[]),f[e].push(t),m},getScrollContainer:function(){for(var e,t=a.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){return kv(u,e,t)},placeCaretAt:function(e,t){return i(Ev.fromPoint(e,t,u.getDoc()))},getBoundingClientRect:function(){var e=h();return e.collapsed?wa.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){s=null,t.destroy()}};return n=yv(m),t=xv(m,u),m.bookmarkManager=n,m.controlSelection=t,m},cb=ko.isContentEditableFalse,lb=$i,fb=Vs,db=Ws,hb=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},pb=function(e,t,n,r){var o,i,a,s,u,c,l=e===Ka.Forwards,f=l?db:fb;return!r.collapsed&&(o=lb(r),cb(o))?Ha(e,t,o,e===Ka.Backwards):(s=wi(r.startContainer),f(i=Us(e,t.getBody(),r))?qa(t,i.getNode(!l)):(i=n(i))?f(i)?Ha(e,t,i.getNode(!l),l):f(a=n(i))&&(!(c=Ls(u=i,a))&&ko.isBr(u.getNode())||c)?Ha(e,t,a.getNode(!l),l):s?Wa(t,i.toRange()):null:s?r:null)},mb=function(e,t,n,r){var o,i,a,s,u,c,l,f,d;if(d=lb(r),o=Us(e,t.getBody(),r),i=n(t.getBody(),rm(1),o),a=Tt.filter(i,om(1)),u=Tt.last(o.getClientRects()),(db(o)||Ks(o))&&(d=o.getNode()),(fb(o)||$s(o))&&(d=o.getNode(!0)),!u)return null;if(c=u.left,(s=lm(a,c))&&cb(s.node))return l=Math.abs(c-s.left),f=Math.abs(c-s.right),Ha(e,t,s.node,l<f);if(d){var h=function(e,t,n,r){var o,i,a,s,u,c,l=cu(t),f=[],d=0,h=function(e){return Tt.last(e.getClientRects())};1===e?(o=l.next,i=Ki,a=Vi,s=wa.after(r)):(o=l.prev,i=Vi,a=Ki,s=wa.before(r)),c=h(s);do{if(s.isVisible()&&!a(u=h(s),c)){if(0<f.length&&i(u,Tt.last(f))&&d++,(u=qi(u)).position=s,u.line=d,n(u))return f;f.push(u)}}while(s=o(s));return f}(e,t.getBody(),rm(1),d);if(s=lm(Tt.filter(h,om(1)),c))return Wa(t,s.position.toRange());if(s=Tt.last(Tt.filter(h,om(0))))return Wa(t,s.position.toRange())}},gb=function(e,t,n){var r,o,i,a,s=cu(e.getBody()),u=Qi.curry(hb,s.next),c=Qi.curry(hb,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?u(wa.fromRangeStart(n)):c(wa.fromRangeStart(n)))||(a=(i=e).dom.create(i.settings.forced_root_block),(!de.ie||11<=de.ie)&&(a.innerHTML='<br data-mce-bogus="1">'),o=a,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},vb=function(l,f){return function(){var e,t,n,r,o,i,a,s,u,c=(t=f,r=cu((e=l).getBody()),o=Qi.curry(hb,r.next),i=Qi.curry(hb,r.prev),a=t?Ka.Forwards:Ka.Backwards,s=t?o:i,u=e.selection.getRng(),(n=pb(a,e,s,u))?n:(n=gb(e,a,u))||null);return!!c&&(l.selection.setRng(c),!0)}},bb=function(s,u){return function(){var e,t,n,r,o,i,a=(r=(t=u)?1:-1,o=t?nm:tm,i=(e=s).selection.getRng(),(n=mb(r,e,o,i))?n:(n=gb(e,r,i))||null);return!!a&&(s.selection.setRng(a),!0)}},yb=function(e,r){return I.bind((t=e,I.map(t,function(e){return zg.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:b.noop},e)})),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n});var t},_b=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},wb=function(e,t){return I.find(yb(e,t),function(e){return e.action()})},xb=function(i,a){i.on("keydown",function(e){var t,n,r,o;!1===e.isDefaultPrevented()&&(t=i,n=a,r=e,o=Pn.detect().os,wb([{keyCode:gm.RIGHT,action:vb(t,!0)},{keyCode:gm.LEFT,action:vb(t,!1)},{keyCode:gm.UP,action:bb(t,!1)},{keyCode:gm.DOWN,action:bb(t,!0)},{keyCode:gm.RIGHT,action:gs(t,!0)},{keyCode:gm.LEFT,action:gs(t,!1)},{keyCode:gm.UP,action:vs(t,!1)},{keyCode:gm.DOWN,action:vs(t,!0)},{keyCode:gm.RIGHT,action:ed.move(t,n,!0)},{keyCode:gm.LEFT,action:ed.move(t,n,!1)},{keyCode:gm.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:ed.moveNextWord(t,n)},{keyCode:gm.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:ed.movePrevWord(t,n)}],r).each(function(e){r.preventDefault()}))})},Cb=function(e){return 1===Ir.children(e).length},kb=function(n,r){var t,e=In.fromDom(n.getBody()),o=In.fromDom(n.selection.getStart()),i=I.filter((t=Jc(o,e),I.findIndex(t,oo).fold(b.constant(t),function(e){return t.slice(0,e)})),Cb);return I.last(i).map(function(e){var t=wa.fromRangeStart(n.selection.getRng());return!!Oc(r,t,e.dom())&&(function(e,t,n,r){var o=b.curry(xf.isFormatElement,t),i=I.map(I.filter(r,o),function(e){return e.dom()});if(0===i.length)Cl(t,e,n);else{var a=xf.replaceWithCaretFormat(n.dom(),i);t.selection.setRng(a.toRange())}}(r,n,e,i),!0)}).getOr(!1)},Sb=function(e,t){return!!e.selection.isCollapsed()&&kb(e,t)},Eb=function(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,wb([{keyCode:gm.BACKSPACE,action:_b(El,t,!1)},{keyCode:gm.DELETE,action:_b(El,t,!0)},{keyCode:gm.BACKSPACE,action:_b(od,t,n,!1)},{keyCode:gm.DELETE,action:_b(od,t,n,!0)},{keyCode:gm.BACKSPACE,action:_b(ul,t,!1)},{keyCode:gm.DELETE,action:_b(ul,t,!0)},{keyCode:gm.BACKSPACE,action:_b(ol,t,!1)},{keyCode:gm.DELETE,action:_b(ol,t,!0)},{keyCode:gm.BACKSPACE,action:_b(Bd,t,!1)},{keyCode:gm.DELETE,action:_b(Bd,t,!0)},{keyCode:gm.BACKSPACE,action:_b(Sb,t,!1)},{keyCode:gm.DELETE,action:_b(Sb,t,!0)}],r).each(function(e){r.preventDefault()}))}),o.on("keyup",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=o,n=e,wb([{keyCode:gm.BACKSPACE,action:_b(Tl,t)},{keyCode:gm.DELETE,action:_b(Tl,t)}],n))})},Tb=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Ab=function(e){return e.getParam("iframe_attrs",{})},Rb=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Nb=function(e){return e.getParam("document_base_url","")},Ob=function(e){return Tb(e,"body_id","tinymce")},Db=function(e){return Tb(e,"body_class","")},Lb=function(e){return e.getParam("content_security_policy","")},Bb=function(e){return e.getParam("br_in_pre",!0)},Pb=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},Mb=function(e){return e.getParam("forced_root_block_attrs",{})},Ib=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Fb=function(e){return e.getParam("no_newline_selector","")},jb=function(e){return e.getParam("keep_styles",!0)},zb=function(e){return e.getParam("end_container_on_empty_block",!1)},Hb=function(e){return A.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},qb=function(e,t){var n,r,o,i=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode(""),t.firstChild)}if(o=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new Zr(t,t);r=n.current();){if(ko.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(s[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=n.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else ko.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),a.remove(void 0),e.selection.scrollIntoView(t)}},Ub=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},Wb=Hb,Vb=function(e){return Hb(e).fold(b.constant(""),function(e){return e.nodeName.toUpperCase()})},Kb=function(e){return Hb(e).filter(function(e){return co(In.fromDom(e))}).isSome()},$b=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Gb=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Yb=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},Xb=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!ko.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},Jb=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;Gb(s=n)&&Gb(s.parentNode)&&(o="LI");var u,c,l=o?t(o):i.create("BR");if(Xb(n,r,!0)&&Xb(n,r,!1))$b(n,"LI")?i.insertAfter(l,Yb(n)):i.replace(l,n);else if(Xb(n,r,!0))$b(n,"LI")?(i.insertAfter(l,Yb(n)),l.appendChild(i.doc.createTextNode(" ")),l.appendChild(n)):n.parentNode.insertBefore(l,n);else if(Xb(n,r,!1))i.insertAfter(l,Yb(n));else{n=Yb(n);var f=a.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var d=f.extractContents();"LI"===o&&(c="LI",(u=d).firstChild&&u.firstChild.nodeName===c)?(l=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(l,n))}i.remove(r),qb(e,l)}},Zb=function(e){e.innerHTML='<br data-mce-bogus="1">'},Qb=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},ey=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},ty=function(e,t,n){return!1===ko.isText(t)?n:e?1===n&&t.data.charAt(n-1)===vi?0:n:n===t.data.length-1&&t.data.charAt(n)===vi?t.data.length:n},ny=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},ry=function(e,t){var n=Pb(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,Mb(e))},oy=function(a,e){var t,s,u,i,c,n,r,o,l,f,d,h,p,m,g,v,b,y,_=a.dom,w=a.schema,x=w.getNonEmptyElements(),C=a.selection.getRng(),k=function(e){var t,n,r,o=u,i=w.getTextInlineElements();if(e||"TABLE"===f||"HR"===f?(t=_.create(e||h),ry(a,t)):t=c.cloneNode(!1),r=t,!1===jb(a))_.setAttrib(t,"style",null),_.setAttrib(t,"class",null);else do{if(i[o.nodeName]){if(xf.isCaretNode(o))continue;n=o.cloneNode(!1),_.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):r=n,t.appendChild(n)}}while((o=o.parentNode)&&o!==s);return Zb(r),t},S=function(e){var t,n,r,o;if(o=ty(e,u,i),ko.isText(u)&&(e?0<o:o<u.nodeValue.length))return!1;if(u.parentNode===c&&p&&!e)return!0;if(e&&ko.isElement(u)&&u===c.firstChild)return!0;if(Qb(u,"TABLE")||Qb(u,"HR"))return p&&!e||!p&&e;for(t=new Zr(u,c),ko.isText(u)&&(e&&0===o?t.prev():e||o!==u.nodeValue.length||t.next());n=t.current();){if(ko.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),x[r]&&"br"!==r))return!1}else if(ko.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},E=function(){r=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?k(h):k(),zb(a)&&ey(_,l)&&_.isEmpty(c)?r=_.split(l,c):_.insertAfter(r,c),qb(a,r)};Vd.normalize(_,C).each(function(e){C.setStart(e.startContainer,e.startOffset),C.setEnd(e.endContainer,e.endOffset)}),u=C.startContainer,i=C.startOffset,h=Pb(a),n=e.shiftKey,ko.isElement(u)&&u.hasChildNodes()&&(p=i>u.childNodes.length-1,u=u.childNodes[Math.min(i,u.childNodes.length-1)]||u,i=p&&ko.isText(u)?u.nodeValue.length:0),(s=ny(_,u))&&((h&&!n||!h&&n)&&(u=function(e,t,n,r,o){var i,a,s,u,c,l,f,d=t||"P",h=e.dom,p=ny(h,r);if(!(a=h.getParent(r,h.isBlock))||!ey(h,a)){if(l=(a=a||p)===e.getBody()||(f=a)&&/^(TD|TH|CAPTION)$/.test(f.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=h.create(d),ry(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!h.isBlock(u);)u=(s=u).previousSibling;if(s&&e.schema.isValidChild(l,d.toLowerCase())){for(i=h.create(d),ry(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!h.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(a,h,C,u,i)),c=_.getParent(u,_.isBlock),l=c?_.getParent(c.parentNode,_.isBlock):null,f=c?c.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||e.ctrlKey||(l=(c=l).parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&_.isEmpty(c)?Jb(a,k,l,c,h):h&&c===a.getBody()||(h=h||"P",wi(c)?(r=Ni(c),_.isEmpty(c)&&Zb(c),qb(a,r)):S()?E():S(!0)?(r=c.parentNode.insertBefore(k(),c),qb(a,Qb(c,"HR")?r:c)):((t=(b=C,y=b.cloneRange(),y.setStart(b.startContainer,ty(!0,b.startContainer,b.startOffset)),y.setEnd(b.endContainer,ty(!1,b.endContainer,b.endOffset)),y).cloneRange()).setEndAfter(c),function(e){for(;ko.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(o=t.extractContents()),r=o.firstChild,_.insertAfter(o,c),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;ko.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):(a=o)&&"A"===a.nodeName&&0===Dt.trim(bi(a.innerText||a.textContent)).length&&e.remove(o);var a}}(_,x,r),m=_,(g=c).normalize(),(v=g.lastChild)&&!/^(left|right)$/gi.test(m.getStyle(v,"float",!0))||m.add(g,"br"),_.isEmpty(c)&&Zb(c),r.normalize(),_.isEmpty(r)?(_.remove(r),E()):qb(a,r)),_.setAttrib(r,"id",""),a.fire("NewBlock",{newBlock:r})))},iy=function(e,t){return Wb(e).filter(function(e){return 0<t.length&&Er.is(In.fromDom(e),t)}).isSome()},ay=function(e){return iy(e,Ib(e))},sy=function(e){return iy(e,Fb(e))},uy=cl([{br:[]},{block:[]},{none:[]}]),cy=function(e,t){return sy(e)},ly=function(n){return function(e,t){return""===Pb(e)===n}},fy=function(n){return function(e,t){return Kb(e)===n}},dy=function(n){return function(e,t){return"PRE"===Vb(e)===n}},hy=function(n){return function(e,t){return Bb(e)===n}},py=function(e,t){return ay(e)},my=function(e,t){return t},gy=function(e){var t=Pb(e),n=Ub(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},vy=function(e,t){return function(n,r){return I.foldl(e,function(e,t){return e&&t(n,r)},!0)?A.some(t):A.none()}},by=function(e,t){return Cf([vy([cy],uy.none()),vy([dy(!0),hy(!1),my],uy.br()),vy([dy(!0),hy(!1)],uy.block()),vy([dy(!0),hy(!0),my],uy.block()),vy([dy(!0),hy(!0)],uy.br()),vy([fy(!0),my],uy.br()),vy([fy(!0)],uy.block()),vy([ly(!0),my,gy],uy.block()),vy([ly(!0)],uy.br()),vy([py],uy.br()),vy([ly(!1),my],uy.br()),vy([gy],uy.block())],[e,t.shiftKey]).getOr(uy.none())},yy=function(e,t){by(e,t).fold(function(){th.insert(e,t)},function(){oy(e,t)},b.noop)},_y=function(o){o.on("keydown",function(e){var t,n,r;e.keyCode===gm.ENTER&&(t=o,(n=e).isDefaultPrevented()||(n.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),yy(t,n)})))})},wy=function(e,t,n){return s=t,!(!xy(n)||!ko.isText(s.container())||(r=e,i=(o=t).container(),a=o.offset(),i.insertData(a,""),r.selection.setCursorLocation(i,a+1),0));var r,o,i,a,s},xy=function(e){return e.fold(b.constant(!1),b.constant(!0),b.constant(!0),b.constant(!1))},Cy=function(e){return!!e.selection.isCollapsed()&&(t=e,n=b.curry(Ac.isInlineTarget,t),r=wa.fromRangeStart(t.selection.getRng()),Hf(n,t.getBody(),r).map(b.curry(wy,t,r)).getOr(!1));var t,n,r},ky=function(r){r.on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,wb([{keyCode:gm.SPACEBAR,action:_b(Cy,t)}],n).each(function(e){n.preventDefault()}))})},Sy=function(e){var t=ed.setupSelectedState(e);xb(e,t),Eb(e,t),_y(e),ky(e)};function Ey(s){var u,n,r,o=Dt.each,c=gm.BACKSPACE,l=gm.DELETE,f=s.dom,d=s.selection,e=s.settings,t=s.parser,i=de.gecko,a=de.ie,h=de.webkit,p="data:text/mce-internal,",m=a?"Text":"URL",g=function(e,t){try{s.getDoc().execCommand(e,!1,t)}catch(e){}},v=function(e){return e.isDefaultPrevented()},b=function(){s.shortcuts.add("meta+a",null,"SelectAll")},y=function(){s.on("keydown",function(e){if(!v(e)&&e.keyCode===c&&d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},_=function(){s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",function(e){var t;if("HTML"===e.target.nodeName){if(11<de.ie)return void s.getBody().focus();t=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(t),s.selection.normalize(),s.nodeChanged()}}))};return s.on("keydown",function(e){var t,n,r,o,i;if(!v(e)&&e.keyCode===gm.BACKSPACE&&(n=(t=d.getRng()).startContainer,r=t.startOffset,o=f.getRoot(),i=n,t.collapsed&&0===r)){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(s.formatter.toggle("blockquote",null,i),(t=f.createRng()).setStart(n,0),t.setEnd(n,0),d.setRng(t))}}),u=function(e){var t=f.create("body"),n=e.cloneContents();return t.appendChild(n),d.serializer.serialize(t,{format:"html"})},s.on("keydown",function(e){var t,n,r,o,i,a=e.keyCode;if(!v(e)&&(a===l||a===c)){if(t=s.selection.isCollapsed(),n=s.getBody(),t&&!f.isEmpty(n))return;if(!t&&(r=s.selection.getRng(),o=u(r),(i=f.createRng()).selectNode(s.getBody()),o!==u(i)))return;e.preventDefault(),s.setContent(""),n.firstChild&&f.isBlock(n.firstChild)?s.selection.setCursorLocation(n.firstChild,0):s.selection.setCursorLocation(n,0),s.nodeChanged()}}),de.windowsPhone||s.on("keyup focusin mouseup",function(e){gm.modifierPressed(e)||d.normalize()},!0),h&&(s.settings.content_editable||f.bind(s.getDoc(),"mousedown mouseup",function(e){var t;if(e.target===s.getDoc().documentElement)if(t=d.getRng(),s.getBody().focus(),"mousedown"===e.type){if(Ci(t.startContainer))return;d.placeCaretAt(e.clientX,e.clientY)}else d.setRng(t)}),s.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==f.getContentEditableParent(t)&&(e.preventDefault(),s.selection.select(t),s.nodeChanged()),"A"===t.nodeName&&f.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),d.select(t))}),e.forced_root_block&&s.on("init",function(){g("DefaultParagraphSeparator",e.forced_root_block)}),s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(e){e.preventDefault()})}),y(),t.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),de.iOS?(s.inline||s.on("keydown",function(){document.activeElement===document.body&&s.getWin().focus()}),_(),s.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=de.ie&&(_(),y()),de.ie&&(b(),g("AutoUrlDetect",!1),s.on("dragstart",function(e){var t,n,r;(t=e).dataTransfer&&(s.selection.isCollapsed()&&"IMG"===t.target.tagName&&d.select(t.target),0<(n=s.selection.getContent()).length&&(r=p+escape(s.id)+","+escape(n),t.dataTransfer.setData(m,r)))}),s.on("drop",function(e){if(!v(e)){var t=(i=e).dataTransfer&&(a=i.dataTransfer.getData(m))&&0<=a.indexOf(p)?(a=a.substr(p.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(t&&t.id!==s.id){e.preventDefault();var n=Ev.fromPoint(e.x,e.y,s.getDoc());d.setRng(n),r=t.html,o=!0,s.queryCommandSupported("mceInsertClipboardContent")?s.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):s.execCommand("mceInsertContent",!1,r)}}var r,o,i,a})),i&&(s.on("keydown",function(e){if(!v(e)&&e.keyCode===c){if(!s.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode(),n=t.previousSibling;if("HR"===t.nodeName)return f.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(f.remove(n),e.preventDefault())}}}),Range.prototype.getClientRects||s.on("mousedown",function(e){if(!v(e)&&"HTML"===e.target.nodeName){var t=s.getBody();t.blur(),ve.setEditorTimeout(s,function(){t.focus()})}}),n=function(){var e=f.getAttribs(d.getStart().cloneNode(!1));return function(){var t=d.getStart();t!==s.getBody()&&(f.setAttrib(t,"style",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!d.isCollapsed()&&f.getParent(d.getStart(),f.isBlock)!==f.getParent(d.getEnd(),f.isBlock)},s.on("keypress",function(e){var t;if(!v(e)&&(8===e.keyCode||46===e.keyCode)&&r())return t=n(),s.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),f.bind(s.getDoc(),"cut",function(e){var t;!v(e)&&r()&&(t=n(),ve.setEditorTimeout(s,function(){t()}))}),e.readonly||s.on("BeforeExecCommand MouseDown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),e.object_resizing||g("enableObjectResizing",!1)}),s.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(f.select("a"),function(e){var t=e.parentNode,n=f.getRoot();if(t.lastChild===e){for(;t&&!f.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}f.add(t,"br",{"data-mce-bogus":1})}})}),s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),de.mac&&s.on("keydown",function(e){!gm.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),s.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),y()),{refreshContentEditable:function(){},isHidden:function(){var e;return!i||s.removed?0:!(e=s.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}var Ty=ai.DOM,Ay=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ve.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},Ry=function(t,e){var n,r,s,o,i,a,u,c,l,f=t.settings,d=t.getElement(),h=t.getDoc();f.inline||(t.getElement().style.visibility=t.orgVisibility),e||f.content_editable||(h.open(),h.write(t.iframeHTML),h.close()),f.content_editable&&(t.on("remove",function(){var e=this.getBody();Ty.removeClass(e,"mce-content-body"),Ty.removeClass(e,"mce-edit-focus"),Ty.setAttrib(e,"contentEditable",null)}),Ty.addClass(d,"mce-content-body"),t.contentDocument=h=f.content_document||document,t.contentWindow=f.content_window||window,t.bodyElement=d,f.content_document=f.content_window=null,f.root_name=d.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=f.readonly,t.readonly||(t.inline&&"static"===Ty.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=Pp(t),t.schema=Yo(f),t.dom=new ai(h,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:f.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((o=cv((s=t).settings,s.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o,i=e.length,a=s.dom;i--;)if(r=(n=e[i]).attr(t),o="data-mce-"+t,!n.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(o,r),n.attr(t,r)):"tabindex"===t?(n.attr(o,r),n.attr(t,null)):n.attr(o,s.convertURL(r,t,n.name))}}),o.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new Zg("br",1)).shortEnded=!0)}),o),t.serializer=pv(f,t),t.selection=ub(t.dom,t.getWin(),t.serializer,t),t.formatter=Mg(t),t.undoManager=Um(t),t._nodeChangeDispatcher=new zp(t),t._selectionOverrides=wm(t),vv(t),Sy(t),jp(t),t.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(h.body.spellcheck=!1,Ty.setAttrib(n,"spellcheck","false")),t.quirks=Ey(t),t.fire("PostRender"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&t.on("BeforeSetContent",function(t){Dt.each(f.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),f.padd_empty_editor&&t.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(r="",Dt.each(t.contentStyles,function(e){r+=e+"\r\n"}),t.dom.addStyle(r)),(i=t,i.inline?Ty.styleSheetLoader:i.dom.styleSheetLoader).loadAll(t.contentCSS,function(e){Ay(t)},function(e){Ay(t)}),f.content_style&&(a=t,u=f.content_style,c=In.fromDom(a.getDoc().head),l=In.fromTag("style"),sr.set(l,"type","text/css"),Ku.append(l,In.fromText(u)),Ku.append(c,l))},Ny=ai.DOM,Oy=function(e,t){var n,r,o,i,a,s,u,c=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=(n=e.id,r=c,o=t.height,i=Ab(e),u=In.fromTag("iframe"),sr.setAll(u,i),sr.setAll(u,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),pr(u,{width:"100%",height:(a=o,s="number"==typeof a?a+"px":a,s||""),display:"block"}),u).dom();l.onload=function(){l.onload=null,e.fire("load")};var f,d,h,p,m=function(e,t){if(document.domain!==window.location.hostname&&de.ie&&de.ie<12){var n=Bp.uuid("mce");e[n]=function(){Ry(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ny.setAttrib(t,"src",r),!0}return!1}(e,l);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=l,e.iframeHTML=(p=Rb(f=e)+"<html><head>",Nb(f)!==f.documentBaseUrl&&(p+='<base href="'+f.documentBaseURI.getURI()+'" />'),p+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=Ob(f),h=Db(f),Lb(f)&&(p+='<meta http-equiv="Content-Security-Policy" content="'+Lb(f)+'" />'),p+='</head><body id="'+d+'" class="mce-content-body '+h+'" data-id="'+f.id+'"><br></body></html>'),Ny.add(t.iframeContainer,l),m},Dy=function(e,t){var n=Oy(e,t);t.editorContainer&&(Ny.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Ny.isHidden(t.editorContainer)),e.getElement().style.display="none",Ny.setAttrib(e.id,"aria-hidden",!0),n||Ry(e)},Ly=ai.DOM,By=function(t,n,e){var r,o,i=bp.get(e);if(r=bp.urls[e]||t.documentBaseUrl.replace(/\/$/,""),e=Dt.trim(e),i&&-1===Dt.inArray(n,e)){if(Dt.each(bp.dependencies(e),function(e){By(t,n,e)}),t.plugins[e])return;o=new i(t,r,t.$),(t.plugins[e]=o).init&&(o.init(t,r),n.push(e))}},Py=function(e){return e.replace(/^\-/,"")},My=function(e){return{editorContainer:e,iframeContainer:e}},Iy=function(e){var t,n,r=e.getElement();return e.inline?My(null):(t=r,n=Ly.create("div"),Ly.insertAfter(n,t),My(n))},Fy=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,h=e.getElement();return e.orgDisplay=h.style.display,Xn.isString(d.theme)?(l=(o=e).settings,f=o.getElement(),i=l.width||Ly.getStyle(f,"width")||"100%",a=l.height||Ly.getStyle(f,"height")||f.offsetHeight,s=l.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),u.test(""+a)&&(a=Math.max(parseInt(a,10),s)),c=o.theme.renderUI({targetNode:f,width:i,height:a,deltaWidth:l.delta_width,deltaHeight:l.delta_height}),l.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<s&&(a=s),c.height=a,c):Xn.isFunction(d.theme)?(r=(t=e).getElement(),(n=t.settings.theme(t,r)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:r.offsetHeight,n):Iy(e)},jy=function(t){var e,n,r,o,i,a,s=t.settings,u=t.getElement();return t.rtl=s.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||Ly.getAttrib(u,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),o=(n=t).settings.theme,Xn.isString(o)?(n.settings.theme=Py(o),r=yp.get(o),n.theme=new r(n,yp.urls[o]),n.theme.init&&n.theme.init(n,yp.urls[o]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},i=t,a=[],Dt.each(i.settings.plugins.split(/[ ,]/),function(e){By(i,a,Py(e))}),e=Fy(t),t.editorContainer=e.editorContainer?e.editorContainer:null,s.content_css&&Dt.each(Dt.explode(s.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),s.content_editable?Ry(t):Dy(t,e)},zy=ai.DOM,Hy=function(e){return"-"===e.charAt(0)},qy=function(i,a){var s=fi.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(Xn.isString(i)){if(!Hy(i)&&!yp.urls.hasOwnProperty(i)){var a=o.theme_url;a?yp.load(i,t.documentBaseURI.toAbsolute(a)):yp.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){yp.waitFor(i,r)})}else r()}(s,i,a,function(){var e,t,n,r,o;e=s,(n=(t=i).settings).language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url),r=i.settings,o=a,Dt.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),Dt.each(r.external_plugins,function(e,t){bp.load(t,e),r.plugins+=" "+t}),Dt.each(r.plugins.split(/[ ,]/),function(e){if((e=Dt.trim(e))&&!bp.urls[e])if(Hy(e)){e=e.substr(1,e.length);var t=bp.dependencies(e);Dt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=bp.createUrl(t,e),bp.load(e.resource,e)})}else bp.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),s.loadQueue(function(){i.removed||jy(i)},i,function(e){vp.pluginLoadError(i,e[0]),i.removed||jy(i)})})},Uy=function(t){var e=t.settings,n=t.id,r=function(){zy.unbind(window,"ready",r),t.render()};if(Ee.Event.domLoaded){if(t.getElement()&&de.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||zy.getParent(n,"form");o&&(t.formElement=o,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(zy.insertAfter(zy.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},zy.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!e.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=dp(t),t.notificationManager=fp(t),"xml"===e.encoding&&t.on("GetContent",function(e){e.save&&(e.content=zy.encode(e.content))}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),qy(t,t.suffix)}}else zy.bind(window,"ready",r)},Wy=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},Vy=Dt.each,Ky=Dt.trim,$y="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Gy={ftp:21,http:80,https:443,mailto:25},Yy=function(r,e){var t,n,o=this;if(r=Ky(r),t=(e=o.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r))o.source=r;else{var i=0===r.indexOf("//");0!==r.indexOf("/")||i||(r=(t&&t.protocol||"http")+"://mce_host"+r),/^[\w\-]*:?\/\//.test(r)||(n=e.base_uri?e.base_uri.path:new Yy(document.location.href).directory,""==e.base_uri.protocol?r="//mce_host"+o.toAbsPath(n,r):(r=/([^#?]*)([#?]?.*)/.exec(r),r=(t&&t.protocol||"http")+"://mce_host"+o.toAbsPath(n,r[1])+r[2])),r=r.replace(/@@/g,"(mce_at)"),r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r),Vy($y,function(e,t){var n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n}),t&&(o.protocol||(o.protocol=t.protocol),o.userInfo||(o.userInfo=t.userInfo),o.port||"mce_host"!==o.host||(o.port=t.port),o.host&&"mce_host"!==o.host||(o.host=t.host),o.source=""),i&&(o.protocol="")}};Yy.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new Yy(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new Yy(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Gy[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Vy(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<i?i--:a.push(t[n]):i++);return 0!==(o=(n=e.length-i)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},Yy.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},Yy.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var Xy=function(e,t){t(e),e.firstChild&&Xy(e.firstChild,t),e.next&&Xy(e.next,t)},Jy=function(e,t,n){var r=function(e,n,t){var r={},o={},i=[];for(var a in t.firstChild&&Xy(t.firstChild,function(t){I.each(e,function(e){e.name===t.name&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})}),I.each(n,function(e){"string"==typeof t.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})})}),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(e,t,n);I.each(r,function(t){I.each(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},Zy=function(e){return e instanceof Zg},Qy=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Zy(t)?"":t,Zy(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Zy(t)?function(e,t,n){Jy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),t);var r=oc({validate:e.validate},e.schema).serialize(t);return n.content=Dt.trim(r),e.dom.setHTML(e.getBody(),n.content),n.no_events||e.fire("SetContent",n),t}(e,t,n):(o=t,i=n,u=(r=e).getBody(),0===o.length||/^\s+$/.test(o)?(s='<br data-mce-bogus="1">',"TABLE"===u.nodeName?o="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(u.nodeName)&&(o="<li>"+s+"</li>"),(a=r.settings.forced_root_block)&&r.schema.isValidChild(u.nodeName.toLowerCase(),a.toLowerCase())?(o=s,o=r.dom.createHTML(a,r.settings.forced_root_block_attrs,o)):o||(o='<br data-mce-bogus="1">'),r.dom.setHTML(u,o),r.fire("SetContent",i)):("raw"!==i.format&&(o=oc({validate:r.validate},r.schema).serialize(r.parser.parse(o,{isRootContent:!0,insert:!0}))),i.content=Dt.trim(o),r.dom.setHTML(u,i.content),i.no_events||r.fire("SetContent",i)),i.content);var r,o,i,a,s,u},e_=ai.DOM,t_=function(e){return A.from(e).each(function(e){return e.destroy()})},n_=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&e_.remove(o.nextSibling),!e.inline&&r&&(i=e).orgDisplay&&e_.setStyle(i.id,"display",i.orgDisplay),Ug(e),e.editorManager.remove(e),e_.remove(e.getContainer()),t_(t),t_(n),e.destroy()}var i},r_=function(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),t_(i),t_(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),e_.unbind(r,"submit reset",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=1):e.remove())},o_=ai.DOM,i_=Dt.extend,a_=Dt.each,s_=Dt.resolve,u_=de.ie,c_=function(e,t,n){var r,o,i,a,s,u,c,l,f,d=this;r=d.documentBaseUrl=n.documentBaseURL,o=n.baseURI,i=d,a=e,s=r,u=n.defaultSettings,c=t,f={id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=xc(gc,f,u,c),d.settings=t,hi.language=t.language||"en",hi.languageLoad=t.language_load,hi.baseURL=n.baseURL,d.id=e,d.setDirty(!1),d.plugins={},d.documentBaseURI=new Yy(t.document_base_url,{base_uri:o}),d.baseURI=o,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new Kh(d),d.loadedCSS={},d.editorCommands=new Ah(d),d.suffix=n.suffix,d.editorManager=n,d.inline=t.inline,d.buttons={},d.menuItems={},t.cache_suffix&&(de.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(de.overrideViewPort=!1),n.fire("SetupEditor",{editor:d}),d.execCallback("setup",d),d.$=Jt.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};i_(c_.prototype={render:function(){Uy(this)},focus:function(e){np(this,e)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?s_(t):0,n=s_(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Dt.is(e,"string")){var n=this.settings.language||"en",r=this.editorManager.i18n;e=r.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return r.data[n+"."+t]||"{#"+t+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return Sc(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return Wy(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:Bp.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(o_.show(this.getContainer()),o_.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(u_&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(o_.hide(e.getContainer()),o_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=o_.getParent(r.id,"form"))&&a_(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){return Qy(this,e,t)},getContent:function(e){return function(e,t){var n;void 0===t&&(t={});var r=e.getBody();if(e.removed)return"";if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)n=Dt.trim(Rm(e.serializer,r.innerHTML));else if("text"===t.format)n=r.innerText||r.textContent;else{if("tree"===t.format)return e.serializer.serialize(r,t);n=e.serializer.serialize(r,t)}return"text"!==t.format?t.content=Dt.trim(n):t.content=n,t.no_events||e.fire("GetContent",t),t.content}(this,e)},insertContent:function(e,t){t&&(e=i_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){Hh(this,e)},getContainer:function(){return this.container||(this.container=o_.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=o_.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,r=this,o=r.settings,i=r.dom;e=e||r.getBody(),void 0===r.hasVisual&&(r.hasVisual=o.visual),a_(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((t=i.getAttrib(e,"border"))&&"0"!==t||!r.hasVisual?i.removeClass(e,n):i.addClass(e,n));case"A":return void(i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,n=o.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?i.addClass(e,n):i.removeClass(e,n)))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){n_(this)},destroy:function(e){r_(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Fh);var l_,f_,d_,h_={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},p_=function(n,e){var t,r,o=Pn.detect().browser;o.isIE()||o.isEdge()?(r=n).on("focusout",function(){yh.store(r)}):(t=e,n.on("mouseup touchend",function(e){t.throttle()})),n.on("keyup nodechange",function(e){var t;"nodechange"===(t=e).type&&t.selectionChange||yh.store(n)})},m_=function(e){var t,n,r,o=pm(function(){yh.store(e)},0);e.inline&&(t=e,n=o,r=function(){n.throttle()},ai.DOM.bind(document,"mouseup",r),t.on("remove",function(){ai.DOM.unbind(document,"mouseup",r)})),e.on("init",function(){p_(e,o)}),e.on("remove",function(){o.cancel()})},g_=ai.DOM,v_=function(e){return h_.isEditorUIElement(e)},b_=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==g_.getParent(e,function(e){return v_(e)||!!n&&t.dom.is(e,n)})},y_=function(r,e){var t=e.editor;m_(t),t.on("focusin",function(){var e=r.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),r.setActive(this),(r.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))}),t.on("focusout",function(){var t=this;ve.setEditorTimeout(t,function(){var e=r.focusedEditor;b_(t,function(){try{return document.activeElement}catch(e){return document.body}}())||e!==t||(t.fire("blur",{focusedEditor:null}),r.focusedEditor=null)})}),l_||(l_=function(e){var t,n=r.activeEditor;t=e.target,n&&t.ownerDocument===document&&(t===document.body||b_(n,t)||r.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),r.focusedEditor=null))},g_.bind(document,"focusin",l_))},__=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(g_.unbind(document,"focusin",l_),l_=null)},w_=function(e){e.on("AddEditor",b.curry(y_,e)),e.on("RemoveEditor",b.curry(__,e))},x_={},C_="en",k_={setCode:function(e){e&&(C_=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return C_},rtl:!1,add:function(e,t){var n=x_[e];for(var r in n||(x_[e]=n={}),t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=x_[C_]||{},n=function(e){return Dt.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||Dt.is(e,"undefined")},o=function(e){return e=n(e),Dt.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(Dt.is(e,"object")&&Dt.hasOwn(e,"raw"))return n(e.raw);if(Dt.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Dt.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:x_},S_=ai.DOM,E_=Dt.explode,T_=Dt.each,A_=Dt.extend,R_=0,N_=!1,O_=[],D_=[],L_=function(t){T_(d_.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},B_=function(e){e!==N_&&(e?Jt(window).on("resize scroll",L_):Jt(window).off("resize scroll",L_),N_=e)},P_=function(t){var e=D_;delete O_[t.id];for(var n=0;n<O_.length;n++)if(O_[n]===t){O_.splice(n,1);break}return D_=I.filter(D_,function(e){return t!==e}),d_.activeEditor===t&&(d_.activeEditor=0<D_.length?D_[0]:null),d_.focusedEditor===t&&(d_.focusedEditor=null),e.length!==D_.length};A_(d_={defaultSettings:{},$:Jt,majorVersion:"4",minorVersion:"7.7",releaseDate:"2018-02-19",editors:O_,i18n:k_,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o="";if(t=Yy.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s=(r=i[a].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==s.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(r=document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")))}this.baseURL=new Yy(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new Yy(this.baseURL),this.suffix=o,w_(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new Yy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Yy(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;for(var o in r)hi.PluginManager.urls[o]=r[o]},init:function(r){var n,s,u=this;s=Dt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var c=function(e){var t=e.id;return t||(t=(t=e.name)&&!S_.get(t)?e.name:S_.uniqueId(),e.setAttribute("id",t)),t},l=function(e,t){return t.constructor===RegExp?t.test(e.className):S_.hasClass(e,t)},f=function(e){n=e},e=function(){var o,i=0,a=[],n=function(e,t,n){var r=new c_(e,t,u);a.push(r),r.on("init",function(){++i===o.length&&f(a)}),r.targetElm=r.targetElm||n,r.render()};S_.unbind(window,"ready",e),function(e){var t=r[e];t&&t.apply(u,Array.prototype.slice.call(arguments,2))}("onpageload"),o=Jt.unique(function(t){var e,n=[];if(de.ie&&de.ie<11)return vp.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return T_(t.types,function(e){n=n.concat(S_.select(e.selector))}),n;if(t.selector)return S_.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&T_(E_(e),function(t){var e;(e=S_.get(t))?n.push(e):T_(document.forms,function(e){T_(e.elements,function(e){e.name===t&&(t="mce_editor_"+R_++,S_.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":T_(S_.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}return n}(r)),r.types?T_(r.types,function(t){Dt.each(o,function(e){return!S_.is(e,t.selector)||(n(c(e),A_({},r,t),e),!1)})}):(Dt.each(o,function(e){var t;(t=u.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(P_(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(o=Dt.grep(o,function(e){return!u.get(e.id)})).length?f([]):T_(o,function(e){var t;t=e,r.inline&&t.tagName.toLowerCase()in s?vp.initError("Could not initialize inline editor on invalid inline target element",e):n(c(e),r,e)}))};return u.settings=r,S_.bind(window,"ready",e),new he(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?D_.slice(0):Xn.isString(t)?I.find(D_,function(e){return e.id===t}).getOr(null):Xn.isNumber(t)&&D_[t]?D_[t]:null},add:function(e){var t=this;return O_[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(O_[e.id]=e),O_.push(e),D_.push(e)),B_(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),f_||(f_=function(){t.fire("BeforeUnload")},S_.bind(window,"beforeunload",f_))),e},createEditor:function(e,t){return this.add(new c_(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Xn.isString(e)?(e=e.selector||e,void T_(S_.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})):(n=e,Xn.isNull(r.get(n.id))?null:(P_(n)&&r.fire("RemoveEditor",{editor:n}),0===D_.length&&S_.unbind(window,"beforeunload",f_),n.remove(),B_(0<D_.length),n));for(t=D_.length-1;0<=t;t--)r.remove(D_[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new c_(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){T_(D_,function(e){e.save()})},addI18n:function(e,t){k_.add(e,t)},translate:function(e){return k_.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},Lh),d_.setup();var M_,I_=d_;function F_(n){return{walk:function(e,t){return Jm.walk(n,e,t)},split:cf.split,normalize:function(t){return Vd.normalize(n,t).fold(b.constant(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(M_=F_||(F_={})).compareRanges=Id.isEq,M_.getCaretRangeFromPoint=Ev.fromPoint,M_.getSelectedNode=$i,M_.getNode=Gi;var j_,z_,H_=F_,q_=Math.min,U_=Math.max,W_=Math.round,V_=function(e,t,n){var r,o,i,a,s,u;return r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=W_(u/2)),"c"===n[1]&&(r+=W_(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=W_(a/2)),"c"===n[4]&&(r-=W_(i/2)),K_(r,o,i,a)},K_=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},$_={inflate:function(e,t,n){return K_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:V_,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=V_(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n,r,o,i;return n=U_(e.x,t.x),r=U_(e.y,t.y),o=q_(e.x+e.w,t.x+t.w),i=q_(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:K_(n,r,o-n,i-r)},clamp:function(e,t,n){var r,o,i,a,s,u,c,l,f,d;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=U_(0,t.x-s),o=U_(0,t.y-u),i=U_(0,c-f),a=U_(0,l-d),s+=r,u+=o,n&&(c+=r,l+=o,s-=i,u-=a),K_(s,u,(c-=i)-s,(l-=a)-u)},create:K_,fromClientRect:function(e){return K_(e.left,e.top,e.width,e.height)}},G_={},Y_={add:function(e,t){G_[e.toLowerCase()]=t},has:function(e){return!!G_[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=G_.hasOwnProperty(t)?G_[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=G_[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},X_=Dt.each,J_=Dt.extend,Z_=function(){};Z_.extend=j_=function(n){var e,t,r,o=this.prototype,i=function(){var e,t,n;if(!z_&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(n,r){return function(){var e,t=this._super;return this._super=o[n],e=r.apply(this,arguments),this._super=t,e}};for(t in z_=!0,e=new this,z_=!1,n.Mixins&&(X_(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),o.Mixins&&(n.Mixins=o.Mixins.concat(n.Mixins))),n.Methods&&X_(n.Methods.split(","),function(e){n[e]=a}),n.Properties&&X_(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&X_(n.Statics,function(e,t){i[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=J_({},o.Defaults,n.Defaults)),n)"function"==typeof(r=n[t])&&o[t]?e[t]=s(t,r):e[t]=r;return i.prototype=e,(i.constructor=i).extend=j_,i};var Q_=Math.min,ew=Math.max,tw=Math.round,nw=function(e,n){var r,o,t,i;if(n=n||'"',null===e)return"null";if("string"==(t=typeof e))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=o.indexOf(t))+1?"\\"+o.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"===t){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,o="[";r<e.length;r++)o+=(0<r?",":"")+nw(e[r],n);return o+"]"}for(i in o="{",e)e.hasOwnProperty(i)&&(o+="function"!=typeof e[i]?(1<o.length?","+n:n)+i+n+":"+nw(e[i],n):"");return o+"}"}return""+e},rw={serialize:nw,parse:function(e){try{return JSON.parse(e)}catch(e){}}},ow={callbacks:{},count:0,send:function(t){var n=this,r=ai.DOM,o=void 0!==t.count?t.count:n.count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++}},iw={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",iw.fire("beforeInitialize",{settings:e}),t=new _p){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Dt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=iw.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};Dt.extend(iw,Lh);var aw=Dt.extend,sw=function(e){this.settings=aw({},e),this.count=0};sw.sendRPC=function(e){return(new sw).send(e)},sw.prototype={send:function(n){var r=n.error,o=n.success;(n=aw(this.settings,n)).success=function(e,t){void 0===(e=rw.parse(e))&&(e={error:"JSON Parse error."}),e.error?r.call(n.error_scope||n.scope,e.error,t):o.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=rw.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",iw.send(n)}};var uw,cw=window.localStorage,lw=I_,fw={geom:{Rect:$_},util:{Promise:he,Delay:ve,Tools:Dt,VK:gm,URI:Yy,Class:Z_,EventDispatcher:Nh,Observable:Lh,I18n:k_,XHR:iw,JSON:rw,JSONRequest:sw,JSONP:ow,LocalStorage:cw,Color:function(e){var n={},s=0,u=0,c=0,t=function(e){var t;return"object"==typeof e?"r"in e?(s=e.r,u=e.g,c=e.b):"v"in e&&function(e,t,n){var r,o,i,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=ew(0,Q_(t,1)),n=ew(0,Q_(n,1)),0!==t){switch(r=e/60,i=(o=n*t)*(1-Math.abs(r%2-1)),a=n-o,Math.floor(r)){case 0:s=o,u=i,c=0;break;case 1:s=i,u=o,c=0;break;case 2:s=0,u=o,c=i;break;case 3:s=0,u=i,c=o;break;case 4:s=i,u=0,c=o;break;case 5:s=o,u=0,c=i;break;default:s=u=c=0}s=tw(255*(s+a)),u=tw(255*(u+a)),c=tw(255*(c+a))}else s=u=c=tw(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),u=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),u=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),u=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,u=u<0?0:255<u?255:u,c=c<0?0:255<c?255:c,n};return e&&t(e),n.toRgb=function(){return{r:s,g:u,b:c}},n.toHsv=function(){return e=s,t=u,n=c,o=0,(i=Q_(e/=255,Q_(t/=255,n/=255)))===(a=ew(e,ew(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:tw(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:tw(100*r),v:tw(100*o)});var e,t,n,r,o,i,a},n.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(s)+e(u)+e(c)},n.parse=t,n}},dom:{EventUtils:Ee,Sizzle:ct,DomQuery:Jt,TreeWalker:Zr,DOMUtils:ai,ScriptLoader:fi,RangeUtils:H_,Serializer:pv,ControlSelection:xv,BookmarkManager:yv,Selection:ub,Event:Ee.Event},html:{Styles:Jo,Entities:Fo,Node:Zg,Schema:Yo,SaxParser:Tm,DomParser:cv,Writer:rc,Serializer:oc},ui:{Factory:Y_},Env:de,AddOnManager:hi,Formatter:Mg,UndoManager:Um,EditorCommands:Ah,WindowManager:dp,NotificationManager:fp,EditorObservable:Fh,Shortcuts:Kh,Editor:c_,FocusManager:h_,EditorManager:I_,DOM:ai.DOM,ScriptLoader:fi.ScriptLoader,PluginManager:hi.PluginManager,ThemeManager:hi.ThemeManager,trim:Dt.trim,isArray:Dt.isArray,is:Dt.is,toArray:Dt.toArray,makeMap:Dt.makeMap,each:Dt.each,map:Dt.map,grep:Dt.grep,inArray:Dt.inArray,extend:Dt.extend,create:Dt.create,walk:Dt.walk,createNS:Dt.createNS,resolve:Dt.resolve,explode:Dt.explode,_addCacheSuffix:Dt._addCacheSuffix,isOpera:de.opera,isWebKit:de.webkit,isIE:de.ie,isGecko:de.gecko,isMac:de.mac},dw=lw=Dt.extend(lw,fw);uw=dw,window.tinymce=uw,window.tinyMCE=uw,function(e){try{pw.exports=e}catch(e){}}(dw)}()}).call(this,t(50).setImmediate)},function(e,t,n){"use strict";var r=n(13).nextTick,o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=n(9);i.inherits=n(2);var a=n(57),s=n(26);i.inherits(f,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(r,e,t){var o=t(51),i=t(153);function n(e,t){return delete r.exports[e],r.exports[e]=t}r.exports={Parser:o,Tokenizer:t(52),ElementType:t(7),DomHandler:i,get FeedHandler(){return n("FeedHandler",t(155))},get Stream(){return n("Stream",t(156))},get WritableStream(){return n("WritableStream",t(56))},get ProxyHandler(){return n("ProxyHandler",t(170))},get DomUtils(){return n("DomUtils",t(171))},get CollectingHandler(){return n("CollectingHandler",t(183))},DefaultHandler:i,get RssHandler(){return n("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new o(n,t).end(e),n.dom},parseFeed:function(e,t){var n=new r.exports.FeedHandler(t);return new o(n,t).end(e),n.dom},createDomStream:function(e,t,n){var r=new i(e,t,n);return new o(r,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,F,t){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=t(158),i=t(159),a=t(58);function n(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=f.prototype:(null===e&&(e=new f(t)),e.length=t),e}function f(e,t,n){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);f.TYPED_ARRAY_SUPPORT?(e=t).__proto__=f.prototype:e=l(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!f.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(f.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):l(e,t);if("Buffer"===t.type&&a(t.data))return l(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(u(t),e=s(e,t<0?0:0|d(t)),!f.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function h(e,t){if(f.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(r)return P(e).length;t=(""+t).toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=f.from(t,r)),f.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=a=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(s<n+u&&(n=s-u),i=n;0<=i;i--){for(var f=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){f=!1;break}if(f)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?o<(r=Number(r))&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return I(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function y(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=239<c?4:223<c?3:191<c?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&127<(u=(31&c)<<6|63&i)&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(u=(15&c)<<12|(63&i)<<6|63&a)&&(u<55296||57343<u)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u)}null===l?(l=65533,f=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}F.Buffer=f,F.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},F.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),F.kMaxLength=n(),f.poolSize=8192,f._augment=function(e){return e.__proto__=f.prototype,e},f.from=function(e,t,n){return o(null,e,t,n)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(e,t,n){return r=null,i=t,a=n,u(o=e),o<=0?s(r,o):void 0!==i?"string"==typeof a?s(r,o).fill(i,a):s(r,o).fill(i):s(r,o);var r,o,i,a},f.allocUnsafe=function(e){return c(null,e)},f.allocUnsafeSlow=function(e){return c(null,e)},f.isBuffer=function(e){return!(null==e||!e._isBuffer)},f.compare=function(e,t){if(!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=f.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!f.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},f.byteLength=h,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},f.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return y(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",t=F.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},f.prototype.compare=function(e,t,n,r,o){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},f.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},f.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},f.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},f.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i,a,s,u,c,l,f,d,h,p=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return d=t,h=n,I(P(e,(f=this).length-d),f,d,h);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return u=this,c=t,l=n,I(M(e),u,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=n,I(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,(i=this).length-a),i,a,s);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;++i)o+=B(e[i]);return o}function S(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function E(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,n,r,o,i){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function N(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}f.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),f.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=f.prototype;else{var o=t-e;n=new f(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},f.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},f.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},f.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},f.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},f.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||E(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},f.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},f.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),i.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),i.read(this,e,!1,52,8)},f.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},f.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||T(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},f.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},f.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},f.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},f.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},f.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},f.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);T(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},f.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);T(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},f.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},f.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},f.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},f.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},f.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},f.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},f.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},f.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},f.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!f.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},f.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!f.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=f.isBuffer(e)?e:P(new f(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(e){return r.toByteArray(function(e){var t;if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,t(1))},function(e,n,t){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,t(8).Buffer)},function(e,u){u.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function c(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function l(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,n=c(e);if(n){if(!n.path)return e;t=n.path}for(var r,o=u.isAbsolute(t),i=t.split(/\/+/),a=0,s=i.length-1;0<=s;s--)"."===(r=i[s])?i.splice(s,1):".."===r?a++:0<a&&(""===r?(i.splice(s+1,a),a=0):(i.splice(s,2),a--));return""===(t=i.join("/"))&&(t=o?"/":"."),n?(n.path=t,l(n)):t}function s(e,t){""===e&&(e="."),""===t&&(t=".");var n=c(t),r=c(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),l(n);if(n||t.match(i))return t;if(r&&!r.host&&!r.path)return r.host=t,l(r);var o="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=o,l(r)):o}u.urlParse=c,u.urlGenerate=l,u.normalize=a,u.join=s,u.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},u.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var t=!("__proto__"in Object.create(null));function r(e){return e}function o(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;0<=n;n--)if(36!==e.charCodeAt(n))return!1;return!0}function f(e,t){return e===t?0:null===e?1:null===t?-1:t<e?1:-1}u.toSetString=t?r:function(e){return o(e)?"$"+e:e},u.fromSetString=t?r:function(e){return o(e)?e.slice(1):e},u.compareByOriginalPositions=function(e,t,n){var r=f(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:f(e.name,t.name)},u.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=f(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:f(e.name,t.name)},u.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=f(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:f(e.name,t.name)},u.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},u.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=c(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var o=r.path.lastIndexOf("/");0<=o&&(r.path=r.path.substring(0,o+1))}t=s(l(r),t)}return a(t)}},function(e){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(e){return"function"==typeof e}function c(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}((e.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(l(n=this._events[e]))return!1;if(u(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(c(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o);return!0},r.prototype.on=r.prototype.addListener=function(e,t){var n;if(!u(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,u(t.listener)?t.listener:t),this._events[e]?c(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,c(this._events[e])&&!this._events[e].warned&&(n=l(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(e,t){if(!u(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,o,i;if(!u(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||u(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(c(n)){for(i=o;0<i--;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(u(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?u(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(u(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(s){!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,i,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(e);case 2:return s.nextTick(function(){e.call(null,t)});case 3:return s.nextTick(function(){e.call(null,t,n)});case 4:return s.nextTick(function(){e.call(null,t,n,r)});default:for(o=new Array(a-1),i=0;i<o.length;)o[i++]=arguments[i];return s.nextTick(function(){e.apply(null,o)})}}}:e.exports=s}).call(this,n(5))},function(e,t,n){var r=n(8),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(34);var i=function(o){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e));return t.type="atrule",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o),n.prototype.append=function(){var e;this.nodes||(this.nodes=[]);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.prototype.append).call.apply(e,[this].concat(n))},n.prototype.prepend=function(){var e;this.nodes||(this.nodes=[]);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.prototype.prepend).call.apply(e,[this].concat(n))},n}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=a(n(34)),i=a(n(74));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="rule",t.nodes||(t.nodes=[]),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),o(r,[{key:"selectors",get:function(){return i.default.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),r}(r.default);t.default=s,e.exports=t.default},function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(t){"Symbol"in this&&"iterator"in this.Symbol&&Array.prototype[Symbol.iterator]&&Array.prototype.values&&Array.prototype[Symbol.iterator]===Array.prototype.values||Object.defineProperty(Array.prototype,"values",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});var e,r=(e=function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperties(this,{__list__:{writable:!0,value:t},__context__:{writable:!0,value:n},__nextIndex__:{writable:!0,value:0}}),n&&(!function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function")}(n.on),n.on("_add",this._onAdd.bind(this)),n.on("_delete",this._onDelete.bind(this)),n.on("_clear",this._onClear.bind(this)))},Object.defineProperties(e.prototype,Object.assign({constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_next:{value:function(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==t?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function(e){return e===t?{done:!0,value:t}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd.bind(this)),this.__context__.off("_delete",this._onDelete.bind(this)),this.__context__.off("_clear",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return"[object Iterator]"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,t){n<=e&&(this.__redo__[t]=++e)},this),this.__redo__.push(n)):Object.defineProperty(this,"__redo__",{value:[n],configurable:!0,enumerable:!1,writable:!1}))},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function(n){var e;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(n))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){n<e&&(this.__redo__[t]=--e)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function(){this.__redo__&&function(){return this.length=0,this}.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(e.prototype,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{value:"Iterator",configurable:!1,enumerable:!1,writable:!1}),e);"contains"in String.prototype||(String.prototype.contains=String.prototype.includes);var n;n=function e(t,n){if(!(this instanceof e))return new e(t,n);r.call(this,t),n=n?String.prototype.contains.call(n,"key+value")?"key+value":String.prototype.contains.call(n,"key")?"key":"value":"value",Object.defineProperty(this,"__kind__",{value:n,configurable:!1,enumerable:!1,writable:!1})},Object.setPrototypeOf&&Object.setPrototypeOf(n,r.prototype),n.prototype=Object.create(r.prototype,{constructor:{value:n,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function(){return"[object Array Iterator]"},configurable:!0,enumerable:!1,writable:!0}})}).call("object"===("undefined"==typeof window?"undefined":t(window))&&window||"object"===("undefined"==typeof self?"undefined":t(self))&&self||"object"===(void 0===e?"undefined":t(e))&&e||{})}).call(this,n(1))},function(e,t){(function(){"use strict";var o=new function(){},n=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function h(e){var t=n.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}function u(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function a(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function s(e,t,n){n=n||new Set;for(var r=e;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;t(o);var i=o.localName;if("link"===i&&"import"===o.getAttribute("rel")){if((r=o.import)instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)s(r,t,n);r=a(e,o);continue}if("template"===i){r=a(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)s(o,t,n)}r=r.firstChild?r.firstChild:a(e,r)}}function i(e,t,n){e[t]=n}function e(){this.a=new Map,this.o=new Map,this.f=[],this.b=!1}function r(e,t){e.b=!0,e.f.push(t)}function c(t,e){t.b&&s(e,function(e){return l(t,e)})}function l(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.f.length;n++)e.f[n](t)}}function f(e,t){var n=[];for(s(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):m(e,r)}}function d(e,t){var n=[];for(s(t,function(e){return n.push(e)}),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function p(r,e,t){var o=(t=t||{}).w||new Set,i=t.s||function(e){return m(r,e)},a=[];if(s(e,function(n){if("link"===n.localName&&"import"===n.getAttribute("rel")){var e=n.import;e instanceof Node&&(e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0),e&&"complete"===e.readyState?e.__CE_documentLoadHandled=!0:n.addEventListener("load",function(){var e=n.import;if(!e.__CE_documentLoadHandled){e.__CE_documentLoadHandled=!0;var t=new Set(o);t.delete(e),p(r,e,{w:t,s:i})}})}else a.push(n)},o),r.b)for(e=0;e<a.length;e++)l(r,a[e]);for(e=0;e<a.length;e++)i(a[e])}function m(e,t){if(void 0===t.__CE_state){var n=t.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=e.a.get(t.localName))){n.constructionStack.push(t);var r=n.constructor;try{try{if(new r!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,(t.__CE_definition=n).attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],i=t.getAttribute(o);null!==i&&e.attributeChangedCallback(t,o,null,i,null)}u(t)&&e.connectedCallback(t)}}}function t(e,t){this.c=e,this.a=t,this.b=void 0,p(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function g(e){e.b&&e.b.disconnect()}function v(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function b(e){this.i=!1,this.c=e,this.m=new Map,this.j=function(e){return e()},this.g=!1,this.l=[],this.u=new t(e,document)}e.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},e.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},e.prototype.attributeChangedCallback=function(e,t,n,r,o){var i=e.__CE_definition;i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t)&&i.attributeChangedCallback.call(e,t,n,r,o)},t.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||g(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)p(this.c,n[r])},b.prototype.define=function(e,t){var n,r,o,i,a,s,u,c,l=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!h(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.c.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.i)throw Error("A custom element is already being defined.");this.i=!0;try{var f=function(e){var t=d[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},d=t.prototype;if(!(d instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");n=f("connectedCallback"),r=f("disconnectedCallback"),o=f("adoptedCallback"),i=f("attributeChangedCallback"),a=t.observedAttributes||[]}catch(e){return}finally{this.i=!1}t={localName:e,constructor:t,connectedCallback:n,disconnectedCallback:r,adoptedCallback:o,attributeChangedCallback:i,observedAttributes:a,constructionStack:[]},s=this.c,u=e,c=t,s.a.set(u,c),s.o.set(c.constructor,c),this.l.push(t),this.g||(this.g=!0,this.j(function(){return function(r){if(!1!==r.g){r.g=!1;for(var e=r.l,o=[],i=new Map,t=0;t<e.length;t++)i.set(e[t].localName,[]);for(p(r.c,document,{s:function(e){if(void 0===e.__CE_state){var t=e.localName,n=i.get(t);n?n.push(e):r.c.a.get(t)&&o.push(e)}}}),t=0;t<o.length;t++)m(r.c,o[t]);for(;0<e.length;){for(var n=e.shift(),t=n.localName,n=i.get(n.localName),a=0;a<n.length;a++)m(r.c,n[a]);(t=r.m.get(t))&&v(t)}}}(l)}))},b.prototype.get=function(e){if(e=this.c.a.get(e))return e.constructor},b.prototype.whenDefined=function(t){if(!h(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.m.get(t);return e||(e=new function(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})},this.m.set(t,e),this.c.a.get(t)&&!this.l.some(function(e){return e.localName===t})&&v(e)),e.f},b.prototype.v=function(t){g(this.u);var n=this.j;this.j=function(e){return t(function(){return n(e)})}},(window.CustomElementRegistry=b).prototype.define=b.prototype.define,b.prototype.get=b.prototype.get,b.prototype.whenDefined=b.prototype.whenDefined,b.prototype.polyfillWrapFlushCallback=b.prototype.v;var y=window.Document.prototype.createElement,_=window.Document.prototype.createElementNS,w=window.Document.prototype.importNode,x=window.Document.prototype.prepend,C=window.Document.prototype.append,k=window.DocumentFragment.prototype.prepend,S=window.DocumentFragment.prototype.append,E=window.Node.prototype.cloneNode,T=window.Node.prototype.appendChild,A=window.Node.prototype.insertBefore,R=window.Node.prototype.removeChild,N=window.Node.prototype.replaceChild,O=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),D=window.Element.prototype.attachShadow,L=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),B=window.Element.prototype.getAttribute,P=window.Element.prototype.setAttribute,M=window.Element.prototype.removeAttribute,I=window.Element.prototype.getAttributeNS,F=window.Element.prototype.setAttributeNS,j=window.Element.prototype.removeAttributeNS,z=window.Element.prototype.insertAdjacentElement,H=window.Element.prototype.prepend,q=window.Element.prototype.append,U=window.Element.prototype.before,W=window.Element.prototype.after,V=window.Element.prototype.replaceWith,K=window.Element.prototype.remove,$=window.HTMLElement,G=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Y=window.HTMLElement.prototype.insertAdjacentElement;function X(s,e,t){function n(a){return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&u(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(a.apply(this,t),t=0;t<r.length;t++)d(s,r[t]);if(u(this))for(t=0;t<n.length;t++)(r=n[t])instanceof Element&&f(s,r)}}t.h&&(e.prepend=n(t.h)),t.append&&(e.append=n(t.append))}var J,Z,Q=window.customElements;if(!Q||Q.forcePolyfill||"function"!=typeof Q.define||"function"!=typeof Q.get){var ee=new e;Z=ee,window.HTMLElement=function(){function e(){var e=this.constructor;if(!(n=Z.o.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var t=n.constructionStack;if(!t.length)return t=y.call(document,n.localName),Object.setPrototypeOf(t,e.prototype),t.__CE_state=1,t.__CE_definition=n,l(Z,t),t;var n,r=t[n=t.length-1];if(r===o)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return t[n]=o,Object.setPrototypeOf(r,e.prototype),l(Z,r),r}return e.prototype=$.prototype,e}(),J=ee,i(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var t=J.a.get(e);if(t)return new t.constructor}return e=y.call(this,e),l(J,e),e}),i(Document.prototype,"importNode",function(e,t){return e=w.call(this,e,t),this.__CE_hasRegistry?p(J,e):c(J,e),e}),i(Document.prototype,"createElementNS",function(e,t){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var n=J.a.get(t);if(n)return new n.constructor}return e=_.call(this,e,t),l(J,e),e}),X(J,Document.prototype,{h:x,append:C}),X(ee,DocumentFragment.prototype,{h:k,append:S}),function(){var a=ee;function t(e,i){Object.defineProperty(e,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,e);else{var t=void 0;if(this.firstChild){var n=this.childNodes,r=n.length;if(0<r&&u(this)){t=Array(r);for(var o=0;o<r;o++)t[o]=n[o]}}if(i.set.call(this,e),t)for(e=0;e<t.length;e++)d(a,t[e])}}})}i(Node.prototype,"insertBefore",function(e,t){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=A.call(this,e,t),u(this))for(t=0;t<n.length;t++)f(a,n[t]);return e}return n=u(e),t=A.call(this,e,t),n&&d(a,e),u(this)&&f(a,e),t}),i(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var t=Array.prototype.slice.apply(e.childNodes);if(e=T.call(this,e),u(this))for(var n=0;n<t.length;n++)f(a,t[n]);return e}return t=u(e),n=T.call(this,e),t&&d(a,e),u(this)&&f(a,e),n}),i(Node.prototype,"cloneNode",function(e){return e=E.call(this,e),this.ownerDocument.__CE_hasRegistry?p(a,e):c(a,e),e}),i(Node.prototype,"removeChild",function(e){var t=u(e),n=R.call(this,e);return t&&d(a,e),n}),i(Node.prototype,"replaceChild",function(e,t){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=N.call(this,e,t),u(this))for(d(a,t),t=0;t<n.length;t++)f(a,n[t]);return e}n=u(e);var r=N.call(this,e,t),o=u(this);return o&&d(a,t),n&&d(a,e),o&&f(a,e),r}),O&&O.get?t(Node.prototype,O):r(a,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)R.call(this,this.firstChild);T.call(this,document.createTextNode(e))}})})}(),function(){var a=ee;function t(e,i){Object.defineProperty(e,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function(e){var t=this,n=void 0;if(u(this)&&(n=[],s(this,function(e){e!==t&&n.push(e)})),i.set.call(this,e),n)for(var r=0;r<n.length;r++){var o=n[r];1===o.__CE_state&&a.disconnectedCallback(o)}return this.ownerDocument.__CE_hasRegistry?p(a,this):c(a,this),e}})}function e(e,r){i(e,"insertAdjacentElement",function(e,t){var n=u(t);return e=r.call(this,e,t),n&&d(a,t),u(e)&&f(a,t),e})}D&&i(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=D.call(this,e)}),L&&L.get?t(Element.prototype,L):G&&G.get?t(HTMLElement.prototype,G):r(a,function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return E.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,n=t?this.content:this,r=y.call(document,this.localName);for(r.innerHTML=e;0<n.childNodes.length;)R.call(n,n.childNodes[0]);for(e=t?r.content:r;0<e.childNodes.length;)T.call(n,e.childNodes[0])}})}),i(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return P.call(this,e,t);var n=B.call(this,e);P.call(this,e,t),t=B.call(this,e),a.attributeChangedCallback(this,e,n,t,null)}),i(Element.prototype,"setAttributeNS",function(e,t,n){if(1!==this.__CE_state)return F.call(this,e,t,n);var r=I.call(this,e,t);F.call(this,e,t,n),n=I.call(this,e,t),a.attributeChangedCallback(this,t,r,n,e)}),i(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return M.call(this,e);var t=B.call(this,e);M.call(this,e),null!==t&&a.attributeChangedCallback(this,e,t,null,null)}),i(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return j.call(this,e,t);var n=I.call(this,e,t);j.call(this,e,t);var r=I.call(this,e,t);n!==r&&a.attributeChangedCallback(this,t,n,r,e)}),Y?e(HTMLElement.prototype,Y):z?e(Element.prototype,z):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),X(a,Element.prototype,{h:H,append:q}),function(s){var e=Element.prototype;function t(a){return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&u(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(a.apply(this,t),t=0;t<r.length;t++)d(s,r[t]);if(u(this))for(t=0;t<n.length;t++)(r=n[t])instanceof Element&&f(s,r)}}U&&(e.before=t(U)),U&&(e.after=t(W)),V&&i(e,"replaceWith",function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&u(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(o=u(this),V.apply(this,t),t=0;t<r.length;t++)d(s,r[t]);if(o)for(d(s,this),t=0;t<n.length;t++)(r=n[t])instanceof Element&&f(s,r)}),K&&i(e,"remove",function(){var e=u(this);K.call(this),e&&d(s,this)})}(a)}(),document.__CE_hasRegistry=!0;var te=new b(ee);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:te})}}).call(self)},function(D,e){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof D,s=e.regeneratorRuntime;if(s)a&&(D.exports=s);else{(s=e.regeneratorRuntime=a?D.exports:{}).wrap=y;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={},l={};l[o]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(N([])));v&&v!==t&&c.call(v,o)&&(l=v);var b=C.prototype=w.prototype=Object.create(l);x.prototype=b.constructor=C,C.constructor=x,C[i]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(b),e},s.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[r]=function(){return this},s.AsyncIterator=S,s.async=function(e,t,n,r){var o=new S(y(e,t,n,r));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(b),b[i]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=c.call(o,"catchLoc"),s=c.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),m}}}function y(e,t,n,r){var i,a,s,u,o=t&&t.prototype instanceof w?t:w,c=Object.create(o.prototype),l=new R(r||[]);return c._invoke=(i=e,a=n,s=l,u=f,function(e,t){if(u===h)throw new Error("Generator is already running");if(u===p){if("throw"===e)throw t;return O()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=E(n,s);if(r){if(r===m)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===f)throw u=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=h;var o=_(i,a,s);if("normal"===o.type){if(u=s.done?p:d,o.arg===m)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(u=p,s.method="throw",s.arg=o.arg)}}),c}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function x(){}function C(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(u){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,o){var i=_(u[e],u,n);if("throw"!==i.type){var a=i.arg,s=a.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):Promise.resolve(s).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)})}o(i.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function E(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=_(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:O}}function O(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var n=this,t=[""];n.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),n.__cache__={},t.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(e){e.enabled&&(t&&e.alt.indexOf(t)<0||n.__cache__[t].push(e.fn))})})},r.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,n){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var t=this.__find__(e);if(t<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[t].enabled=!0,r.push(e)},this),this.__cache__=null,r},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,n){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var t=this.__find__(e);if(t<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[t].enabled=!1,r.push(e)},this),this.__cache__=null,r},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return 0<=t&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){(((t=e.exports=n(57)).Stream=t).Readable=t).Writable=n(26),t.Duplex=n(4),t.Transform=n(61),t.PassThrough=n(164)},function(C,e,k){"use strict";(function(e,t,n){var v=k(13).nextTick;function f(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}C.exports=l;var s,d=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?t:v;l.WritableState=c;var r=k(9);r.inherits=k(2);var o={deprecate:k(163)},i=k(59),b=k(14).Buffer,y=n.Uint8Array||function(){};var a,u=k(60);function _(){}function c(e,t){s=s||k(4),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,o=e.writableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(o||0===o)?o:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(f=n,f.writing=!1,f.writecb=null,f.length-=f.writelen,f.writelen=0,t)a=e,s=n,u=r,c=t,l=o,--s.pendingcb,u?(v(l,c),v(x,a,s),a._writableState.errorEmitted=!0,a.emit("error",c)):(l(c),a._writableState.errorEmitted=!0,a.emit("error",c),x(a,s));else{var i=m(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||p(e,n),r?d(h,e,n,i,o):h(e,n,i,o)}var a,s,u,c,l;var f}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function l(e){if(s=s||k(4),!(a.call(l,this)||this instanceof s))return new l(e);this._writableState=new c(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function w(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function h(e,t,n,r){var o,i;n||(o=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,o.emit("drain"))),t.pendingcb--,r(),x(e,t)}function p(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var a=0,s=!0;n;)(o[a]=n).isBuf||(s=!1),n=n.next,a+=1;o.allBuffers=s,w(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new f(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,l=n.callback;if(w(e,t,!1,t.objectMode?1:u.length,u,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function g(t,n){t._final(function(e){n.pendingcb--,e&&t.emit("error",e),n.prefinished=!0,t.emit("prefinish"),x(t,n)})}function x(e,t){var n,r,o=m(t);return o&&(n=e,(r=t).prefinished||r.finalCalled||("function"==typeof n._final?(r.pendingcb++,r.finalCalled=!0,v(g,n,r)):(r.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),o}r.inherits(l,i),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===l&&(e&&e._writableState instanceof c)}})):a=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r,o,i,a,s,u,c,l,f,d,h,p=this._writableState,m=!1,g=!p.objectMode&&(r=e,b.isBuffer(r)||r instanceof y);return g&&!b.isBuffer(e)&&(o=e,e=b.from(o)),"function"==typeof t&&(n=t,t=null),g?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof n&&(n=_),p.ended?(f=this,d=n,h=new Error("write after end"),f.emit("error",h),v(d,h)):(g||(i=this,a=p,u=n,c=!0,l=!1,null===(s=e)?l=new TypeError("May not write null values to stream"):"string"==typeof s||void 0===s||a.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(i.emit("error",l),v(u,l),c=!1),c))&&(p.pendingcb++,m=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=b.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,s,r,o,i);return u}(this,p,g,e,t,n)),m},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||p(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?v(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=u.destroy,l.prototype._undestroy=u.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,k(5),k(50).setImmediate,k(1))},function(e,t,n){"use strict";var r=n(14).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}(t.StringDecoder=i).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(0<=o)return 0<o&&(e.lastNeed=o-1),o;if(--r<n)return 0;if(0<=(o=a(t[r])))return 0<o&&(e.lastNeed=o-2),o;if(--r<n)return 0;if(0<=(o=a(t[r])))return 0<o&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(29);var i=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="decl",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=u(n(62)),o=u(n(70)),i=u(n(31)),a=u(n(71));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.raws={},"object"!==(void 0===e?"undefined":s(e))&&void 0!==e)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(e));for(var t in e)this[t]=e[t]}return n.prototype.error=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.positionBy(t);return this.source.input.error(e,n.line,n.column,t)}return new r.default(e)},n.prototype.warn=function(e,t,n){var r={node:this};for(var o in n)r[o]=n[o];return e.warn(t,r)},n.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},n.prototype.toString=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.default;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},n.prototype.clone=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function t(e,n){var r=new e.constructor;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o],a=void 0===i?"undefined":s(i);"parent"===o&&"object"===a?n&&(r[o]=n):"source"===o?r[o]=i:i instanceof Array?r[o]=i.map(function(e){return t(e,r)}):("object"===a&&null!==i&&(i=t(i)),r[o]=i)}return r}(this);for(var n in e)t[n]=e[n];return t},n.prototype.cloneBefore=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},n.prototype.cloneAfter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},n.prototype.replaceWith=function(){if(this.parent){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this.parent.insertBefore(this,s)}this.remove()}return this},n.prototype.moveTo=function(e){return(0,a.default)("Node#moveTo was deprecated. Use Container#append."),this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},n.prototype.moveBefore=function(e){return(0,a.default)("Node#moveBefore was deprecated. Use Node#before."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},n.prototype.moveAfter=function(e){return(0,a.default)("Node#moveAfter was deprecated. Use Node#after."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},n.prototype.next=function(){var e=this.parent.index(this);return this.parent.nodes[e+1]},n.prototype.prev=function(){var e=this.parent.index(this);return this.parent.nodes[e-1]},n.prototype.before=function(e){return this.parent.insertBefore(this,e),this},n.prototype.after=function(e){return this.parent.insertAfter(this,e),this},n.prototype.toJSON=function(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var n=this[t];n instanceof Array?e[t]=n.map(function(e){return"object"===(void 0===e?"undefined":s(e))&&e.toJSON?e.toJSON():e}):"object"===(void 0===n?"undefined":s(n))&&n.toJSON?e[t]=n.toJSON():e[t]=n}return e},n.prototype.raw=function(e,t){return(new o.default).raw(this,e,t)},n.prototype.root=function(){for(var e=this;e.parent;)e=e.parent;return e},n.prototype.cleanRaws=function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},n.prototype.positionInside=function(e){for(var t=this.toString(),n=this.source.start.column,r=this.source.start.line,o=0;o<e;o++)"\n"===t[o]?r+=n=1:n+=1;return{line:r,column:n}},n.prototype.positionBy=function(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t},n}();t.default=c,e.exports=t.default},function(e,c,t){(function(o){function i(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return t.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}c.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:o.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=i(s(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},c.normalize=function(e){var t=c.isAbsolute(e),n="/"===r(e,-1);return(e=i(s(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},c.isAbsolute=function(e){return"/"===e.charAt(0)},c.join=function(){var e=Array.prototype.slice.call(arguments,0);return c.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},c.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=c.resolve(e).substr(1),t=c.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),i=Math.min(r.length,o.length),a=i,s=0;s<i;s++)if(r[s]!==o[s]){a=s;break}var u=[];for(s=a;s<r.length;s++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},c.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},c.extname=function(e){return a(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,t(5))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){new i.default(t).stringify(e)};var r,o=n(70),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var n=new i.default(e,t),r=new o.default(n);try{r.parse()}catch(e){throw"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return r.root};var o=r(n(207)),i=r(n(65));function r(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(29);var i=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="comment",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(((r=o)&&r.__esModule?r:{default:r}).default);t.default=i,e.exports=t.default},function(e,t,h){"use strict";t.__esModule=!0;var n=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),p=r(h(28)),m=r(h(33));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(i){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(e,i),e.prototype.push=function(e){return(e.parent=this).nodes.push(e),this},e.prototype.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var n=void 0,r=void 0;this.indexes[t]<this.nodes.length&&(n=this.indexes[t],!1!==(r=e(this.nodes[n],n)));)this.indexes[t]+=1;return delete this.indexes[t],r}},e.prototype.walk=function(r){return this.each(function(e,t){var n=r(e,t);return!1!==n&&e.walk&&(n=e.walk(r)),n})},e.prototype.walkDecls=function(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("decl"===e.type&&n.test(e.prop))return r(e,t)}):this.walk(function(e,t){if("decl"===e.type&&e.prop===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("decl"===e.type)return r(e,t)}))},e.prototype.walkRules=function(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("rule"===e.type&&n.test(e.selector))return r(e,t)}):this.walk(function(e,t){if("rule"===e.type&&e.selector===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("rule"===e.type)return r(e,t)}))},e.prototype.walkAtRules=function(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("atrule"===e.type&&n.test(e.name))return r(e,t)}):this.walk(function(e,t){if("atrule"===e.type&&e.name===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("atrule"===e.type)return r(e,t)}))},e.prototype.walkComments=function(n){return this.walk(function(e,t){if("comment"===e.type)return n(e,t)})},e.prototype.append=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,u=this.normalize(s,this.last),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}var d=f;this.nodes.push(d)}}return this},e.prototype.prepend=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t=t.reverse(),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,u=this.normalize(s,this.first,"prepend").reverse(),c=u,l=Array.isArray(c),f=0;for(c=l?c:c[Symbol.iterator]();;){var d;if(l){if(f>=c.length)break;d=c[f++]}else{if((f=c.next()).done)break;d=f.value}var h=d;this.nodes.unshift(h)}for(var p in this.indexes)this.indexes[p]=this.indexes[p]+u.length}return this},e.prototype.cleanRaws=function(e){if(i.prototype.cleanRaws.call(this,e),this.nodes){var t=this.nodes,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}o.cleanRaws(e)}}},e.prototype.insertBefore=function(e,t){var n=0===(e=this.index(e))&&"prepend",r=this.normalize(t,this.nodes[e],n).reverse(),o=r,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var u=s;this.nodes.splice(e,0,u)}var c=void 0;for(var l in this.indexes)e<=(c=this.indexes[l])&&(this.indexes[l]=c+r.length);return this},e.prototype.insertAfter=function(e,t){e=this.index(e);var n=this.normalize(t,this.nodes[e]).reverse(),r=n,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this.nodes.splice(e+1,0,s)}var u=void 0;for(var c in this.indexes)e<(u=this.indexes[c])&&(this.indexes[c]=u+n.length);return this},e.prototype.removeChild=function(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var n in this.indexes)e<=(t=this.indexes[n])&&(this.indexes[n]=t-1);return this},e.prototype.removeAll=function(){var e=this.nodes,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.parent=void 0}return this.nodes=[],this},e.prototype.replaceValues=function(t,n,r){return r||(r=n,n={}),this.walkDecls(function(e){n.props&&-1===n.props.indexOf(e.prop)||n.fast&&-1===e.value.indexOf(n.fast)||(e.value=e.value.replace(t,r))}),this},e.prototype.every=function(e){return this.nodes.every(e)},e.prototype.some=function(e){return this.nodes.some(e)},e.prototype.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},e.prototype.normalize=function(e,t){var n=this;if("string"==typeof e)e=function t(e){return e.map(function(e){return e.nodes&&(e.nodes=t(e.nodes)),delete e.source,e})}(h(32)(e).nodes);else if(Array.isArray(e)){var r=e=e.slice(0),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;s.parent&&s.parent.removeChild(s,"ignore")}}else if("root"===e.type){var u=e=e.nodes.slice(0),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}var d=f;d.parent&&d.parent.removeChild(d,"ignore")}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new p.default(e)]}else if(e.selector){e=[new(h(16))(e)]}else if(e.name){e=[new(h(15))(e)]}else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new m.default(e)]}return e.map(function(e){return"function"!=typeof e.before&&(e=n.rebuild(e)),e.parent&&e.parent.removeChild(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/[^\s]/g,"")),e.parent=n,e})},e.prototype.rebuild=function(e,t){var n=this,r=void 0;if("root"===e.type){var o=h(35);r=new o}else if("atrule"===e.type){var i=h(15);r=new i}else if("rule"===e.type){var a=h(16);r=new a}else"decl"===e.type?r=new p.default:"comment"===e.type&&(r=new m.default);for(var s in e)"nodes"===s?r.nodes=e.nodes.map(function(e){return n.rebuild(e,r)}):"parent"===s&&t?r.parent=t:e.hasOwnProperty(s)&&(r[s]=e[s]);return r},n(e,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),e}(r(h(29)).default);t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(34);var i=function(u){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e));return t.type="root",t.nodes||(t.nodes=[]),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,u),n.prototype.removeChild=function(e,t){var n=this.index(e);return!t&&0===n&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[n].raws.before),u.prototype.removeChild.call(this,e)},n.prototype.normalize=function(e,t,n){var r=u.prototype.normalize.call(this,e);if(t)if("prepend"===n)1<this.nodes.length?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t){var o=r,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}s.raws.before=t.raws.before}}return r},n.prototype.toResult=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new(r(73))(new(r(72)),this,e).stringify()},n}(((n=o)&&n.__esModule?n:{default:n}).default);t.default=i,e.exports=t.default},function(e,t,n){var r,o;o=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t){var n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"------------------------------------------------------------------------------------------------------------------------------------------]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t,n){var I=n(3).mergeOpts,F=n(0),j=n(4).Output,z=n(7).Tokenizer;function H(e,t){if(!t.multiline_frame&&t.mode!==K.ForInitializer&&t.mode!==K.Conditional){var n=t.start_line_index;e.remove_indent(n)}}function q(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}var U=["before-newline","after-newline","preserve-newline"],W=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(U),V=[W.before_newline,W.preserve_newline],K={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};e.exports.Beautifier=function(e,t){"use strict";var l,n,f,d,h,i,r,p,a,o,s,u,m,c=[],g="";function v(e,t){var n=0;return e&&(n=e.indentation_level,!l.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:l.get_line_number(),ternary_depth:0}}u={TK_START_EXPR:function(){L()||w(d);var e=K.Expression;if("["===d.text){if("TK_WORD"===h||")"===p.last_text)return"TK_RESERVED"===h&&q(p.last_text,f.line_starters)&&(l.space_before_token=!0),A(e),E(),T(),void(m.space_in_paren&&(l.space_before_token=!0));e=K.ArrayLiteral,R(p.mode)&&("["!==p.last_text&&(","!==p.last_text||"]"!==i&&"}"!==i)||m.keep_array_indentation||k())}else"TK_RESERVED"===h&&"for"===p.last_text?e=K.ForInitializer:"TK_RESERVED"===h&&q(p.last_text,["if","while"])&&(e=K.Conditional);";"===p.last_text||"TK_START_BLOCK"===h?k():"TK_END_EXPR"===h||"TK_START_EXPR"===h||"TK_END_BLOCK"===h||"."===p.last_text?C(d.wanted_newline):"TK_RESERVED"===h&&"("===d.text||"TK_WORD"===h||"TK_OPERATOR"===h?"TK_RESERVED"===h&&("function"===p.last_word||"typeof"===p.last_word)||"*"===p.last_text&&(q(i,["function","yield"])||p.mode===K.ObjectLiteral&&q(i,["{",","]))?m.space_after_anon_function&&(l.space_before_token=!0):"TK_RESERVED"!==h||!q(p.last_text,f.line_starters)&&"catch"!==p.last_text||m.space_before_conditional&&(l.space_before_token=!0):l.space_before_token=!0,"("===d.text&&"TK_RESERVED"===h&&q(p.last_word,["await","async"])&&(l.space_before_token=!0),"("===d.text&&("TK_EQUALS"!==h&&"TK_OPERATOR"!==h||D()||C()),"("===d.text&&"TK_WORD"!==h&&"TK_RESERVED"!==h&&C(),A(e),E(),m.space_in_paren&&(l.space_before_token=!0),T()},TK_END_EXPR:function(){for(;p.mode===K.Statement;)O();w(d),p.multiline_frame&&C("]"===d.text&&R(p.mode)&&!m.keep_array_indentation),m.space_in_paren&&("TK_START_EXPR"!==h||m.space_in_empty_paren?l.space_before_token=!0:(l.trim(),l.space_before_token=!1)),"]"===d.text&&m.keep_array_indentation?(E(),O()):(O(),E()),H(l,a),p.do_while&&a.mode===K.Conditional&&(a.mode=K.Expression,p.do_block=!1,p.do_while=!1)},TK_START_BLOCK:function(){w(d);var e=P(1),t=P(2);t&&(q(t.text,[":",","])&&q(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||q(e.text,["get","set","..."])&&q(t.type,["TK_WORD","TK_RESERVED"]))?q(i,["class","interface"])?A(K.BlockStatement):A(K.ObjectLiteral):"TK_OPERATOR"===h&&"=>"===p.last_text?A(K.BlockStatement):q(h,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===h&&q(p.last_text,["return","throw","import","default"])?A(K.ObjectLiteral):A(K.BlockStatement);var n=!e.comments_before.length&&"}"===e.text&&"function"===p.last_word&&"TK_END_EXPR"===h;if(m.brace_preserve_inline){var r=0,o=null;p.inline_frame=!0;do{if((o=P(r+=1)).wanted_newline){p.inline_frame=!1;break}}while("TK_EOF"!==o.type&&("TK_END_BLOCK"!==o.type||o.opened!==d))}("expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline)&&!p.inline_frame?"TK_OPERATOR"!==h&&(n||"TK_EQUALS"===h||"TK_RESERVED"===h&&B(p.last_text)&&"else"!==p.last_text)?l.space_before_token=!0:k(!1,!0):(!R(a.mode)||"TK_START_EXPR"!==h&&"TK_COMMA"!==h||(("TK_COMMA"===h||m.space_in_paren)&&(l.space_before_token=!0),("TK_COMMA"===h||"TK_START_EXPR"===h&&p.inline_frame)&&(C(),a.multiline_frame=a.multiline_frame||p.multiline_frame,p.multiline_frame=!1)),"TK_OPERATOR"!==h&&"TK_START_EXPR"!==h&&("TK_START_BLOCK"!==h||p.inline_frame?l.space_before_token=!0:k())),E(),T()},TK_END_BLOCK:function(){for(w(d);p.mode===K.Statement;)O();var e="TK_START_BLOCK"===h;p.inline_frame&&!e?l.space_before_token=!0:"expand"===m.brace_style?e||k():e||(R(p.mode)&&m.keep_array_indentation?(m.keep_array_indentation=!1,k(),m.keep_array_indentation=!0):k()),O(),E()},TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:function(){L()?l.space_before_token=!1:w(d);for(var e=P(1);!(p.mode!==K.Statement||p.if_block&&e&&"TK_RESERVED"===e.type&&"else"===e.text||p.do_block);)O();p.import_block&&(p.import_block=!1),E()},TK_STRING:function(){L()?l.space_before_token=!0:(w(d),"TK_RESERVED"===h||"TK_WORD"===h||p.inline_frame?l.space_before_token=!0:"TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h?D()||C():k()),E()},TK_EQUALS:function(){L()||w(d),p.declaration_statement&&(p.declaration_assignment=!0),l.space_before_token=!0,E(),l.space_before_token=!0},TK_OPERATOR:function(){var e="*"===d.text&&("TK_RESERVED"===h&&q(p.last_text,["function","yield"])||q(h,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),t=q(d.text,["-","+"])&&(q(h,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||q(p.last_text,f.line_starters)||","===p.last_text);if(L());else{var n=!e;w(d,n)}if("TK_RESERVED"===h&&B(p.last_text))return l.space_before_token=!0,void E();if("*"!==d.text||"TK_DOT"!==h)if("::"!==d.text){if("TK_OPERATOR"===h&&q(m.operator_position,V)&&C(),":"===d.text&&p.in_case)return p.case_body=!0,T(),E(),k(),void(p.in_case=!1);var r=!0,o=!0,i=!1;if(":"===d.text?0===p.ternary_depth?r=!1:(p.ternary_depth-=1,i=!0):"?"===d.text&&(p.ternary_depth+=1),!t&&!e&&m.preserve_newlines&&q(d.text,f.positionable_operators)){var a=":"===d.text,s=a&&i,u=a&&!i;switch(m.operator_position){case W.before_newline:return l.space_before_token=!u,E(),a&&!s||C(),void(l.space_before_token=!0);case W.after_newline:return l.space_before_token=!0,!a||s?P(1).wanted_newline?k(!1,!0):C():l.space_before_token=!1,E(),void(l.space_before_token=!0);case W.preserve_newline:return u||C(),r=!(l.just_added_newline()||u),l.space_before_token=r,E(),void(l.space_before_token=!0)}}if(e){C(),r=!1;var c=P(1);o=c&&q(c.type,["TK_WORD","TK_RESERVED"])}else"..."===d.text?(C(),r="TK_START_BLOCK"===h,o=!1):(q(d.text,["--","++","!","~"])||t)&&(o=r=!1,!d.wanted_newline||"--"!==d.text&&"++"!==d.text||k(!1,!0),";"===p.last_text&&N(p.mode)&&(r=!0),"TK_RESERVED"===h?r=!0:"TK_END_EXPR"===h?r=!("]"===p.last_text&&("--"===d.text||"++"===d.text)):"TK_OPERATOR"===h&&(r=q(d.text,["--","-","++","+"])&&q(p.last_text,["--","-","++","+"]),q(d.text,["+","-"])&&q(p.last_text,["--","++"])&&(o=!0)),(p.mode!==K.BlockStatement||p.inline_frame)&&p.mode!==K.Statement||"{"!==p.last_text&&";"!==p.last_text||k());l.space_before_token=l.space_before_token||r,E(),l.space_before_token=o}else E();else E()},TK_COMMA:function(){w(d,!0),E(),l.space_before_token=!0,p.declaration_statement?(N(p.parent.mode)&&(p.declaration_assignment=!1),p.declaration_assignment?k(p.declaration_assignment=!1,!0):m.comma_first&&C()):p.mode===K.ObjectLiteral||p.mode===K.Statement&&p.parent.mode===K.ObjectLiteral?(p.mode===K.Statement&&O(),p.inline_frame||k()):m.comma_first&&C()},TK_BLOCK_COMMENT:function(e){if(l.raw)return l.add_raw_token(d),void(d.directives&&"end"===d.directives.preserve&&(l.raw=m.test_output_raw));if(d.directives)return k(!1,e),E(),"start"===d.directives.preserve&&(l.raw=!0),void k(!1,!0);if(!F.newline.test(d.text)&&!d.wanted_newline)return l.space_before_token=!0,E(),void(l.space_before_token=!0);var t,n=function(e){e=e.replace(F.allLineBreaks,"\n");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}(d.text),r=!1,o=!1,i=d.whitespace_before,a=i.length;for(k(!1,e),1<n.length&&(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].replace(/^\s+|\s+$/g,"");if(r.charAt(0)!==t)return!1}return!0}(n.slice(1),"*"),o=function(e,t){for(var n,r=0,o=e.length;r<o;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(n.slice(1),i)),E(n[0]),t=1;t<n.length;t++)k(!1,!0),r?E(" "+n[t].replace(/^\s+/g,"")):o&&n[t].length>a?E(n[t].substring(a)):l.add_token(n[t]);k(!1,e)},TK_COMMENT:function(e){d.wanted_newline?k(!1,e):l.trim(!0),l.space_before_token=!0,E(),k(!1,e)},TK_DOT:function(){L()||w(d,!0),"TK_RESERVED"===h&&B(p.last_text)?l.space_before_token=!0:C(")"===p.last_text&&m.break_chained_methods),E()},TK_UNKNOWN:function(e){E(),"\n"===d.text[d.text.length-1]&&k(!1,e)},TK_EOF:function(){for(;p.mode===K.Statement;)O();w(d)}},t=I(t=t||{},"js"),m={},"expand-strict"===t.brace_style?t.brace_style="expand":"collapse-preserve-inline"===t.brace_style?t.brace_style="collapse,preserve-inline":void 0!==t.braces_on_own_line?t.brace_style=t.braces_on_own_line?"expand":"collapse":t.brace_style||(t.brace_style="collapse");var b=t.brace_style.split(/[^a-zA-Z0-9_\-]+/);m.brace_preserve_inline=!1,m.brace_style="collapse";for(var y=0;y<b.length;y++)"preserve-inline"===b[y]?m.brace_preserve_inline=!0:m.brace_style=b[y];for(m.indent_size=t.indent_size?parseInt(t.indent_size,10):4,m.indent_char=t.indent_char?t.indent_char:" ",m.eol=t.eol?t.eol:"auto",m.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,m.unindent_chained_methods=void 0!==t.unindent_chained_methods&&t.unindent_chained_methods,m.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,m.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),m.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,m.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,m.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,m.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,m.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,m.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,m.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,m.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),m.e4x=void 0!==t.e4x&&t.e4x,m.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,m.comma_first=void 0!==t.comma_first&&t.comma_first,m.operator_position=function(e){if(!q(e=e||W.before_newline,U))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+U+"\nYou passed in: '"+e+"'");return e}(t.operator_position),m.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,m.jslint_happy&&(m.space_after_anon_function=!0),t.indent_with_tabs&&(m.indent_char="\t",m.indent_size=1),"auto"===m.eol&&(m.eol="\n",e&&F.lineBreak.test(e||"")&&(m.eol=e.match(F.lineBreak)[0])),m.eol=m.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),r="";0<m.indent_size;)r+=m.indent_char,m.indent_size-=1;var _=0;if(e&&e.length){for(;" "===e.charAt(_)||"\t"===e.charAt(_);)_+=1;g=e.substring(0,_),e=e.substring(_)}function w(e,t){for(var n=e.newlines,r=m.keep_array_indentation&&R(p.mode),o=d,i=0;i<e.comments_before.length;i++)w(d=e.comments_before[i],t),u[d.type](t);if(d=o,r)for(var a=0;a<n;a+=1)k(0<a,t);else if(m.max_preserve_newlines&&n>m.max_preserve_newlines&&(n=m.max_preserve_newlines),m.preserve_newlines&&1<e.newlines){k(!1,t);for(var s=1;s<n;s+=1)k(!0,t)}}h="TK_START_BLOCK",i="",(l=new j(r,g)).raw=m.test_output_raw,o=[],A(K.BlockStatement),this.beautify=function(){for(f=new z(e,m,r),c=f.tokenize(),n=0,d=P();d;)u[d.type](),i=p.last_text,h=d.type,p.last_text=d.text,n+=1,d=P();return l.get_code(m.end_with_newline,m.eol)};var x=["break","continue","return","throw","yield"];function C(e){if(e=void 0!==e&&e,!l.just_added_newline()){var t=m.preserve_newlines&&d.wanted_newline||e;if(q(p.last_text,f.positionable_operators)||q(d.text,f.positionable_operators)){var n=q(p.last_text,f.positionable_operators)&&q(m.operator_position,V)||q(d.text,f.positionable_operators);t=t&&n}if(t)k(!1,!0);else if(m.wrap_line_length){if("TK_RESERVED"===h&&q(p.last_text,x))return;l.current_line.get_character_count()+d.text.length+(l.space_before_token?1:0)>=m.wrap_line_length&&k(!1,!0)}}}function k(e,t){if(!t&&";"!==p.last_text&&","!==p.last_text&&"="!==p.last_text&&"TK_OPERATOR"!==h)for(var n=P(1);!(p.mode!==K.Statement||p.if_block&&n&&"TK_RESERVED"===n.type&&"else"===n.text||p.do_block);)O();l.add_new_line(e)&&(p.multiline_frame=!0)}function S(){l.just_added_newline()&&(m.keep_array_indentation&&R(p.mode)&&d.wanted_newline?(l.current_line.push(d.whitespace_before),l.space_before_token=!1):l.set_indent(p.indentation_level)&&(p.line_indent_level=p.indentation_level))}function E(e){if(l.raw)l.add_raw_token(d);else{if(m.comma_first&&"TK_COMMA"===h&&l.just_added_newline()&&","===l.previous_line.last()){var t=l.previous_line.pop();l.previous_line.is_empty()&&(l.previous_line.push(t),l.trim(!0),l.current_line.pop(),l.trim()),S(),l.add_token(","),l.space_before_token=!0}e=e||d.text,S(),l.add_token(e)}}function T(){p.indentation_level+=1}function A(e){p?(o.push(p),a=p):a=v(null,e),p=v(a,e)}function R(e){return e===K.ArrayLiteral}function N(e){return q(e,[K.Expression,K.ForInitializer,K.Conditional])}function O(){0<o.length&&(a=p,p=o.pop(),a.mode!==K.Statement||m.unindent_chained_methods||H(l,a))}function D(){return p.parent.mode===K.ObjectLiteral&&p.mode===K.Statement&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===h&&q(p.last_text,["get","set"]))}function L(){return!!("TK_RESERVED"===h&&q(p.last_text,["var","let","const"])&&"TK_WORD"===d.type||"TK_RESERVED"===h&&"do"===p.last_text||"TK_RESERVED"===h&&q(p.last_text,x)&&!d.wanted_newline||"TK_RESERVED"===h&&"else"===p.last_text&&("TK_RESERVED"!==d.type||"if"!==d.text||d.comments_before.length)||"TK_END_EXPR"===h&&(a.mode===K.ForInitializer||a.mode===K.Conditional)||"TK_WORD"===h&&p.mode===K.BlockStatement&&!p.in_case&&"--"!==d.text&&"++"!==d.text&&"function"!==i&&"TK_WORD"!==d.type&&"TK_RESERVED"!==d.type||p.mode===K.ObjectLiteral&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===h&&q(p.last_text,["get","set"])))&&(A(K.Statement),m.unindent_chained_methods||T(),w(d,!0),D()||C("TK_RESERVED"===d.type&&q(d.text,["do","for","if","while"])),!0)}function B(e){return q(e,["case","return","do","if","throw","else"])}function P(e){var t=n+(e||0);return t<0||t>=c.length?null:c[t]}function M(){if("TK_RESERVED"===d.type&&(q(d.text,["set","get"])&&p.mode!==K.ObjectLiteral?d.type="TK_WORD":q(d.text,["as","from"])&&!p.import_block?d.type="TK_WORD":p.mode===K.ObjectLiteral&&":"===P(1).text&&(d.type="TK_WORD")),L()?"TK_RESERVED"===h&&q(p.last_text,["var","let","const"])&&"TK_WORD"===d.type&&(p.declaration_statement=!0):!d.wanted_newline||N(p.mode)||"TK_OPERATOR"===h&&"--"!==p.last_text&&"++"!==p.last_text||"TK_EQUALS"===h||!m.preserve_newlines&&"TK_RESERVED"===h&&q(p.last_text,["var","let","const","set","get"])?w(d):(w(d),k()),p.do_block&&!p.do_while){if("TK_RESERVED"===d.type&&"while"===d.text)return l.space_before_token=!0,E(),l.space_before_token=!0,void(p.do_while=!0);k(),p.do_block=!1}if(p.if_block)if(p.else_block||"TK_RESERVED"!==d.type||"else"!==d.text){for(;p.mode===K.Statement;)O();p.if_block=!1,p.else_block=!1}else p.else_block=!0;return"TK_RESERVED"===d.type&&("case"===d.text||"default"===d.text&&p.in_case_statement)?(k(),(p.case_body||m.jslint_happy)&&(0<p.indentation_level&&(!p.parent||p.indentation_level>p.parent.indentation_level)&&(p.indentation_level-=1),p.case_body=!1),E(),p.in_case=!0,void(p.in_case_statement=!0)):("TK_COMMA"!==h&&"TK_START_EXPR"!==h&&"TK_EQUALS"!==h&&"TK_OPERATOR"!==h||D()||C(),"TK_RESERVED"===d.type&&"function"===d.text?((q(p.last_text,["}",";"])||l.just_added_newline()&&!q(p.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==h)&&(l.just_added_blankline()||d.comments_before.length||(k(),k(!0))),"TK_RESERVED"===h||"TK_WORD"===h?"TK_RESERVED"===h&&(q(p.last_text,["get","set","new","export","async"])||q(p.last_text,x))?l.space_before_token=!0:"TK_RESERVED"===h&&"default"===p.last_text&&"export"===i?l.space_before_token=!0:k():"TK_OPERATOR"===h||"="===p.last_text?l.space_before_token=!0:(p.multiline_frame||!N(p.mode)&&!R(p.mode))&&k(),E(),void(p.last_word=d.text)):(s="NONE","TK_END_BLOCK"===h?a.inline_frame?s="SPACE":"TK_RESERVED"===d.type&&q(d.text,["else","catch","finally","from"])?"expand"===m.brace_style||"end-expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline?s="NEWLINE":(s="SPACE",l.space_before_token=!0):s="NEWLINE":"TK_SEMICOLON"===h&&p.mode===K.BlockStatement?s="NEWLINE":"TK_SEMICOLON"===h&&N(p.mode)?s="SPACE":"TK_STRING"===h?s="NEWLINE":"TK_RESERVED"===h||"TK_WORD"===h||"*"===p.last_text&&(q(i,["function","yield"])||p.mode===K.ObjectLiteral&&q(i,["{",","]))?s="SPACE":"TK_START_BLOCK"===h?s=p.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===h&&(l.space_before_token=!0,s="NEWLINE"),"TK_RESERVED"===d.type&&q(d.text,f.line_starters)&&")"!==p.last_text&&(s=p.inline_frame||"else"===p.last_text||"export"===p.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===d.type&&q(d.text,["else","catch","finally"])?("TK_END_BLOCK"!==h||a.mode!==K.BlockStatement||"expand"===m.brace_style||"end-expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline)&&!p.inline_frame?k():(l.trim(!0),"}"!==l.current_line.last()&&k(),l.space_before_token=!0):"NEWLINE"===s?"TK_RESERVED"===h&&B(p.last_text)?l.space_before_token=!0:"TK_END_EXPR"!==h?"TK_START_EXPR"===h&&"TK_RESERVED"===d.type&&q(d.text,["var","let","const"])||":"===p.last_text||("TK_RESERVED"===d.type&&"if"===d.text&&"else"===p.last_text?l.space_before_token=!0:k()):"TK_RESERVED"===d.type&&q(d.text,f.line_starters)&&")"!==p.last_text&&k():p.multiline_frame&&R(p.mode)&&","===p.last_text&&"}"===i?k():"SPACE"===s&&(l.space_before_token=!0),E(),p.last_word=d.text,void("TK_RESERVED"===d.type&&("do"===d.text?p.do_block=!0:"if"===d.text?p.if_block=!0:"import"===d.text?p.import_block=!0:p.import_block&&"TK_RESERVED"===d.type&&"from"===d.text&&(p.import_block=!1)))))}}},function(e,t){e.exports.InputScanner=function(e){var n=e,r=n.length,o=0;this.back=function(){o-=1},this.hasNext=function(){return o<r},this.next=function(){var e=null;return this.hasNext()&&(e=n.charAt(o),o+=1),e},this.peek=function(e){var t=null;return e=e||0,0<=(e+=o)&&e<r&&(t=n.charAt(e)),t},this.peekCharCode=function(e){var t=0;return e=e||0,0<=(e+=o)&&e<r&&(t=n.charCodeAt(e)),t},this.test=function(e,t){return t=t||0,e.lastIndex=o+t,e.test(n)},this.testChar=function(e,t){var n=this.peek(t);return null!==n&&e.test(n)},this.match=function(e){e.lastIndex=o;var t=e.exec(n);return t&&t.index===o?o+=t[0].length:t=null,t}}},function(e,t){e.exports.mergeOpts=function(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t){e.exports.Output=function(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var r=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(t){var n=0,r=-1,o=[],i=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,r=e},this.get_character_count=function(){return n},this.is_empty=function(){return i},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),n+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=o.pop(),n-=e.length,i=0===o.length),e},this.remove_indent=function(){0<r&&(r-=1,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)o.pop(),n-=1;i=0===o.length},this.toString=function(){var e="";return this._empty||(0<=r&&(e=t.indent_cache[r]),e+=o.join("")),e}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(1<r.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim(t,n);e&&1<r.length&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=1<r.length?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t){e.exports.Token=function(e,t,n,r,o){this.type=e,this.text=t,this.comments_before=[],this.comments_after=[],this.newlines=n||0,this.wanted_newline=0<n,this.whitespace_before=r||"",this.parent=o||null,this.opened=null,this.directives=null}},function(e,t,n){var r=n(1).Beautifier;e.exports=function(e,t){return new r(e,t).beautify()}},function(e,t,n){var V=n(2).InputScanner,K=n(5).Token,$=n(0);function G(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}e.exports.Tokenizer=function(a,E){var T="\n\r\t ".split(""),A=/[0-9]/,R=/[01]/,N=/[01234567]/,O=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var D=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var L,B,P,M,I,F=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),j=/([\s\S]*?)((?:\*\/)|$)/g,z=/([^\n\r\u2028\u2029]*)/g,H=/\/\* beautify( \w+[:]\w+)+ \*\//g,q=/ (\w+)[:](\w+)/g,U=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,W=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function s(){var o,e=[];L=0,B="";var t,n=I.next();if(null===n)return["","TK_EOF"];for(t=M.length?M[M.length-1]:new K("TK_START_BLOCK","{");G(n,T);)if($.newline.test(n)?"\n"===n&&"\r"===I.peek(-2)||(L+=1,e=[]):e.push(n),null===(n=I.next()))return["","TK_EOF"];if(e.length&&(B=e.join("")),A.test(n)||"."===n&&I.testChar(A)){var r=!0,i=!0,a=A;for("0"===n&&I.testChar(/[XxOoBb]/)?(i=r=!1,a=I.testChar(/[Bb]/)?R:I.testChar(/[Oo]/)?N:O,n+=I.next()):"."===n?r=!1:(n="",I.back());I.testChar(a);)n+=I.next(),r&&"."===I.peek()&&(n+=I.next(),r=!1),i&&I.testChar(/[Ee]/)&&(n+=I.next(),I.testChar(/[+-]/)&&(n+=I.next()),r=i=!1);return[n,"TK_WORD"]}if($.isIdentifierStart(I.peekCharCode(-1))){if(I.hasNext())for(;$.isIdentifierChar(I.peekCharCode())&&(n+=I.next(),I.hasNext()););return"TK_DOT"===t.type||"TK_RESERVED"===t.type&&G(t.text,["set","get"])||!G(n,F)?[n,"TK_WORD"]:"in"===n||"of"===n?[n,"TK_OPERATOR"]:[n,"TK_RESERVED"]}if("("===n||"["===n)return[n,"TK_START_EXPR"];if(")"===n||"]"===n)return[n,"TK_END_EXPR"];if("{"===n)return[n,"TK_START_BLOCK"];if("}"===n)return[n,"TK_END_BLOCK"];if(";"===n)return[n,"TK_SEMICOLON"];if("/"===n){var s="";if("*"===I.peek()){I.next();var u=function(e){if(!e.match(H))return null;var t={};q.lastIndex=0;for(var n=q.exec(e);n;)t[n[1]]=n[2],n=q.exec(e);return t}(s="/*"+I.match(j)[0]);return u&&"start"===u.ignore&&(s+=I.match(U)[0]),[s=s.replace($.allLineBreaks,"\n"),"TK_BLOCK_COMMENT",u]}if("/"===I.peek())return I.next(),[s="//"+I.match(z)[0],"TK_COMMENT"]}var c,l=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===n||"'"===n||'"'===n||("/"===n||E.e4x&&"<"===n&&I.test(l,-1))&&("TK_RESERVED"===t.type&&G(t.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===t.type&&")"===t.text&&t.parent&&"TK_RESERVED"===t.parent.type&&G(t.parent.text,["if","while","for"])||G(t.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var f=n,d=!1,h=!1;if(o=n,"/"===f)for(var p=!1;I.hasNext()&&(d||p||I.peek()!==f)&&!I.testChar($.newline);)o+=I.peek(),d?d=!1:(d="\\"===I.peek(),"["===I.peek()?p=!0:"]"===I.peek()&&(p=!1)),I.next();else if(E.e4x&&"<"===f){var m=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;I.back();var g="",v=I.match(l);if(v){for(var b=v[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),y=0===b.indexOf("{"),_=0;v;){var w=!!v[1],x=v[2];if(!(v[v.length-1]||"![CDATA["===x.slice(0,8))&&(x===b||y&&x.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(w?--_:++_),g+=v[0],_<=0)break;v=I.match(m)}return v||(g+=I.match(/[\s\S]*/g)[0]),[g=g.replace($.allLineBreaks,"\n"),"TK_STRING"]}}else{var C=function(e,t,n){for(var r;I.hasNext()&&(r=I.peek(),d||r!==e&&(t||!$.newline.test(r)));)(d||t)&&$.newline.test(r)?("\r"===r&&"\n"===I.peek(1)&&(I.next(),r=I.peek()),o+="\n"):o+=r,d?("x"!==r&&"u"!==r||(h=!0),d=!1):d="\\"===r,I.next(),n&&-1!==o.indexOf(n,o.length-n.length)&&("`"===e?C("}",t,"`"):C("`",t,"${"),I.hasNext()&&(o+=I.next()))};"`"===f?C("`",!0,"${"):C(f)}if(h&&E.unescape_strings&&(o=function(e){for(var t="",n=0,r=new V(e),o=null;r.hasNext();)if((o=r.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===r.peek()){if(r.next(),"x"===r.peek())o=r.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==r.peek()){t+="\\",r.hasNext()&&(t+=r.next());continue}o=r.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if(126<(n=parseInt(o[1],16))&&n<=255&&0===o[0].indexOf("x"))return e;if(0<=n&&n<32){t+="\\"+o[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(o)),I.peek()===f&&(o+=f,I.next(),"/"===f))for(;I.hasNext()&&$.isIdentifierStart(I.peekCharCode());)o+=I.next();return[o,"TK_STRING"]}if("#"===n){if(0===M.length&&"!"===I.peek()){for(o=n;I.hasNext()&&"\n"!==n;)n=I.next(),o+=n;return[(c=o,c.replace(/^\s+|\s+$/g,"")+"\n"),"TK_UNKNOWN"]}var k="#";if(I.hasNext()&&I.testChar(A)){for(;k+=n=I.next(),I.hasNext()&&"#"!==n&&"="!==n;);return"#"===n||("["===I.peek()&&"]"===I.peek(1)?(k+="[]",I.next(),I.next()):"{"===I.peek()&&"}"===I.peek(1)&&(k+="{}",I.next(),I.next())),[k,"TK_WORD"]}}if("<"===n&&("?"===I.peek()||"%"===I.peek())){I.back();var S=I.match(W);if(S)return[n=(n=S[0]).replace($.allLineBreaks,"\n"),"TK_STRING"]}if("<"===n&&I.match(/\!--/g)){for(n="\x3c!--";I.hasNext()&&!I.testChar($.newline);)n+=I.next();return P=!0,[n,"TK_COMMENT"]}if("-"===n&&P&&I.match(/->/g))return P=!1,["--\x3e","TK_COMMENT"];if("."===n)return"."===I.peek()&&"."===I.peek(1)?[n+=I.next()+I.next(),"TK_OPERATOR"]:[n,"TK_DOT"];if(G(n,D)){for(;I.hasNext()&&G(n+I.peek(),D)&&(n+=I.next(),I.hasNext()););return","===n?[n,"TK_COMMA"]:"="===n?[n,"TK_EQUALS"]:[n,"TK_OPERATOR"]}return[n,"TK_UNKNOWN"]}this.tokenize=function(){var e,t,n;I=new V(a),P=!1,M=[];for(var r=null,o=[],i=[];!t||"TK_EOF"!==t.type;){for(n=s(),e=new K(n[1],n[0],L,B);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),i.push(e),n=s(),e=new K(n[1],n[0],L,B);i.length&&(e.comments_before=i,i=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,o.push(r),r=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&r&&("]"===e.text&&"["===r.text||")"===e.text&&"("===r.text||"}"===e.text&&"{"===r.text)&&(e.parent=r.parent,e.opened=r,r=o.pop()),M.push(e),t=e}return M}}}]),void 0===(r=function(){return{js_beautify:o}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,o;o=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(e,t,n){var a=n(2).mergeOpts,r=n(1),I=n(3).Output,s=r.lineBreak,u=r.allLineBreaks;e.exports.Beautifier=function(r,e){e=a(e=e||{},"css"),r=r||"";var d=0,t=e.indent_size?parseInt(e.indent_size,10):4,n=e.indent_char||" ",o=void 0!==e.preserve_newlines&&e.preserve_newlines,h=void 0===e.selector_separator_newline||e.selector_separator_newline,p=void 0!==e.end_with_newline&&e.end_with_newline,m=void 0===e.newline_between_rules||e.newline_between_rules,g=void 0!==e.space_around_combinator&&e.space_around_combinator;g=g||void 0!==e.space_around_selector_separator&&e.space_around_selector_separator;var v=e.eol?e.eol:"auto";e.indent_with_tabs&&(n="\t",t=1),"auto"===v&&(v="\n",r&&s.test(r||"")&&(v=r.match(s)[0])),v=v.replace(/\\r/,"\r").replace(/\\n/,"\n"),r=r.replace(u,"\n");var b,y=/^\s+$/,_=-1,w=0;function x(){return(b=r.charAt(++_))||""}function C(e){var t,n=_;return e&&S(),t=r.charAt(_+1)||"",_=n-1,x(),t}function k(e){for(var t=_;x();)if("\\"===b)x();else{if(-1!==e.indexOf(b))break;if("\n"===b)break}return r.substring(t,_+1)}function S(e){for(var t=0;y.test(C());)x(),"\n"===b&&e&&o&&(L.add_new_line(!0),t++);return d=t}function E(){var e="";for(b&&y.test(b)&&(e=b);y.test(x());)e+=b;return e}function T(){var e=_,t="/"===C();for(x();x();){if(!t&&"*"===b&&"/"===C()){x();break}if(t&&"\n"===b)return r.substring(e,_)}return r.substring(e,_)+b}function A(e){return r.substring(_-e.length,_).toLowerCase()===e}function R(){for(var e=0,t=_+1;t<r.length;t++){var n=r.charAt(t);if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1}return!1}var N="",i=0;if(r&&r.length){for(;" "===r.charAt(i)||"\t"===r.charAt(i);)i+=1;N=r.substring(0,i),r=r.substring(i)}var O,D,L,B=new Array(t+1).join(n);function P(e){L.just_added_newline()&&L.set_indent(O),L.add_token(e)}function M(e){e&&(L.space_before_token=!0)}this.beautify=function(){L=new I(B,N),_=-1,b=null,w=D=O=0;for(var e,t,n=!1,r=!1,o=!1,i="",a="";;){var s=E(),u=""!==s,c=-1!==s.indexOf("\n");if(a=i,!(i=b))break;if("/"===b&&"*"===C()){var l=0===O;(c||l)&&L.add_new_line(),P(T()),L.add_new_line(),l&&L.add_new_line(!0)}else if("/"===b&&"/"===C())c||"{"===a||L.trim(!0),L.space_before_token=!0,P(T()),L.add_new_line();else if("@"===b)if(M(u),"{"===C())P(k("}"));else{P(b);var f=(e=_,t=k(": ,;{}()[]/='\""),_=e-1,x(),t);f.match(/[ :]$/)&&(x(),P(f=k(": ").replace(/\s$/,"")),L.space_before_token=!0),(f=f.replace(/\s$/,""))in this.NESTED_AT_RULE&&(D+=1,f in this.CONDITIONAL_GROUP_RULE&&(o=!0))}else"#"===b&&"{"===C()?(M(u),P(k("}"))):"{"===b?"}"===C(!0)?(S(),x(),L.space_before_token=!0,P("{}"),S(!0)||L.add_new_line(),d<2&&m&&0===O&&L.add_new_line(!0)):(O++,L.space_before_token=!0,P(b),S(!0)||L.add_new_line(),o?(o=!1,n=D<O):n=D<=O):"}"===b?(0<O&&O--,L.add_new_line(),P(b),r=n=!1,D&&D--,S(!0)||L.add_new_line(),d<2&&m&&0===O&&L.add_new_line(!0)):":"===b?(S(),!n&&!o||A("&")||R()||A("(")?(A(" ")&&(L.space_before_token=!0),":"===C()?(x(),P("::")):P(":")):(P(":"),r||(r=!0,L.space_before_token=!0))):'"'===b||"'"===b?(M(u),P(k(b))):";"===b?(r=!1,P(b),S(!0)||L.add_new_line()):"("===b?A("url")?(P(b),S(),x()&&(")"!==b&&'"'!==b&&"'"!==b?P(k(")")):_--)):(w++,M(u),P(b),S()):")"===b?(P(b),w--):","===b?(P(b),!S(!0)&&h&&!r&&w<1?L.add_new_line():L.space_before_token=!0):(">"===b||"+"===b||"~"===b)&&!r&&w<1?g?(L.space_before_token=!0,P(b),L.space_before_token=!0):(P(b),S(),b&&y.test(b)&&(b="")):"]"===b?P(b):"["===b?(M(u),P(b)):"="===b?(S(),P("="),y.test(b)&&(b="")):("!"===b?P(" "):M(u),P(b))}return L.get_code(p,v)},this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}},function(e,t){var n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"------------------------------------------------------------------------------------------------------------------------------------------]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t){e.exports.Output=function(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var r=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function(t){var n=0,r=-1,o=[],i=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,r=e},this.get_character_count=function(){return n},this.is_empty=function(){return i},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),n+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=o.pop(),n-=e.length,i=0===o.length),e},this.remove_indent=function(){0<r&&(r-=1,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)o.pop(),n-=1;i=0===o.length},this.toString=function(){var e="";return this._empty||(0<=r&&(e=t.indent_cache[r]),e+=o.join("")),e}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(1<r.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim(t,n);e&&1<r.length&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=1<r.length?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t,n){var r=n(0).Beautifier;e.exports=function(e,t){return new r(e,t).beautify()}}]),void 0===(r=function(){return{css_beautify:o}}.apply(t,[]))||(e.exports=r)},,,,function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";e.exports.encode=n(83),e.exports.decode=n(84),e.exports.format=n(85),e.exports.parse=n(86)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,o,i,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(s),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:s,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,o,i,a=[],s=e.delimiters,u=e.delimiters.length;for(t=0;t<u;t++)126===(r=s[t]).marker&&-1!==r.end&&(o=s[r.end],(i=e.tokens[r.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=e.tokens[o.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;t!==--n&&(i=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=i)}}},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,o,i,a,s=e.delimiters;for(t=e.delimiters.length-1;0<=t;t--)95!==(n=s[t]).marker&&42!==n.marker||-1!==n.end&&(r=s[n.end],a=0<t&&s[t-1].end===n.end+1&&s[t-1].token===n.token-1&&s[n.end+1].token===r.token+1&&s[t-1].marker===n.marker,i=String.fromCharCode(n.marker),(o=e.tokens[n.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?i+i:i,o.content="",(o=e.tokens[r.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?i+i:i,o.content="",a&&(e.tokens[s[t-1].token].content="",e.tokens[s[n.end+1].token].content="",t--))}},function(e,O,D){(function(p,m){var g;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(e){"object"==typeof O&&O&&O.nodeType,"object"==typeof p&&p&&p.nodeType;var t="object"==typeof m&&m;t.global!==t&&t.window!==t&&t.self;var n,v=2147483647,b=36,y=1,_=26,o=38,i=700,w=72,x=128,C="-",r=/^xn--/,a=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=b-y,k=Math.floor,S=String.fromCharCode;function E(e){throw new RangeError(u[e])}function l(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function f(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+l((e=e.replace(s,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],o=0,i=e.length;o<i;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function A(e){return l(e,function(e){var t="";return 65535<e&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function R(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,n){var r=0;for(e=n?k(e/i):e>>1,e+=k(e/t);c*_>>1<e;r+=b)e=k(e/c);return k(r+(c+1)*e/(e+o))}function d(e){var t,n,r,o,i,a,s,u,c,l,f,d=[],h=e.length,p=0,m=x,g=w;for((n=e.lastIndexOf(C))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&E("not-basic"),d.push(e.charCodeAt(r));for(o=0<n?n+1:0;o<h;){for(i=p,a=1,s=b;h<=o&&E("invalid-input"),f=e.charCodeAt(o++),(b<=(u=f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:b)||u>k((v-p)/a))&&E("overflow"),p+=u*a,!(u<(c=s<=g?y:g+_<=s?_:s-g));s+=b)a>k(v/(l=b-c))&&E("overflow"),a*=l;g=N(p-i,t=d.length+1,0==i),k(p/t)>v-m&&E("overflow"),m+=k(p/t),p%=t,d.splice(p++,0,m)}return A(d)}function h(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g=[];for(d=(e=T(e)).length,t=x,i=w,a=n=0;a<d;++a)(f=e[a])<128&&g.push(S(f));for(r=o=g.length,o&&g.push(C);r<d;){for(s=v,a=0;a<d;++a)t<=(f=e[a])&&f<s&&(s=f);for(s-t>k((v-n)/(h=r+1))&&E("overflow"),n+=(s-t)*h,t=s,a=0;a<d;++a)if((f=e[a])<t&&++n>v&&E("overflow"),f==t){for(u=n,c=b;!(u<(l=c<=i?y:i+_<=c?_:c-i));c+=b)m=u-l,p=b-l,g.push(S(R(l+m%p,0))),u=k(m/p);g.push(S(R(u,0))),i=N(n,h,r==o),n=0,++r}++n,++t}return g.join("")}n={version:"1.4.1",ucs2:{decode:T,encode:A},decode:d,encode:h,toASCII:function(e){return f(e,function(e){return a.test(e)?"xn--"+h(e):e})},toUnicode:function(e){return f(e,function(e){return r.test(e)?d(e.slice(4).toLowerCase()):e})}},void 0===(g=function(){return n}.call(O,D,O,p))||(p.exports=g)}()}).call(this,D(23)(e),D(1))},function(e,o,i){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}o.setTimeout=function(){return new r(n.call(setTimeout,t,arguments),clearTimeout)},o.setInterval=function(){return new r(n.call(setInterval,t,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(t,this._id)},o.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},o.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},o._unrefActive=o.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(135),o.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,o.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(e,t,n){var r=n(52),o={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},i={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;function u(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(2)(u,n(12).EventEmitter),u.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},u.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},u.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in i)for(var t;(t=this._stack[this._stack.length-1])in i[e];this.onclosetag(t));!this._options.xmlMode&&e in a||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},u.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},u.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},u.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},u.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},u.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},u.prototype.onattribdata=function(e){this._attribvalue+=e},u.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},u.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},u.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},u.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},u.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},u.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},u.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},u.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;0<e;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},u.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},u.prototype.parseComplete=function(e){this.reset(),this.end(e)},u.prototype.write=function(e){this._tokenizer.write(e)},u.prototype.end=function(e){this._tokenizer.end(e)},u.prototype.pause=function(){this._tokenizer.pause()},u.prototype.resume=function(){this._tokenizer.resume()},u.prototype.parseChunk=u.prototype.write,u.prototype.done=u.prototype.end,e.exports=u},function(e,t,n){e.exports=be;var r,o,i=n(53),a=n(11),s=n(54),u=n(24),c=0,l=c++,f=c++,d=c++,h=c++,p=c++,m=c++,g=c++,v=c++,b=c++,y=c++,_=c++,w=c++,x=c++,C=c++,k=c++,S=c++,E=c++,T=c++,A=c++,R=c++,N=c++,O=c++,D=c++,L=c++,B=c++,P=c++,M=c++,I=c++,F=c++,j=c++,z=c++,H=c++,q=c++,U=c++,W=c++,V=c++,K=c++,$=c++,G=c++,Y=c++,X=c++,J=c++,Z=c++,Q=c++,ee=c++,te=c++,ne=c++,re=c++,oe=c++,ie=c++,ae=c++,se=c++,ue=c++,ce=c++,le=c++,fe=0,de=fe++,he=fe++,pe=fe++;function me(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ge(t,n,r){var o=t.toLowerCase();return t===o?function(e){e===o?this._state=n:(this._state=r,this._index--)}:function(e){e===o||e===t?this._state=n:(this._state=r,this._index--)}}function ve(t,n){var r=t.toLowerCase();return function(e){e===r||e===t?this._state=n:(this._state=d,this._index--)}}function be(e,t){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=de,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}be.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=f,this._sectionStart=this._index):this._decodeEntities&&this._special===de&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ae,this._sectionStart=this._index)},be.prototype._stateBeforeTagName=function(e){"/"===e?this._state=p:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==de||me(e)?this._state=l:"!"===e?(this._state=k,this._sectionStart=this._index+1):"?"===e?(this._state=E,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?d:z,this._sectionStart=this._index)},be.prototype._stateInTagName=function(e){("/"===e||">"===e||me(e))&&(this._emitToken("onopentagname"),this._state=v,this._index--)},be.prototype._stateBeforeCloseingTagName=function(e){me(e)||(">"===e?this._state=l:this._special!==de?"s"===e||"S"===e?this._state=H:(this._state=l,this._index--):(this._state=m,this._sectionStart=this._index))},be.prototype._stateInCloseingTagName=function(e){(">"===e||me(e))&&(this._emitToken("onclosetag"),this._state=g,this._index--)},be.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=l,this._sectionStart=this._index+1)},be.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===e?this._state=h:me(e)||(this._state=b,this._sectionStart=this._index)},be.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):me(e)||(this._state=v,this._index--)},be.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||me(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=y,this._index--)},be.prototype._stateAfterAttributeName=function(e){"="===e?this._state=_:"/"===e||">"===e?(this._cbs.onattribend(),this._state=v,this._index--):me(e)||(this._cbs.onattribend(),this._state=b,this._sectionStart=this._index)},be.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=w,this._sectionStart=this._index+1):"'"===e?(this._state=x,this._sectionStart=this._index+1):me(e)||(this._state=C,this._sectionStart=this._index,this._index--)},be.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},be.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},be.prototype._stateInAttributeValueNoQuotes=function(e){me(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},be.prototype._stateBeforeDeclaration=function(e){this._state="["===e?O:"-"===e?T:S},be.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},be.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},be.prototype._stateBeforeComment=function(e){"-"===e?(this._state=A,this._sectionStart=this._index+1):this._state=S},be.prototype._stateInComment=function(e){"-"===e&&(this._state=R)},be.prototype._stateAfterComment1=function(e){this._state="-"===e?N:A},be.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==e&&(this._state=A)},be.prototype._stateBeforeCdata1=ge("C",D,S),be.prototype._stateBeforeCdata2=ge("D",L,S),be.prototype._stateBeforeCdata3=ge("A",B,S),be.prototype._stateBeforeCdata4=ge("T",P,S),be.prototype._stateBeforeCdata5=ge("A",M,S),be.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=I,this._sectionStart=this._index+1):(this._state=S,this._index--)},be.prototype._stateInCdata=function(e){"]"===e&&(this._state=F)},be.prototype._stateAfterCdata1=(r="]",o=j,function(e){e===r&&(this._state=o)}),be.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==e&&(this._state=I)},be.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=q:"t"===e||"T"===e?this._state=Z:(this._state=d,this._index--)},be.prototype._stateBeforeSpecialEnd=function(e){this._special!==he||"c"!==e&&"C"!==e?this._special!==pe||"t"!==e&&"T"!==e?this._state=l:this._state=ne:this._state=$},be.prototype._stateBeforeScript1=ve("R",U),be.prototype._stateBeforeScript2=ve("I",W),be.prototype._stateBeforeScript3=ve("P",V),be.prototype._stateBeforeScript4=ve("T",K),be.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||me(e))&&(this._special=he),this._state=d,this._index--},be.prototype._stateAfterScript1=ge("R",G,l),be.prototype._stateAfterScript2=ge("I",Y,l),be.prototype._stateAfterScript3=ge("P",X,l),be.prototype._stateAfterScript4=ge("T",J,l),be.prototype._stateAfterScript5=function(e){">"===e||me(e)?(this._special=de,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=l},be.prototype._stateBeforeStyle1=ve("Y",Q),be.prototype._stateBeforeStyle2=ve("L",ee),be.prototype._stateBeforeStyle3=ve("E",te),be.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||me(e))&&(this._special=pe),this._state=d,this._index--},be.prototype._stateAfterStyle1=ge("Y",re,l),be.prototype._stateAfterStyle2=ge("L",oe,l),be.prototype._stateAfterStyle3=ge("E",ie,l),be.prototype._stateAfterStyle4=function(e){">"===e||me(e)?(this._special=de,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=l},be.prototype._stateBeforeEntity=ge("#",se,ue),be.prototype._stateBeforeNumericEntity=ge("X",le,ce),be.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?u:a;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},be.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(6<t&&(t=6);2<=t;){var n=this._buffer.substr(e,t);if(s.hasOwnProperty(n))return this._emitPartial(s[n]),void(this._sectionStart+=t+1);t--}},be.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||"z"<e)&&(e<"A"||"Z"<e)&&(e<"0"||"9"<e)&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},be.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,t);this._emitPartial(i(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},be.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},be.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||"f"<e)&&(e<"A"||"F"<e)&&(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},be.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},be.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},be.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===l?this._stateText(e):this._state===f?this._stateBeforeTagName(e):this._state===d?this._stateInTagName(e):this._state===p?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===g?this._stateAfterCloseingTagName(e):this._state===h?this._stateInSelfClosingTag(e):this._state===v?this._stateBeforeAttributeName(e):this._state===b?this._stateInAttributeName(e):this._state===y?this._stateAfterAttributeName(e):this._state===_?this._stateBeforeAttributeValue(e):this._state===w?this._stateInAttributeValueDoubleQuotes(e):this._state===x?this._stateInAttributeValueSingleQuotes(e):this._state===C?this._stateInAttributeValueNoQuotes(e):this._state===k?this._stateBeforeDeclaration(e):this._state===S?this._stateInDeclaration(e):this._state===E?this._stateInProcessingInstruction(e):this._state===T?this._stateBeforeComment(e):this._state===A?this._stateInComment(e):this._state===R?this._stateAfterComment1(e):this._state===N?this._stateAfterComment2(e):this._state===O?this._stateBeforeCdata1(e):this._state===D?this._stateBeforeCdata2(e):this._state===L?this._stateBeforeCdata3(e):this._state===B?this._stateBeforeCdata4(e):this._state===P?this._stateBeforeCdata5(e):this._state===M?this._stateBeforeCdata6(e):this._state===I?this._stateInCdata(e):this._state===F?this._stateAfterCdata1(e):this._state===j?this._stateAfterCdata2(e):this._state===z?this._stateBeforeSpecial(e):this._state===H?this._stateBeforeSpecialEnd(e):this._state===q?this._stateBeforeScript1(e):this._state===U?this._stateBeforeScript2(e):this._state===W?this._stateBeforeScript3(e):this._state===V?this._stateBeforeScript4(e):this._state===K?this._stateBeforeScript5(e):this._state===$?this._stateAfterScript1(e):this._state===G?this._stateAfterScript2(e):this._state===Y?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===J?this._stateAfterScript5(e):this._state===Z?this._stateBeforeStyle1(e):this._state===Q?this._stateBeforeStyle2(e):this._state===ee?this._stateBeforeStyle3(e):this._state===te?this._stateBeforeStyle4(e):this._state===ne?this._stateAfterStyle1(e):this._state===re?this._stateAfterStyle2(e):this._state===oe?this._stateAfterStyle3(e):this._state===ie?this._stateAfterStyle4(e):this._state===ae?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===ue?this._stateInNamedEntity(e):this._state===ce?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},be.prototype.pause=function(){this._running=!1},be.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},be.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},be.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},be.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===I||this._state===F||this._state===j?this._cbs.oncdata(e):this._state===A||this._state===R||this._state===N?this._cbs.oncomment(e):this._state!==ue||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==le||this._xmlMode?this._state!==d&&this._state!==v&&this._state!==_&&this._state!==y&&this._state!==b&&this._state!==x&&this._state!==w&&this._state!==C&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},be.prototype.reset=function(){be.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},be.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},be.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},be.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},be.prototype._emitPartial=function(e){this._baseState!==l?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(152);e.exports=function(e){if(55296<=e&&e<=57343||1114111<e)return"";e in r&&(e=r[e]);var t="";65535<e&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},o={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},function(e,t,n){e.exports=s;var o=n(51),i=n(157).Writable||n(169).Writable,a=n(27).StringDecoder,r=n(8).Buffer;function s(e,t){var n=this._parser=new o(e,t),r=this._decoder=new a;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(r.end())})}n(2)(s,i),i.prototype._write=function(e,t,n){e instanceof r&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(L,e,B){"use strict";(function(e,g){var v=B(13).nextTick;L.exports=d;var a,b=B(58);d.ReadableState=i;B(12).EventEmitter;var y=function(e,t){return e.listeners(t).length},o=B(59),c=B(14).Buffer,l=e.Uint8Array||function(){};var t=B(9);t.inherits=B(2);var n=B(160),_=void 0;_=n&&n.debuglog?n.debuglog("stream"):function(){};var s,u=B(161),r=B(60);t.inherits(d,o);var f=["error","close","destroy","pause","resume"];function i(e,t){e=e||{};var n=t instanceof(a=a||B(4));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(o||0===o)?o:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=B(27).StringDecoder),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function d(e){if(a=a||B(4),!(this instanceof d))return new d(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function h(e,t,n,r,o){var i,a,s,u=e._readableState;null===t?(u.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,x(e)}(e,u)):(o||(i=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(u,t)),i?e.emit("error",i):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===c.prototype||(a=t,t=c.from(a)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):p(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?p(e,u,t,!1):k(e,u)):p(e,u,t,!1))):r||(u.reading=!1));return!(s=u).ended&&(s.needReadable||s.length<s.highWaterMark||0===s.length)}function p(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&x(e)),k(e,t)}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),d.prototype.destroy=r.destroy,d.prototype._undestroy=r.undestroy,d.prototype._destroy=function(e,t){this.push(null),t(e)},d.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),h(this,e,t,!1,n)},d.prototype.unshift=function(e){return h(this,e,null,!0,!1)},d.prototype.isPaused=function(){return!1===this._readableState.flowing},d.prototype.setEncoding=function(e){return s||(s=B(27).StringDecoder),this._readableState.decoder=new s(e),this._readableState.encoding=e,this};var m=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=(m<=(n=e)?n=m:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?v(C,e):C(e))}function C(e){_("emit readable"),e.emit("readable"),A(e)}function k(e,t){t.readingMore||(t.readingMore=!0,v(S,e,t))}function S(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(_("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function E(e){_("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(_("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(_("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=i.slice(a);break}++r}return t.length-=r,o}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=i.slice(a);break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function N(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,v(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}d.prototype.read=function(e){_("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):x(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,o=t.needReadable;return _("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&_("length less than watermark",o=!0),t.ended||t.reading?_("reading or ended",o=!1):o&&(_("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=0<e?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},d.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},d.prototype.pipe=function(n,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=n;break;case 1:o.pipes=[o.pipes,n];break;default:o.pipes.push(n)}o.pipesCount+=1,_("pipe count=%d opts=%j",o.pipesCount,e);var t=(!e||!1!==e.end)&&n!==g.stdout&&n!==g.stderr?a:m;function i(e,t){_("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,_("cleanup"),n.removeListener("close",h),n.removeListener("finish",p),n.removeListener("drain",u),n.removeListener("error",d),n.removeListener("unpipe",i),r.removeListener("end",a),r.removeListener("end",m),r.removeListener("data",f),c=!0,!o.awaitDrain||n._writableState&&!n._writableState.needDrain||u())}function a(){_("onend"),n.end()}o.endEmitted?v(t):r.once("end",t),n.on("unpipe",i);var s,u=(s=r,function(){var e=s._readableState;_("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&y(s,"data")&&(e.flowing=!0,A(s))});n.on("drain",u);var c=!1;var l=!1;function f(e){_("ondata"),(l=!1)!==n.write(e)||l||((1===o.pipesCount&&o.pipes===n||1<o.pipesCount&&-1!==D(o.pipes,n))&&!c&&(_("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function d(e){_("onerror",e),m(),n.removeListener("error",d),0===y(n,"error")&&n.emit("error",e)}function h(){n.removeListener("finish",p),m()}function p(){_("onfinish"),n.removeListener("close",h),m()}function m(){_("unpipe"),r.unpipe(n)}return r.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?b(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(n,"error",d),n.once("close",h),n.once("finish",p),n.emit("pipe",r),o.flowing||(_("pipe resume"),r.resume()),n},d.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=D(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},d.prototype.addListener=d.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&x(this):v(E,this))}return n},d.prototype.resume=function(){var e,t,n=this._readableState;return n.flowing||(_("resume"),n.flowing=!0,e=this,(t=n).resumeScheduled||(t.resumeScheduled=!0,v(T,e,t))),this},d.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this},d.prototype.wrap=function(t){var n=this,r=this._readableState,o=!1;for(var e in t.on("end",function(){if(_("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),t.on("data",function(e){(_("wrapped data"),r.decoder&&(e=r.decoder.write(e)),r.objectMode&&null==e)||(r.objectMode||e&&e.length)&&(n.push(e)||(o=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var i=0;i<f.length;i++)t.on(f[i],this.emit.bind(this,f[i]));return this._read=function(e){_("wrapped _read",e),o&&(o=!1,t.resume())},this},d._fromList=R}).call(this,B(1),B(5))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(12).EventEmitter},function(e,t,n){"use strict";var i=n(13).nextTick;function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i(a,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=i;var r=n(4),o=n(9);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var n=this;"function"==typeof this._flush?this._flush(function(e,t){s(n,e,t)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(2),o.inherits(i,r),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(194)),l=r(n(63)),f=r(n(195));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function a(e,t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),r&&(this.source=r),i&&(this.plugin=i),void 0!==t&&void 0!==n&&(this.line=t,this.column=n),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,a)}return a.prototype.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},a.prototype.showSourceCode=function(t){var i=this;if(!this.source)return"";var e=this.source;void 0===t&&(t=o.default.stdout),t&&(e=(0,f.default)(e));var n=e.split(/\r?\n/),a=Math.max(this.line-3,0),r=Math.min(this.line+2,n.length),s=String(r).length;function u(e){return t&&l.default.red?l.default.red.bold(e):e}function c(e){return t&&l.default.gray?l.default.gray(e):e}return n.slice(a,r).map(function(e,t){var n=a+1+t,r=" "+(" "+n).slice(-s)+" | ";if(n===i.line){var o=c(r.replace(/\d/g," "))+e.slice(0,i.column-1).replace(/[^\t]/g," ");return u(">")+c(r)+e+"\n "+o+u("^")}return" "+c(r)+e}).join("\n")},a.prototype.toString=function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},a}();t.default=i,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.css.valueOf(),r=e.ignoreErrors,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,b=n.length,y=-1,_=1,w=0,x=[],C=[];function k(e){throw t.error("Unclosed "+e,_,w-y)}return{back:function(e){C.push(e)},nextToken:function(){if(C.length)return C.pop();if(b<=w)return;((o=n.charCodeAt(w))===R||o===O||o===L&&n.charCodeAt(w+1)!==R)&&(y=w,_+=1);switch(o){case R:case N:case D:case L:case O:for(i=w;i+=1,(o=n.charCodeAt(i))===R&&(y=i,_+=1),o===N||o===R||o===D||o===L||o===O;);v=["space",n.slice(w,i)],w=i-1;break;case B:v=["[","[",_,w-y];break;case P:v=["]","]",_,w-y];break;case F:v=["{","{",_,w-y];break;case j:v=["}","}",_,w-y];break;case q:v=[":",":",_,w-y];break;case z:v=[";",";",_,w-y];break;case M:if(m=x.length?x.pop()[1]:"",g=n.charCodeAt(w+1),"url"===m&&g!==S&&g!==E&&g!==N&&g!==R&&g!==D&&g!==O&&g!==L){i=w;do{if(h=!1,-1===(i=n.indexOf(")",i+1))){if(r){i=w;break}k("bracket")}for(p=i;n.charCodeAt(p-1)===T;)p-=1,h=!h}while(h);v=["brackets",n.slice(w,i+1),_,w-y,_,i-y],w=i}else i=n.indexOf(")",w+1),c=n.slice(w,i+1),-1===i||K.test(c)?v=["(","(",_,w-y]:(v=["brackets",c,_,w-y,_,i-y],w=i);break;case I:v=[")",")",_,w-y];break;case S:case E:a=o===S?"'":'"',i=w;do{if(h=!1,-1===(i=n.indexOf(a,i+1))){if(r){i=w+1;break}k("string")}for(p=i;n.charCodeAt(p-1)===T;)p-=1,h=!h}while(h);c=n.slice(w,i+1),s=c.split("\n"),0<(u=s.length-1)?(f=_+u,d=i-s[u].length):(f=_,d=y),v=["string",n.slice(w,i+1),_,w-y,f,i-d],y=d,_=f,w=i;break;case U:W.lastIndex=w+1,W.test(n),i=0===W.lastIndex?n.length-1:W.lastIndex-2,v=["at-word",n.slice(w,i+1),_,w-y,_,i-y],w=i;break;case T:for(i=w,l=!0;n.charCodeAt(i+1)===T;)i+=1,l=!l;if(o=n.charCodeAt(i+1),l&&o!==A&&o!==N&&o!==R&&o!==D&&o!==L&&o!==O&&(i+=1,$.test(n.charAt(i)))){for(;$.test(n.charAt(i+1));)i+=1;n.charCodeAt(i+1)===N&&(i+=1)}v=["word",n.slice(w,i+1),_,w-y,_,i-y],w=i;break;default:o===A&&n.charCodeAt(w+1)===H?(0===(i=n.indexOf("*/",w+2)+1)&&(r?i=n.length:k("comment")),c=n.slice(w,i+1),s=c.split("\n"),0<(u=s.length-1)?(f=_+u,d=i-s[u].length):(f=_,d=y),v=["comment",c,_,w-y,f,i-d],y=d,_=f):(V.lastIndex=w+1,V.test(n),i=0===V.lastIndex?n.length-1:V.lastIndex-2,v=["word",n.slice(w,i+1),_,w-y,_,i-y],x.push(v)),w=i}return w++,v},endOfFile:function(){return 0===C.length&&b<=w}}};var S=39,E=34,T=92,A=47,R=10,N=32,O=12,D=9,L=13,B=91,P=93,M=40,I=41,F=123,j=125,z=59,H=42,q=58,U=64,W=/[ \n\t\r\f\{\(\)'"\\;/\[\]#]/g,V=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,K=/.[\\\/\("'\n]/,$=/[a-f0-9]/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=o(n(62)),s=o(n(196)),u=o(n(30));function o(e){return e&&e.__esModule?e:{default:e}}var c=0,l=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),null===e||"object"===(void 0===e?"undefined":i(e))&&!e.toString)throw new Error("PostCSS received "+e+" instead of CSS string");this.css=e.toString(),"\ufeff"!==this.css[0]&&""!==this.css[0]||(this.css=this.css.slice(1)),t.from&&(/^\w+:\/\//.test(t.from)?this.file=t.from:this.file=u.default.resolve(t.from));var n=new s.default(this.css,t);if(n.text){var r=(this.map=n).consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}this.file||(c+=1,this.id="<input css "+c+">"),this.map&&(this.map.file=this.from)}return o.prototype.error=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=void 0,i=this.origin(t,n);return(o=i?new a.default(e,i.line,i.column,i.source,i.file,r.plugin):new a.default(e,t,n,this.css,this.file,r.plugin)).input={line:t,column:n,source:this.css},this.file&&(o.input.file=this.file),o},o.prototype.origin=function(e,t){if(!this.map)return!1;var n=this.map.consumer(),r=n.originalPositionFor({line:e,column:t});if(!r.source)return!1;var o={file:this.mapResolve(r.source),line:r.line,column:r.column},i=n.sourceContentFor(r.source);return i&&(o.source=i),o},o.prototype.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:u.default.resolve(this.map.consumer().sourceRoot||".",e)},r(o,[{key:"from",get:function(){return this.file||this.id}}]),o}();t.default=l,e.exports=t.default},function(e,t,n){t.SourceMapGenerator=n(67).SourceMapGenerator,t.SourceMapConsumer=n(199).SourceMapConsumer,t.SourceNode=n(202).SourceNode},function(e,t,n){var p=n(68),m=n(10),r=n(69).ArraySet,o=n(198).MappingList;function a(e){e||(e={}),this._file=m.getArg(e,"file",null),this._sourceRoot=m.getArg(e,"sourceRoot",null),this._skipValidation=m.getArg(e,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new o,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(r){var o=r.sourceRoot,i=new a({file:r.file,sourceRoot:o});return r.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=o&&(t.source=m.relative(o,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),i.addMapping(t)}),r.sources.forEach(function(e){var t=e;null!==o&&(t=m.relative(o,e)),i._sources.has(t)||i._sources.add(t);var n=r.sourceContentFor(e);null!=n&&i.setSourceContent(e,n)}),i},a.prototype.addMapping=function(e){var t=m.getArg(e,"generated"),n=m.getArg(e,"original",null),r=m.getArg(e,"source",null),o=m.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=m.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[m.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[m.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(o,e,i){var a=e;if(null==e){if(null==o.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');a=o.file}var s=this._sourceRoot;null!=s&&(a=m.relative(s,a));var u=new r,c=new r;this._mappings.unsortedForEach(function(e){if(e.source===a&&null!=e.originalLine){var t=o.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&(e.source=t.source,null!=i&&(e.source=m.join(i,e.source)),null!=s&&(e.source=m.relative(s,e.source)),e.originalLine=t.line,e.originalColumn=t.column,null!=t.name&&(e.name=t.name))}var n=e.source;null==n||u.has(n)||u.add(n);var r=e.name;null==r||c.has(r)||c.add(r)},this),this._sources=u,this._names=c,o.sources.forEach(function(e){var t=o.sourceContentFor(e);null!=t&&(null!=i&&(e=m.join(i,e)),null!=s&&(e=m.relative(s,e)),this.setSourceContent(e,t))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&0<e.line&&0<=e.column)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&0<e.line&&0<=e.column&&0<t.line&&0<=t.column&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,r,o=0,i=1,a=0,s=0,u=0,c=0,l="",f=this._mappings.toArray(),d=0,h=f.length;d<h;d++){if(e="",(t=f[d]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(0<d){if(!m.compareByGeneratedPositionsInflated(t,f[d-1]))continue;e+=","}e+=p.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=p.encode(r-c),c=r,e+=p.encode(t.originalLine-1-s),s=t.originalLine-1,e+=p.encode(t.originalColumn-a),a=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=p.encode(n-u),u=n)),l+=e}return l},a.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=m.relative(n,e));var t=m.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var l=n(197);t.encode=function(e){for(var t,n,r="",o=(n=e)<0?1+(-n<<1):0+(n<<1);t=31&o,0<(o>>>=5)&&(t|=32),r+=l.encode(t),0<o;);return r},t.decode=function(e,t,n){var r,o,i,a,s=e.length,u=0,c=0;do{if(s<=t)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=l.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),u+=(o&=31)<<c,c+=5}while(r);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},function(e,t,n){var i=n(10),a=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function u(){this._array=[],this._set=s?new Map:Object.create(null)}u.fromArray=function(e,t){for(var n=new u,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},u.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},u.prototype.add=function(e,t){var n=s?e:i.toSetString(e),r=s?this.has(e):a.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(s?this._set.set(e,o):this._set[n]=o)},u.prototype.has=function(e){if(s)return this._set.has(e);var t=i.toSetString(e);return a.call(this._set,t)},u.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(0<=t)return t}else{var n=i.toSetString(e);if(a.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},u.prototype.at=function(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},u.prototype.toArray=function(){return this._array.slice()},t.ArraySet=u},function(e,t,n){"use strict";t.__esModule=!0;var u={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "};var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.builder=e}return t.prototype.stringify=function(e,t){this[e.type](e,t)},t.prototype.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},t.prototype.comment=function(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)},t.prototype.decl=function(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)},t.prototype.rule=function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},t.prototype.atrule=function(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var o=(e.raws.between||"")+(t?";":"");this.builder(n+r+o,e)}},t.prototype.body=function(e){for(var t=e.nodes.length-1;0<t&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var o=e.nodes[r],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,t!==r||n)}},t.prototype.block=function(e,t){var n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");var r=void 0;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")},t.prototype.raw=function(e,t,n){var r=void 0;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;var o=e.parent;if("before"===n&&(!o||"root"===o.type&&o.first===e))return"";if(!o)return u[n];var i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[n])return i.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var a,s="raw"+((a=n)[0].toUpperCase()+a.slice(1));return this[s]?r=this[s](i,e):i.walk(function(e){if(void 0!==(r=e.raws[t]))return!1}),void 0===r&&(r=u[n]),i.rawCache[n]=r},t.prototype.rawSemicolon=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t},t.prototype.rawEmptyBody=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t},t.prototype.rawIndent=function(r){if(r.raws.indent)return r.raws.indent;var o=void 0;return r.walk(function(e){var t=e.parent;if(t&&t!==r&&t.parent&&t.parent===r&&void 0!==e.raws.before){var n=e.raws.before.split("\n");return o=(o=n[n.length-1]).replace(/[^\s]/g,""),!1}}),o},t.prototype.rawBeforeComment=function(e,t){var n=void 0;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/[^\s]/g,"")),n},t.prototype.rawBeforeDecl=function(e,t){var n=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/[^\s]/g,"")),n},t.prototype.rawBeforeRule=function(t){var n=void 0;return t.walk(function(e){if(e.nodes&&(e.parent!==t||t.first!==e)&&void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/[^\s]/g,"")),n},t.prototype.rawBeforeClose=function(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0<e.nodes.length&&void 0!==e.raws.after)return-1!==(t=e.raws.after).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},t.prototype.rawBeforeOpen=function(e){var t=void 0;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t},t.prototype.rawColon=function(e){var t=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},t.prototype.beforeAfter=function(e,t){var n=void 0;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var r=e.parent,o=0;r&&"root"!==r.type;)o+=1,r=r.parent;if(-1!==n.indexOf("\n")){var i=this.raw(e,null,"indent");if(i.length)for(var a=0;a<o;a++)n+=i}return n},t.prototype.rawValue=function(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n},t}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if(r[e])return;r[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e)};var r={};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(73),i=(r=o)&&r.__esModule?r:{default:r};var a=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.version="6.0.21",this.plugins=this.normalize(e)}return t.prototype.use=function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},t.prototype.process=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new i.default(this,e,t)},t.prototype.normalize=function(e){var t=[],n=e,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;if(a.postcss&&(a=a.postcss),"object"===(void 0===a?"undefined":s(a))&&Array.isArray(a.plugins))t=t.concat(a.plugins);else{if("function"!=typeof a)throw"object"===(void 0===a?"undefined":s(a))&&(a.parse||a.stringify)?new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation."):new Error(a+" is not a PostCSS plugin");t.push(a)}}return t},t}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(n(204)),s=i(n(31)),u=i(n(71)),c=i(n(205)),l=i(n(32));function i(e){return e&&e.__esModule?e:{default:e}}function f(e){return"object"===(void 0===e?"undefined":a(e))&&"function"==typeof e.then}var d=function(){function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.stringified=!1,this.processed=!1;var r=void 0;if("object"===(void 0===t?"undefined":a(t))&&null!==t&&"root"===t.type)r=t;else if(t instanceof i||t instanceof c.default)r=t.root,t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{var o=l.default;n.syntax&&(o=n.syntax.parse),n.parser&&(o=n.parser),o.parse&&(o=o.parse);try{r=o(t,n)}catch(e){this.error=e}}this.result=new c.default(e,r,n)}return i.prototype.warnings=function(){return this.sync().warnings()},i.prototype.toString=function(){return this.css},i.prototype.then=function(e,t){return"from"in this.opts||(0,u.default)("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)},i.prototype.catch=function(e){return this.async().catch(e)},i.prototype.handleError=function(e,t){try{if("CssSyntaxError"!==(this.error=e).name||e.plugin){if(t.postcssVersion){var n=t.postcssPlugin,r=t.postcssVersion,o=this.result.processor.version,i=r.split("."),a=o.split(".");(i[0]!==a[0]||parseInt(i[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+r+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}},i.prototype.asyncTick=function(e,t){var n=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var r=this.processor.plugins[this.plugin],o=this.run(r);this.plugin+=1,f(o)?o.then(function(){n.asyncTick(e,t)}).catch(function(e){n.handleError(e,r),n.processed=!0,t(e)}):this.asyncTick(e,t)}catch(e){this.processed=!0,t(e)}},i.prototype.async=function(){var n=this;return this.processed?new Promise(function(e,t){n.error?t(n.error):e(n.stringify())}):(this.processing||(this.processing=new Promise(function(e,t){if(n.error)return t(n.error);n.plugin=0,n.asyncTick(e,t)}).then(function(){return n.processed=!0,n.stringify()})),this.processing)},i.prototype.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;var e=this.result.processor.plugins,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(f(this.run(o)))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},i.prototype.run=function(t){this.result.lastPlugin=t;try{return t(this.result.root,this.result)}catch(e){throw this.handleError(e,t),e}},i.prototype.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=s.default;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new o.default(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result},r(i,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),i}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r={split:function(e,t,n){for(var r=[],o="",i=!1,a=0,s=!1,u=!1,c=0;c<e.length;c++){var l=e[c];s?u?u=!1:"\\"===l?u=!0:l===s&&(s=!1):'"'===l||"'"===l?s=l:"("===l?a+=1:")"===l?0<a&&(a-=1):0===a&&-1!==t.indexOf(l)&&(i=!0),i?(""!==o&&r.push(o.trim()),o="",i=!1):o+=l}return(n||""!==o)&&r.push(o.trim()),r},space:function(e){return r.split(e,[" ","\n","\t"])},comma:function(e){return r.split(e,[","],!0)}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var o=n(218);function i(e,t){for(var n in t)r=t,o=n,Object.prototype.hasOwnProperty.call(r,o)&&(e[n]=t[n]);var r,o}e.exports=function(e){o(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var r=arguments[n];o(r)&&i(e,r)}return e}},,function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";var r=n(6),h=n(184),p=n(185),A=n(186),R=n(187),m=n(188),N=n(189),O=n(190),D=n(193),L=n(209);function B(t,n){t&&Object.keys(t).forEach(function(e){n(t[e],e)})}function P(e,t){return{}.hasOwnProperty.call(e,t)}function M(e,t){var n=[];return B(e,function(e){t(e)&&n.push(e)}),n}e.exports=g;var I=/^[^\0\t\n\f\r /<=>]+$/;function g(e,w,t){var x="";w?(w=h(g.defaults,w)).parser?w.parser=h(v,w.parser):w.parser=v:(w=g.defaults).parser=v;var C,k,o=w.nonTextTags||["script","style","textarea"];w.allowedAttributes&&(C={},k={},B(w.allowedAttributes,function(e,t){C[t]=[];var n=[];e.forEach(function(e){m(e)&&0<=e.indexOf("*")?n.push(p(e).replace(/\\\*/g,".*")):C[t].push(e)}),k[t]=new RegExp("^("+n.join("|")+")$")}));var S={};B(w.allowedClasses,function(e,t){C&&(P(C,t)||(C[t]=[]),C[t].push("class")),S[t]=e});var i,a={};B(w.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=g.simpleTransform(e)),"*"===t?i=n:a[t]=n});var s=0,u=[],c={},l={},f=!1,d=0,n=new r.Parser({onopentag:function(y,e){if(f)d++;else{var _=new function(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=x.length,this.text="",this.updateParentNodeText=function(){u.length&&(u[u.length-1].text+=n.text)}}(y,e);u.push(_);var t,n=!1,r=!!_.text;P(a,y)&&(t=a[y](y,e),_.attribs=e=t.attribs,void 0!==t.text&&(_.innerText=t.text),y!==t.tagName&&(_.name=y=t.tagName,l[s]=t.tagName)),i&&(t=i(y,e),_.attribs=e=t.attribs,y!==t.tagName&&(_.name=y=t.tagName,l[s]=t.tagName)),w.allowedTags&&-1===w.allowedTags.indexOf(y)&&(n=!0,-1!==o.indexOf(y)&&(f=!0,d=1),c[s]=!0),s++,n||(x+="<"+y,(!C||P(C,y)||C["*"])&&B(e,function(e,t){if(I.test(t)){var n,r=!1;if(!C||P(C,y)&&-1!==C[y].indexOf(t)||C["*"]&&-1!==C["*"].indexOf(t)||P(k,y)&&k[y].test(t)||k["*"]&&k["*"].test(t))r=!0;else if(C&&C[y]){var o=!0,i=!1,a=void 0;try{for(var s,u=C[y][Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(N(c)&&c.name&&c.name===t){var l="";if((r=!0)===c.multiple){var f=e.split(" "),d=!0,h=!1,p=void 0;try{for(var m,g=f[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;-1!==c.values.indexOf(v)&&(""===l?l=v:l+=" "+v)}}catch(e){h=!0,p=e}finally{try{!d&&g.return&&g.return()}finally{if(h)throw p}}}else 0<=c.values.indexOf(e)&&(l=e);e=l}}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}if(r){if(-1!==w.allowedSchemesAppliedToAttributes.indexOf(t)&&T(y,e))return void delete _.attribs[t];if("iframe"===y&&"src"===t){if("//"===e.substring(0,2)){e="https:".concat(e)}try{if(n=L.parse(e),w.allowedIframeHostnames)if(!w.allowedIframeHostnames.find(function(e){return e===n.hostname}))return void delete _.attribs[t]}catch(e){return void delete _.attribs[t]}}if("srcset"===t)try{if(B(n=O.parse(e),function(e){T("srcset",e.url)&&(e.evil=!0)}),!(n=M(n,function(e){return!e.evil})).length)return void delete _.attribs[t];e=O.stringify(M(n,function(e){return!e.evil})),_.attribs[t]=e}catch(e){return void delete _.attribs[t]}if("class"===t&&!(e=function(e,t){if(!t)return e;return(e=e.split(/\s+/)).filter(function(e){return-1!==t.indexOf(e)}).join(" ")}(e,S[y])).length)return void delete _.attribs[t];if("style"===t)try{var b=function(e,t){if(!t)return e;var n,r=A(e),o=e.nodes[0];n=t[o.selector]&&t["*"]?R(A(t[o.selector]),t["*"],function(e,t){if(Array.isArray(e))return e.concat(t)}):t[o.selector]||t["*"];n&&(r.nodes[0].nodes=o.nodes.reduce((i=n,function(e,t){if(i.hasOwnProperty(t.prop)){var n=i[t.prop].some(function(e){return e.test(t.value)});n&&e.push(t)}return e}),[]));var i;return r}(D.parse(y+" {"+e+"}"),w.allowedStyles);if(0===(e=b.nodes[0].nodes.reduce(function(e,t){return e.push(t.prop+":"+t.value+";"),e},[]).join("")).length)return void delete _.attribs[t]}catch(e){return void delete _.attribs[t]}x+=" "+t,e.length&&(x+='="'+E(e)+'"')}else delete _.attribs[t]}else delete _.attribs[t]}),-1!==w.selfClosing.indexOf(y)?x+=" />":(x+=">",!_.innerText||r||w.textFilter||(x+=_.innerText)))}},ontext:function(e){if(!f){var t,n=u[u.length-1];if(n&&(t=n.tag,e=void 0!==n.innerText?n.innerText:e),"script"===t||"style"===t)x+=e;else{var r=E(e);w.textFilter?x+=w.textFilter(r):x+=r}if(u.length)u[u.length-1].text+=e}},onclosetag:function(e){if(f){if(--d)return;f=!1}var t=u.pop();if(t){if(f=!1,c[--s])return delete c[s],void t.updateParentNodeText();l[s]&&(e=l[s],delete l[s]),w.exclusiveFilter&&w.exclusiveFilter(t)?x=x.substr(0,t.tagPosition):(t.updateParentNodeText(),-1===w.selfClosing.indexOf(e)&&(x+="</"+e+">"))}}},w.parser);return n.write(e),n.end(),x;function E(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function T(e,t){var n=(t=(t=t.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!n)return!!t.match(/^[\/\\]{2}/)&&!w.allowProtocolRelative;var r=n[1].toLowerCase();return P(w.allowedSchemesByTag,e)?-1===w.allowedSchemesByTag[e].indexOf(r):!w.allowedSchemes||-1===w.allowedSchemes.indexOf(r)}}var v={decodeEntities:!0};g.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0},g.simpleTransform=function(r,o,i){return i=void 0===i||i,o=o||{},function(e,t){var n;if(i)for(n in o)t[n]=o[n];else t=o;return{tagName:r,attribs:t}}}},function(e,t,n){"use strict";
/*!
 * pretty <https://github.com/jonschlinkert/pretty>
 *
 * Copyright (c) 2013-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(214),o=n(216),i=n(75),a={unformatted:["code","pre","em","strong","span"],indent_inner_html:!0,indent_char:" ",indent_size:2,sep:"\n"};e.exports=function(e,t){var n=i({},a,t);return e=r.html(e,n),!0===n.ocd?(n.newlines&&(n.sep=n.newlines),o(e,n).replace(/^\s+/g,"").replace(/\s+$/g,"\n").replace(/(\s*<!--)/g,"\n$1").replace(/>(\s*)(?=<!--\s*\/)/g,"> ")):e}},,function(e,t,n){n(17),n(18),n(19),e.exports=n(230)},function(e,t,n){"use strict";var r=n(0),o=n(89),i=n(93),a=n(94),s=n(102),u=n(116),c=n(129),l=n(42),f=n(49),d={default:n(131),zero:n(132),commonmark:n(133)},h=/^(vbscript|javascript|file|data):/,p=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!h.test(t)||!!p.test(t)}var g=["http:","https:","mailto:"];function v(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||0<=g.indexOf(t.protocol)))try{t.hostname=f.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function b(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||0<=g.indexOf(t.protocol)))try{t.hostname=f.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t))}function y(e,t){if(!(this instanceof y))return new y(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new u,this.block=new s,this.core=new a,this.renderer=new i,this.linkify=new c,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=b,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return r.assign(this.options,e),this},y.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=d[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach(function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)}),this},y.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){n=n.concat(this[e].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter(function(e){return n.indexOf(e)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},y.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){n=n.concat(this[e].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter(function(e){return n.indexOf(e)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},function(e,t,n){"use strict";var c={};function l(e,t,n){var r,o,i,a,s,u="";for("string"!=typeof t&&(n=t,t=l.defaultChars),void 0===n&&(n=!0),s=function(e){var t,n,r=c[e];if(r)return r;for(r=c[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),r=0,o=e.length;r<o;r++)if(i=e.charCodeAt(r),n&&37===i&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))u+=e.slice(r,r+3),r+=2;else if(i<128)u+=s[i];else if(55296<=i&&i<=57343){if(55296<=i&&i<=56319&&r+1<o&&56320<=(a=e.charCodeAt(r+1))&&a<=57343){u+=encodeURIComponent(e[r]+e[r+1]),r++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[r]);return u}l.defaultChars=";/?:@&=+$,-_.!~*'()#",l.componentChars="-_.!~*'()",e.exports=l},function(e,t,n){"use strict";var o={};function r(e,t){var c;return"string"!=typeof t&&(t=r.defaultChars),c=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)r[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,r,o,i,a,s,u="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?u+=c[r]:192==(224&r)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u+=(s=r<<6&1984|63&o)<128?"":String.fromCharCode(s),t+=3):224==(240&r)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),i=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&i))?(u+=(s=r<<12&61440|o<<6&4032|63&i)<2048||55296<=s&&s<=57343?"":String.fromCharCode(s),t+=6):240==(248&r)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),i=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&i)&&128==(192&a))?((s=r<<18&1835008|o<<12&258048|i<<6&4032|63&a)<65536||1114111<s?u+="":(s-=65536,u+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):u+="";return u})}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var S=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(i),T=["%","/","?",";","#"].concat(a),A=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,o,i,a,s=e;if(s=s.trim(),!t&&1===e.split("#").length){var u=E.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}var c=S.exec(s);if(c&&(o=(c=c[0]).toLowerCase(),this.protocol=c,s=s.substr(c.length)),(t||c||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||c&&O[c]||(s=s.substr(2),this.slashes=!0)),!O[c]&&(a||c&&!D[c])){var l,f,d=-1;for(n=0;n<A.length;n++)-1!==(i=s.indexOf(A[n]))&&(-1===d||i<d)&&(d=i);for(-1!==(f=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(l=s.slice(0,f),s=s.slice(f+1),this.auth=l),d=-1,n=0;n<T.length;n++)-1!==(i=s.indexOf(T[n]))&&(-1===d||i<d)&&(d=i);-1===d&&(d=s.length),":"===s[d-1]&&d--;var h=s.slice(0,d);s=s.slice(d),this.parseHost(h),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p){var m=this.hostname.split(/\./);for(n=0,r=m.length;n<r;n++){var g=m[n];if(g&&!g.match(R)){for(var v="",b=0,y=g.length;b<y;b++)127<g.charCodeAt(b)?v+="x":v+=g[b];if(!v.match(R)){var _=m.slice(0,n),w=m.slice(n+1),x=g.match(N);x&&(_.push(x[1]),w.unshift(x[2])),w.length&&(s=w.join(".")+s),this.hostname=_.join(".");break}}}}255<this.hostname.length&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var k=s.indexOf("?");return-1!==k&&(this.search=s.substr(k),s=s.slice(0,k)),s&&(this.pathname=s),D[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}},function(e,t,n){"use strict";t.Any=n(43),t.Cc=n(44),t.Cf=n(88),t.P=n(20),t.Z=n(45)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(90),t.parseLinkDestination=n(91),t.parseLinkTitle=n(92)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,s=-1,u=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=c,-1}return o&&(s=e.pos),e.pos=c,s}},function(e,t,n){"use strict";var s=n(0).isSpace,u=n(0).unescapeAll;e.exports=function(e,t,n){var r,o,i=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(r=e.charCodeAt(t))||s(r))return a;if(62===r)return a.pos=t+1,a.str=u(e.slice(i+1,t)),a.ok=!0,a;92===r&&t+1<n?t+=2:t++}return a}for(o=0;t<n&&32!==(r=e.charCodeAt(t))&&!(r<32||127===r);)if(92===r&&t+1<n)t+=2;else{if(40===r&&o++,41===r){if(0===o)break;o--}t++}return i===t||0!==o||(a.str=u(e.slice(i,t)),a.lines=0,a.pos=t,a.ok=!0),a}},function(e,t,n){"use strict";var u=n(0).unescapeAll;e.exports=function(e,t,n){var r,o,i=0,a=t,s={ok:!1,pos:0,lines:0,str:""};if(n<=t)return s;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return s;for(t++,40===o&&(o=41);t<n;){if((r=e.charCodeAt(t))===o)return s.pos=t+1,s.lines=i,s.str=u(e.slice(a+1,t)),s.ok=!0,s;10===r?i++:92===r&&t+1<n&&(t++,10===e.charCodeAt(t)&&i++),t++}return s}},function(e,t,n){"use strict";var r=n(0).assign,d=n(0).unescapeAll,h=n(0).escapeHtml,o={};function i(){this.rules=r({},o)}o.code_inline=function(e,t,n,r,o){var i=e[t];return"<code"+o.renderAttrs(i)+">"+h(e[t].content)+"</code>"},o.code_block=function(e,t,n,r,o){var i=e[t];return"<pre"+o.renderAttrs(i)+"><code>"+h(e[t].content)+"</code></pre>\n"},o.fence=function(e,t,n,r,o){var i,a,s,u,c=e[t],l=c.info?d(c.info).trim():"",f="";return l&&(f=l.split(/\s+/g)[0]),0===(i=n.highlight&&n.highlight(c.content,f)||h(c.content)).indexOf("<pre")?i+"\n":l?(a=c.attrIndex("class"),s=c.attrs?c.attrs.slice():[],a<0?s.push(["class",n.langPrefix+f]):s[a][1]+=" "+n.langPrefix+f,u={attrs:s},"<pre><code"+o.renderAttrs(u)+">"+i+"</code></pre>\n"):"<pre><code"+o.renderAttrs(c)+">"+i+"</code></pre>\n"},o.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},o.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},o.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},o.text=function(e,t){return h(e[t].content)},o.html_block=function(e,t){return e[t].content},o.html_inline=function(e,t){return e[t].content},i.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+h(e.attrs[t][0])+'="'+h(e.attrs[t][1])+'"';return r},i.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden?i=!1:-1===r.nesting&&r.tag===a.tag&&(i=!1))),o+=i?">\n":">")},i.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,s=e.length;a<s;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},i.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type&&(r+=this.renderInlineAsText(e[o].children,t,n));return r},i.prototype.render=function(e,t,n){var r,o,i,a="",s=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==s[i]?a+=s[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=i},function(e,t,n){"use strict";var r=n(21),o=[["normalize",n(95)],["block",n(96)],["inline",n(97)],["linkify",n(98)],["replacements",n(99)],["smartquotes",n(100)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(101),e.exports=i},function(e,t,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,""),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var w=n(0).arrayReplaceAt;e.exports=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=e.tokens;if(e.md.options.linkify)for(n=0,r=_.length;n<r;n++)if("inline"===_[n].type&&e.md.linkify.pretest(_[n].content))for(h=0,t=(o=_[n].children).length-1;0<=t;t--)if("link_close"!==(a=o[t]).type){if("html_inline"===a.type&&(y=a.content,/^<a[>\s]/i.test(y)&&0<h&&h--,b=a.content,/^<\/a\s*>/i.test(b)&&h++),!(0<h)&&"text"===a.type&&e.md.linkify.test(a.content)){for(c=a.content,v=e.md.linkify.match(c),s=[],d=a.level,u=f=0;u<v.length;u++)p=v[u].url,m=e.md.normalizeLink(p),e.md.validateLink(m)&&(g=v[u].text,g=v[u].schema?"mailto:"!==v[u].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),f<(l=v[u].index)&&((i=new e.Token("text","",0)).content=c.slice(f,l),i.level=d,s.push(i)),(i=new e.Token("link_open","a",1)).attrs=[["href",m]],i.level=d++,i.markup="linkify",i.info="auto",s.push(i),(i=new e.Token("text","",0)).content=g,i.level=d,s.push(i),(i=new e.Token("link_close","a",-1)).level=--d,i.markup="linkify",i.info="auto",s.push(i),f=v[u].lastIndex);f<c.length&&((i=new e.Token("text","",0)).content=c.slice(f),i.level=d,s.push(i)),_[n].children=o=w(o,t,s)}}else for(t--;o[t].level!==a.level&&"link_open"!==o[t].type;)t--}},function(e,t,n){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"",r:"",p:"",tm:""};function s(e,t){return a[t.toLowerCase()]}function u(e){var t,n,r=0;for(t=e.length-1;0<=t;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,s)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function c(e){var t,n,r=0;for(t=e.length-1;0<=t;t--)"text"!==(n=e[t]).type||r||o.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;0<=t;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&u(e.tokens[t].children),o.test(e.tokens[t].content)&&c(e.tokens[t].children))}},function(e,t,n){"use strict";var C=n(0).isWhiteSpace,k=n(0).isPunctChar,S=n(0).isMdAsciiPunct,r=/['"]/,E=/['"]/g,T="";function A(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function o(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x;for(_=[],n=0;n<e.length;n++){for(r=e[n],u=e[n].level,b=_.length-1;0<=b&&!(_[b].level<=u);b--);if(_.length=b+1,"text"===r.type){a=0,s=(o=r.content).length;e:for(;a<s&&(E.lastIndex=a,i=E.exec(o));){if(g=v=!0,a=i.index+1,y="'"===i[0],l=32,0<=i.index-1)l=o.charCodeAt(i.index-1);else for(b=n-1;0<=b&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b--)if("text"===e[b].type){l=e[b].content.charCodeAt(e[b].content.length-1);break}if(f=32,a<s)f=o.charCodeAt(a);else for(b=n+1;b<e.length&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b++)if("text"===e[b].type){f=e[b].content.charCodeAt(0);break}if(d=S(l)||k(String.fromCharCode(l)),h=S(f)||k(String.fromCharCode(f)),p=C(l),(m=C(f))?g=!1:h&&(p||d||(g=!1)),p?v=!1:d&&(m||h||(v=!1)),34===f&&'"'===i[0]&&48<=l&&l<=57&&(v=g=!1),g&&v&&(g=!1,v=h),g||v){if(v)for(b=_.length-1;0<=b&&(c=_[b],!(_[b].level<u));b--)if(c.single===y&&_[b].level===u){c=_[b],y?(w=t.md.options.quotes[2],x=t.md.options.quotes[3]):(w=t.md.options.quotes[0],x=t.md.options.quotes[1]),r.content=A(r.content,i.index,x),e[c.token].content=A(e[c.token].content,c.pos,w),a+=x.length-1,c.token===n&&(a+=w.length-1),s=(o=r.content).length,_.length=b;continue e}g?_.push({token:n,pos:i.index,single:y,level:u}):v&&y&&(r.content=A(r.content,i.index,T))}else y&&(r.content=A(r.content,i.index,T))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;0<=t;t--)"inline"===e.tokens[t].type&&r.test(e.tokens[t].content)&&o(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(22);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},function(e,t,n){"use strict";var r=n(21),o=[["table",n(103),["paragraph","reference"]],["code",n(104)],["fence",n(105),["paragraph","reference","blockquote","list"]],["blockquote",n(106),["paragraph","reference","blockquote","list"]],["hr",n(107),["paragraph","reference","blockquote","list"]],["list",n(108),["paragraph","reference","blockquote"]],["reference",n(109)],["heading",n(110),["paragraph","reference","blockquote"]],["lheading",n(111)],["html_block",n(112),["paragraph","reference","blockquote"]],["paragraph",n(114)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,s=!1,u=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(n<=a))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=u){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(115),e.exports=i},function(e,t,n){"use strict";var g=n(0).isSpace;function v(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function b(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,u=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,u=r):i%2==0&&(s=!0,u=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=u+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m;if(n<t+2)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(4<=e.sCount[u]-e.blkIndent)return!1;if((a=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(o=e.src.charCodeAt(a++))&&45!==o&&58!==o)return!1;for(;a<e.eMarks[u];){if(124!==(o=e.src.charCodeAt(a))&&45!==o&&58!==o&&!g(o))return!1;a++}for(c=(i=v(e,t+1)).split("|"),d=[],s=0;s<c.length;s++){if(!(h=c[s].trim())){if(0===s||s===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(h))return!1;58===h.charCodeAt(h.length-1)?d.push(58===h.charCodeAt(0)?"center":"right"):58===h.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(i=v(e,t).trim()).indexOf("|"))return!1;if(4<=e.sCount[t]-e.blkIndent)return!1;if((l=(c=b(i.replace(/^\||\|$/g,""))).length)>d.length)return!1;if(r)return!0;for((f=e.push("table_open","table",1)).map=p=[t,0],(f=e.push("thead_open","thead",1)).map=[t,t+1],(f=e.push("tr_open","tr",1)).map=[t,t+1],s=0;s<c.length;s++)(f=e.push("th_open","th",1)).map=[t,t+1],d[s]&&(f.attrs=[["style","text-align:"+d[s]]]),(f=e.push("inline","",0)).content=c[s].trim(),f.map=[t,t+1],f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),(f=e.push("tbody_open","tbody",1)).map=m=[t+2,0],u=t+2;u<n&&!(e.sCount[u]<e.blkIndent)&&-1!==(i=v(e,u).trim()).indexOf("|")&&!(4<=e.sCount[u]-e.blkIndent);u++){for(c=b(i.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1),s=0;s<l;s++)f=e.push("td_open","td",1),d[s]&&(f.attrs=[["style","text-align:"+d[s]]]),(f=e.push("inline","",0)).content=c[s]?c[s].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return f=e.push("tbody_close","tbody",-1),f=e.push("table_close","table",-1),p[1]=m[1]=u,e.line=u,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(4<=e.sCount[r]-e.blkIndent))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,i,a,s,u,c,l,f=!1,d=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(h<d+3)return!1;if(126!==(o=e.src.charCodeAt(d))&&96!==o)return!1;if(u=d,(i=(d=e.skipChars(d,o))-u)<3)return!1;if(l=e.src.slice(u,d),0<=(a=e.src.slice(d,h)).indexOf(String.fromCharCode(o)))return!1;if(r)return!0;for(s=t;!(n<=++s)&&!((d=u=e.bMarks[s]+e.tShift[s])<(h=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(d)===o&&!(4<=e.sCount[s]-e.blkIndent||(d=e.skipChars(d,o))-u<i||(d=e.skipSpaces(d))<h)){f=!0;break}return i=e.sCount[t],e.line=s+(f?1:0),(c=e.push("fence","code",0)).info=a,c.content=e.getLines(t+1,s,i,!0),c.markup=l,c.map=[t,e.line],!0}},function(e,t,n){"use strict";var T=n(0).isSpace;e.exports=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k=e.lineMax,S=e.bMarks[t]+e.tShift[t],E=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(62!==e.src.charCodeAt(S++))return!1;if(r)return!0;for(s=d=e.sCount[t]+S-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(S)?(S++,s++,d++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[t]+d)%4==3?(S++,s++,d++,o=!1):o=!0):y=!1,h=[e.bMarks[t]],e.bMarks[t]=S;S<E&&(i=e.src.charCodeAt(S),T(i));)9===i?d+=4-(d+e.bsCount[t]+(o?1:0))%4:d++,S++;for(p=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),c=E<=S,v=[e.sCount[t]],e.sCount[t]=d-s,b=[e.tShift[t]],e.tShift[t]=S-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",C=!1,f=t+1;f<n&&(e.sCount[f]<e.blkIndent&&(C=!0),S=e.bMarks[f]+e.tShift[f],!((E=e.eMarks[f])<=S));f++)if(62!==e.src.charCodeAt(S++)||C){if(c)break;for(_=!1,a=0,u=w.length;a<u;a++)if(w[a](e,f,n,!0)){_=!0;break}if(_){e.lineMax=f,0!==e.blkIndent&&(h.push(e.bMarks[f]),p.push(e.bsCount[f]),b.push(e.tShift[f]),v.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),p.push(e.bsCount[f]),b.push(e.tShift[f]),v.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=d=e.sCount[f]+S-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(S)?(S++,s++,d++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[f]+d)%4==3?(S++,s++,d++,o=!1):o=!0):y=!1,h.push(e.bMarks[f]),e.bMarks[f]=S;S<E&&(i=e.src.charCodeAt(S),T(i));)9===i?d+=4-(d+e.bsCount[f]+(o?1:0))%4:d++,S++;c=E<=S,p.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(y?1:0),v.push(e.sCount[f]),e.sCount[f]=d-s,b.push(e.tShift[f]),e.tShift[f]=S-e.bMarks[f]}for(m=e.blkIndent,e.blkIndent=0,(x=e.push("blockquote_open","blockquote",1)).markup=">",x.map=l=[t,0],e.md.block.tokenize(e,t,f),(x=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=k,e.parentType=g,l[1]=e.line,a=0;a<b.length;a++)e.bMarks[a+t]=h[a],e.tShift[a+t]=b[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=p[a];return e.blkIndent=m,!0}},function(e,t,n){"use strict";var l=n(0).isSpace;e.exports=function(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(42!==(o=e.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(i=1;u<c;){if((a=e.src.charCodeAt(u++))!==o&&!l(a))return!1;a===o&&i++}return!(i<3)&&(r||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(i+1).join(String.fromCharCode(o))),!0)}},function(e,t,n){"use strict";var a=n(0).isSpace;function B(e,t){var n,r,o,i;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n?-1:r<o&&(i=e.src.charCodeAt(r),!a(i))?-1:r}function P(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,i=e.eMarks[t];if(i<=o+1)return-1;if((n=e.src.charCodeAt(o++))<48||57<n)return-1;for(;;){if(i<=o)return-1;if(!(48<=(n=e.src.charCodeAt(o++))&&n<=57)){if(41===n||46===n)break;return-1}if(10<=o-r)return-1}return o<i&&(n=e.src.charCodeAt(o),!a(n))?-1:o}e.exports=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N,O,D=!1,L=!0;if(4<=e.sCount[t]-e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(D=!0),0<=(E=P(e,t))){if(l=!0,A=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(A,E-A-1)),D&&1!==g)return!1}else{if(!(0<=(E=B(e,t))))return!1;l=!1}if(D&&e.skipSpaces(E)>=e.eMarks[t])return!1;if(m=e.src.charCodeAt(E-1),r)return!0;for(p=e.tokens.length,l?(O=e.push("ordered_list_open","ol",1),1!==g&&(O.attrs=[["start",g]])):O=e.push("bullet_list_open","ul",1),O.map=h=[t,0],O.markup=String.fromCharCode(m),b=t,T=!1,N=e.md.block.ruler.getRules("list"),x=e.parentType,e.parentType="list";b<n;){for(S=E,v=e.eMarks[b],c=y=e.sCount[b]+E-(e.bMarks[t]+e.tShift[t]);S<v;){if(9===(o=e.src.charCodeAt(S)))y+=4-(y+e.bsCount[b])%4;else{if(32!==o)break;y++}S++}if(4<(u=v<=(i=S)?1:y-c)&&(u=1),s=c+u,(O=e.push("list_item_open","li",1)).markup=String.fromCharCode(m),O.map=f=[t,0],_=e.blkIndent,k=e.tight,C=e.tShift[t],w=e.sCount[t],e.blkIndent=s,e.tight=!0,e.tShift[t]=i-e.bMarks[t],e.sCount[t]=y,v<=i&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!T||(L=!1),T=1<e.line-t&&e.isEmpty(e.line-1),e.blkIndent=_,e.tShift[t]=C,e.sCount[t]=w,e.tight=k,(O=e.push("list_item_close","li",-1)).markup=String.fromCharCode(m),b=t=e.line,f[1]=b,i=e.bMarks[t],n<=b)break;if(e.sCount[b]<e.blkIndent)break;for(R=!1,a=0,d=N.length;a<d;a++)if(N[a](e,b,n,!0)){R=!0;break}if(R)break;if(l){if((E=P(e,b))<0)break}else if((E=B(e,b))<0)break;if(m!==e.src.charCodeAt(E-1))break}return(O=l?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),h[1]=b,e.line=b,e.parentType=x,L&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,p),!0}},function(e,t,n){"use strict";var k=n(0).normalizeReference,S=n(0).isSpace;e.exports=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=0,w=e.bMarks[t]+e.tShift[t],x=e.eMarks[t],C=t+1;if(4<=e.sCount[t]-e.blkIndent)return!1;if(91!==e.src.charCodeAt(w))return!1;for(;++w<x;)if(93===e.src.charCodeAt(w)&&92!==e.src.charCodeAt(w-1)){if(w+1===x)return!1;if(58!==e.src.charCodeAt(w+1))return!1;break}for(s=e.lineMax,b=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";C<s&&!e.isEmpty(C);C++)if(!(3<e.sCount[C]-e.blkIndent||e.sCount[C]<0)){for(v=!1,c=0,l=b.length;c<l;c++)if(b[c](e,C,s,!0)){v=!0;break}if(v)break}for(x=(g=e.getLines(t,C,e.blkIndent,!1).trim()).length,w=1;w<x;w++){if(91===(o=g.charCodeAt(w)))return!1;if(93===o){d=w;break}10===o?_++:92===o&&++w<x&&10===g.charCodeAt(w)&&_++}if(d<0||58!==g.charCodeAt(d+1))return!1;for(w=d+2;w<x;w++)if(10===(o=g.charCodeAt(w)))_++;else if(!S(o))break;if(!(p=e.md.helpers.parseLinkDestination(g,w,x)).ok)return!1;if(u=e.md.normalizeLink(p.str),!e.md.validateLink(u))return!1;for(w=p.pos,a=_+=p.lines,m=i=w;w<x;w++)if(10===(o=g.charCodeAt(w)))_++;else if(!S(o))break;for(p=e.md.helpers.parseLinkTitle(g,w,x),w<x&&m!==w&&p.ok?(y=p.str,w=p.pos,_+=p.lines):(y="",w=i,_=a);w<x&&(o=g.charCodeAt(w),S(o));)w++;if(w<x&&10!==g.charCodeAt(w)&&y)for(y="",w=i,_=a;w<x&&(o=g.charCodeAt(w),S(o));)w++;return!(w<x&&10!==g.charCodeAt(w))&&(!!(f=k(g.slice(1,d)))&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:y,href:u}),e.parentType=h,e.line=t+_+1),!0))}},function(e,t,n){"use strict";var l=n(0).isSpace;e.exports=function(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(35!==(o=e.src.charCodeAt(u))||c<=u)return!1;for(i=1,o=e.src.charCodeAt(++u);35===o&&u<c&&i<=6;)i++,o=e.src.charCodeAt(++u);return!(6<i||u<c&&!l(o))&&(r||(c=e.skipSpacesBack(c,u),u<(a=e.skipCharsBack(c,35,u))&&l(e.src.charCodeAt(a-1))&&(c=a),e.line=t+1,(s=e.push("heading_open","h"+String(i),1)).markup="########".slice(0,i),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,c).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(i),-1)).markup="########".slice(0,i)),!0)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,o,i,a,s,u,c,l,f,d,h=t+1,p=e.md.block.ruler.getRules("paragraph");if(4<=e.sCount[t]-e.blkIndent)return!1;for(d=e.parentType,e.parentType="paragraph";h<n&&!e.isEmpty(h);h++)if(!(3<e.sCount[h]-e.blkIndent)){if(e.sCount[h]>=e.blkIndent&&(u=e.bMarks[h]+e.tShift[h])<(c=e.eMarks[h])&&(45===(f=e.src.charCodeAt(u))||61===f)&&(u=e.skipChars(u,f),c<=(u=e.skipSpaces(u)))){l=61===f?1:2;break}if(!(e.sCount[h]<0)){for(o=!1,i=0,a=p.length;i<a;i++)if(p[i](e,h,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(s=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(f),s.map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(f),e.parentType=d,!0)}},function(e,t,n){"use strict";var r=n(113),o=n(46).HTML_OPEN_CLOSE_TAG_RE,l=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,c),o=0;o<l.length&&!l[o][0].test(s);o++);if(o===l.length)return!1;if(r)return l[o][2];if(i=t+1,!l[o][1].test(s))for(;i<n&&!(e.sCount[i]<e.blkIndent);i++)if(u=e.bMarks[i]+e.tShift[i],c=e.eMarks[i],s=e.src.slice(u,c),l[o][1].test(s)){0!==s.length&&i++;break}return e.line=i,(a=e.push("html_block","",0)).map=[t,i],a.content=e.getLines(t,i,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,u=t+1,c=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(s=e.parentType,e.parentType="paragraph";u<l&&!e.isEmpty(u);u++)if(!(3<e.sCount[u]-e.blkIndent||e.sCount[u]<0)){for(r=!1,o=0,i=c.length;o<i;o++)if(c[o](e,u,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,u,e.blkIndent,!1).trim(),e.line=u,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},function(e,t,n){"use strict";var o=n(22),d=n(0).isSpace;function r(e,t,n,r){var o,i,a,s,u,c,l,f;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,a=s=c=l=0,u=(i=this.src).length;s<u;s++){if(o=i.charCodeAt(s),!f){if(d(o)){c++,9===o?l+=4-l%4:l++;continue}f=!0}10!==o&&s!==u-1||(10!==o&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(c),this.sCount.push(l),this.bsCount.push(0),f=!1,l=c=0,a=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}r.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,0<n&&this.level++,this.tokens.push(r),r},r.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},r.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},r.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),d(t));e++);return e},r.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;t<e;)if(!d(this.src.charCodeAt(--e)))return e+1;return e},r.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},r.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;n<e;)if(t!==this.src.charCodeAt(--e))return e+1;return e},r.prototype.getLines=function(e,t,n,r){var o,i,a,s,u,c,l,f=e;if(t<=e)return"";for(c=new Array(t-e),o=0;f<t;f++,o++){for(i=0,l=s=this.bMarks[f],u=f+1<t||r?this.eMarks[f]+1:this.eMarks[f];s<u&&i<n;){if(a=this.src.charCodeAt(s),d(a))9===a?i+=4-(i+this.bsCount[f])%4:i++;else{if(!(s-l<this.tShift[f]))break;i++}s++}c[o]=n<i?new Array(i-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return c.join("")},r.prototype.Token=o,e.exports=r},function(e,t,n){"use strict";var r=n(21),o=[["text",n(117)],["newline",n(118)],["escape",n(119)],["backticks",n(120)],["strikethrough",n(47).tokenize],["emphasis",n(48).tokenize],["link",n(121)],["image",n(122)],["autolink",n(123)],["html_inline",n(124)],["entity",n(125)]],i=[["balance_pairs",n(126)],["strikethrough",n(47).postProcess],["emphasis",n(48).postProcess],["text_collapse",n(127)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos}else e.pos=s[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,s=new this.State(e,t,n,r);for(this.tokenize(s),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](s)},a.prototype.State=n(128),e.exports=a},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var i=n(0).isSpace;e.exports=function(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,r=e.posMax,t||(0<=n&&32===e.pending.charCodeAt(n)?1<=n&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<r&&i(e.src.charCodeAt(o));)o++;return e.pos=o,!0}},function(e,t,n){"use strict";for(var i=n(0).isSpace,a=[],r=0;r<256;r++)a.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){a[e.charCodeAt(0)]=1}),e.exports=function(e,t){var n,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<o){if((n=e.src.charCodeAt(r))<256&&0!==a[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),r++;r<o&&(n=e.src.charCodeAt(r),i(n));)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,o,i,a,s,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;for(o=e.src.slice(n,u),i=a=u;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((s=e.push("code_inline","code",0)).markup=o,s.content=e.src.slice(u,i).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,n){"use strict";var g=n(0).normalizeReference,v=n(0).isSpace;e.exports=function(e,t){var n,r,o,i,a,s,u,c,l,f="",d=e.pos,h=e.posMax,p=e.pos,m=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(a=e.pos+1,(i=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((s=i+1)<h&&40===e.src.charCodeAt(s)){for(m=!1,s++;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);if(h<=s)return!1;for(p=s,(u=e.md.helpers.parseLinkDestination(e.src,s,e.posMax)).ok&&(f=e.md.normalizeLink(u.str),e.md.validateLink(f)?s=u.pos:f=""),p=s;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);if(u=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<h&&p!==s&&u.ok)for(l=u.str,s=u.pos;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);else l="";(h<=s||41!==e.src.charCodeAt(s))&&(m=!0),s++}if(m){if(void 0===e.env.references)return!1;if(s<h&&91===e.src.charCodeAt(s)?(p=s+1,0<=(s=e.md.helpers.parseLinkLabel(e,s))?o=e.src.slice(p,s++):s=i+1):s=i+1,o||(o=e.src.slice(a,i)),!(c=e.env.references[g(o)]))return e.pos=d,!1;f=c.href,l=c.title}return t||(e.pos=a,e.posMax=i,e.push("link_open","a",1).attrs=n=[["href",f]],l&&n.push(["title",l]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=s,e.posMax=h,!0}},function(e,t,n){"use strict";var b=n(0).normalizeReference,y=n(0).isSpace;e.exports=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m="",g=e.pos,v=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(s=e.pos+2,(a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=a+1)<v&&40===e.src.charCodeAt(u)){for(u++;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);if(v<=u)return!1;for(p=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(m=e.md.normalizeLink(l.str),e.md.validateLink(m)?u=l.pos:m=""),p=u;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<v&&p!==u&&l.ok)for(f=l.str,u=l.pos;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);else f="";if(v<=u||41!==e.src.charCodeAt(u))return e.pos=g,!1;u++}else{if(void 0===e.env.references)return!1;if(u<v&&91===e.src.charCodeAt(u)?(p=u+1,0<=(u=e.md.helpers.parseLinkLabel(e,u))?i=e.src.slice(p,u++):u=a+1):u=a+1,i||(i=e.src.slice(s,a)),!(c=e.env.references[b(i)]))return e.pos=g,!1;m=c.href,f=c.title}return t||(o=e.src.slice(s,a),e.md.inline.parse(o,e.md,e.env,h=[]),(d=e.push("image","img",0)).attrs=n=[["src",m],["alt",""]],d.children=h,d.content=o,f&&n.push(["title",f])),e.pos=u,e.posMax=v,!0}},function(e,t,n){"use strict";var c=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,l=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,r,o,i,a,s,u=e.pos;return 60===e.src.charCodeAt(u)&&(!((n=e.src.slice(u)).indexOf(">")<0)&&(l.test(n)?(i=(r=n.match(l))[0].slice(1,-1),a=e.md.normalizeLink(i),!!e.md.validateLink(a)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(i),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=r[0].length,!0)):!!c.test(n)&&(i=(o=n.match(c))[0].slice(1,-1),a=e.md.normalizeLink("mailto:"+i),!!e.md.validateLink(a)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(i),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var s=n(46).HTML_TAG_RE;e.exports=function(e,t){var n,r,o,i,a=e.pos;return!!e.md.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(a)||o<=a+2)&&((33===(n=e.src.charCodeAt(a+1))||63===n||47===n||97<=(i=32|n)&&i<=122)&&(!!(r=e.src.slice(a).match(s))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+r[0].length)),e.pos+=r[0].length,!0))))}},function(e,t,n){"use strict";var a=n(41),s=n(0).has,u=n(0).isValidEntityCode,c=n(0).fromCodePoint,l=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,f=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,r,o=e.pos,i=e.posMax;if(38!==e.src.charCodeAt(o))return!1;if(o+1<i)if(35===e.src.charCodeAt(o+1)){if(r=e.src.slice(o).match(l))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=u(n)?c(n):c(65533)),e.pos+=r[0].length,!0}else if((r=e.src.slice(o).match(f))&&s(a,r[1]))return t||(e.pending+=a[r[1]]),e.pos+=r[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,o,i=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if((r=i[t]).close)for(n=t-r.jump-1;0<=n;){if((o=i[n]).open&&o.marker===r.marker&&o.end<0&&o.level===r.level)if(!((o.close||r.open)&&void 0!==o.length&&void 0!==r.length&&(o.length+r.length)%3==0)){r.jump=t-n,r.open=!1,o.end=t,o.jump=0;break}n-=o.jump+1}}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r+=o[t].nesting,o[t].level=r,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var o=n(22),g=n(0).isWhiteSpace,v=n(0).isPunctChar,b=n(0).isMdAsciiPunct;function r(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}r.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},r.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n);return n<0&&this.level--,r.level=this.level,0<n&&this.level++,this.pendingLevel=this.level,this.tokens.push(r),r},r.prototype.scanDelims=function(e,t){var n,r,o,i,a,s,u,c,l,f=e,d=!0,h=!0,p=this.posMax,m=this.src.charCodeAt(e);for(n=0<e?this.src.charCodeAt(e-1):32;f<p&&this.src.charCodeAt(f)===m;)f++;return o=f-e,r=f<p?this.src.charCodeAt(f):32,u=b(n)||v(String.fromCharCode(n)),l=b(r)||v(String.fromCharCode(r)),s=g(n),(c=g(r))?d=!1:l&&(s||u||(d=!1)),s?h=!1:u&&(c||l||(h=!1)),t?(i=d,a=h):(i=d&&(!h||u),a=h&&(!d||l)),{can_open:i,can_close:a,length:o}},r.prototype.Token=o,e.exports=r},function(e,t,u){"use strict";function r(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(e){n[e]=t[e]})}),n}function c(e){return Object.prototype.toString.call(e)}function l(e){return"[object Function]"===c(e)}function f(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var i={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]?0:3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},d="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",a="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function s(o){var t=o.re=u(130)(o.__opts__),e=o.__tlds__.slice();function n(e){return e.replace("%TLDS%",t.src_tlds)}o.onCompile(),o.__tlds_replaced__||e.push(d),e.push(t.src_xn),t.src_tlds=e.join("|"),t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var i=[];function a(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}o.__compiled__={},Object.keys(o.__schemas__).forEach(function(e){var t=o.__schemas__[e];if(null!==t){var r,n={validate:null,link:null};if(o.__compiled__[e]=n,"[object Object]"===c(t))return"[object RegExp]"===c(t.validate)?n.validate=(r=t.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}):l(t.validate)?n.validate=t.validate:a(e,t),void(l(t.normalize)?n.normalize=t.normalize:t.normalize?a(e,t):n.normalize=function(e,t){t.normalize(e)});if("[object String]"!==c(t))a(e,t);else i.push(e)}}),i.forEach(function(e){o.__compiled__[o.__schemas__[e]]&&(o.__compiled__[e].validate=o.__compiled__[o.__schemas__[e]].validate,o.__compiled__[e].normalize=o.__compiled__[o.__schemas__[e]].normalize)}),o.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var r,s=Object.keys(o.__compiled__).filter(function(e){return 0<e.length&&o.__compiled__[e]}).map(f).join("|");o.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),o.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),o.re.pretest=RegExp("("+o.re.schema_test.source+")|("+o.re.host_fuzzy_test.source+")|@","i"),(r=o).__index__=-1,r.__text_cache__=""}function h(e,t){var n=new function(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||o.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},o,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},i,e),this.__compiled__={},this.__tlds__=a,this.__tlds_replaced__=!1,this.re={},s(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,s(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(u=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),0<=this.__index__},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];0<=this.__index__&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(h(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),s(this),this},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(43).source,t.src_Cc=r(44).source,t.src_Z=r(45).source,t.src_P=r(20).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t){},function(e,t,n){(function(e,p){!function(n,r){"use strict";if(!n.setImmediate){var o,i,t,a,e,s=1,u={},c=!1,l=n.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(n);f=f&&f.setTimeout?f:n,"[object process]"==={}.toString.call(n.process)?o=function(e){p.nextTick(function(){h(e)})}:!function(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?n.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){h(e.data)},o=function(e){t.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,o=function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),o=function(e){n.postMessage(a+e,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,o(s),s++},f.clearImmediate=d}function d(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(5))},function(e,t){!function(){"use strict";var e,t,n,r,o,i=tinymce.util.Tools.resolve("tinymce.ThemeManager"),u=tinymce.util.Tools.resolve("tinymce.EditorManager"),w=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function(e){return!1!==l(e)},l=function(e){return e.getParam("menubar")},d=function(e){return e.getParam("toolbar_items_size")},h=function(e){return e.getParam("menu")},p=function(e){return!1===e.settings.skin},m=function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),v=tinymce.util.Tools.resolve("tinymce.ui.Factory"),b=tinymce.util.Tools.resolve("tinymce.util.I18n"),a=function(e){return e.fire("SkinLoaded")},y=function(e){return e.fire("ResizeEditor")},_=function(e){return e.fire("BeforeRenderUI")},s=function(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0)}},x=function(e,t){e.shortcuts.add("Alt+F9","",s(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",s(t,"toolbar")),e.shortcuts.add("Alt+F11","",s(t,"elementpath")),t.on("cancel",function(){e.focus()})},C=tinymce.util.Tools.resolve("tinymce.geom.Rect"),c=tinymce.util.Tools.resolve("tinymce.util.Delay"),k=function(e){return function(){return e}},S={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:k,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:k(!1),always:k(!0)},E=S.never,T=S.always,A=function(){return R},R=(r={fold:function(e,t){return e()},is:E,isSome:E,isNone:T,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:A,ap:A,each:function(){},bind:A,flatten:A,exists:E,forall:T,filter:A,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:S.constant("none()")},Object.freeze&&Object.freeze(r),r),N=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:T,isNone:E,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return N(e(n))},ap:function(e){return e.fold(A,function(e){return N(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:R},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(E,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},O={some:N,none:A,from:function(e){return null==e?R:N(e)}},D=function(e){return e?e.getRoot().uiContainer:null},L={getUiContainerDelta:function(e){var t=D(e);if(t&&"static"!==g.DOM.getStyle(t,"position",!0)){var n=g.DOM.getPos(t),r=t.scrollLeft-n.x,o=t.scrollTop-n.y;return O.some({x:r,y:o})}return O.none()},setUiContainer:function(e,t){var n=g.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},getUiContainer:D,inheritUiContainer:function(e,t){return t.uiContainer=D(e)}},B=function(r,e,o){var i,a=[];if(e)return w.each(e.split(/[ ,]/),function(t){var e,n=function(){var e=r.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},a.push(i)),r.buttons[t]&&(e=t,"function"==typeof(t=r.buttons[e])&&(t=t()),t.type=t.type||"button",t.size=o,t=v.create(t),i.items.push(t),r.initialized?n():r.on("init",n)))}),{type:"toolbar",layout:"flow",items:a}},P=B,M=function(n,r){var e,t,o=[];if(w.each(!1===(t=(e=n).getParam("toolbar"))?[]:w.isArray(t)?w.grep(t,function(e){return 0<e.length}):function(e,t){for(var n=[],r=1;r<10;r++){var o=e["toolbar"+r];if(!o)break;n.push(o)}var i=e.toolbar?[e.toolbar]:[t];return 0<n.length?n:i}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),function(e){var t;(t=e)&&o.push(B(n,t,r))}),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}},I=g.DOM,F=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},j=function(e,t){e.moveTo(t.left,t.top)},z=function(e,t,n,r,o,i){return i=F({x:t,y:n,w:i.w,h:i.h}),e&&(i=e({elementRect:F(r),contentAreaRect:F(o),panelRect:i})),i},H=function(_){var r,i=function(){return _.contextToolbars||[]},n=function(e,t){var n,r,o,i,a,s,u,c=_.getParam("inline_toolbar_position_handler");if(!_.removed){if(!e||!e.toolbar.panel)return l=_,void w.each(l.contextToolbars,function(e){e.panel&&e.panel.hide()});var l,f,d,h,p;u=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],a=e.toolbar.panel,t&&a.show(),f=e.element,d=I.getPos(_.getContentAreaContainer()),h=_.dom.getRect(f),"BODY"===(p=_.dom.getRoot()).nodeName&&(h.x-=p.ownerDocument.documentElement.scrollLeft||p.scrollLeft,h.y-=p.ownerDocument.documentElement.scrollTop||p.scrollTop),h.x+=d.x,h.y+=d.y,o=h,r=I.getRect(a.getEl()),i=I.getRect(_.getContentAreaContainer()||_.getBody());var m,g,v,b=L.getUiContainerDelta(a).getOr({x:0,y:0});if(o.x+=b.x,o.y+=b.y,r.x+=b.x,r.y+=b.y,i.x+=b.x,i.y+=b.y,"inline"!==I.getStyle(e.element,"display",!0)){var y=e.element.getBoundingClientRect();o.w=y.width,o.h=y.height}_.inline||(i.w=_.getDoc().documentElement.offsetWidth),_.selection.controlSelection.isResizable(e.element)&&o.w<25&&(o=C.inflate(o,0,8)),n=C.findBestRelativePosition(r,o,i,u),o=C.clamp(o,i),n?(s=C.relativePosition(r,o,n),j(a,z(c,s.x,s.y,o,i,r))):(i.h+=r.h,(o=C.intersect(i,o))?(n=C.findBestRelativePosition(r,o,i,["bc-tc","bl-tl","br-tr"]))?(s=C.relativePosition(r,o,n),j(a,z(c,s.x,s.y,o,i,r))):j(a,z(c,o.x,o.y,o,i,r)):a.hide()),m=a,v=function(e,t){return e===t},g=(g=n)?g.substr(0,2):"",w.each({t:"down",b:"up"},function(e,t){m.classes.toggle("arrow-"+e,v(t,g.substr(0,1)))}),w.each({l:"left",r:"right"},function(e,t){m.classes.toggle("arrow-"+e,v(t,g.substr(1,1)))})}},o=function(e){return function(){c.requestAnimationFrame(function(){_.selection&&n(s(_.selection.getNode()),e)})}},t=function(e){var t;if(e.toolbar.panel)return e.toolbar.panel.show(),void n(e);t=v.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:P(_,e.toolbar.items),oncancel:function(){_.focus()}}),L.setUiContainer(_,t),function(e){if(!r){var t=o(!0),n=L.getUiContainer(e);r=_.selection.getScrollContainer()||_.getWin(),I.bind(r,"scroll",t),I.bind(n,"scroll",t),_.on("remove",function(){I.unbind(r,"scroll",t),I.unbind(n,"scroll",t)})}}(t),(e.toolbar.panel=t).renderTo().reflow(),n(e)},a=function(){w.each(i(),function(e){e.panel&&e.panel.hide()})},s=function(e){var t,n,r,o=i();for(t=(r=_.$(e).parents().add(e)).length-1;0<=t;t--)for(n=o.length-1;0<=n;n--)if(o[n].predicate(r[t]))return{toolbar:o[n],element:r[t]};return null};_.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&c.setEditorTimeout(_,function(){var e;(e=s(_.selection.getNode()))?(a(),t(e)):a()})}),_.on("blur hide contextmenu",a),_.on("ObjectResizeStart",function(){var e=s(_.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),_.on("ResizeEditor ResizeWindow",o(!0)),_.on("nodeChange",o(!1)),_.on("remove",function(){w.each(i(),function(e){e.panel&&e.panel.remove()}),_.contextToolbars={}}),_.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=s(_.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})},q=void 0===(o=Array.prototype.indexOf)?function(e,t){return Y(e,t)}:function(e,t){return o.call(e,t)},U=function(e,t){return-1<q(e,t)},W=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},V=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},K=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},$=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},G=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return O.some(n);return O.none()},Y=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},X=Array.prototype.push,J=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},Z=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},Q=Array.prototype.slice,ee={map:W,each:V,eachr:K,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:$,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=q(e,t);return-1===n?O.none():O.some(n)},foldr:function(e,t,n){return K(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return V(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return O.some(o)}return O.none()},findIndex:G,flatten:J,bind:function(e,t){var n=W(e,t);return J(n)},forall:Z,exists:function(e,t){return G(e,t).isSome()},contains:U,equal:function(e,n){return e.length===n.length&&Z(e,function(e,t){return e===n[t]})},reverse:function(e){var t=Q.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return $(e,function(e){return!U(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=Q.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?O.none():O.some(e[0])},last:function(e){return 0===e.length?O.none():O.some(e[e.length-1])}},te={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},ne=function(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null},re=function(e){return e&&"|"===e.item.text},oe=function(n,e,t,o){var r,i,a,s,u,c,l,f;return e?(i=e[o],s=!0):i=te[o],i&&(r={text:i.title},a=[],w.each((i.items||"").split(/[ ,]/),function(e){var t=ne(e,n[e]);t&&a.push(t)}),s||w.each(n,function(e,t){var n,r;e.context!==o||(n=a,r=t,ee.findIndex(n,function(e){return e.name===r}).isSome())||("before"===e.separator&&a.push({name:"|",item:{text:"|"}}),e.prependToContext?a.unshift(ne(t,e)):a.push(ne(t,e)),"after"===e.separator&&a.push({name:"|",item:{text:"|"}}))}),r.menu=ee.map((u=a,c=t,l=ee.filter(u,function(e){return!1===c.hasOwnProperty(e.name)}),f=ee.filter(l,function(e,t,n){return!re(e)||!re(n[t-1])}),ee.filter(f,function(e,t,n){return!re(e)||0<t&&t<n.length-1})),function(e){return e.item}),!r.menu.length)?null:r},ie=function(e){for(var t,n=[],r=function(e){var t,n=[],r=h(e);if(r)for(t in r)n.push(t);else for(t in te)n.push(t);return n}(e),o=w.makeMap((t=e,t.getParam("removed_menuitems","")).split(/[ ,]/)),i=l(e),a="string"==typeof i?i.split(/[ ,]/):r,s=0;s<a.length;s++){var u=a[s],c=oe(e.menuItems,h(e),o,u);c&&n.push(c)}return n},ae=g.DOM,se=function(e){return{width:e.clientWidth,height:e.clientHeight}},ue=function(e,t,n){var r,o,i,a;r=e.getContainer(),o=e.getContentAreaContainer().firstChild,i=se(r),a=se(o),null!==t&&(t=Math.max(e.getParam("min_width",100,"number"),t),t=Math.min(e.getParam("max_width",65535,"number"),t),ae.setStyle(r,"width",t+(i.width-a.width)),ae.setStyle(o,"width",t)),n=Math.max(e.getParam("min_height",100,"number"),n),n=Math.min(e.getParam("max_height",65535,"number"),n),ae.setStyle(o,"height",n),y(e)},ce=ue,le=function(e,t,n){var r=e.getContentAreaContainer();ue(e,r.clientWidth+t,r.clientHeight+n)},fe=tinymce.util.Tools.resolve("tinymce.Env"),de=function(e,t,n){var r,o=e.settings[n];o&&o((r=t.getEl("body"),{element:function(){return r}}))},he=function(l,f,d){return function(e){var t,n,r,o,i,a=e.control,s=a.parents().filter("panel")[0],u=s.find("#"+f)[0],c=(t=d,n=f,w.grep(t,function(e){return e.name===n})[0]);r=f,o=s,i=d,w.each(i,function(e){var t=o.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==r&&(de(e,t,"onhide"),t.visible(!1))}),a.parent().items().each(function(e){e.active(!1)}),u&&u.visible()?(de(c,u,"onhide"),u.hide(),a.active(!1)):(u?u.show():(u=v.create({type:"container",name:f,layout:"stack",classes:"sidebar-panel",html:""}),s.prepend(u),de(c,u,"onrender")),de(c,u,"onshow"),a.active(!0)),y(l)}},pe=function(e){return!(fe.ie&&!(11<=fe.ie)||!e.sidebars)&&0<e.sidebars.length},me=function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:w.map(n.sidebars,function(e){var t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:he(n,e.name,n.sidebars)}})}]}},ge=function(e){var t=function(){e._skinLoaded=!0,a(e)};return function(){e.initialized?t():e.on("init",t)}},ve=g.DOM,be=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},ye=function(t,e,n){var r,o,i,a,s;if(!1===p(t)&&n.skinUiCss?ve.styleSheetLoader.load(n.skinUiCss,ge(t)):ge(t)(),r=e.panel=v.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===f(t)?null:{type:"menubar",border:"0 0 1 0",items:ie(t)},M(t,d(t))]},pe(t)?(a=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[be("0"),me(a)]}):be("1 0 0 0")]}),L.setUiContainer(t,r),"none"!==m(t)&&(o={type:"resizehandle",direction:m(t),onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;i={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===m(t)?ce(t,i.width+e.deltaX,i.height+e.deltaY):ce(t,null,i.height+e.deltaY)}}),t.getParam("statusbar",!0,"boolean")){var u=b.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),c=t.getParam("branding",!0,"boolean")?{type:"label",classes:"branding",html:" "+u}:null;r.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},o,c]})}return _(t),t.on("SwitchMode",(s=r,function(e){s.find("*").disabled("readonly"===e.mode)})),r.renderBefore(n.targetNode).reflow(),t.getParam("readonly",!1,"boolean")&&t.setMode("readonly"),n.width&&ve.setStyle(r.getEl(),"width",n.width),t.on("remove",function(){r.remove(),r=null}),x(t,r),H(t),{iframeContainer:r.find("#iframe")[0].getEl(),editorContainer:r.getEl()}},_e=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),we=0,xe={id:function(){return"mceu_"+we++},create:function(e,t,n){var r=document.createElement(e);return g.DOM.setAttribs(r,t),"string"==typeof n?r.innerHTML=n:w.each(n,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return g.DOM.createFragment(e)},getWindowSize:function(){return g.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return g.DOM.getPos(e,t||xe.getContainer())},getContainer:function(){return fe.container?fe.container:document.body},getViewPort:function(e){return g.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return g.DOM.addClass(e,t)},removeClass:function(e,t){return g.DOM.removeClass(e,t)},hasClass:function(e,t){return g.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return g.DOM.toggleClass(e,t,n)},css:function(e,t,n){return g.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return g.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return g.DOM.bind(e,t,n,r)},off:function(e,t,n){return g.DOM.unbind(e,t,n)},fire:function(e,t,n){return g.DOM.fire(e,t,n)},innerHtml:function(e,t){g.DOM.setHTML(e,t)}},Ce=function(e){return"static"===xe.getRuntimeStyle(e,"position")},ke=function(e){return e.state.get("fixed")};function Se(e,t,n){var r,o,i,a,s,u,c,l,f,d;return f=Ee(),i=(o=xe.getPos(t,L.getUiContainer(e))).x,a=o.y,ke(e)&&Ce(document.body)&&(i-=f.x,a-=f.y),r=e.getEl(),s=(d=xe.getSize(r)).width,u=d.height,c=(d=xe.getSize(t)).width,l=d.height,"b"===(n=(n||"").split(""))[0]&&(a+=l),"r"===n[1]&&(i+=c),"c"===n[0]&&(a+=Math.round(l/2)),"c"===n[1]&&(i+=Math.round(c/2)),"b"===n[3]&&(a-=u),"r"===n[4]&&(i-=s),"c"===n[3]&&(a-=Math.round(u/2)),"c"===n[4]&&(i-=Math.round(s/2)),{x:i,y:a,w:s,h:u}}var Ee=function(){return{x:0,y:0,w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.defaultView.innerWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.defaultView.innerHeight)}},Te=function(e){var t,n=L.getUiContainer(e);return n&&!ke(e)?{x:0,y:0,w:(t=n).scrollWidth-1,h:t.scrollHeight-1}:Ee()},Ae={testMoveRel:function(e,t){for(var n=Te(this),r=0;r<t.length;r++){var o=Se(this,e,t[r]);if(ke(this)){if(0<o.x&&o.x+o.w<n.w&&0<o.y&&o.y+o.h<n.h)return t[r]}else if(o.x>n.x&&o.x+o.w<n.w+n.x&&o.y>n.y&&o.y+o.h<n.h+n.y)return t[r]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=Se(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){var n=this;function r(e,t,n){return e<0?0:t<e+n&&(e=t-n)<0?0:e}if(n.settings.constrainToViewport){var o=Te(this),i=n.layoutRect();e=r(e,o.w+o.x,i.w),t=r(t,o.h+o.y,i.h)}var a=L.getUiContainer(n);return a&&Ce(a)&&!ke(n)&&(e-=a.scrollLeft,t-=a.scrollTop),a&&(e+=1,t+=1),n.state.get("rendered")?n.layoutRect({x:e,y:t}).repaint():(n.settings.x=e,n.settings.y=t),n.fire("move",{x:e,y:t}),n}},Re=tinymce.util.Tools.resolve("tinymce.util.Class"),Ne=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Oe=function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},De=function(r,e){function t(e){var t=parseFloat(function(e){var t=r.ownerDocument.defaultView;if(t){var n=t.getComputedStyle(r,null);return n?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),n.getPropertyValue(e)):null}return r.currentStyle[e]}(e));return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}};function Le(){}function Be(e){this.cls=[],this.cls._map={},this.onchange=e||Le,this.prefix=""}w.extend(Be.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),Be.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Pe,Me,Ie,Fe=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,je=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,ze=/^\s*|\s*$/g,He=Re.extend({init:function(e){var i=this.match;function a(e,t,n){var r;function o(e){e&&t.push(e)}return o(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((r=Fe.exec(e.replace(ze,"")))[1])),o(function(t){if(t)return function(e){return e._name===t}}(r[2])),o(function(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(r[3])),o(function(n,r,o){if(n)return function(e){var t=e[n]?e[n]():"";return r?"="===r?t===o:"*="===r?0<=t.indexOf(o):"~="===r?0<=(" "+t+" ").indexOf(" "+o+" "):"!="===r?t!==o:"^="===r?0===t.indexOf(o):"$="===r&&t.substr(t.length-o.length)===o:!!o}}(r[4],r[5],r[6])),o(function(r){var t;if(r)return(r=/(?:not\((.+)\))|(.+)/i.exec(r))[1]?(t=s(r[1],[]),function(e){return!i(e,t)}):(r=r[2],function(e,t,n){return"first"===r?0===t:"last"===r?t===n-1:"even"===r?t%2==0:"odd"===r?t%2==1:!!e[r]&&e[r]()})}(r[7])),t.pseudo=!!r[7],t.direct=n,t}function s(e,t){var n,r,o,i=[];do{if(je.exec(""),(r=je.exec(e))&&(e=r[3],i.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&s(n,t),e=[],o=0;o<i.length;o++)">"!==i[o]&&e.push(a(i[o],[],">"===i[o-1]));return t.push(e),t}this._selectors=s(e,[])},match:function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(p=e,h=0,o=(i=(a=t[n]).length)-1;0<=o;o--)for(c=a[o];p;){if(c.pseudo)for(l=f=(d=p.parent().items()).length;l--&&d[l]!==p;);for(s=0,u=c.length;s<u;s++)if(!c[s](p,l,f)){s=u+1;break}if(s===u){h++;break}if(o===i-1)break;p=p.parent()}if(h===i)return!0}return!1},find:function(e){var t,n,c=[],r=this._selectors;function l(e,t,n){var r,o,i,a,s,u=t[n];for(r=0,o=e.length;r<o;r++){for(s=e[r],i=0,a=u.length;i<a;i++)if(!u[i](s,r,o)){i=a+1;break}if(i===a)n===t.length-1?c.push(s):s.items&&l(s.items(),t,n+1);else if(u.direct)return;s.items&&l(s.items(),t,n)}}if(e.items){for(t=0,n=r.length;t<n;t++)l(e.items(),r[t],0);1<n&&(c=function(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(c))}return Pe||(Pe=He.Collection),new Pe(c)}}),qe=Array.prototype.push,Ue=Array.prototype.slice;Ie={length:0,init:function(e){e&&this.add(e)},add:function(e){return w.isArray(e)?qe.apply(this,e):e instanceof Me?this.add(e.toArray()):qe.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){var e,n,r,o,i=[];for("string"==typeof t?(t=new He(t),o=function(e){return t.match(e)}):o=t,e=0,n=this.length;e<n;e++)o(r=this[e])&&i.push(r);return new Me(i)},slice:function(){return new Me(Ue.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return w.each(this,e),this},toArray:function(){return w.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new Me(w.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=w.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},w.each("fire on off show hide append prepend before after reflow".split(" "),function(n){Ie[n]=function(){var t=w.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),w.each("text name disabled active selected checked visible parent value data".split(" "),function(t){Ie[t]=function(e){return this.prop(t,e)}}),Me=Re.extend(Ie);var We=He.Collection=Me,Ve=function(e){this.create=e.create};Ve.create=function(o,i){return new Ve({create:function(t,n){var r,e=function(e){t.set(n,e.value)};return t.on("change:"+n,function(e){o.set(i,e.value)}),o.on("change:"+i,e),(r=t._bindings)||(r=t._bindings=[],t.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){o.off("change:"+i,e)}),o.get(i)}})};var Ke=tinymce.util.Tools.resolve("tinymce.util.Observable");function $e(e){return 0<e.nodeType}var Ge,Ye,Xe=Re.extend({Mixins:[Ke],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof Ve&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r,o=this.data[e];if(t instanceof Ve&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return function e(t,n){var r,o;if(t===n)return!0;if(null===t||null===n)return t===n;if("object"!=typeof t||"object"!=typeof n)return t===n;if(w.isArray(n)){if(t.length!==n.length)return!1;for(r=t.length;r--;)if(!e(t[r],n[r]))return!1}if($e(t)||$e(n))return t===n;for(r in o={},n){if(!e(t[r],n[r]))return!1;o[r]=!0}for(r in t)if(!o[r]&&!e(t[r],n[r]))return!1;return!0}(o,t)||(r={target:this,name:e,value:this.data[e]=t,oldValue:o},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return Ve.create(this,e)},destroy:function(){this.fire("destroy")}}),Je={},Ze={add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;Je[t._id]||(Je[t._id]=t),Ge||(Ge=!0,c.requestAnimationFrame(function(){var e,t;for(e in Ge=!1,Je)(t=Je[e]).state.get("rendered")&&t.reflow();Je={}},document.body))}},remove:function(e){Je[e._id]&&delete Je[e._id]}},Qe="onmousewheel"in document,et=!1,tt=0,nt={Statics:{classPrefix:"mce-"},isRtl:function(){return Ye.rtl},classPrefix:"mce-",init:function(t){var e,n,r=this;function o(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)r.classes.add(e[t])}r.settings=t=w.extend({},r.Defaults,t),r._id=t.id||"mceu_"+tt++,r._aria={role:t.role},r._elmCache={},r.$=_e,r.state=new Xe({visible:!0,active:!1,disabled:!1,value:""}),r.data=new Xe(t.data),r.classes=new Be(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(e=t.classes)&&(r.Defaults&&(n=r.Defaults.classes)&&e!==n&&o(n),o(e)),w.each("title text name visible disabled active value".split(" "),function(e){e in t&&r[e](t[e])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=t,r.borderBox=Oe(t.border),r.paddingBox=Oe(t.padding),r.marginBox=Oe(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){var e=L.getUiContainer(this);return e||xe.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,o,i,a,s,u,c,l=this,f=l.settings,d=l.getEl();e=l.borderBox=l.borderBox||De(d,"border"),l.paddingBox=l.paddingBox||De(d,"padding"),l.marginBox=l.marginBox||De(d,"margin"),c=xe.getSize(d),s=f.minWidth,u=f.minHeight,o=s||c.width,i=u||c.height,n=f.width,r=f.height,a=void 0!==(a=f.autoResize)?a:!n&&!r,n=n||o,r=r||i;var h=e.left+e.right,p=e.top+e.bottom,m=f.maxWidth||65535,g=f.maxHeight||65535;return l._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:h,deltaH:p,contentW:n-h,contentH:r-p,innerW:n-h,innerH:r-p,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(o,m),minH:Math.min(i,g),maxW:m,maxH:g,autoResize:a,scrollW:0},l._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,o,i,a=this._layoutRect;return a||(a=this.initLayoutRect()),e?(r=a.deltaW,o=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),void 0!==(n=e.w)&&(n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.w=n,a.innerW=n-r),void 0!==(n=e.h)&&(n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.h=n,a.innerH=n-o),void 0!==(n=e.innerW)&&(n=(n=n<a.minW-r?a.minW-r:n)>a.maxW-r?a.maxW-r:n,a.innerW=n,a.w=n+r),void 0!==(n=e.innerH)&&(n=(n=n<a.minH-o?a.minH-o:n)>a.maxH-o?a.maxH-o:n,a.innerH=n,a.h=n+o),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),(t=this._lastLayoutRect).x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||((i=Ye.repaintControls)&&i.map&&!i.map[this._id]&&(i.push(this),i.map[this._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),this):a},repaint:function(){var e,t,n,r,o,i,a,s,u,c,l=this;u=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,r=l._layoutRect,s=l._lastRepaintRect||{},i=(o=l.borderBox).left+o.right,a=o.top+o.bottom,r.x!==s.x&&(e.left=u(r.x)+"px",s.x=r.x),r.y!==s.y&&(e.top=u(r.y)+"px",s.y=r.y),r.w!==s.w&&(c=u(r.w-i),e.width=(0<=c?c:0)+"px",s.w=r.w),r.h!==s.h&&(c=u(r.h-a),e.height=(0<=c?c:0)+"px",s.h=r.h),l._hasBody&&r.innerW!==s.innerW&&(c=u(r.innerW),(n=l.getEl("body"))&&((t=n.style).width=(0<=c?c:0)+"px"),s.innerW=r.innerW),l._hasBody&&r.innerH!==s.innerH&&(c=u(r.innerH),(n=n||l.getEl("body"))&&((t=t||n.style).height=(0<=c?c:0)+"px"),s.innerH=r.innerH),l._lastRepaintRect=s,l.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,xe.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var n,r,o,i=this;return rt(i).on(e,"string"!=typeof(n=t)?n:function(e){return r||i.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(r=t[n]))return o=e,!1}),r?r.call(o,e):(e.action=n,void this.fire("execute",e))}),i},off:function(e,t){return rt(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=rt(this).fire(e,t),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return rt(this).has(e)},parents:function(e){var t,n=new We;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new We(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=_e("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"===e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return Ye.translate?Ye.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,e,n=this,r=n.getEl(),o=n.parent();if(n.items){var i=n.items().toArray();for(e=i.length;e--;)i[e].remove()}o&&o.items&&(t=[],o.items().each(function(e){e!==n&&t.push(e)}),o.items().set(t),o._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&_e(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return _e(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return _e(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,o,i=this,a=i.settings;for(r in i.$el=_e(i.getEl()),i.state.set("rendered",!0),a)0===r.indexOf("on")&&i.on(r.substr(2),a[r]);if(i._eventsRoot){for(n=i.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)i._nativeEvents[r]=!0}ot(i),a.style&&(e=i.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),i.settings.border&&(t=i.borderBox,i.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=i.getRoot();for(var u in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[i._id]=i)._aria)i.aria(u,i._aria[u]);!1===i.state.get("visible")&&(i.getEl().style.display="none"),i.bindStates(),i.state.on("change:visible",function(e){var t,n=e.value;i.state.get("rendered")&&(i.getEl().style.display=!1===n?"none":"",i.getEl().getBoundingClientRect()),(t=i.parent())&&(t._lastRect=null),i.fire(n?"show":"hide"),Ze.add(i)}),i.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,o,i,a,s=this.getEl(),u=s.parentNode,c=function(e,t){var n,r,o=e;for(n=r=0;o&&o!==t&&o.nodeType;)n+=o.offsetLeft||0,r+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:r}}(s,u);return t=c.x,n=c.y,r=s.offsetWidth,o=s.offsetHeight,i=u.clientWidth,a=u.clientHeight,"end"===e?(t-=i-r,n-=a-o):"center"===e&&(t-=i/2-r/2,n-=a/2-o/2),u.scrollLeft=t,u.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){Ze.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function rt(n){return n._eventDispatcher||(n._eventDispatcher=new Ne({scope:n,toggleEvent:function(e,t){t&&Ne.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&ot(n))}})),n._eventDispatcher}function ot(s){var e,t,n,u,r,o;function i(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function a(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function c(e){var t,n,r,o=s.getParentCtrl(e.target),i=u._lastHoverCtrl,a=0;if(o!==i){if((n=(u._lastHoverCtrl=o).parents().toArray().reverse()).push(o),i){for((r=i.parents().toArray().reverse()).push(i),a=0;a<r.length&&n[a]===r[a];a++);for(t=r.length-1;a<=t;t--)(i=r[t]).fire("mouseleave",{target:i.getEl()})}for(t=a;t<n.length;t++)(o=n[t]).fire("mouseenter",{target:o.getEl()})}}function l(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}if(r=s._nativeEvents){for((n=s.parents().toArray()).unshift(s),e=0,t=n.length;!u&&e<t;e++)u=n[e]._eventsRoot;for(u||(u=n[n.length-1]||s),s._eventsRoot=u,t=e,e=0;e<t;e++)n[e]._eventsRoot=u;var f=u._delegates;for(o in f||(f=u._delegates={}),r){if(!r)return!1;"wheel"!==o||et?("mouseenter"===o||"mouseleave"===o?u._hasMouseEnter||(_e(u.getEl()).on("mouseleave",a).on("mouseover",c),u._hasMouseEnter=1):f[o]||(_e(u.getEl()).on(o,i),f[o]=!0),r[o]=!1):Qe?_e(s.getEl()).on("mousewheel",l):_e(s.getEl()).on("DOMMouseScroll",l)}}}w.each("text title visible disabled active value".split(" "),function(t){nt[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}});var it=Ye=Re.extend(nt),at=function(e){return!!e.getAttribute("data-mce-tabstop")};function st(e){var i,o,t=e.root;function n(e){return e&&1===e.nodeType}try{i=document.activeElement}catch(e){i=document.body}function a(e){return n(e=e||i)?e.getAttribute("role"):null}function r(e){for(var t,n=e||i;n=n.parentNode;)if(t=a(n))return t}function s(e){var t=i;if(n(t))return t.getAttribute("aria-"+e)}function u(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function c(e){var o=[];return function e(t){if(1===t.nodeType&&"none"!==t.style.display&&!t.disabled){var n;(u(n=t)&&!n.hidden||at(n)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(a(n)))&&o.push(t);for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r])}}(e||t.getEl()),o}function l(e){var t,n;(n=(e=e||o).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function f(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=l();t=t||c(r.getEl());for(var o=0;o<t.length;o++)t[o]===i&&(n=o);n+=e,r.lastAriaIndex=f(n,t)}function h(){"tablist"===r()?d(-1,c(i.parentNode)):o.parent().submenu?v():d(-1)}function p(){var e=a(),t=r();"tablist"===t?d(1,c(i.parentNode)):"menuitem"===e&&"menu"===t&&s("haspopup")?b():d(1)}function m(){d(-1)}function g(){var e=a(),t=r();"menuitem"===e&&"menubar"===t?b():"button"===e&&s("haspopup")?b({key:"down"}):d(1)}function v(){o.fire("cancel")}function b(e){e=e||{},o.fire("click",{target:i,aria:e})}return o=t.getParentCtrl(i),t.on("keydown",function(e){function t(e,t){u(i)||at(i)||"slider"!==a(i)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,p);break;case 38:t(e,m);break;case 40:t(e,g);break;case 27:v();break;case 14:case 13:case 32:t(e,b);break;case 9:!function(e){if("tablist"===r()){var t=c(o.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}(e),e.preventDefault()}}),t.on("focusin",function(e){i=e.target,o=e.control}),{focusFirst:function(e){var t=l(e),n=c(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?f(t.lastAriaIndex,n):f(0,n)}}}var ut={},ct=it.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new We,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new Be(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=v.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=ut[e]=ut[e]||new He(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,r;if(!e||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return r=this.find("*"),this.statusbar&&r.add(this.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),this;n.focusFirst(this)},replace:function(e,t){for(var n,r=this.items(),o=r.length;o--;)if(r[o]===e){r[o]=t;break}0<=o&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return w.isArray(e)||(e=[e]),w.each(e,function(e){e&&(e instanceof it||("string"==typeof e&&(e={type:e}),t=w.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=v.create(t)),r.push(e))}),r},renderNew:function(){var r=this;return r.items().each(function(e,t){var n;e.parent(r),e.state.get("rendered")||((n=r.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?_e(n.childNodes[t]).before(e.renderHtml()):_e(n).append(e.renderHtml()),e.postRender(),Ze.add(e))}),r._layout.applyClasses(r.items().filter(":visible")),r._lastRect=null,r},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var r,o,i;return e=this.create(e),r=this.items(),!n&&t<r.length-1&&(t+=1),0<=t&&t<r.length&&(o=r.slice(0,t).toArray(),i=r.slice(t).toArray(),r.set(o.concat(e,i))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var r={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(r[t]=n)}),r},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=st({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!==e.w||t.h!==e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(Ze.remove(this),this.visible()){for(it.repaintControls=[],it.repaintControls.map={},this.recalc(),e=it.repaintControls.length;e--;)it.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),it.repaintControls=[]}return this}});function lt(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function ft(e,h){var p,m,t,g,v,b,y,_=h.document||document;h=h||{};var w=_.getElementById(h.handle||e);t=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=(t=_,c=Math.max,n=t.documentElement,r=t.body,o=c(n.scrollWidth,r.scrollWidth),i=c(n.clientWidth,r.clientWidth),a=c(n.offsetWidth,r.offsetWidth),s=c(n.scrollHeight,r.scrollHeight),u=c(n.clientHeight,r.clientHeight),{width:o<a?i:o,height:s<c(n.offsetHeight,r.offsetHeight)?u:s});lt(e),e.preventDefault(),m=e.button,l=w,b=e.screenX,y=e.screenY,f=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,p=_e("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(_.body),_e(_).on("mousemove touchmove",v).on("mouseup touchend",g),h.start(e)},v=function(e){if(lt(e),e.button!==m)return g(e);e.deltaX=e.screenX-b,e.deltaY=e.screenY-y,e.preventDefault(),h.drag(e)},g=function(e){lt(e),_e(_).off("mousemove touchmove",v).off("mouseup touchend",g),p.remove(),h.stop&&h.stop(e)},this.destroy=function(){_e(w).off()},_e(w).on("mousedown touchstart",t)}var dt,ht,pt,mt,gt={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var g=this,v=2;function n(){var p,m,e;function t(e,t,n,r,o,i){var a,s,u,c,l,f,d,h;if(s=g.getEl("scroll"+e)){if(d=t.toLowerCase(),h=n.toLowerCase(),_e(g.getEl("absend")).css(d,g.layoutRect()[r]-1),!o)return void _e(s).css("display","none");_e(s).css("display","block"),a=g.getEl("body"),u=g.getEl("scroll"+e+"t"),c=a["client"+n]-2*v,l=(c-=p&&m?s["client"+i]:0)/a["scroll"+n],(f={})[d]=a["offset"+t]+v,f[h]=c,_e(s).css(f),(f={})[d]=a["scroll"+t]*l,f[h]=c*l,_e(u).css(f)}}e=g.getEl("body"),p=e.scrollWidth>e.clientWidth,m=e.scrollHeight>e.clientHeight,t("h","Left","Width","contentW",p,"Height"),t("v","Top","Height","contentH",m,"Width")}g.settings.autoScroll&&(g._hasScroll||(g._hasScroll=!0,function(){function e(a,s,u,c,l){var f,e=g._id+"-scroll"+a,t=g.classPrefix;_e(g.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),g.draghelper=new ft(e+"t",{start:function(){f=g.getEl("body")["scroll"+s],_e("#"+e).addClass(t+"active")},drag:function(e){var t,n,r,o,i=g.layoutRect();n=i.contentW>i.innerW,r=i.contentH>i.innerH,o=g.getEl("body")["client"+u]-2*v,t=(o-=n&&r?g.getEl("scroll"+a)["client"+l]:0)/g.getEl("body")["scroll"+u],g.getEl("body")["scroll"+s]=f+e["delta"+c]/t},stop:function(){_e("#"+e).removeClass(t+"active")}})}g.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),g.on("wheel",function(e){var t=g.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),_e(g.getEl("body")).on("scroll",n)),n())}},vt=ct.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[gt],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),bt={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=xe.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}},yt=[],_t=[];function wt(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function xt(){dt||(dt=function(e){2!==e.button&&function(e){for(var t=yt.length;t--;){var n=yt[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(wt(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},_e(document).on("click touchstart",dt))}function Ct(o){var e=xe.getViewPort().y;function t(e,t){for(var n,r=0;r<yt.length;r++)if(yt[r]!==o)for(n=yt[r].parent();n&&(n=n.parent());)n===o&&yt[r].fixed(e).moveBy(0,t).repaint()}o.settings.autofix&&(o.state.get("fixed")?o._autoFixY>e&&(o.fixed(!1).layoutRect({y:o._autoFixY}).repaint(),t(!1,o._autoFixY-e)):(o._autoFixY=o.layoutRect().y,o._autoFixY<e&&(o.fixed(!0).layoutRect({y:0}).repaint(),t(!0,e-o._autoFixY))))}function kt(e,t){var n,r,o=St.zIndex||65535;if(e)_t.push(t);else for(n=_t.length;n--;)_t[n]===t&&_t.splice(n,1);if(_t.length)for(n=0;n<_t.length;n++)_t[n].modal&&(o++,r=_t[n]),_t[n].getEl().style.zIndex=o,_t[n].zIndex=o,o++;var i=_e("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?_e(i).css("z-index",r.zIndex-1):i&&(i.parentNode.removeChild(i),mt=!1),St.currentZIndex=o}var St=vt.extend({Mixins:[Ae,bt],init:function(e){var r=this;r._super(e),(r._eventsRoot=r).classes.add("floatpanel"),e.autohide&&(xt(),function(){if(!pt){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;pt=function(){document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,St.hideAll())},_e(window).on("resize",pt)}}(),yt.push(r)),e.autofix&&(ht||(ht=function(){var e;for(e=yt.length;e--;)Ct(yt[e])},_e(window).on("scroll",ht)),r.on("move",function(){Ct(this)})),r.on("postrender show",function(e){if(e.control===r){var t,n=r.classPrefix;r.modal&&!mt&&((t=_e("#"+n+"modal-block",r.getContainerElm()))[0]||(t=_e('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(r.getContainerElm())),c.setTimeout(function(){t.addClass(n+"in"),_e(r.getEl()).addClass(n+"in")}),mt=!0),kt(!0,r)}}),r.on("show",function(){r.parents().each(function(e){if(e.state.get("fixed"))return r.fixed(!0),!1})}),e.popover&&(r._preBodyHtml='<div class="'+r.classPrefix+'arrow"></div>',r.classes.add("popover").add("bottom").add(r.isRtl()?"end":"start")),r.aria("label",e.ariaLabel),r.aria("labelledby",r._id),r.aria("describedby",r.describedBy||r._id+"-none")},fixed:function(e){if(this.state.get("fixed")!==e){if(this.state.get("rendered")){var t=xe.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,t=this._super();for(e=yt.length;e--&&yt[e]!==this;);return-1===e&&yt.push(this),t},hide:function(){return Et(this),kt(!1,this),this._super()},hideAll:function(){St.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),kt(!1,this)),this},remove:function(){Et(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function Et(e){var t;for(t=yt.length;t--;)yt[t]===e&&yt.splice(t,1);for(t=_t.length;t--;)_t[t]===e&&_t.splice(t,1)}St.hideAll=function(){for(var e=yt.length;e--;){var t=yt[e];t&&t.settings.autohide&&(t.hide(),yt.splice(e,1))}};var Tt=function(e,t){return!(!e||t.settings.ui_container)},At=function(a,e,t){var s,n,u=g.DOM,r=a.getParam("fixed_toolbar_container");r&&(n=u.select(r)[0]);var o=function(){if(s&&s.moveRel&&s.visible()&&!s._fixed){var e=a.selection.getScrollContainer(),t=a.getBody(),n=0,r=0;if(e){var o=u.getPos(t),i=u.getPos(e);n=Math.max(0,i.x-o.x),r=Math.max(0,i.y-o.y)}s.fixed(!1).moveRel(t,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(n,r)}},i=function(){s&&(s.show(),o(),u.addClass(a.getBody(),"mce-edit-focus"))},c=function(){s&&(s.hide(),St.hideAll(),u.removeClass(a.getBody(),"mce-edit-focus"))},l=function(){s?s.visible()||i():(s=e.panel=v.create({type:n?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:Tt(n,a),fixed:Tt(n,a),border:1,items:[!1===f(a)?null:{type:"menubar",border:"0 0 1 0",items:ie(a)},M(a,d(a))]}),L.setUiContainer(a,s),_(a),n?s.renderTo(n).reflow():s.renderTo().reflow(),x(a,s),i(),H(a),a.on("nodeChange",o),a.on("ResizeWindow",o),a.on("activate",i),a.on("deactivate",c),a.nodeChanged())};return a.settings.content_editable=!0,a.on("focus",function(){!1===p(a)&&t.skinUiCss?u.styleSheetLoader.load(t.skinUiCss,l,l):l()}),a.on("blur hide",c),a.on("remove",function(){s&&(s.remove(),s=null)}),!1===p(a)&&t.skinUiCss?u.styleSheetLoader.load(t.skinUiCss,ge(a)):ge(a)(),{}};function Rt(r,o){var i,a,s=this,u=it.classPrefix;s.show=function(e,t){function n(){i&&(_e(r).append('<div class="'+u+"throbber"+(o?" "+u+"throbber-inline":"")+'"></div>'),t&&t())}return s.hide(),i=!0,e?a=c.setTimeout(n,e):n(),s},s.hide=function(){var e=r.lastChild;return c.clearTimeout(a),e&&-1!==e.className.indexOf("throbber")&&e.parentNode.removeChild(e),i=!1,s}}var Nt=function(e,t){var n;e.on("ProgressState",function(e){n=n||new Rt(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},Ot=function(e,t,n){var r=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"lightgray";r=r?e.documentBaseURI.toAbsolute(r):u.baseURL+"/skins/"+o}return r}(e);return r&&(n.skinUiCss=r+"/skin.min.css",e.contentCSS.push(r+"/content"+(e.inline?".inline":"")+".min.css")),Nt(e,t),e.getParam("inline",!1,"boolean")?At(e,t,n):ye(e,t,n)},Dt=it.extend({Mixins:[Ae],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),Lt=it.extend({init:function(r){var o=this;o._super(r),r=o.settings,o.canFocus=!0,r.tooltip&&!1!==Lt.tooltips&&(o.on("mouseenter",function(e){var t=o.tooltip().moveTo(-65535);if(e.control===o){var n=t.text(r.tooltip).show().testMoveRel(o.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===n),t.classes.toggle("tooltip-nw","bc-tl"===n),t.classes.toggle("tooltip-ne","bc-tr"===n),t.moveRel(o.getEl(),n)}else t.hide()}),o.on("mouseleave mousedown click",function(){o.tooltip().remove(),o._tooltip=null})),o.aria("label",r.ariaLabel||r.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Dt({type:"tooltip"}),L.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){var t=this;function n(e){t.aria("disabled",e),t.classes.toggle("disabled",e)}function r(e){t.aria("pressed",e),t.classes.toggle("active",e)}return t.state.on("change:disabled",function(e){n(e.value)}),t.state.on("change:active",function(e){r(e.value)}),t.state.get("disabled")&&n(!0),t.state.get("active")&&r(!0),t._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Bt=Lt.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var t=this;function n(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}return t.state.on("change:value",function(e){n(e.value)}),n(t.state.get("value")),t._super()}}),Pt=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},Mt=it.extend({Mixins:[Ae],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new Bt),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e,t=this,n=t.classPrefix,r="",o="",i="";return t.icon&&(r='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(o='<button type="button" class="'+n+'close" aria-hidden="true"></button>'),t.progressBar&&(i=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+r+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+i+o+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return c.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Pt(e,e.state.get("text"))},100),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().firstChild.innerHTML=e.value,Pt(t,e.value)}),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",function(e){Pt(t,t.state.get("text"))})),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}});function It(i){var a=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,t){var n,r=w.extend(e,{maxWidth:(n=a(i),xe.getSize(n).width)}),o=new Mt(r);return 0<(o.args=r).timeout&&(o.timer=setTimeout(function(){o.close(),t()},r.timeout)),o.on("close",function(){t()}),o.renderTo(),o},close:function(e){e.close()},reposition:function(e){var t;t=e,ee.each(t,function(e){e.moveTo(0,0)}),function(n){if(0<n.length){var e=n.slice(0,1)[0],t=a(i);e.moveRel(t,"tc-tc"),ee.each(n,function(e,t){0<t&&e.moveRel(n[t-1].getEl(),"bc-tc")})}}(e)},getArgs:function(e){return e.args}}}var Ft=[],jt="";function zt(e){var t,n=_e("meta[name=viewport]")[0];!1!==fe.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==jt&&(jt=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":jt))}function Ht(e,t){(function(){for(var e=0;e<Ft.length;e++)if(Ft[e]._fullscreen)return!0;return!1})()&&!1===t&&_e([document.documentElement,document.body]).removeClass(e+"fullscreen")}var qt=St.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new vt({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(xe.hasClass(e.target,t)||xe.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,r,o=this,i=o.statusbar;o._fullscreen&&(o.layoutRect(xe.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:n}),r=!0),i&&(i.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=i.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:n}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var r=xe.getSize(e);t.headerW=r.width,t.headerH=r.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var o=xe.getWindowSize();return t.x=this.settings.x||Math.max(0,o.w/2-t.w/2),t.y=this.settings.y||Math.max(0,o.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,o=e.settings,i="",a="",s=o.html;return e.preRender(),t.preRender(e),o.title&&(i='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(o.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),o.url&&(s='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+i+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,r=this,o=document.documentElement,i=r.classPrefix;if(e!==r._fullscreen)if(_e(window).on("resize",function(){var e;if(r._fullscreen)if(n)r._timer||(r._timer=c.setTimeout(function(){var e=xe.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var t=xe.getWindowSize();r.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=r.layoutRect(),r._fullscreen=e){r._initial={x:t.x,y:t.y,w:t.w,h:t.h},r.borderBox=Oe("0"),r.getEl("head").style.display="none",t.deltaH-=t.headerH+2,_e([o,document.body]).addClass(i+"fullscreen"),r.classes.add("fullscreen");var a=xe.getWindowSize();r.moveTo(0,0).resizeTo(a.w,a.h)}else r.borderBox=Oe(r.settings.border),r.getEl("head").style.display="",t.deltaH+=t.headerH,_e([o,document.body]).removeClass(i+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new ft(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),Ft.push(n),zt(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),Ht(this.classPrefix,!1),e=Ft.length;e--;)Ft[e]===this&&Ft.splice(e,1);zt(0<Ft.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function(){if(!fe.desktop){var n={w:window.innerWidth,h:window.innerHeight};c.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;n.w===e&&n.h===t||(n={w:e,h:t},_e(window).trigger("resize"))},100)}_e(window).on("resize",function(){var e,t,n=xe.getWindowSize();for(e=0;e<Ft.length;e++)t=Ft[e].layoutRect(),Ft[e].moveTo(Ft[e].settings.x||Math.max(0,n.w/2-t.w/2),Ft[e].settings.y||Math.max(0,n.h/2-t.h/2))})}();var Ut,Wt=qt.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var t,r=e.callback||function(){};function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}switch(e.buttons){case Wt.OK_CANCEL:t=[n("Ok",!0,!0),n("Cancel",!1)];break;case Wt.YES_NO:case Wt.YES_NO_CANCEL:t=[n("Yes",1,!0),n("No",0)],e.buttons===Wt.YES_NO_CANCEL&&t.push(n("Cancel",-1));break;default:t=[n("Ok",!0,!0)]}return new qt({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,Wt.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=Wt.OK_CANCEL,Wt.msgBox(e)}}}),Vt=function(n){return{renderUI:function(e){return Ot(n,this,e)},resizeTo:function(e,t){return ce(n,e,t)},resizeBy:function(e,t){return le(n,e,t)},getNotificationManagerImpl:function(){return It(n)},getWindowManagerImpl:function(){return{open:function(n,e,t){var r;return n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),(r=new qt(n)).on("close",function(){t(r)}),n.data&&r.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),r.features=n||{},r.params=e||{},r=r.renderTo(document.body).reflow()},alert:function(e,t,n){var r;return(r=Wt.alert(e,function(){t()})).on("close",function(){n(r)}),r},confirm:function(e,t,n){var r;return(r=Wt.confirm(e,function(e){t(e)})).on("close",function(){n(r)}),r},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}}},Kt=Re.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=w.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,o,i=this.settings;t=i.firstControlClass,n=i.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(i.controlClass),e.visible()&&(r||(r=e),o=e)}),r&&r.classes.add(t),o&&o.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),$t=Kt.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Gt=Lt.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this._id,r=this.classPrefix,o=this.state.get("icon"),i=this.state.get("text"),a="",s=this.settings;return(e=s.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i&&(this.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+this.encode(i)+"</span>"),o=o?r+"ico "+r+"i-"+o:"",t="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+n+'" class="'+this.classes+'" tabindex="-1"'+t+'><button id="'+n+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){var i=this,n=i.$,r=i.classPrefix+"txt";function a(e){var t=n("span."+r,i.getEl());e?(t[0]||(n("button:first",i.getEl()).append('<span class="'+r+'"></span>'),t=n("span."+r,i.getEl())),t.html(i.encode(e))):t.remove(),i.classes.toggle("btn-has-text",!!e)}return i.state.on("change:text",function(e){a(e.value)}),i.state.on("change:icon",function(e){var t=e.value,n=i.classPrefix;t=(i.settings.icon=t)?n+"ico "+n+"i-"+i.settings.icon:"";var r=i.getEl().firstChild,o=r.getElementsByTagName("i")[0];t?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=t):o&&r.removeChild(o),a(i.state.get("text"))}),i._super()}}),Yt=Gt.extend({init:function(e){e=w.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var n=this,t=xe.create("input",{type:"file",id:n._id+"-browse",accept:n.settings.accept});n._super(),_e(t).on("change",function(e){var t=e.target.files;n.value=function(){return t.length?n.settings.multiple?t:t[0]:null},e.preventDefault(),t.length&&n.fire("change",e)}),_e(t).on("click",function(e){e.stopPropagation()}),_e(n.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),n.getEl().appendChild(t)},remove:function(){_e(this.getEl("button")).off(),_e(this.getEl("input")).off(),this._super()}}),Xt=ct.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}}),Jt=Lt.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var i=this;function t(e){i.classes.toggle("checked",e),i.aria("checked",e)}return i.state.on("change:text",function(e){i.getEl("al").firstChild.data=i.translate(e.value)}),i.state.on("change:checked change:value",function(e){i.fire("change"),t(e.value)}),i.state.on("change:icon",function(e){var t=e.value,n=i.classPrefix;if(void 0===t)return i.settings.icon;t=(i.settings.icon=t)?n+"ico "+n+"i-"+i.settings.icon:"";var r=i.getEl().firstChild,o=r.getElementsByTagName("i")[0];t?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=t):o&&r.removeChild(o)}),i.state.get("checked")&&t(!0),i._super()}}),Zt=tinymce.util.Tools.resolve("tinymce.util.VK"),Qt=Lt.extend({init:function(r){var o=this;o._super(r),r=o.settings,o.classes.add("combobox"),o.subinput=!0,o.ariaTarget="inp",r.menu=r.menu||r.values,r.menu&&(r.icon="caret"),o.on("click",function(e){var t=e.target,n=o.getEl();if(_e.contains(n,t)||t===n)for(;t&&t!==n;)t.id&&-1!==t.id.indexOf("-open")&&(o.fire("action"),r.menu&&(o.showMenu(),e.aria&&o.menu.items()[0].focus())),t=t.parentNode}),o.on("keydown",function(e){var t;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),o.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),o.fire("submit",{data:t.toJSON()}))}),o.on("keyup",function(e){if("INPUT"===e.target.nodeName){var t=o.state.get("value"),n=e.target.value;n!==t&&(o.state.set("value",n),o.fire("autocomplete",e))}}),o.on("mouseover",function(e){var t=o.tooltip().moveTo(-65535);if(o.statusLevel()&&-1!==e.target.className.indexOf(o.classPrefix+"status")){var n=o.statusMessage()||"Ok",r=t.text(n).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===r),t.classes.toggle("tooltip-nw","bc-tl"===r),t.classes.toggle("tooltip-ne","bc-tr"===r),t.moveRel(e.target,r)}})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=v.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this.getEl(),r=this.getEl("open"),o=this.layoutRect(),i=0,a=n.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(i=parseInt(xe.getRuntimeStyle(a,"padding-right"),10)-parseInt(xe.getRuntimeStyle(a,"padding-left"),10)),e=r?o.w-xe.getSize(r).width-10:o.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(t=this.layoutRect().h-2+"px"),_e(a).css({width:e-i,lineHeight:t}),this._super(),this},postRender:function(){var t=this;return _e(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,r=this,o=r._id,i=r.settings,a=r.classPrefix,s=r.state.get("value")||"",u="",c="";return"spellcheck"in i&&(c+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(c+=' maxlength="'+i.maxLength+'"'),i.size&&(c+=' size="'+i.size+'"'),i.subtype&&(c+=' type="'+i.subtype+'"'),n='<i id="'+o+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(c+=' disabled="disabled"'),(e=i.icon)&&"caret"!==e&&(e=a+"ico "+a+"i-"+i.icon),t=r.state.get("text"),(e||t)&&(u='<div id="'+o+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+o+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+o+'" class="'+r.classes+'"><input id="'+o+'-inp" class="'+a+'textbox" value="'+r.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+r.encode(i.placeholder)+'" />'+n+u+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,r){var o=this;if(0!==e.length){o.menu?o.menu.items().remove():o.menu=v.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),w.each(e,function(e){var t,n;o.menu.add({text:e.title,url:e.previewUrl,match:r,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){o.fire("selectitem",{title:n,value:t})})})}),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()});var t=o.layoutRect().w;o.menu.layoutRect({w:t,minW:0,maxW:t}),o.menu.repaint(),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var o=this;o.state.on("change:value",function(e){o.getEl("inp").value!==e.value&&(o.getEl("inp").value=e.value)}),o.state.on("change:disabled",function(e){o.getEl("inp").disabled=e.value}),o.state.on("change:statusLevel",function(e){var t=o.getEl("status"),n=o.classPrefix,r=e.value;xe.css(t,"display","none"===r?"none":""),xe.toggleClass(t,n+"i-checkmark","ok"===r),xe.toggleClass(t,n+"i-warning","warn"===r),xe.toggleClass(t,n+"i-error","error"===r),o.classes.toggle("has-status","none"!==r),o.repaint()}),xe.on(o.getEl("status"),"mouseleave",function(){o.tooltip().hide()}),o.on("cancel",function(e){o.menu&&o.menu.visible()&&(e.stopPropagation(),o.hideMenu())});var n=function(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()};return o.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===Zt.DOWN?(e.preventDefault(),o.fire("autocomplete"),n(0,o.menu)):t===Zt.UP&&(e.preventDefault(),n(-1,o.menu)))}),o._super()},remove:function(){_e(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),en=Qt.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}}),tn=Gt.extend({showPanel:function(){var t=this,e=t.settings;if(t.classes.add("opened"),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new St(n).on("hide",function(){t.classes.remove("opened")}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}var r=t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));t.panel.classes.toggle("start","bc-tl"===r),t.panel.classes.toggle("end","bc-tr"===r),t.panel.moveRel(t.getEl(),r)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),nn=g.DOM,rn=tn.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),o=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",i=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+i+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"===e.aria.key||e.control!==t||nn.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}}),on=tinymce.util.Tools.resolve("tinymce.util.Color"),an=Lt.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var n,r,o,i,a,s=this,u=s.color();function c(e,t){var n,r,o=xe.getPos(e);return n=t.pageX-o.x,r=t.pageY-o.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:r=Math.max(0,Math.min(r/e.clientHeight,1))}}function l(e,t){var n=(360-e.h)/360;xe.css(o,{top:100*n+"%"}),t||xe.css(a,{left:e.s+"%",top:100-e.v+"%"}),i.style.background=on({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){var t;t=c(i,e),n.s=100*t.x,n.v=100*(1-t.y),l(n),s.fire("change")}function t(e){var t;t=c(r,e),(n=u.toHsv()).h=360*(1-t.y),l(n,!0),s.fire("change")}r=s.getEl("h"),o=s.getEl("hp"),i=s.getEl("sv"),a=s.getEl("svp"),s._repaint=function(){l(n=u.toHsv())},s._super(),s._svdraghelper=new ft(s._id+"-sv",{start:e,drag:e}),s._hdraghelper=new ft(s._id+"-h",{start:t,drag:t}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=on()),this._color},renderHtml:function(){var e,t=this._id,i=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+i+'colorpicker-h" style="background: -ms-linear-gradient(top,'+a+");background: linear-gradient(to bottom,"+a+');">'+function(){var e,t,n,r,o="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(r=a.split(",")).length-1;e<t;e++)o+='<div class="'+i+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+r[e]+",endColorstr="+r[e+1]+");-ms-"+n+r[e]+",endColorstr="+r[e+1]+')"></div>';return o}()+'<div id="'+t+'-hp" class="'+i+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+i+'colorpicker-sv"><div class="'+i+'colorpicker-overlay1"><div class="'+i+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+i+'colorpicker-selector1"><div class="'+i+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),sn=Lt.extend({init:function(e){e=w.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,t,n=this.settings;return e={id:this._id,hidefocus:"1"},t=xe.create("div",e,"<span>"+this.translate(n.text)+"</span>"),n.height&&xe.css(t,"height",n.height+"px"),n.width&&xe.css(t,"width",n.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){var r=this,e=function(e){e.preventDefault(),r.classes.toggle("dragenter"),r.getEl().className=r.classes};r._super(),r.$el.on("dragover",function(e){e.preventDefault()}),r.$el.on("dragenter",e),r.$el.on("dragleave",e),r.$el.on("drop",function(e){if(e.preventDefault(),!r.state.get("disabled")){var t=function(e){var t=r.settings.accept;if("string"!=typeof t)return e;var n=new RegExp("("+t.split(/\s*,\s*/).join("|")+")$","i");return w.grep(e,function(e){return n.test(e.name)})}(e.dataTransfer.files);r.value=function(){return t.length?r.settings.multiple?t:t[0]:null},t.length&&r.fire("change",e)}})},remove:function(){this.$el.off(),this._super()}}),un=Lt.extend({init:function(e){var n=this;e.delimiter||(e.delimiter=""),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){var t,n,r=e||[],o="",i=this.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(0<t?'<div class="'+i+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+i+"path-item"+(t===n-1?" "+i+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+i+'path-item"></div>'),o}}),cn=un.extend({postRender:function(){var i=this,a=i.settings.editor;function s(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}return!1!==a.settings.elementpath&&(i.on("select",function(e){a.focus(),a.selection.select(this.row()[e.index].element),a.nodeChanged()}),a.on("nodeChange",function(e){for(var t=[],n=e.parents,r=n.length;r--;)if(1===n[r].nodeType&&!s(n[r])){var o=a.fire("ResolveName",{name:n[r].nodeName.toLowerCase(),target:n[r]});if(o.isDefaultPrevented()||t.push({name:o.name,element:n[r]}),o.isPropagationStopped())break}i.row(t)})),i._super()}}),ln=ct.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),fn=ct.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var r=this,e=r.items();r.settings.formItemDefaults||(r.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new ln(w.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},r.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),r.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var n=this;function e(){var e,t,r=0,o=[];if(!1!==n.settings.labelGapCalc)for(("children"===n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=r<n?n:r,o.push(t)}),t=n.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+t}n._super(),n.on("show",e),e()}}),dn=fn.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),hn=0,pn=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++hn+String(t)},mn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:S.constant(e)}},gn={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return mn(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return mn(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return mn(n)},fromDom:mn,fromPoint:function(e,t,n){return O.from(e.dom().elementFromPoint(t,n)).map(mn)}},vn=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},bn=8,yn=9,_n=1,wn=3,xn=function(e){return e.dom().nodeName.toLowerCase()},Cn=function(e){return e.dom().nodeType},kn=function(t){return function(e){return Cn(e)===t}},Sn=kn(_n),En=kn(wn),Tn=kn(yn),An={name:xn,type:Cn,value:function(e){return e.dom().nodeValue},isElement:Sn,isText:En,isDocument:Tn,isComment:function(e){return Cn(e)===bn||"#comment"===xn(e)}},Rn=(vn(function(){return Rn(gn.fromDom(document))}),function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return gn.fromDom(t)}),Nn=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},On={isString:Nn("string"),isObject:Nn("object"),isArray:Nn("array"),isNull:Nn("null"),isBoolean:Nn("boolean"),isUndefined:Nn("undefined"),isFunction:Nn("function"),isNumber:Nn("number")},Dn=void 0===(Ut=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:Ut,Ln=function(e,t){for(var n=Dn(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},Bn=function(r,o){var i={};return Ln(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},Pn=function(e,n){var r=[];return Ln(e,function(e,t){r.push(n(e,t))}),r},Mn=function(e){return Pn(e,function(e){return e})},In={bifilter:function(e,n){var r={},o={};return Ln(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:Ln,map:function(e,r){return Bn(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:Pn,tupleMap:Bn,find:function(e,t){for(var n=Dn(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return O.some(a)}return O.none()},keys:Dn,values:Mn,size:function(e){return Mn(e).length}},Fn=function(e){return e.slice(0).sort()},jn={sort:Fn,reqMessage:function(e,t){throw new Error("All required keys ("+Fn(e).join(", ")+") were not specified. Specified keys were: "+Fn(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+Fn(e).join(", "))},validateStrArr:function(t,e){if(!On.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");ee.each(e,function(e){if(!On.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Fn(e).join(", ")+") were not.")},checkDupes:function(e){var n=Fn(e);ee.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},zn={immutable:function(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return ee.each(t,function(e,t){r[e]=S.constant(n[t])}),r}},immutableBag:function(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return jn.validateStrArr("required",o),jn.validateStrArr("optional",i),jn.checkDupes(a),function(t){var n=In.keys(t);ee.forall(o,function(e){return ee.contains(n,e)})||jn.reqMessage(o,n);var e=ee.filter(n,function(e){return!ee.contains(a,e)});0<e.length&&jn.unsuppMessage(e);var r={};return ee.each(o,function(e){r[e]=S.constant(t[e])}),ee.each(i,function(e){r[e]=S.constant(Object.prototype.hasOwnProperty.call(t,e)?O.some(t[e]):O.none())}),r}}},Hn=("undefined"!=typeof window?window:Function("return this;")(),function(){return qn(0,0)}),qn=function(e,t){return{major:e,minor:t}},Un={nu:qn,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Hn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return qn(r(1),r(2))}(e,n)},unknown:Hn},Wn=function(e,t){return function(){return t===e}},Vn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Wn("Edge",t),isChrome:Wn("Chrome",t),isIE:Wn("IE",t),isOpera:Wn("Opera",t),isFirefox:Wn("Firefox",t),isSafari:Wn("Safari",t)}},Kn={unknown:function(){return Vn({current:void 0,version:Un.unknown()})},nu:Vn,edge:S.constant("Edge"),chrome:S.constant("Chrome"),ie:S.constant("IE"),opera:S.constant("Opera"),firefox:S.constant("Firefox"),safari:S.constant("Safari")},$n=function(e,t){return function(){return t===e}},Gn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:$n("Windows",t),isiOS:$n("iOS",t),isAndroid:$n("Android",t),isOSX:$n("OSX",t),isLinux:$n("Linux",t),isSolaris:$n("Solaris",t),isFreeBSD:$n("FreeBSD",t)}},Yn={unknown:function(){return Gn({current:void 0,version:Un.unknown()})},nu:Gn,windows:S.constant("Windows"),ios:S.constant("iOS"),android:S.constant("Android"),linux:S.constant("Linux"),osx:S.constant("OSX"),solaris:S.constant("Solaris"),freebsd:S.constant("FreeBSD")},Xn=function(e,t){var n=String(t).toLowerCase();return ee.find(e,function(e){return e.search(n)})},Jn=function(e,n){return Xn(e,n).map(function(e){var t=Un.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Zn=function(e,n){return Xn(e,n).map(function(e){var t=Un.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Qn=function(e,t){return-1!==e.indexOf(t)},er=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,tr=function(t){return function(e){return Qn(e,t)}},nr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Qn(e,"edge/")&&Qn(e,"chrome")&&Qn(e,"safari")&&Qn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,er],search:function(e){return Qn(e,"chrome")&&!Qn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Qn(e,"msie")||Qn(e,"trident")}},{name:"Opera",versionRegexes:[er,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:tr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:tr("firefox")},{name:"Safari",versionRegexes:[er,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Qn(e,"safari")||Qn(e,"mobile/"))&&Qn(e,"applewebkit")}}],rr=[{name:"Windows",search:tr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Qn(e,"iphone")||Qn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:tr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:tr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:tr("linux"),versionRegexes:[]},{name:"Solaris",search:tr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:tr("freebsd"),versionRegexes:[]}],or={browsers:S.constant(nr),oses:S.constant(rr)},ir=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=or.browsers(),h=or.oses(),p=Jn(d,e).fold(Kn.unknown,Kn.nu),m=Zn(h,e).fold(Yn.unknown,Yn.nu);return{browser:p,os:m,deviceType:(n=p,r=e,o=(t=m).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,u=o||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!u,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:S.constant(o),isiPhone:S.constant(i),isTablet:S.constant(u),isPhone:S.constant(l),isTouch:S.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:S.constant(f)})}},ar=vn(function(){var e=navigator.userAgent;return ir(e)}),sr=_n,ur=yn,cr=function(e){return e.nodeType!==sr&&e.nodeType!==ur||0===e.childElementCount},lr={all:function(e,t){var n=void 0===t?document:t.dom();return cr(n)?[]:ee.map(n.querySelectorAll(e),gn.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==sr)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return cr(n)?O.none():O.from(n.querySelector(e)).map(gn.fromDom)}},fr=(ar().browser.isIE(),zn.immutable("element","offset"),function(e,t){return lr.all(t,e)}),dr=w.trim,hr=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},pr=hr("true"),mr=hr("false"),gr=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},vr=function(e){return e.innerText||e.textContent},br=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&_r(e);var t},yr=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},_r=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return pr(e)}return!1}(e)&&!mr(e)},wr=function(e){return yr(e)&&_r(e)},xr=function(e){var t,n,r=(t=e).id?t.id:pn("h");return gr("header",vr(e),"#"+r,yr(n=e)?parseInt(n.nodeName.substr(1),10):0,function(){e.id=r})},Cr=function(e){var t=e.id||e.name,n=vr(e);return gr("anchor",n||"#"+t,"#"+t,0,S.noop)},kr=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,ee.map(fr(gn.fromDom(n),t),function(e){return e.dom()})},Sr=function(e){return 0<dr(e.title).length},Er=function(e){var t,n,r=kr(e);return ee.filter((n=r,ee.map(ee.filter(n,wr),xr)).concat((t=r,ee.map(ee.filter(t,br),Cr))),Sr)},Tr={},Ar=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},Rr=function(e,t){return{title:e,value:{title:e,url:t,attach:S.noop}}},Nr=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},Or=function(e,r,o,t){var n,i,a,s,u={title:"-"},c=function(e){var t=e.hasOwnProperty(o)?e[o]:[],n=ee.filter(t,function(e){return t=e,n=r,!ee.exists(n,function(e){return e.url===t});var t,n});return w.map(n,function(e){return{title:e,value:{title:e,url:e,attach:S.noop}}})},l=function(t){var e,n=ee.filter(r,function(e){return e.type===t});return e=n,w.map(e,Ar)};return!1===t.typeahead_urls?[]:"file"===o?(n=[Dr(e,c(Tr)),Dr(e,l("header")),Dr(e,(i=l("anchor"),a=Nr(t,"anchor_top","#top"),s=Nr(t,"anchor_bottom","#bottom"),null!==a&&i.unshift(Rr("<top>",a)),null!==s&&i.push(Rr("<bottom>",s)),i))],ee.foldl(n,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(u,t)},[])):Dr(e,c(Tr))},Dr=function(e,t){var n=e.toLowerCase(),r=w.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},Lr=function(o,r,i,a){var t=function(e){var t=Er(i),n=Or(e,t,a,r);o.showAutoComplete(n,e)};o.on("autocomplete",function(){t(o.value())}),o.on("selectitem",function(e){var t=e.value;o.value(t.url);var n,r=(n=t.title).raw?n.raw:n;"image"===a?o.fire("change",{meta:{alt:r,attach:t.attach}}):o.fire("change",{meta:{text:r,attach:t.attach}}),o.focus()}),o.on("click",function(e){0===o.value().length&&"INPUT"===e.target.nodeName&&t("")}),o.on("PostRender",function(){o.getRoot().on("submit",function(e){var t,n,r;e.isDefaultPrevented()||(t=o.value(),r=Tr[n=a],/^https?/.test(t)&&(r?-1===ee.indexOf(r,t)&&(Tr[n]=r.slice(0,5).concat(t)):Tr[n]=[t]))})})},Br=function(i,e,n){var r=e.filepicker_validator_handler;r&&i.state.on("change:value",function(e){var t;0!==(t=e.value).length?r({url:t,type:n},function(e){var t,n,r,o=(n=(t=e).status,r=t.message,"valid"===n?{status:"ok",message:r}:"unknown"===n?{status:"warn",message:r}:"invalid"===n?{status:"warn",message:r}:{status:"none",message:""});i.statusMessage(o.message),i.statusLevel(o.status)}):i.statusLevel("none")})},Pr=Qt.extend({Statics:{clearHistory:function(){Tr={}}},init:function(e){var t,n,r,o=this,i=window.tinymce?window.tinymce.activeEditor:u.activeEditor,a=i.settings,s=e.filetype;e.spellcheck=!1,(r=a.file_picker_types||a.file_browser_callback_types)&&(r=w.makeMap(r,/[, ]/)),r&&!r[s]||(!(n=a.file_picker_callback)||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(o.getEl("inp").id,o.value(),s,window)}):t=function(){var e=o.fire("beforecall").meta;e=w.extend({filetype:s},e),n.call(i,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),e)}),t&&(e.icon="browse",e.onaction=t),o._super(e),o.classes.add("filepicker"),Lr(o,a,i.getBody(),s),Br(o,a,s)}}),Mr=$t.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),Ir=$t.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N,O,D,L,B,P,M,I,F=[],j=Math.max,z=Math.min;for(r=e.items().filter(":visible"),o=e.layoutRect(),i=e.paddingBox,a=e.settings,d=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,u=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!==d&&"column-reverse"!==d||(r=r.set(r.toArray().reverse()),d=d.split("-")[0]),"column"===d?(k="y",x="h",C="minH",S="maxH",T="innerH",E="top",A="deltaH",R="contentH",B="left",D="w",N="x",O="innerW",L="minW",P="right",M="deltaW",I="contentW"):(k="x",x="w",C="minW",S="maxW",T="innerW",E="left",A="deltaW",R="contentW",B="top",D="h",N="y",O="innerH",L="minH",P="bottom",M="deltaH",I="contentH"),f=o[T]-i[E]-i[E],w=l=0,t=0,n=r.length;t<n;t++)p=(h=r[t]).layoutRect(),f-=t<n-1?c:0,0<(m=h.settings.flex)&&(l+=m,p[S]&&F.push(h),p.flex=m),f-=p[C],w<(g=i[B]+p[L]+i[P])&&(w=g);if((y={})[C]=f<0?o[C]-f+o[A]:o[T]-f+o[A],y[L]=w+o[M],y[R]=o[T]-f,y[I]=w,y.minW=z(y.minW,o.maxW),y.minH=z(y.minH,o.maxH),y.minW=j(y.minW,o.startMinWidth),y.minH=j(y.minH,o.startMinHeight),!o.autoResize||y.minW===o.minW&&y.minH===o.minH){for(b=f/l,t=0,n=F.length;t<n;t++)(v=(p=(h=F[t]).layoutRect())[S])<(g=p[C]+p.flex*b)?(f-=p[S]-p[C],l-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(b=f/l,_=i[E],y={},0===l&&("end"===u?_=f+i[E]:"center"===u?(_=Math.round(o[T]/2-(o[T]-f)/2)+i[E])<0&&(_=i[E]):"justify"===u&&(_=i[E],c=Math.floor(f/(r.length-1)))),y[N]=i[B],t=0,n=r.length;t<n;t++)g=(p=(h=r[t]).layoutRect()).maxFlexSize||p[C],"center"===s?y[N]=Math.round(o[O]/2-p[D]/2):"stretch"===s?(y[D]=j(p[L]||0,o[O]-i[B]-i[P]),y[N]=i[B]):"end"===s&&(y[N]=o[O]-p[D]-i.top),0<p.flex&&(g+=p.flex*b),y[x]=g,y[k]=_,h.layoutRect(y),h.recalc&&h.recalc(),_+=g+c}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var H=e.parent();H&&(H._lastRect=null,H.recalc())}}}),Fr=Kt.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),jr=function(e,t){return lr.one(t,e)},zr=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},Hr=function(e,n){return function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}},qr=function(n){n.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:zr(n,"alignleft")},{text:"Center",icon:"aligncenter",onclick:zr(n,"aligncenter")},{text:"Right",icon:"alignright",onclick:zr(n,"alignright")},{text:"Justify",icon:"alignjustify",onclick:zr(n,"alignjustify")}]}),w.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){n.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Hr(n,t)})})},Ur=function(o){return function(r,e){return O.from(e).map(gn.fromDom).filter(An.isElement).bind(function(e){return function(e,t,n){for(;n!==t;){if(n.style[e]){var r=n.style[e];return""!==r?O.some(r):O.none()}n=n.parentNode}return O.none()}(o,r,e.dom()).or((t=o,n=e.dom(),O.from(g.DOM.getStyle(n,t,!0))));var t,n}).getOr("")}},Wr={getFontSize:Ur("fontSize"),getFontFamily:S.compose(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Ur("fontFamily")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,r=t||0,o=Math.pow(10,r),Math.round(n*o)/o+"pt"):e;var n,r,o}},Vr=function(e){return e?e.split(",")[0]:""},Kr=function(s,u){return function(){var a=this;s.on("init nodeChange",function(e){var t,n,r,o=Wr.getFontFamily(s.getBody(),e.element),i=(t=u,n=o,w.each(t,function(e){e.value.toLowerCase()===n.toLowerCase()&&(r=e.value)}),w.each(t,function(e){r||Vr(e.value).toLowerCase()!==Vr(n).toLowerCase()||(r=e.value)}),r);a.value(i||null),!i&&o&&a.text(Vr(o))})}},$r=function(n){n.addButton("fontselect",function(){var e,t=(e=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(n.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),w.map(e,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:Kr(n,t),onselect:function(e){e.control.settings.value&&n.execCommand("FontName",!1,e.control.settings.value)}}})},Gr=function(e){$r(e)},Yr=function(e,t,n){var r;return w.each(e,function(e){e.value===n?r=n:e.value===t&&(r=t)}),r},Xr=function(n){n.addButton("fontsizeselect",function(){var e,a,s,t=(e=n.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",w.map(e.split(" "),function(e){var t=e,n=e,r=e.split("=");return 1<r.length&&(t=r[0],n=r[1]),{text:t,value:n}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:(a=n,s=t,function(){var i=this;a.on("init nodeChange",function(e){var t,n,r,o;if(t=Wr.getFontSize(a.getBody(),e.element))for(r=3;!o&&0<=r;r--)n=Wr.toPt(t,r),o=Yr(s,n,t);i.value(o||null),o||i.text(n)})}),onclick:function(e){e.control.settings.value&&n.execCommand("FontSize",!1,e.control.settings.value)}}})},Jr=function(e){Xr(e)},Zr=function(n,e){var r=e.length;return w.each(e,function(e){e.menu&&(e.hidden=0===Zr(n,e.menu));var t=e.format;t&&(e.hidden=!n.formatter.canApply(t)),e.hidden&&r--}),r},Qr=function(n,e){var r=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<Qr(n,e.menu)),!e.menu&&e.settings.menu&&e.visible(0<Zr(n,e.settings.menu));var t=e.settings.format;t&&e.visible(n.formatter.canApply(t)),e.visible()||r--}),r},eo=function(e){var r,o,i,t,a,n,s,u,c=(o=0,i=[],t=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a=function(e){var r=[];if(e)return w.each(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=a(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,i.push(e)),t.format=n,t.cmd=e.cmd}r.push(t)}),r},(r=e).on("init",function(){w.each(i,function(e){r.formatter.register(e.name,e)})}),{type:"menu",items:r.settings.style_formats_merge?r.settings.style_formats?a(t.concat(r.settings.style_formats)):a(t):a(r.settings.style_formats||t),onPostRender:function(e){r.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return r.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!r.formatter.canApply(e)),n.active(r.formatter.match(e))),(t=n.settings.cmd)&&n.active(r.queryCommandState(t))})},onclick:function(){this.settings.format&&zr(r,this.settings.format)(),this.settings.cmd&&r.execCommand(this.settings.cmd)}}});n=c,e.addMenuItem("formats",{text:"Formats",menu:n}),u=c,(s=e).addButton("styleselect",{type:"menubutton",text:"Formats",menu:u,onShowMenu:function(){s.settings.style_formats_autohide&&Qr(s,this.menu)}})},to=function(n,e){return function(){var o,i,a,t=[];return w.each(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return n.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:function(e){if(e.control){var t=e.control.value();zr(n,t)()}},onPostRender:(o=n,i=t,function(){var t=this;o.on("nodeChange",function(e){var n=o.formatter,r=null;w.each(e.parents,function(t){if(w.each(i,function(e){if(a?n.matchNode(t,a,{value:e.value})&&(r=e.value):n.matchNode(t,e.value)&&(r=e.value),r)return!1}),r)return!1}),t.value(r)})})}}},no=function(e){var t,n,r=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:(t=e,n=r,w.map(n,function(e){return{text:e[0],onclick:zr(t,e[1]),textStyle:function(){return t.formatter.getCssText(e[1])}}}))}),e.addButton("formatselect",to(e,r))},ro=function(t,e){var n,r;if("string"==typeof e)r=e.split(" ");else if(w.isArray(e))return ee.flatten(w.map(e,function(e){return ro(t,e)}));return n=w.grep(r,function(e){return"|"===e||e in t.menuItems}),w.map(n,function(e){return"|"===e?{text:"-"}:t.menuItems[e]})},oo=function(e){return e&&"-"===e.text},io=function(e){var t=ee.filter(e,function(e,t,n){return!oo(e)||!oo(n[t-1])});return ee.filter(t,function(e,t,n){return!oo(e)||0<t&&t<n.length-1})},ao=function(e){var t,n,r,o,i=e.settings.insert_button_items;return io(i?ro(e,i):(t=e,n="insert",r=[{text:"-"}],o=w.grep(t.menuItems,function(e){return e.context===n}),w.each(o,function(e){"before"===e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"===e.separator&&r.push({text:"|"})}),r))},so=function(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(ao(t)),this.menu.renderNew()}})},uo=function(e){var n,r,o;n=e,w.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){n.addButton(t,{active:!1,tooltip:e,onPostRender:Hr(n,t),onclick:zr(n,t)})}),r=e,w.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,t){r.addButton(t,{tooltip:e[0],cmd:e[1]})}),o=e,w.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,t){o.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Hr(o,t)})})},co=function(e){var n;uo(e),n=e,w.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),n.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:zr(n,"code")})},lo=function(n,r){return function(){var e=this,t=function(){var e="redo"===r?"hasRedo":"hasUndo";return!!n.undoManager&&n.undoManager[e]()};e.disabled(!t()),n.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(n.readonly||!t())})}},fo=function(e){var t,n;(t=e).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:lo(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:lo(t,"redo"),cmd:"redo"}),(n=e).addButton("undo",{tooltip:"Undo",onPostRender:lo(n,"undo"),cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:lo(n,"redo"),cmd:"redo"})},ho=function(e){var t,n;(t=e).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(n=t,function(){var t=this;n.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(n.hasVisual)}),cmd:"mceToggleVisualAid"})},po={setup:function(e){var t;e.rtl&&(it.rtl=!0),e.on("mousedown",function(){St.hideAll()}),(t=e).settings.ui_container&&(fe.container=jr(gn.fromDom(document.body),t.settings.ui_container).fold(S.constant(null),function(e){return e.dom()})),Lt.tooltips=!fe.iOS,it.translate=function(e){return u.translate(e)},no(e),qr(e),co(e),fo(e),Jr(e),Gr(e),eo(e),ho(e),so(e)}},mo=$t.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R=[],N=[];t=e.settings,o=e.items().filter(":visible"),i=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(o.length)),n=Math.ceil(o.length/r),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,_=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),_&&"string"==typeof _&&(_=[_]),w&&"string"==typeof w&&(w=[w]);for(f=0;f<r;f++)R.push(0);for(d=0;d<n;d++)N.push(0);for(d=0;d<n;d++)for(f=0;f<r&&(l=o[d*r+f]);f++)k=(c=l.layoutRect()).minW,S=c.minH,R[f]=k>R[f]?k:R[f],N[d]=S>N[d]?S:N[d];for(E=i.innerW-g.left-g.right,f=x=0;f<r;f++)x+=R[f]+(0<f?b:0),E-=(0<f?b:0)+R[f];for(T=i.innerH-g.top-g.bottom,d=C=0;d<n;d++)C+=N[d]+(0<d?y:0),T-=(0<d?y:0)+N[d];if(x+=g.left+g.right,C+=g.top+g.bottom,(u={}).minW=x+(i.w-i.innerW),u.minH=C+(i.h-i.innerH),u.contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH,u.minW=Math.min(u.minW,i.maxW),u.minH=Math.min(u.minH,i.maxH),u.minW=Math.max(u.minW,i.startMinWidth),u.minH=Math.max(u.minH,i.startMinHeight),!i.autoResize||u.minW===i.minW&&u.minH===i.minH){var O;i.autoResize&&((u=e.layoutRect(u)).contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH),O="start"===t.packV?0:0<T?Math.floor(T/n):0;var D=0,L=t.flexWidths;if(L)for(f=0;f<L.length;f++)D+=L[f];else D=r;var B=E/D;for(f=0;f<r;f++)R[f]+=L?L[f]*B:B;for(p=g.top,d=0;d<n;d++){for(h=g.left,s=N[d]+O,f=0;f<r&&(l=o[A?d*r+r-1-f:d*r+f]);f++)m=l.settings,c=l.layoutRect(),a=Math.max(R[f],c.startMinWidth),c.x=h,c.y=p,"center"===(v=m.alignH||(_?_[f]||_[0]:null))?c.x=h+a/2-c.w/2:"right"===v?c.x=h+a-c.w:"stretch"===v&&(c.w=a),"center"===(v=m.alignV||(w?w[f]||w[0]:null))?c.y=p+s/2-c.h/2:"bottom"===v?c.y=p+s-c.h:"stretch"===v&&(c.h=s),l.layoutRect(c),h+=a+b,l.recalc&&l.recalc();p+=s+y}}else if(u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect){var P=e.parent();P&&(P._lastRect=null,P.recalc())}}}),go=Lt.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):c.setTimeout(function(){n.html(e)}),this}}),vo=Lt.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),bo=Lt.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(xe.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,xe.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId,o=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+o+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+o+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),yo=ct.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}}),_o=yo.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),wo=Gt.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=v.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,o=t.settings.icon,i=t.state.get("text"),a="";return(e=t.settings.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(i)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof _o?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var o=this;return o.on("click",function(e){e.control===o&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(e.target,o.getEl())&&(o.focus(),o.showMenu(!e.aria),e.aria&&o.menu.items().filter(":visible")[0].focus())}),o.on("mouseenter",function(e){var t,n=e.control,r=o.parent();n&&r&&n instanceof wo&&n.parent()===r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),o._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),xo=St.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=w.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu"),e.animate&&11!==fe.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var t,n=this;function r(){n.throbber&&(n.throbber.hide(),n.throbber=null)}n.settings.itemsFactory&&(n.throbber||(n.throbber=new Rt(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",r)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(e){0!==e.length?n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",r(),n.items().remove(),n.getEl("body").innerHTML="",n.add(e),n.renderNew(),n.fire("loaded")):n.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return n._hasIcons=!0,!1}),n.settings.itemsFactory&&n.on("postrender",function(){n.settings.itemsFactory&&n.load()}),n.on("show hide",function(e){e.control===n&&("show"===e.type?c.setTimeout(function(){n.classes.add("in")},0):n.classes.remove("in"))}),n._super()}}),Co=wo.extend({init:function(r){var e,o,i,n,a=this;a._super(r),r=a.settings,a._values=e=r.values,e&&(void 0!==r.value&&function e(t){for(var n=0;n<t.length;n++){if(o=t[n].selected||r.value===t[n].value)return i=i||t[n].text,a.state.set("value",t[n].value),!0;if(t[n].menu&&e(t[n].menu))return!0}}(e),!o&&0<e.length&&(i=e[0].text,a.state.set("value",e[0].value)),a.state.set("menu",e)),a.state.set("text",r.text||i),a.classes.add("listbox"),a.on("select",function(e){var t=e.control;n&&(e.lastControl=n),r.multiple?t.active(!t.active()):a.value(e.control.value()),n=t})},bindStates:function(){var r=this;return r.on("show",function(e){var t,n;t=e.control,n=r.value(),t instanceof xo&&t.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}),r.state.on("change:value",function(e){var t=function e(t,n){var r;if(t)for(var o=0;o<t.length;o++){if(t[o].value===n)return t[o];if(t[o].menu&&(r=e(t[o].menu,n)))return r}}(r.state.get("menu"),e.value);t?r.text(t.text):r.text(r.settings.text)}),r._super()}}),ko=Lt.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),(t=n.menu=v.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),o),o="menu-sub-"+(t.rel=o),t.classes.remove(t._lastRel).add(o),t._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e,t=this,n=t._id,r=t.settings,o=t.classPrefix,i=t.state.get("text"),a=t.settings.icon,s="",u=r.shortcut,c=t.encode(r.url);function l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=r.match||"";return t?e.replace(new RegExp(l(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function d(e){return e.replace(new RegExp(l("!mce~match["),"g"),"<b>").replace(new RegExp(l("]mce~match!"),"g"),"</b>")}return a&&t.parent().classes.add("menu-has-icons"),r.image&&(s=" style=\"background-image: url('"+r.image+"')\""),u&&(u=function(e){var t,n,r={};for(r=fe.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(u)),a=o+"ico "+o+"i-"+(t.settings.icon||"none"),e="-"!==i?'<i class="'+a+'"'+s+"></i>":"",i=d(t.encode(f(i))),c=d(t.encode(f(c))),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+e+("-"!==i?'<span id="'+n+'-text" class="'+o+'text">'+i+"</span>":"")+(u?'<div id="'+n+'-shortcut" class="'+o+'menu-shortcut">'+u+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+(c?'<div class="'+o+'menu-item-link">'+c+"</div>":"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var r=t.getEl("text");r&&(r.setAttribute("style",e),t._textStyle=e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),c.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),So=Jt.extend({Defaults:{classes:"radio",role:"radio"}}),Eo=Lt.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new ft(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!==t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function To(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}var Ao=Lt.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t="";return e=To(this._options),this.size&&(t=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+t+">"+e+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=To(e.value)}),t._super()}});function Ro(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function No(e,t,n){e.setAttribute("aria-"+t,n)}function Oo(e,t){var n,r,o,i,a;"v"===e.settings.orientation?(o="top",r="height",n="h"):(o="left",r="width",n="w"),a=e.getEl("handle"),i=((e.layoutRect()[n]||100)-xe.getSize(a)[r])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[o]=i,a.style.height=e.layoutRect().h+"px",No(a,"valuenow",t),No(a,"valuetext",""+e.settings.previewFilter(t)),No(a,"valuemin",e._minValue),No(a,"valuemax",e._maxValue)}var Do=Lt.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"===e.orientation&&this.classes.add("vertical"),this._minValue=On.isNumber(e.minValue)?e.minValue:0,this._maxValue=On.isNumber(e.maxValue)?e.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,n,r,o,i,a,s,u,c,l,f,d,h,p=this;e=p._minValue,t=p._maxValue,"v"===p.settings.orientation?(n="screenY",r="top",o="height",i="h"):(n="screenX",r="left",o="width",i="w"),p._super(),function(i,a){function t(e){var t,n,r,o;t=Ro(t=(((t=p.value())+(o=n=i))/((r=a)-o)+.05*e)*(r-n)-n,i,a),p.value(t),p.fire("dragstart",{value:t}),p.fire("drag",{value:t}),p.fire("dragend",{value:t})}p.on("keydown",function(e){switch(e.keyCode){case 37:case 38:t(-1);break;case 39:case 40:t(1)}})}(e,t),a=e,s=t,u=p.getEl("handle"),p._dragHelper=new ft(p._id,{handle:p._id+"-handle",start:function(e){c=e[n],l=parseInt(p.getEl("handle").style[r],10),f=(p.layoutRect()[i]||100)-xe.getSize(u)[o],p.fire("dragstart",{value:h})},drag:function(e){var t=e[n]-c;d=Ro(l+t,0,f),u.style[r]=d+"px",h=a+d/f*(s-a),p.value(h),p.tooltip().text(""+p.settings.previewFilter(h)).show().moveRel(u,"bc tc"),p.fire("drag",{value:h})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:h})}})},repaint:function(){this._super(),Oo(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){Oo(t,e.value)}),t._super()}}),Lo=Lt.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),Bo=wo.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this.getEl(),r=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,_e(e).css({width:r.w-xe.getSize(t).width,height:r.h-2}),_e(t).css({height:r.h-2}),this},activeMenu:function(e){_e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t,n=this,r=n._id,o=n.classPrefix,i=n.state.get("icon"),a=n.state.get("text"),s=n.settings,u="";return(e=s.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=s.icon?o+"ico "+o+"i-"+i:"",a&&(n.classes.add("btn-has-text"),u='<span class="'+o+'txt">'+n.encode(a)+"</span>"),t="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+r+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+u+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(i?"":"")+n._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control===this)for(;t;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===t.nodeName&&-1===t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}}),Po=Fr.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Mo=vt.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),_e(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),_e(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!==t&&e.hide()})},renderHtml:function(){var r=this,e=r._layout,o="",i=r.classPrefix;return r.preRender(),e.preRender(r),r.items().each(function(e,t){var n=r._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),o+='<div id="'+n+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+r.encode(e.settings.title)+"</div>"}),'<div id="'+r._id+'" class="'+r.classes+'" hidefocus="1" tabindex="-1"><div id="'+r._id+'-head" class="'+i+'tabs" role="tablist">'+o+'</div><div id="'+r._id+'-body" class="'+r.bodyClasses+'">'+e.renderHtml(r)+"</div></div>"},postRender:function(){var r=this;r._super(),r.settings.activeTab=r.settings.activeTab||0,r.activateTab(r.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id===r._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]===e.target&&r.activateTab(n)})},initLayoutRect:function(){var e,t,n;t=(t=xe.getSize(this.getEl("head")).width)<0?0:t,n=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var r=xe.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=n+r,(e=this._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}}),Io=Lt.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,o,i=0;e=this.getEl().style,t=this._layoutRect,o=this._lastRepaintRect||{};var a=document;return!this.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-i+"px"),r=(n=this.borderBox).left+n.right+8,i=n.top+n.bottom+(this.settings.multiline?8:0),t.x!==o.x&&(e.left=t.x+"px",o.x=t.x),t.y!==o.y&&(e.top=t.y+"px",o.y=t.y),t.w!==o.w&&(e.width=t.w-r+"px",o.w=t.w),t.h!==o.h&&(e.height=t.h-i+"px",o.h=t.h),this._lastRepaintRect=o,this.fire("repaint",{},!1),this},renderHtml:function(){var t,e,n=this.settings;return t={id:this._id,hidefocus:"1"},w.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=n[e]}),this.disabled()&&(t.disabled="disabled"),n.subtype&&(t.type=n.subtype),(e=xe.create(n.multiline?"textarea":"input",t)).value=this.state.get("value"),e.className=this.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!==e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}}),Fo=function(){return{Selector:He,Collection:We,ReflowQueue:Ze,Control:it,Factory:v,KeyboardNavigation:st,Container:ct,DragHelper:ft,Scrollable:gt,Panel:vt,Movable:Ae,Resizable:bt,FloatPanel:St,Window:qt,MessageBox:Wt,Tooltip:Dt,Widget:Lt,Progress:Bt,Notification:Mt,Layout:Kt,AbsoluteLayout:$t,Button:Gt,ButtonGroup:Xt,Checkbox:Jt,ComboBox:Qt,ColorBox:en,PanelButton:tn,ColorButton:rn,ColorPicker:an,Path:un,ElementPath:cn,FormItem:ln,Form:fn,FieldSet:dn,FilePicker:Pr,FitLayout:Mr,FlexLayout:Ir,FlowLayout:Fr,FormatControls:po,GridLayout:mo,Iframe:go,InfoBox:vo,Label:bo,Toolbar:yo,MenuBar:_o,MenuButton:wo,MenuItem:ko,Throbber:Rt,Menu:xo,ListBox:Co,Radio:So,ResizeHandle:Eo,SelectBox:Ao,Slider:Do,Spacer:Lo,SplitButton:Bo,StackLayout:Po,TabPanel:Mo,TextBox:Io,DropZone:sn,BrowseButton:Yt}},jo=function(n){n.ui?w.each(Fo(),function(e,t){n.ui[t]=e}):n.ui=Fo()};w.each(Fo(),function(e,t){v.add(t,e)}),jo(window.tinymce?window.tinymce:{}),i.add("modern",function(e){return po.setup(e),Vt(e)})}()},function(e,t,n){n(138)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),t=function(e){return e.target_list},r=function(e){return e.rel_list},o=function(e){return e.link_class_list},b=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},a=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},i=function(e){return e.link_list},y=function(e){return"string"==typeof e.default_link_target},_=function(e){return e.default_link_target},w=t,x=function(e,t){e.settings.target_list=t},C=function(e){return!1!==t(e)},k=r,S=function(e){return void 0!==r(e)},E=o,T=function(e){return void 0!==o(e)},A=function(e){return!1!==e.link_title},R=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=tinymce.util.Tools.resolve("tinymce.Env"),c=function(e){if(!u.ie||10<u.ie){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i=t,a=n,document.body.appendChild(i),i.dispatchEvent(a),document.body.removeChild(i)}else{var r=window.open("","_blank");if(r){r.opener=null;var o=r.document;o.open(),o.write('<meta http-equiv="refresh" content="0; url='+s.DOM.encode(e)+'">'),o.close()}}var i,a},N=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(e,t){var n,r,o=["noopener"],i=e?e.split(/\s+/):[],a=function(e){return e.filter(function(e){return-1===N.inArray(o,e)})};return(i=t?(n=a(n=i)).length?n.concat(o):o:a(i)).length?(r=i,N.trim(r.sort().join(" "))):null},f=function(e,t){return t=t||e.selection.getNode(),h(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},d=function(e){return e&&"A"===e.nodeName&&e.href},h=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},p=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))},m=function(e,t,n){var r,o;(o=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),o.parentNode.insertBefore(r,o),r.appendChild(o))},O=function(o,i){return function(r){o.undoManager.transact(function(){var e=o.selection.getNode(),t=f(o,e),n={href:r.href,target:r.target?r.target:null,rel:r.rel?r.rel:null,class:r.class?r.class:null,title:r.title?r.title:null};S(o.settings)||!1!==R(o.settings)||(n.rel=l(n.rel,"_blank"===n.target)),r.href===i.href&&(i.attach(),i={}),t?(o.focus(),r.hasOwnProperty("text")&&("innerText"in t?t.innerText=r.text:t.textContent=r.text),o.dom.setAttribs(t,n),o.selection.select(t),o.undoManager.add()):h(e)?m(o,e,n):r.hasOwnProperty("text")?o.insertContent(o.dom.createHTML("a",n,o.dom.encode(r.text))):o.execCommand("mceInsertLink",!1,n)})}},D=function(t){return function(){t.undoManager.transact(function(){var e=t.selection.getNode();h(e)?p(t,e):t.execCommand("unlink")})}},g=d,v=function(e){return 0<N.grep(e,d).length},L=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},B=f,P=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return n.replace(/\uFEFF/g,"")},M=l,I=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),j={},z=function(e,r,t){var o=function(e,n){return n=n||[],N.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,r&&r(t)),n.push(t)}),n};return o(e,t||[])},H=function(t,e,n){var r=t.selection.getRng();I.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(r),n(e)})})},q=function(a,e){var t,s,r,u,n,o,i,c,l,f,d,h={},p=a.selection,m=a.dom,g=function(e){var t=r.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),r.find("#href").value(e.control.value())},v=function(){s||!u||h.text||this.parent().parent().find("#text")[0].value(this.value())};u=L(p.getContent()),t=B(a),h.text=s=P(a.selection,t),h.href=t?m.getAttrib(t,"href"):"",t?h.target=m.getAttrib(t,"target"):y(a.settings)&&(h.target=_(a.settings)),(d=m.getAttrib(t,"rel"))&&(h.rel=d),(d=m.getAttrib(t,"class"))&&(h.class=d),(d=m.getAttrib(t,"title"))&&(h.title=d),u&&(n={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){h.text=this.value()}}),e&&(o={type:"listbox",label:"Link list",values:z(e,function(e){e.value=a.convertURL(e.value||e.url,"href")},[{text:"None",value:""}]),onselect:g,value:a.convertURL(h.href,"href"),onPostRender:function(){o=this}}),C(a.settings)&&(void 0===w(a.settings)&&x(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:z(w(a.settings))}),S(a.settings)&&(i={name:"rel",type:"listbox",label:"Rel",values:z(k(a.settings),function(e){!1===R(a.settings)&&(e.value=M(e.value,"_blank"===h.target))})}),T(a.settings)&&(l={name:"class",type:"listbox",label:"Class",values:z(E(a.settings),function(e){e.value&&(e.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[e.value]})})})}),A(a.settings)&&(f={name:"title",type:"textbox",label:"Title",value:h.title}),r=a.windowManager.open({title:"Insert link",data:h,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var t=e.meta||{};o&&o.value(a.convertURL(this.value(),"href")),N.each(e.meta,function(e,t){var n=r.find("#"+t);"text"===t?0===s.length&&(n.value(e),h.text=e):n.value(e)}),t.attach&&(j={href:this.value(),attach:t.attach}),t.text||v.call(this)},onkeyup:v,onpaste:v,onbeforecall:function(e){e.meta=r.toJSON()}},n,f,function(n){var r=[];if(N.each(a.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&r.push({text:t,value:"#"+t,selected:-1!==n.indexOf("#"+t)})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:g}}(h.href),o,i,c,l],onSubmit:function(e){var t=b(a.settings),n=O(a,j),r=D(a),o=N.extend({},h,e.data),i=o.href;i?(u&&o.text!==s||delete o.text,0<i.indexOf("@")&&-1===i.indexOf("//")&&-1===i.indexOf("mailto:")?H(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(o.href="mailto:"+i),n(o)}):!0===t&&!/^\w+:/i.test(i)||!1===t&&/^\s*www[\.|\d\.]/i.test(i)?H(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(o.href="http://"+i),n(o)}):n(o)):r()}})},U=function(e){var t,n,r;n=q,"string"==typeof(r=i((t=e).settings))?F.send({url:r,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof r?r(function(e){n(t,e)}):n(t,r)},W=function(e,t){return e.dom.getParent(t,"a[href]")},V=function(e){return W(e,e.selection.getStart())},K=function(e,t){if(t){var n=(o=t).getAttribute("data-mce-href")||o.getAttribute("href");if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else c(t.href)}var o},$=function(e){return function(){U(e)}},G=function(e){return function(){K(e,V(e))}},Y=function(i){return function(e){var t,n,r,o;return!!(a(i.settings)&&(!(o=i.plugins.contextmenu)||!o.isContextMenuVisible())&&g(e)&&3===(r=(n=(t=i.selection).getRng()).startContainer).nodeType&&t.isCollapsed()&&0<n.startOffset&&n.startOffset<r.data.length)}},X=function(r){r.on("click",function(e){var t=W(r,e.target);t&&n.metaKeyPressed(e)&&(e.preventDefault(),K(r,t))}),r.on("keydown",function(e){var t,n=V(r);n&&13===e.keyCode&&!0===(t=e).altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey&&(e.preventDefault(),K(r,n))})},J=function(n){return function(){var t=this;n.on("nodechange",function(e){t.active(!n.readonly&&!!B(n,e.element))})}},Z=function(n){return function(){var t=this,e=function(e){v(e.parents)?t.show():t.hide()};v(n.dom.getParents(n.selection.getStart()))||t.hide(),n.on("nodechange",e),t.on("remove",function(){n.off("nodechange",e)})}},Q=function(e){e.addCommand("mceLink",$(e))},ee=function(e){e.addShortcut("Meta+K","",$(e))},te=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:$(e),onpostrender:J(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:D(e),onpostrender:J(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:G(e)})},ne=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:G(e),onPostRender:Z(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:$(e),stateSelector:"a[href]",context:"insert",prependToContext:!0})},re=function(e){e.addContextToolbar&&e.addContextToolbar(Y(e),"openlink | link unlink")};e.add("link",function(e){te(e),ne(e),re(e),X(e),Q(e),ee(e)})}()},function(e,t,n){n(140)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),c=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),m=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r=function(e){return e&&"BR"===e.nodeName},o=function(e){return e&&3===e.nodeType},v=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},i=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},a=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},b=r,s=function(e){return e.parentNode.firstChild===e},l=function(e){return e.parentNode.lastChild===e},y=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},f=function(e,t){return e&&e.nodeName in t},d=function(e,t){return!!r(t)&&!(!e.isBlock(t.nextSibling)||r(t.previousSibling))},h=function(e,t,n){var r=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r},p=function(e,t){return e.isChildOf(t,e.getRoot())},_=function(e,t){var n=u.getNode(e,t);return i(e)&&o(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:{container:e,offset:t}},w=function(e){var t=e.cloneRange(),n=_(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=_(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},x=t.DOM,C=function(o){var i={},e=function(e){var t,n,r;n=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"],1===n.nodeType&&(t=x.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(r=Math.min(r,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[r]):x.insertAfter(t,n.childNodes[r])):n.appendChild(t),n=t,r=0),i[e?"startContainer":"endContainer"]=n,i[e?"startOffset":"endOffset"]=r};return e(!0),o.collapsed||e(),i},k=function(o){function e(e){var t,n,r;t=r=o[e?"startContainer":"endContainer"],n=o[e?"startOffset":"endOffset"],t&&(1===t.nodeType&&(n=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(t),t=t.parentNode,x.remove(r),!t.hasChildNodes()&&x.isBlock(t)&&t.appendChild(x.create("br"))),o[e?"startContainer":"endContainer"]=t,o[e?"startOffset":"endOffset"]=n)}e(!0),e();var t=x.createRng();return t.setStart(o.startContainer,o.startOffset),o.endContainer&&t.setEnd(o.endContainer,o.endOffset),w(t)},S=t.DOM,E=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),h(e,r)&&S.remove(r)):S.setStyle(r,"listStyleType","none")),v(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},T=function(t,e){g.each(g.grep(t.select("ol,ul",e)),function(e){E(t,e)})},A=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),R=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",N(e,t))},N=function(e,t){var n=e.dom.getParents(t,"TD,TH");return 0<n.length?n[0]:e.getBody()},O={getParentList:R,getSelectedSubLists:function(e){var t,n,r,o=R(e),i=e.selection.getSelectedBlocks();return r=i,(n=o)&&1===r.length&&r[0]===n?(t=o,g.grep(t.querySelectorAll("ol,ul,dl"),function(e){return v(e)})):g.grep(i,function(e){return v(e)&&o!==e})},getSelectedListItems:function(e){var n,t,r,o=e.selection.getSelectedBlocks();return g.grep((n=e,t=o,r=g.map(t,function(e){var t=n.dom.getParent(e,"li,dd,dt",N(n,e));return t||e}),A.unique(r)),function(e){return i(e)})},getClosestListRootElm:N},D=tinymce.util.Tools.resolve("tinymce.Env"),L=t.DOM,B=function(e,t,n){var r,o,i,a=L.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&((o=L.create(n)).tagName===e.settings.forced_root_block&&L.setAttribs(o,e.settings.forced_root_block_attrs),f(t.firstChild,s)||a.appendChild(o)),t)for(;r=t.firstChild;){var u=r.nodeName;i||"SPAN"===u&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),f(r,s)?(a.appendChild(r),o=null):n?(o||(o=L.create(n),a.appendChild(o)),o.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?i||D.ie&&!(10<D.ie)||o.appendChild(L.create("br",{"data-mce-bogus":"1"})):a.appendChild(L.create("br")),a},P=t.DOM,M=function(e,t,n,r){var o,i,a,s,u;for(a=P.select('span[data-mce-type="bookmark"]',t),r=r||B(e,n),(o=P.createRng()).setStartAfter(n),o.setEndAfter(t),s=(i=o.extractContents()).firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){P.remove(s);break}e.dom.isEmpty(i)||P.insertAfter(i,t),P.insertAfter(r,t),h(e.dom,n.parentNode)&&(u=n.parentNode,g.each(a,function(e){u.parentNode.insertBefore(e,n.parentNode)}),P.remove(u)),P.remove(n),h(e.dom,t)&&P.remove(t)},I=t.DOM,F=function(e,t){h(e,t)&&I.remove(t)},j=function(e,t){var n,r=t.parentNode,o=r.parentNode;return r===e.getBody()||("DD"===t.nodeName?I.rename(t,"DT"):s(t)&&l(t)?"LI"===o.nodeName?(I.insertAfter(t,o),F(e.dom,o),I.remove(r)):v(o)?I.remove(r,!0):(o.insertBefore(B(e,t),r),I.remove(r)):s(t)?"LI"===o.nodeName?(I.insertAfter(t,o),t.appendChild(r),F(e.dom,o)):v(o)?o.insertBefore(t,r):(o.insertBefore(B(e,t),r),I.remove(t)):l(t)?"LI"===o.nodeName?I.insertAfter(t,o):v(o)?I.insertAfter(t,r):(I.insertAfter(B(e,t),r),I.remove(t)):("LI"===o.nodeName?(r=o,n=B(e,t,"LI")):n=v(o)?B(e,t,"LI"):B(e,t),M(e,r,t,n),T(e.dom,r.parentNode))),!0},z=j,H=function(e){var t=O.getSelectedListItems(e);if(t.length){var n=C(e.selection.getRng(!0)),r=void 0,o=void 0,i=O.getClosestListRootElm(e,e.selection.getStart(!0));for(r=t.length;r--;)for(var a=t[r].parentNode;a&&a!==i;){for(o=t.length;o--;)if(t[o]===a){t.splice(r,1);break}a=a.parentNode}for(r=0;r<t.length&&(j(e,t[r])||0!==r);r++);return e.selection.setRng(k(n)),e.nodeChanged(),!0}},q=function(n,e){g.each(e,function(e,t){n.setAttribute(t,e)})},U=function(e,t,n){var r,o,i,a,s,u,c;r=e,o=t,a=(i=n)["list-style-type"]?i["list-style-type"]:null,r.setStyle(o,"list-style-type",a),s=e,q(u=t,(c=n)["list-attributes"]),g.each(s.select("li",u),function(e){q(e,c["list-item-attributes"])})},W=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&b(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(y(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},V=function(l,f,d){void 0===d&&(d={});var e,t=l.selection.getRng(!0),h="LI",n=O.getClosestListRootElm(l,l.selection.getStart(!0)),p=l.dom;"false"!==p.getContentEditable(l.selection.getNode())&&("DL"===(f=f.toUpperCase())&&(h="DT"),e=C(t),g.each(function(n,e,r){for(var o,i=[],a=n.dom,t=W(n,e,!0,r),s=W(n,e,!1,r),u=[],c=t;c&&(u.push(c),c!==s);c=c.nextSibling);return g.each(u,function(e){if(y(n,e))return i.push(e),void(o=null);if(a.isBlock(e)||b(e))return b(e)&&a.remove(e),void(o=null);var t=e.nextSibling;m.isBookmarkNode(e)&&(y(n,t)||!t&&e.parentNode===r)?o=null:(o||(o=a.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e))}),i}(l,t,n),function(e){var t,n,r,o,i,a,s,u,c;(n=e.previousSibling)&&v(n)&&n.nodeName===f&&(r=n,o=d,i=p.getStyle(r,"list-style-type"),a=o?o["list-style-type"]:"",i===(a=null===a?"":a))?(t=n,e=p.rename(e,h),n.appendChild(e)):(t=p.create(f),e.parentNode.insertBefore(t,e),t.appendChild(e),e=p.rename(e,h)),s=p,u=e,c=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],g.each(c,function(e){return s.setStyle(u,((t={})[e]="",t));var t}),U(p,t,d),G(l.dom,t)}),l.selection.setRng(k(e)))},K=function(r){var e=C(r.selection.getRng(!0)),o=O.getClosestListRootElm(r,r.selection.getStart(!0)),t=O.getSelectedListItems(r),n=g.grep(t,function(e){return r.dom.isEmpty(e)});t=g.grep(t,function(e){return!r.dom.isEmpty(e)}),g.each(n,function(e){h(r.dom,e)&&z(r,e)}),g.each(t,function(e){var t,n;if(e.parentNode!==r.getBody()){for(t=e;t&&t!==o;t=t.parentNode)v(t)&&(n=t);M(r,n,e),T(r.dom,n.parentNode)}}),r.selection.setRng(k(e))},$=function(e,t,n){return u=n,(s=t)&&u&&v(s)&&s.nodeName===u.nodeName&&(i=t,a=n,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(a,"list-style-type",!0))&&(r=n,t.className===r.className);var r,o,i,a,s,u},G=function(e,t){var n,r;if(n=t.nextSibling,$(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,$(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Y=function(t,e,n,r,o){if(e.nodeName!==r||X(o)){var i=C(t.selection.getRng(!0));g.each([e].concat(n),function(e){!function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);U(e,o,r)}else U(e,t,r)}(t.dom,e,r,o)}),t.selection.setRng(k(i))}else K(t)},X=function(e){return"list-style-type"in e},J={toggleList:function(e,t,n){var r=O.getParentList(e),o=O.getSelectedSubLists(e);n=n||{},r&&0<o.length?Y(e,r,o,t,n):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||X(r)){var o=C(e.selection.getRng(!0));U(e.dom,t,r),G(e.dom,e.dom.rename(t,n)),e.selection.setRng(k(o))}else K(e);else V(e,n,r)}(e,r,t,n)},removeList:K,mergeWithAdjacentLists:G},Z=function(e,t,n,r){var o,i,a=t.startContainer,s=t.startOffset;if(3===a.nodeType&&(n?s<a.data.length:0<s))return a;for(o=e.schema.getNonEmptyElements(),1===a.nodeType&&(a=u.getNode(a,s)),i=new c(a,r),n&&d(e.dom,a)&&i.next();a=i[n?"next":"prev2"]();){if("LI"===a.nodeName&&!a.hasChildNodes())return a;if(o[a.nodeName])return a;if(3===a.nodeType&&0<a.data.length)return a}},Q=function(e,t){var n=t.childNodes;return 1===n.length&&!v(n[0])&&e.isBlock(n[0])},ee=function(e,t,n){var r,o,i,a;if(o=Q(e,n)?n.firstChild:n,Q(i=e,a=t)&&i.remove(a.firstChild,!0),!h(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},te=function(e,t,n){var r,o,i=t.parentNode;p(e,t)&&p(e,n)&&(v(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&b(i.previousSibling)&&e.remove(i.previousSibling),(r=n.lastChild)&&b(r)&&t.hasChildNodes()&&e.remove(r),h(e,n,!0)&&e.$(n).empty(),ee(e,t,n),o&&n.appendChild(o),e.remove(t),h(e,i)&&i!==e.getRoot()&&e.remove(i))},ne=function(e,t,n,r){var o,i,a,s=e.dom;if(s.isEmpty(r))i=n,a=r,(o=e).dom.$(a).empty(),te(o.dom,i,a),o.selection.setCursorLocation(a);else{var u=C(t);te(s,n,r),e.selection.setRng(k(u))}},re=function(e,t){var n,r,o,i=e.dom,a=e.selection,s=a.getStart(),u=O.getClosestListRootElm(e,s),c=i.getParent(a.getStart(),"LI",u);if(c){if((n=c.parentNode)===e.getBody()&&h(i,n))return!0;if(r=w(a.getRng(!0)),(o=i.getParent(Z(e,r,t,u),"LI",u))&&o!==c)return t?ne(e,r,o,c):function(e,t,n,r){var o=C(t);te(e.dom,n,r);var i=k(o);e.selection.setRng(i)}(e,r,c,o),!0;if(!o&&!t&&J.removeList(e))return!0}return!1},oe=function(e,t){return re(e,t)||function(o,i){var a=o.dom,e=o.selection.getStart(),s=O.getClosestListRootElm(o,e),u=a.getParent(e,a.isBlock,s);if(u&&a.isEmpty(u)){var t=w(o.selection.getRng(!0)),c=a.getParent(Z(o,t,i,s),"LI",s);if(c)return o.undoManager.transact(function(){var e,t,n,r;t=u,n=s,r=(e=a).getParent(t.parentNode,e.isBlock,n),e.remove(t),r&&e.isEmpty(r)&&e.remove(r),J.mergeWithAdjacentLists(a,c.parentNode),o.selection.select(c,!0),o.selection.collapse(i)}),!0}return!1}(e,t)},ie=function(e,t){return e.selection.isCollapsed()?oe(e,t):(r=(n=e).selection.getStart(),o=O.getClosestListRootElm(n,r),!!(n.dom.getParent(r,"LI,DT,DD",o)||0<O.getSelectedListItems(n).length)&&(n.undoManager.transact(function(){n.execCommand("Delete"),T(n.dom,n.getBody())}),!0));var n,r,o},ae=function(t){t.on("keydown",function(e){e.keyCode===n.BACKSPACE?ie(t,!1)&&e.preventDefault():e.keyCode===n.DELETE&&ie(t,!0)&&e.preventDefault()})},se=ie,ue=function(t){return{backspaceDelete:function(e){se(t,e)}}},ce=t.DOM,le=function(e,t){var n;if(v(e)){for(;n=e.firstChild;)t.appendChild(n);ce.remove(e)}},fe=function(e){var t,n,r,o,i=O.getSelectedListItems(e);if(i.length){for(var a=C(e.selection.getRng(!0)),s=0;s<i.length&&(t=i[s],o=r=n=void 0,("DT"===t.nodeName?(ce.rename(t,"DD"),1):(n=t.previousSibling)&&v(n)?(n.appendChild(t),1):n&&"LI"===n.nodeName&&v(n.lastChild)?(n.lastChild.appendChild(t),le(t.lastChild,n.lastChild),1):(n=t.nextSibling)&&v(n)?(n.insertBefore(t,n.firstChild),1):(n=t.previousSibling)&&"LI"===n.nodeName&&(r=ce.create(t.parentNode.nodeName),(o=ce.getStyle(t.parentNode,"listStyleType"))&&ce.setStyle(r,"listStyleType",o),n.appendChild(r),r.appendChild(t),le(t.lastChild,r),1))||0!==s);s++);return e.selection.setRng(k(a)),e.nodeChanged(),!0}},de=function(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}},he=function(r){r.on("BeforeExecCommand",function(e){var t,n=e.command.toLowerCase();if("indent"===n?fe(r)&&(t=!0):"outdent"===n&&H(r)&&(t=!0),t)return r.fire("ExecCommand",{command:e.command}),e.preventDefault(),!0}),r.addCommand("InsertUnorderedList",function(e,t){J.toggleList(r,"UL",t)}),r.addCommand("InsertOrderedList",function(e,t){J.toggleList(r,"OL",t)}),r.addCommand("InsertDefinitionList",function(e,t){J.toggleList(r,"DL",t)}),r.addQueryStateHandler("InsertUnorderedList",de(r,"UL")),r.addQueryStateHandler("InsertOrderedList",de(r,"OL")),r.addQueryStateHandler("InsertDefinitionList",de(r,"DL"))},pe=function(e){return e.getParam("lists_indent_on_tab",!0)},me=function(e){var t;pe(e)&&(t=e).on("keydown",function(e){e.keyCode!==n.TAB||n.metaKeyPressed(e)||t.dom.getParent(t.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?H(t):fe(t))}),ae(e)},ge=function(t,i){return function(e){var o=e.control;t.on("NodeChange",function(e){var t=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e.parents,a),n=-1!==t?e.parents.slice(0,t):e.parents,r=g.grep(n,v);o.active(0<r.length&&r[0].nodeName===i)})}},ve=function(e){var t,n,r,o;n="advlist",r=(t=e).settings.plugins?t.settings.plugins:"",-1===g.inArray(r.split(/[ ,]/),n)&&(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:ge(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:ge(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:(o=e,function(e){var n=e.control;o.on("nodechange",function(){var e=O.getSelectedListItems(o),t=0<e.length&&s(e[0]);n.disabled(t)})})})};e.add("lists",function(e){return me(e),ve(e),he(e),ue(e)})}()},function(e,t,n){n(142)},function(e,t){!function(){"use strict";var e,t,n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(e){return function(){return e}},_={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:s,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:s(!1),always:s(!0)},u=_.never,c=_.always,l=function(){return f},f=(r={fold:function(e,t){return e()},is:u,isSome:u,isNone:c,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:u,forall:c,filter:l,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:_.constant("none()")},Object.freeze&&Object.freeze(r),r),d=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:c,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return d(e(n))},ap:function(e){return e.fold(l,function(e){return d(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:f},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(u,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},w={some:d,none:l,from:function(e){return null==e?f:d(e)}},h=void 0===(o=Array.prototype.indexOf)?function(e,t){return x(e,t)}:function(e,t){return o.call(e,t)},p=function(e,t){return-1<h(e,t)},m=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},g=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},v=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},b=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},y=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return w.some(n);return w.none()},x=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},C=Array.prototype.push,k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t},S=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},E=Array.prototype.slice,T={map:m,each:g,eachr:v,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:b,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=h(e,t);return-1===n?w.none():w.some(n)},foldr:function(e,t,n){return v(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return g(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return w.some(o)}return w.none()},findIndex:y,flatten:k,bind:function(e,t){var n=m(e,t);return k(n)},forall:S,exists:function(e,t){return y(e,t).isSome()},contains:p,equal:function(e,n){return e.length===n.length&&S(e,function(e,t){return e===n[t]})},reverse:function(e){var t=E.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return b(e,function(e){return!p(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=E.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?w.none():w.some(e[0])},last:function(e){return 0===e.length?w.none():w.some(e[e.length-1])}},A=void 0===(i=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:i,R=function(e,t){for(var n=A(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},N=function(r,o){var i={};return R(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},O=function(e,n){var r=[];return R(e,function(e,t){r.push(n(e,t))}),r},D=function(e){return O(e,function(e){return e})},L={bifilter:function(e,n){var r={},o={};return R(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:R,map:function(e,r){return N(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:O,tupleMap:N,find:function(e,t){for(var n=A(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return w.some(a)}return w.none()},keys:A,values:D,size:function(e){return D(e).length}},B=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},P={isString:B("string"),isObject:B("object"),isArray:B("array"),isNull:B("null"),isBoolean:B("boolean"),isUndefined:B("undefined"),isFunction:B("function"),isNumber:B("number")},M=function(e){return e.slice(0).sort()},I={sort:M,reqMessage:function(e,t){throw new Error("All required keys ("+M(e).join(", ")+") were not specified. Specified keys were: "+M(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+M(e).join(", "))},validateStrArr:function(t,e){if(!P.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");T.each(e,function(e){if(!P.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+M(e).join(", ")+") were not.")},checkDupes:function(e){var n=M(e);T.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},F={immutable:function(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return T.each(t,function(e,t){r[e]=_.constant(n[t])}),r}},immutableBag:function(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return I.validateStrArr("required",o),I.validateStrArr("optional",i),I.checkDupes(a),function(t){var n=L.keys(t);T.forall(o,function(e){return T.contains(n,e)})||I.reqMessage(o,n);var e=T.filter(n,function(e){return!T.contains(a,e)});0<e.length&&I.unsuppMessage(e);var r={};return T.each(o,function(e){r[e]=_.constant(t[e])}),T.each(i,function(e){r[e]=_.constant(Object.prototype.hasOwnProperty.call(t,e)?w.some(t[e]):w.none())}),r}}},j=F.immutable("width","height"),z=F.immutable("rows","columns"),H=F.immutable("row","column"),q=F.immutable("x","y"),U=F.immutable("element","rowspan","colspan"),W=F.immutable("element","rowspan","colspan","isNew"),V={dimensions:j,grid:z,address:H,coords:q,extended:F.immutable("element","rowspan","colspan","row","column"),detail:U,detailnew:W,rowdata:F.immutable("element","cells","section"),elementnew:F.immutable("element","isNew"),rowdatanew:F.immutable("element","cells","section","isNew"),rowcells:F.immutable("cells","section"),rowdetails:F.immutable("details","section"),bounds:F.immutable("startRow","startCol","finishRow","finishCol")},K=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:_.constant(e)}},$={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return K(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return K(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return K(n)},fromDom:K,fromPoint:function(e,t,n){return w.from(e.dom().elementFromPoint(t,n)).map(K)}},G=8,Y=9,X=1,J=3,Z=X,Q=Y,ee=function(e){return e.nodeType!==Z&&e.nodeType!==Q||0===e.childElementCount},te={all:function(e,t){var n=void 0===t?document:t.dom();return ee(n)?[]:T.map(n.querySelectorAll(e),$.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==Z)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return ee(n)?w.none():w.from(n.querySelector(e)).map($.fromDom)}},ne=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},re="undefined"!=typeof window?window:Function("return this;")(),oe=function(e,t){for(var n=null!=t?t:re,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},ie=function(e,t){var n=e.split(".");return oe(n,t)},ae=function(e,t){var n=ie(e,t);if(null==n)throw e+" not available on this browser";return n},se=function(){return ae("Node")},ue=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},ce=function(e,t){return ue(e,t,se().DOCUMENT_POSITION_CONTAINED_BY)},le=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},fe=function(){return de(0,0)},de=function(e,t){return{major:e,minor:t}},he={nu:de,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?fe():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return de(r(1),r(2))}(e,n)},unknown:fe},pe=function(e,t){return function(){return t===e}},me=function(e){var t=e.current;return{current:t,version:e.version,isEdge:pe("Edge",t),isChrome:pe("Chrome",t),isIE:pe("IE",t),isOpera:pe("Opera",t),isFirefox:pe("Firefox",t),isSafari:pe("Safari",t)}},ge={unknown:function(){return me({current:void 0,version:he.unknown()})},nu:me,edge:_.constant("Edge"),chrome:_.constant("Chrome"),ie:_.constant("IE"),opera:_.constant("Opera"),firefox:_.constant("Firefox"),safari:_.constant("Safari")},ve=function(e,t){return function(){return t===e}},be=function(e){var t=e.current;return{current:t,version:e.version,isWindows:ve("Windows",t),isiOS:ve("iOS",t),isAndroid:ve("Android",t),isOSX:ve("OSX",t),isLinux:ve("Linux",t),isSolaris:ve("Solaris",t),isFreeBSD:ve("FreeBSD",t)}},ye={unknown:function(){return be({current:void 0,version:he.unknown()})},nu:be,windows:_.constant("Windows"),ios:_.constant("iOS"),android:_.constant("Android"),linux:_.constant("Linux"),osx:_.constant("OSX"),solaris:_.constant("Solaris"),freebsd:_.constant("FreeBSD")},_e=function(e,t){var n=String(t).toLowerCase();return T.find(e,function(e){return e.search(n)})},we=function(e,n){return _e(e,n).map(function(e){var t=he.detect(e.versionRegexes,n);return{current:e.name,version:t}})},xe=function(e,n){return _e(e,n).map(function(e){var t=he.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Ce=function(e,t){return t+e},ke=function(e,t){return e+t},Se=function(e,t){return e.substring(t)},Ee=function(e,t){return e.substring(0,e.length-t)},Te=function(e){return""===e?w.none():w.some(e.substr(0,1))},Ae=function(e){return""===e?w.none():w.some(e.substring(1))},Re=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},Ne=function(e,t){return Re(e,t,0)},Oe=function(e,t){return Re(e,t,e.length-t.length)},De={supplant:function(e,o){return e.replace(/\${([^{}]*)}/g,function(e,t){var n,r=o[t];return"string"==(n=typeof r)||"number"===n?r:e})},startsWith:Ne,removeLeading:function(e,t){return Ne(e,t)?Se(e,t.length):e},removeTrailing:function(e,t){return Oe(e,t)?Ee(e,t.length):e},ensureLeading:function(e,t){return Ne(e,t)?e:Ce(e,t)},ensureTrailing:function(e,t){return Oe(e,t)?e:ke(e,t)},endsWith:Oe,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return Te(e).bind(function(t){return Ae(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)}},Le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Be=function(t){return function(e){return De.contains(e,t)}},Pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return De.contains(e,"edge/")&&De.contains(e,"chrome")&&De.contains(e,"safari")&&De.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Le],search:function(e){return De.contains(e,"chrome")&&!De.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return De.contains(e,"msie")||De.contains(e,"trident")}},{name:"Opera",versionRegexes:[Le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Be("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Be("firefox")},{name:"Safari",versionRegexes:[Le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(De.contains(e,"safari")||De.contains(e,"mobile/"))&&De.contains(e,"applewebkit")}}],Me=[{name:"Windows",search:Be("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return De.contains(e,"iphone")||De.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Be("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Be("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Be("linux"),versionRegexes:[]},{name:"Solaris",search:Be("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Be("freebsd"),versionRegexes:[]}],Ie={browsers:_.constant(Pe),oses:_.constant(Me)},Fe=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=Ie.browsers(),h=Ie.oses(),p=we(d,e).fold(ge.unknown,ge.nu),m=xe(h,e).fold(ye.unknown,ye.nu);return{browser:p,os:m,deviceType:(n=p,r=e,o=(t=m).isiOS()&&!0===/ipad/i.test(r),i=t.isiOS()&&!o,a=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,u=o||a||s&&!0===/mobile/i.test(r),c=t.isiOS()||t.isAndroid(),l=c&&!u,f=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(r),{isiPad:_.constant(o),isiPhone:_.constant(i),isTablet:_.constant(u),isPhone:_.constant(l),isTouch:_.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:_.constant(f)})}},je={detect:le(function(){var e=navigator.userAgent;return Fe(e)})},ze=function(e,t){return e.dom()===t.dom()},He=je.detect().browser.isIE()?function(e,t){return ce(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},qe={eq:ze,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return T.exists(t,_.curry(ze,e))},contains:He,is:te.is},Ue=function(e){return $.fromDom(e.dom().ownerDocument)},We=function(e){var t=e.dom();return w.from(t.parentNode).map($.fromDom)},Ve=function(e){var t=e.dom();return w.from(t.previousSibling).map($.fromDom)},Ke=function(e){var t=e.dom();return w.from(t.nextSibling).map($.fromDom)},$e=function(e){var t=e.dom();return T.map(t.childNodes,$.fromDom)},Ge=function(e,t){var n=e.dom().childNodes;return w.from(n[t]).map($.fromDom)},Ye=F.immutable("element","offset"),Xe={owner:Ue,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return $.fromDom(t)},documentElement:function(e){var t=Ue(e);return $.fromDom(t.dom().documentElement)},parent:We,findIndex:function(n){return We(n).bind(function(e){var t=$e(e);return T.findIndex(t,function(e){return qe.eq(n,e)})})},parents:function(e,t){for(var n=P.isFunction(t)?t:_.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=$.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},siblings:function(t){return We(t).map($e).map(function(e){return T.filter(e,function(e){return!qe.eq(t,e)})}).getOr([])},prevSibling:Ve,offsetParent:function(e){var t=e.dom();return w.from(t.offsetParent).map($.fromDom)},prevSiblings:function(e){return T.reverse(ne(e,Ve))},nextSibling:Ke,nextSiblings:function(e){return ne(e,Ke)},children:$e,child:Ge,firstChild:function(e){return Ge(e,0)},lastChild:function(e){return Ge(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=$e(e);return 0<n.length&&t<n.length?Ye(n[t],0):Ye(e,t)}},Je=function(e,t,n){return T.bind(Xe.children(e),function(e){return te.is(e,t)?n(e)?[e]:[]:Je(e,t,n)})},Ze={firstLayer:function(e,t){return Je(e,t,_.constant(!0))},filterFirstLayer:Je},Qe=function(e){return e.dom().nodeName.toLowerCase()},et=function(e){return e.dom().nodeType},tt=function(t){return function(e){return et(e)===t}},nt=tt(X),rt=tt(J),ot=tt(Y),it={name:Qe,type:et,value:function(e){return e.dom().nodeValue},isElement:nt,isText:rt,isDocument:ot,isComment:function(e){return et(e)===G||"#comment"===Qe(e)}},at=function(e,t,n){if(!(P.isString(n)||P.isBoolean(n)||P.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},st=function(e,t,n){at(e.dom(),t,n)},ut=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},ct=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},lt={clone:function(e){return T.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:st,setAll:function(e,t){var n=e.dom();L.each(t,function(e,t){at(n,t,e)})},get:ut,has:ct,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(o,i,e){it.isElement(o)&&it.isElement(i)&&T.each(e,function(e){var t,n,r;n=i,ct(t=o,r=e)&&!ct(n,r)&&st(n,r,ut(t,r))})}},ft=le(function(){return dt($.fromDom(document))}),dt=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return $.fromDom(t)},ht={body:ft,getBody:dt,inBody:function(e){var t=it.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},pt=function(e,t){var n=[];return T.each(Xe.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(pt(e,t))}),n},mt={all:function(e){return pt(ht.body(),e)},ancestors:function(e,t,n){return T.filter(Xe.parents(e,n),t)},siblings:function(e,t){return T.filter(Xe.siblings(e),t)},children:function(e,t){return T.filter(Xe.children(e),t)},descendants:pt},gt={all:function(e){return te.all(e)},ancestors:function(e,t,n){return mt.ancestors(e,function(e){return te.is(e,t)},n)},siblings:function(e,t){return mt.siblings(e,function(e){return te.is(e,t)})},children:function(e,t){return mt.children(e,function(e){return te.is(e,t)})},descendants:function(e,t){return te.all(t,e)}};function vt(e,t,n,r,o){return e(n,r)?w.some(n):P.isFunction(o)&&o(n)?w.none():t(n,r,o)}var bt,yt,_t,wt,xt,Ct=function(e,t,n){for(var r=e.dom(),o=P.isFunction(n)?n:_.constant(!1);r.parentNode;){r=r.parentNode;var i=$.fromDom(r);if(t(i))return w.some(i);if(o(i))break}return w.none()},kt=function(e,t){return T.find(e.dom().childNodes,_.compose(t,$.fromDom)).map($.fromDom)},St=function(e,r){var o=function(e){for(var t=0;t<e.childNodes.length;t++){if(r($.fromDom(e.childNodes[t])))return w.some($.fromDom(e.childNodes[t]));var n=o(e.childNodes[t]);if(n.isSome())return n}return w.none()};return o(e.dom())},Et={first:function(e){return St(ht.body(),e)},ancestor:Ct,closest:function(e,t,n){return vt(function(e){return t(e)},Ct,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?kt($.fromDom(e.parentNode),function(e){return!qe.eq(t,e)&&n(e)}):w.none()},child:kt,descendant:St},Tt=function(e,t,n){return Et.ancestor(e,function(e){return te.is(e,t)},n)},At={first:function(e){return te.one(e)},ancestor:Tt,sibling:function(e,t){return Et.sibling(e,function(e){return te.is(e,t)})},child:function(e,t){return Et.child(e,function(e){return te.is(e,t)})},descendant:function(e,t){return te.one(t,e)},closest:function(e,t,n){return vt(te.is,Tt,e,t,n)}},Rt=function(e,t,n){var r=void 0!==n?n:_.constant(!1);return r(t)?w.none():T.contains(e,it.name(t))?w.some(t):At.ancestor(t,e.join(","),function(e){return te.is(e,"table")||r(e)})},Nt=function(t,e){return Xe.parent(e).map(function(e){return gt.children(e,t)})},Ot=_.curry(Nt,"th,td"),Dt=_.curry(Nt,"tr"),Lt=function(e,t){return parseInt(lt.get(e,t),10)},Bt={cell:function(e,t){return Rt(["td","th"],e,t)},firstCell:function(e){return At.descendant(e,"th,td")},cells:function(e){return Ze.firstLayer(e,"th,td")},neighbourCells:Ot,table:function(e,t){return At.closest(e,"table",t)},row:function(e,t){return Rt(["tr"],e,t)},rows:function(e){return Ze.firstLayer(e,"tr")},notCell:function(e,t){return Rt(["caption","tr","tbody","tfoot","thead"],e,t)},neighbourRows:Dt,attr:Lt,grid:function(e,t,n){var r=Lt(e,t),o=Lt(e,n);return V.grid(r,o)}},Pt=function(e){var t=Bt.rows(e);return T.map(t,function(e){var t=e,n=Xe.parent(t).bind(function(e){var t=it.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}),r=T.map(Bt.cells(e),function(e){var t=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1,n=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1;return V.detail(e,t,n)});return V.rowdata(t,r,n)})},Mt=function(e,n){return T.map(e,function(e){var t=T.map(Bt.cells(e),function(e){var t=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1,n=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1;return V.detail(e,t,n)});return V.rowdata(e,t,n.section())})},It=function(e,t){return e+","+t},Ft=function(e,t){var n=T.bind(e.all(),function(e){return e.cells()});return T.filter(n,t)},jt={generate:function(e){var l={},t=[],n=e.length,f=0;T.each(e,function(e,u){var c=[];T.each(e.cells(),function(e,t){for(var n=0;void 0!==l[It(u,n)];)n++;for(var r=V.extended(e.element(),e.rowspan(),e.colspan(),u,n),o=0;o<e.colspan();o++)for(var i=0;i<e.rowspan();i++){var a=n+o,s=It(u+i,a);l[s]=r,f=Math.max(f,a+1)}c.push(r)}),t.push(V.rowdata(e.element(),c,e.section()))});var r=V.grid(n,f);return{grid:_.constant(r),access:_.constant(l),all:_.constant(t)}},getAt:function(e,t,n){var r=e.access()[It(t,n)];return void 0!==r?w.some(r):w.none()},findItem:function(e,t,n){var r=Ft(e,function(e){return n(t,e.element())});return 0<r.length?w.some(r[0]):w.none()},filterItems:Ft,justCells:function(e){var t=T.map(e.all(),function(e){return e.cells()});return T.flatten(t)}},zt={isSupported:function(e){return void 0!==e.style}},Ht=function(e,t,n){if(!P.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);zt.isSupported(e)&&e.style.setProperty(t,n)},qt=function(e,t){zt.isSupported(e)&&e.style.removeProperty(t)},Ut=function(e,t,n){var r=e.dom();Ht(r,t,n)},Wt=function(e,t){return zt.isSupported(e)?e.style.getPropertyValue(t):""},Vt=function(e,t){var n=e.dom(),r=Wt(n,t);return w.from(r).filter(function(e){return 0<e.length})},Kt={copy:function(e,t){var n=e.dom(),r=t.dom();zt.isSupported(n)&&zt.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:Ut,preserve:function(e,t){var n=lt.get(e,"style"),r=t(e);return(void 0===n?lt.remove:lt.set)(e,"style",n),r},setAll:function(e,t){var n=e.dom();L.each(t,function(e,t){Ht(n,t,e)})},setOptions:function(e,t){var n=e.dom();L.each(t,function(e,t){e.fold(function(){qt(n,t)},function(e){Ht(n,t,e)})})},remove:function(e,t){var n=e.dom();qt(n,t),lt.has(e,"style")&&""===De.trim(lt.get(e,"style"))&&lt.remove(e,"style")},get:function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||ht.inBody(e)?r:Wt(n,t);return null===o?void 0:o},getRaw:Vt,getAllRaw:function(e){var t={},n=e.dom();if(zt.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},isValidValue:function(e,t,n){var r=$.fromTag(e);return Ut(r,t,n),Vt(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(r,o,e){it.isElement(r)&&it.isElement(o)&&T.each(e,function(e){var t,n;t=o,Vt(r,n=e).each(function(e){Vt(t,n).isNone()&&Ut(t,n,e)})})}},$t=function(t,n){Xe.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},Gt=function(e,t){e.dom().appendChild(t.dom())},Yt={before:$t,after:function(e,t){Xe.nextSibling(e).fold(function(){Xe.parent(e).each(function(e){Gt(e,t)})},function(e){$t(e,t)})},prepend:function(t,n){Xe.firstChild(t).fold(function(){Gt(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:Gt,appendAt:function(e,t,n){Xe.child(e,n).fold(function(){Gt(e,t)},function(e){$t(e,t)})},wrap:function(e,t){$t(e,t),Gt(t,e)}},Xt={before:function(t,e){T.each(e,function(e){Yt.before(t,e)})},after:function(r,o){T.each(o,function(e,t){var n=0===t?r:o[t-1];Yt.after(n,e)})},prepend:function(t,e){T.each(e.slice().reverse(),function(e){Yt.prepend(t,e)})},append:function(t,e){T.each(e,function(e){Yt.append(t,e)})}},Jt=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Zt={empty:function(e){e.dom().textContent="",T.each(Xe.children(e),function(e){Jt(e)})},remove:Jt,unwrap:function(e){var t=Xe.children(e);0<t.length&&Xt.before(e,t),Jt(e)}},Qt=F.immutable("minRow","minCol","maxRow","maxCol"),en=function(e,t){var n,i,r,a,s,u,c,o,l,f,d=function(e){return te.is(e.element(),t)},h=Pt(e),p=jt.generate(h),m=(i=d,r=(n=p).grid().columns(),a=n.grid().rows(),s=r,c=u=0,L.each(n.access(),function(e){if(i(e)){var t=e.row(),n=t+e.rowspan()-1,r=e.column(),o=r+e.colspan()-1;t<a?a=t:u<n&&(u=n),r<s?s=r:c<o&&(c=o)}}),Qt(a,s,u,c)),g="th:not("+t+"),td:not("+t+")",v=Ze.filterFirstLayer(e,"th,td",function(e){return te.is(e,g)});return T.each(v,Zt.remove),function(e,t,n,r){for(var o,i,a,s=t.grid().columns(),u=t.grid().rows(),c=0;c<u;c++)for(var l=!1,f=0;f<s;f++)c<n.minRow()||c>n.maxRow()||f<n.minCol()||f>n.maxCol()||(jt.getAt(t,c,f).filter(r).isNone()?(o=l,i=e[c].element(),a=$.fromTag("td"),Yt.append(a,$.fromTag("br")),(o?Yt.append:Yt.prepend)(i,a)):l=!0)}(h,p,m,d),o=e,l=m,f=T.filter(Ze.firstLayer(o,"tr"),function(e){return 0===e.dom().childElementCount}),T.each(f,Zt.remove),l.minCol()!==l.maxCol()&&l.minRow()!==l.maxRow()||T.each(Ze.firstLayer(o,"th,td"),function(e){lt.remove(e,"rowspan"),lt.remove(e,"colspan")}),lt.remove(o,"width"),lt.remove(o,"height"),Kt.remove(o,"width"),Kt.remove(o,"height"),e},tn=function(e,t){return $.fromDom(e.dom().cloneNode(t))},nn=function(e){return tn(e,!0)},rn=function(e,t){var n=$.fromTag(t),r=lt.clone(e);return lt.setAll(n,r),n},on=function(e){return tn(e,!1)},an=nn,sn=function(e,t){var n=rn(e,t),r=Xe.children(nn(e));return Xt.append(n,r),n},un=(bt=it.isText,yt="text",_t=function(e){return bt(e)?w.from(e.dom().nodeValue):w.none()},wt=je.detect().browser,{get:function(e){if(!bt(e))throw new Error("Can only get "+yt+" value of a "+yt+" node");return xt(e).getOr("")},getOption:xt=wt.isIE()&&10===wt.version.major?function(e){try{return _t(e)}catch(e){return w.none()}}:_t,set:function(e,t){if(!bt(e))throw new Error("Can only set raw "+yt+" value of a "+yt+" node");e.dom().nodeValue=t}}),cn={get:function(e){return un.get(e)},getOption:function(e){return un.getOption(e)},set:function(e,t){un.set(e,t)}},ln=function(e){return"img"===it.name(e)?1:cn.getOption(e).fold(function(){return Xe.children(e).length},function(e){return e.length})},fn=["img","br"],dn=ln,hn=function(e){var t;return t=e,cn.getOption(t).filter(function(e){return 0!==e.trim().length||-1<e.indexOf("")}).isSome()||T.contains(fn,it.name(e))},pn=function(e,i){var a=function(e){for(var t=Xe.children(e),n=t.length-1;0<=n;n--){var r=t[n];if(i(r))return w.some(r);var o=a(r);if(o.isSome())return o}return w.none()};return a(e)},mn={first:function(e){return Et.descendant(e,hn)},last:function(e){return pn(e,hn)}},gn=function(){var e=$.fromTag("td");return Yt.append(e,$.fromTag("br")),e},vn=function(e,t,n){var r=sn(e,t);return L.each(n,function(e,t){null===e?lt.remove(r,t):lt.set(r,t,e)}),r},bn=function(e){return e},yn=function(e){return function(){return $.fromTag("tr",e.dom())}},_n={cellOperations:function(u,e,c){return{row:yn(e),cell:function(e){var r,o,i,t=Xe.owner(e.element()),n=$.fromTag(it.name(e.element()),t.dom()),a=c.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=0<a.length?(r=e.element(),o=n,i=a,mn.first(r).map(function(e){var t=i.join(","),n=gt.ancestors(e,t,function(e){return qe.eq(e,r)});return T.foldr(n,function(e,t){var n=on(t);return Yt.append(e,n),n},o)}).getOr(o)):n;return Yt.append(s,$.fromTag("br")),Kt.copy(e.element(),n),Kt.remove(n,"height"),1!==e.colspan()&&Kt.remove(e.element(),"width"),u(e.element(),n),n},replace:vn,gap:gn}},paste:function(e){return{row:yn(e),cell:gn,replace:bn,gap:gn}}},wn=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,Xe.children($.fromDom(n))},xn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Cn(){return{up:_.constant({selector:At.ancestor,closest:At.closest,predicate:Et.ancestor,all:Xe.parents}),down:_.constant({selector:gt.descendants,predicate:mt.descendants}),styles:_.constant({get:Kt.get,getRaw:Kt.getRaw,set:Kt.set,remove:Kt.remove}),attrs:_.constant({get:lt.get,set:lt.set,remove:lt.remove,copyTo:function(e,t){var n=lt.clone(e);lt.setAll(t,n)}}),insert:_.constant({before:Yt.before,after:Yt.after,afterAll:Xt.after,append:Yt.append,appendAll:Xt.append,prepend:Yt.prepend,wrap:Yt.wrap}),remove:_.constant({unwrap:Zt.unwrap,remove:Zt.remove}),create:_.constant({nu:$.fromTag,clone:function(e){return $.fromDom(e.dom().cloneNode(!1))},text:$.fromText}),query:_.constant({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:Xe.prevSibling,nextSibling:Xe.nextSibling}),property:_.constant({children:Xe.children,name:it.name,parent:Xe.parent,isText:it.isText,isComment:it.isComment,isElement:it.isElement,getText:cn.get,setText:cn.set,isBoundary:function(e){return!!it.isElement(e)&&("body"===it.name(e)||T.contains(xn,it.name(e)))},isEmptyTag:function(e){return!!it.isElement(e)&&T.contains(["br","img","hr","input"],it.name(e))}}),eq:qe.eq,is:qe.is}}F.immutable("left","right");var kn=function(r,o,e,t){var n=o(r,e);return T.foldr(t,function(e,t){var n=o(r,t);return Sn(r,e,n)},n)},Sn=function(t,e,n){return e.bind(function(e){return n.filter(_.curry(t.eq,e))})},En=function(e,t,n){return 0<n.length?kn(e,t,(r=n)[0],r.slice(1)):w.none();var r},Tn=function(e,t){return _.curry(e.eq,t)},An=function(t,e,n,r){var o=void 0!==r?r:_.constant(!1),i=[e].concat(t.up().all(e)),a=[n].concat(t.up().all(n)),s=function(t){return T.findIndex(t,o).fold(function(){return t},function(e){return t.slice(0,e+1)})},u=s(i),c=s(a),l=T.find(u,function(e){return T.exists(c,Tn(t,e))});return{firstpath:_.constant(u),secondpath:_.constant(c),shared:_.constant(l)}},Rn=An,Nn=function(e,t,n){return En(e,t,n)},On=function(e,t,n,r){return Rn(e,t,n,r)},Dn=Cn(),Ln=function(n,e){return Nn(Dn,function(e,t){return n(t)},e)},Bn=function(e,t,n){return On(Dn,e,t,n)},Pn=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Mn=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},In=function(e,t){for(var n=!0,r=_.curry(Pn,t),o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)n=n&&jt.getAt(e,o,i).exists(r);return n?w.some(t):w.none()},Fn=function(e,t,n){var r=jt.findItem(e,t,qe.eq),o=jt.findItem(e,n,qe.eq);return r.bind(function(r){return o.map(function(e){return t=r,n=e,V.bounds(Math.min(t.row(),n.row()),Math.min(t.column(),n.column()),Math.max(t.row()+t.rowspan()-1,n.row()+n.rowspan()-1),Math.max(t.column()+t.colspan()-1,n.column()+n.colspan()-1));var t,n})})},jn=Fn,zn=function(t,e,n){return Fn(t,e,n).bind(function(e){return In(t,e)})},Hn=function(r,e,o,i){return jt.findItem(r,e,qe.eq).bind(function(e){var t=0<o?e.row()+e.rowspan()-1:e.row(),n=0<i?e.column()+e.colspan()-1:e.column();return jt.getAt(r,t+o,n+i).map(function(e){return e.element()})})},qn=function(n,e,t){return jn(n,e,t).map(function(e){var t=jt.filterItems(n,_.curry(Mn,e));return T.map(t,function(e){return e.element()})})},Un=function(e,t){return jt.findItem(e,t,function(e,t){return qe.contains(t,e)}).bind(function(e){return e.element()})},Wn=function(e){var t=Pt(e);return jt.generate(t)},Vn=function(n,r,o){return Bt.table(n).bind(function(e){var t=Wn(e);return Hn(t,n,r,o)})},Kn=function(e,t,n){var r=Wn(e);return qn(r,t,n)},$n=function(e,t,n,r,o){var i=Wn(e),a=qe.eq(e,n)?t:Un(i,t),s=qe.eq(e,o)?r:Un(i,r);return qn(i,a,s)},Gn=function(e,t,n){var r=Wn(e);return zn(r,t,n)},Yn=function(e,t){return At.ancestor(e,"table")},Xn=F.immutableBag(["boxes","start","finish"],[]),Jn=function(s,u,r){var c=function(t){return function(e){return r(e)||qe.eq(e,t)}};return qe.eq(s,u)?w.some(Xn({boxes:w.some([s]),start:s,finish:u})):Yn(s).bind(function(a){return Yn(u).bind(function(i){if(qe.eq(a,i))return w.some(Xn({boxes:Kn(a,s,u),start:s,finish:u}));if(qe.contains(a,i)){var e=0<(t=gt.ancestors(u,"td,th",c(a))).length?t[t.length-1]:u;return w.some(Xn({boxes:$n(a,s,a,u,i),start:s,finish:e}))}if(qe.contains(i,a)){var t,n=0<(t=gt.ancestors(s,"td,th",c(i))).length?t[t.length-1]:s;return w.some(Xn({boxes:$n(i,s,a,u,i),start:s,finish:n}))}return Bn(s,u).shared().bind(function(e){return At.closest(e,"table",r).bind(function(e){var t=gt.ancestors(u,"td,th",c(e)),n=0<t.length?t[t.length-1]:u,r=gt.ancestors(s,"td,th",c(e)),o=0<r.length?r[r.length-1]:s;return w.some(Xn({boxes:$n(e,s,a,u,i),start:o,finish:n}))})})})})},Zn={identify:Jn,retrieve:function(e,t){var n=gt.descendants(e,t);return 0<n.length?w.some(n):w.none()},shiftSelection:function(e,t,n,r,o){return(i=e,a=o,T.find(i,function(e){return te.is(e,a)})).bind(function(e){return Vn(e,t,n).bind(function(e){return t=e,n=r,At.ancestor(t,"table").bind(function(e){return At.descendant(e,n).bind(function(e){return Jn(e,t).bind(function(t){return t.boxes().map(function(e){return{boxes:_.constant(e),start:_.constant(t.start()),finish:_.constant(t.finish())}})})})});var t,n})});var i,a},getEdges:function(e,t,r){return At.descendant(e,t).bind(function(n){return At.descendant(e,r).bind(function(t){return Ln(Yn,[n,t]).map(function(e){return{first:_.constant(n),last:_.constant(t),table:_.constant(e)}})})})}},Qn={retrieve:function(e,t){return Zn.retrieve(e,t)},retrieveBox:function(o,e,t){return Zn.getEdges(o,e,t).bind(function(n){var e=function(e){return qe.eq(o,e)},t=At.ancestor(n.first(),"thead,tfoot,tbody,table",e),r=At.ancestor(n.last(),"thead,tfoot,tbody,table",e);return t.bind(function(t){return r.bind(function(e){return qe.eq(t,e)?Gn(n.table(),n.first(),n.last()):w.none()})})})}},er="data-mce-selected",tr="data-mce-first-selected",nr="data-mce-last-selected",rr={selected:_.constant(er),selectedSelector:_.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:_.constant("[data-mce-selected]"),firstSelected:_.constant(tr),firstSelectedSelector:_.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:_.constant(nr),lastSelectedSelector:_.constant("td[data-mce-last-selected],th[data-mce-last-selected]")},or=function(a){if(!P.isArray(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return T.each(a,function(e,r){var t=L.keys(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!P.isArray(i))throw new Error("case arguments must be an array");s.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=L.keys(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!T.forall(s,function(e){return T.contains(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:s,constructor:o,params:n})}}}}),n},ir=or([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ar={cata:function(e,t,n,r){return e.fold(t,n,r)},none:ir.none,multiple:ir.multiple,single:ir.single},sr=function(e,t){return ar.cata(t.get(),_.constant([]),_.identity,_.constant([e]))},ur=function(n,e){return ar.cata(e.get(),w.none,function(t,e){return 0===t.length?w.none():Qn.retrieveBox(n,rr.firstSelectedSelector(),rr.lastSelectedSelector()).bind(function(e){return 1<t.length?w.some({bounds:_.constant(e),cells:_.constant(t)}):w.none()})},w.none)},cr=function(e,t){var n=sr(e,t);return 0<n.length&&T.forall(n,function(e){return lt.has(e,"rowspan")&&1<parseInt(lt.get(e,"rowspan"),10)||lt.has(e,"colspan")&&1<parseInt(lt.get(e,"colspan"),10)})?w.some(n):w.none()},lr=sr,fr=function(e){return{element:_.constant(e),mergable:w.none,unmergable:w.none,selection:_.constant([e])}},dr=F.immutable("element","clipboard","generators"),hr={noMenu:fr,forMenu:function(e,t,n){return{element:_.constant(n),mergable:_.constant(ur(t,e)),unmergable:_.constant(cr(n,e)),selection:_.constant(lr(n,e))}},notCell:function(e){return fr(e)},paste:dr,pasteRows:function(e,t,n,r,o){return{element:_.constant(n),mergable:w.none,unmergable:w.none,selection:_.constant(lr(n,e)),clipboard:_.constant(r),generators:_.constant(o)}}},pr={registerEvents:function(s,e,u,c){s.on("BeforeGetContent",function(n){!0===n.selection&&ar.cata(e.get(),_.noop,function(e){var t;n.preventDefault(),(t=e,Bt.table(t[0]).map(an).map(function(e){return[en(e,rr.attributeSelector())]})).each(function(e){n.content=T.map(e,function(e){return t=e,s.selection.serializer.serialize(t.dom(),{});var t}).join("")})},_.noop)}),s.on("BeforeSetContent",function(a){!0===a.selection&&!0===a.paste&&w.from(s.dom.getParent(s.selection.getStart(),"th,td")).each(function(e){var i=$.fromDom(e);Bt.table(i).bind(function(t){var e=T.filter(wn(a.content),function(e){return"meta"!==it.name(e)});if(1===e.length&&"table"===it.name(e[0])){a.preventDefault();var n=$.fromDom(s.getDoc()),r=_n.paste(n),o=hr.paste(i,e[0],r);u.pasteCells(t,o).each(function(e){s.selection.setRng(e),s.focus(),c.clear(t)})}})})})}};function mr(r,o){var e=function(e){var t=o(e);if(t<=0||null===t){var n=Kt.get(e,r);return parseFloat(n)||0}return t},i=function(o,e){return T.foldl(e,function(e,t){var n=Kt.get(o,t),r=void 0===n?0:parseInt(n,10);return isNaN(r)?e:e+r},0)};return{set:function(e,t){if(!P.isNumber(t)&&!t.match(/^[0-9]+$/))throw r+".set accepts only positive integer values. Value was "+t;var n=e.dom();zt.isSupported(n)&&(n.style[r]=t+"px")},get:e,getOuter:e,aggregate:i,max:function(e,t,n){var r=i(e,n);return r<t?t-r:0}}}var gr=mr("height",function(e){return ht.inBody(e)?e.dom().getBoundingClientRect().height:e.dom().offsetHeight}),vr=function(e){return gr.get(e)},br=function(e){return gr.getOuter(e)},yr=mr("width",function(e){return e.dom().offsetWidth}),_r=function(e){return yr.get(e)},wr=function(e){return yr.getOuter(e)},xr=je.detect(),Cr=function(e,t,n){return r=Kt.get(e,t),o=n,i=parseFloat(r),isNaN(i)?o:i;var r,o,i},kr=function(e){return xr.browser.isIE()||xr.browser.isEdge()?(n=Cr(t=e,"padding-top",0),r=Cr(t,"padding-bottom",0),o=Cr(t,"border-top-width",0),i=Cr(t,"border-bottom-width",0),a=t.dom().getBoundingClientRect().height,"border-box"===Kt.get(t,"box-sizing")?a:a-n-r-(o+i)):Cr(e,"height",vr(e));var t,n,r,o,i,a},Sr=/(\d+(\.\d+)?)(\w|%)*/,Er=/(\d+(\.\d+)?)%/,Tr=/(\d+(\.\d+)?)px|em/,Ar=function(e,t){Kt.set(e,"height",t+"px")},Rr=function(e,t,n,r){var o,i,a,s,u,c=parseInt(e,10);return De.endsWith(e,"%")&&"table"!==it.name(t)?(o=t,i=c,a=n,s=r,u=Bt.table(o).map(function(e){var t=a(e);return Math.floor(i/100*t)}).getOr(i),s(o,u),u):c},Nr=function(e){var t,n=(t=e,Kt.getRaw(t,"height").getOrThunk(function(){return kr(t)+"px"}));return n?Rr(n,e,vr,Ar):vr(e)},Or=function(e,t){return lt.has(e,t)?parseInt(lt.get(e,t),10):1},Dr=function(e){return Kt.getRaw(e,"width").fold(function(){return w.from(lt.get(e,"width"))},function(e){return w.some(e)})},Lr=function(e,t){return e/t.pixelWidth()*100},Br={percentageBasedSizeRegex:_.constant(Er),pixelBasedSizeRegex:_.constant(Tr),setPixelWidth:function(e,t){Kt.set(e,"width",t+"px")},setPercentageWidth:function(e,t){Kt.set(e,"width",t+"%")},setHeight:Ar,getPixelWidth:function(t,n){return Dr(t).fold(function(){var e=_r(t);return parseInt(e,10)},function(e){return function(e,t,n){if(Tr.test(t)){var r=Tr.exec(t);return parseInt(r[1],10)}if(Er.test(t)){var o=Er.exec(t),i=parseFloat(o[1]);return i/100*n.pixelWidth()}var a=_r(e);return parseInt(a,10)}(t,e,n)})},getPercentageWidth:function(n,r){return Dr(n).fold(function(){var e=_r(n),t=parseInt(e,10);return Lr(t,r)},function(e){return function(e,t,n){if(Er.test(t)){var r=Er.exec(t);return parseFloat(r[1])}var o=_r(e),i=parseInt(o,10);return Lr(i,n)}(n,e,r)})},getGenericWidth:function(e){return Dr(e).bind(function(e){if(Sr.test(e)){var t=Sr.exec(e);return w.some({width:_.constant(t[1]),unit:_.constant(t[3])})}return w.none()})},setGenericWidth:function(e,t,n){Kt.set(e,"width",t+n)},getHeight:function(e){return n="rowspan",Nr(t=e)/Or(t,n);var t,n},getRawWidth:Dr},Pr={halve:function(n,r){Br.getGenericWidth(n).each(function(e){var t=e.width()/2;Br.setGenericWidth(n,t,e.unit()),Br.setGenericWidth(r,t,e.unit())})}},Mr=function(e,t){var n=t||$.fromDom(document.documentElement);return Et.ancestor(e,_.curry(qe.eq,n)).isSome()},Ir=function(e){var t=e.dom();return t===t.window?e:it.isDocument(e)?t.defaultView||t.parentWindow:null},Fr=function(n,r){return{left:_.constant(n),top:_.constant(r),translate:function(e,t){return Fr(n+e,r+t)}}},jr=function(e,t){return void 0!==e?e:void 0!==t?t:0},zr=function(e){var t,n=e.dom(),r=n.ownerDocument,o=r.body,i=$.fromDom(r.documentElement);return o===n?Fr(o.offsetLeft,o.offsetTop):Mr(e,i)?(t=n.getBoundingClientRect(),Fr(t.left,t.top)):Fr(0,0)},Hr=function(e){var t=e.dom().ownerDocument,n=t.body,r=Ir($.fromDom(t)),o=t.documentElement,i=jr(r.pageYOffset,o.scrollTop),a=jr(r.pageXOffset,o.scrollLeft),s=jr(o.clientTop,n.clientTop),u=jr(o.clientLeft,n.clientLeft);return zr(e).translate(a-u,i-s)},qr=F.immutable("row","y"),Ur=F.immutable("col","x"),Wr=function(e){return Hr(e).left()+wr(e)},Vr=function(e){return Hr(e).left()},Kr=function(e,t){return Ur(e,Vr(t))},$r=function(e,t){return Ur(e,Wr(t))},Gr=function(e){return Hr(e).top()},Yr=function(n,t,r){if(0===r.length)return[];var e=T.map(r.slice(1),function(e,t){return e.map(function(e){return n(t,e)})}),o=r[r.length-1].map(function(e){return t(r.length-1,e)});return e.concat([o])},Xr={delta:_.identity,positions:_.curry(Yr,function(e,t){return qr(e,Gr(t))},function(e,t){return qr(e,Gr(t)+br(t))}),edge:Gr},Jr={delta:_.identity,edge:Vr,positions:_.curry(Yr,Kr,$r)},Zr={height:Xr,rtl:{delta:function(e,t){return-e},edge:Wr,positions:_.curry(Yr,$r,Kr)},ltr:Jr},Qr={ltr:Zr.ltr,rtl:Zr.rtl};function eo(t){var n=function(e){return t(e).isRtl()?Qr.rtl:Qr.ltr};return{delta:function(e,t){return n(t).delta(e,t)},edge:function(e){return n(e).edge(e)},positions:function(e,t){return n(t).positions(e,t)}}}var to={getGridSize:function(e){var t=Pt(e);return jt.generate(t).grid()}},no=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return no(n())}}},ro=function(e,t){return oo(e,t,{validate:P.isFunction,label:"function"})},oo=function(r,o,i){if(0===o.length)throw new Error("You must specify at least one required field.");return I.validateStrArr("required",o),I.checkDupes(o),function(t){var n=L.keys(t);T.forall(o,function(e){return T.contains(n,e)})||I.reqMessage(o,n),r(o,n);var e=T.filter(o,function(e){return!i.validate(t[e],e)});return 0<e.length&&I.invalidTypeMessage(e,i.label),t}},io=_.noop,ao={exactly:_.curry(ro,function(t,e){var n=T.filter(e,function(e){return!T.contains(t,e)});0<n.length&&I.unsuppMessage(n)}),ensure:_.curry(ro,io),ensureWith:_.curry(oo,io)},so=function(e){var t=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1,n=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1;return{element:_.constant(e),colspan:_.constant(t),rowspan:_.constant(n)}},uo=ao.exactly(["cell","row","replace","gap"]),co=function(r,e){uo(r);var n=no(w.none()),o=void 0!==e?e:so,i=function(e){var t,n=o(e);return t=n,r.cell(t)},a=function(e){var t=i(e);return n.get().isNone()&&n.set(w.some(t)),s=w.some({item:e,replacement:t}),t},s=w.none();return{getOrInit:function(t,n){return s.fold(function(){return a(t)},function(e){return n(t,e.item)?e.replacement:a(t)})},cursor:n.get}},lo=function(o,s){return function(n){var r=no(w.none());uo(n);var i=[],a=function(e){var t=n.replace(e,s,{scope:o});return i.push({item:e,sub:t}),r.get().isNone()&&r.set(w.some(t)),t};return{replaceOrInit:function(t,n){return(r=t,o=n,T.find(i,function(e){return o(e.item,r)})).fold(function(){return a(t)},function(e){return n(t,e.item)?e.sub:a(t)});var r,o},cursor:r.get}}},fo=function(n){uo(n);var e=no(w.none());return{combine:function(t){return e.get().isNone()&&e.set(w.some(t)),function(){var e=n.cell({element:_.constant(t),colspan:_.constant(1),rowspan:_.constant(1)});return Kt.remove(e,"width"),Kt.remove(t,"width"),e}},cursor:e.get}},ho=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],po=function(e,t){var n=e.property().name(t);return T.contains(ho,n)},mo=function(e,t){return T.contains(["br","img","hr","input"],e.property().name(t))},go=po,vo=function(e,t){var n=e.property().name(t);return T.contains(["ol","ul"],n)},bo=mo,yo=Cn(),_o=function(e){return go(yo,e)},wo=function(e){return vo(yo,e)},xo=function(e){return bo(yo,e)},Co=function(e){var t,i=function(e){return"br"===it.name(e)},r=function(o){return mn.last(o).bind(function(n){var e,r=(e=n,Xe.nextSibling(e).map(function(e){return!!_o(e)||(xo(e)?"img"!==it.name(e):void 0)}).getOr(!1));return Xe.parent(n).map(function(e){return!0===r||(t=e,"li"===it.name(t)||Et.ancestor(t,wo).isSome())||i(n)||_o(e)&&!qe.eq(o,e)?[]:[$.fromTag("br")];var t})}).getOr([])},n=0===(t=T.bind(e,function(e){var t,n=Xe.children(e);return t=n,T.forall(t,function(e){return i(e)||it.isText(e)&&0===cn.get(e).trim().length})?[]:n.concat(r(e))})).length?[$.fromTag("br")]:t;Zt.empty(e[0]),Xt.append(e[0],n)},ko=function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)o.hasOwnProperty(i)&&(n[i]=a(n[i],o[i]))}return n}},So=ko(function(e,t){return P.isObject(e)&&P.isObject(t)?So(e,t):t}),Eo=ko(function(e,t){return t}),To={deepMerge:So,merge:Eo},Ao=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Ro=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return w.none()},No=function(e,t){return V.rowcells(t,e.section())},Oo=function(e,t){return e.cells()[t]},Do={addCell:function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return No(e,a)},setCells:No,mutateCell:function(e,t,n){e.cells()[t]=n},getCell:Oo,getCellElement:function(e,t){return Oo(e,t).element()},mapCells:function(e,t){var n=e.cells(),r=T.map(n,t);return V.rowcells(r,e.section())},cellLength:function(e){return e.cells().length}},Lo=function(e,t){if(0===e.length)return 0;var n=e[0];return T.findIndex(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},Bo=function(e,t,n,r){var o,i,a,s,u=(o=e,i=t,o[i]).cells().slice(n),c=Lo(u,r),l=(a=e,s=n,T.map(a,function(e){return Do.getCell(e,s)})).slice(t),f=Lo(l,r);return{colspan:_.constant(c),rowspan:_.constant(f)}},Po=function(o,i){var a=T.map(o,function(e,t){return T.map(e.cells(),function(e,t){return!1})});return T.map(o,function(e,r){var t=T.bind(e.cells(),function(e,t){if(!1===a[r][t]){var n=Bo(o,r,t,i);return function(e,t,n,r){for(var o=e;o<e+n;o++)for(var i=t;i<t+r;i++)a[o][i]=!0}(r,t,n.rowspan(),n.colspan()),[V.detailnew(e.element(),n.rowspan(),n.colspan(),e.isNew())]}return[]});return V.rowdetails(t,e.section())})},Mo=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],a=0;a<e.grid().columns();a++){var s=jt.getAt(e,o,a).map(function(e){return V.elementnew(e.element(),n)}).getOrThunk(function(){return V.elementnew(t.gap(),!0)});i.push(s)}var u=V.rowcells(i,e.all()[o].section());r.push(u)}return r},Io=function(e,t,n,r){n===r?lt.remove(e,t):lt.set(e,t,n)},Fo=function(o,e){var i=[],a=[],t=function(e,t){var n;0<e.length?function(e,t){var n=At.child(o,t).getOrThunk(function(){var e=$.fromTag(t,Xe.owner(o).dom());return Yt.append(o,e),e});Zt.empty(n);var r=T.map(e,function(e){e.isNew()&&i.push(e.element());var t=e.element();return Zt.empty(t),T.each(e.cells(),function(e){e.isNew()&&a.push(e.element()),Io(e.element(),"colspan",e.colspan(),1),Io(e.element(),"rowspan",e.rowspan(),1),Yt.append(t,e.element())}),t});Xt.append(n,r)}(e,t):(n=t,At.child(o,n).bind(Zt.remove))},n=[],r=[],s=[];return T.each(e,function(e){switch(e.section()){case"thead":n.push(e);break;case"tbody":r.push(e);break;case"tfoot":s.push(e)}}),t(n,"thead"),t(r,"tbody"),t(s,"tfoot"),{newRows:_.constant(i),newCells:_.constant(a)}},jo=function(e){return T.map(e,function(e){var n=on(e.element());return T.each(e.cells(),function(e){var t=an(e.element());Io(t,"colspan",e.colspan(),1),Io(t,"rowspan",e.rowspan(),1),Yt.append(n,t)}),n})},zo=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Ho=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},qo=function(t,n){if(n<0||n>=t.length-1)return w.none();var e=t[n].fold(function(){var e=T.reverse(t.slice(0,n));return Ro(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return w.some({value:e,delta:0})}),r=t[n+1].fold(function(){var e=t.slice(n+1);return Ro(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return w.some({value:e,delta:1})});return e.bind(function(n){return r.map(function(e){var t=e.delta+n.delta;return Math.abs(e.value-n.value)/t})})},Uo=function(e,t,n){var r=e();return T.find(r,t).orThunk(function(){return w.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},Wo=function(n){var e=n.grid(),t=Ho(0,e.columns()),r=Ho(0,e.rows());return T.map(t,function(t){return Uo(function(){return T.bind(r,function(e){return jt.getAt(n,e,t).filter(function(e){return e.column()===t}).fold(_.constant([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return jt.getAt(n,0,t)})})},Vo=function(n){var e=n.grid(),t=Ho(0,e.rows()),r=Ho(0,e.columns());return T.map(t,function(t){return Uo(function(){return T.bind(r,function(e){return jt.getAt(n,t,e).filter(function(e){return e.row()===t}).fold(_.constant([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return jt.getAt(n,t,0)})})},Ko=function(e,t,n,r,o){var i=$.fromTag("div");return Kt.setAll(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),lt.setAll(i,{"data-column":e,role:"presentation"}),i},$o=function(e,t,n,r,o){var i=$.fromTag("div");return Kt.setAll(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),lt.setAll(i,{"data-row":e,role:"presentation"}),i},Go=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},Yo={resolve:Go("ephox-snooker").resolve},Xo=function(e,t){var n=lt.get(e,t);return void 0===n||""===n?[]:n.split(" ")},Jo=Xo,Zo=function(e,t,n){var r=Xo(e,t).concat([n]);lt.set(e,t,r.join(" "))},Qo=function(e,t,n){var r=T.filter(Xo(e,t),function(e){return e!==n});0<r.length?lt.set(e,t,r.join(" ")):lt.remove(e,t)},ei=function(e){return Jo(e,"class")},ti=function(e,t){return Zo(e,"class",t)},ni=function(e,t){return Qo(e,"class",t)},ri=ei,oi=ti,ii=ni,ai=function(e,t){T.contains(ei(e),t)?ni(e,t):ti(e,t)},si=function(e){return void 0!==e.dom().classList},ui=function(e,t){return si(e)&&e.dom().classList.contains(t)},ci={add:function(e,t){si(e)?e.dom().classList.add(t):oi(e,t)},remove:function(e,t){var n;si(e)?e.dom().classList.remove(t):ii(e,t),0===(si(n=e)?n.dom().classList:ri(n)).length&&lt.remove(n,"class")},toggle:function(e,t){return si(e)?e.dom().classList.toggle(t):ai(e,t)},toggler:function(e,t){var n,r,o,i,a,s,u=si(e),c=e.dom().classList;return n=function(){u?c.remove(t):ii(e,t)},r=function(){u?c.add(t):oi(e,t)},o=ui(e,t),i=o||!1,{on:a=function(){r(),i=!0},off:s=function(){n(),i=!1},toggle:function(){(i?s:a)()},isOn:function(){return i}}},has:ui},li=Yo.resolve("resizer-bar"),fi=Yo.resolve("resizer-rows"),di=Yo.resolve("resizer-cols"),hi=function(e){var t=gt.descendants(e.parent(),"."+li);T.each(t,Zt.remove)},pi=function(n,e,r){var o=n.origin();T.each(e,function(e,t){e.each(function(e){var t=r(o,e);ci.add(t,li),Yt.append(n.parent(),t)})})},mi=function(e,t,n,r,o,i){var a,s,u,c,l=Hr(t),f=0<n.length?o.positions(n,t):[];a=e,s=f,u=l,c=wr(t),pi(a,s,function(e,t){var n=$o(t.row(),u.left()-e.left(),t.y()-e.top(),c,7);return ci.add(n,fi),n});var d,h,p,m,g=0<r.length?i.positions(r,t):[];d=e,h=g,p=l,m=br(t),pi(d,h,function(e,t){var n=Ko(t.col(),t.x()-e.left(),p.top()-e.top(),7,m);return ci.add(n,di),n})},gi=function(e,t){var n=gt.descendants(e.parent(),"."+li);T.each(n,t)},vi={refresh:function(e,t,n,r){hi(e);var o=Pt(t),i=jt.generate(o),a=Vo(i),s=Wo(i);mi(e,t,a,s,n,r)},hide:function(e){gi(e,function(e){Kt.set(e,"display","none")})},show:function(e){gi(e,function(e){Kt.set(e,"display","block")})},destroy:hi,isRowBar:function(e){return ci.has(e,fi)},isColBar:function(e){return ci.has(e,di)}},bi=function(e,r){return T.map(e,function(e){var t,n=(t=e.details(),Ro(t,function(e){return Xe.parent(e.element()).map(function(e){var t=Xe.parent(e).isNone();return V.elementnew(e,t)})}).getOrThunk(function(){return V.elementnew(r.row(),!0)}));return V.rowdatanew(n.element(),e.details(),e.section(),n.isNew())})},yi=function(e,t){var n=Po(e,qe.eq);return bi(n,t)},_i=function(e,t){var n=T.flatten(T.map(e.all(),function(e){return e.cells()}));return T.find(n,function(e){return qe.eq(t,e.element())})},wi=function(s,u,c,l,f){return function(n,r,e,o,i){var t=Pt(r),a=jt.generate(t);return u(a,e).map(function(e){var t=Mo(a,o,!1),n=s(t,e,qe.eq,f(o)),r=yi(n.grid(),o);return{grid:_.constant(r),cursor:n.cursor}}).fold(function(){return w.none()},function(e){var t=Fo(r,e.grid());return c(r,e.grid(),i),l(r),vi.refresh(n,r,Zr.height,i),w.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},xi=yi,Ci=function(t,e){return Bt.cell(e.element()).bind(function(e){return _i(t,e)})},ki=function(t,e){var n=T.map(e.selection(),function(e){return Bt.cell(e).bind(function(e){return _i(t,e)})}),r=Ao(n);return 0<r.length?w.some(r):w.none()},Si=function(t,n){return Bt.cell(n.element()).bind(function(e){return _i(t,e).map(function(e){return To.merge(e,{generators:n.generators,clipboard:n.clipboard})})})},Ei=function(t,e){var n=T.map(e.selection(),function(e){return Bt.cell(e).bind(function(e){return _i(t,e)})}),r=Ao(n);return 0<r.length?w.some(To.merge({cells:r},{generators:e.generators,clipboard:e.clipboard})):w.none()},Ti=function(e,t){return t.mergable()},Ai=function(e,t){return t.unmergable()},Ri=function(n){return{is:function(e){return n===e},isValue:_.always,isError:_.never,getOr:_.constant(n),getOrThunk:_.constant(n),getOrDie:_.constant(n),or:function(e){return Ri(n)},orThunk:function(e){return Ri(n)},fold:function(e,t){return t(n)},map:function(e){return Ri(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return w.some(n)}}},Ni=function(n){return{is:_.never,isValue:_.never,isError:_.always,getOr:_.identity,getOrThunk:function(e){return e()},getOrDie:function(){return _.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return Ni(n)},each:_.noop,bind:function(e){return Ni(n)},exists:_.never,forall:_.always,toOption:w.none}},Oi={value:Ri,error:Ni},Di=function(e,t){return T.map(e,function(){return V.elementnew(t.cell(),!0)})},Li=function(t,e,n){return t.concat(zo(e,function(e){return Do.setCells(t[t.length-1],Di(t[t.length-1].cells(),n))}))},Bi=function(e,t,n){return T.map(e,function(e){return Do.setCells(e,e.cells().concat(Di(Ho(0,t),n)))})},Pi=function(e,t,n){if(e.row()>=t.length||e.column()>Do.cellLength(t[0]))return Oi.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=Do.cellLength(n[0]),a=n.length;return Oi.value({rowDelta:_.constant(r.length-a),colDelta:_.constant(o.length-i)})},Mi=function(e,t){var n=Do.cellLength(e[0]),r=Do.cellLength(t[0]);return{rowDelta:_.constant(0),colDelta:_.constant(n-r)}},Ii=function(e,t,n){var r=t.colDelta()<0?Bi:_.identity;return(t.rowDelta()<0?Li:_.identity)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},Fi=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Do.mutateCell(e[o],i,V.elementnew(r(),!1));return e},ji=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<Do.cellLength(e[0]);a++){var s=n(Do.getCellElement(e[i],a),t);!0===s&&!1===o?Do.mutateCell(e[i],a,V.elementnew(r(),!0)):!0===s&&(o=!1)}return e},zi=function(i,a,s,u){if(0<a&&a<i.length){var e=i[a-1].cells(),t=(n=e,r=s,T.foldl(n,function(e,t){return T.exists(e,function(e){return r(e.element(),t.element())})?e:e.concat([t])},[]));T.each(t,function(e){for(var t=w.none(),n=a;n<i.length;n++)for(var r=0;r<Do.cellLength(i[0]);r++){var o=i[n].cells()[r];s(o.element(),e.element())&&(t.isNone()&&(t=w.some(u())),t.each(function(e){Do.mutateCell(i[n],r,V.elementnew(e,!0))}))}})}var n,r;return i},Hi=function(n,r,o,i,a){return Pi(n,r,o).map(function(e){var t=Ii(r,e,i);return function(e,t,n,r,o){for(var i,a,s,u,c,l,f,d=e.row(),h=e.column(),p=d+n.length,m=h+Do.cellLength(n[0]),g=d;g<p;g++)for(var v=h;v<m;v++){i=t,a=g,s=v,u=o,l=c=void 0,c=Do.getCell(i[a],s),l=_.curry(u,c.element()),f=i[a],1<i.length&&1<Do.cellLength(f)&&(0<s&&l(Do.getCellElement(f,s-1))||s<f.length-1&&l(Do.getCellElement(f,s+1))||0<a&&l(Do.getCellElement(i[a-1],s))||a<i.length-1&&l(Do.getCellElement(i[a+1],s)))&&ji(t,Do.getCellElement(t[g],v),o,r.cell);var b=Do.getCellElement(n[g-d],v-h),y=r.replace(b);Do.mutateCell(t[g],v,V.elementnew(y,!0))}return t}(n,t,o,i,a)})},qi=function(e,t,n,r,o){zi(t,e,o,r.cell);var i=Mi(n,t),a=Ii(n,i,r),s=Mi(t,a),u=Ii(t,s,r);return u.slice(0,e).concat(a).concat(u.slice(e,u.length))},Ui=function(n,r,e,o,i){var t=n.slice(0,r),a=n.slice(r),s=Do.mapCells(n[e],function(e,t){return 0<r&&r<n.length&&o(Do.getCellElement(n[r-1],t),Do.getCellElement(n[r],t))?Do.getCell(n[r],t):V.elementnew(i(e.element(),o),!0)});return t.concat([s]).concat(a)},Wi=function(e,n,r,o,i){return T.map(e,function(e){var t=0<n&&n<Do.cellLength(e)&&o(Do.getCellElement(e,n-1),Do.getCellElement(e,n))?Do.getCell(e,n):V.elementnew(i(Do.getCellElement(e,r),o),!0);return Do.addCell(e,n,t)})},Vi=function(e,r,o,i,a){var s=o+1;return T.map(e,function(e,t){var n=t===r?V.elementnew(a(Do.getCellElement(e,o),i),!0):Do.getCell(e,o);return Do.addCell(e,s,n)})},Ki=function(e,t,n,r,o){var i=t+1,a=e.slice(0,i),s=e.slice(i),u=Do.mapCells(e[t],function(e,t){return t===n?V.elementnew(o(e.element(),r),!0):e});return a.concat([u]).concat(s)},$i=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},Gi=function(e,n,r){var t=T.map(e,function(e){var t=e.cells().slice(0,n).concat(e.cells().slice(r+1));return V.rowcells(t,e.section())});return T.filter(t,function(e){return 0<e.cells().length})},Yi=function(e,n,r,o){return T.map(e,function(e){return Do.mapCells(e,function(e){return t=e,T.exists(n,function(e){return r(t.element(),e.element())})?V.elementnew(o(e.element(),r),!0):e;var t})})},Xi=function(e,t,n,r){return void 0!==Do.getCellElement(e[t],n)&&0<t&&r(Do.getCellElement(e[t-1],n),Do.getCellElement(e[t],n))},Ji=function(e,t,n){return 0<t&&n(Do.getCellElement(e,t-1),Do.getCellElement(e,t))},Zi=function(n,r,o,e){var t=T.bind(n,function(e,t){return Xi(n,t,r,o)||Ji(e,r,o)?[]:[Do.getCell(e,r)]});return Yi(n,t,o,e)},Qi=function(n,r,o,e){var i=n[r],t=T.bind(i.cells(),function(e,t){return Xi(n,r,t,o)||Ji(i,t,o)?[]:[e]});return Yi(n,t,o,e)},ea=function(e){return{fold:e}},ta=function(){return ea(function(e,t,n,r,o){return e()})},na=function(i){return ea(function(e,t,n,r,o){return t(i)})},ra=function(i,a){return ea(function(e,t,n,r,o){return n(i,a)})},oa=function(i,a,s){return ea(function(e,t,n,r,o){return r(i,a,s)})},ia=function(i,a){return ea(function(e,t,n,r,o){return o(i,a)})},aa=function(e,t,i,a){var n,r,s=e.slice(0),o=(r=t,0===(n=e).length?ta():1===n.length?na(0):0===r?ra(0,1):r===n.length-1?ia(r-1,r):0<r&&r<n.length-1?oa(r-1,r,r+1):ta()),u=function(e){return T.map(e,_.constant(0))},c=_.constant(u(s)),l=function(e,t){if(0<=i){var n=Math.max(a.minCellWidth(),s[t]-i);return u(s.slice(0,e)).concat([i,n-s[t]]).concat(u(s.slice(t+1)))}var r=Math.max(a.minCellWidth(),s[e]+i),o=s[e]-r;return u(s.slice(0,e)).concat([r-s[e],o]).concat(u(s.slice(t+1)))},f=l;return o.fold(c,function(e){return a.singleColumnWidth(s[e],i)},f,function(e,t,n){return l(t,n)},function(e,t){if(0<=i)return u(s.slice(0,t)).concat([i]);var n=Math.max(a.minCellWidth(),s[t]+i);return u(s.slice(0,t)).concat([n-s[t]])})},sa=function(e,t){return lt.has(e,t)&&1<parseInt(lt.get(e,t),10)},ua={hasColspan:function(e){return sa(e,"colspan")},hasRowspan:function(e){return sa(e,"rowspan")},minWidth:_.constant(10),minHeight:_.constant(10),getInt:function(e,t){return parseInt(Kt.get(e,t),10)}},ca=function(e,t,n){return Kt.getRaw(e,t).fold(function(){return n(e)+"px"},function(e){return e})},la=function(e){return ca(e,"width",Br.getPixelWidth)},fa=function(e){return ca(e,"height",Br.getHeight)},da=function(e,t,n,r,o){var i=Wo(e),a=T.map(i,function(e){return e.map(t.edge)});return T.map(i,function(e,t){return e.filter(_.not(ua.hasColspan)).fold(function(){var e=qo(a,t);return r(e)},function(e){return n(e,o)})})},ha=function(e){return e.map(function(e){return e+"px"}).getOr("")},pa=function(e,t,n,r){var o=Vo(e),i=T.map(o,function(e){return e.map(t.edge)});return T.map(o,function(e,t){return e.filter(_.not(ua.hasRowspan)).fold(function(){var e=qo(i,t);return r(e)},function(e){return n(e)})})},ma={getRawWidths:function(e,t){return da(e,t,la,ha)},getPixelWidths:function(e,t,n){return da(e,t,Br.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},getPercentageWidths:function(e,t,n){return da(e,t,Br.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},getPixelHeights:function(e,t){return pa(e,t,Br.getHeight,function(e){return e.getOrThunk(ua.minHeight)})},getRawHeights:function(e,t){return pa(e,t,fa,ha)}},ga=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},va=function(e,n){var t=jt.justCells(e);return T.map(t,function(e){var t=ga(e.column(),e.column()+e.colspan(),n);return{element:e.element,width:_.constant(t),colspan:e.colspan}})},ba=function(e,n){var t=jt.justCells(e);return T.map(t,function(e){var t=ga(e.row(),e.row()+e.rowspan(),n);return{element:e.element,height:_.constant(t),rowspan:e.rowspan}})},ya=function(e,n){return T.map(e.all(),function(e,t){return{element:e.element,height:_.constant(n[t])}})},_a=function(e){var t=parseInt(e,10),n=_.identity;return{width:_.constant(t),pixelWidth:_.constant(t),getWidths:ma.getPixelWidths,getCellDelta:n,singleColumnWidth:function(e,t){return[Math.max(ua.minWidth(),e+t)-e]},minCellWidth:ua.minWidth,setElementWidth:Br.setPixelWidth,setTableWidth:function(e,t,n){var r=T.foldr(t,function(e,t){return e+t},0);Br.setPixelWidth(e,r)}}},wa=function(e,t){if(Br.percentageBasedSizeRegex().test(t)){var n=Br.percentageBasedSizeRegex().exec(t);return o=n[1],i=e,a=parseFloat(o),s=_r(i),{width:_.constant(a),pixelWidth:_.constant(s),getWidths:ma.getPercentageWidths,getCellDelta:function(e){return e/s*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return ua.minWidth()/s*100},setElementWidth:Br.setPercentageWidth,setTableWidth:function(e,t,n){var r=a+n;Br.setPercentageWidth(e,r)}}}if(Br.pixelBasedSizeRegex().test(t)){var r=Br.pixelBasedSizeRegex().exec(t);return _a(r[1])}var o,i,a,s,u=_r(e);return _a(u)},xa=function(t){return Br.getRawWidth(t).fold(function(){var e=_r(t);return _a(e)},function(e){return wa(t,e)})},Ca=function(e){return jt.generate(e)},ka=function(e){var t=Pt(e);return Ca(t)},Sa={adjustWidth:function(e,t,n,r){var o=xa(e),i=o.getCellDelta(t),a=ka(e),s=o.getWidths(a,r,o),u=aa(s,n,i,o),c=T.map(u,function(e,t){return e+s[t]}),l=va(a,c);T.each(l,function(e){o.setElementWidth(e.element(),e.width())}),n===a.grid().columns()-1&&o.setTableWidth(e,c,i)},adjustHeight:function(e,n,r,t){var o=ka(e),i=ma.getPixelHeights(o,t),a=T.map(i,function(e,t){return r===t?Math.max(n+e,ua.minHeight()):e}),s=ba(o,a),u=ya(o,a);T.each(u,function(e){Br.setHeight(e.element(),e.height())}),T.each(s,function(e){Br.setHeight(e.element(),e.height())});var c,l=(c=a,T.foldr(c,function(e,t){return e+t},0));Br.setHeight(e,l)},adjustWidthTo:function(e,t,n){var r=xa(e),o=Ca(t),i=r.getWidths(o,n,r),a=va(o,i);T.each(a,function(e){r.setElementWidth(e.element(),e.width())});var s=T.foldr(i,function(e,t){return t+e},0);0<a.length&&r.setElementWidth(e,s)}},Ea=function(e){0===Bt.cells(e).length&&Zt.remove(e)},Ta=F.immutable("grid","cursor"),Aa=function(e,t,n){return Ra(e,t,n).orThunk(function(){return Ra(e,0,0)})},Ra=function(e,t,n){return w.from(e[t]).bind(function(e){return w.from(e.cells()[n]).bind(function(e){return w.from(e.element())})})},Na=function(e,t,n){return Ta(e,Ra(e,t,n))},Oa=function(e){return T.foldl(e,function(e,t){return T.exists(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},Da=function(e){return T.foldl(e,function(e,t){return T.exists(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},La=function(e,t,n){var r=Mt(e,n),o=jt.generate(r);return Mo(o,t,!0)},Ba=Sa.adjustWidthTo,Pa={insertRowBefore:wi(function(e,t,n,r){var o=t.row(),i=t.row(),a=Ui(e,i,o,n,r.getOrInit);return Na(a,i,t.column())},Ci,_.noop,_.noop,co),insertRowsBefore:wi(function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=Oa(t),s=T.foldl(a,function(e,t){return Ui(e,i,o,n,r.getOrInit)},e);return Na(s,i,t[0].column())},ki,_.noop,_.noop,co),insertRowAfter:wi(function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=Ui(e,i,o,n,r.getOrInit);return Na(a,i,t.column())},Ci,_.noop,_.noop,co),insertRowsAfter:wi(function(e,t,n,r){var o=Oa(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),s=T.foldl(o,function(e,t){return Ui(e,a,i,n,r.getOrInit)},e);return Na(s,a,t[0].column())},ki,_.noop,_.noop,co),insertColumnBefore:wi(function(e,t,n,r){var o=t.column(),i=t.column(),a=Wi(e,i,o,n,r.getOrInit);return Na(a,t.row(),i)},Ci,Ba,_.noop,co),insertColumnsBefore:wi(function(e,t,n,r){var o=Da(t),i=o[0].column(),a=o[0].column(),s=T.foldl(o,function(e,t){return Wi(e,a,i,n,r.getOrInit)},e);return Na(s,t[0].row(),a)},ki,Ba,_.noop,co),insertColumnAfter:wi(function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=Wi(e,i,o,n,r.getOrInit);return Na(a,t.row(),i)},Ci,Ba,_.noop,co),insertColumnsAfter:wi(function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=Da(t),s=T.foldl(a,function(e,t){return Wi(e,i,o,n,r.getOrInit)},e);return Na(s,t[0].row(),i)},ki,Ba,_.noop,co),splitCellIntoColumns:wi(function(e,t,n,r){var o=Vi(e,t.row(),t.column(),n,r.getOrInit);return Na(o,t.row(),t.column())},Ci,Ba,_.noop,co),splitCellIntoRows:wi(function(e,t,n,r){var o=Ki(e,t.row(),t.column(),n,r.getOrInit);return Na(o,t.row(),t.column())},Ci,_.noop,_.noop,co),eraseColumns:wi(function(e,t,n,r){var o=Da(t),i=Gi(e,o[0].column(),o[o.length-1].column()),a=Aa(i,t[0].row(),t[0].column());return Ta(i,a)},ki,Ba,Ea,co),eraseRows:wi(function(e,t,n,r){var o=Oa(t),i=$i(e,o[0].row(),o[o.length-1].row()),a=Aa(i,t[0].row(),t[0].column());return Ta(i,a)},ki,_.noop,Ea,co),makeColumnHeader:wi(function(e,t,n,r){var o=Zi(e,t.column(),n,r.replaceOrInit);return Na(o,t.row(),t.column())},Ci,_.noop,_.noop,lo("row","th")),unmakeColumnHeader:wi(function(e,t,n,r){var o=Zi(e,t.column(),n,r.replaceOrInit);return Na(o,t.row(),t.column())},Ci,_.noop,_.noop,lo(null,"td")),makeRowHeader:wi(function(e,t,n,r){var o=Qi(e,t.row(),n,r.replaceOrInit);return Na(o,t.row(),t.column())},Ci,_.noop,_.noop,lo("col","th")),unmakeRowHeader:wi(function(e,t,n,r){var o=Qi(e,t.row(),n,r.replaceOrInit);return Na(o,t.row(),t.column())},Ci,_.noop,_.noop,lo(null,"td")),mergeCells:wi(function(e,t,n,r){var o=t.cells();Co(o);var i=Fi(e,t.bounds(),n,_.constant(o[0]));return Ta(i,w.from(o[0]))},Ti,_.noop,_.noop,fo),unmergeCells:wi(function(e,t,n,r){var o=T.foldr(t,function(e,t){return ji(e,t,n,r.combine(t))},e);return Ta(o,w.from(t[0]))},Ai,Ba,_.noop,fo),pasteCells:wi(function(e,n,t,r){var o,i,a,s,u=(o=n.clipboard(),i=n.generators(),a=Pt(o),s=jt.generate(a),Mo(s,i,!0)),c=V.address(n.row(),n.column());return Hi(c,e,u,n.generators(),t).fold(function(){return Ta(e,w.some(n.element()))},function(e){var t=Aa(e,n.row(),n.column());return Ta(e,t)})},Si,Ba,_.noop,co),pasteRowsBefore:wi(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=La(t.clipboard(),t.generators(),o),s=qi(i,e,a,t.generators(),n),u=Aa(s,t.cells[0].row(),t.cells[0].column());return Ta(s,u)},Ei,_.noop,_.noop,co),pasteRowsAfter:wi(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=La(t.clipboard(),t.generators(),o),s=qi(i,e,a,t.generators(),n),u=Aa(s,t.cells[0].row(),t.cells[0].column());return Ta(s,u)},Ei,_.noop,_.noop,co)},Ma=function(e){return $.fromDom(e.getBody())},Ia={getBody:Ma,getIsRoot:function(t){return function(e){return qe.eq(e,Ma(t))}},addSizeSuffix:function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},removePxSuffix:function(e){return e?e.replace(/px$/,""):""}},Fa=function(e){return"rtl"===Kt.get(e,"direction")?"rtl":"ltr"},ja={onDirection:function(t,n){return function(e){return"rtl"===Fa(e)?n:t}},getDirection:Fa},za={isRtl:_.constant(!1)},Ha={isRtl:_.constant(!0)},qa={directionAt:function(e){return"rtl"===ja.getDirection(e)?Ha:za}},Ua=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Wa={"border-collapse":"collapse",width:"100%"},Va={border:"1"},Ka=function(e){return e.getParam("table_resize_bars",!0,"boolean")},$a=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},Ga=function(e){return e.getParam("forced_root_block","p","string")},Ya=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Xa=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Ja=function(e){return e.getParam("table_advtab",!0,"boolean")},Za=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Qa=function(e){return e.getParam("forced_block_attrs",{},"object")},es=function(e){return e.getParam("table_cell_class_list",[],"array")},ts=function(e){return e.getParam("table_row_class_list",[],"array")},ns=function(e){return e.getParam("table_class_list",[],"array")},rs=function(e){return!1===e.getParam("table_responsive_width")},os=function(e){var t=e.getParam("table_clone_elements");return P.isString(t)?w.some(t.split(/[ ,]/)):Array.isArray(t)?w.some(t):w.none()},is=function(e){var t=e.getParam("object_resizing",!0);return"table"===t||t},as=function(e,t){return e.fire("newrow",{node:t})},ss=function(e,t){return e.fire("newcell",{node:t})},us=function(e,t,r){var n=Pt(e),o=jt.generate(n);return ki(o,t).map(function(e){var t=Mo(o,r,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),n=xi(t,r);return jo(n)})},cs=tinymce.util.Tools.resolve("tinymce.util.Tools"),ls={applyAlign:function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},applyVAlign:function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},unApplyAlign:function(t,n){cs.each("left center right".split(" "),function(e){t.formatter.remove("align"+e,{},n)})},unApplyVAlign:function(t,n){cs.each("top middle bottom".split(" "),function(e){t.formatter.remove("valign"+e,{},n)})},getTDTHOverallStyle:function(o,e,i){var t;return t=function(e,t){for(var n=0;n<t.length;n++){var r=o.getStyle(t[n],i);if(void 0===e&&(e=r),e!==r)return""}return e}(t,o.select("td,th",e))}},fs=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);"style"===t.control.name()?(r.find("#borderStyle").value(i["border-style"]||"")[0].fire("select"),r.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),r.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change"),r.find("#width").value(i.width||"").fire("change"),r.find("#height").value(i.height||"").fire("change")):(i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?Ia.addSizeSuffix(o.width):"",i.height=o.height?Ia.addSizeSuffix(o.height):""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},ds={createStyleForm:function(n){var e=function(){var e=n.getParam("color_picker_callback");if(e)return function(t){return e.call(n,function(e){t.control.value(e).fire("change")},t.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:_.curry(fs,n)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:_.curry(fs,n),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:e()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:e()}]}]}},buildListItems:function(e,r,t){var o=function(e,n){return n=n||[],cs.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,r&&r(t)),n.push(t)}),n};return o(e,t||[])},updateStyleField:fs,extractAdvancedStyles:function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r}},hs=function(r,o,e){var i,a=r.dom;function s(e,t,n){n&&a.setAttrib(e,t,n)}function u(e,t,n){n&&a.setStyle(e,t,n)}ds.updateStyleField(r,e),i=e.control.rootControl.toJSON(),r.undoManager.transact(function(){cs.each(o,function(e){var t,n;s(e,"scope",i.scope),1===o.length?s(e,"style",i.style):(t=e,n=i.style,t.style.cssText+=";"+n),s(e,"class",i.class),u(e,"width",Ia.addSizeSuffix(i.width)),u(e,"height",Ia.addSizeSuffix(i.height)),i.type&&e.nodeName.toLowerCase()!==i.type&&(e=a.rename(e,i.type)),1===o.length&&(ls.unApplyAlign(r,e),ls.unApplyVAlign(r,e)),i.align&&ls.applyAlign(r,e,i.align),i.valign&&ls.applyVAlign(r,e,i.valign)}),r.focus()})},ps=function(t){var e,n,r,o=[];if(o=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=t.dom.getParent(t.selection.getStart(),"td,th"),!o.length&&e&&o.push(e),e=e||o[0]){var i,a,s,u;1<o.length?n={width:"",height:"",scope:"",class:"",align:"",style:"",type:e.nodeName.toLowerCase()}:(a=e,s=(i=t).dom,(u={width:s.getStyle(a,"width")||s.getAttrib(a,"width"),height:s.getStyle(a,"height")||s.getAttrib(a,"height"),scope:s.getAttrib(a,"scope"),class:s.getAttrib(a,"class")}).type=a.nodeName.toLowerCase(),cs.each("left center right".split(" "),function(e){i.formatter.matchNode(a,"align"+e)&&(u.align=e)}),cs.each("top middle bottom".split(" "),function(e){i.formatter.matchNode(a,"valign"+e)&&(u.valign=e)}),Ya(i)&&cs.extend(u,ds.extractAdvancedStyles(s,a)),n=u),0<es(t).length&&(r={name:"class",type:"listbox",label:"Class",values:ds.buildListItems(es(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"td",classes:[e.value]})})})});var c={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:_.curry(ds.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(ds.updateStyleField,t)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},r]};Ya(t)?t.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:c},ds.createStyleForm(t)],onsubmit:_.curry(hs,t,o)}):t.windowManager.open({title:"Cell properties",data:n,body:c,onsubmit:_.curry(hs,t,o)})}},ms=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)};function gs(o,i,e){var a,s=o.dom;function u(e,t,n){n&&s.setAttrib(e,t,n)}ds.updateStyleField(o,e),a=e.control.rootControl.toJSON(),o.undoManager.transact(function(){cs.each(i,function(e){var t,n,r;u(e,"scope",a.scope),u(e,"style",a.style),u(e,"class",a.class),t=e,n="height",(r=Ia.addSizeSuffix(a.height))&&s.setStyle(t,n,r),a.type!==e.parentNode.nodeName.toLowerCase()&&ms(o.dom,e,a.type),1===i.length&&ls.unApplyAlign(o,e),a.align&&ls.applyAlign(o,e,a.align)}),o.focus()})}var vs=function(t){var e,n,r,o,i,a,s,u,c,l,f=t.dom,d=[];e=f.getParent(t.selection.getStart(),"table"),n=f.getParent(t.selection.getStart(),"td,th"),cs.each(e.rows,function(t){cs.each(t.cells,function(e){if(f.getAttrib(e,"data-mce-selected")||e===n)return d.push(t),!1})}),(r=d[0])&&(1<d.length?i={height:"",scope:"",class:"",align:"",type:r.parentNode.nodeName.toLowerCase()}:(u=r,c=(s=t).dom,(l={height:c.getStyle(u,"height")||c.getAttrib(u,"height"),scope:c.getAttrib(u,"scope"),class:c.getAttrib(u,"class")}).type=u.parentNode.nodeName.toLowerCase(),cs.each("left center right".split(" "),function(e){s.formatter.matchNode(u,"align"+e)&&(l.align=e)}),Xa(s)&&cs.extend(l,ds.extractAdvancedStyles(c,u)),i=l),0<ts(t).length&&(o={name:"class",type:"listbox",label:"Class",values:ds.buildListItems(ts(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})})}),a={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},Xa(t)?t.windowManager.open({title:"Row properties",data:i,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},ds.createStyleForm(t)],onsubmit:_.curry(gs,t,d)}):t.windowManager.open({title:"Row properties",data:i,body:a,onsubmit:_.curry(gs,t,d)}))},bs=tinymce.util.Tools.resolve("tinymce.Env"),ys={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},_s=function(e,t,n,r,o){void 0===o&&(o=ys);var i=$.fromTag("table");Kt.setAll(i,o.styles),lt.setAll(i,o.attributes);var a=$.fromTag("tbody");Yt.append(i,a);for(var s=[],u=0;u<e;u++){for(var c=$.fromTag("tr"),l=0;l<t;l++){var f=u<n||l<r?$.fromTag("th"):$.fromTag("td");l<r&&lt.set(f,"scope","row"),u<n&&lt.set(f,"scope","col"),Yt.append(f,$.fromTag("br")),o.percentages&&Kt.set(f,"width",100/t+"%"),Yt.append(c,f)}s.push(c)}return Xt.append(a,s),i},ws=function(e){return e.dom().innerHTML},xs=function(e){var t=$.fromTag("div"),n=$.fromDom(e.dom().cloneNode(!0));return Yt.append(t,n),ws(t)},Cs=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},ks=function(i,e,t){var n,r,o=i.getParam("table_default_styles",Wa,"object"),a={styles:o,attributes:(r=i,r.getParam("table_default_attributes",Va,"object")),percentages:(n=o.width,P.isString(n)&&-1!==n.indexOf("%")&&!rs(i))},s=_s(t,e,0,0,a);lt.set(s,"data-mce-id","__mce");var u=xs(s);return i.insertContent(u),At.descendant(Ia.getBody(i),'table[data-mce-id="__mce"]').map(function(e){var t,n,r,o;return rs(i)&&Kt.set(e,"width",Kt.get(e,"width")),lt.remove(e,"data-mce-id"),t=i,n=e,T.each(gt.descendants(n,"tr"),function(e){as(t,e.dom()),T.each(gt.descendants(e,"th,td"),function(e){ss(t,e.dom())})}),r=i,o=e,At.descendant(o,"td,th").each(_.curry(Cs,r)),e.dom()}).getOr(null)};function Ss(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)Ss(e,t.children[o],n,r)}var Es=function(e,t,n){var r,o,i=e.dom;ds.updateStyleField(e,n),!1===(o=n.control.rootControl.toJSON()).class&&delete o.class,e.undoManager.transact(function(){t||(t=ks(e,o.cols||1,o.rows||1)),function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=Ia.addSizeSuffix(n.height),r.getAttrib(t,"width")&&!Za(e)?o.width=Ia.removePxSuffix(n.width):i.width=Ia.addSizeSuffix(n.width),Za(e)?(i["border-width"]=Ia.addSizeSuffix(n.border),i["border-spacing"]=Ia.addSizeSuffix(n.cellspacing),cs.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):cs.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),Za(e)&&t.children)for(var a=0;a<t.children.length;a++)Ss(r,t.children[a],{"border-width":Ia.addSizeSuffix(n.border),"border-color":n.borderColor,padding:Ia.addSizeSuffix(n.cellpadding)});n.style?cs.extend(i,r.parseStyle(n.style)):i=cs.extend({},r.parseStyle(r.getAttrib(t,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(t,o)}(e,t,o),(r=i.select("caption",t)[0])&&!o.caption&&i.remove(r),!r&&o.caption&&((r=i.create("caption")).innerHTML=bs.ie?"":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),ls.unApplyAlign(e,t),o.align&&ls.applyAlign(e,t,o.align),e.focus(),e.addVisual()})},Ts=function(t,e){var n,r,o,i,a,s,u,c,l,f,d=t.dom,h={};!0===e?(n=d.getParent(t.selection.getStart(),"table"))&&(u=n,c=(s=t).dom,l={width:c.getStyle(u,"width")||c.getAttrib(u,"width"),height:c.getStyle(u,"height")||c.getAttrib(u,"height"),cellspacing:c.getStyle(u,"border-spacing")||c.getAttrib(u,"cellspacing"),cellpadding:c.getAttrib(u,"data-mce-cell-padding")||c.getAttrib(u,"cellpadding")||ls.getTDTHOverallStyle(s.dom,u,"padding"),border:c.getAttrib(u,"data-mce-border")||c.getAttrib(u,"border")||ls.getTDTHOverallStyle(s.dom,u,"border"),borderColor:c.getAttrib(u,"data-mce-border-color"),caption:!!c.select("caption",u)[0],class:c.getAttrib(u,"class")},cs.each("left center right".split(" "),function(e){s.formatter.matchNode(u,"align"+e)&&(l.align=e)}),Ja(s)&&cs.extend(l,ds.extractAdvancedStyles(c,u)),h=l):(r={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),0<ns(t).length&&(h.class&&(h.class=h.class.replace(/\s*mce\-item\-table\s*/g,"")),i={name:"class",type:"listbox",label:"Class",values:ds.buildListItems(ns(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),a={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:(f=t,f.getParam("table_appearance_options",!0,"boolean")?[r,o,{label:"Width",name:"width",onchange:_.curry(ds.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(ds.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[r,o,{label:"Width",name:"width",onchange:_.curry(ds.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(ds.updateStyleField,t)}])},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},i]},Ja(t)?t.windowManager.open({title:"Table properties",data:h,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},ds.createStyleForm(t)],onsubmit:_.curry(Es,t,n)}):t.windowManager.open({title:"Table properties",data:h,body:a,onsubmit:_.curry(Es,t,n)})},As=cs.each,Rs={registerCommands:function(s,t,u,c,n){var r=Ia.getIsRoot(s),l=function(){return $.fromDom(s.dom.getParent(s.selection.getStart(),"th,td"))},f=function(e){return Bt.table(e,r)},o=function(n){var r=l();f(r).each(function(t){var e=hr.forMenu(c,t,r);n(t,e).each(function(e){s.selection.setRng(e),s.focus(),u.clear(t)})})},i=function(e){var o=l();return f(o).bind(function(e){var t=$.fromDom(s.getDoc()),n=hr.forMenu(c,e,o),r=_n.cellOperations(_.noop,t,w.none());return us(e,n,r)})},a=function(a){n.get().each(function(e){var o=T.map(e,function(e){return an(e)}),i=l();f(i).bind(function(t){var e=$.fromDom(s.getDoc()),n=_n.paste(e),r=hr.pasteRows(c,t,i,o,n);a(t,r).each(function(e){s.selection.setRng(e),s.focus(),u.clear(t)})})})};As({mceTableSplitCells:function(){o(t.unmergeCells)},mceTableMergeCells:function(){o(t.mergeCells)},mceTableInsertRowBefore:function(){o(t.insertRowsBefore)},mceTableInsertRowAfter:function(){o(t.insertRowsAfter)},mceTableInsertColBefore:function(){o(t.insertColumnsBefore)},mceTableInsertColAfter:function(){o(t.insertColumnsAfter)},mceTableDeleteCol:function(){o(t.deleteColumn)},mceTableDeleteRow:function(){o(t.deleteRow)},mceTableCutRow:function(e){n.set(i()),o(t.deleteRow)},mceTableCopyRow:function(e){n.set(i())},mceTablePasteRowBefore:function(e){a(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){a(t.pasteRowsAfter)},mceTableDelete:function(){var e=$.fromDom(s.dom.getParent(s.selection.getStart(),"th,td"));Bt.table(e,r).filter(_.not(r)).each(function(e){var t=$.fromText("");Yt.after(e,t),Zt.remove(e);var n=s.dom.createRng();n.setStart(t.dom(),0),n.setEnd(t.dom(),0),s.selection.setRng(n)})}},function(e,t){s.addCommand(t,e)}),As({mceInsertTable:_.curry(Ts,s),mceTableProps:_.curry(Ts,s,!0),mceTableRowProps:_.curry(vs,s),mceTableCellProps:_.curry(ps,s)},function(n,e){s.addCommand(e,function(e,t){n(t)})})}},Ns={only:function(e){var t=w.from(e.dom().documentElement).map($.fromDom).getOr(e);return{parent:_.constant(t),view:_.constant(e),origin:_.constant(Fr(0,0))}},detached:function(e,t){var n=_.curry(Hr,t);return{parent:_.constant(t),view:_.constant(e),origin:n}},body:function(e,t){return{parent:_.constant(t),view:_.constant(e),origin:_.constant(Fr(0,0))}}};function Os(e){var n=F.immutable.apply(null,e),r=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";r.push(e)},unbind:function(t){r=T.filter(r,function(e){return e!==t})},trigger:function(){var t=n.apply(null,arguments);T.each(r,function(e){e(t)})}}}var Ds={create:function(e){return{registry:L.map(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:L.map(e,function(e){return e.trigger})}}},Ls={mode:ao.exactly(["compare","extract","mutate","sink"]),sink:ao.exactly(["element","start","stop","destroy"]),api:ao.exactly(["forceDrop","drop","move","delayDrop"])},Bs={resolve:Go("ephox-dragster").resolve},Ps=function(h,p){return function(e){if(h(e)){var t,n,r,o,i,a,s,u=$.fromDom(e.target),c=function(){e.stopPropagation()},l=function(){e.preventDefault()},f=_.compose(l,c),d=(t=u,n=e.clientX,r=e.clientY,o=c,i=l,a=f,s=e,{target:_.constant(t),x:_.constant(n),y:_.constant(r),stop:o,prevent:i,kill:a,raw:_.constant(s)});p(d)}}},Ms=function(e,t,n,r,o){var i=Ps(n,r);return e.dom().addEventListener(t,i,o),{unbind:_.curry(Is,e,t,i,o)}},Is=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Fs=function(e,t,n,r){return Ms(e,t,n,r,!1)},js=function(e,t,n,r){return Ms(e,t,n,r,!0)},zs=_.constant(!0),Hs={bind:function(e,t,n){return Fs(e,t,zs,n)},capture:function(e,t,n){return js(e,t,zs,n)}},qs=Ls.mode({compare:function(e,t){return Fr(t.left()-e.left(),t.top()-e.top())},extract:function(e){return w.some(Fr(e.x(),e.y()))},sink:function(e,t){var n,r,o,i=(n=t,r=To.merge({layerClass:Bs.resolve("blocker")},n),o=$.fromTag("div"),lt.set(o,"role","presentation"),Kt.setAll(o,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ci.add(o,Bs.resolve("blocker")),ci.add(o,r.layerClass),{element:function(){return o},destroy:function(){Zt.remove(o)}}),a=Hs.bind(i.element(),"mousedown",e.forceDrop),s=Hs.bind(i.element(),"mouseup",e.drop),u=Hs.bind(i.element(),"mousemove",e.move),c=Hs.bind(i.element(),"mouseout",e.delayDrop);return Ls.sink({element:i.element,start:function(e){Yt.append(e,i.element())},stop:function(){Zt.remove(i.element())},destroy:function(){i.destroy(),s.unbind(),u.unbind(),c.unbind(),a.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}});function Us(){var i=w.none(),a=Ds.create({move:Os(["info"])});return{onEvent:function(e,o){o.extract(e).each(function(e){var t,n,r;(t=o,n=e,r=i.map(function(e){return t.compare(e,n)}),i=w.some(n),r).each(function(e){a.trigger.move(e)})})},reset:function(){i=w.none()},events:a.registry}}function Ws(){var e={onEvent:function(e,t){},reset:_.noop},t=Us(),n=e;return{on:function(){n.reset(),n=t},off:function(){n.reset(),n=e},isOn:function(){return n===t},onEvent:function(e,t){n.onEvent(e,t)},events:t.events}}var Vs=function(t,n){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){var e=arguments;null!==r&&clearTimeout(r),r=setTimeout(function(){t.apply(null,e),e=r=null},n)}}},Ks=function(t,n,e){var r=!1,o=Ds.create({start:Os([]),stop:Os([])}),i=Ws(),a=function(){c.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=Vs(a,200);i.events.move.bind(function(e){n.mutate(t,e.info())});var u=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);if(r)return t.apply(null,e)}},c=n.sink(Ls.api({forceDrop:a,drop:u(a),move:u(function(e,t){s.cancel(),i.onEvent(e,n)}),delayDrop:u(s.throttle)}),e);return{element:c.element,go:function(e){c.start(e),i.on(),o.trigger.start()},on:function(){r=!0},off:function(){r=!1},destroy:function(){c.destroy()},events:o.registry}},$s={transform:function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:qs;return Ks(e,r,t)}};function Gs(){var n,r=Ds.create({drag:Os(["xDelta","yDelta","target"])}),o=w.none(),e={mutate:function(e,t){n.trigger.drag(e,t)},events:(n=Ds.create({drag:Os(["xDelta","yDelta"])})).registry};return e.events.drag.bind(function(t){o.each(function(e){r.trigger.drag(t.xDelta(),t.yDelta(),e)})}),{assign:function(e){o=w.some(e)},get:function(){return o},mutate:e.mutate,events:r.registry}}var Ys={any:function(e){return At.first(e).isSome()},ancestor:function(e,t,n){return At.ancestor(e,t,n).isSome()},sibling:function(e,t){return At.sibling(e,t).isSome()},child:function(e,t){return At.child(e,t).isSome()},descendant:function(e,t){return At.descendant(e,t).isSome()},closest:function(e,t,n){return At.closest(e,t,n).isSome()}},Xs=Yo.resolve("resizer-bar-dragging");function Js(e,n){var r=Zr.height,t=function(o,t,i){var n=Gs(),r=$s.transform(n,{}),a=w.none(),e=function(e,t){return w.from(lt.get(e,t))};n.events.drag.bind(function(n){e(n.target(),"data-row").each(function(e){var t=ua.getInt(n.target(),"top");Kt.set(n.target(),"top",t+n.yDelta()+"px")}),e(n.target(),"data-column").each(function(e){var t=ua.getInt(n.target(),"left");Kt.set(n.target(),"left",t+n.xDelta()+"px")})});var s=function(e,t){return ua.getInt(e,t)-parseInt(lt.get(e,"data-initial-"+t),10)};r.events.stop.bind(function(){n.get().each(function(r){a.each(function(n){e(r,"data-row").each(function(e){var t=s(r,"top");lt.remove(r,"data-initial-top"),d.trigger.adjustHeight(n,t,parseInt(e,10))}),e(r,"data-column").each(function(e){var t=s(r,"left");lt.remove(r,"data-initial-left"),d.trigger.adjustWidth(n,t,parseInt(e,10))}),vi.refresh(o,n,i,t)})})});var u=function(e,t){d.trigger.startAdjust(),n.assign(e),lt.set(e,"data-initial-"+t,parseInt(Kt.get(e,t),10)),ci.add(e,Xs),Kt.set(e,"opacity","0.2"),r.go(o.parent())},c=Hs.bind(o.parent(),"mousedown",function(e){vi.isRowBar(e.target())&&u(e.target(),"top"),vi.isColBar(e.target())&&u(e.target(),"left")}),l=function(e){return qe.eq(e,o.view())},f=Hs.bind(o.view(),"mouseover",function(e){"table"===it.name(e.target())||Ys.ancestor(e.target(),"table",l)?(a="table"===it.name(e.target())?w.some(e.target()):At.ancestor(e.target(),"table",l)).each(function(e){vi.refresh(o,e,i,t)}):ht.inBody(e.target())&&vi.destroy(o)}),d=Ds.create({adjustHeight:Os(["table","delta","row"]),adjustWidth:Os(["table","delta","column"]),startAdjust:Os([])});return{destroy:function(){c.unbind(),f.unbind(),r.destroy(),vi.destroy(o)},refresh:function(e){vi.refresh(o,e,i,t)},on:r.on,off:r.off,hideBars:_.curry(vi.hide,o),showBars:_.curry(vi.show,o),events:d.registry}}(e,n,r),o=Ds.create({beforeResize:Os(["table"]),afterResize:Os(["table"]),startDrag:Os([])});return t.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=r.delta(e.delta(),e.table());Sa.adjustHeight(e.table(),t,e.row(),r),o.trigger.afterResize(e.table())}),t.events.startAdjust.bind(function(e){o.trigger.startDrag()}),t.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Sa.adjustWidth(e.table(),t,e.column(),n),o.trigger.afterResize(e.table())}),{on:t.on,off:t.off,hideBars:t.hideBars,showBars:t.showBars,destroy:t.destroy,events:o.registry}}var Zs={get:function(e,t){return e.inline?Ns.body(Ia.getBody(e),(n=$.fromTag("div"),Kt.setAll(n,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Yt.append(ht.body(),n),n)):Ns.only($.fromDom(e.getDoc()));var n},remove:function(e,t){e.inline&&Zt.remove(t.parent())}};function Qs(i){var a,s,r=w.none(),o=w.none(),u=w.none(),c=/(\d+(\.\d+)?)%/,l=function(e){return"TABLE"===e.nodeName};return i.on("init",function(){var e=eo(qa.directionAt),t=Zs.get(i);if(u=w.some(t),is(i)&&Ka(i)){var n=Js(t,e);n.on(),n.events.startDrag.bind(function(e){r=w.some(i.selection.getRng())}),n.events.afterResize.bind(function(e){var t=e.table(),n=gt.descendants(t,"td[data-mce-style],th[data-mce-style]");T.each(n,function(e){lt.remove(e,"data-mce-style")}),r.each(function(e){i.selection.setRng(e),i.focus()}),i.undoManager.add()}),o=w.some(n)}}),i.on("ObjectResizeStart",function(e){var t;l(e.target)&&(a=e.width,t=e.target,s=i.dom.getStyle(t,"width")||i.dom.getAttrib(t,"width"))}),i.on("ObjectResized",function(e){if(l(e.target)){var t=e.target;if(c.test(s)){var n=parseFloat(c.exec(s)[1]),r=e.width*n/a;i.dom.setStyle(t,"width",r+"%")}else{var o=[];cs.each(t.rows,function(e){cs.each(e.cells,function(e){var t=i.dom.getStyle(e,"width",!0);o.push({cell:e,width:t})})}),cs.each(o,function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:function(){return o},lazyWire:function(){return u.getOr(Ns.only($.fromDom(i.getBody())))},destroy:function(){o.each(function(e){e.destroy()}),u.each(function(e){Zs.remove(i,e)})}}}var eu=function(e){return{fold:e}},tu=function(o){return eu(function(e,t,n,r){return e(o)})},nu=function(o){return eu(function(e,t,n,r){return t(o)})},ru=function(o,i){return eu(function(e,t,n,r){return n(o,i)})},ou=function(o){return eu(function(e,t,n,r){return r(o)})},iu=function(n,e){return Bt.table(n,e).bind(function(e){var t=Bt.cells(e);return T.findIndex(t,function(e){return qe.eq(n,e)}).map(function(e){return{index:_.constant(e),all:_.constant(t)}})})},au=function(t,e){return iu(t,e).fold(function(){return tu(t)},function(e){return e.index()+1<e.all().length?ru(t,e.all()[e.index()+1]):ou(t)})},su=function(t,e){return iu(t,e).fold(function(){return tu()},function(e){return 0<=e.index()-1?ru(t,e.all()[e.index()-1]):nu(t)})},uu=or([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),cu={before:uu.before,on:uu.on,after:uu.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(_.identity,_.identity,_.identity)}},lu=or([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fu=F.immutable("start","soffset","finish","foffset"),du={domRange:lu.domRange,relative:lu.relative,exact:lu.exact,exactFromRange:function(e){return lu.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:fu,getWin:function(e){var t=e.match({domRange:function(e){return $.fromDom(e.startContainer)},relative:function(e,t){return cu.getStart(e)},exact:function(e,t,n,r){return e}});return Xe.defaultView(t)}},hu=function(e,t,n,r){var o=Xe.owner(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},pu=function(e,t,n,r){var o=hu(e,t,n,r),i=qe.eq(e,n)&&t===r;return o.collapsed&&!i},mu=function(e,t){var n=(t||document).createDocumentFragment();return T.each(e,function(e){n.appendChild(e.dom())}),$.fromDom(n)},gu=function(e,t){e.selectNodeContents(t.dom())},vu=function(e){e.deleteContents()},bu=function(e){return{left:_.constant(e.left),top:_.constant(e.top),right:_.constant(e.right),bottom:_.constant(e.bottom),width:_.constant(e.width),height:_.constant(e.height)}},yu={create:function(e){return e.document.createRange()},replaceWith:function(e,t){vu(e),e.insertNode(t.dom())},selectNodeContents:function(e,t){var n=e.document.createRange();return gu(n,t),n},selectNodeContentsUsing:gu,relativeToNative:function(e,t,n){var r,o,i=e.document.createRange();return r=i,t.fold(function(e){r.setStartBefore(e.dom())},function(e,t){r.setStart(e.dom(),t)},function(e){r.setStartAfter(e.dom())}),o=i,n.fold(function(e){o.setEndBefore(e.dom())},function(e,t){o.setEnd(e.dom(),t)},function(e){o.setEndAfter(e.dom())}),i},exactToNative:function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},deleteContents:vu,cloneFragment:function(e){var t=e.cloneContents();return $.fromDom(t)},getFirstRect:function(e){var t=e.getClientRects(),n=0<t.length?t[0]:e.getBoundingClientRect();return 0<n.width||0<n.height?w.some(n).map(bu):w.none()},getBounds:function(e){var t=e.getBoundingClientRect();return 0<t.width||0<t.height?w.some(t).map(bu):w.none()},isWithin:function(e,t){return t.compareBoundaryPoints(e.END_TO_START,e)<1&&-1<t.compareBoundaryPoints(e.START_TO_END,e)},toString:function(e){return e.toString()}},_u=or([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),wu=function(e,t,n){return t($.fromDom(n.startContainer),n.startOffset,$.fromDom(n.endContainer),n.endOffset)},xu=function(e,t){var o,n,r,i=(o=e,t.match({domRange:function(e){return{ltr:_.constant(e),rtl:w.none}},relative:function(e,t){return{ltr:le(function(){return yu.relativeToNative(o,e,t)}),rtl:le(function(){return w.some(yu.relativeToNative(o,t,e))})}},exact:function(e,t,n,r){return{ltr:le(function(){return yu.exactToNative(o,e,t,n,r)}),rtl:le(function(){return w.some(yu.exactToNative(o,n,r,e,t))})}}}));return(r=(n=i).ltr()).collapsed?n.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return _u.rtl($.fromDom(e.endContainer),e.endOffset,$.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return wu(0,_u.ltr,r)}):wu(0,_u.ltr,r)},Cu={ltr:_u.ltr,rtl:_u.rtl,diagnose:xu,asLtrRange:function(i,e){return xu(i,e).match({ltr:function(e,t,n,r){var o=i.document.createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},rtl:function(e,t,n,r){var o=i.document.createRange();return o.setStart(n.dom(),r),o.setEnd(e.dom(),t),o}})}},ku=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Su=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),u=Math.abs(t-s.left);if(n>s.bottom);else{if(n<s.top||i<u)return a-1;i=u}}return 0},Eu={locate:function(c,l,f,d){var e=c.dom().createRange();e.selectNode(l.dom());var t=e.getClientRects();return Ro(t,function(e){return ku(e,f,d)?w.some(e):w.none()}).map(function(e){return n=c,r=l,t=f,o=d,i=e,a=function(e){var t=n.dom().createRange();return t.setStart(r.dom(),e),t.collapse(!0),t},s=cn.get(r).length,u=Su(function(e){return a(e).getBoundingClientRect()},t,o,i.right,s),a(u);var n,r,t,o,i,a,s,u})}},Tu=function(t,e,n,r){var o=t.dom().createRange(),i=Xe.children(e);return Ro(i,function(e){return o.selectNode(e.dom()),ku(o.getBoundingClientRect(),n,r)?Au(t,e,n,r):w.none()})},Au=function(e,t,n,r){return(it.isText(t)?Eu.locate:Tu)(e,t,n,r)},Ru=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return Au(e,t,a,s)},Nu=function(e,t){return t-e.left<e.right-t},Ou=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Du=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=Nu(o,n);return(!0===i?mn.first:mn.last)(e).map(function(e){return Ou(t,e,i)})},Lu=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Nu(r,n);return w.some(Ou(e,t,o))},Bu=function(e,t,n){return(0===Xe.children(t).length?Lu:Du)(e,t,n)},Pu=document.caretPositionFromPoint?function(n,e,t){return w.from(n.dom().caretPositionFromPoint(e,t)).bind(function(e){if(null===e.offsetNode)return w.none();var t=n.dom().createRange();return t.setStart(e.offsetNode,e.offset),t.collapse(),w.some(t)})}:document.caretRangeFromPoint?function(e,t,n){return w.from(e.dom().caretRangeFromPoint(t,n))}:function(n,r,o){return $.fromPoint(n,r,o).bind(function(e){var t=function(){return Bu(n,e,r)};return 0===Xe.children(e).length?t():function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return Ru(e,t,a,s)}(n,e,r,o).orThunk(t)})},Mu=function(e,t,n){var r=$.fromDom(e.document);return Pu(r,t,n).map(function(e){return du.range($.fromDom(e.startContainer),e.startOffset,$.fromDom(e.endContainer),e.endOffset)})},Iu=function(e,t,n){var r,o,i,a,s,u,c=Cu.asLtrRange(e,t),l=$.fromDom(c.commonAncestorContainer);return it.isElement(l)?(r=e,o=l,i=c,a=n,s=yu.create(r),u=(te.is(o,a)?[o]:[]).concat(gt.descendants(o,a)),T.filter(u,function(e){return yu.selectNodeContentsUsing(s,e),yu.isWithin(i,s)})):[]},Fu=function(e,t){var n=it.name(e);return"input"===n?cu.after(e):T.contains(["br","img"],n)?0===t?cu.before(e):cu.after(e):cu.on(e,t)},ju=function(e,t){var n=e.fold(cu.before,Fu,cu.after),r=t.fold(cu.before,Fu,cu.after);return du.relative(n,r)},zu=function(e,t,n,r){var o=Fu(e,t),i=Fu(n,r);return du.relative(o,i)},Hu=function(e){return e.match({domRange:function(e){var t=$.fromDom(e.startContainer),n=$.fromDom(e.endContainer);return zu(t,e.startOffset,n,e.endOffset)},relative:ju,exact:zu})},qu=ju,Uu=zu,Wu=function(e,t){w.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Vu=function(e,t,n,r,o){var i=yu.exactToNative(e,t,n,r,o);Wu(e,i)},Ku=function(i,e){return Cu.diagnose(i,e).match({ltr:function(e,t,n,r){Vu(i,e,t,n,r)},rtl:function(e,t,n,r){var o=i.getSelection();o.extend?(o.collapse(e.dom(),t),o.extend(n.dom(),r)):Vu(i,n,r,e,t)}})},$u=function(e){var t=$.fromDom(e.anchorNode),n=$.fromDom(e.focusNode);return pu(t,e.anchorOffset,n,e.focusOffset)?w.some(du.range($.fromDom(e.anchorNode),e.anchorOffset,$.fromDom(e.focusNode),e.focusOffset)):function(e){if(0<e.rangeCount){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return w.some(du.range($.fromDom(t.startContainer),t.startOffset,$.fromDom(n.endContainer),n.endOffset))}return w.none()}(e)},Gu=function(e){var t=e.getSelection();return 0<t.rangeCount?$u(t):w.none()},Yu={setExact:function(e,t,n,r,o){var i=Uu(t,n,r,o);Ku(e,i)},getExact:Gu,get:function(e){return Gu(e).map(function(e){return du.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},setRelative:function(e,t,n){var r=qu(t,n);Ku(e,r)},toNative:function(e){var o=du.getWin(e).dom(),t=function(e,t,n,r){return yu.exactToNative(o,e,t,n,r)},n=Hu(e);return Cu.diagnose(o,n).match({ltr:t,rtl:t})},setToElement:function(e,t){var n=yu.selectNodeContents(e,t);Wu(e,n)},clear:function(e){e.getSelection().removeAllRanges()},clone:function(e,t){var n=Cu.asLtrRange(e,t);return yu.cloneFragment(n)},replace:function(e,t,n){var r=Cu.asLtrRange(e,t),o=mu(n,e.document);yu.replaceWith(r,o)},deleteAt:function(e,t){var n=Cu.asLtrRange(e,t);yu.deleteContents(n)},forElement:function(e,t){var n=yu.selectNodeContents(e,t);return du.range($.fromDom(n.startContainer),n.startOffset,$.fromDom(n.endContainer),n.endOffset)},getFirstRect:function(e,t){var n=Cu.asLtrRange(e,t);return yu.getFirstRect(n)},getBounds:function(e,t){var n=Cu.asLtrRange(e,t);return yu.getBounds(n)},getAtPoint:function(e,t,n){return Mu(e,t,n)},findWithin:function(e,t,n){return Iu(e,t,n)},getAsString:function(e,t){var n=Cu.asLtrRange(e,t);return yu.toString(n)},isCollapsed:function(e,t,n,r){return qe.eq(e,n)&&t===r}},Xu=tinymce.util.Tools.resolve("tinymce.util.VK"),Ju=function(e,t,n,r){return ec(e,t,au(n),r)},Zu=function(e,t,n,r){return ec(e,t,su(n),r)},Qu=function(e,t){var n=du.exact(t,0,t,0);return Yu.toNative(n)},ec=function(i,e,t,a,n){return t.fold(w.none,w.none,function(e,t){return mn.first(t).map(function(e){return Qu(0,e)})},function(o){return Bt.table(o,e).bind(function(e){var t,n,r=hr.noMenu(o);return i.undoManager.transact(function(){a.insertRowsAfter(e,r)}),t=e,n=gt.descendants(t,"tr"),T.last(n).bind(function(e){return At.descendant(e,"td,th").map(function(e){return Qu(0,e)})})})})},tc=["table","li","dl"],nc={handle:function(t,n,r,o){if(t.keyCode===Xu.TAB){var i=Ia.getBody(n),a=function(e){var t=it.name(e);return qe.eq(e,i)||T.contains(tc,t)},e=n.selection.getRng();if(e.collapsed){var s=$.fromDom(e.startContainer);Bt.cell(s,a).each(function(e){t.preventDefault(),(t.shiftKey?Zu:Ju)(n,a,e,r,o).each(function(e){n.selection.setRng(e)})})}}}},rc={response:F.immutable("selection","kill")},oc=function(t){return function(e){return e===t}},ic=oc(38),ac=oc(40),sc={ltr:{isBackward:oc(37),isForward:oc(39)},rtl:{isBackward:oc(39),isForward:oc(37)},isUp:ic,isDown:ac,isNavigation:function(e){return 37<=e&&e<=40}},uc={convertToRange:function(e,t){var n=Cu.asLtrRange(e,t);return{start:_.constant($.fromDom(n.startContainer)),soffset:_.constant(n.startOffset),finish:_.constant($.fromDom(n.endContainer)),foffset:_.constant(n.endOffset)}},makeSitus:function(e,t,n,r){return{start:_.constant(cu.on(e,t)),finish:_.constant(cu.on(n,r))}}},cc=je.detect().browser.isSafari(),lc=function(e){var t=void 0!==e?e.dom():document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Fr(n,r)},fc=function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollTo(e,t)},dc=function(e,t){cc&&P.isFunction(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},hc={get:lc,to:fc,by:function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollBy(e,t)},preserve:function(e,t){var n=lc(e);t();var r=lc(e);n.top()===r.top()&&n.left()===r.left()||fc(n.left(),n.top(),e)},capture:function(t){var e=w.none(),n=function(){e=w.some(lc(t))};return n(),{save:n,restore:function(){e.each(function(e){fc(e.left(),e.top(),t)})}}},intoView:dc,intoViewIfNeeded:function(e,t){var n=t.dom().getBoundingClientRect(),r=e.dom().getBoundingClientRect();r.top<n.top?dc(e,!0):r.bottom>n.bottom&&dc(e,!1)},setToElement:function(e,t){var n=Hr(t),r=$.fromDom(e.document);fc(n.left(),n.top(),r)},scrollBarWidth:function(){var e=$.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');Yt.after(ht.body(),e);var t=e.dom().offsetWidth-e.dom().clientWidth;return Zt.remove(e),t}};function pc(i){return{elementFromPoint:function(e,t){return w.from(i.document.elementFromPoint(e,t)).map($.fromDom)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(e,t,n,r){var o=du.exact(e,t,n,r);return Yu.getFirstRect(i,o).map(function(e){return L.map(e,_.apply)})},getSelection:function(){return Yu.get(i).map(function(e){return uc.convertToRange(i,e)})},fromSitus:function(e){var t=du.relative(e.start(),e.finish());return uc.convertToRange(i,t)},situsFromPoint:function(e,t){return Yu.getAtPoint(i,e,t).map(function(e){return{start:_.constant(cu.on(e.start(),e.soffset())),finish:_.constant(cu.on(e.finish(),e.foffset()))}})},clearSelection:function(){Yu.clear(i)},setSelection:function(e){Yu.setExact(i,e.start(),e.soffset(),e.finish(),e.foffset())},setRelativeSelection:function(e,t){Yu.setRelative(i,e,t)},selectContents:function(e){Yu.setToElement(i,e)},getInnerHeight:function(){return i.innerHeight},getScrollY:function(){return hc.get($.fromDom(i.document)).top()},scrollBy:function(e,t){hc.by(e,t,$.fromDom(i.document))}}}var mc=function(n,e,r,t,o){if(!qe.eq(r,t))return Zn.identify(r,t,e).bind(function(e){var t=e.boxes().getOr([]);return 0<t.length?(o(n,t,e.start(),e.finish()),w.some(rc.response(w.some(uc.makeSitus(r,0,r,dn(r))),!0))):w.none()})},gc={sync:function(n,r,e,t,o,i,a){return qe.eq(e,o)&&t===i?w.none():At.closest(e,"td,th",r).bind(function(t){return At.closest(o,"td,th",r).bind(function(e){return mc(n,r,t,e,a)})})},detect:mc,update:function(e,t,n,r,o){return Zn.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()})}},vc=F.immutableBag(["left","top","right","bottom"],[]),bc={nu:vc,moveUp:function(e,t){return vc({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},moveDown:function(e,t){return vc({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},moveBottomTo:function(e,t){var n=e.bottom()-e.top();return vc({left:e.left(),top:t-n,right:e.right(),bottom:t})},moveTopTo:function(e,t){var n=e.bottom()-e.top();return vc({left:e.left(),top:t,right:e.right(),bottom:t+n})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,t,n){return vc({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}},yc=function(e){return bc.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},_c=function(e,t){return w.some(e.getRect(t))},wc=function(e,t,n){return it.isElement(t)?_c(e,t).map(yc):it.isText(t)?(r=e,o=t,i=n,0<=i&&i<dn(o)?r.getRangedRect(o,i,o,i+1):0<i?r.getRangedRect(o,i-1,o,i):w.none()).map(yc):w.none();var r,o,i},xc=function(e,t){return it.isElement(t)?_c(e,t).map(yc):it.isText(t)?e.getRangedRect(t,0,t,dn(t)).map(yc):w.none()},Cc=F.immutable("item","mode"),kc=function(e,t,n,r){var o=void 0!==r?r:Sc;return e.property().parent(t).map(function(e){return Cc(e,o)})},Sc=function(e,t,n,r){var o=void 0!==r?r:Ec;return n.sibling(e,t).map(function(e){return Cc(e,o)})},Ec=function(e,t,n,r){var o=void 0!==r?r:Ec,i=e.property().children(t);return n.first(i).map(function(e){return Cc(e,o)})},Tc=[{current:kc,next:Sc,fallback:w.none()},{current:Sc,next:Ec,fallback:w.some(kc)},{current:Ec,next:Ec,fallback:w.some(Sc)}],Ac=function(t,n,r,o,e){return e=void 0!==e?e:Tc,T.find(e,function(e){return e.current===r}).bind(function(e){return e.current(t,n,o,e.next).orThunk(function(){return e.fallback.bind(function(e){return Ac(t,n,e,o)})})})},Rc={backtrack:kc,sidestep:Sc,advance:Ec,go:Ac},Nc={left:function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return 0<e.length?w.some(e[e.length-1]):w.none()}}},right:function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return 0<e.length?w.some(e[0]):w.none()}}}},Oc=function(t,e,n,r,o,i){return Rc.go(t,e,r,o).bind(function(e){return i(e.item())?w.none():n(e.item())?w.some(e.item()):Oc(t,e.item(),n,e.mode(),o,i)})},Dc=function(e,t,n,r){return Oc(e,t,n,Rc.sidestep,Nc.left(),r)},Lc=function(e,t,n,r){return Oc(e,t,n,Rc.sidestep,Nc.right(),r)},Bc=function(e,t){return 0===e.property().children(t).length},Pc=function(e,t,n,r){return Dc(e,t,n,r)},Mc=function(e,t,n,r){return Lc(e,t,n,r)},Ic={before:function(e,t,n){return Pc(e,t,_.curry(Bc,e),n)},after:function(e,t,n){return Mc(e,t,_.curry(Bc,e),n)},seekLeft:Pc,seekRight:Mc,walkers:function(){return{left:Nc.left,right:Nc.right}},walk:function(e,t,n,r,o){return Rc.go(e,t,n,r,o)},backtrack:Rc.backtrack,sidestep:Rc.sidestep,advance:Rc.advance},Fc=Cn(),jc={gather:function(e,t,n){return Ic.gather(Fc,e,t,n)},before:function(e,t){return Ic.before(Fc,e,t)},after:function(e,t){return Ic.after(Fc,e,t)},seekLeft:function(e,t,n){return Ic.seekLeft(Fc,e,t,n)},seekRight:function(e,t,n){return Ic.seekRight(Fc,e,t,n)},walkers:function(){return Ic.walkers()},walk:function(e,t,n,r){return Ic.walk(Fc,e,t,n,r)}},zc=or([{none:[]},{retry:["caret"]}]),Hc=function(t,e,r){return Et.closest(e,_o).fold(_.constant(!1),function(e){return xc(t,e).exists(function(e){return n=e,(t=r).left()<n.left()||Math.abs(n.right()-t.left())<1||t.left()>n.right();var t,n})})},qc={point:bc.getTop,adjuster:function(e,t,n,r,o){var i=bc.moveUp(o,5);return Math.abs(n.top()-r.top())<1?zc.retry(i):n.bottom()<o.top()?zc.retry(i):n.bottom()===o.top()?zc.retry(bc.moveUp(o,1)):Hc(e,t,o)?zc.retry(bc.translate(i,5,0)):zc.none()},move:bc.moveUp,gather:jc.before},Uc={point:bc.getBottom,adjuster:function(e,t,n,r,o){var i=bc.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1?zc.retry(i):n.top()>o.bottom()?zc.retry(i):n.top()===o.bottom()?zc.retry(bc.moveDown(o,1)):Hc(e,t,o)?zc.retry(bc.translate(i,5,0)):zc.none()},move:bc.moveDown,gather:jc.after},Wc=function(n,r,o,i,a){return 0===a?w.some(i):(u=n,c=i.left(),l=r.point(i),u.elementFromPoint(c,l).filter(function(e){return"table"===it.name(e)}).isSome()?(t=i,s=a-1,Wc(n,e=r,o,e.move(t,5),s)):n.situsFromPoint(i.left(),r.point(i)).bind(function(e){return e.start().fold(w.none,function(t,e){return xc(n,t,e).bind(function(e){return r.adjuster(n,t,e,o,i).fold(w.none,function(e){return Wc(n,r,o,e,a-1)})}).orThunk(function(){return w.some(i)})},w.none)}));var e,t,s,u,c,l},Vc=function(t,n,e){var r,o,i,a=t.move(e,5),s=Wc(n,t,e,a,100).getOr(a);return(r=t,o=s,i=n,r.point(o)>i.getInnerHeight()?w.some(r.point(o)-i.getInnerHeight()):r.point(o)<0?w.some(-r.point(o)):w.none()).fold(function(){return n.situsFromPoint(s.left(),t.point(s))},function(e){return n.scrollBy(0,e),n.situsFromPoint(s.left(),t.point(s)-e)})},Kc={tryUp:_.curry(Vc,qc),tryDown:_.curry(Vc,Uc),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:_.constant(5)},$c=or([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Gc=function(e){return At.closest(e,"tr")},Yc={verify:function(s,e,t,n,r,u,o){return At.closest(n,"td,th",o).bind(function(a){return At.closest(e,"td,th",o).map(function(i){return qe.eq(a,i)?qe.eq(n,a)&&dn(a)===r?u(i):$c.none("in same cell"):Ln(Gc,[a,i]).fold(function(){return t=i,n=a,r=(e=s).getRect(t),(o=e.getRect(n)).right>r.left&&o.left<r.right?$c.success():u(i);var e,t,n,r,o},function(e){return u(i)})})}).getOr($c.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)},adt:$c},Xc={point:F.immutable("element","offset"),delta:F.immutable("element","deltaOffset"),range:F.immutable("element","start","finish"),points:F.immutable("begin","end"),text:F.immutable("element","text")},Jc=(F.immutable("ancestor","descendants","element","index"),F.immutable("parent","children","element","index")),Zc=function(e,t){return T.findIndex(e,_.curry(qe.eq,t))},Qc=function(r){return Xe.parent(r).bind(function(t){var n=Xe.children(t);return Zc(n,r).map(function(e){return Jc(t,n,r,e)})})},el=function(e){return"br"===it.name(e)},tl=function(e,t,n){return t(e,n).bind(function(e){return it.isText(e)&&0===cn.get(e).trim().length?tl(e,t,n):w.some(e)})},nl=function(t,e,n,r){return(o=e,i=n,Xe.child(o,i).filter(el).orThunk(function(){return Xe.child(o,i-1).filter(el)})).bind(function(e){return r.traverse(e).fold(function(){return tl(e,r.gather,t).map(r.relative)},function(e){return Qc(e).map(function(e){return cu.on(e.parent(),e.index())})})});var o,i},rl=function(e,t,n,r){var o,i,a;return(el(t)?(o=e,i=t,(a=r).traverse(i).orThunk(function(){return tl(i,a.gather,o)}).map(a.relative)):nl(e,t,n,r)).map(function(e){return{start:_.constant(e),finish:_.constant(e)}})},ol=function(e){return Yc.cata(e,function(e){return w.none()},function(){return w.none()},function(e){return w.some(Xc.point(e,0))},function(e){return w.some(Xc.point(e,dn(e)))})},il=je.detect(),al=function(r,o,i,a,s,u){return 0===u?w.none():cl(r,o,i,a,s).bind(function(e){var t=r.fromSitus(e),n=Yc.verify(r,i,a,t.finish(),t.foffset(),s.failure,o);return Yc.cata(n,function(){return w.none()},function(){return w.some(e)},function(e){return qe.eq(i,e)&&0===a?sl(r,i,a,bc.moveUp,s):al(r,o,e,0,s,u-1)},function(e){return qe.eq(i,e)&&a===dn(e)?sl(r,i,a,bc.moveDown,s):al(r,o,e,dn(e),s,u-1)})})},sl=function(t,e,n,r,o){return wc(t,e,n).bind(function(e){return ul(t,o,r(e,Kc.getJumpSize()))})},ul=function(e,t,n){return il.browser.isChrome()||il.browser.isSafari()||il.browser.isFirefox()||il.browser.isEdge()?t.otherRetry(e,n):il.browser.isIE()?t.ieRetry(e,n):w.none()},cl=function(t,e,n,r,o){return wc(t,n,r).bind(function(e){return ul(t,o,e)})},ll=function(t,n,r){return(o=t,i=n,a=r,o.getSelection().bind(function(r){return rl(i,r.finish(),r.foffset(),a).fold(function(){return w.some(Xc.point(r.finish(),r.foffset()))},function(e){var t=o.fromSitus(e),n=Yc.verify(o,r.finish(),r.foffset(),t.finish(),t.foffset(),a.failure,i);return ol(n)})})).bind(function(e){return al(t,n,e.element(),e.offset(),r,20).map(t.fromSitus)});var o,i,a},fl=function(e,t,n){return Et.ancestor(e,t,n).isSome()},dl=je.detect(),hl=function(r,o,i,e,a){return At.closest(e,"td,th",o).bind(function(n){return At.closest(n,"table",o).bind(function(e){return t=e,fl(a,function(e){return Xe.parent(e).exists(function(e){return qe.eq(e,t)})})?ll(r,o,i).bind(function(t){return At.closest(t.finish(),"td,th",o).map(function(e){return{start:_.constant(n),finish:_.constant(e),range:_.constant(t)}})}):w.none();var t})})},pl=function(e,t,n,r,o,i){return dl.browser.isIE()?w.none():i(r,t).orThunk(function(){return hl(e,t,n,r,o).map(function(e){var t=e.range();return rc.response(w.some(uc.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},ml=function(e,t,n,r,o,i,a){return hl(e,n,r,o,i).bind(function(e){return gc.detect(t,n,e.start(),e.finish(),a)})},gl=function(e,r){return At.closest(e,"tr",r).bind(function(n){return At.closest(n,"table",r).bind(function(e){var t=gt.descendants(e,"tr");return qe.eq(n,t[0])?jc.seekLeft(e,function(e){return mn.last(e).isSome()},r).map(function(e){var t=dn(e);return rc.response(w.some(uc.makeSitus(e,t,e,t)),!0)}):w.none()})})},vl=function(e,r){return At.closest(e,"tr",r).bind(function(n){return At.closest(n,"table",r).bind(function(e){var t=gt.descendants(e,"tr");return qe.eq(n,t[t.length-1])?jc.seekRight(e,function(e){return mn.first(e).isSome()},r).map(function(e){return rc.response(w.some(uc.makeSitus(e,0,e,0)),!0)}):w.none()})})},bl=function(e,t){return At.closest(e,"td,th",t)},yl={down:{traverse:Xe.nextSibling,gather:jc.after,relative:cu.before,otherRetry:Kc.tryDown,ieRetry:Kc.ieTryDown,failure:Yc.adt.failedDown},up:{traverse:Xe.prevSibling,gather:jc.before,relative:cu.before,otherRetry:Kc.tryUp,ieRetry:Kc.ieTryUp,failure:Yc.adt.failedUp}},_l=F.immutable("rows","cols"),wl={mouse:function(e,t,n,r){var o,i,a,s,u,c,l=pc(e),f=(o=l,i=t,a=n,s=r,u=w.none(),c=function(){u=w.none()},{mousedown:function(e){s.clear(i),u=bl(e.target(),a)},mouseover:function(e){u.each(function(r){s.clear(i),bl(e.target(),a).each(function(n){Zn.identify(r,n,a).each(function(e){var t=e.boxes().getOr([]);(1<t.length||1===t.length&&!qe.eq(r,n))&&(s.selectRange(i,t,e.start(),e.finish()),o.selectContents(n))})})})},mouseup:function(){u.each(c)}});return{mousedown:f.mousedown,mouseover:f.mouseover,mouseup:f.mouseup}},keyboard:function(e,u,c,l){var f=pc(e),d=function(){return l.clear(u),w.none()};return{keydown:function(e,t,n,r,o,i){var a=e.raw().which,s=!0===e.raw().shiftKey;return Zn.retrieve(u,l.selectedSelector()).fold(function(){return sc.isDown(a)&&s?_.curry(ml,f,u,c,yl.down,r,t,l.selectRange):sc.isUp(a)&&s?_.curry(ml,f,u,c,yl.up,r,t,l.selectRange):sc.isDown(a)?_.curry(pl,f,c,yl.down,r,t,vl):sc.isUp(a)?_.curry(pl,f,c,yl.up,r,t,gl):w.none},function(t){var e=function(e){return function(){return Ro(e,function(e){return gc.update(e.rows(),e.cols(),u,t,l)}).fold(function(){return Zn.getEdges(u,l.firstSelectedSelector(),l.lastSelectedSelector()).map(function(e){var t=sc.isDown(a)||i.isForward(a)?cu.after:cu.before;return f.setRelativeSelection(cu.on(e.first(),0),t(e.table())),l.clear(u),rc.response(w.none(),!0)})},function(e){return w.some(rc.response(w.none(),!0))})}};return sc.isDown(a)&&s?e([_l(1,0)]):sc.isUp(a)&&s?e([_l(-1,0)]):i.isBackward(a)&&s?e([_l(0,-1),_l(-1,0)]):i.isForward(a)&&s?e([_l(0,1),_l(1,0)]):sc.isNavigation(a)&&!1===s?d:w.none})()},keyup:function(t,n,r,o,i){return Zn.retrieve(u,l.selectedSelector()).fold(function(){var e=t.raw().which;return 0==(!0===t.raw().shiftKey)?w.none():sc.isNavigation(e)?gc.sync(u,c,n,r,o,i,l.selectRange):w.none()},w.none)}}}},xl=function(t,e){T.each(e,function(e){ci.remove(t,e)})},Cl=function(t){return function(e){ci.add(e,t)}},kl=function(t){return function(e){xl(e,t)}},Sl={byClass:function(o){var i=Cl(o.selected()),n=kl([o.selected(),o.lastSelected(),o.firstSelected()]),a=function(e){var t=gt.descendants(e,o.selectedSelector());T.each(t,n)};return{clear:a,selectRange:function(e,t,n,r){a(e),T.each(t,i),ci.add(n,o.firstSelected()),ci.add(r,o.lastSelected())},selectedSelector:o.selectedSelector,firstSelectedSelector:o.firstSelectedSelector,lastSelectedSelector:o.lastSelectedSelector}},byAttr:function(o){var n=function(e){lt.remove(e,o.selected()),lt.remove(e,o.firstSelected()),lt.remove(e,o.lastSelected())},i=function(e){lt.set(e,o.selected(),"1")},a=function(e){var t=gt.descendants(e,o.selectedSelector());T.each(t,n)};return{clear:a,selectRange:function(e,t,n,r){a(e),T.each(t,i),lt.set(n,o.firstSelected(),"1"),lt.set(r,o.lastSelected(),"1")},selectedSelector:o.selectedSelector,firstSelectedSelector:o.firstSelectedSelector,lastSelectedSelector:o.lastSelectedSelector}}};function El(m,g){var v=F.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),b=w.none(),y=Sl.byAttr(rr);return m.on("init",function(e){var r=m.getWin(),i=Ia.getBody(m),t=Ia.getIsRoot(m),n=wl.mouse(r,i,t,y),l=wl.keyboard(r,i,t,y),f=function(e,t){!0===e.raw().shiftKey&&(t.kill()&&e.kill(),t.selection().each(function(e){var t=du.relative(e.start(),e.finish()),n=Cu.asLtrRange(r,t);m.selection.setRng(n)}))},o=function(e){var t=h(e);if(t.raw().shiftKey&&sc.isNavigation(t.raw().which)){var n=m.selection.getRng(),r=$.fromDom(n.startContainer),o=$.fromDom(n.endContainer);l.keyup(t,r,n.startOffset,o,n.endOffset).each(function(e){f(t,e)})}},d=function(e){return!(lt.has(e,"data-mce-bogus")||"br"===it.name(e)||it.isText(e)&&0===cn.get(e).length)},a=function(e){var t,n,r,o=h(e);g().each(function(e){e.hideBars()}),40===e.which&&(t=$.fromDom(m.getBody()),n=Xe.lastChild(t),r=function(e){return Xe.prevSibling(e).bind(function(e){return d(e)?w.some(e):r(e)})},n.bind(function(e){return d(e)?w.some(e):r(e)})).each(function(e){"table"===it.name(e)&&(Ga(m)?m.dom.add(m.getBody(),Ga(m),Qa(m),"<br/>"):m.dom.add(m.getBody(),"br"))});var i=m.selection.getRng(),a=$.fromDom(m.selection.getStart()),s=$.fromDom(i.startContainer),u=$.fromDom(i.endContainer),c=qa.directionAt(a).isRtl()?sc.rtl:sc.ltr;l.keydown(o,s,i.startOffset,u,i.endOffset,c).each(function(e){f(o,e)}),g().each(function(e){e.showBars()})},h=function(e){var t=$.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=_.compose(r,n);return{target:_.constant(t),x:_.constant(e.x),y:_.constant(e.y),stop:n,prevent:r,kill:o,raw:_.constant(e)}},s=function(e){return 0===e.button},u=function(e){s(e)&&n.mousedown(h(e))},c=function(e){var t;(void 0===(t=e).buttons||0!=(1&t.buttons))&&n.mouseover(h(e))},p=function(e){s&&n.mouseup(h(e))};m.on("mousedown",u),m.on("mouseover",c),m.on("mouseup",p),m.on("keyup",o),m.on("keydown",a),m.on("nodechange",function(){var e=m.selection,t=$.fromDom(e.getStart()),n=$.fromDom(e.getEnd()),r=Bt.table(t),o=Bt.table(n);r.bind(function(t){return o.bind(function(e){return qe.eq(t,e)?w.some(!0):w.none()})}).fold(function(){y.clear(i)},_.noop)}),b=w.some(v({mousedown:u,mouseover:c,mouseup:p,keyup:o,keydown:a}))}),{clear:y.clear,destroy:function(){b.each(function(e){})}}}var Tl=cs.each,Al={addButtons:function(t){var n=[];function e(e){return function(){t.execCommand(e)}}Tl("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"===e?n.push({text:"-"}):n.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:n}),t.addButton("tableprops",{title:"Table properties",onclick:_.curry(Ts,t,!0),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:e("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:e("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:e("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:e("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:e("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:e("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:e("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:e("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:e("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:e("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:e("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:e("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:e("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:e("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:e("mceTableDeleteCol")})},addToolbars:function(t){var e,n=""===(e=t.getParam("table_toolbar",Ua))||!1===e?[]:P.isString(e)?e.split(/[ ,]/):P.isArray(e)?e:[];0<n.length&&t.addContextToolbar(function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},n.join(" "))}},Rl={addMenuItems:function(o,n){var r=w.none(),i=[],a=[],s=[],u=[],c=function(e){e.disabled(!0)},l=function(e){e.disabled(!1)},e=function(){var t=this;i.push(t),r.fold(function(){c(t)},function(e){l(t)})},t=function(){var t=this;a.push(t),r.fold(function(){c(t)},function(e){l(t)})};o.on("init",function(){o.on("nodechange",function(e){var t=w.from(o.dom.getParent(o.selection.getStart(),"th,td"));(r=t.bind(function(e){var t=$.fromDom(e);return Bt.table(t).map(function(e){return hr.forMenu(n,e,t)})})).fold(function(){T.each(i,c),T.each(a,c),T.each(s,c),T.each(u,c)},function(t){T.each(i,l),T.each(a,l),T.each(s,function(e){e.disabled(t.mergable().isNone())}),T.each(u,function(e){e.disabled(t.unmergable().isNone())})})})});var f=function(e,t,n,r){var o,i,a,s,u,c=r.getEl().getElementsByTagName("table")[0],l=r.isRtl()||"tl-tr"===r.parent().rel;for(c.nextSibling.innerHTML=t+1+" x "+(n+1),l&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)s=c.rows[i].childNodes[o].firstChild,u=(l?t<=o:o<=t)&&i<=n,e.dom.toggleClass(s,"mce-active",u),u&&(a=s);return a.parentNode},d=!1===o.getParam("table_grid",!0,"boolean")?{text:"Table",icon:"table",context:"table",onclick:_.curry(Ts,o)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),Ts(o))},onshow:function(){f(o,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"===r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(f(o,t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"===e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){ks(o,t.lastX+1,t.lastY+1)}),o.addVisual())}}]};function h(e){return function(){o.execCommand(e)}}var p={text:"Table properties",context:"table",onPostRender:e,onclick:_.curry(Ts,o,!0)},m={text:"Delete table",context:"table",onPostRender:e,cmd:"mceTableDelete"},g={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:h("mceTableInsertRowBefore"),onPostRender:t},{text:"Insert row after",onclick:h("mceTableInsertRowAfter"),onPostRender:t},{text:"Delete row",onclick:h("mceTableDeleteRow"),onPostRender:t},{text:"Row properties",onclick:h("mceTableRowProps"),onPostRender:t},{text:"-"},{text:"Cut row",onclick:h("mceTableCutRow"),onPostRender:t},{text:"Copy row",onclick:h("mceTableCopyRow"),onPostRender:t},{text:"Paste row before",onclick:h("mceTablePasteRowBefore"),onPostRender:t},{text:"Paste row after",onclick:h("mceTablePasteRowAfter"),onPostRender:t}]},v={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:h("mceTableInsertColBefore"),onPostRender:t},{text:"Insert column after",onclick:h("mceTableInsertColAfter"),onPostRender:t},{text:"Delete column",onclick:h("mceTableDeleteCol"),onPostRender:t}]},b={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:h("mceTableCellProps"),onPostRender:t},{text:"Merge cells",onclick:h("mceTableMergeCells"),onPostRender:function(){var t=this;s.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.mergable().isNone())})}},{text:"Split cell",onclick:h("mceTableSplitCells"),onPostRender:function(){var t=this;u.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.unmergable().isNone())})}}]};o.addMenuItem("inserttable",d),o.addMenuItem("tableprops",p),o.addMenuItem("deletetable",m),o.addMenuItem("row",g),o.addMenuItem("column",v),o.addMenuItem("cell",b)}},Nl=function(n,o){return{insertTable:function(e,t){return ks(n,e,t)},setClipboardRows:function(e){return t=e,n=o,r=T.map(t,$.fromDom),void n.set(w.from(r));var t,n,r},getClipboardRows:function(){return o.get().fold(function(){},function(e){return T.map(e,function(e){return e.dom()})})}}};a.add("table",function(t){var f,e,n,d,r,o,i=Qs(t),a=El(t,i.lazyResize),s=(f=t,e=i.lazyWire,n=function(e){return"table"===it.name(Ia.getBody(e))},d=os(f),{deleteRow:(r=function(s,u,c,l){return function(e,t){var n=gt.descendants(e,"td[data-mce-style],th[data-mce-style]");T.each(n,function(e){lt.remove(e,"data-mce-style")});var r=l(),o=$.fromDom(f.getDoc()),i=eo(qa.directionAt),a=_n.cellOperations(c,o,d);return u(e)?s(r,e,t,a,i).bind(function(e){return T.each(e.newRows(),function(e){as(f,e.dom())}),T.each(e.newCells(),function(e){ss(f,e.dom())}),e.cursor().map(function(e){var t=f.dom.createRng();return t.setStart(e.dom(),0),t.setEnd(e.dom(),0),t})}):w.none()}})(Pa.eraseRows,function(e){var t=to.getGridSize(e);return!1===n(f)||1<t.rows()},_.noop,e),deleteColumn:r(Pa.eraseColumns,function(e){var t=to.getGridSize(e);return!1===n(f)||1<t.columns()},_.noop,e),insertRowsBefore:r(Pa.insertRowsBefore,_.always,_.noop,e),insertRowsAfter:r(Pa.insertRowsAfter,_.always,_.noop,e),insertColumnsBefore:r(Pa.insertColumnsBefore,_.always,Pr.halve,e),insertColumnsAfter:r(Pa.insertColumnsAfter,_.always,Pr.halve,e),mergeCells:r(Pa.mergeCells,_.always,_.noop,e),unmergeCells:r(Pa.unmergeCells,_.always,_.noop,e),pasteRowsBefore:r(Pa.pasteRowsBefore,_.always,_.noop,e),pasteRowsAfter:r(Pa.pasteRowsAfter,_.always,_.noop,e),pasteCells:r(Pa.pasteCells,_.always,_.noop,e)}),u=(o=t,{get:function(){var e=Ia.getBody(o);return Qn.retrieve(e,rr.selectedSelector()).fold(function(){return void 0===o.selection.getStart()?ar.none():ar.single(o.selection)},function(e){return ar.multiple(e)})}}),c=no(w.none());return Rs.registerCommands(t,s,a,u,c),pr.registerEvents(t,u,s,a),Rl.addMenuItems(t,u),Al.addButtons(t),Al.addToolbars(t),t.on("PreInit",function(){t.serializer.addTempAttr(rr.firstSelected()),t.serializer.addTempAttr(rr.lastSelected())}),$a(t)&&t.on("keydown",function(e){nc.handle(e,t,s,i.lazyWire)}),t.on("remove",function(){i.destroy(),a.destroy()}),Nl(t,c)})}()},function(e,t,n){n(144)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.Color"),i=function(e,t){e.find("#preview")[0].getEl().style.background=t},a=function(e,t){var n=o(t),r=n.toRgb();e.fromJSON({r:r.r,g:r.g,b:r.b,hex:n.toHex().substr(1)}),i(e,n.toHex())},r=function(e,t,n){var r=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:n,onchange:function(){var e=this.rgb();r&&(r.find("#r").value(e.r),r.find("#g").value(e.g),r.find("#b").value(e.b),r.find("#hex").value(this.value().substr(1)),i(r,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,n=r.find("colorpicker")[0];if(e=this.name(),t=this.value(),"hex"===e)return a(r,t="#"+t),void n.value(t);t={r:r.find("#r").value(),g:r.find("#g").value(),b:r.find("#b").value()},n.value(t),a(r,t)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){t("#"+r.toJSON().hex)}});a(r,n)};e.add("colorpicker",function(n){n.settings.color_picker_callback||(n.settings.color_picker_callback=function(e,t){r(n,e,t)})})}()},function(e,t,n){n(146)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(e,n){var r;return e.dom.getParents(e.selection.getStart(),function(e){var t;(t=e.style["forecolor"===n?"color":"background-color"])&&(r=t)}),r},p=function(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push({text:e[t+1],color:"#"+e[t]});return n},r=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},t=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},n=function(n){n.addCommand("mceApplyTextcolor",function(e,t){r(n,e,t)}),n.addCommand("mceRemoveTextcolor",function(e){t(n,e)})},m=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],a=function(e){return e.getParam("textcolor_map",i)},s=function(e){return e.getParam("textcolor_rows",5)},c=function(e){return e.getParam("textcolor_cols",8)},l=function(e){return e.getParam("color_picker_callback",null)},f=function(e){return e.getParam("forecolor_map",a(e))},d=function(e){return e.getParam("backcolor_map",a(e))},h=function(e){return e.getParam("forecolor_rows",s(e))},g=function(e){return e.getParam("backcolor_rows",s(e))},v=function(e){return e.getParam("forecolor_cols",c(e))},b=function(e){return e.getParam("backcolor_cols",c(e))},y=l,_=function(e){return"function"==typeof l(e)},w=tinymce.util.Tools.resolve("tinymce.util.I18n"),x=function(e,t,n,r){var o,i,a,s,u,c,l,f=0,d=m.DOM.uniqueId("mcearia"),h=function(e,t){var n="transparent"===e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+d+"-"+f+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+w.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"};for((o=p(n)).push({text:w.translate("No color"),color:"transparent"}),a='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',s=o.length-1,c=0;c<t;c++){for(a+="<tr>",u=0;u<e;u++)a+=s<(l=c*e+u)?"<td></td>":h((i=o[l]).color,i.text);a+="</tr>"}if(r){for(a+='<tr><td colspan="'+e+'" class="mce-custom-color-btn"><div id="'+d+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+d+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+w.translate("Custom...")+"</button></div></td></tr>",a+="<tr>",u=0;u<e;u++)a+=h("","Custom color");a+="</tr>"}return a+="</tbody></table>"},C=function(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)},k=function(n){return function(e){var t=e.control;t._color?n.execCommand("mceApplyTextcolor",t.settings.format,t._color):n.execCommand("mceRemoveTextcolor",t.settings.format)}},S=function(r,s){return function(e){var t,i=this.parent(),n=o(r,i.settings.format),a=function(e){i.hidePanel(),i.color(e),r.execCommand("mceApplyTextcolor",i.settings.format,e)};m.DOM.getParent(e.target,".mce-custom-color-btn")&&(i.hidePanel(),y(r).call(r,function(e){var t,n,r,o=i.panel.getEl().getElementsByTagName("table")[0];for(t=u.map(o.rows[o.rows.length-1].childNodes,function(e){return e.firstChild}),r=0;r<t.length&&(n=t[r]).getAttribute("data-mce-color");r++);if(r===s)for(r=0;r<s-1;r++)C(t[r],t[r+1].getAttribute("data-mce-color"));C(n,e),a(e)},n)),(t=e.target.getAttribute("data-mce-color"))?(this.lastId&&m.DOM.get(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===t?(i.hidePanel(),i.resetColor(),r.execCommand("mceRemoveTextcolor",i.settings.format)):a(t)):null!==t&&i.hidePanel()}},E=function(o,i){return function(){var e=i?v(o):b(o),t=i?h(o):g(o),n=i?f(o):d(o),r=_(o);return x(e,t,n,r)}},T=function(e){e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:E(e,!0),onclick:S(e,v(e))},onclick:k(e)}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:E(e,!1),onclick:S(e,b(e))},onclick:k(e)})};e.add("textcolor",function(e){n(e),T(e)})}()},function(e,t,n){n(148)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})},n=function(e){e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})};e.add("hr",function(e){t(e),n(e)})}()},function(e,t,n){n(150)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.util.Tools"),d={hasDimensions:function(e){return!1!==e.settings.image_dimensions},hasAdvTab:function(e){return!0===e.settings.image_advtab},getPrependUrl:function(e){return e.getParam("image_prepend_url","")},getClassList:function(e){return e.getParam("image_class_list")},hasDescription:function(e){return!1!==e.settings.image_description},hasImageTitle:function(e){return!0===e.settings.image_title},hasImageCaption:function(e){return!0===e.settings.image_caption},getImageList:function(e){return e.getParam("image_list",!1)},hasUploadUrl:function(e){return e.getParam("images_upload_url",!1)},hasUploadHandler:function(e){return e.getParam("images_upload_handler",!1)},getUploadUrl:function(e){return e.getParam("images_upload_url")},getUploadHandler:function(e){return e.getParam("images_upload_handler")},getUploadBasePath:function(e){return e.getParam("images_upload_base_path")},getUploadCredentials:function(e){return e.getParam("images_upload_credentials")}},o="undefined"!=typeof window?window:Function("return this;")(),r=function(e,t){for(var n=null!=t?t:o,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},i=function(e,t){var n=e.split(".");return r(n,t)},s={getOrDie:function(e,t){var n=i(e,t);if(null==n)throw e+" not available on this browser";return n}};function a(){return new(s.getOrDie("FileReader"))}var u=tinymce.util.Tools.resolve("tinymce.util.Promise"),c=tinymce.util.Tools.resolve("tinymce.util.XHR"),l=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},h={getImageSize:function(e,n){var r=document.createElement("img");function t(e,t){r.parentNode&&r.parentNode.removeChild(r),n({width:e,height:t})}r.onload=function(){t(l(r.width,r.clientWidth),l(r.height,r.clientHeight))},r.onerror=function(){t(0,0)};var o=r.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(r),r.src=e},buildListItems:function(e,o,t){return function n(e,r){return r=r||[],f.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=n(e.menu):(t.value=e.value,o(t)),r.push(t)}),r}(e,t||[])},removePixelSuffix:function(e){return e&&(e=e.replace(/px$/,"")),e},addPixelSuffix:function(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+="px"),e},mergeMargins:function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},createImageList:function(e,t){var n=d.getImageList(e);"string"==typeof n?c.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},waitLoadImage:function(e,t,n){function r(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!d.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()},n.onerror=r},blobToDataUri:function(r){return new u(function(e,t){var n=new a;n.onload=function(){e(n.result)},n.onerror=function(){t(a.error.message)},n.readAsDataURL(r)})}},p={makeTab:function(t,n){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:(i=t,function(e){var t=i.dom,n=e.control.rootControl;if(d.hasAdvTab(i)){var r=n.toJSON(),o=t.parseStyle(r.style);n.find("#vspace").value(""),n.find("#hspace").value(""),((o=h.mergeMargins(o))["margin-top"]&&o["margin-bottom"]||o["margin-right"]&&o["margin-left"])&&(o["margin-top"]===o["margin-bottom"]?n.find("#vspace").value(h.removePixelSuffix(o["margin-top"])):n.find("#vspace").value(""),o["margin-right"]===o["margin-left"]?n.find("#hspace").value(h.removePixelSuffix(o["margin-right"])):n.find("#hspace").value("")),o["border-width"]&&n.find("#border").value(h.removePixelSuffix(o["border-width"])),n.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(o))))}})},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(e){n(t,e.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(e){n(t,e.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]};var i}},m=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],o=e.find("#constrain")[0];n&&r&&o&&t(n,r,o.checked())},n=function(e,t,n){var r=e.state.get("oldVal"),o=t.state.get("oldVal"),i=e.value(),a=t.value();n&&r&&o&&i&&a&&(i!==r?(a=Math.round(i/r*a),isNaN(a)||t.value(a)):(i=Math.round(a/o*i),isNaN(i)||e.value(i))),m(e,t)},g=function(e){t(e,n)},v={createUi:function(){var e=function(e){g(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(e){t(e,m)},updateSize:g},b=function(e){e.meta=e.control.rootControl.toJSON()},y=function(l,e){var t=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(e){var t,n,r,o,i,a,s,u,c;n=l,a=(t=e).meta||{},s=t.control,u=s.rootControl,(c=u.find("#image-list")[0])&&c.value(n.convertURL(s.value(),"src")),f.each(a,function(e,t){u.find("#"+t).value(e)}),a.width||a.height||(r=n.convertURL(s.value(),"src"),o=d.getPrependUrl(n),i=new RegExp("^(?:[a-z]+:)?//","i"),o&&!i.test(r)&&r.substring(0,o.length)!==o&&(r=o+r),s.value(r),h.getImageSize(n.documentBaseURI.toAbsolute(s.value()),function(e){e.width&&e.height&&d.hasDimensions(n)&&(u.find("#width").value(e.width),u.find("#height").value(e.height),v.updateSize(u))}))},onbeforecall:b},e];return d.hasDescription(l)&&t.push({name:"alt",type:"textbox",label:"Image description"}),d.hasImageTitle(l)&&t.push({name:"title",type:"textbox",label:"Image Title"}),d.hasDimensions(l)&&t.push(v.createUi()),d.getClassList(l)&&t.push({name:"class",type:"listbox",label:"Class",values:h.buildListItems(d.getClassList(l),function(e){e.value&&(e.textStyle=function(){return l.formatter.getCssText({inline:"img",classes:[e.value]})})})}),d.hasImageCaption(l)&&t.push({name:"caption",type:"checkbox",label:"Caption"}),t},_={makeTab:function(e,t){return{title:"General",type:"form",items:y(e,t)}},getGeneralItems:y},w=function(){return s.getOrDie("URL")},x=function(e){return w().createObjectURL(e)},C=function(e){w().revokeObjectURL(e)},k=tinymce.util.Tools.resolve("tinymce.ui.Factory"),S=function(){},E=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function T(a){var t=function(e,t,n,r){var o,i;(o=new function(){return new(s.getOrDie("XMLHttpRequest"))}).open("POST",a.url),o.withCredentials=a.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;o.status<200||300<=o.status?n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?t(E(a.basePath,e.location)):n("Invalid JSON: "+o.responseText)},(i=new FormData).append("file",e.blob(),e.filename()),o.send(i)};return a=f.extend({credentials:!1,handler:t},a),{upload:function(e){return a.url||a.handler!==t?(n=e,r=a.handler,new u(function(e,t){try{r(n,e,t,S)}catch(e){t(e.message)}})):u.reject("Upload url missing from the settings.");var n,r}}}var A=function(u){return function(e){var t=k.get("Throbber"),n=e.control.rootControl,r=new t(n.getEl()),o=e.control.value(),i=x(o),a=T({url:d.getUploadUrl(u),basePath:d.getUploadBasePath(u),credentials:d.getUploadCredentials(u),handler:d.getUploadHandler(u)}),s=function(){r.hide(),C(i)};return r.show(),h.blobToDataUri(o).then(function(e){var t=u.editorUpload.blobCache.create({blob:o,blobUri:i,name:o.name?o.name.replace(/\.[^\.]+$/,""):null,base64:e.split(",")[1]});return a.upload(t).then(function(e){var t=n.find("#src");return t.value(e),n.find("tabpanel")[0].activateTab(0),t.fire("change"),s(),e})}).catch(function(e){u.windowManager.alert(e),s()})}},R=".jpg,.jpeg,.png,.gif",N={makeTab:function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:R,onchange:A(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:R,height:100,onchange:A(e)}]}}};function O(c){var l=function(e,t){if(d.hasAdvTab(e)){var n=e.dom,r=t.toJSON(),o=n.parseStyle(r.style);o=h.mergeMargins(o),r.vspace&&(o["margin-top"]=o["margin-bottom"]=h.addPixelSuffix(r.vspace)),r.hspace&&(o["margin-left"]=o["margin-right"]=h.addPixelSuffix(r.hspace)),r.border&&(o["border-width"]=h.addPixelSuffix(r.border)),r.borderStyle&&(o["border-style"]=r.borderStyle),t.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(o))))}};function e(e){var o,i,t,n,a={},s=c.dom;function r(){var n,r;v.updateSize(o),l(c,o),(a=f.extend(a,o.toJSON())).alt||(a.alt=""),a.title||(a.title=""),""===a.width&&(a.width=null),""===a.height&&(a.height=null),a.style||(a.style=null),a={src:a.src,alt:a.alt,title:a.title,width:a.width,height:a.height,style:a.style,caption:a.caption,class:a.class},c.undoManager.transact(function(){if(a.src){if(""===a.title&&(a.title=null),i?s.setAttribs(i,a):(a.id="__mcenew",c.focus(),c.selection.setContent(s.createHTML("img",a)),i=s.get("__mcenew"),s.setAttrib(i,"id",null)),c.editorUpload.uploadImagesAuto(),!1===a.caption&&s.is(i.parentNode,"figure.image")&&(n=i.parentNode,s.insertAfter(i,n),s.remove(n)),!0!==a.caption)h.waitLoadImage(c,a,i);else if(!s.is(i.parentNode,"figure.image")){i=(r=i).cloneNode(!0),(n=s.create("figure",{class:"image"})).appendChild(i),n.appendChild(s.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable=!1;var e=s.getParent(r,function(e){return c.schema.getTextBlockElements()[e.nodeName]});e?s.split(e,r,n):s.replace(n,r),c.selection.select(n)}}else if(i){var t=s.is(i.parentNode,"figure.image")?i.parentNode:i;s.remove(t),c.focus(),c.nodeChanged(),s.isEmpty(c.getBody())&&(c.setContent(""),c.selection.setCursorLocation())}})}if(i=c.selection.getNode(),(t=s.getParent(i,"figure.image"))&&(i=s.select("img",t)[0]),i&&("IMG"!==i.nodeName||i.getAttribute("data-mce-object")||i.getAttribute("data-mce-placeholder"))&&(i=null),i&&(a={src:s.getAttrib(i,"src"),alt:s.getAttrib(i,"alt"),title:s.getAttrib(i,"title"),class:s.getAttrib(i,"class"),width:s.getAttrib(i,"width"),height:s.getAttrib(i,"height"),caption:!!t}),e&&(n={type:"listbox",label:"Image list",name:"image-list",values:h.buildListItems(e,function(e){e.value=c.convertURL(e.value||e.url,"src")},[{text:"None",value:""}]),value:a.src&&c.convertURL(a.src,"src"),onselect:function(e){var t=o.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),o.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){n=this}}),d.hasAdvTab(c)||d.hasUploadUrl(c)||d.hasUploadHandler(c)){var u=[_.makeTab(c,n)];d.hasAdvTab(c)&&(i&&(i.style.marginLeft&&i.style.marginRight&&i.style.marginLeft===i.style.marginRight&&(a.hspace=h.removePixelSuffix(i.style.marginLeft)),i.style.marginTop&&i.style.marginBottom&&i.style.marginTop===i.style.marginBottom&&(a.vspace=h.removePixelSuffix(i.style.marginTop)),i.style.borderWidth&&(a.border=h.removePixelSuffix(i.style.borderWidth)),a.borderStyle=i.style.borderStyle,a.style=c.dom.serializeStyle(c.dom.parseStyle(c.dom.getAttrib(i,"style")))),u.push(p.makeTab(c,l))),(d.hasUploadUrl(c)||d.hasUploadHandler(c))&&u.push(N.makeTab(c)),o=c.windowManager.open({title:"Insert/edit image",data:a,bodyType:"tabpanel",body:u,onSubmit:r})}else o=c.windowManager.open({title:"Insert/edit image",data:a,body:_.getGeneralItems(c,n),onSubmit:r});v.syncSize(o)}return{open:function(){h.createImageList(c,e)}}}var D=function(e){e.addCommand("mceImage",O(e).open)},L=function(i){return function(e){for(var t,n,r=e.length,o=function(e){e.attr("contenteditable",i?"true":null)};r--;)t=e[r],(n=t.attr("class"))&&/\bimage\b/.test(n)&&(t.attr("contenteditable",i?"false":null),f.each(t.getAll("figcaption"),o))}},B=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",L(!0)),e.serializer.addNodeFilter("figure",L(!1))})},P=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:O(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:O(e).open,context:"insert",prependToContext:!0})};e.add("image",function(e){B(e),P(e),D(e)})}()},function(e,t){tinymce.addI18n("ru",{Redo:"",Undo:"",Cut:"",Copy:"",Paste:"","Select all":" ","New document":" ",Ok:"",Cancel:"","Visual aids":" ",Bold:"",Italic:"",Underline:"",Strikethrough:"",Superscript:" ",Subscript:" ","Clear formatting":" ","Align left":"  ","Align center":" ","Align right":"  ",Justify:" ","Bullet list":" ","Numbered list":" ","Decrease indent":" ","Increase indent":" ",Close:"",Formats:"","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"        . ,    : Ctrl+X/C/V.",Headers:"","Header 1":" 1","Header 2":" 2","Header 3":" 3","Header 4":" 4","Header 5":" 5","Header 6":" 6",Headings:"","Heading 1":" 1","Heading 2":" 2","Heading 3":" 3","Heading 4":" 4","Heading 5":" 5","Heading 6":" 6",Div:"",Pre:" ",Code:"",Paragraph:"",Blockquote:"",Inline:"",Blocks:"","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"     ,     .","Font Family":"","Font Sizes":" ",Class:"","Browse for an image":" ",OR:"","Drop an image here":"  ",Upload:"",Block:"",Align:"",Default:"",Circle:"",Disc:"",Square:"","Lower Alpha":"  ","Lower Greek":"  ","Lower Roman":"  ","Upper Alpha":"  ","Upper Roman":"  ",Anchor:"",Name:"",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id    ,    , , , ,   .","You have unsaved changes are you sure you want to navigate away?":"     .  ,   ?","Restore last draft":"  ","Special character":" ","Source code":" ","Insert/Edit code sample":"/  ",Language:"","Code sample":" ",Color:"",R:"R",G:"G",B:"B","Left to right":"  ","Right to left":"  ",Emoticons:" ","Document properties":" ",Title:"",Keywords:" ",Description:"",Robots:"",Author:"",Encoding:"",Fullscreen:" ",Action:"",Shortcut:"",Help:"",Address:"","Focus to menubar":"   ","Focus to toolbar":"   ","Focus to element path":"   ","Focus to contextual toolbar":"    ","Insert link (if link plugin activated)":"  (  link )","Save (if save plugin activated)":" (  save )","Find (if searchreplace plugin activated)":" (  searchreplace )","Plugins installed ({0}):":"  ({0}):","Premium plugins:":" :","Learn more...":" ...","You are using {0}":"  {0}",Plugins:"","Handy Shortcuts":" ","Horizontal line":" ","Insert/edit image":"/ ","Image description":" ",Source:"",Dimensions:"","Constrain proportions":" ",General:"",Advanced:"",Style:"","Vertical space":" ","Horizontal space":" ",Border:"","Insert image":" ",Image:"","Image list":" ","Rotate counterclockwise":"   ","Rotate clockwise":"   ","Flip vertically":"  ","Flip horizontally":"  ","Edit image":" ","Image options":" ","Zoom in":"","Zoom out":"",Crop:"",Resize:" ",Orientation:"",Brightness:"",Sharpen:"",Contrast:"","Color levels":" ",Gamma:"",Invert:"",Apply:"",Back:"","Insert date/time":" /","Date/time":"/","Insert link":" ","Insert/edit link":"/ ","Text to display":" ",Url:" ",Target:" ",None:"","New window":"  ","Remove link":" ",Anchors:"",Link:"","Paste or type a link":"   ","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":" URL     .     mailto:?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":" URL   .     http://?","Link list":" ","Insert video":" ","Insert/edit video":"/ ","Insert/edit media":"/ ","Alternative source":" ",Poster:"","Paste your embed code below:":"   :",Embed:"  ",Media:"","Nonbreaking space":" ","Page break":" ","Paste as text":"  ",Preview:"",Print:"",Save:"",Find:"","Replace with":" ",Replace:"","Replace all":" ",Prev:"",Next:"","Find and replace":"  ","Could not find the specified string.":"   ","Match case":" ","Whole words":" ",Spellcheck:" ",Ignore:"","Ignore all":" ",Finish:"","Add to Dictionary":"  ","Insert table":" ","Table properties":" ","Delete table":" ",Cell:"",Row:"",Column:"","Cell properties":" ","Merge cells":" ","Split cell":" ","Insert row before":"   ","Insert row after":"   ","Delete row":" ","Row properties":" ","Cut row":" ","Copy row":" ","Paste row before":"  ","Paste row after":"  ","Insert column before":"  ","Insert column after":"  ","Delete column":" ",Cols:"",Rows:"",Width:"",Height:"","Cell spacing":" ","Cell padding":" ",Caption:"",Left:"  ",Center:" ",Right:"  ","Cell type":" ",Scope:"Scope",Alignment:"","H Align":" ","V Align":" ",Top:" ",Middle:" ",Bottom:" ","Header cell":"","Row group":" ","Column group":" ","Row type":" ",Header:"",Body:"",Footer:"","Border color":" ","Insert template":" ",Templates:"",Template:"","Text color":" ","Background color":" ","Custom...":"","Custom color":" ","No color":" ","Table of Contents":"","Show blocks":" ","Show invisible characters":"  ","Words: {0}":" : {0}","{0} words":": {0}",File:"",Edit:"",Insert:"",View:"",Format:"",Table:"",Tools:"","Powered by {0}":"  {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":" .  ALT-F9   , ALT-F10  , ALT-0   ."})},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var o=n(7),i=/\s+/g,r=n(55),a=n(154);function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=u),this._callback=e,this._options=t||u,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var u={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(r),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r).next=e:e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?o.Script:"style"===e?o.Style:o.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===o.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===o.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var r=this._createDomElement({data:e,type:o.Text});this._addDomElement(r)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===o.Comment)t.data+=e;else{var n={data:e,type:o.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:o.Text}],type:o.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:o.Directive});this._addDomElement(n)},e.exports=s},function(e,t,n){var r=n(55),o=e.exports=Object.create(r),i={tagName:"name"};Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(o,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},function(e,t,n){var r=n(6),o=r.DomHandler,i=r.DomUtils;function a(e,t){this.init(e,t)}function s(e,t){return i.getElementsByTagName(e,t,!0)}function u(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function c(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function l(e,t,n,r,o){var i=c(n,r,o);i&&(e[t]=i)}n(2)(a,o),a.prototype.init=o;var f=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};a.prototype.onend=function(){var e,t,n={},r=u(f,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",l(n,"id","id",t),l(n,"title","title",t),(e=u("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),l(n,"description","subtitle",t),(e=c("updated",t))&&(n.updated=new Date(e)),l(n,"author","email",t,!0),n.items=s("entry",t).map(function(e){var t,n={};return l(n,"id","id",e=e.children),l(n,"title","title",e),(t=u("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=c("summary",e)||c("content",e))&&(n.description=t),(t=c("updated",e))&&(n.pubDate=new Date(t)),n})):(t=u("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",l(n,"title","title",t),l(n,"link","link",t),l(n,"description","description",t),(e=c("lastBuildDate",t))&&(n.updated=new Date(e)),l(n,"author","managingEditor",t,!0),n.items=s("item",r.children).map(function(e){var t,n={};return l(n,"id","guid",e=e.children),l(n,"title","title",e),l(n,"link","link",e),l(n,"description","description",e),(t=c("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,o.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=a},function(e,t,n){e.exports=o;var r=n(56);function o(e){r.call(this,new i(this),e)}function i(e){this.scope=e}n(2)(o,r),o.prototype.readable=!0;var a=n(6).EVENTS;Object.keys(a).forEach(function(n){if(0===a[n])i.prototype["on"+n]=function(){this.scope.emit(n)};else if(1===a[n])i.prototype["on"+n]=function(e){this.scope.emit(n,e)};else{if(2!==a[n])throw Error("wrong number of arguments!");i.prototype["on"+n]=function(e,t){this.scope.emit(n,e,t)}}})},function(e,t,n){e.exports=r;var l=n(12).EventEmitter;function r(){l.call(this)}n(2)(r,l),r.Readable=n(25),r.Writable=n(165),r.Duplex=n(166),r.Transform=n(167),r.PassThrough=n(168),(r.Stream=r).prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",s));var i=!1;function a(){i||(i=!0,t.end())}function s(){i||(i=!0,"function"==typeof t.destroy&&t.destroy())}function u(e){if(c(),0===l.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(e,t,n){"use strict";t.byteLength=function(e){var t=h(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=h(e),r=n[0],o=n[1],i=new d((c=r,l=o,3*(c+l)/4-l)),a=0,s=0<o?r-4:r,u=0;u<s;u+=4)t=f[e.charCodeAt(u)]<<18|f[e.charCodeAt(u+1)]<<12|f[e.charCodeAt(u+2)]<<6|f[e.charCodeAt(u+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=255&t;var c,l;2===o&&(t=f[e.charCodeAt(u)]<<2|f[e.charCodeAt(u+1)]>>4,i[a++]=255&t);1===o&&(t=f[e.charCodeAt(u)]<<10|f[e.charCodeAt(u+1)]<<4|f[e.charCodeAt(u+2)]>>2,i[a++]=t>>8&255,i[a++]=255&t);return i},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],i=0,a=n-r;i<a;i+=16383)o.push(u(e,i,a<i+16383?a:i+16383));1===r?(t=e[n-1],o.push(s[t>>2]+s[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return o.join("")};for(var s=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)s[o]=r[o],f[r.charCodeAt(o)]=o;function h(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(s[(o=r)>>18&63]+s[o>>12&63]+s[o>>6&63]+s[63&o]);return i.join("")}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;0<l;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+f?d/u:d*Math.pow(2,1-f))*u&&(a++,u/=2),l<=a+f?(s=0,a=l):1<=a+f?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},function(e,t){},function(e,t,n){"use strict";var s=n(14).Buffer,r=n(162);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,n=o,r=a,t.copy(n,r),a+=i.data.length,i=i.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(n){function r(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,n(1))},function(e,t,n){"use strict";e.exports=i;var r=n(61),o=n(9);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(2),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(26)},function(e,t,n){e.exports=n(4)},function(e,t,n){e.exports=n(25).Transform},function(e,t,n){e.exports=n(25).PassThrough},function(e,t){},function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var o=n(6).EVENTS;Object.keys(o).forEach(function(n){if(0===o[n])r.prototype[n="on"+n]=function(){this._cbs[n]&&this._cbs[n]()};else if(1===o[n])r.prototype[n="on"+n]=function(e){this._cbs[n]&&this._cbs[n](e)};else{if(2!==o[n])throw Error("wrong number of arguments");r.prototype[n="on"+n]=function(e,t){this._cbs[n]&&this._cbs[n](e,t)}}})},function(e,t,n){var r=e.exports;[n(172),n(178),n(179),n(180),n(181),n(182)].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},function(e,t,n){var r=n(7),o=n(173),i=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map(function(e){return o(e,t)}).join(""):""},getOuterHTML:o,getText:function e(t){if(Array.isArray(t))return t.map(e).join("");if(i(t))return"br"===t.name?"\n":e(t.children);if(t.type===r.CDATA)return e(t.children);if(t.type===r.Text)return t.data;return""}}},function(e,t,n){var i=n(174),a=n(175),s={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},r={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",r=0;r<e.length;r++){var o=e[r];"root"===o.type?n+=u(o.children,t):i.isTag(o)?n+=c(o,t):o.type===i.Directive?n+="<"+o.data+">":o.type===i.Comment?n+="\x3c!--"+o.data+"--\x3e":o.type===i.CDATA?n+="<![CDATA["+o.children[0].data+"]]>":n+=l(o,t)}return n};function c(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),!(n=e[o])&&s[o]?r+=o:r+=o+'="'+(t.decodeEntities?a.encodeXML(n):n)+'"';return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=u(e.children,t)),o[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function l(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in r||(n=a.encodeXML(n)),n}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(176),o=n(177);t.decode=function(e,t){return(!t||t<=0?o.XML:o.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?o.XML:o.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=o.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=o.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=o.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=s(n(24)),o=u(r);t.XML=h(r,o);var i=s(n(11)),a=u(i);function s(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function u(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=h(i,a);var c=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function f(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function d(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function h(t,n){function r(e){return t[e]}return function(e){return e.replace(n,r).replace(l,d).replace(c,f)}}var p=u(r);t.escape=function(e){return e.replace(p,f).replace(l,d).replace(c,f)}},function(e,t,n){var s=n(11),u=n(54),r=n(24),o=n(53),i=c(r),a=c(s);function c(e){var t=Object.keys(e).join("|"),n=d(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var l=function(){for(var e=Object.keys(u).sort(f),t=Object.keys(s).sort(f),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=d(s);function a(e){return";"!==e.substr(-1)&&(e+=";"),i(e)}return function(e){return String(e).replace(o,a)}}();function f(e,t){return e<t?1:-1}function d(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?o(parseInt(e.substr(3),16)):o(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}e.exports={XML:i,HTML:l,HTMLStrict:a}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(1!==(t.parent=e).children.push(t)){var n=e.children[e.children.length-2];(n.next=t).prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,((t.prev=e).next=t).parent=n,r){if(r.prev=t,n){var o=n.children;o.splice(o.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,(t.next=e).prev=t}},function(e,t,n){var a=n(7).isTag;function u(e,t,n,r){for(var o,i=[],a=0,s=t.length;a<s&&!(e(t[a])&&(i.push(t[a]),--r<=0))&&(o=t[a].children,!(n&&o&&0<o.length&&(o=u(e,o,n,r),i=i.concat(o),(r-=o.length)<=0)));a++);return i}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"==typeof r&&isFinite(r)||(r=1/0);return u(e,t,!1!==n,r)},find:u,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){var r=null;for(var o=0,i=n.length;o<i&&!r;o++)a(n[o])&&(t(n[o])?r=n[o]:0<n[o].children.length&&(r=e(t,n[o].children)));return r},existsOne:function e(t,n){for(var r=0,o=n.length;r<o;r++)if(a(n[r])&&(t(n[r])||0<n[r].children.length&&e(t,n[r].children)))return!0;return!1},findAll:function(e,t){var n=[],r=t.slice();for(;r.length;){var o=r.shift();a(o)&&(o.children&&0<o.children.length&&r.unshift.apply(r,o.children),e(o)&&n.push(o))}return n}}},function(e,t,n){var r=n(7),o=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!o(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(o(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var i={tag_name:function(t){return"function"==typeof t?function(e){return o(e)&&t(e.name)}:"*"===t?o:function(e){return o(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!o(e)&&t(e.data)}:function(e){return!o(e)&&e.data===t}}};function a(t,n){return"function"==typeof n?function(e){return e.attribs&&n(e.attribs[t])}:function(e){return e.attribs&&e.attribs[t]===n}}function s(t,n){return function(e){return t(e)||n(e)}}t.getElements=function(n,e,t,r){var o=Object.keys(n).map(function(e){var t=n[e];return e in i?i[e](t):a(e,t)});return 0===o.length?[]:this.filter(o.reduce(s),e,t,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(i.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(i.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,o=e.length;-1<--o;){for(t=n=e[o],e[o]=null,r=!0;n;){if(-1<e.indexOf(n)){r=!1,e.splice(o,1);break}n=n.parent}r&&(e[o]=t)}return e};var l=1,f=2,d=4,h=8,p=16,o=t.compareDocumentPosition=function(e,t){var n,r,o,i,a,s,u=[],c=[];if(e===t)return 0;for(n=e;n;)u.unshift(n),n=n.parent;for(n=t;n;)c.unshift(n),n=n.parent;for(s=0;u[s]===c[s];)s++;return 0===s?l:(o=(r=u[s-1]).children,i=u[s],a=c[s],o.indexOf(i)>o.indexOf(a)?r===t?d|p:d:r===e?f|h:f)};t.uniqueSort=function(e){var t,n,r=e.length;for(e=e.slice();-1<--r;)t=e[r],-1<(n=e.indexOf(t))&&n<r&&e.splice(r,1);return e.sort(function(e,t){var n=o(e,t);return n&f?-1:n&d?1:0}),e}},function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var o=n(6).EVENTS;Object.keys(o).forEach(function(n){if(0===o[n])r.prototype[n="on"+n]=function(){this.events.push([n]),this._cbs[n]&&this._cbs[n]()};else if(1===o[n])r.prototype[n="on"+n]=function(e){this.events.push([n,e]),this._cbs[n]&&this._cbs[n](e)};else{if(2!==o[n])throw Error("wrong number of arguments");r.prototype[n="on"+n]=function(e,t){this.events.push([n,e,t]),this._cbs[n]&&this._cbs[n](e,t)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e};var o=Object.prototype.hasOwnProperty},function(h,e,t){(function(e){var o=1/0,i="[object Symbol]",n=/[\\^$.*+?()[\]{}|]/g,r=RegExp(n.source),t="object"==typeof e&&e&&e.Object===Object&&e,a="object"==typeof self&&self&&self.Object===Object&&self,s=t||a||Function("return this")(),u=Object.prototype.toString,c=s.Symbol,l=c?c.prototype:void 0,f=l?l.toString:void 0;function d(e){if("string"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&u.call(t)==i)return f?f.call(e):"";var t,n,r=e+"";return"0"==r&&1/e==-o?"-0":r}h.exports=function(e){var t;return(e=null==(t=e)?"":d(t))&&r.test(e)?e.replace(n,"\\$&"):e}}).call(this,t(1))},function(e,Je,t){(function(e,t){var o=200,r="__lodash_hash_undefined__",n=9007199254740991,x="[object Arguments]",C="[object Boolean]",k="[object Date]",S="[object Function]",E="[object GeneratorFunction]",T="[object Map]",A="[object Number]",R="[object Object]",i="[object Promise]",N="[object RegExp]",O="[object Set]",D="[object String]",L="[object Symbol]",a="[object WeakMap]",B="[object ArrayBuffer]",P="[object DataView]",M="[object Float32Array]",I="[object Float64Array]",F="[object Int8Array]",j="[object Int16Array]",z="[object Int32Array]",H="[object Uint8Array]",q="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",V=/\w*$/,s=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,K={};K[x]=K["[object Array]"]=K[B]=K[P]=K[C]=K[k]=K[M]=K[I]=K[F]=K[j]=K[z]=K[T]=K[A]=K[R]=K[N]=K[O]=K[D]=K[L]=K[H]=K[q]=K[U]=K[W]=!0,K["[object Error]"]=K[S]=K[a]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),d="object"==typeof Je&&Je&&!Je.nodeType&&Je,h=d&&"object"==typeof t&&t&&!t.nodeType&&t,p=h&&h.exports===d;function $(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function Y(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function X(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function J(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function m(t,n){return function(e){return t(n(e))}}function Z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var g,v=Array.prototype,b=Function.prototype,y=Object.prototype,_=f["__core-js_shared__"],w=(g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",Q=b.toString,ee=y.hasOwnProperty,te=y.toString,ne=RegExp("^"+Q.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=p?f.Buffer:void 0,oe=f.Symbol,ie=f.Uint8Array,ae=m(Object.getPrototypeOf,Object),se=Object.create,ue=y.propertyIsEnumerable,ce=v.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=m(Object.keys,Object),he=Fe(f,"DataView"),pe=Fe(f,"Map"),me=Fe(f,"Promise"),ge=Fe(f,"Set"),ve=Fe(f,"WeakMap"),be=Fe(Object,"create"),ye=Ue(he),_e=Ue(pe),we=Ue(me),xe=Ue(ge),Ce=Ue(ve),ke=oe?oe.prototype:void 0,Se=ke?ke.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){this.__data__=new Te(e)}function Ne(e,t){var n,r,o,i=Ve(e)||(o=r=n=e)&&"object"==typeof o&&Ke(r)&&ee.call(n,"callee")&&(!ue.call(n,"callee")||te.call(n)==x)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],a=i.length,s=!!a;for(var u in e)!t&&!ee.call(e,u)||s&&("length"==u||He(u,a))||i.push(u);return i}function Oe(e,t,n){var r=e[t];ee.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function De(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Le(n,r,o,i,e,t,a){var s;if(i&&(s=t?i(n,e,t,a):i(n)),void 0!==s)return s;if(!Ye(n))return n;var u,c,l,f,d,h,p=Ve(n);if(p){if(s=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!r)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(n,s)}else{var m=ze(n),g=m==S||m==E;if($e(n))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(n,r);if(m==R||m==x||g&&!t){if(X(n))return t?n:{};if(s="function"!=typeof(d=g?{}:n).constructor||qe(d)?{}:Ye(h=ae(d))?se(h):{},!r)return f=u=n,c=(l=s)&&Me(f,Xe(f),l),Me(u,je(u),c)}else{if(!K[m])return t?n:{};s=function(e,t,n,r){var o=e.constructor;switch(t){case B:return Pe(e);case C:case k:return new o(+e);case P:return p=e,m=r?Pe(p.buffer):p.buffer,new p.constructor(m,p.byteOffset,p.byteLength);case M:case I:case F:case j:case z:case H:case q:case U:case W:return d=e,h=r?Pe(d.buffer):d.buffer,new d.constructor(h,d.byteOffset,d.length);case T:return l=e,f=n,Y(r?f(J(l),!0):J(l),$,new l.constructor);case A:case D:return new o(e);case N:return(c=new(u=e).constructor(u.source,V.exec(u))).lastIndex=u.lastIndex,c;case O:return a=e,s=n,Y(r?s(Z(a),!0):Z(a),G,new a.constructor);case L:return i=e,Se?Object(Se.call(i)):{}}var i;var a,s;var u,c;var l,f;var d,h;var p,m}(n,m,Le,r)}}a||(a=new Re);var v,b,y,_=a.get(n);if(_)return _;if(a.set(n,s),!p)var w=o?(b=je,y=Xe(v=n),Ve(v)?y:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(y,b(v))):Xe(n);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(w||n,function(e,t){w&&(e=n[t=e]),Oe(s,t,Le(e,r,o,i,t,n,a))}),s}function Be(e){return!(!Ye(e)||(t=e,w&&w in t))&&(Ge(e)||X(e)?ne:s).test(Ue(e));var t}function Pe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Me(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Oe(n,a,void 0===s?e[a]:s)}return n}function Ie(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var n,r,o=(r=t,null==(n=e)?void 0:n[r]);return Be(o)?o:void 0}Ee.prototype.clear=function(){this.__data__=be?be(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:ee.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?r:t,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(e){var t=this.__data__,n=De(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Te.prototype.get=function(e){var t=this.__data__,n=De(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return-1<De(this.__data__,e)},Te.prototype.set=function(e,t){var n=this.__data__,r=De(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||Te),string:new Ee}},Ae.prototype.delete=function(e){return Ie(this,e).delete(e)},Ae.prototype.get=function(e){return Ie(this,e).get(e)},Ae.prototype.has=function(e){return Ie(this,e).has(e)},Ae.prototype.set=function(e,t){return Ie(this,e).set(e,t),this},Re.prototype.clear=function(){this.__data__=new Te},Re.prototype.delete=function(e){return this.__data__.delete(e)},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!pe||r.length<o-1)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var je=le?m(le,Object):function(){return[]},ze=function(e){return te.call(e)};function He(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||u.test(e))&&-1<e&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||y)}function Ue(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(he&&ze(new he(new ArrayBuffer(1)))!=P||pe&&ze(new pe)!=T||me&&ze(me.resolve())!=i||ge&&ze(new ge)!=O||ve&&ze(new ve)!=a)&&(ze=function(e){var t=te.call(e),n=t==R?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return P;case _e:return T;case we:return i;case xe:return O;case Ce:return a}return t});var Ve=Array.isArray;function Ke(e){return null!=e&&("number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=n)&&!Ge(e);var t}var $e=fe||function(){return!1};function Ge(e){var t=Ye(e)?te.call(e):"";return t==S||t==E}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return Ke(e)?Ne(e):function(e){if(!qe(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.exports=function(e){return Le(e,!0,!0)}}).call(this,t(1),t(23)(e))},function(e,qe,t){(function(e,t){var o=200,r="__lodash_hash_undefined__",n=800,i=16,a=9007199254740991,s="[object Arguments]",u="[object AsyncFunction]",c="[object Function]",l="[object GeneratorFunction]",f="[object Null]",x="[object Object]",d="[object Proxy]",h="[object Undefined]",p=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g[c]=g["[object Map]"]=g["[object Number]"]=g[x]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1;var v="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,y=v||b||Function("return this")(),_="object"==typeof qe&&qe&&!qe.nodeType&&qe,w=_&&"object"==typeof t&&t&&!t.nodeType&&t,C=w&&w.exports===_,k=C&&v.process,S=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),E=S&&S.isTypedArray;function T(e,t){return"__proto__"==t?void 0:e[t]}var A,R,N,O=Array.prototype,D=Function.prototype,L=Object.prototype,B=y["__core-js_shared__"],P=D.toString,M=L.hasOwnProperty,I=(A=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",F=L.toString,j=P.call(Object),z=RegExp("^"+P.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=C?y.Buffer:void 0,q=y.Symbol,U=y.Uint8Array,W=H?H.allocUnsafe:void 0,V=(R=Object.getPrototypeOf,N=Object,function(e){return R(N(e))}),K=Object.create,$=L.propertyIsEnumerable,G=O.splice,Y=q?q.toStringTag:void 0,X=function(){try{var e=_e(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=H?H.isBuffer:void 0,Z=Math.max,Q=Date.now,ee=_e(y,"Map"),te=_e(Object,"create"),ne=function(){function n(){}return function(e){if(!Be(e))return{};if(K)return K(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=this.__data__=new oe(e);this.size=t.size}function se(e,t){var n=Re(e),r=!n&&Ae(e),o=!n&&!r&&Oe(e),i=!n&&!r&&!o&&Ie(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!M.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||we(c,u))||s.push(c);return s}function ue(e,t,n){(void 0===n||Te(e[t],n))&&(void 0!==n||t in e)||le(e,t,n)}function ce(e,t){for(var n=e.length;n--;)if(Te(e[n][0],t))return n;return-1}function le(e,t,n){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}re.prototype.clear=function(){this.__data__=te?te(null):{},this.size=0},re.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},re.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return n===r?void 0:n}return M.call(t,e)?t[e]:void 0},re.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:M.call(t,e)},re.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=te&&void 0===t?r:t,this},oe.prototype.clear=function(){this.__data__=[],this.size=0},oe.prototype.delete=function(e){var t=this.__data__,n=ce(t,e);return!(n<0||(n==t.length-1?t.pop():G.call(t,n,1),--this.size,0))},oe.prototype.get=function(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]},oe.prototype.has=function(e){return-1<ce(this.__data__,e)},oe.prototype.set=function(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new re,map:new(ee||oe),string:new re}},ie.prototype.delete=function(e){var t=ye(this,e).delete(e);return this.size-=t?1:0,t},ie.prototype.get=function(e){return ye(this,e).get(e)},ie.prototype.has=function(e){return ye(this,e).has(e)},ie.prototype.set=function(e,t){var n=ye(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ae.prototype.clear=function(){this.__data__=new oe,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!ee||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ie(r)}return n.set(e,t),this.size=n.size,this};var fe,de=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[fe?a:++r];if(!1===t(o[s],s,o))break}return e};function he(e){return null==e?void 0===e?h:f:Y&&Y in Object(e)?function(e){var t=M.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(e){}var o=F.call(e);r&&(t?e[Y]=n:delete e[Y]);return o}(e):(t=e,F.call(t));var t}function pe(e){return Pe(e)&&he(e)==s}function me(e){return!(!Be(e)||(t=e,I&&I in t))&&(De(e)?z:p).test(function(e){if(null!=e){try{return P.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function ge(e){if(!Be(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var r in e)("constructor"!=r||!t&&M.call(e,r))&&n.push(r);return n}function ve(r,o,i,a,s){r!==o&&de(o,function(e,t){if(Be(e))s||(s=new ae),function(e,t,n,r,o,i,a){var s=T(e,n),u=T(t,n),c=a.get(u);if(c)return ue(e,n,c);var l=i?i(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=Re(u),h=!d&&Oe(u),p=!d&&!h&&Ie(u);l=u,d||h||p?Re(s)?l=s:Pe(w=s)&&Ne(w)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(f=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=W?W(n):new e.constructor(n);return e.copy(r),r}(u,!0)):p?(f=!1,v=u,b=!0?(y=v.buffer,_=new y.constructor(y.byteLength),new U(_).set(new U(y)),_):v.buffer,l=new v.constructor(b,v.byteOffset,v.length)):l=[]:function(e){if(!Pe(e)||he(e)!=x)return!1;var t=V(e);if(null===t)return!0;var n=M.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==j}(u)||Ae(u)?Ae(l=s)?l=function(e,t,n,r){var o=!n;n||(n={});for(var i,a,s,u,c=-1,l=t.length;++c<l;){var f=t[c],d=r?r(n[f],e[f],f,n,e):void 0;void 0===d&&(d=e[f]),o?le(n,f,d):(s=d,u=(i=n)[a=f],M.call(i,a)&&Te(u,s)&&(void 0!==s||a in i)||le(i,a,s))}return n}(g=s,Fe(g)):(!Be(s)||r&&De(s))&&(l="function"!=typeof(m=u).constructor||xe(m)?{}:ne(V(m))):f=!1}var m;var g;var v,b,y,_;var w;f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u));ue(e,n,l)}(r,o,t,i,ve,a,s);else{var n=a?a(T(r,t),e,t+"",r,o,s):void 0;void 0===n&&(n=e),ue(r,t,n)}},Fe)}function be(e,t){return Ee((i=e,s=He,a=Z(void 0===(a=t)?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=Z(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=s(r),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(i,this,o)}),e+"");var i,a,s}function ye(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function _e(e,t){var n,r,o=(r=t,null==(n=e)?void 0:n[r]);return me(o)?o:void 0}function we(e,t){var n=typeof e;return!!(t=null==t?a:t)&&("number"==n||"symbol"!=n&&m.test(e))&&-1<e&&e%1==0&&e<t}function xe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||L)}var Ce,ke,Se,Ee=(Ce=X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:He,Se=ke=0,function(){var e=Q(),t=i-(e-Se);if(Se=e,0<t){if(++ke>=n)return arguments[0]}else ke=0;return Ce.apply(void 0,arguments)});function Te(e,t){return e===t||e!=e&&t!=t}var Ae=pe(function(){return arguments}())?pe:function(e){return Pe(e)&&M.call(e,"callee")&&!$.call(e,"callee")},Re=Array.isArray;function Ne(e){return null!=e&&Le(e.length)&&!De(e)}var Oe=J||function(){return!1};function De(e){if(!Be(e))return!1;var t=he(e);return t==c||t==l||t==u||t==d}function Le(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=a}function Be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pe(e){return null!=e&&"object"==typeof e}var Me,Ie=E?(Me=E,function(e){return Me(e)}):function(e){return Pe(e)&&Le(e.length)&&!!g[he(e)]};function Fe(e){return Ne(e)?se(e,!0):ge(e)}var je,ze=(je=function(e,t,n,r){ve(e,t,n,r)},be(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0;for(o=3<je.length&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Be(n))return!1;var r=typeof t;return!!("number"==r?Ne(n)&&we(t,n.length):"string"==r&&t in n)&&Te(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&je(e,a,n,o)}return e}));function He(e){return e}t.exports=ze}).call(this,t(1),t(23)(e))},function(e,t){var n="[object String]",r=Object.prototype.toString,o=Array.isArray;e.exports=function(e){return"string"==typeof e||!o(e)&&!!(t=e)&&"object"==typeof t&&r.call(e)==n;var t}},function(e,t){var o="[object Object]";var n,r,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString,f=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!(t=e)||"object"!=typeof t||l.call(e)!=o||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t,n=f(e);if(null===n)return!0;var r=u.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==c}},function(e,t,n){"use strict";var s=n(191),r=n(192),u=/^\d+$/;t.parse=function(e){return(n=e.split(",").map(function(e){var a={};return e.trim().split(/\s+/).forEach(function(e,t){if(0===t)return a.url=e;var n=e.substring(0,e.length-1),r=e[e.length-1],o=parseInt(n,10),i=parseFloat(n);if("w"===r&&u.test(n))a.width=o;else if("h"===r&&u.test(n))a.height=o;else{if("x"!==r||s(i))throw new Error("Invalid srcset descriptor: "+e+".");a.density=i}}),a})).sort().filter(function(e,t){return JSON.stringify(e)!==JSON.stringify(n[t-1])});var n},t.stringify=function(e){return r(e.map(function(e){if(!e.url)throw new Error("URL is required.");var t=[e.url];return e.width&&t.push(e.width+"w"),e.height&&t.push(e.height+"h"),e.density&&t.push(e.density+"x"),t.join(" ")})).join(", ")}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(n,e,t){"use strict";(function(e){var t;"Set"in e?"function"==typeof Set.prototype.forEach&&(t=!1,new Set([!0]).forEach(function(e){t=e}),!0===t)?n.exports=function(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}:n.exports=function(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}:n.exports=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}}).call(this,t(1))},function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(28)),o=h(n(72)),i=h(n(31)),a=h(n(33)),s=h(n(15)),u=h(n(208)),c=h(n(32)),l=h(n(74)),f=h(n(16)),d=h(n(35));function h(e){return e&&e.__esModule?e:{default:e}}function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new o.default(t)}p.plugin=function(t,n){var r=function(){var e=n.apply(void 0,arguments);return e.postcssPlugin=t,e.postcssVersion=(new o.default).version,e},e=void 0;return Object.defineProperty(r,"postcss",{get:function(){return e||(e=r()),e}}),r.process=function(e,t,n){return p([r(n)]).process(e,t)},r},p.stringify=i.default,p.parse=c.default,p.vendor=u.default,p.list=l.default,p.comment=function(e){return new a.default(e)},p.atRule=function(e){return new s.default(e)},p.decl=function(e){return new r.default(e)},p.rule=function(e){return new f.default(e)},p.root=function(e){return new d.default(e)},t.default=p,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(63)),o=a(n(64)),i=a(n(65));function a(e){return e&&e.__esModule?e:{default:e}}var s={brackets:r.default.cyan,"at-word":r.default.cyan,call:r.default.cyan,comment:r.default.gray,string:r.default.green,class:r.default.yellow,hash:r.default.magenta,"(":r.default.cyan,")":r.default.cyan,"{":r.default.yellow,"}":r.default.yellow,"[":r.default.yellow,"]":r.default.yellow,":":r.default.yellow,";":r.default.yellow};t.default=function(e){for(var n=(0,o.default)(new i.default(e),{ignoreErrors:!0}),r="",t=function(){var e=n.nextToken(),t=s[function(e,t){var n=e[0],r=e[1];if("word"===n){if("."===r[0])return"class";if("#"===r[0])return"hash"}if(!t.endOfFile()){var o=t.nextToken();if(t.back(o),"brackets"===o[0]||"("===o[0])return"call"}return n}(e,n)];r+=t?e[1].split(/\r?\n/).map(function(e){return t(e)}).join("\n"):e[1]};!n.endOfFile();)t();return r},e.exports=t.default},function(r,o,c){"use strict";(function(i){o.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=e(c(66)),s=e(c(30)),u=e(c(203));function e(e){return e&&e.__esModule?e:{default:e}}var n=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);r&&(this.text=r)}return o.prototype.consumer=function(){return this.consumerCache||(this.consumerCache=new a.default.SourceMapConsumer(this.text)),this.consumerCache},o.prototype.withContent=function(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)},o.prototype.startWith=function(e,t){return!!e&&e.substr(0,t.length)===t},o.prototype.loadAnnotation=function(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},o.prototype.decodeInline=function(e){var t="data:application/json,";if(this.startWith(e,t))return decodeURIComponent(e.substr(t.length));if(/^data:application\/json;(?:charset=utf-?8;)?base64,/.test(e))return n=e.substr(RegExp.lastMatch.length),i?i.from&&i.from!==Uint8Array.from?i.from(n,"base64").toString():new i(n,"base64").toString():window.atob(n);var n,r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)},o.prototype.loadMap=function(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var n=t(e);if(n&&u.default.existsSync&&u.default.existsSync(n))return u.default.readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(t instanceof a.default.SourceMapConsumer)return a.default.SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof a.default.SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var r=this.annotation;return e&&(r=s.default.join(s.default.dirname(e),r)),this.root=s.default.dirname(r),!(!u.default.existsSync||!u.default.existsSync(r))&&u.default.readFileSync(r,"utf-8").toString().trim()}},o.prototype.isMap=function(e){return"object"===(void 0===e?"undefined":t(e))&&("string"==typeof e.mappings||"string"==typeof e._mappings)},o}();o.default=n,r.exports=o.default}).call(this,c(8).Buffer)},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var s=n(10);function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){var t,n,r,o,i,a;t=this._last,n=e,r=t.generatedLine,o=n.generatedLine,i=t.generatedColumn,a=n.generatedColumn,r<o||o==r&&i<=a||s.compareByGeneratedPositionsInflated(t,n)<=0?this._last=e:this._sorted=!1,this._array.push(e)},r.prototype.toArray=function(){return this._sorted||(this._array.sort(s.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=r},function(e,t,n){var y=n(10),u=n(200),d=n(69).ArraySet,_=n(68),w=n(201).quickSort;function a(e,t){var n=e;return"string"==typeof e&&(n=y.parseSourceMapInput(e)),null!=n.sections?new r(n,t):new h(n,t)}function h(e,t){var n=e;"string"==typeof e&&(n=y.parseSourceMapInput(e));var r=y.getArg(n,"version"),o=y.getArg(n,"sources"),i=y.getArg(n,"names",[]),a=y.getArg(n,"sourceRoot",null),s=y.getArg(n,"sourcesContent",null),u=y.getArg(n,"mappings"),c=y.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=y.normalize(a)),o=o.map(String).map(y.normalize).map(function(e){return a&&y.isAbsolute(a)&&y.isAbsolute(e)?y.relative(a,e):e}),this._names=d.fromArray(i.map(String),!0),this._sources=d.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(e){return y.computeSourceURL(a,e,t)}),this.sourceRoot=a,this.sourcesContent=s,this._mappings=u,this._sourceMapURL=t,this.file=c}function x(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function r(e,o){var t=e;"string"==typeof e&&(t=y.parseSourceMapInput(e));var n=y.getArg(t,"version"),r=y.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new d,this._names=new d;var i={line:-1,column:0};this._sections=r.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=y.getArg(e,"offset"),n=y.getArg(t,"line"),r=y.getArg(t,"column");if(n<i.line||n===i.line&&r<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new a(y.getArg(e,"map"),o)}})}a.fromSourceMap=function(e,t){return h.fromSourceMap(e,t)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},a.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||a.GENERATED_ORDER){case a.GENERATED_ORDER:r=this._generatedMappings;break;case a.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=y.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},a.prototype.allGeneratedPositionsFor=function(e){var t=y.getArg(e,"line"),n={source:y.getArg(e,"source"),originalLine:t,originalColumn:y.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(0<=o){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var s=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==s;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},t.SourceMapConsumer=a,(h.prototype=Object.create(a.prototype)).consumer=a,h.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=y.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},h.fromSourceMap=function(e,t){var n=Object.create(h.prototype),r=n._names=d.fromArray(e._names.toArray(),!0),o=n._sources=d.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return y.computeSourceURL(n.sourceRoot,e,t)});for(var i=e._mappings.toArray().slice(),a=n.__generatedMappings=[],s=n.__originalMappings=[],u=0,c=i.length;u<c;u++){var l=i[u],f=new x;f.generatedLine=l.generatedLine,f.generatedColumn=l.generatedColumn,l.source&&(f.source=o.indexOf(l.source),f.originalLine=l.originalLine,f.originalColumn=l.originalColumn,l.name&&(f.name=r.indexOf(l.name)),s.push(f)),a.push(f)}return w(n.__originalMappings,y.compareByOriginalPositions),n},h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),h.prototype._parseMappings=function(e,t){for(var n,r,o,i,a,s=1,u=0,c=0,l=0,f=0,d=0,h=e.length,p=0,m={},g={},v=[],b=[];p<h;)if(";"===e.charAt(p))s++,p++,u=0;else if(","===e.charAt(p))p++;else{for((n=new x).generatedLine=s,i=p;i<h&&!this._charIsMappingSeparator(e,i);i++);if(o=m[r=e.slice(p,i)])p+=r.length;else{for(o=[];p<i;)_.decode(e,p,g),a=g.value,p=g.rest,o.push(a);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[r]=o}n.generatedColumn=u+o[0],u=n.generatedColumn,1<o.length&&(n.source=f+o[1],f+=o[1],n.originalLine=c+o[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=l+o[3],l=n.originalColumn,4<o.length&&(n.name=d+o[4],d+=o[4])),b.push(n),"number"==typeof n.originalLine&&v.push(n)}w(b,y.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,w(v,y.compareByOriginalPositions),this.__originalMappings=v},h.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,o,i)},h.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},h.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",y.compareByGeneratedPositionsDeflated,y.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(0<=n){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=y.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=y.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=y.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:y.getArg(r,"originalLine",null),column:y.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},h.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(0<=n)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=y.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=y.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){var t=y.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:y.getArg(e,"line"),originalColumn:y.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,y.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(0<=r){var o=this._originalMappings[r];if(o.source===n.source)return{line:y.getArg(o,"generatedLine",null),column:y.getArg(o,"generatedColumn",null),lastColumn:y.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=h,(r.prototype=Object.create(a.prototype)).constructor=a,r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),r.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},r.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(y.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},r.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],s=r.consumer._sources.at(a.source);s=y.computeSourceURL(r.consumer.sourceRoot,s,this._sourceMapURL),this._sources.add(s),s=this._sources.indexOf(s);var u=null;a.name&&(u=r.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u));var c={source:s,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}w(this.__generatedMappings,y.compareByGeneratedPositionsDeflated),w(this.__originalMappings,y.compareByOriginalPositions)},t.IndexedSourceMapConsumer=r},function(e,c){c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.search=function(e,t,n,r){if(0===t.length)return-1;var o=function e(t,n,r,o,i,a){var s=Math.floor((n-t)/2)+t,u=i(r,o[s],!0);return 0===u?s:0<u?1<n-s?e(s,n,r,o,i,a):a==c.LEAST_UPPER_BOUND?n<o.length?n:-1:s:1<s-t?e(t,s,r,o,i,a):a==c.LEAST_UPPER_BOUND?s:t<0?-1:t}(-1,t.length,e,t,n,r||c.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;0<=o-1&&0===n(t[o],t[o-1],!0);)--o;return o}},function(e,t){function l(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function f(e,t,n,r){if(n<r){var o=n-1;l(e,(u=n,c=r,Math.round(u+Math.random()*(c-u))),r);for(var i=e[r],a=n;a<r;a++)t(e[a],i)<=0&&l(e,o+=1,a);l(e,o+1,a);var s=o+1;f(e,t,n,s-1),f(e,t,s+1,r)}var u,c}t.quickSort=function(e,t){f(e,t,0,e.length-1)}},function(e,t,n){var r=n(67).SourceMapGenerator,d=n(10),h=/(\r?\n)/,i="$$$isSourceNode$$$";function p(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[i]=!0,null!=r&&this.add(r)}p.fromStringWithSourceMap=function(e,n,r){var o=new p,i=e.split(h),a=0,s=function(){return e()+(e()||"");function e(){return a<i.length?i[a++]:void 0}},u=1,c=0,l=null;return n.eachMapping(function(e){if(null!==l){if(!(u<e.generatedLine)){var t=(n=i[a]||"").substr(0,e.generatedColumn-c);return i[a]=n.substr(e.generatedColumn-c),c=e.generatedColumn,f(l,t),void(l=e)}f(l,s()),u++,c=0}for(;u<e.generatedLine;)o.add(s()),u++;if(c<e.generatedColumn){var n=i[a]||"";o.add(n.substr(0,e.generatedColumn)),i[a]=n.substr(e.generatedColumn),c=e.generatedColumn}l=e},this),a<i.length&&(l&&f(l,s()),o.add(i.splice(a).join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=r&&(e=d.join(r,e)),o.setSourceContent(e,t))}),o;function f(e,t){if(null===e||void 0===e.source)o.add(t);else{var n=r?d.join(r,e.source):e.source;o.add(new p(e.originalLine,e.originalColumn,n,t,e.name))}}},p.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},p.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;0<=t;t--)this.prepend(e[t]);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},p.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[i]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},p.prototype.join=function(e){var t,n,r=this.children.length;if(0<r){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},p.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[i]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},p.prototype.setSourceContent=function(e,t){this.sourceContents[d.toSetString(e)]=t},p.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][i]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(d.fromSetString(r[t]),this.sourceContents[r[t]])},p.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},p.prototype.toStringWithSourceMap=function(e){var o={code:"",line:1,column:0},i=new r(e),a=!1,s=null,u=null,c=null,l=null;return this.walk(function(e,t){o.code+=e,null!==t.source&&null!==t.line&&null!==t.column?(s===t.source&&u===t.line&&c===t.column&&l===t.name||i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:o.line,column:o.column},name:t.name}),s=t.source,u=t.line,c=t.column,l=t.name,a=!0):a&&(i.addMapping({generated:{line:o.line,column:o.column}}),s=null,a=!1);for(var n=0,r=e.length;n<r;n++)10===e.charCodeAt(n)?(o.line++,o.column=0,n+1===r?(s=null,a=!1):a&&i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:o.line,column:o.column},name:t.name})):o.column++}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:o.code,map:i}},t.SourceNode=p},function(e,t){},function(r,o,i){"use strict";(function(t){o.__esModule=!0;var u=e(i(66)),c=e(i(30));function e(e){return e&&e.__esModule?e:{default:e}}var n=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n}return r.prototype.isMap=function(){return void 0!==this.opts.map?!!this.opts.map:0<this.previous().length},r.prototype.previous=function(){var n=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(e){if(e.source&&e.source.input.map){var t=e.source.input.map;-1===n.previousMaps.indexOf(t)&&n.previousMaps.push(t)}})),this.previousMaps},r.prototype.isInline=function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))},r.prototype.isSourcesContent=function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},r.prototype.clearAnnotation=function(){if(!1!==this.mapOpts.annotation)for(var e=void 0,t=this.root.nodes.length-1;0<=t;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},r.prototype.setSourcesContent=function(){var r=this,o={};this.root.walk(function(e){if(e.source){var t=e.source.input.from;if(t&&!o[t]){o[t]=!0;var n=r.relative(t);r.map.setSourceContent(n,e.source.input.css)}}})},r.prototype.applyPrevMaps=function(){var e=this.previous(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r,i=this.relative(o.file),a=o.root||c.default.dirname(o.file),s=void 0;!1===this.mapOpts.sourcesContent?(s=new u.default.SourceMapConsumer(o.text)).sourcesContent&&(s.sourcesContent=s.sourcesContent.map(function(){return null})):s=o.consumer(),this.map.applySourceMap(s,i,this.relative(a))}},r.prototype.isAnnotation=function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},r.prototype.toBase64=function(e){return t?t.from&&t.from!==Uint8Array.from?t.from(e).toString("base64"):new t(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))},r.prototype.addAnnotation=function(){var e=void 0;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";-1!==this.css.indexOf("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},r.prototype.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},r.prototype.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),0<this.previous().length&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},r.prototype.relative=function(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?c.default.dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=c.default.dirname(c.default.resolve(t,this.mapOpts.annotation))),e=c.default.relative(t,e),"\\"===c.default.sep?e.replace(/\\/g,"/"):e},r.prototype.sourcePath=function(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},r.prototype.generateString=function(){var r=this;this.css="",this.map=new u.default.SourceMapGenerator({file:this.outputFile()});var o=1,i=1,a=void 0,s=void 0;this.stringify(this.root,function(e,t,n){r.css+=e,t&&"end"!==n&&(t.source&&t.source.start?r.map.addMapping({source:r.sourcePath(t),generated:{line:o,column:i-1},original:{line:t.source.start.line,column:t.source.start.column-1}}):r.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:o,column:i-1}})),(a=e.match(/\n/g))?(o+=a.length,s=e.lastIndexOf("\n"),i=e.length-s):i+=e.length,t&&"start"!==n&&(t.source&&t.source.end?r.map.addMapping({source:r.sourcePath(t),generated:{line:o,column:i-1},original:{line:t.source.end.line,column:t.source.end.column}}):r.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:o,column:i-1}}))})},r.prototype.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(e){t+=e}),[t]},r}();o.default=n,r.exports=o.default}).call(this,i(8).Buffer)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=n(206),a=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}return r.prototype.toString=function(){return this.css},r.prototype.warn=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new a.default(e,t);return this.messages.push(n),n},r.prototype.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},o(r,[{key:"content",get:function(){return this.css}}]),r}();t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.type="warning",this.text=e,t.node&&t.node.source){var n=t.node.positionBy(t);this.line=n.line,this.column=n.column}for(var r in t)this[r]=t[r]}return o.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},o}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var f=u(n(28)),r=u(n(64)),o=u(n(33)),s=u(n(15)),i=u(n(35)),a=u(n(16));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.input=e,this.root=new i.default,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{line:1,column:1}}}return t.prototype.createTokenizer=function(){this.tokenizer=(0,r.default)(this.input)},t.prototype.parse=function(){for(var e=void 0;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},t.prototype.comment=function(e){var t=new o.default;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}},t.prototype.emptyRule=function(e){var t=new a.default;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},t.prototype.other=function(e){for(var t=!1,n=null,r=!1,o=null,i=[],a=[],s=e;s;){if(n=s[0],a.push(s),"("===n||"["===n)o||(o=s),i.push("("===n?")":"]");else if(0===i.length){if(";"===n){if(r)return void this.decl(a);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));s=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),0<i.length&&this.unclosedBracket(o),t&&r){for(;a.length&&("space"===(s=a[a.length-1][0])||"comment"===s);)this.tokenizer.back(a.pop());this.decl(a)}else this.unknownWord(a)},t.prototype.rule=function(e){e.pop();var t=new a.default;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},t.prototype.decl=function(e){var t=new f.default;this.init(t);var n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),n[4]?t.source.end={line:n[4],column:n[5]}:t.source.end={line:n[2],column:n[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var r=e[0][0];if(":"===r||"space"===r||"comment"===r)break;t.prop+=e.shift()[1]}t.raws.between="";for(var o=void 0;e.length;){if(":"===(o=e.shift())[0]){t.raws.between+=o[1];break}t.raws.between+=o[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var i=e.length-1;0<i;i--){if("!important"===(o=e[i])[1].toLowerCase()){t.important=!0;var a=this.stringFrom(e,i);" !important"!==(a=this.spacesFromEnd(e)+a)&&(t.raws.important=a);break}if("important"===o[1].toLowerCase()){for(var s=e.slice(0),u="",c=i;0<c;c--){var l=s[c][0];if(0===u.trim().indexOf("!")&&"space"!==l)break;u=s.pop()[1]+u}0===u.trim().indexOf("!")&&(t.important=!0,t.raws.important=u,e=s)}if("space"!==o[0]&&"comment"!==o[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},t.prototype.atrule=function(e){var t=new s.default;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);for(var n=void 0,r=void 0,o=!1,i=!1,a=[];!this.tokenizer.endOfFile();){if(";"===(e=this.tokenizer.nextToken())[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){i=!0;break}if("}"===e[0]){if(0<a.length){for(n=a[r=a.length-1];n&&"space"===n[0];)n=a[--r];n&&(t.source.end={line:n[4],column:n[5]})}this.end(e);break}if(a.push(e),this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),i&&(t.nodes=[],this.current=t)},t.prototype.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},t.prototype.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},t.prototype.freeSemicolon=function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},t.prototype.init=function(e,t,n){this.current.push(e),e.source={start:{line:t,column:n},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},t.prototype.raw=function(e,t,n){for(var r=void 0,o=void 0,i=n.length,a="",s=!0,u=void 0,c=void 0,l=/^([.|#])?([\w])+/i,f=0;f<i;f+=1)"comment"!==(o=(r=n[f])[0])||"rule"!==e.type?"comment"===o||"space"===o&&f===i-1?s=!1:a+=r[1]:(c=n[f-1],u=n[f+1],"space"!==c[0]&&"space"!==u[0]&&l.test(c[1])&&l.test(u[1])?a+=r[1]:s=!1);if(!s){var d=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:a,raw:d}}e[t]=a},t.prototype.spacesAndCommentsFromEnd=function(e){for(var t=void 0,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n},t.prototype.spacesAndCommentsFromStart=function(e){for(var t=void 0,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n},t.prototype.spacesFromEnd=function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t},t.prototype.stringFrom=function(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n},t.prototype.colon=function(e){for(var t=0,n=void 0,r=void 0,o=void 0,i=0;i<e.length;i++){if("("===(r=(n=e[i])[0]))t+=1;else if(")"===r)t-=1;else if(0===t&&":"===r){if(o){if("word"===o[0]&&"progid"===o[1])continue;return i}this.doubleColon(n)}o=n}return!1},t.prototype.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},t.prototype.unknownWord=function(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},t.prototype.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},t.prototype.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},t.prototype.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},t.prototype.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},t.prototype.precheckMissedSemicolon=function(e){},t.prototype.checkMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){for(var n=0,r=void 0,o=t-1;0<=o&&("space"===(r=e[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon",r[2],r[3])}},t}();t.default=c,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;t.default={prefix:function(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}},e.exports=t.default},function(e,t,n){"use strict";var L=n(49),B=n(210);function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=i,t.resolve=function(e,t){return i(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?i(e,!1,!0).resolveObject(t):t},t.format=function(e){B.isString(e)&&(e=i(e));return e instanceof T?e.format():T.prototype.format.call(e)},t.Url=T;var P=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,M=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),I=["'"].concat(o),F=["%","/","?",";","#"].concat(I),j=["/","?","#"],z=/^[+a-z0-9A-Z_-]{0,63}$/,H=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},U={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=n(211);function i(e,t,n){if(e&&B.isObject(e)&&e instanceof T)return e;var r=new T;return r.parse(e,t,n),r}T.prototype.parse=function(e,t,n){if(!B.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var a=e=i.join(o);if(a=a.trim(),!n&&1===e.split("#").length){var s=M.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?V.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=P.exec(a);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===a.substr(0,2);!l||u&&U[u]||(a=a.substr(2),this.slashes=!0)}if(!U[u]&&(l||u&&!W[u])){for(var f,d,h=-1,p=0;p<j.length;p++){-1!==(m=a.indexOf(j[p]))&&(-1===h||m<h)&&(h=m)}-1!==(d=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=decodeURIComponent(f)),h=-1;for(p=0;p<F.length;p++){var m;-1!==(m=a.indexOf(F[p]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),b=(p=0,v.length);p<b;p++){var y=v[p];if(y&&!y.match(z)){for(var _="",w=0,x=y.length;w<x;w++)127<y.charCodeAt(w)?_+="x":_+=y[w];if(!_.match(z)){var C=v.slice(0,p),k=v.slice(p+1),S=y.match(H);S&&(C.push(S[1]),k.unshift(S[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=C.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=L.toASCII(this.hostname));var E=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+E,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!q[c])for(p=0,b=I.length;p<b;p++){var A=I[p];if(-1!==a.indexOf(A)){var R=encodeURIComponent(A);R===A&&(R=escape(A)),a=a.split(A).join(R)}}var N=a.indexOf("#");-1!==N&&(this.hash=a.substr(N),a=a.slice(0,N));var O=a.indexOf("?");if(-1!==O?(this.search=a.substr(O),this.query=a.substr(O+1),t&&(this.query=V.parse(this.query)),a=a.slice(0,O)):t&&(this.search="",this.query={}),a&&(this.pathname=a),W[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var D=this.search||"";this.path=E+D}return this.href=this.format(),this},T.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&B.isObject(this.query)&&Object.keys(this.query).length&&(i=V.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||W[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},T.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},T.prototype.resolveObject=function(e){if(B.isString(e)){var t=new T;t.parse(e,!1,!0),e=t}for(var n=new T,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(n[u]=e[u])}return W[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!W[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var f=c[l];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||U[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||n.host&&e.pathname,b=v,y=n.pathname&&n.pathname.split("/")||[],_=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!W[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),v=v&&(""===d[0]||""===y[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=d;else if(d.length)y||(y=[]),y.pop(),y=y.concat(d),n.search=e.search,n.query=e.query;else if(!B.isNullOrUndefined(e.search)){if(_)n.hostname=n.host=y.shift(),(S=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift());return n.search=e.search,n.query=e.query,B.isNull(n.pathname)&&B.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=y.slice(-1)[0],x=(n.host||e.host||1<y.length)&&("."===w||".."===w)||""===w,C=0,k=y.length;0<=k;k--)"."===(w=y[k])?y.splice(k,1):".."===w?(y.splice(k,1),C++):C&&(y.splice(k,1),C--);if(!v&&!b)for(;C--;C)y.unshift("..");!v||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),x&&"/"!==y.join("/").substr(-1)&&y.push("");var S,E=""===y[0]||y[0]&&"/"===y[0].charAt(0);_&&(n.hostname=n.host=E?"":y.length?y.shift():"",(S=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift()));return(v=v||n.host&&y.length)&&!E&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),B.isNull(n.pathname)&&B.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},T.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(212),t.encode=t.stringify=n(213)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s,u,c=e.length;0<a&&a<c&&(c=a);for(var l=0;l<c;++l){var f,d,h,p,m=e[l].replace(i,"%20"),g=m.indexOf(n);0<=g?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),s=o,u=h,Object.prototype.hasOwnProperty.call(s,u)?v(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o};var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(n,r,o,e){return r=r||"&",o=o||"=",null===n&&(n=void 0),"object"==typeof n?s(u(n),function(e){var t=encodeURIComponent(i(e))+o;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(i(e))}).join(r):t+encodeURIComponent(i(n[e]))}).join(r):e?encodeURIComponent(i(e))+o+encodeURIComponent(i(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var u=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r,o;r=[n(36),n(37),n(215)],void 0===(o=function(e,t,n){return o=t,i=n,(a=function(e,t){return r.js_beautify(e,t)}).js=(r=e).js_beautify,a.css=o.css_beautify,a.html=i.html_beautify,a.js_beautify=r.js_beautify,a.css_beautify=o.css_beautify,a.html_beautify=i.html_beautify,a;var r,o,i,a}.apply(t,r))||(e.exports=o)},function(e,t,o){var n,r,i;i=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.i=function(e){return e},o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,n){var r=n(2).mergeOpts,o=n(1),i=o.lineBreak,a=o.allLineBreaks;function j(e){return e.replace(/\s+$/g,"")}e.exports.Beautifier=function(m,g,v,b){var y,_,w,x,C,k,S,E,T,A,R,N,O,e,D,L,B,P,M,I,F;m=m||"",void 0!==(g=r(g=g||{},"html")).wrap_line_length&&0!==parseInt(g.wrap_line_length,10)||void 0===g.max_char||0===parseInt(g.max_char,10)||(g.wrap_line_length=g.max_char),_=void 0!==g.indent_inner_html&&g.indent_inner_html,w=void 0===g.indent_body_inner_html||g.indent_body_inner_html,x=void 0===g.indent_head_inner_html||g.indent_head_inner_html,C=void 0===g.indent_size?4:parseInt(g.indent_size,10),k=void 0===g.indent_char?" ":g.indent_char,E=void 0===g.brace_style?"collapse":g.brace_style,S=0===parseInt(g.wrap_line_length,10)?32786:parseInt(g.wrap_line_length||250,10),T=g.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],A=g.content_unformatted||["pre"],R=void 0===g.preserve_newlines||g.preserve_newlines,N=R?isNaN(parseInt(g.max_preserve_newlines,10))?32786:parseInt(g.max_preserve_newlines,10):0,O=void 0!==g.indent_handlebars&&g.indent_handlebars,e=void 0===g.wrap_attributes?"auto":g.wrap_attributes,D=isNaN(parseInt(g.wrap_attributes_indent_size,10))?C:parseInt(g.wrap_attributes_indent_size,10),L="force"===e.substr(0,"force".length),B="force-expand-multiline"===e,P="force-aligned"===e,M=void 0!==g.end_with_newline&&g.end_with_newline,I="object"==typeof g.extra_liners&&g.extra_liners?g.extra_liners.concat():"string"==typeof g.extra_liners?g.extra_liners.split(","):"head,body,/html".split(","),F=g.eol?g.eol:"auto",g.indent_with_tabs&&(k="\t",C=1),"auto"===F&&(F="\n",m&&i.test(m||"")&&(F=m.match(i)[0])),F=F.replace(/\\r/,"\r").replace(/\\n/,"\n"),m=m.replace(a,"\n"),this.beautify=function(){for((y=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=_,this.indent_body_inner_html=w,this.indent_head_inner_html=x,this.Utils={whitespace:"\n\r\t ".split(""),single_token:g.void_elements||["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:I,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)R&&"\n"===e&&this.newlines<=N&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],n=0;"<"!==this.input.charAt(this.pos)||2===n;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(n<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),O){if("{"===e?n+=1:n<2&&(n=0),"}"===e&&0<n&&0==n--)break;var r=this.input.substr(this.pos,3);if("{{#"===r||"{{/"===r)break;if("{{!"===r)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),o=r?r.index:this.input.length;return this.pos<o&&(t=this.input.substring(this.pos,o),this.pos=o),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r,o="",i=[],a="",s=!1,u=!0,c=!1,l=this.pos,f=this.line_char_count,d=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=l,this.line_char_count=f),i.length?i.join(""):["","TK_EOF"];if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace))s=!0;else{if("'"!==o&&'"'!==o||(o+=this.get_unformatted(o),s=!0),"="===o&&(s=!1),r=this.input.substr(this.pos-1),!B||!c||d||">"!==o&&"/"!==o||r.match(/^\/?\s*>/)&&(s=!1,d=!0,this.print_newline(!1,i),this.print_indentation(i)),i.length&&"="!==i[i.length-1]&&">"!==o&&s){var h=this.space_or_wrap(i)&&"/"!==o&&!L;if(s=!1,L&&"/"!==o){var p=!1;B&&u&&(p=!(null!==r.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),u&&!p||(this.print_newline(!1,i),this.print_indentation(i),h=!0)}if(h){c=!0;var m=D;P&&(m=i.indexOf(" ")+1);for(var g=0;g<m;g++)i.push(" ")}if(u)for(var v=0;v<i.length;v++)if(" "===i[v]){u=!1;break}}if(O&&"<"===n&&o+this.input.charAt(this.pos)==="{{"&&(o+=this.get_unformatted("}}"),i.length&&" "!==i[i.length-1]&&"<"!==i[i.length-1]&&(o=" "+o),s=!0),"<"!==o||n||(t=this.pos-1,n="<"),O&&!n&&2<=i.length&&"{"===i[i.length-1]&&"{"===i[i.length-2]&&(t="#"===o||"/"===o||"!"===o?this.pos-3:this.pos-2,n="{"),this.line_char_count++,i.push(o),i[1]&&("!"===i[1]||"?"===i[1]||"%"===i[1])){i=[this.get_comment(t)];break}if(O&&i[1]&&"{"===i[1]&&i[2]&&"!"===i[2]){i=[this.get_comment(t)];break}if(O&&"{"===n&&2<i.length&&"}"===i[i.length-2]&&"}"===i[i.length-1])break}}while(">"!==o);var b,y,_=i.join("");b=-1!==_.indexOf(" ")?_.indexOf(" "):-1!==_.indexOf("\n")?_.indexOf("\n"):"{"===_.charAt(0)?_.indexOf("}"):_.indexOf(">"),y="<"!==_.charAt(0)&&O?"#"===_.charAt(2)?3:2:1;var w=_.substring(y,b).toLowerCase();return"/"===_.charAt(_.length-2)||this.Utils.in_array(w,this.Utils.single_token)?e||(this.tag_type="SINGLE"):O&&"{"===_.charAt(0)&&"else"===w?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(w,T)||this.is_unformatted(w,A)?(a=this.get_unformatted("</"+w+">",_),i.push(a),this.pos,this.tag_type="SINGLE"):"script"===w&&(-1===_.search("type")||-1<_.search("type")&&-1<_.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/))?e||(this.record_tag(w),this.tag_type="SCRIPT"):"style"===w&&(-1===_.search("type")||-1<_.search("type")&&-1<_.search("text/css"))?e||(this.record_tag(w),this.tag_type="STYLE"):"!"===w.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===w.charAt(0)?(this.retrieve_tag(w.substring(1)),this.tag_type="END"):(this.record_tag(w),"html"!==w.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(i),this.Utils.in_array(w,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=l,this.line_char_count=f),i.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var o=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=o).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",r=!0):0===t.indexOf("{{!--")?(n="--}}",r=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),o=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n,r,o="",i="",a=!0,s=(n=e,r="",{add:function(e){var t=r+e.toLowerCase();r=t.length<=n.length?t:t.substr(t.length-n.length,n.length)},doesNotMatch:function(){return-1===r.indexOf(n)}});do{if(this.pos>=this.input.length)return i;if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace)){if(!a){this.line_char_count--;continue}if("\n"===o||"\r"===o){i+="\n",this.line_char_count=0;continue}}i+=o,s.add(o),this.line_char_count++,a=!0,O&&"{"===o&&i.length&&"{"===i.charAt(i.length-2)&&(i+=this.get_unformatted("}}"))}while(s.doesNotMatch());return i},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n[1],t))},this.printer=function(e,t,n,r,o){this.input=e||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=o,this.indent_level=0,this.wrap_line_length=r;for(var i=this.line_char_count=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!==t[t.length-1])&&("\n"!==t[t.length-1]&&(t[t.length-1]=j(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=e.replace(/^\s+/g,"")),this.print_token_raw(e))},this.print_token_raw=function(e){0<this.newlines&&(e=j(e)),e&&""!==e&&(1<e.length&&"\n"===e.charAt(e.length-1)?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(0<t,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(m,k,C,S,E);;){var e=y.get_token();if(y.token_text=e[0],y.token_type=e[1],"TK_EOF"===y.token_type)break;switch(y.token_type){case"TK_TAG_START":y.print_newline(!1,y.output),y.print_token(y.token_text),y.indent_content&&(!y.indent_body_inner_html&&y.token_text.match(/<body(?:.*)>/)||!y.indent_head_inner_html&&y.token_text.match(/<head(?:.*)>/)||y.indent(),y.indent_content=!1),y.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":y.print_newline(!1,y.output),y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===y.last_token&&""===y.last_text){var t=(y.token_text.match(/\w+/)||[])[0],n=null;y.output.length&&(n=y.output[y.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===n||n[1]!==t&&!y.Utils.in_array(n[1],T))&&y.print_newline(!1,y.output)}y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var r=y.token_text.match(/^\s*<([a-z-]+)/i);r&&y.Utils.in_array(r[1],T)||y.print_newline(!1,y.output),y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var o=!1,i=y.output.length-1;0<=i&&"\n"!==y.output[i];i--)if(y.output[i].match(/{{#if/)){o=!0;break}o||y.print_newline(!1,y.output),y.print_token(y.token_text),y.indent_content&&(y.indent(),y.indent_content=!1),y.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":y.print_token(y.token_text),y.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==y.token_text){y.print_newline(!1,y.output);var a,s=y.token_text,u=1;"TK_SCRIPT"===y.token_type?a="function"==typeof v&&v:"TK_STYLE"===y.token_type&&(a="function"==typeof b&&b),"keep"===g.indent_scripts?u=0:"separate"===g.indent_scripts&&(u=-y.indent_level);var c=y.get_full_indent(u);if(a){var l=function(){this.eol="\n"};l.prototype=g;var f=new l;s=a(s.replace(/^\s*/,c),f)}else{var d=s.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(y.indent_string).length-1,h=y.get_full_indent(u-d);s=s.replace(/^\s*/,c).replace(/\r\n|\r|\n/g,"\n"+h).replace(/\s+$/,"")}s&&(y.print_token_raw(s),y.print_newline(!0,y.output))}y.current_mode="TAG";break;default:""!==y.token_text&&y.print_token(y.token_text)}y.last_token=y.token_type,y.last_text=y.token_text}var p=y.output.join("").replace(/[\r\n\t ]+$/,"");return M&&(p+="\n"),"\n"!==F&&(p=p.replace(/[\n]/g,F)),p}}},function(e,t){var n="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"------------------------------------------------------------------------------------------------------------------------------------------]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t,n){var o=n(0).Beautifier;e.exports=function(e,t,n,r){return new o(e,t,n,r).beautify()}}]),n=[o,o(36),o(37)],void 0===(r=function(e){var n=o(36),r=o(37);return{html_beautify:function(e,t){return i(e,t,n.js_beautify,r.css_beautify)}}}.apply(t,n))||(e.exports=r)},function(e,t,n){"use strict";
/*!
 * condense-newlines <https://github.com/jonschlinkert/condense-newlines>
 *
 * Copyright (c) 2014 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var a=n(217),s=n(75),u=n(219);e.exports=function(e,t){var n,r=s({},t),o=r.sep||"\n\n",i=r.min;return"number"==typeof i&&2!==i&&(n=new RegExp("(\\r\\n|\\n|\\u2424) {"+i+",}")),void 0===n&&(n=r.regex||/(\r\n|\n|\u2424){2,}/g),!0!==r.keepWhitespace&&(e=e.split("\n").map(function(e){return a(e)?e.trim():e}).join("\n")),(e=function(e,t){var n=t.trailingNewline;if(!1===n)return e;switch(u(n)){case"string":e=e.replace(/\s+$/,t.trailingNewline);break;case"function":e=t.trailingNewline(e);break;case"undefined":case"boolean":default:e=e.replace(/\s+$/,"\n")}return e}(e,r)).replace(n,o)}},function(e,t,n){"use strict";
/*!
 * is-whitespace <https://github.com/jonschlinkert/is-whitespace>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r;e.exports=function(e){return"string"==typeof e&&(r||(r=new RegExp('^[\\s\t\n\v\f\r \u2028\u2029\ufeff"]+$'))).test(e)}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){var r=n(220),o=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=o.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(77),i=n.n(r);function o(e,t){return Array(t+1).join(e)}var a=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function s(e){return-1!==a.indexOf(e.nodeName.toLowerCase())}var u=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function c(e){return-1!==u.indexOf(e.nodeName.toLowerCase())}var l=u.join();var f={};function d(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function h(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(p(o,t,n))return o}}function p(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(-1<r.indexOf(t.nodeName.toLowerCase()))return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function m(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function g(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}f.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},f.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},f.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+o(1===r?"=":"-",e.length)+"\n\n":"\n\n"+o("#",r)+" "+e+"\n\n"}},f.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},f.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},f.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(i?Number(i)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},f.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},f.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){var r=((t.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}},f.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},f.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.title?' "'+t.title+'"':"")+")"}},f.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,i=t.getAttribute("href"),a=t.title?' "'+t.title+'"':"";switch(n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+i+a;break;default:var s=this.references.length+1;r="["+e+"]["+s+"]",o="["+s+"]: "+i+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},f.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},f.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},f.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e.trim())return"";var t="`",n="",r="",o=e.match(/`+/gm);if(o)for(/^`/.test(e)&&(n=" "),/`$/.test(e)&&(r=" ");-1!==o.indexOf(t);)t+="`";return t+n+e+r+t}},f.image={filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",o=t.title||"";return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},d.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=h(this.array,e,this.options))?t:(t=h(this._keep,e,this.options))?t:(t=h(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var v="undefined"!=typeof window?window:{};var b,y,_,w=function(){var e=v.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?v.DOMParser:(b=function(){},y=n(134).JSDOM,b.prototype.parseFromString=function(e){return new y(e).window.document},b);function x(e){var t;"string"==typeof e?t=(_=_||new w).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):t=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var i=null,a=!1,s=null,u=g(s,t,o);u!==t;){if(3===u.nodeType||4===u.nodeType){var c=u.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||a||" "!==c[0]||(c=c.substr(1)),!c){u=m(u);continue}u.data=c,i=u}else{if(1!==u.nodeType){u=m(u);continue}n(u)||"BR"===u.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,a=!1):r(u)&&(i=null,a=!0)}var l=g(s,u,o);s=u,u=l}i&&(i.data=i.data.replace(/ $/,""),i.data||m(i))}}({element:t,isBlock:s,isVoid:c}),t}function C(e){var t,n;return e.isBlock=s(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=-1===["A","TH","TD"].indexOf((t=e).nodeName)&&/^\s*$/i.test(t.textContent)&&!c(t)&&!((n=t).querySelector&&n.querySelector(l)),e.flankingWhitespace=function(e){var t="",n="";if(!e.isBlock){var r=/^[ \r\n\t]/.test(e.textContent),o=/[ \r\n\t]$/.test(e.textContent);r&&!k("left",e)&&(t=" "),o&&!k("right",e)&&(n=" ")}return{leading:t,trailing:n}}(e),e}function k(e,t){var n,r,o;return"left"===e?(n=t.previousSibling,r=/ $/):(n=t.nextSibling,r=/^ /),n&&(3===n.nodeType?o=r.test(n.nodeValue):1!==n.nodeType||s(n)||(o=r.test(n.textContent))),o}var S=Array.prototype.reduce,E=/^\n*/,T=/\n*$/;function A(e){if(!(this instanceof A))return new A(e);var t={rules:f,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new d(this.options)}function R(e){var r=this;return S.call(e.childNodes,function(e,t){var n="";return 3===(t=new C(t)).nodeType?n=t.isCode?t.nodeValue:r.escape(t.nodeValue):1===t.nodeType&&(n=function(e){var t=this.rules.forNode(e),n=R.call(this,e),r=e.flankingWhitespace;(r.leading||r.trailing)&&(n=n.trim());return r.leading+t.replacement(n,e,this.options)+r.trailing}.call(r,t)),N(e,n)},"")}function N(e,t){var n,r,o,i=(n=t,r=[e.match(T)[0],n.match(E)[0]].sort(),(o=r[r.length-1]).length<2?o:"\n\n");return(e=e.replace(T,""))+i+(t=t.replace(E,""))}A.prototype={turndown:function(e){if(null==(t=e)||"string"!=typeof t&&(!t.nodeType||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType))throw new TypeError(e+" is not a string, or an element/document/fragment node.");var t;if(""===e)return"";var n=R.call(this,new x(e));return function(t){var n=this;return this.rules.forEach(function(e){"function"==typeof e.append&&(t=N(t,e.append(n.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,n)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return e.replace(/\\(\S)/g,"\\\\$1").replace(/^(#{1,6} )/gm,"\\$1").replace(/^([-*_] *){3,}$/gm,function(e,t){return e.split(t).join("\\"+t)}).replace(/^(\W* {0,3})(\d+)\. /gm,"$1$2\\. ").replace(/^([^\\\w]*)[*+-] /gm,function(e){return e.replace(/([*+-])/g,"\\$1")}).replace(/^(\W* {0,3})> /gm,"$1\\> ").replace(/\*+(?![*\s\W]).+?\*+/g,function(e){return e.replace(/\*/g,"\\*")}).replace(/_+(?![_\s\W]).+?_+/g,function(e){return e.replace(/_/g,"\\_")}).replace(/`+(?![`\s\W]).+?`+/g,function(e){return e.replace(/`/g,"\\`")}).replace(/[\[\]]/g,"\\$&")}};var O,D,L,B,P,M,I,F,j,z,H,q,U,W,V,K,$,G,Y,X,J,Z,Q,ee,te,ne,re,oe=A,ie=n(3),ae=n.n(ie),se=(n(136),n(137),n(139),n(141),n(143),n(145),n(147),n(149),n(151),n(78)),ue=n.n(se);function ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}O=function e(t){var n=t,r=function(){return n};return{get:r,set:function(e){n=e},clone:function(){return e(r())}}},D=ae.a.util.Tools.resolve("tinymce.PluginManager"),L=ae.a.util.Tools.resolve("tinymce.util.Tools"),B=ae.a.util.Tools.resolve("tinymce.html.DomParser"),P=ae.a.util.Tools.resolve("tinymce.html.Node"),M=ae.a.util.Tools.resolve("tinymce.html.Serializer"),I=function(e){return e.getParam("fullpage_hide_in_source_view")},F=function(e){return e.getParam("fullpage_default_xml_pi")},j=function(e){return e.getParam("fullpage_default_encoding")},z=function(e){return e.getParam("fullpage_default_font_family")},H=function(e){return e.getParam("fullpage_default_font_size")},q=function(e){return e.getParam("fullpage_default_text_color")},U=function(e){return e.getParam("fullpage_default_title")},W=function(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")},K=V=function(e){return B({validate:!1,root_name:"#document"}).parse(e)},$=function(e,t){var n,r=V(t),o={pagemode:e.getParam("fullpage_pagemode","body")};function i(e,t){return e.attr(t)||""}return o.fontface=z(e),o.fontsize=H(e),(n=r.getAll("#doctype")[0])&&(o.pagemode=n.value.match(/XHTML/gi)?"xhtml":"html"),(n=r.getAll("title")[0])&&n.firstChild&&(o.title=n.firstChild.value),L.each(r.getAll("meta"),function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?o[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(o.docencoding=t[1])}),(n=r.getAll("html")[0])&&(o.langcode=i(n,"lang")||i(n,"xml:lang"),o.htmlAttrs=ce(n.attributes).map(function(e){return{name:e.name,value:e.value}})),o.stylesheets=[],L.each(r.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&o.stylesheets.push(e.attr("href"))}),(n=r.getAll("body")[0])&&(o.bodyAttrs=ce(n.attributes).map(function(e){return{name:e.name,value:e.value}})),o},G=function(e,i,t){var n,a;function r(e,t,n){e.attr(t,n||void 0)}function s(e){n.firstChild?n.insert(e,n.firstChild):n.append(e)}e.dom;var u=V(t);(n=u.getAll("head")[0])||(a=u.getAll("html")[0],n=new P("head",1),a.firstChild?a.insert(n,a.firstChild,!0):a.append(n)),a=u.getAll("#doctype")[0],"body"!==(i.pagemode||e.getParam("fullpage_pagemode","body"))?(a||s(a=new P("#doctype",10)),a.value="html"===i.pagemode?" html":' html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"'):(i.pagemode="body",a&&a.remove()),a=null,L.each(u.getAll("meta"),function(e){"Content-Type"===e.attr("http-equiv")&&(a=e)}),i.docencoding?(a||((a=new P("meta",1)).attr("http-equiv","Content-Type"),a.shortEnded=!0,s(a)),a.attr("content","text/html; charset="+i.docencoding)):a&&a.remove(),a=u.getAll("title")[0],i.title?(a?a.empty():s(a=new P("title",1)),a.append(new P("#text",3)).value=i.title):a&&a.remove(),L.each("keywords,description,author,copyright,robots".split(","),function(e){var t,n,r=u.getAll("meta"),o=i[e];for(t=0;t<r.length;t++)if((n=r[t]).attr("name")===e)return void(o?n.attr("content",o):n.remove());o&&((a=new P("meta",1)).attr("name",e),a.attr("content",o),a.shortEnded=!0,s(a))});var o={};L.each(u.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&(o[e.attr("href")]=e)}),L.each(i.stylesheets,function(e){o[e]||((a=new P("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),a.shortEnded=!0,s(a)),delete o[e]}),L.each(o,function(e){e.remove()}),a=u.getAll("body")[0],(a=u.getAll("html")[0])&&("xhtml"===i.pagemode?(a.attr("lang",null),r(a,"xml:lang",i.langcode),r(a,"xmlns","http://www.w3.org/1999/xhtml")):(ce(a.attributes).map(function(e){return e.name}).filter(function(e){return e.startsWith("xml")}).forEach(function(e){a.attr(e,null)}),r(a,"lang",i.langcode))),n.firstChild||n.remove();var c=M({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(u);return c.substring(0,c.indexOf("</body>"))},Y=function(n,r){var o=$(n,r.get());n.windowManager.open({title:"Document properties",data:o,defaults:{type:"textbox",size:40},body:[{type:"listbox",name:"pagemode",label:"Page mode",values:[{text:"body",value:"body"},{text:"xhtml",value:"xhtml"},{text:"html",value:"html"}],value:o.pagemode},{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(e){if(n.settings.fullpage_pagemode=e.data.pagemode,n.settings.fullpage_ignoreswitch=!0,"body"!==e.data.pagemode){n.setContent(n.getContent());var t=G(n,L.extend(o,e.data),r.get());r.set(t)}else r.set(""),n.setContent(n.getContent());n.settings.fullpage_ignoreswitch=!1}})},X=function(e,t){e.addCommand("mceFullPageProperties",function(){Y(e,t)})},J=function(e,t){return L.each(e,function(e){t=t.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})}),t},Z=function(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(e,t){return unescape(t)})},Q=L.each,ee=function(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})},te=function(e){var t,n="",r="";if(F(e)){var o=j(e);n+='<?xml version="1.0" encoding="'+(o||"ISO-8859-1")+'" ?>\n'}return n+=W(e),n+="\n<html>\n<head>\n",(t=U(e))&&(n+="<title>"+t+"</title>\n"),(t=j(e))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=z(e))&&(r+="font-family: "+t+";"),(t=H(e))&&(r+="font-size: "+t+";"),(t=q(e))&&(r+="color: "+t+";"),n+="</head>\n<body"+(r?' style="'+r+'"':"")+">\n"},ne=function(i,a,s){i.on("BeforeSetContent",function(e){var t=i.getParam("fullpage_pagemode","body");i.settings.modifyingCode&&(i.settings.fullpage_ignoreswitch||("body"===t||e.content.match(/<html.*?>/)?"body"===t&&e.content.match(/<html.*?>/)&&(a.set(e.content.substring(0,e.content.indexOf("</body>"))),t=e.content.match(/^<!DOCTYPE[^>]+XHTML.*?>/gi)?"xhtml":"html",i.settings.fullpage_pagemode=t):(t="body",a.set(""),i.settings.fullpage_pagemode=t))),"body"!==t&&function(e,t,n,r){var o,i,a,s,u="",c=e.dom;if(!(r.selection||(a=J(e.settings.protect,r.content),"raw"===r.format&&t.get()||r.source_view&&I(e)))){0!==a.length||r.source_view||(a=L.trim(t.get())+"\n"+L.trim(a)+"\n"+L.trim(n.get())),-1!==(o=(a=a.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(o=a.indexOf(">",o),t.set(ee(a.substring(0,o+1))),-1===(i=a.indexOf("</body",o))&&(i=a.length),r.content=L.trim(a.substring(o+1,i)),n.set(ee(a.substring(i)))):(t.set(te(e)),n.set("\n</body>\n</html>"));var l=K(t.get());if(Q(l.getAll("style"),function(e){e.firstChild&&(u+=e.firstChild.value)}),s=l.getAll("html")[0]){var f=e.getBody().parentNode,d=ce(f.attributes).reduce(function(e,t){return e[t.name]=!1,e},{});ce(s.attributes).map(function(e){return{name:e.name,value:e.value}}).forEach(function(e){var t=e.name,n=e.value;d[t]=!0,f.setAttribute(t,n)}),Object.keys(d).forEach(function(e){d[e]||f.removeAttribute(e)})}if(s=l.getAll("body")[0]){var h=e.getBody(),p=["id","class","data-id","contenteditable","spellcheck"],m=ce(h.attributes).filter(function(e){return!p.includes(e.name)}).reduce(function(e,t){return e[t.name]=!1,e},{});ce(s.attributes).filter(function(e){return!p.includes(e.name)}).map(function(e){return{name:e.name,value:e.value}}).forEach(function(e){var t=e.name,n=e.value;m[t]=!0,h.setAttribute(t,n)}),Object.keys(m).forEach(function(e){m[e]||h.removeAttribute(e)}),h.setAttribute("class","mce-content-body "+s.attr("class"))}c.remove("fullpage_styles");var g=e.getDoc().getElementsByTagName("head")[0];u&&(c.add(g,"style",{id:"fullpage_styles"},u),(s=c.get("fullpage_styles")).styleSheet&&(s.styleSheet.cssText=u));var v={};L.each(g.getElementsByTagName("link"),function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(v[e.href]=e)}),L.each(l.getAll("link"),function(e){var t=e.attr("href");if(!t)return!0;v[t]||"stylesheet"!==e.attr("rel")||c.add(g,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete v[t]}),L.each(v,function(e){e.parentNode.removeChild(e)})}}(i,a,s,e)}),i.on("GetContent",function(e){var t,n,r,o;"body"!==i.getParam("fullpage_pagemode","body")&&(t=i,n=a.get(),r=s.get(),(o=e).selection||o.source_view&&I(t)||(o.content=Z(L.trim(n)+"\n"+L.trim(o.content)+"\n"+L.trim(r))))})},re=function(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})},D.add("fullpage",function(e){var t=O(""),n=O("");X(e,t),re(e),ne(e,t,n)});var le=n(79),fe=n.n(le);var de=function(f){var e,t,n,r,d=f.document;return e=function(){if(f.getSelection){var e=f.getSelection();if(e.getRangeAt&&e.rangeCount)return(t=e.getRangeAt(0))?{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}:null}else if(d.selection&&d.selection.createRange)return d.selection.createRange();var t;return null},t=function(e){if(e=function(e,t){if(t){var n=e.document.createRange();return n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),n}return null}(e))if(f.getSelection){var t=f.getSelection();t.removeAllRanges(),t.addRange(e)}else d.selection&&e.select&&e.select()},f.getSelection&&d.createRange?(n=function(e){var t=f.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset);var r=n.toString().length;return{start:r,end:r+t.toString().length}},r=function(e,t){var n=0,r=d.createRange();r.setStart(e,0),r.collapse(!0);for(var o,i=[e],a=!1,s=!1;!s&&(o=i.pop());)if(3==o.nodeType){var u=n+o.length;!a&&t.start>=n&&t.start<=u&&(r.setStart(o,t.start-n),a=!0),a&&t.end>=n&&t.end<=u&&(r.setEnd(o,t.end-n),s=!0),n=u}else for(var c=o.childNodes.length;c--;)i.push(o.childNodes[c]);var l=f.getSelection();l.removeAllRanges(),l.addRange(r)}):d.selection&&(n=function(e){var t=d.selection.createRange(),n=d.body.createTextRange();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var r=n.text.length;return{start:r,end:r+t.text.length}},r=function(e,t){var n=d.body.createTextRange();n.moveToElementText(e),n.collapse(!0),n.moveEnd("character",t.end),n.moveStart("character",t.start),n.select()}),{saveSelection:e,restoreSelection:t,saveAbsSelection:n,restoreAbsSelection:r}};function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function me(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var ge,ve=!1,be=window.opener||window.parent,ye=window.location.search.substring(1).split("&").reduce(function(e,t){if(t.split("=")[0]){var n=t.split("=")[1];n=null==n||n,e[t.split("=")[0]]=n}return e},{});function _e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.color,r=void 0===t?"#275fa6":t,n=e.content,k=void 0===n?"":n,o=e.settings,S=void 0===o?{}:o,E=e.callbackId;return new Promise(function(_){var w,x,C=r;if(ve=!0,"markdown"===(S=Object.assign({codeMode:"html",topbar:ye.init&&be,menubar:!0,statusbar:!0},S)).codeMode&&(w=new i.a,x=new oe),!S.topbar){var e=document.querySelector(".editor-wrapper-menu");e.parentElement.removeChild(e)}document.documentElement.style.setProperty("--color--primary",C);var n="markdown"===S.codeMode,t=Object.assign({},n?{object_resizing:!1,image_dimensions:!1,toolbar:"undo redo | styleselect | bold italic | bullist numlist | link image hr",plugins:["link","lists","hr","image"],menu:{edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"link image hr"},view:{title:"View",items:"visualaid"}},style_formats:[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"}]},{title:"Blocks",items:[{title:"Blockquote",format:"blockquote"},{title:"Code",format:"code"}]},{title:"Clear formatting",format:"removeformat"}]}:{plugins:["fullpage","link","lists","table","colorpicker","textcolor","hr","image"],toolbar:"".concat("undo redo | styleselect | bold italic | alignleft\n\t\t                   aligncenter alignright alignjustify |\n\t\t                   bullist numlist outdent indent | link image"," | forecolor backcolor"),table_toolbar:!1,valid_elements:"+*[*]",valid_children:"+body[style]",object_resizing:!1},{skin_url:"./css/tinymce/lightgray",content_style:":root{--color--primary: ".concat(C,";}"),content_css:["./css/wisywig-content.css"],menubar:S.menubar,statusbar:S.statusbar,selector:"#wysiwyg",language:"ru",relative_urls:!1,remove_script_host:!1,force_p_newlines:!0,force_br_newlines:!0,remove_linebreaks:!1,forced_root_block:!1,branding:!1,setup:function(y){y.hasVisual=!1,y.addSidebar("codebar",{tooltip:"Code sidebar",icon:"code",classes:"code-btn",onshow:function(){var e=document.body.querySelector(".mce-tinymce .mce-sidebar");e.classList.add("sidebar-visible"),e.classList.remove("sidebar-hidden")},onhide:function(){var e=document.body.querySelector(".mce-tinymce .mce-sidebar");e.classList.add("sidebar-hidden"),e.classList.remove("sidebar-visible")},onrender:(s=regeneratorRuntime.mark(function e(t){var n,r,a,i,s,o,l,f,d,h,p,u,c,m,g,v,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(){clearTimeout(m),c=!0;var e=o.session.selection.toJSON();"markdown"===S.codeMode?o.session.setValue(x.turndown(y.getContent())):o.session.setValue(fe()(y.getContent(),{"indent-with-tabs":!0,indent_char:"\t",indent_size:1})),o.session.selection.fromJSON(e),S.saveOnChange&&u.save(),m=setTimeout(function(){c=!1},50)},g=function(e){y.settings.modifyingCode=!0,"markdown"===S.codeMode?y.setContent(w.render(e)):y.setContent(e),y.settings.modifyingCode=!1},(n=t.element()).classList.add("code-editor-panel"),n.innerHTML='<div class="divider-splitter"></div><iframe id="code-editor" src="./code-editor.html"></iframe>',r=n.children[0],a=n.children[1],i=document.body.querySelector(".mce-tinymce .mce-sidebar"),s=i.offsetParent,we(r,{start:function(e,t,n){console.log("start",e),document.body.classList.add("dragging")},move:function(e,t,n,r){console.log("move",t);var o=s.getBoundingClientRect();i.style.setProperty("width","".concat(100*(1-(e.x-o.left)/o.width),"%"))},end:function(){console.log("end"),document.body.classList.remove("dragging")}}),e.next=12,new Promise(function(e){var t=setInterval(function(){a.contentWindow&&a.contentWindow.editor&&(clearInterval(t),a.contentWindow.setMode(S.codeMode),e(a.contentWindow.editor))},100)});case 12:o=e.sent,l=document.querySelector("#wysiwyg_ifr"),f=de(l.contentWindow),d=l.contentWindow.document.body,l.contentWindow.document.addEventListener("selectionchange",function(e){p=f.saveAbsSelection(d),h=f.saveSelection()}),d.addEventListener("paste",function(e){e.preventDefault(),e.stopPropagation(),h&&h.startContainer&&h.startContainer.parentNode&&h.endContainer&&h.endContainer.parentNode?f.restoreSelection(h):f.restoreAbsSelection(d,p);var t,r,n=l.contentWindow,s=n.document,o=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("text/html")||o;if(console.log("PASTE",o,i),n.getSelection){if((t=n.getSelection()).getRangeAt&&t.rangeCount){(r=t.getRangeAt(0)).deleteContents();var a=s.createElement("div");a.innerHTML=i;var u=a.querySelector(':scope > b[id^="docs-internal-guid"]')||a;pe(u.querySelectorAll("*")).forEach(function(e){var t="italic"===e.style.fontStyle,n="bold"===e.style.fontWeight||400<e.style.fontWeight;if(t&&n){var r=s.createElement("b"),o=s.createElement("i");o.appendChild(r),pe(e.childNodes).forEach(function(e){return r.appendChild(e)}),e.parentNode.replaceChild(o,e)}else if(t){var i=s.createElement("i");pe(e.childNodes).forEach(function(e){return i.appendChild(e)}),e.parentNode.replaceChild(i,e)}else if(n){var a=s.createElement("b");pe(e.childNodes).forEach(function(e){return a.appendChild(e)}),e.parentNode.replaceChild(a,e)}}),i=(i=u.innerHTML).replace(/&nbsp;/gi," ");var c=ue()(i,{allowedTags:["h1","h2","h3","h4","h5","ul","ol","li","b","i","p","strong","hr","br","img","a","table","thead","caption","tbody","tr","th","td"],allowedAttributes:{a:["href","target"],img:["src","width","height"]}});console.log("sanitized",c),a.innerHTML=c,pe(a.childNodes).forEach(function(e,t,n){r.insertNode(e),r.selectNode(e),r.collapse(!1)}),t.removeAllRanges(),t.addRange(r)}}else s.selection&&s.selection.createRange&&(s.selection.createRange().text=o);return!1},!0),u={save:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];be.postMessage(JSON.stringify({type:"save",close:e,id:E,content:o.getValue()}),"*")},cancel:function(){window.close()},changemode:function(e){a.contentWindow.setMode(e)},settings:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o="customcss-"+btoa(Math.random()).replace(/\=/gi,""),i="customstyle-"+btoa(Math.random()).replace(/\=/gi,"");function t(e,t){var n=e.createElement("div");pe(e.querySelectorAll(".".concat(o))).forEach(function(e){e.parentNode.removeChild(e)});var r=e.querySelector("head");[].concat(t).forEach(function(e){n.innerHTML='<link rel="stylesheet" type="text/css" class="'.concat(o,'" href="').concat(e,'">'),r.appendChild(n.firstChild)})}function n(e,t){var n=e.createElement("div");pe(e.querySelectorAll(".".concat(i))).forEach(function(e){e.parentNode.removeChild(e)});var r=e.querySelector("head");[].concat(t).forEach(function(e){n.innerHTML='<style class="'.concat(i,'">').concat(e,"</style>"),r.appendChild(n.firstChild)})}e.contentCss&&t(l.contentWindow.document,e.contentCss),e.editorCss&&t(document,e.editorCss),e.codeEditorCss&&t(a.contentWindow.document,e.codeEditorCss),e.contentStyle&&n(l.contentWindow.document,e.contentStyle),e.editorStyle&&n(document,e.editorStyle),e.codeEditorStyle&&n(a.contentWindow.document,e.codeEditorStyle),e.theme&&a.contentWindow.setTheme(e.theme)}},be&&ye.init&&(S.topbar&&(document.querySelector(".button-ok").addEventListener("click",function(){return u.save(!0)}),document.querySelector(".button-cancel").addEventListener("click",function(){return u.cancel()})),window.addEventListener("beforeunload",function(){be.postMessage(JSON.stringify({type:"cancel",id:E}),"*")})),a.contentWindow.document.documentElement.style.setProperty("--color--primary",C),o.$blockScrolling=1/0,c=!1,o.on("input",function(){c||g(o.getValue())}),b="",setInterval(function(){if(document.activeElement!==a){var e=y.getContent();b!==e&&(b=e,v())}},50),g(k),v(),setTimeout(function(){g(o.getValue())},100),_({codeEditor:o,editor:y,ctrl:u});case 30:case"end":return e.stop()}},e,this)}),t=function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){me(r,t,n,o,i,"next",e)}function i(e){me(r,t,n,o,i,"throw",e)}o(void 0)})},function(e){return t.apply(this,arguments)})});var s,t},init_instance_callback:function(t){t.on("paste",function(e){n&&t.setContent(w.render(x.turndown(t.getContent())))})}});ae.a.init(t).then(function(e){he(e,1)[0].theme.panel.find(".sidebar-toolbar button")[0].$el.trigger("click")})})}function we(n,e){var r,o,i,a=e.start,s=e.move,u=e.end,t=function(e){if(!i&&![1,2].includes(e.button)){i=e.pointerId,e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),r={x:e.pageX,y:e.pageY};var t=n.getBoundingClientRect();o={x:e.pageX-t.x,y:e.pageY-t.y},a&&!1!==a(o,e.pointerType,e.pressure)&&(document.addEventListener("pointermove",c,{passive:!1}),document.addEventListener("pointerup",l,{passive:!1}))}},c=function(e){if(e.pointerId===i&&(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),s)){var t={x:e.pageX,y:e.pageY},n={x:t.x-r.x,y:t.y-r.y};s(r=t,n,e.pointerType,e.pressure)}},l=function e(t){t.pointerId===i&&(i=null,document.removeEventListener("pointermove",c,{passive:!1}),document.removeEventListener("pointerup",e,{passive:!1}),u&&u())};return n.addEventListener("pointerdown",t,{passive:!1}),function(){n.removeEventListener("pointerdown",t,{passive:!1}),document.removeEventListener("pointermove",c,{passive:!1}),document.removeEventListener("pointerup",l,{passive:!1})}}ye.init&&be?(window.addEventListener("message",function(e){if(e.data){var t=JSON.parse(e.data);t.id===ye.init&&("init"!==t.type||ve||_e(t.data).then(function(e){be.postMessage(JSON.stringify({type:"initialized",id:ye.init}),"*"),ge=e}),"save"===t.type&&ge&&ge.ctrl.save(),"cancel"===t.type&&ge&&ge.ctrl.cancel(),"changemode"===t.type&&ge&&ge.ctrl.changemode(t.mode),"settings"===t.type&&ge&&ge.ctrl.settings(t.data))}}),be.postMessage(JSON.stringify({type:"preinit",id:ye.init}),"*")):_e()}])});