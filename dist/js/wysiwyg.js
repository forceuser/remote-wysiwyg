!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.wysiwyg=t():e.wysiwyg=t()}(window,function(){return function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/js/",__webpack_require__(__webpack_require__.s=81)}([function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function has(e,t){return r.call(e,t)}function isValidEntityCode(e){return!(55296<=e&&e<=57343)&&(!(64976<=e&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(0<=e&&e<=8)&&(11!==e&&(!(14<=e&&e<=31)&&(!(127<=e&&e<=159)&&!(1114111<e)))))))}function fromCodePoint(e){if(65535<e){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var o=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,i=new RegExp(o.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),a=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,s=n(41);var u=/[&<>"]/,c=/[&<>"]/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(e){return l[e]}var f=/[.?*+^$[\]\\(){}|-]/g;var d=n(20);t.lib={},t.lib.mdurl=n(42),t.lib.ucmicro=n(87),t.assign=function assign(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(e){n[e]=t[e]})}}),n},t.isString=function isString(e){return"[object String]"===function _class(e){return Object.prototype.toString.call(e)}(e)},t.has=has,t.unescapeMd=function unescapeMd(e){return e.indexOf("\\")<0?e:e.replace(o,"$1")},t.unescapeAll=function unescapeAll(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(i,function(e,t,n){return t||function replaceEntityPattern(e,t){var n=0;return has(s,t)?s[t]:35===t.charCodeAt(0)&&a.test(t)&&isValidEntityCode(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?fromCodePoint(n):e}(e,n)})},t.isValidEntityCode=isValidEntityCode,t.fromCodePoint=fromCodePoint,t.escapeHtml=function escapeHtml(e){return u.test(e)?e.replace(c,replaceUnsafeChar):e},t.arrayReplaceAt=function arrayReplaceAt(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function isSpace(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function isWhiteSpace(e){if(8192<=e&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function isMdAsciiPunct(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function isPunctChar(e){return d.test(e)},t.escapeRE=function escapeRE(e){return e.replace(f,"\\$&")},t.normalizeReference=function normalizeReference(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){"function"==typeof Object.create?e.exports=function inherits(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function inherits(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(S_,e,t){(function(k_){!function(){"use strict";var e,t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v=function(e){return function(){return e}},b={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:v,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:v(!1),always:v(!0)},y=b.never,_=b.always,w=function(){return x},x=(r={fold:function(e,t){return e()},is:y,isSome:y,isNone:_,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:w,ap:w,each:function(){},bind:w,flatten:w,exists:y,forall:_,filter:w,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:b.constant("none()")},Object.freeze&&Object.freeze(r),r),C=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:_,isNone:y,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return C(e(n))},ap:function(e){return e.fold(w,function(e){return C(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:x},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(y,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},A={some:C,none:w,from:function(e){return null==e?x:C(e)}},k=void 0===(o=Array.prototype.indexOf)?function(e,t){return O(e,t)}:function(e,t){return o.call(e,t)},S=function(e,t){return-1<k(e,t)},E=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},R=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},N=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return A.some(n);return A.none()},O=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},B=Array.prototype.push,P=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);B.apply(t,e[n])}return t},M=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},L=Array.prototype.slice,I={map:E,each:T,eachr:R,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:N,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=k(e,t);return-1===n?A.none():A.some(n)},foldr:function(e,t,n){return R(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return T(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return A.some(o)}return A.none()},findIndex:D,flatten:P,bind:function(e,t){var n=E(e,t);return P(n)},forall:M,exists:function(e,t){return D(e,t).isSome()},contains:S,equal:function(e,n){return e.length===n.length&&M(e,function(e,t){return e===n[t]})},reverse:function(e){var t=L.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return N(e,function(e){return!S(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=L.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?A.none():A.some(e[0])},last:function(e){return 0===e.length?A.none():A.some(e[e.length-1])}},F="undefined"!=typeof window?window:Function("return this;")(),j=function(e,t){for(var n=null!=t?t:F,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},z=function(e,t){var n=e.split(".");return j(n,t)},q={getOrDie:function(e,t){var n=z(e,t);if(null==n)throw e+" not available on this browser";return n}},H=function(){return q.getOrDie("URL")},U={createObjectURL:function(e){return H().createObjectURL(e)},revokeObjectURL:function(e){H().revokeObjectURL(e)}},W=navigator,V=W.userAgent,K=function(e){return"matchMedia"in window&&matchMedia(e).matches};d=/Android/.test(V),a=(a=!(i=/WebKit/.test(V))&&/MSIE/gi.test(V)&&/Explorer/gi.test(W.appName))&&/MSIE (\w+)\./.exec(V)[1],s=-1!==V.indexOf("Trident/")&&(-1!==V.indexOf("rv:")||-1!==W.appName.indexOf("Netscape"))&&11,u=-1!==V.indexOf("Edge/")&&!a&&!s&&12,a=a||s||u,c=!i&&!s&&/Gecko/.test(V),l=-1!==V.indexOf("Mac"),f=/(iPad|iPhone)/.test(V),h="FormData"in window&&"FileReader"in window&&"URL"in window&&!!U.createObjectURL,p=K("only screen and (max-device-width: 480px)")&&(d||f),m=K("only screen and (min-width: 800px)")&&(d||f),g=-1!==V.indexOf("Windows Phone"),u&&(i=!1);var $,G,Y,X,J,Z,Q,ee,te,ne,re,oe,ie,ae,se,ue,ce,le,fe,de={opera:!1,webkit:i,ie:a,gecko:c,mac:l,iOS:f,android:d,contentEditable:!f||h||534<=parseInt(V.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==a,range:window.getSelection&&"Range"in window,documentMode:a&&!u?document.documentMode||7:10,fileApi:h,ceFalse:!1===a||8<a,cacheSuffix:"",container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===a||11<a,desktop:!p&&!m,windowsPhone:g},he=window.Promise?window.Promise:function(){function bind(e,t){return function(){e.apply(t,arguments)}}var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],doResolve(e,bind(resolve,this),bind(reject,this))},t=i.immediateFn||"function"==typeof k_&&k_||function(e){setTimeout(e,1)};function handle(n){var r=this;null!==this._state?t(function(){var e=r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(e){return void n.reject(e)}n.resolve(t)}else(r._state?n.resolve:n.reject)(r._value)}):this._deferreds.push(n)}function resolve(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void doResolve(bind(t,e),bind(resolve,this),bind(reject,this))}this._state=!0,this._value=e,finale.call(this)}catch(e){reject.call(this,e)}}function reject(e){this._state=!1,this._value=e,finale.call(this)}function finale(){for(var e=0,t=this._deferreds.length;e<t;e++)handle.call(this,this._deferreds[e]);this._deferreds=null}function doResolve(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}return i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(n,r){var o=this;return new i(function(e,t){handle.call(o,new function Handler(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}(n,r,e,t))})},i.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new i(function(r,o){if(0===a.length)return r([]);var i=a.length;function res(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){res(t,e)},o)}a[t]=e,0==--i&&r(a)}catch(e){o(e)}}for(var e=0;e<a.length;e++)res(e,a[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i}(),pe=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},me=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},ge=function(t,n){var r,e;return(e=function(){var e=arguments;clearTimeout(r),r=pe(function(){t.apply(this,e)},n)}).stop=function(){clearTimeout(r)},e},ve={requestAnimationFrame:function(e,t){$?$.then(e):$=new he(function(e){t||(t=document.body),function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=function(e){window.setTimeout(e,0)}),r(e,t)}(e,t)}).then(e)},setTimeout:pe,setInterval:me,setEditorTimeout:function(e,t,n){return pe(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=me(function(){e.removed?clearInterval(r):t()},n)},debounce:ge,throttle:ge,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},be=/^(?:mouse|contextmenu)|click/,ye={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},_e=function(){return!1},we=function(){return!0},xe=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ce=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},ke=function(e,t){var n,r,o,i,a,s,u=t||{};for(n in e)ye[n]||(u[n]=e[n]);if(u.target||(u.target=u.srcElement||document),de.experimentalShadowDom&&(u.target=(r=e,o=u.target,a=o,(i=r.path)&&0<i.length&&(a=i[0]),r.composedPath&&(i=r.composedPath())&&0<i.length&&(a=i[0]),a)),e&&be.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var c=u.target.ownerDocument||document,l=c.documentElement,f=c.body;u.pageX=e.clientX+(l&&l.scrollLeft||f&&f.scrollLeft||0)-(l&&l.clientLeft||f&&f.clientLeft||0),u.pageY=e.clientY+(l&&l.scrollTop||f&&f.scrollTop||0)-(l&&l.clientTop||f&&f.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=we,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=we,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=we,u.stopPropagation()},0==((s=u).isDefaultPrevented===we||s.isDefaultPrevented===_e)&&(u.isDefaultPrevented=_e,u.isPropagationStopped=_e,u.isImmediatePropagationStopped=_e),void 0===u.metaKey&&(u.metaKey=!1),u},Se=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},s=function(){i()&&(Ce(r,"readystatechange",s),a())},u=function(){try{r.documentElement.doScroll("left")}catch(e){return void ve.setTimeout(u)}a()};!r.addEventListener||de.ie&&de.ie<11?(xe(r,"readystatechange",s),r.documentElement.doScroll&&e.self===e.top&&u()):i()?a():xe(e,"DOMContentLoaded",a),xe(e,"load",a)}},Ee=function(){var h,p,m,g,v,b=this,y={};p="mce-data-"+(+new Date).toString(32),g="onmouseenter"in document.documentElement,m="onfocusin"in document.documentElement,v={mouseenter:"mouseover",mouseleave:"mouseout"},h=1,b.domLoaded=!1,b.events=y;var _=function(e,t){var n,r,o,i,a=y[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if((i=n[r])&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};b.bind=function(e,t,n,r){var o,i,a,s,u,c,l,f=window,d=function(e){_(ke(e||f.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[p]?o=e[p]:(o=h++,e[p]=o,y[o]={}),r=r||e,a=(t=t.split(" ")).length;a--;)c=d,u=l=!1,"DOMContentLoaded"===(s=t[a])&&(s="ready"),b.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,ke({type:s})):(g||(u=v[s])&&(c=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=ke(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,_(e,o))}),m||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){(e=ke(e||f.event)).type="focus"===e.type?"focusin":"focusout",_(e,o)}),(i=y[o][s])?"ready"===s&&b.domLoaded?n({type:s}):i.push({func:n,scope:r}):(y[o][s]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=l,i.nativeHandler=c,"ready"===s?Se(e,c,b):xe(e,u||s,c,l)));return e=i=0,n}},b.unbind=function(t,e,n){var r,o,i,a,s,u;if(!t||3===t.nodeType||8===t.nodeType)return b;if(r=t[p]){if(u=y[r],e){for(i=(e=e.split(" ")).length;i--;)if(o=u[s=e[i]]){if(n)for(a=o.length;a--;)if(o[a].func===n){var c=o.nativeHandler,l=o.fakeName,f=o.capture;(o=o.slice(0,a).concat(o.slice(a+1))).nativeHandler=c,o.fakeName=l,o.capture=f,u[s]=o}n&&0!==o.length||(delete u[s],Ce(t,o.fakeName||s,o.nativeHandler,o.capture))}}else{for(s in u)o=u[s],Ce(t,o.fakeName||s,o.nativeHandler,o.capture);u={}}for(s in u)return b;delete y[r];try{delete t[p]}catch(e){t[p]=null}}return b},b.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=ke(null,n)).type=t,n.target=e;(r=e[p])&&_(n,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,r=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[p]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[p]&&r(e);return b},b.destroy=function(){y={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};(Ee.Event=new Ee).bind(window,"ready",function(){});var Te="sizzle"+-new Date,Ae=window.document,Re=0,Ne=0,De=createCache(),Oe=createCache(),Be=createCache(),Pe=function(e,t){return e===t&&(oe=!0),0},Me="undefined",Le=1<<31,Ie={}.hasOwnProperty,Fe=[],je=Fe.pop,ze=Fe.push,qe=Fe.push,He=Fe.slice,Ue=Fe.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},We="[\\x20\\t\\r\\n\\f]",Ve="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ke="\\["+We+"*("+Ve+")(?:"+We+"*([*^$|!~]?=)"+We+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ve+"))|)"+We+"*\\]",$e=":("+Ve+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ke+")*)|.*)\\)|)",Ge=new RegExp("^"+We+"+|((?:^|[^\\\\])(?:\\\\.)*)"+We+"+$","g"),Ye=new RegExp("^"+We+"*,"+We+"*"),Xe=new RegExp("^"+We+"*([>+~]|"+We+")"+We+"*"),Je=new RegExp("="+We+"*([^\\]'\"]*?)"+We+"*\\]","g"),Ze=new RegExp($e),Qe=new RegExp("^"+Ve+"$"),et={ID:new RegExp("^#("+Ve+")"),CLASS:new RegExp("^\\.("+Ve+")"),TAG:new RegExp("^("+Ve+"|[*])"),ATTR:new RegExp("^"+Ke),PSEUDO:new RegExp("^"+$e),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+We+"*(even|odd|(([+-]|)(\\d*)n|)"+We+"*(?:([+-]|)"+We+"*(\\d+)|))"+We+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+We+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+We+"*((?:-\\d)?\\d*)"+We+"*\\)|)(?=[^-]|$)","i")},tt=/^(?:input|select|textarea|button)$/i,nt=/^h\d$/i,rt=/^[^{]+\{\s*\[native \w/,ot=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,it=/[+~]/,at=/'|\\/g,st=new RegExp("\\\\([\\da-f]{1,6}"+We+"?|("+We+")|.)","ig"),ut=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{qe.apply(Fe=He.call(Ae.childNodes),Ae.childNodes),Fe[Ae.childNodes.length].nodeType}catch(e){qe={apply:Fe.length?function(e,t){ze.apply(e,He.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var ct=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h;if((t?t.ownerDocument||t:Ae)!==ae&&ie(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||ae).nodeType)&&9!==s)return[];if(ue&&!r){if(o=ot.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&fe(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return qe.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Y.getElementsByClassName)return qe.apply(n,t.getElementsByClassName(a)),n}if(Y.qsa&&(!ce||!ce.test(e))){if(f=l=Te,d=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=Q(e),(l=t.getAttribute("id"))?f=l.replace(at,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+toSelector(c[u]);d=it.test(e)&&testContext(t.parentNode)||t,h=c.join(",")}if(h)try{return qe.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return te(e.replace(Ge,"$1"),t,n,r)};function createCache(){var n=[];return function cache(e,t){return n.push(e+" ")>X.cacheLength&&delete cache[n.shift()],cache[e+" "]=t}}function markFunction(e){return e[Te]=!0,e}function siblingCheck(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Le)-(~e.sourceIndex||Le);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function createInputPseudo(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function createButtonPseudo(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function createPositionalPseudo(a){return markFunction(function(i){return i=+i,markFunction(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function testContext(e){return e&&typeof e.getElementsByTagName!==Me&&e}for(G in Y=ct.support={},Z=ct.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ie=ct.setDocument=function(e){var t,u=e?e.ownerDocument||e:Ae,n=u.defaultView;return u!==ae&&9===u.nodeType&&u.documentElement?(se=(ae=u).documentElement,ue=!Z(u),n&&n!==function getTop(e){try{return e.top}catch(e){}return null}(n)&&(n.addEventListener?n.addEventListener("unload",function(){ie()},!1):n.attachEvent&&n.attachEvent("onunload",function(){ie()})),Y.attributes=!0,Y.getElementsByTagName=!0,Y.getElementsByClassName=rt.test(u.getElementsByClassName),Y.getById=!0,X.find.ID=function(e,t){if(typeof t.getElementById!==Me&&ue){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},X.filter.ID=function(e){var t=e.replace(st,ut);return function(e){return e.getAttribute("id")===t}},X.find.TAG=Y.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Me)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},X.find.CLASS=Y.getElementsByClassName&&function(e,t){if(ue)return t.getElementsByClassName(e)},le=[],ce=[],Y.disconnectedMatch=!0,ce=ce.length&&new RegExp(ce.join("|")),le=le.length&&new RegExp(le.join("|")),t=rt.test(se.compareDocumentPosition),fe=t||rt.test(se.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Pe=t?function(e,t){if(e===t)return oe=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Y.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===Ae&&fe(Ae,e)?-1:t===u||t.ownerDocument===Ae&&fe(Ae,t)?1:re?Ue.call(re,e)-Ue.call(re,t):0:4&n?-1:1)}:function(e,t){if(e===t)return oe=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===u?-1:t===u?1:o?-1:i?1:re?Ue.call(re,e)-Ue.call(re,t):0;if(o===i)return siblingCheck(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?siblingCheck(a[r],s[r]):a[r]===Ae?-1:s[r]===Ae?1:0},u):ae},ct.matches=function(e,t){return ct(e,null,null,t)},ct.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ae&&ie(e),t=t.replace(Je,"='$1']"),Y.matchesSelector&&ue&&(!le||!le.test(t))&&(!ce||!ce.test(t)))try{var n=(void 0).call(e,t);if(n||Y.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<ct(t,ae,null,[e]).length},ct.contains=function(e,t){return(e.ownerDocument||e)!==ae&&ie(e),fe(e,t)},ct.attr=function(e,t){(e.ownerDocument||e)!==ae&&ie(e);var n=X.attrHandle[t.toLowerCase()],r=n&&Ie.call(X.attrHandle,t.toLowerCase())?n(e,t,!ue):void 0;return void 0!==r?r:Y.attributes||!ue?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ct.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ct.uniqueSort=function(e){var t,n=[],r=0,o=0;if(oe=!Y.detectDuplicates,re=!Y.sortStable&&e.slice(0),e.sort(Pe),oe){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return re=null,e},J=ct.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=J(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=J(t);return n},(X=ct.selectors={cacheLength:50,createPseudo:markFunction,match:et,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,ut),e[3]=(e[3]||e[4]||e[5]||"").replace(st,ut),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ct.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ct.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return et.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ze.test(n)&&(t=Q(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(st,ut).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=De[e+" "];return t||(t=new RegExp("(^|"+We+")"+e+"("+We+"|$)"))&&De(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Me&&e.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(e){var t=ct.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===o:"!="===r?t!==o:"^="===r?o&&0===t.indexOf(o):"*="===r?o&&-1<t.indexOf(o):"$="===r?o&&t.slice(-o.length)===o:"~="===r?-1<(" "+t+" ").indexOf(o):"|="===r&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),b="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,s,u,c=g!==v?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(g){for(;c;){for(i=e;i=i[c];)if(b?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;u=c="only"===h&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&d){for(s=(r=(o=l[Te]||(l[Te]={}))[h]||[])[0]===Re&&r[1],a=r[0]===Re&&r[2],i=s&&l.childNodes[s];i=++s&&i&&i[c]||(a=s=0)||u.pop();)if(1===i.nodeType&&++a&&i===e){o[h]=[Re,s,a];break}}else if(d&&(r=(e[Te]||(e[Te]={}))[h])&&r[0]===Re)a=r[1];else for(;(i=++s&&i&&i[c]||(a=s=0)||u.pop())&&((b?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[Te]||(i[Te]={}))[h]=[Re,a]),i!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,i){var t,a=X.pseudos[e]||X.setFilters[e.toLowerCase()]||ct.error("unsupported pseudo: "+e);return a[Te]?a(i):1<a.length?(t=[e,e,"",i],X.setFilters.hasOwnProperty(e.toLowerCase())?markFunction(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=Ue.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:markFunction(function(e){var r=[],o=[],s=ee(e.replace(Ge,"$1"));return s[Te]?markFunction(function(e,t,n,r){for(var o,i=s(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,s(r,null,n,o),!o.pop()}}),has:markFunction(function(t){return function(e){return 0<ct(t,e).length}}),contains:markFunction(function(t){return t=t.replace(st,ut),function(e){return-1<(e.textContent||e.innerText||J(e)).indexOf(t)}}),lang:markFunction(function(n){return Qe.test(n||"")||ct.error("unsupported lang: "+n),n=n.replace(st,ut).toLowerCase(),function(e){var t;do{if(t=ue?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===se},focus:function(e){return e===ae.activeElement&&(!ae.hasFocus||ae.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!X.pseudos.empty(e)},header:function(e){return nt.test(e.nodeName)},input:function(e){return tt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(e,t){return[t-1]}),eq:createPositionalPseudo(function(e,t,n){return[n<0?n+t:n]}),even:createPositionalPseudo(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:createPositionalPseudo(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:createPositionalPseudo(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=X.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[G]=createInputPseudo(G);for(G in{submit:!0,reset:!0})X.pseudos[G]=createButtonPseudo(G);function setFilters(){}function toSelector(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function addCombinator(a,e,t){var s=e.dir,u=t&&"parentNode"===s,c=Ne++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var r,o,i=[Re,c];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((r=(o=e[Te]||(e[Te]={}))[s])&&r[0]===Re&&r[1]===c)return i[2]=r[2];if((o[s]=i)[2]=a(e,t,n))return!0}}}function elementMatcher(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function condense(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function setMatcher(h,p,m,g,v,e){return g&&!g[Te]&&(g=setMatcher(g)),v&&!v[Te]&&(v=setMatcher(v,e)),markFunction(function(e,t,n,r){var o,i,a,s=[],u=[],c=t.length,l=e||function multipleContexts(e,t,n){for(var r=0,o=t.length;r<o;r++)ct(e,t[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),f=!h||!e&&p?l:condense(l,s,h,n,r),d=m?v||(e?h:c||g)?[]:t:f;if(m&&m(f,d,n,r),g)for(o=condense(d,u),g(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[u[i]]=!(f[u[i]]=a));if(e){if(v||h){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?Ue.call(e,a):s[i])&&(e[o]=!(t[o]=a))}}else d=condense(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):qe.apply(t,d)})}function matcherFromTokens(e){for(var r,t,n,o=e.length,i=X.relative[e[0].type],a=i||X.relative[" "],s=i?1:0,u=addCombinator(function(e){return e===r},a,!0),c=addCombinator(function(e){return-1<Ue.call(r,e)},a,!0),l=[function(e,t,n){return!i&&(n||t!==ne)||((r=t).nodeType?u(e,t,n):c(e,t,n))}];s<o;s++)if(t=X.relative[e[s].type])l=[addCombinator(elementMatcher(l),t)];else{if((t=X.filter[e[s].type].apply(null,e[s].matches))[Te]){for(n=++s;n<o&&!X.relative[e[n].type];n++);return setMatcher(1<s&&elementMatcher(l),1<s&&toSelector(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(Ge,"$1"),t,s<n&&matcherFromTokens(e.slice(s,n)),n<o&&matcherFromTokens(e=e.slice(n)),n<o&&toSelector(e))}l.push(t)}return elementMatcher(l)}setFilters.prototype=X.filters=X.pseudos,X.setFilters=new setFilters,Q=ct.tokenize=function(e,t){var n,r,o,i,a,s,u,c=Oe[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=X.preFilter;a;){for(i in n&&!(r=Ye.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=Xe.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ge," ")}),a=a.slice(n.length)),X.filter)!(r=et[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ct.error(e):Oe(e,s).slice(0)},ee=ct.compile=function(e,t){var n,r=[],o=[],i=Be[e+" "];if(!i){for(t||(t=Q(e)),n=t.length;n--;)(i=matcherFromTokens(t[n]))[Te]?r.push(i):o.push(i);(i=Be(e,function matcherFromGroupMatchers(g,v){var b=0<v.length,y=0<g.length,e=function(e,t,n,r,o){var i,a,s,u=0,c="0",l=e&&[],f=[],d=ne,h=e||y&&X.find.TAG("*",o),p=Re+=null==d?1:Math.random()||.1,m=h.length;for(o&&(ne=t!==ae&&t);c!==m&&null!=(i=h[c]);c++){if(y&&i){for(a=0;s=g[a++];)if(s(i,t,n)){r.push(i);break}o&&(Re=p)}b&&((i=!s&&i)&&u--,e&&l.push(i))}if(u+=c,b&&c!==u){for(a=0;s=v[a++];)s(l,f,t,n);if(e){if(0<u)for(;c--;)l[c]||f[c]||(f[c]=je.call(r));f=condense(f)}qe.apply(r,f),o&&!e&&0<f.length&&1<u+v.length&&ct.uniqueSort(r)}return o&&(Re=p,ne=d),l};return b?markFunction(e):e}(o,r))).selector=e}return i},te=ct.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,l=!r&&Q(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&Y.getById&&9===t.nodeType&&ue&&X.relative[i[1].type]){if(!(t=(X.find.ID(a.matches[0].replace(st,ut),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=et.needsContext.test(e)?0:i.length;o--&&(a=i[o],!X.relative[s=a.type]);)if((u=X.find[s])&&(r=u(a.matches[0].replace(st,ut),it.test(i[0].type)&&testContext(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&toSelector(i)))return qe.apply(n,r),n;break}}return(c||ee(e,l))(r,t,!ue,n,it.test(e)&&testContext(t.parentNode)||t),n},Y.sortStable=Te.split("").sort(Pe).join("")===Te,Y.detectDuplicates=!!oe,ie(),Y.sortDetached=!0;var lt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ft=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},dt=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},ht={isArray:lt,toArray:function(e){var t,n,r=e;if(!lt(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},each:ft,map:function(n,r){var o=[];return ft(n,function(e,t){o.push(r(e,t,n))}),o},filter:function(n,r){var o=[];return ft(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o},indexOf:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},findIndex:dt,find:function(e,t,n){var r=dt(e,t,n);if(-1!==r)return e[r]},last:function(e){return e[e.length-1]}},pt=/^\s*|\s*$/g,mt=function(e){return null==e?"":(""+e).replace(pt,"")},gt=function(e,t){return t?!("array"!==t||!ht.isArray(e))||typeof e===t:void 0!==e},vt=function(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),ht.each(e,function(e,t){if(!1===n.call(o,e,t,r))return!1;vt(e,n,r,o)}))},bt={trim:mt,isArray:ht.isArray,is:gt,toArray:ht.toArray,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:ht.each,map:ht.map,grep:ht.filter,inArray:ht.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,r,o,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s,u=arguments;for(n=1,r=u.length;n<r;n++)for(o in t=u[n])t.hasOwnProperty(o)&&void 0!==(s=t[o])&&(e[o]=s);return e},create:function(e,t,n){var r,o,i,a,s,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],!(o=u.createNS(e[3].replace(/\.\w+$/,""),n))[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},c=1),o[i]=t[i],u.extend(o[i].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=o[i],o[i]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},o[i].prototype[i]=o[i],u.each(r,function(e,t){o[i].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),u.each(t.static,function(e,t){o[i][t]=e})}},walk:vt,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||gt(e,"array")?e:ht.map(e.split(t||","),mt)},_addCacheSuffix:function(e){var t=de.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},yt=document,_t=Array.prototype.push,wt=Array.prototype.slice,xt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ct=Ee.Event,kt=bt.makeMap("children,contents,next,prev"),St=function(e){return void 0!==e},Et=function(e){return"string"==typeof e},Tt=function(e,t){var n,r,o;for(o=(t=t||yt).createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},At=function(e,t,n,r){var o;if(Et(t))t=Tt(t,Ht(e[0]));else if(t.length&&!t.nodeType){if(t=It.makeArray(t),r)for(o=t.length-1;0<=o;o--)At(e,t[o],n,r);else for(o=0;o<t.length;o++)At(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Rt=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Nt=function(e,t,n){var r,o;return t=It(t)[0],e.each(function(){var e=this;n&&r===e.parentNode||(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e)),o.appendChild(e)}),e},Dt=bt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ot=bt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Bt={for:"htmlFor",class:"className",readonly:"readOnly"},Pt={float:"cssFloat"},Mt={},Lt={},It=function(e,t){return new It.fn.init(e,t)},Ft=/^\s*|\s*$/g,jt=function(e){return null==e?"":(""+e).replace(Ft,"")},zt=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},qt=function(e,n){var r=[];return zt(e,function(e,t){n(t,e)&&r.push(t)}),r},Ht=function(e){return e?9===e.nodeType?e:e.ownerDocument:yt};It.fn=It.prototype={constructor:It,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return It(e).attr(t);o.context=t=document}if(Et(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:xt.exec(e)))return It(t).find(e);if(n[1])for(r=Tt(e,Ht(t)).firstChild;r;)_t.call(o,r),r=r.nextSibling;else{if(!(r=Ht(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return bt.toArray(this)},add:function(e,t){var n,r,o=this;if(Et(e))return o.add(It(e));if(!1!==t)for(n=It.unique(o.toArray().concat(It.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else _t.apply(o,It.makeArray(e));return o},attr:function(t,n){var e,r=this;if("object"==typeof t)zt(t,function(e,t){r.attr(e,t)});else{if(!St(n)){if(r[0]&&1===r[0].nodeType){if((e=Mt[t])&&e.get)return e.get(r[0],t);if(Ot[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=Mt[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Bt[e]||e))zt(e,function(e,t){n.prop(e,t)});else{if(!St(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){var e,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof t)zt(t,function(e,t){o.css(e,t)});else if(St(n))t=i(t),"number"!=typeof n||Dt[t]||(n=n.toString()+"px"),o.each(function(){var e=this.style;if((r=Lt[t])&&r.set)r.set(this,n);else{try{this.style[Pt[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(a(t)):e.removeAttribute(t))}});else{if(e=o[0],(r=Lt[t])&&r.get)return r.get(e);if(e.ownerDocument.defaultView)try{return e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(a(t))}catch(e){return}else if(e.currentStyle)return e.currentStyle[i(t)]}return o},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ct.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,r=this;if(St(t)){n=r.length;try{for(;n--;)r[n].innerHTML=t}catch(e){It(r[n]).empty().append(t)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var t,n=this;if(St(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return At(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return At(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?At(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?At(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return It(e).append(this),this},prependTo:function(e){return It(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Nt(this,e)},wrapAll:function(e){return Nt(this,e,!0)},wrapInner:function(e){return this.each(function(){It(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){It(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),It(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return"string"!=typeof o||(-1!==o.indexOf(" ")?zt(o.split(" "),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r;(r=Rt(t,o))!==i&&(n=t.className,r?t.className=jt((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o)})),e},hasClass:function(e){return Rt(this[0],e)},each:function(e){return zt(this,e)},on:function(e,t){return this.each(function(){Ct.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ct.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ct.fire(this,e.type,e):Ct.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new It(wt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)It.find(e,this[t],r);return It(r)},filter:function(n){return It("function"==typeof n?qt(this.toArray(),function(e,t){return n(t,e)}):It.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof It&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&It(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),It(r)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:_t,sort:[].sort,splice:[].splice},bt.extend(It,{extend:bt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:bt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:bt.isArray,each:zt,trim:jt,grep:qt,find:ct,expr:ct.selectors,unique:ct.uniqueSort,text:ct.getText,contains:ct.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?It.find.matchesSelector(t[0],e)?[t[0]]:[]:It.find.matches(e,t)}});var Ut=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof It&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&It(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Wt=function(e,t,n,r){var o=[];for(r instanceof It&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&It(e).is(r))break}o.push(e)}return o},Vt=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};zt({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ut(e,"parentNode")},next:function(e){return Vt(e,"nextSibling",1)},prev:function(e){return Vt(e,"previousSibling",1)},children:function(e){return Wt(e.firstChild,"nextSibling",1)},contents:function(e){return bt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){It.fn[e]=function(t){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(It.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(kt[e]||(n=It.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=It(n),t?n.filter(t):n}}),zt({parentsUntil:function(e,t){return Ut(e,"parentNode",t)},nextUntil:function(e,t){return Wt(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Wt(e,"previousSibling",1,t).slice(1)}},function(r,o){It.fn[r]=function(t,e){var n=[];return this.each(function(){var e=o.call(n,this,t,n);e&&(It.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=It.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse())),n=It(n),e?n.filter(e):n}}),It.fn.is=function(e){return!!e&&0<this.filter(e).length},It.fn.init.prototype=It.fn,It.overrideDefaults=function(n){var r,o=function(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new o.fn.init(e,t)};return It.extend(o,this),o};var Kt=function(n,r,e){zt(e,function(e,t){n[e]=n[e]||{},n[e][r]=t})};de.ie&&de.ie<8&&(Kt(Mt,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),Kt(Mt,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),de.ie&&de.ie<9&&(Pt.float="styleFloat",Kt(Lt,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),It.attrHooks=Mt,It.cssHooks=Lt;var $t,Gt=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},Yt=function(){return Xt(0,0)},Xt=function(e,t){return{major:e,minor:t}},Jt={nu:Xt,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Yt():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Xt(r(1),r(2))}(e,n)},unknown:Yt},Zt="Firefox",Qt=function(e,t){return function(){return t===e}},en=function(e){var t=e.current;return{current:t,version:e.version,isEdge:Qt("Edge",t),isChrome:Qt("Chrome",t),isIE:Qt("IE",t),isOpera:Qt("Opera",t),isFirefox:Qt(Zt,t),isSafari:Qt("Safari",t)}},tn={unknown:function(){return en({current:void 0,version:Jt.unknown()})},nu:en,edge:b.constant("Edge"),chrome:b.constant("Chrome"),ie:b.constant("IE"),opera:b.constant("Opera"),firefox:b.constant(Zt),safari:b.constant("Safari")},nn="Windows",rn="Android",on="Solaris",an="FreeBSD",sn=function(e,t){return function(){return t===e}},un=function(e){var t=e.current;return{current:t,version:e.version,isWindows:sn(nn,t),isiOS:sn("iOS",t),isAndroid:sn(rn,t),isOSX:sn("OSX",t),isLinux:sn("Linux",t),isSolaris:sn(on,t),isFreeBSD:sn(an,t)}},cn={unknown:function(){return un({current:void 0,version:Jt.unknown()})},nu:un,windows:b.constant(nn),ios:b.constant("iOS"),android:b.constant(rn),linux:b.constant("Linux"),osx:b.constant("OSX"),solaris:b.constant(on),freebsd:b.constant(an)},ln=function(e,t){var n=String(t).toLowerCase();return I.find(e,function(e){return e.search(n)})},fn=function(e,n){return ln(e,n).map(function(e){var t=Jt.detect(e.versionRegexes,n);return{current:e.name,version:t}})},dn=function(e,n){return ln(e,n).map(function(e){var t=Jt.detect(e.versionRegexes,n);return{current:e.name,version:t}})},hn=function(e,t){return-1!==e.indexOf(t)},pn=function(e){return e.replace(/^\s+|\s+$/g,"")},mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gn=function(t){return function(e){return hn(e,t)}},vn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return hn(e,"edge/")&&hn(e,"chrome")&&hn(e,"safari")&&hn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mn],search:function(e){return hn(e,"chrome")&&!hn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return hn(e,"msie")||hn(e,"trident")}},{name:"Opera",versionRegexes:[mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:gn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:gn("firefox")},{name:"Safari",versionRegexes:[mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(hn(e,"safari")||hn(e,"mobile/"))&&hn(e,"applewebkit")}}],bn=[{name:"Windows",search:gn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return hn(e,"iphone")||hn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:gn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:gn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:gn("linux"),versionRegexes:[]},{name:"Solaris",search:gn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:gn("freebsd"),versionRegexes:[]}],yn={browsers:b.constant(vn),oses:b.constant(bn)},_n=function(e){var t=yn.browsers(),n=yn.oses(),r=fn(t,e).fold(tn.unknown,tn.nu),o=dn(n,e).fold(cn.unknown,cn.nu);return{browser:r,os:o,deviceType:function DeviceType(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:b.constant(r),isiPhone:b.constant(o),isTablet:b.constant(s),isPhone:b.constant(c),isTouch:b.constant(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b.constant(l)}}(o,r,e)}},wn={detect:Gt(function(){var e=navigator.userAgent;return _n(e)})},xn=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:b.constant(e)}},Cn={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return xn(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return xn(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return xn(n)},fromDom:xn,fromPoint:function(e,t,n){return A.from(e.dom().elementFromPoint(t,n)).map(xn)}},kn=8,Sn=9,En=1,Tn=3,An=function(e){return e.dom().nodeName.toLowerCase()},Rn=function(e){return e.dom().nodeType},Nn=function(t){return function(e){return Rn(e)===t}},Dn=Nn(En),On=Nn(Tn),Bn=Nn(Sn),Pn={name:An,type:Rn,value:function(e){return e.dom().nodeValue},isElement:Dn,isText:On,isDocument:Bn,isComment:function(e){return Rn(e)===kn||"#comment"===An(e)}},Mn=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},Ln={isString:Mn("string"),isObject:Mn("object"),isArray:Mn("array"),isNull:Mn("null"),isBoolean:Mn("boolean"),isUndefined:Mn("undefined"),isFunction:Mn("function"),isNumber:Mn("number")},In=void 0===($t=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:$t,Fn=function(e,t){for(var n=In(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},jn=function(r,o){var i={};return Fn(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},zn=function(e,n){var r=[];return Fn(e,function(e,t){r.push(n(e,t))}),r},qn=function(e){return zn(e,function(e){return e})},Hn={bifilter:function(e,n){var r={},o={};return Fn(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:Fn,map:function(e,r){return jn(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:zn,tupleMap:jn,find:function(e,t){for(var n=In(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return A.some(a)}return A.none()},keys:In,values:qn,size:function(e){return qn(e).length}},Un=function(e,t,n){if(!(Ln.isString(n)||Ln.isBoolean(n)||Ln.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Wn=function(e,t,n){Un(e.dom(),t,n)},Vn=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Kn=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},$n={clone:function(e){return I.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:Wn,setAll:function(e,t){var n=e.dom();Hn.each(t,function(e,t){Un(n,t,e)})},get:Vn,has:Kn,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(o,i,e){Pn.isElement(o)&&Pn.isElement(i)&&I.each(e,function(e){var t,n,r;n=i,Kn(t=o,r=e)&&!Kn(n,r)&&Wn(n,r,Vn(t,r))})}},Gn=Gt(function(){return Yn(Cn.fromDom(document))}),Yn=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return Cn.fromDom(t)},Xn={body:Gn,getBody:Yn,inBody:function(e){var t=Pn.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},Jn=function(e){return void 0!==e.style},Zn=function(e,t,n){if(!Ln.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Jn(e)&&e.style.setProperty(t,n)},Qn=function(e,t){return Jn(e)?e.style.getPropertyValue(t):""},er=function(e,t){var n=e.dom();Hn.each(t,function(e,t){Zn(n,t,e)})},tr=function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||Xn.inBody(e)?r:Qn(n,t);return null===o?void 0:o},nr=function(e){return e.slice(0).sort()},rr={sort:nr,reqMessage:function(e,t){throw new Error("All required keys ("+nr(e).join(", ")+") were not specified. Specified keys were: "+nr(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+nr(e).join(", "))},validateStrArr:function(t,e){if(!Ln.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");I.each(e,function(e){if(!Ln.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+nr(e).join(", ")+") were not.")},checkDupes:function(e){var n=nr(e);I.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},or={immutable:function Immutable(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return I.each(t,function(e,t){r[e]=b.constant(n[t])}),r}},immutableBag:function MixedBag(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return rr.validateStrArr("required",o),rr.validateStrArr("optional",i),rr.checkDupes(a),function(t){var n=Hn.keys(t);I.forall(o,function(e){return I.contains(n,e)})||rr.reqMessage(o,n);var e=I.filter(n,function(e){return!I.contains(a,e)});0<e.length&&rr.unsuppMessage(e);var r={};return I.each(o,function(e){r[e]=b.constant(t[e])}),I.each(i,function(e){r[e]=b.constant(Object.prototype.hasOwnProperty.call(t,e)?A.some(t[e]):A.none())}),r}}},ir=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},ar=function(){return q.getOrDie("Node")},sr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},ur=function(e,t){return sr(e,t,ar().DOCUMENT_POSITION_CONTAINED_BY)},cr=En,lr=Sn,fr=function(e){return e.nodeType!==cr&&e.nodeType!==lr||0===e.childElementCount},dr={all:function(e,t){var n=void 0===t?document:t.dom();return fr(n)?[]:I.map(n.querySelectorAll(e),Cn.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==cr)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return fr(n)?A.none():A.from(n.querySelector(e)).map(Cn.fromDom)}},hr=function(e,t){return e.dom()===t.dom()},pr=wn.detect().browser.isIE()?function(e,t){return ur(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},mr={eq:hr,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return I.exists(t,b.curry(hr,e))},contains:pr,is:dr.is},gr=function(e){return Cn.fromDom(e.dom().ownerDocument)},vr=function(e){var t=e.dom();return A.from(t.parentNode).map(Cn.fromDom)},br=function(e){var t=e.dom();return A.from(t.previousSibling).map(Cn.fromDom)},yr=function(e){var t=e.dom();return A.from(t.nextSibling).map(Cn.fromDom)},_r=function(e){var t=e.dom();return I.map(t.childNodes,Cn.fromDom)},wr=function(e,t){var n=e.dom().childNodes;return A.from(n[t]).map(Cn.fromDom)},xr=or.immutable("element","offset"),Cr={owner:gr,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return Cn.fromDom(t)},documentElement:function(e){var t=gr(e);return Cn.fromDom(t.dom().documentElement)},parent:vr,findIndex:function(n){return vr(n).bind(function(e){var t=_r(e);return I.findIndex(t,function(e){return mr.eq(n,e)})})},parents:function(e,t){for(var n=Ln.isFunction(t)?t:b.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Cn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},siblings:function(t){return vr(t).map(_r).map(function(e){return I.filter(e,function(e){return!mr.eq(t,e)})}).getOr([])},prevSibling:br,offsetParent:function(e){var t=e.dom();return A.from(t.offsetParent).map(Cn.fromDom)},prevSiblings:function(e){return I.reverse(ir(e,br))},nextSibling:yr,nextSiblings:function(e){return ir(e,yr)},children:_r,child:wr,firstChild:function(e){return wr(e,0)},lastChild:function(e){return wr(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=_r(e);return 0<n.length&&t<n.length?xr(n[t],0):xr(e,t)}},kr=wn.detect().browser,Sr=function(e){return I.find(e,Pn.isElement)},Er=function(e,t,n){var r,o,i,a=0,s=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===tr(Cn.fromDom(e),"position"))return{x:a=(o=t.getBoundingClientRect()).left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,y:s=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop};for(r=t;r&&r!==n&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(i=Cn.fromDom(t),kr.isFirefox()&&"table"===Pn.name(i)?Sr(Cr.children(i)).filter(function(e){return"caption"===Pn.name(e)}).bind(function(o){return Sr(Cr.nextSiblings(o)).map(function(e){var t=e.dom().offsetTop,n=o.dom().offsetTop,r=o.dom().offsetHeight;return t<=n?-r:0})}).getOr(0):0)}return{x:a,y:s}},Tr=function(e){var n=A.none(),t=[],r=function(e){o()?a(e):t.push(e)},o=function(){return n.isSome()},i=function(e){I.each(e,a)},a=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){n=A.some(e),i(t),t=[]}),{get:r,map:function(n){return Tr(function(t){r(function(e){t(n(e))})})},isReady:o}},Ar={nu:Tr,pure:function(t){return Tr(function(e){e(t)})}},Rr=function(n){return function(){var e=Array.prototype.slice.call(arguments),t=this;setTimeout(function(){n.apply(t,e)},0)}},Nr=function(t){var e=function(e){t(Rr(e))};return{map:function(r){return Nr(function(n){e(function(e){var t=r(e);n(t)})})},bind:function(n){return Nr(function(t){e(function(e){n(e).get(t)})})},anonBind:function(n){return Nr(function(t){e(function(e){n.get(t)})})},toLazy:function(){return Ar.nu(e)},get:e}},Dr={nu:Nr,pure:function(t){return Nr(function(e){e(t)})}},Or=function(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):I.each(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})})},Br=function(e){return Or(e,Dr.nu)},Pr={par:Br,mapM:function(e,t){var n=I.map(e,t);return Br(n)},compose:function(t,n){return function(e){return n(e).bind(t)}}},Mr=function(n){return{is:function(e){return n===e},isValue:b.always,isError:b.never,getOr:b.constant(n),getOrThunk:b.constant(n),getOrDie:b.constant(n),or:function(e){return Mr(n)},orThunk:function(e){return Mr(n)},fold:function(e,t){return t(n)},map:function(e){return Mr(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return A.some(n)}}},Lr=function(n){return{is:b.never,isValue:b.never,isError:b.always,getOr:b.identity,getOrThunk:function(e){return e()},getOrDie:function(){return b.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return Lr(n)},each:b.noop,bind:function(e){return Lr(n)},exists:b.never,forall:b.always,toOption:A.none}},Ir={value:Mr,error:Lr};function TreeWalker(e,s){var t=e,n=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==s){if(o=e[n])return o;for(i=e.parentNode;i&&i!==s;i=i.parentNode)if(o=i[n])return o}}};this.current=function(){return t},this.next=function(e){return t=n(t,"firstChild","nextSibling",e)},this.prev=function(e){return t=n(t,"lastChild","previousSibling",e)},this.prev2=function(e){return t=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],s&&o===s)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==s)return i}}(t,"lastChild","previousSibling",e)}}var Fr,jr,zr,qr=function(t){var n;return function(e){return(n=n||I.mapToObject(t,b.constant(!0))).hasOwnProperty(Pn.name(e))}},Hr=qr(["h1","h2","h3","h4","h5","h6"]),Ur=qr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Wr=function(e){return Pn.isElement(e)&&!Ur(e)},Vr=function(e){return Pn.isElement(e)&&"br"===Pn.name(e)},Kr=qr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),$r=qr(["ul","ol","dl"]),Gr=qr(["li","dd","dt"]),Yr=qr(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Xr=qr(["thead","tbody","tfoot"]),Jr=qr(["td","th"]),Zr=function(t){return function(e){return!!e&&e.nodeType===t}},Qr=Zr(1),eo=function(e){var r=e.toLowerCase().split(" ");return function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<r.length;t++)if(n===r[t])return!0;return!1}},to=function(t){return function(e){if(Qr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},no=Zr(3),ro=Zr(8),oo=Zr(9),io=eo("br"),ao=to("true"),so=to("false"),uo={isText:no,isElement:Qr,isComment:ro,isDocument:oo,isBr:io,isContentEditableTrue:ao,isContentEditableFalse:so,matchNodeNames:eo,hasPropValue:function(t,n){return function(e){return Qr(e)&&e[t]===n}},hasAttribute:function(t,e){return function(e){return Qr(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,n){return function(e){return Qr(e)&&e.getAttribute(t)===n}},matchStyleValues:function(n,e){var r=e.toLowerCase().split(" ");return function(e){var t;if(Qr(e))for(t=0;t<r.length;t++)if(e.ownerDocument.defaultView.getComputedStyle(e,null).getPropertyValue(n)===r[t])return!0;return!1}},isBogus:function(e){return Qr(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return Qr(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return Qr(e)&&"TABLE"===e.tagName}},co=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},lo=function(e,t){var n,r=t.childNodes;if(!uo.isElement(t)||!co(t)){for(n=r.length-1;0<=n;n--)lo(e,r[n]);if(!1===uo.isDocument(t)){if(uo.isText(t)&&0<t.nodeValue.length){var o=bt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<o)return;if(0===o&&(a=(i=t).previousSibling&&"SPAN"===i.previousSibling.nodeName,s=i.nextSibling&&"SPAN"===i.nextSibling.nodeName,a&&s))return}else if(uo.isElement(t)&&(1===(r=t.childNodes).length&&co(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Yr(Cn.fromDom(t))))return;e.remove(t)}var i,a,s;return t}},fo={trimNode:lo},ho=bt.makeMap,po=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,go=/[<>&\"\']/g,vo=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,bo={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};jr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var yo=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),jr[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};Fr=yo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var _o=function(e,t){return e.replace(t?po:mo,function(e){return jr[e]||e})},wo=function(e,t){return e.replace(t?po:mo,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":jr[e]||"&#"+e.charCodeAt(0)+";"})},xo=function(e,t,n){return n=n||Fr,e.replace(t?po:mo,function(e){return jr[e]||n[e]||e})},Co={encodeRaw:_o,encodeAllRaw:function(e){return(""+e).replace(go,function(e){return jr[e]||e})},encodeNumeric:wo,encodeNamed:xo,getEncodeFunc:function(e,t){var n=yo(t)||Fr,r=ho(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?po:mo,function(e){return void 0!==jr[e]?jr[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:r.named?t?function(e,t){return xo(e,t,n)}:xo:r.numeric?wo:_o},decode:function(e){return e.replace(vo,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):bo[t]||String.fromCharCode(t):zr[e]||Fr[e]||(n=e,(r=Cn.fromTag("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},ko={},So={},Eo=bt.makeMap,To=bt.each,Ao=bt.extend,Ro=bt.explode,No=bt.inArray,Do=function(e,t){return(e=bt.trim(e))?e.split(t||" "):[]},Oo=function(e){var s,t,n,r,o,i,u={},a=function(e,t,n){var r,o,i,a=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(t=t||"","string"==typeof(n=n||[])&&(n=Do(n)),r=(e=Do(e)).length;r--;)i={attributes:a(o=Do([s,t].join(" "))),attributesOrder:o,children:a(n,So)},u[e[r]]=i},c=function(e,t){var n,r,o,i;for(n=(e=Do(e)).length,t=Do(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return ko[e]?ko[e]:(s="id accesskey class dir lang style tabindex title role",t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",t+=" article aside details dialog figure header footer hgroup section nav",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(s+=" xml:lang",n=[n,i="acronym applet basefont big font strike tt"].join(" "),To(Do(i),function(e){a(e,"",n)}),t=[t,o="center dir isindex noframes"].join(" "),r=[t,n].join(" "),To(Do(o),function(e){a(e,"",r)})),r=r||[t,n].join(" "),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),a("address dt dd div caption","",r),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",r),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",r),a("dl","","dt dd"),a("a","href target rel media hreflang type",n),a("q","cite",n),a("ins del","cite datetime",r),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",r),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),a("param","name value"),a("map","name",[r,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",r),a("th","colspan rowspan headers scope abbr",r),a("form","accept-charset action autocomplete enctype method name novalidate target",r),a("fieldset","disabled form name",[r,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[r,"li"].join(" ")),a("noscript","",r),"html4"!==e&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",r),a("mark rt rp summary bdi","",n),a("canvas","width height",r),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside header footer","",r),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[r,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",r),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[r,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),To(Do("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,ko[e]=u)},Bo=function(e,n){var r;return e&&(r={},"string"==typeof e&&(e={"*":e}),To(e,function(e,t){r[t]=r[t.toUpperCase()]="map"===n?Eo(e,/[, ]/):Ro(e,/[, ]/)})),r};function Schema(i){var e,t,n,r,o,a,s,u,c,l,f,d,h,C={},p={},k=[],m={},g={},v=function(e,t,n){var r=i[e];return r?r=Eo(r,/[, ]/,Eo(r.toUpperCase(),/[, ]/)):(r=ko[e])||(r=Eo(t," ",Eo(t.toUpperCase()," ")),r=Ao(r,n),ko[e]=r),r};n=Oo((i=i||{}).schema),!1===i.verify_html&&(i.valid_elements="*[*]"),e=Bo(i.valid_styles),t=Bo(i.invalid_styles,"map"),u=Bo(i.valid_classes,"map"),r=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=v("non_empty_elements","td th iframe video audio object script pre code",a),f=v("move_caret_before_on_enter_elements","table",l),d=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),c=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",d),h=v("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),To((i.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){g[e]=new RegExp("</"+e+"[^>]*>","gi")});var S=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},b=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,w=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(e)for(e=Do(e,","),C["@"]&&(g=C["@"].attributes,v=C["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=_.exec(e[t])){if(p=i[1],c=i[2],m=i[3],u=i[5],a={attributes:d={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),g){for(b in g)d[b]=g[b];h.push.apply(h,v)}if(u)for(r=0,o=(u=Do(u,"|")).length;r<o;r++)if(i=w.exec(u[r])){if(s={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),p=i[3],y=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),s.required=!0),"-"===f){delete d[l],h.splice(No(h,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:y}),s.defaultValue=y),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:y}),s.forcedValue=y),"<"===p&&(s.validValues=Eo(y,"?"))),x.test(l)?(a.attributePatterns=a.attributePatterns||[],s.pattern=S(l),a.attributePatterns.push(s)):(d[l]||h.push(l),d[l]=s)}g||"@"!==c||(g=d,v=h),m&&(a.outputName=c,C[m]=a),x.test(c)?(a.pattern=S(c),k.push(a)):C[c]=a}},y=function(e){C={},k=[],b(e),To(n,function(e,t){p[t]=e.children})},_=function(e){var a=/^(~)?(.+)$/;e&&(ko.text_block_elements=ko.block_elements=null,To(Do(e,","),function(e){var t=a.exec(e),n="~"===t[1],r=n?"span":"div",o=t[2];if(p[o]=p[r],m[o]=r,n||(c[o.toUpperCase()]={},c[o]={}),!C[o]){var i=C[r];delete(i=Ao({},i)).removeEmptyAttrs,delete i.removeEmpty,C[o]=i}To(p,function(e,t){e[r]&&(p[t]=e=Ao({},p[t]),e[o]=e[r])})}))},w=function(e){var o=/^([+\-]?)(\w+)\[([^\]]+)\]$/;ko[i.schema]=null,e&&To(Do(e,","),function(e){var t,n,r=o.exec(e);r&&(n=r[1],t=n?p[r[2]]:p[r[2]]={"#comment":{}},t=p[r[2]],To(Do(r[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})},x=function(e){var t,n=C[e];if(n)return n;for(t=k.length;t--;)if((n=k[t]).pattern.test(e))return n};return i.valid_elements?y(i.valid_elements):(To(n,function(e,t){C[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},p[t]=e.children}),"html5"!==i.schema&&To(Do("strong/b em/i"),function(e){e=Do(e,"/"),C[e[1]].outputName=e[0]}),To(Do("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){C[e]&&(C[e].removeEmpty=!0)}),To(Do("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){C[e].paddEmpty=!0}),To(Do("span"),function(e){C[e].removeEmptyAttrs=!0})),_(i.custom_elements),w(i.valid_children),b(i.extended_valid_elements),w("+ol[ul|ol],+ul[ul|ol]"),To({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){C[t]&&(C[t].parentsRequired=Do(e))}),i.invalid_elements&&To(Ro(i.invalid_elements),function(e){C[e]&&delete C[e]}),x("span")||b("span[!data-mce-type|*]"),{children:p,elements:C,getValidStyles:function(){return e},getValidClasses:function(){return u},getBlockElements:function(){return c},getInvalidStyles:function(){return t},getShortEndedElements:function(){return a},getTextBlockElements:function(){return d},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:x,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return l},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return g},isValidChild:function(e,t){var n=p[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=x(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return m},addValidElements:b,setValidElements:y,addCustomElements:_,addValidChildren:w}}var Po=function(e,t,n,r){var o=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+o(t)+o(n)+o(r)};function Styles(y,e){var _,t,c,l,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,C=/\s*([^:]+):\s*([^;]+);?/g,k=/\s+$/,S={},E="\ufeff";for(y=y||{},e&&(c=e.getValidStyles(),l=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+E).split(" "),_=0;_<t.length;_++)S[t[_]]=E+_,S[E+_]=t[_];return{toHex:function(e){return e.replace(w,Po)},parse:function(e){var t,n,r,o,i,a,s,u,c={},l=y.url_converter,f=y.url_converter_scope||this,d=function(e,t,n){var r,o,i,a;if((r=c[e+"-top"+t])&&(o=c[e+"-right"+t])&&(i=c[e+"-bottom"+t])&&(a=c[e+"-left"+t])){var s=[r,o,i,a];for(_=s.length-1;_--&&s[_]===s[_+1];);-1<_&&n||(c[e+t]=-1===_?s[0]:s.join(" "),delete c[e+"-top"+t],delete c[e+"-right"+t],delete c[e+"-bottom"+t],delete c[e+"-left"+t])}},h=function(e){var t,n=c[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return c[e]=n[0],!0}},p=function(e){return o=!0,S[e]},m=function(e,t){return o&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return S[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},g=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},v=function(e){return e.replace(/\\[0-9a-f]+/gi,g)},b=function(e,t,n,r,o,i){if(o=o||i)return"'"+(o=m(o)).replace(/\'/g,"\\'")+"'";if(t=m(t||n||r),!y.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!y.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return l&&(t=l.call(f,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,p).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,p)});t=C.exec(e);)if(C.lastIndex=t.index+t[0].length,n=t[1].replace(k,"").toLowerCase(),r=t[2].replace(k,""),n&&r){if(n=v(n),r=v(r),-1!==n.indexOf(E)||-1!==n.indexOf('"'))continue;if(!y.allow_script_urls&&("behavior"===n||/expression\s*\(|\/\*|\*\//.test(r)))continue;"font-weight"===n&&"700"===r?r="bold":"color"!==n&&"background-color"!==n||(r=r.toLowerCase()),r=(r=r.replace(w,Po)).replace(x,b),c[n]=o?m(r,!0):r}d("border","",!0),d("border","-width"),d("border","-color"),d("border","-style"),d("padding",""),d("margin",""),i="border",s="border-style",u="border-color",h(a="border-width")&&h(s)&&h(u)&&(c[i]=c[a]+" "+c[s]+" "+c[u],delete c[a],delete c[s],delete c[u]),"medium none"===c.border&&delete c.border,"none"===c["border-image"]&&delete c["border-image"]}return c},serialize:function(i,e){var t,n,r,o,a,s="",u=function(e){var t,n,r,o;if(t=c[e])for(n=0,r=t.length;n<r;n++)e=t[n],(o=i[e])&&(s+=(0<s.length?" ":"")+e+": "+o+";")};if(e&&c)u("*"),u(e);else for(t in i)!(n=i[t])||l&&(r=t,o=e,a=void 0,(a=l["*"])&&a[r]||(a=l[o])&&a[r])||(s+=(0<s.length?" ":"")+t+": "+n+";");return s}}}var Mo=bt.each,Lo=bt.is,Io=bt.grep,Fo=de.ie,jo=/^([a-z0-9],?)+$/i,zo=/^[ \t\r\n]*$/,qo=function(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)},Ho=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},Uo=function(e,t){var n,r,o,i,a,s,u=this;u.doc=e,u.win=window,u.files={},u.counter=0,u.stdMode=!Fo||8<=e.documentMode,u.boxModel=!Fo||"CSS1Compat"===e.compatMode||u.stdMode,u.styleSheetLoader=function StyleSheetLoader(h,e){var p,m=0,g={};p=(e=e||{}).maxLoadTime||5e3;var v=function(e){h.getElementsByTagName("head")[0].appendChild(e)},n=function(e,t,n){var o,r,i,a,s=function(){for(var e=a.passed,t=e.length;t--;)e[t]();a.status=2,a.passed=[],a.failed=[]},u=function(){for(var e=a.failed,t=e.length;t--;)e[t]();a.status=3,a.passed=[],a.failed=[]},c=function(e,t){e()||((new Date).getTime()-i<p?ve.setTimeout(t):u())},l=function(){c(function(){for(var e,t,n=h.styleSheets,r=n.length;r--;)if((t=(e=n[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===o.id)return s(),!0},l)},f=function(){c(function(){try{var e=r.sheet.cssRules;return s(),!!e}catch(e){}},f)};if(e=bt._addCacheSuffix(e),g[e]?a=g[e]:(a={passed:[],failed:[]},g[e]=a),t&&a.passed.push(t),n&&a.failed.push(n),1!==a.status)if(2!==a.status)if(3!==a.status){if(a.status=1,(o=h.createElement("link")).rel="stylesheet",o.type="text/css",o.id="u"+m++,o.async=!1,o.defer=!1,i=(new Date).getTime(),"onload"in o&&!((d=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(d[1],10)<536))o.onload=l,o.onerror=u;else{if(0<navigator.userAgent.indexOf("Firefox"))return(r=h.createElement("style")).textContent='@import "'+e+'"',f(),void v(r);l()}var d;v(o),o.href=e}else u();else s()},t=function(t){return Dr.nu(function(e){n(t,b.compose(e,b.constant(Ir.value(t))),b.compose(e,b.constant(Ir.error(t))))})},o=function(e){return e.fold(b.identity,b.identity)};return{load:n,loadAll:function(e,n,r){Pr.par(I.map(e,t)).get(function(e){var t=I.partition(e,function(e){return e.isValue()});0<t.fail.length?r(t.fail.map(o)):n(t.pass.map(o))})}}}(e),u.boundEvents=[],u.settings=t=t||{},u.schema=t.schema?t.schema:Schema({}),u.styles=Styles({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),u.fixDoc(e),u.events=t.ownEvents?new Ee(t.proxy):Ee.Event,u.attrHooks=(r=u,a={},s=(o=t).keep_values,i={set:function(e,t,n){o.url_converter&&(t=o.url_converter.call(o.url_converter_scope||r,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},a={style:{set:function(e,t){null===t||"object"!=typeof t?(s&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return t=r.serializeStyle(r.parseStyle(t),e[0].nodeName)}}},s&&(a.href=a.src=i),a),n=u.schema.getBlockElements(),u.$=It.overrideDefaults(function(){return{context:e,element:u.getRoot()}}),u.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}};Uo.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){},clone:function(t,e){var n,r,o=this;return!Fo||1!==t.nodeType||e?t.cloneNode(e):(r=o.doc,e?n.firstChild:(n=r.createElement(t.nodeName),Mo(o.getAttribs(t),function(e){o.setAttrib(n,e.nodeName,o.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var o,i=this,a=[];for(e=i.get(e),r=void 0===r,n=n||("BODY"!==i.getRoot().nodeName?i.getRoot().parentNode:null),Lo(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return i.is(e,o)});e&&e!==n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return ct(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1===e.nodeType;if(jo.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]===e)return!0;return!1}}if(e.nodeType&&1!==e.nodeType)return!1;var r=e.nodeType?[e]:e;return 0<ct(t,r[0].ownerDocument||r[0],null,r).length},add:function(e,n,r,o,i){var a=this;return this.run(e,function(e){var t;return t=Lo(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,r),o&&(o.nodeType?t.appendChild(o):a.setHTML(t,o)),i?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,o=this.doc;for(r=o.createElement("div"),t=o.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&qo(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=de.ie&&de.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&qo(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,o,i=this.settings;""===n&&(n=null),r=(e=this.$$(e)).attr(t),e.length&&((o=this.attrHooks[t])&&o.set?o.set(e,n,t):e.attr(t,n),r!==n&&i.onSetAttrib&&i.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var r=this;r.$$(e).each(function(e,n){Mo(t,function(e,t){r.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var r,o;return(e=this.$$(e)).length&&(o=(r=this.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===o&&(o=n||""),o},getPos:function(e,t){return Er(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this.doc;if(this!==Uo.DOM&&r===document){var o=Uo.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,Uo.DOM.addedStyles=o}(n=r.getElementById("mceDefaultStyles"))||((n=r.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=r.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var n,r=this,o=r.doc;r===Uo.DOM||o!==document?(e||(e=""),n=o.getElementsByTagName("head")[0],Mo(e.split(","),function(e){var t;e=bt._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),Fo&&o.documentMode&&o.recalc&&(t.onload=function(){o.recalc&&o.recalc(),t.onload=null}),n.appendChild(t))})):Uo.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&It(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"===this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),Fo?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){It("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1===(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:It("<div></div>").append(It(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(It(this).html(t),!0)})},decode:Co.decode,encode:Co.encodeAllRaw,insertAfter:function(e,r){return r=this.get(r),this.run(e,function(e){var t,n;return t=r.parentNode,(n=r.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return Lo(e,"array")&&(t=t.cloneNode(!0)),n&&Mo(Io(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,r=this;return t.nodeName!==e.toUpperCase()&&(n=r.create(e),Mo(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),r.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(bt.trim(e))},run:function(e,n,r){var o,i=this;return"string"==typeof e&&(e=i.get(e)),!!e&&(r=r||this,e.nodeType||!e.length&&0!==e.length?n.call(r,e):(o=[],Mo(e,function(e,t){e&&("string"==typeof e&&(e=i.get(e)),o.push(n.call(r,e,t)))}),o))},getAttribs:function(e){var t;return(e=this.get(e))?Fo?(t=[],"OBJECT"===e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(e,t){var n,r,o,i,a,s,u=0;if(e=e.firstChild){a=new TreeWalker(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null),i=this.schema?this.schema.getWhiteSpaceElements():{};do{if(1===(o=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++,e=a.next();continue}return!1}for(n=(r=this.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8===o)return!1;if(3===o&&!zo.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&zo.test(e.nodeValue))return!1;e=a.next()}while(e)}return u<=1},createRng:function(){return this.doc.createRange()},nodeIndex:Ho,split:function(e,t,n){var r,o,i,a=this.createRng();if(e&&t)return a.setStart(e.parentNode,this.nodeIndex(e)),a.setEnd(t.parentNode,this.nodeIndex(t)),r=a.extractContents(),(a=this.createRng()).setStart(t.parentNode,this.nodeIndex(t)+1),a.setEnd(e.parentNode,this.nodeIndex(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(fo.trimNode(this,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(fo.trimNode(this,o),e),this.remove(e),n||t},bind:function(e,t,n,r){if(bt.isArray(e)){for(var o=e.length;o--;)e[o]=this.bind(e[o],t,n,r);return e}return!this.settings.collect||e!==this.doc&&e!==this.win||this.boundEvents.push([e,t,n,r]),this.events.bind(e,t,n,r||this)},unbind:function(e,t,n){var r;if(bt.isArray(e)){for(r=e.length;r--;)e[r]=this.unbind(e[r],t,n);return e}if(this.boundEvents&&(e===this.doc||e===this.win))for(r=this.boundEvents.length;r--;){var o=this.boundEvents[r];e!==o[0]||t&&t!==o[1]||n&&n!==o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1===e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){if(this.boundEvents){for(var e=this.boundEvents.length;e--;){var t=this.boundEvents[e];this.events.unbind(t[0],t[1],t[2])}this.boundEvents=null}ct.setDocument&&ct.setDocument(),this.win=this.doc=this.root=this.events=this.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},Uo.DOM=new Uo(document),Uo.nodeIndex=Ho;var Wo=Uo.DOM,Vo=bt.each,Ko=bt.grep,$o=function(e){return"function"==typeof e},Go=function(){var f={},o=[],i={},a=[],d=0;this.isDone=function(e){return 2===f[e]},this.markDone=function(e){f[e]=2},this.add=this.load=function(e,t,n,r){void 0===f[e]&&(o.push(e),f[e]=0),t&&(i[e]||(i[e]=[]),i[e].push({success:t,failure:r,scope:n||this}))},this.remove=function(e){delete f[e],delete i[e]},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n)},this.loadScripts=function(n,e,t,r){var u,c=[],l=function(t,e){Vo(i[e],function(e){$o(e[t])&&e[t].call(e.scope)}),i[e]=void 0};a.push({success:e,failure:r,scope:t||this}),(u=function(){var e=Ko(n);if(n.length=0,Vo(e,function(e){var t,n,r,o,i,a,s;2!==f[e]?3!==f[e]?1!==f[e]&&(f[e]=1,d++,t=e,n=function(){f[e]=2,d--,l("success",e),u()},r=function(){f[e]=3,d--,c.push(e),l("failure",e),u()},s=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),n()},i=(a=Wo).uniqueId(),(o=document.createElement("script")).id=i,o.type="text/javascript",o.src=bt._addCacheSuffix(t),"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&s()}:o.onload=s,o.onerror=function(){$o(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(o)):l("failure",e):l("success",e)}),!d){var t=a.slice(0);a.length=0,Vo(t,function(e){0===c.length?$o(e.success)&&e.success.call(e.scope):$o(e.failure)&&e.failure.call(e.scope,c)})}})()}};Go.ScriptLoader=new Go;var Yo=bt.each,Xo=function(){this.items=[],this.urls={},this.lookup={},this._listeners=[]};Xo.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=Xo.language;if(n&&!1!==Xo.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1===t.indexOf(","+n+","))return;Go.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(t,e,n){this.items.push(e),this.lookup[t]={instance:e,dependencies:n};var r=I.partition(this._listeners,function(e){return e.name===t});return this._listeners=r.fail,Yo(r.pass,function(e){e.callback()}),e},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];Yo(t,function(e){Go.ScriptLoader.add(n+"/"+e)})},load:function(t,n,r,o,e){var i=this,a=n,s=function(){var e=i.dependencies(t);Yo(e,function(e){var t=i.createUrl(n,e);i.load(t.resource,t,void 0,void 0)}),r&&(o?r.call(o):r.call(Go))};i.urls[t]||("object"==typeof n&&(a=n.prefix+n.resource+n.suffix),0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=Xo.baseURL+"/"+a),i.urls[t]=a.substring(0,a.lastIndexOf("/")),i.lookup[t]?s():Go.ScriptLoader.add(a,s,o,e))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},Xo.PluginManager=new Xo,Xo.ThemeManager=new Xo;var Jo,Zo="\ufeff",Qo=function(e){return e===Zo},ei=Zo,ti=function(e){return e.replace(new RegExp(Zo,"g"),"")},ni=uo.isElement,ri=uo.isText,oi=function(e){return ri(e)&&(e=e.parentNode),ni(e)&&e.hasAttribute("data-mce-caret")},ii=function(e){return ri(e)&&Qo(e.data)},ai=function(e){return oi(e)||ii(e)},si=function(e){return e.firstChild!==e.lastChild||!uo.isBr(e.firstChild)},ui=function(e){var t=e.container();return e&&uo.isText(t)&&t.data.charAt(e.offset())===ei},ci=function(e){var t=e.container();return e&&uo.isText(t)&&t.data.charAt(e.offset()-1)===ei},li=function(e,t,n){var r,o,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((i=document.createElement("br")).setAttribute("data-mce-bogus","1"),i)),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},fi=function(e){return ri(e)&&e.data[0]===ei},di=function(e){return ri(e)&&e.data[e.data.length-1]===ei},hi=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],uo.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},pi=uo.isContentEditableTrue,mi=uo.isContentEditableFalse,gi=uo.isBr,vi=uo.isText,bi=uo.matchNodeNames("script style textarea"),yi=uo.matchNodeNames("img input textarea hr iframe video audio object"),_i=uo.matchNodeNames("table"),wi=ai,xi=function(e){return!wi(e)&&(vi(e)?!bi(e.parentNode):yi(e)||gi(e)||_i(e)||mi(e))},Ci=function(e,t){return xi(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(mi(e))return!1;if(pi(e))return!0}return!0}(e,t)},ki=Math.round,Si=function(e){return e?{left:ki(e.left),top:ki(e.top),bottom:ki(e.bottom),right:ki(e.right),width:ki(e.width),height:ki(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ei=function(e,t){return e=Si(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Ti=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Ai=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Ti(t.top-e.bottom,e,t)},Ri=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Ti(t.bottom-e.top,e,t)},Ni=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Di=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Oi=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Bi=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Oi.test(e)},Pi=[].slice,Mi=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Pi.call(arguments);return r.length-1>=e.length?e.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return Mi.apply(this,e)}},Li={constant:function(e){return function(){return e}},negate:function(t){return function(e){return!t(e)}},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Pi.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Pi.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:Mi,compose:function(t,n){return function(e){return t(n(e))}},noop:function(){}},Ii=uo.isElement,Fi=xi,ji=uo.matchStyleValues("display","block table"),zi=uo.matchStyleValues("float","left right"),qi=Li.and(Ii,Fi,Li.negate(zi)),Hi=Li.negate(uo.matchStyleValues("white-space","pre pre-line pre-wrap")),Ui=uo.isText,Wi=uo.isBr,Vi=Uo.nodeIndex,Ki=Di,$i=function(e){return"createRange"in e?e.createRange():Uo.DOM.createRng()},Gi=function(e){return e&&/[\r\n\t ]/.test(e)},Yi=function(e){return!!e.setStart&&!!e.setEnd},Xi=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Gi(e.toString())&&Hi(n.parentNode)&&uo.isText(n)&&(t=n.data,Gi(t[r-1])||Gi(t[r+1])))},Ji=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Zi=function(e){var t,n,r,o,i,a,s,u;return t=0<(n=e.getClientRects()).length?Si(n[0]):Si(e.getBoundingClientRect()),!Yi(e)&&Wi(e)&&Ji(t)?(i=(r=e).ownerDocument,a=$i(i),s=i.createTextNode("\xa0"),(u=r.parentNode).insertBefore(s,r),a.setStart(s,0),a.setEnd(s,1),o=Si(a.getBoundingClientRect()),u.removeChild(s),o):Ji(t)&&Yi(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&uo.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Zi(i)}return null}(e):t},Qi=function(e,t){var n=Ei(e,t);return n.width=1,n.right=n.left+1,n},ea=function(e){var t,n,r=[],o=function(e){var t,n;0!==e.height&&(0<r.length&&(t=e,n=r[r.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||r.push(e))},i=function(e,t){var n=$i(e.ownerDocument);if(t<e.data.length){if(Bi(e.data[t]))return r;if(Bi(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Xi(n)))return o(Qi(Zi(n),!1)),r}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Xi(n)||o(Qi(Zi(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Xi(n)||o(Qi(Zi(n),!0)))};if(Ui(e.container()))return i(e.container(),e.offset()),r;if(Ii(e.container()))if(e.isAtEnd())n=Ki(e.container(),e.offset()),Ui(n)&&i(n,n.data.length),qi(n)&&!Wi(n)&&o(Qi(Zi(n),!1));else{if(n=Ki(e.container(),e.offset()),Ui(n)&&i(n,0),qi(n)&&e.isAtEnd())return o(Qi(Zi(n),!1)),r;t=Ki(e.container(),e.offset()-1),qi(t)&&!Wi(t)&&(ji(t)||ji(n)||!qi(n))&&o(Qi(Zi(t),!1)),qi(n)&&o(Qi(Zi(n),!0))}return r};function CaretPosition(t,n,e){var r=function(){return e||(e=ea(CaretPosition(t,n))),e};return{container:Li.constant(t),offset:Li.constant(n),toRange:function(){var e;return(e=$i(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return Ui(t),0===n},isAtEnd:function(){return Ui(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Ki(t,e?n-1:n)}}}(Jo=CaretPosition||(CaretPosition={})).fromRangeStart=function(e){return Jo(e.startContainer,e.startOffset)},Jo.fromRangeEnd=function(e){return Jo(e.endContainer,e.endOffset)},Jo.after=function(e){return Jo(e.parentNode,Vi(e)+1)},Jo.before=function(e){return Jo(e.parentNode,Vi(e))},Jo.isAtStart=function(e){return!!e&&e.isAtStart()},Jo.isAtEnd=function(e){return!!e&&e.isAtEnd()},Jo.isTextPosition=function(e){return!!e&&uo.isText(e.container())};var ta,na,ra=CaretPosition,oa=uo.isElement,ia=uo.isText,aa=function(e){var t=e.parentNode;t&&t.removeChild(e)},sa=function(e,t){0===t.length?aa(e):e.nodeValue=t},ua=function(e){var t=ti(e);return{count:e.length-t.length,text:t}},ca=function(e,t){return da(e),t},la=function(e,t){return ia(e)&&t.container()===e?(r=t,o=ua((n=e).data.substr(0,r.offset())),i=ua(n.data.substr(r.offset())),0<(a=o.text+i.text).length?(sa(n,a),ra(n,r.offset()-o.count)):r):ca(e,t);var n,r,o,i,a},fa=function(e,t){return t.container()===e.parentNode?(n=e,o=(r=t).container(),i=I.indexOf(o.childNodes,n).map(function(e){return e<r.offset()?ra(o,r.offset()-1):r}).getOr(r),da(n),i):ca(e,t);var n,r,o,i},da=function(e){if(oa(e)&&ai(e)&&(si(e)?e.removeAttribute("data-mce-caret"):aa(e)),ia(e)){var t=ti(function(e){try{return e.nodeValue}catch(e){return""}}(e));sa(e,t)}},ha={removeAndReposition:function(e,t){return ra.isTextPosition(t)?la(e,t):fa(e,t)},remove:da},pa=function(e){return ra.isTextPosition(e)?0===e.offset():xi(e.getNode())},ma=function(e){if(ra.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return xi(e.getNode(!0))},ga=function(e,t){return!ra.isTextPosition(e)&&!ra.isTextPosition(t)&&e.getNode()===t.getNode(!0)},va=function(e,t,n){return e?!ga(t,n)&&(r=t,!(!ra.isTextPosition(r)&&uo.isBr(r.getNode())))&&ma(t)&&pa(n):!ga(n,t)&&pa(t)&&ma(n);var r},ba=function(e,t,n){var r=zs(t);return A.from(e?r.next(n):r.prev(n))},ya=function(e,t){var n,r,o,i,a,s=e?t.firstChild:t.lastChild;return uo.isText(s)?A.some(ra(s,e?0:s.data.length)):s?xi(s)?A.some(e?ra.before(s):(a=s,uo.isBr(a)?ra.before(a):ra.after(a))):(r=t,o=s,i=(n=e)?ra.before(o):ra.after(o),ba(n,r,i)):A.none()},_a={fromPosition:ba,nextPosition:b.curry(ba,!0),prevPosition:b.curry(ba,!1),navigate:function(t,n,r){return ba(t,n,r).bind(function(e){return ms(r,e,n)&&va(t,r,e)?ba(t,n,e):A.some(e)})},positionIn:ya,firstPositionIn:b.curry(ya,!0),lastPositionIn:b.curry(ya,!1)},wa=uo.isContentEditableTrue,xa=uo.isContentEditableFalse,Ca=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},ka=function(e,t){var n,r;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((r=(n=t).ownerDocument.createRange()).selectNode(n),r)},Sa=function(e,t){var n,r;return t=ws(1,e.getBody(),t),n=ra.fromRangeStart(t),xa(n.getNode())?Ca(1,e,n.getNode(),!n.isAtEnd()):xa(n.getNode(!0))?Ca(1,e,n.getNode(!0),!1):(r=e.dom.getParent(n.getNode(),function(e){return xa(e)||wa(e)}),xa(r)?Ca(1,e,r,!1):null)},Ea=function(e,t){return t&&t.collapsed&&Sa(e,t)||t},Ta=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return A.none();n.push(o.getOrDie())}return A.some(t.apply(null,n))};(na=ta||(ta={}))[na.Br=0]="Br",na[na.Block=1]="Block",na[na.Wrap=2]="Wrap",na[na.Eol=3]="Eol";var Aa,Ra,Na=function(e,t){return e===Aa.Backwards?t.reverse():t},Da=function(e,t,n,r){for(var o,i,a,s,u,c,l=zs(n),f=r,d=[];f&&(u=l,c=f,o=t===Aa.Forwards?u.next(c):u.prev(c));){if(uo.isBr(o.getNode(!1)))return t===Aa.Forwards?{positions:Na(t,d).concat([o]),breakType:ta.Br,breakAt:A.some(o)}:{positions:Na(t,d),breakType:ta.Br,breakAt:A.some(o)};if(o.isVisible()){if(e(f,o)){var h=(i=t,a=f,s=o,uo.isBr(s.getNode(i===Aa.Forwards))?ta.Br:!1===ms(a,s)?ta.Block:ta.Wrap);return{positions:Na(t,d),breakType:h,breakAt:A.some(o)}}d.push(o),f=o}else f=o}return{positions:Na(t,d),breakType:ta.Eol,breakAt:A.none()}},Oa=function(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===Aa.Backwards?t.concat(e):[e].concat(t)}).getOr([])},Ba=function(e,i){return I.foldl(e,function(e,o){return e.fold(function(){return A.some(o)},function(r){return Ta([I.head(r.getClientRects()),I.head(o.getClientRects())],function(e,t){var n=Math.abs(i-e.left);return Math.abs(i-t.left)<=n?o:r}).or(e)})},A.none())},Pa=function(t,e){return I.head(e.getClientRects()).bind(function(e){return Ba(t,e.left)})},Ma=b.curry(Da,function(e,t){return Ta([I.head(t.getClientRects()),I.last(e.getClientRects())],Ai).getOr(!1)},-1),La=b.curry(Da,function(e,t){return Ta([I.last(t.getClientRects()),I.head(e.getClientRects())],function(e,t){return Ri(e,t)}).getOr(!1)},1),Ia=b.curry(Oa,-1,Ma),Fa=b.curry(Oa,1,La),ja=function(e,t){return dr.all(t,e)},za=function(e,t,n,r,o){var i,a,s,u,c,l=ja(Cn.fromDom(n),"td,th").map(function(e){return e.dom()}),f=I.filter((i=e,a=l,I.bind(a,function(e){var t,n,r=(t=e.getBoundingClientRect(),n=-1,{left:t.left-n,top:t.top-n,right:t.right+2*n,bottom:t.bottom+2*n,width:t.width+n,height:t.height+n});return[{x:r.left,y:i(r),cell:e},{x:r.right,y:i(r),cell:e}]})),function(e){return t(e,o)});return(s=f,u=r,c=o,I.foldl(s,function(e,r){return e.fold(function(){return A.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-u)+Math.abs(e.y-c)),n=Math.sqrt(Math.abs(r.x-u)+Math.abs(r.y-c));return A.some(n<t?r:e)})},A.none())).map(function(e){return e.cell})},qa=b.curry(za,function(e){return e.bottom},function(e,t){return e.y<t}),Ha=b.curry(za,function(e){return e.top},function(e,t){return e.y>t}),Ua=function(t,n){return I.head(n.getClientRects()).bind(function(e){return qa(t,e.left,e.top)}).bind(function(e){return Pa((t=e,_a.lastPositionIn(t).map(function(e){return Ma(t,e).positions.concat(e)}).getOr([])),n);var t})},Wa=function(t,n){return I.last(n.getClientRects()).bind(function(e){return Ha(t,e.left,e.top)}).bind(function(e){return Pa((t=e,_a.firstPositionIn(t).map(function(e){return[e].concat(La(t,e).positions)}).getOr([])),n);var t})},Va=wn.detect().browser,Ka=function(){return Va.isIE()||Va.isEdge()||Va.isFirefox()},$a=function(t,n,e){var r=t(n,e);return r.breakType===ta.Wrap&&0===r.positions.length?r.breakAt.map(function(e){return t(n,e).breakAt.isNone()}).getOr(!0):r.breakAt.isNone()},Ga=Li.curry($a,Ma),Ya=Li.curry($a,La),Xa=function(e,t,n,r){var o,i,a,s,u=e.selection.getRng(),c=t?1:-1;if(Ka()&&(o=t,i=u,a=n,s=ra.fromRangeStart(i),_a.positionIn(!o,a).map(function(e){return e.isEqual(s)}).getOr(!1))){var l=Ca(c,e,n,!t);return e.selection.setRng(l),!0}return!1},Ja=function(e,t,n,r){var o,i,a,s,u,c,l=e.selection.getRng(),f=ra.fromRangeStart(l),d=e.getBody();if(!t&&Ga(r,f)){var h=(s=d,Ua(u=n,c=f).orThunk(function(){return I.head(c.getClientRects()).bind(function(e){return Ba(Ia(s,ra.before(u)),e.left)})}).getOr(ra.before(u)));return e.selection.setRng(h.toRange()),!0}return!(!t||!Ya(r,f))&&(o=d,h=Wa(i=n,a=f).orThunk(function(){return I.head(a.getClientRects()).bind(function(e){return Ba(Fa(o,ra.after(i)),e.left)})}).getOr(ra.after(i)),e.selection.setRng(h.toRange()),!0)},Za=function(t,n){return function(){return A.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(e){return A.from(t.dom.getParent(e,"table")).map(function(e){return Xa(t,n,e)})}).getOr(!1)}},Qa=function(n,r){return function(){return A.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return A.from(n.dom.getParent(t,"table")).map(function(e){return Ja(n,r,e,t)})}).getOr(!1)}},es=uo.isContentEditableFalse,ts=function(p,m){var e,g,v=null,b=function(){!function(e){var t,n,r,o,i;for(t=It("*[contentEditable=false]",e),o=0;o<t.length;o++)r=(n=t[o]).previousSibling,di(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,fi(r)&&(1===(i=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(p),g&&(ha.remove(g),g=null),v&&(v.remove(),v=null),clearInterval(e)},y=function(){e=ve.setInterval(function(){var e;(e=p).ownerDocument.activeElement===e?It("div.mce-visual-caret",p).toggleClass("mce-visual-caret-hidden"):It("div.mce-visual-caret",p).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h;return b(),o=t,uo.isElement(o)&&/^(TD|TH)$/i.test(o.tagName)?null:(m(t)?(g=li("p",t,e),i=p,s=e,h=Ei((a=t).getBoundingClientRect(),s),"BODY"===i.tagName?(u=i.ownerDocument.documentElement,c=i.scrollLeft||u.scrollLeft,l=i.scrollTop||u.scrollTop):(d=i.getBoundingClientRect(),c=i.scrollLeft-d.left,l=i.scrollTop-d.top),h.left+=c,h.right+=c,h.top+=l,h.bottom+=l,h.width=1,0<(f=a.offsetWidth-a.clientWidth)&&(s&&(f*=-1),h.left+=f,h.right+=f),n=h,It(g).css("top",n.top),v=It('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(p),e&&v.addClass("mce-visual-caret-before"),y(),(r=t.ownerDocument.createRange()).setStart(g,0),r.setEnd(g,0)):(g=function(e,t){var n,r,o;if(r=e.ownerDocument.createTextNode(ei),o=e.parentNode,t){if(n=e.previousSibling,ri(n)){if(ai(n))return n;if(di(n))return n.splitText(n.data.length-1)}o.insertBefore(r,e)}else{if(n=e.nextSibling,ri(n)){if(ai(n))return n;if(fi(n))return n.splitText(1),n}e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r)}return r}(t,e),r=t.ownerDocument.createRange(),es(g.nextSibling)?(r.setStart(g,0),r.setEnd(g,0)):(r.setStart(g,1),r.setEnd(g,1))),r)},hide:b,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},destroy:function(){return ve.clearInterval(e)}}},ns=function(e){return es(e)||uo.isTable(e)&&Ka()},rs=uo.isContentEditableFalse,os=uo.matchStyleValues("display","block table table-cell table-caption list-item"),is=ai,as=oi,ss=Li.curry,us=uo.isElement,cs=xi,ls=function(e){return 0<e},fs=function(e){return e<0},ds=function(e,t){for(var n;n=e(t);)if(!as(n))return n;return null},hs=function(e,t,n,r,o){var i=new TreeWalker(e,r);if(fs(t)){if((rs(e)||as(e))&&n(e=ds(i.prev,!0)))return e;for(;e=ds(i.prev,o);)if(n(e))return e}if(ls(t)){if((rs(e)||as(e))&&n(e=ds(i.next,!0)))return e;for(;e=ds(i.next,o);)if(n(e))return e}return null},ps=function(e,t){for(;e&&e!==t;){if(os(e))return e;e=e.parentNode}return null},ms=function(e,t,n){return ps(e.container(),n)===ps(t.container(),n)},gs=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),us(n)?n.childNodes[r+e]:null):null},vs=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},bs=function(e,t,n){var r,o,i,a;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],is(r)&&(r=r[o]),rs(r)){if(a=n,ps(r,i=t)===ps(a,i))return r;break}if(cs(r))break;n=n.parentNode}return null},ys=ss(vs,!0),_s=ss(vs,!1),ws=function(e,t,n){var r,o,i,a,s=ss(bs,!0,t),u=ss(bs,!1,t);if(o=n.startContainer,i=n.startOffset,oi(o)){if(us(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,ns(r)))return ys(r);if("after"===a&&(r=o.previousSibling,ns(r)))return _s(r)}if(!n.collapsed)return n;if(uo.isText(o)){if(is(o)){if(1===e){if(r=u(o))return ys(r);if(r=s(o))return _s(r)}if(-1===e){if(r=s(o))return _s(r);if(r=u(o))return ys(r)}return n}if(di(o)&&i>=o.data.length-1)return 1===e&&(r=u(o))?ys(r):n;if(fi(o)&&i<=1)return-1===e&&(r=s(o))?_s(r):n;if(i===o.data.length)return(r=u(o))?ys(r):n;if(0===i)return(r=s(o))?_s(r):n}return n},xs=function(e,t){var n=gs(e,t);return rs(n)&&!uo.isBogusAll(n)},Cs=function(e,t){return uo.isTable(gs(e,t))},ks=function(e,t){return A.from(gs(e?0:-1,t)).filter(rs)},Ss=function(e,t,n){var r=ws(e,t,n);return-1===e?CaretPosition.fromRangeStart(r):CaretPosition.fromRangeEnd(r)},Es=ss(xs,0),Ts=ss(xs,-1),As=ss(Cs,0),Rs=ss(Cs,-1);(Ra=Aa||(Aa={}))[Ra.Backwards=-1]="Backwards",Ra[Ra.Forwards=1]="Forwards";var Ns=uo.isContentEditableFalse,Ds=uo.isText,Os=uo.isElement,Bs=uo.isBr,Ps=xi,Ms=function(e){return yi(e)||!!mi(t=e)&&!0!==ht.reduce(t.getElementsByTagName("*"),function(e,t){return e||pi(t)},!1);var t},Ls=Ci,Is=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Fs=function(e,t){if(ls(e)){if(Ps(t.previousSibling)&&!Ds(t.previousSibling))return ra.before(t);if(Ds(t))return ra(t,0)}if(fs(e)){if(Ps(t.nextSibling)&&!Ds(t.nextSibling))return ra.after(t);if(Ds(t))return ra(t,t.data.length)}return fs(e)?Bs(t)?ra.before(t):ra.after(t):ra.before(t)},js=function(e,t,n){var r,o,i,a,s;if(!Os(n)||!t)return null;if(t.isEqual(ra.after(n))&&n.lastChild){if(s=ra.after(n.lastChild),fs(e)&&Ps(n.lastChild)&&Os(n.lastChild))return Bs(n.lastChild)?ra.before(n.lastChild):s}else s=t;var u,c,l,f=s.container(),d=s.offset();if(Ds(f)){if(fs(e)&&0<d)return ra(f,--d);if(ls(e)&&d<f.length)return ra(f,++d);r=f}else{if(fs(e)&&0<d&&(o=Is(f,d-1),Ps(o)))return!Ms(o)&&(i=hs(o,e,Ls,o))?Ds(i)?ra(i,i.data.length):ra.after(i):Ds(o)?ra(o,o.data.length):ra.before(o);if(ls(e)&&d<f.childNodes.length&&(o=Is(f,d),Ps(o)))return u=o,c=n,uo.isBr(u)&&(l=js(1,ra.after(u),c))&&!ms(ra.before(u),ra.before(l),c)?js(e,ra.after(o),n):!Ms(o)&&(i=hs(o,e,Ls,o))?Ds(i)?ra(i,0):ra.before(i):Ds(o)?ra(o,0):ra.after(o);r=o||s.getNode()}return(ls(e)&&s.isAtEnd()||fs(e)&&s.isAtStart())&&(r=hs(r,e,Li.constant(!0),n,!0),Ls(r,n))?Fs(e,r):(o=hs(r,e,Ls,n),!(a=ht.last(ht.filter(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(f,n),Ns)))||o&&a.contains(o)?o?Fs(e,o):null:s=ls(e)?ra.after(a):ra.before(a))},zs=function(t){return{next:function(e){return js(Aa.Forwards,e,t)},prev:function(e){return js(Aa.Backwards,e,t)}}},qs=function(e){return bt.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Hs=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("\xa0"===(t=e.firstChild).data||uo.isBr(t));var t},Us=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||Hs(t))?e.slice(0,-1):e;var t},Ws=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Vs=function(e,t){var n=ra.after(e),r=zs(t).prev(n);return r?r.toRange():null},Ks=function(t,e,n){var r,o,i,a,s=t.parentNode;return bt.each(e,function(e){s.insertBefore(e,t)}),r=t,o=n,i=ra.before(r),(a=zs(o).next(i))?a.toRange():null},$s=function(e,t){var n,r,o,i,a,s,u=t.firstChild,c=t.lastChild;return u&&"meta"===u.name&&(u=u.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=e).getNonEmptyElements(),r&&(r.isEmpty(s)||(o=r,n.getBlockElements()[o.name]&&(a=o).firstChild&&a.firstChild===a.lastChild&&("br"===(i=o.firstChild).name||"\xa0"===i.value)))&&(c=c.prev),!(!u||u!==c||"ul"!==u.name&&"ol"!==u.name)},Gs=function(e,o,i,t){var n,r,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C=(n=o,r=t,c=e.serialize(r),l=n.createFragment(c),s=(a=l).firstChild,u=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),u&&"mce_marker"===u.id&&u.parentNode.removeChild(u),a),k=Ws(o,i.startContainer),S=Us(qs(C.firstChild)),E=o.getRoot(),T=function(e){var t=ra.fromRangeStart(i),n=zs(o.getRoot()),r=1===e?n.prev(t):n.next(t);return!r||Ws(o,r.getNode())!==k};return T(1)?Ks(k,S,E):T(2)?(f=k,d=S,h=E,o.insertAfter(d.reverse(),f),Vs(d[0],h)):(m=S,g=E,v=p=k,y=(b=i).cloneRange(),_=b.cloneRange(),y.setStartBefore(v),_.setEndAfter(v),w=[y.cloneContents(),_.cloneContents()],(x=p.parentNode).insertBefore(w[0],p),bt.each(m,function(e){x.insertBefore(e,p)}),x.insertBefore(w[1],p),x.removeChild(p),Vs(m[m.length-1],g))},Ys=function(e,t){return!!Ws(e,t)},Xs=uo.isText,Js=uo.isBogus,Zs=Uo.nodeIndex,Qs=function(e){var t=e.parentNode;return Js(t)?Qs(t):t},eu=function(e){return e?ht.reduce(e.childNodes,function(e,t){return Js(t)&&"BR"!==t.nodeName?e=e.concat(eu(t)):e.push(t),e},[]):[]},tu=function(t){return function(e){return t===e}},nu=function(e){var t,r,n,o;return(Xs(e)?"text()":e.nodeName.toLowerCase())+"["+(r=eu(Qs(t=e)),n=ht.findIndex(r,tu(t),t),r=r.slice(0,n+1),o=ht.reduce(r,function(e,t,n){return Xs(t)&&Xs(r[n-1])&&e++,e},0),r=ht.filter(r,uo.matchNodeNames(t.nodeName)),(n=ht.findIndex(r,tu(t),t))-o)+"]"},ru=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),Xs(n)?o=function(e,t){for(;(e=e.previousSibling)&&Xs(e);)t+=e.data.length;return t}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(nu(n)),a=function(e,t,n){var r=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)r.push(t);return r}(e,n),a=ht.filter(a,Li.negate(uo.isBogus)),(s=s.concat(ht.map(a,function(e){return nu(e)}))).reverse().join("/")+","+o},ou=function(e,t){var n,r,o;return t?(t=(n=t.split(","))[0].split("/"),o=1<n.length?n[1]:"before",(r=ht.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,r=t[1],o=parseInt(t[2],10),i=eu(n),i=ht.filter(i,function(e,t){return!Xs(e)||!Xs(i[t-1])}),(i=ht.filter(i,uo.matchNodeNames(r)))[o]):null;var n,r,o,i},e))?Xs(r)?function(e,t){for(var n,r=e,o=0;Xs(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!Xs(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Xs(e)&&t>e.data.length&&(t=e.data.length),ra(e,t)}(r,parseInt(o,10)):(o="after"===o?Zs(r)+1:Zs(r),ra(r.parentNode,o)):null):null},iu=uo.isContentEditableFalse,au=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(uo.isText(a)?u.push(n?function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&uo.isText(r);r=r.previousSibling)o+=e(r.data).length;return o}(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},su=function(e){uo.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},uu=function(e,t,n){var r=0;return bt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},cu=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],uo.isElement(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},lu=function(e){return cu(e,!0),cu(e,!1),e},fu=function(e,t){var n;if(uo.isElement(e)&&(e=Di(e,t),iu(e)))return e;if(ai(e)){if(uo.isText(e)&&oi(e)&&(e=e.parentNode),n=e.previousSibling,iu(n))return n;if(n=e.nextSibling,iu(n))return n}},du=function(e,t,n){var r,o,i,a,s,u,c,l=n.getNode(),f=l?l.nodeName:null,d=n.getRng();return iu(l)||"IMG"===f?{name:f,index:uu(n.dom,f,l)}:(l=fu((r=d).startContainer,r.startOffset)||fu(r.endContainer,r.endOffset))?{name:f=l.tagName,index:uu(n.dom,f,l)}:(o=e,a=t,s=d,u=(i=n).dom,(c={}).start=au(u,o,a,s,!0),i.isCollapsed()||(c.end=au(u,o,a,s,!1)),c)},hu={getBookmark:function(e,t,n){return 2===t?du(ti,n,e):3===t?(o=(r=e).getRng(),{start:ru(r.dom.getRoot(),ra.fromRangeStart(o)),end:ru(r.dom.getRoot(),ra.fromRangeEnd(o))}):t?{rng:e.getRng()}:function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i="overflow:hidden;line-height:0px",a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:uu(t,s,a)};var u=lu(n.cloneRange());if(!o){u.collapse(!1);var c=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:i},"&#xFEFF;");u.insertNode(c),su(c.nextSibling)}(n=lu(n)).collapse(!0);var l=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:i},"&#xFEFF;");return n.insertNode(l),su(l.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}}(e);var r,o},getUndoBookmark:b.curry(du,b.identity,!0)},pu=function(e,t){return!e.isBlock(t)||t.innerHTML||de.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},mu=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;1<=o;o--){if(s=i.childNodes,u[o]>s.length-1)return;i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},gu=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,l?(r=c.firstChild,o=1):o=e.nodeIndex(c),s=r,u=o,!l){for(a=c.previousSibling,i=c.nextSibling,bt.each(bt.grep(c.childNodes),function(e){uo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,1);a&&i&&a.nodeType===i.nodeType&&uo.isText(a)&&!de.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return A.some(ra(s,u))}return A.none()},vu=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v=e.dom;if(t){if(bt.isArray(t.start))return m=t,g=(p=v).createRng(),mu(p,!0,m,g)&&mu(p,!1,m,g)?A.some(g):A.none();if("string"==typeof t.start)return A.some((f=t,d=(l=v).createRng(),h=ou(l.getRoot(),f.start),d.setStart(h.container(),h.offset()),h=ou(l.getRoot(),f.end),d.setEnd(h.container(),h.offset()),d));if(t.id)return u=gu(o=v,"start",i=t),c=gu(o,"end",i),Ta([u,(a=c,s=u,a.isSome()?a:s)],function(e,t){var n=o.createRng();return n.setStart(pu(o,e.container()),e.offset()),n.setEnd(pu(o,t.container()),t.offset()),n});if(t.name)return n=v,r=t,A.from(n.select(r.name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.rng)return A.some(t.rng)}return A.none()},bu={getBookmark:function(e,t,n){return hu.getBookmark(e,t,n)},moveToBookmark:function(t,e){vu(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(e){return uo.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},yu=bt.each,_u=function(o){this.compare=function(e,t){if(e.nodeName!==t.nodeName)return!1;var n=function(n){var r={};return yu(o.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(r[t]=o.getAttrib(n,t))}),r},r=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!(!r(n(e),n(t))||!r(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||bu.isBookmarkNode(e)||bu.isBookmarkNode(t))}},wu=function(t,n){Cr.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},xu=function(e,t){e.dom().appendChild(t.dom())},Cu={before:wu,after:function(e,t){Cr.nextSibling(e).fold(function(){Cr.parent(e).each(function(e){xu(e,t)})},function(e){wu(e,t)})},prepend:function(t,n){Cr.firstChild(t).fold(function(){xu(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:xu,appendAt:function(e,t,n){Cr.child(e,n).fold(function(){xu(e,t)},function(e){wu(e,t)})},wrap:function(e,t){wu(e,t),xu(t,e)}},ku=function(t,e){I.each(e,function(e){Cu.before(t,e)})},Su=function(t,e){I.each(e,function(e){Cu.append(t,e)})},Eu=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Tu={empty:function(e){e.dom().textContent="",I.each(Cr.children(e),function(e){Eu(e)})},remove:Eu,unwrap:function(e){var t=Cr.children(e);0<t.length&&ku(e,t),Eu(e)}},Au=function NodeValue(n,r){var t=function(e){return n(e)?A.from(e.dom().nodeValue):A.none()},e=wn.detect().browser,o=e.isIE()&&10===e.version.major?function(e){try{return t(e)}catch(e){return A.none()}}:t;return{get:function(e){if(!n(e))throw new Error("Can only get "+r+" value of a "+r+" node");return o(e).getOr("")},getOption:o,set:function(e,t){if(!n(e))throw new Error("Can only set raw "+r+" value of a "+r+" node");e.dom().nodeValue=t}}}(Pn.isText,"text"),Ru=function(e){return Au.get(e)},Nu=function(e){var t=ja(e,"br"),n=I.filter(function(e){for(var t=[],n=e.dom();n;)t.push(Cn.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Vr);t.length===n.length&&I.each(n,Tu.remove)},Du=function(e){Tu.empty(e),Cu.append(e,Cn.fromHtml('<br data-mce-bogus="1">'))},Ou=function(n){Cr.lastChild(n).each(function(t){Cr.prevSibling(t).each(function(e){Ur(n)&&Vr(t)&&Ur(e)&&Tu.remove(t)})})},Bu=bt.makeMap;function Writer(e){var s,u,c,l,f,d=[];return s=(e=e||{}).indent,u=Bu(e.indent_before||""),c=Bu(e.indent_after||""),l=Co.getEncodeFunc(e.entity_encoding||"raw",e.entities),f="html"===e.element_format,{start:function(e,t,n){var r,o,i,a;if(s&&u[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n"),d.push("<",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],d.push(" ",i.name,'="',l(i.value,!0),'"');d[d.length]=!n||f?">":" />",n&&s&&c[e]&&0<d.length&&0<(a=d[d.length-1]).length&&"\n"!==a&&d.push("\n")},end:function(e){var t;d.push("</",e,">"),s&&c[e]&&0<d.length&&0<(t=d[d.length-1]).length&&"\n"!==t&&d.push("\n")},text:function(e,t){0<e.length&&(d[d.length]=t?e:l(e))},cdata:function(e){d.push("<![CDATA[",e,"]]>")},comment:function(e){d.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?d.push("<?",e," ",l(t),"?>"):d.push("<?",e,"?>"),s&&d.push("\n")},doctype:function(e){d.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){d.length=0},getContent:function(){return d.join("").replace(/\n$/,"")}}}function HtmlSerializer(t,p){void 0===p&&(p=Schema());var m=Writer(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(e){var f,d;d=t.validate,f={3:function(e){m.text(e.value,e.raw)},8:function(e){m.comment(e.value)},7:function(e){m.pi(e.name,e.value)},10:function(e){m.doctype(e.value)},4:function(e){m.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;h(e),e=e.next;);}},m.reset();var h=function(e){var t,n,r,o,i,a,s,u,c,l=f[e.type];if(l)l(e);else{if(t=e.name,n=e.shortEnded,r=e.attributes,d&&r&&1<r.length&&((a=[]).map={},c=p.getElementRule(e.name))){for(s=0,u=c.attributesOrder.length;s<u;s++)(o=c.attributesOrder[s])in r.map&&(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));for(s=0,u=r.length;s<u;s++)(o=r[s].name)in a.map||(i=r.map[o],a.map[o]=i,a.push({name:o,value:i}));r=a}if(m.start(e.name,r,n),!n){if(e=e.firstChild)for(;h(e),e=e.next;);m.end(t)}}};return 1!==e.type||t.inner?f[11](e):h(e),m.getContent()}}}var Pu=function(a){var s=ra.fromRangeStart(a),u=ra.fromRangeEnd(a),c=a.commonAncestorContainer;return _a.fromPosition(!1,c,u).map(function(e){return!ms(s,u,c)&&ms(s,e,c)?(t=s.container(),n=s.offset(),r=e.container(),o=e.offset(),(i=document.createRange()).setStart(t,n),i.setEnd(r,o),i):a;var t,n,r,o,i}).getOr(a)},Mu=function(e){return(t=e).collapsed?t:Pu(t);var t},Lu=uo.matchNodeNames("td th"),Iu=function(o,e,t){var n,r,i,a,s,u,c,l,f,d,h,p,m=o.schema.getTextInlineElements(),g=o.selection,v=o.dom;if(/^ | $/.test(e)&&(e=function(e){var t,n,r;t=g.getRng(),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(e)),n=o.parser,p=t.merge,r=HtmlSerializer({validate:o.settings.validate},o.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',u={content:e,format:"html",selection:!0,paste:t.paste},(u=o.fire("BeforeSetContent",u)).isDefaultPrevented())o.fire("SetContent",{content:u.content,format:"html",selection:!0,paste:t.paste});else{-1===(e=u.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var b,y,_,w,x=(l=g.getRng()).startContainer||(l.parentElement?l.parentElement():null),C=o.getBody();x===C&&g.isCollapsed()&&v.isBlock(C.firstChild)&&(b=C.firstChild)&&!o.schema.getShortEndedElements()[b.nodeName]&&v.isEmpty(C.firstChild)&&((l=v.createRng()).setStart(C.firstChild,0),l.setEnd(C.firstChild,0),g.setRng(l)),g.isCollapsed()||(o.selection.setRng(Mu(o.selection.getRng())),o.getDoc().execCommand("Delete",!1,null),_=(y=g.getRng()).startContainer,w=y.startOffset,3===_.nodeType&&y.collapsed&&("\xa0"===_.data[w]?(_.deleteData(w,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===_.data[w-1]&&(_.deleteData(w-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))));var k,S,E,T={context:(i=g.getNode()).nodeName.toLowerCase(),data:t.data,insert:!0};if(s=n.parse(e,T),!0===t.paste&&$s(o.schema,s)&&Ys(v,i))return l=Gs(r,v,o.selection.getRng(!0),s),o.selection.setRng(l),void o.fire("SetContent",u);if(function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(s),"mce_marker"===(f=s.lastChild).attr("id"))for(f=(c=f).prev;f;f=f.walk(!0))if(3===f.type||!v.isBlock(f.name)){o.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(c,f,"br"===f.name);break}if(o._selectionOverrides.showBlockCaretContainer(i),T.invalid){for(g.setContent(h),i=g.getNode(),a=o.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)f=(i=f).parentNode;e=i===a?a.innerHTML:v.getOuterHTML(i),e=r.serialize(n.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),i===a?v.setHTML(a,e):v.setOuterHTML(i,e)}else e=r.serialize(s),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(o,e,i);!function(){if(p){var n=o.getBody(),r=new _u(v);bt.each(v.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==n;t=t.parentNode)m[e.nodeName.toLowerCase()]&&r.compare(t,e)&&v.remove(e,!0)})}}(),function(e){var t,n,r;if(e){if(g.scrollIntoView(e),t=function(e){for(var t=o.getBody();e&&e!==t;e=e.parentNode)if("false"===o.dom.getContentEditable(e))return e;return null}(e))return v.remove(e),g.select(t);l=v.createRng(),(f=e.previousSibling)&&3===f.nodeType?(l.setStart(f,f.nodeValue.length),de.ie||(d=e.nextSibling)&&3===d.nodeType&&(f.appendData(d.data),d.parentNode.removeChild(d))):(l.setStartBefore(e),l.setEndBefore(e)),n=v.getParent(e,v.isBlock),v.remove(e),n&&v.isEmpty(n)&&(o.$(n).empty(),l.setStart(n,0),l.setEnd(n,0),Lu(n)||n.getAttribute("data-mce-fragment")||!(r=function(e){var t=ra.fromRangeStart(e);if(t=zs(o.getBody()).next(t))return t.toRange()}(l))?v.add(n,v.create("br",{"data-mce-bogus":"1"})):(l=r,v.remove(n))),g.setRng(l)}}(v.get("mce_marker")),k=o.getBody(),bt.each(k.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),S=o.dom,E=o.selection.getStart(),A.from(S.getParent(E,"td,th")).map(Cn.fromDom).each(Ou),o.fire("SetContent",u),o.addVisual()}},Fu={insertAtCaret:function(e,t){var n,r,o="string"!=typeof(n=t)?(r=bt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};Iu(e,o.content,o.details)}};function ClosestOrAncestor(e,t,n,r,o){return e(n,r)?A.some(n):Ln.isFunction(o)&&o(n)?A.none():t(n,r,o)}var ju=function(e,t,n){for(var r=e.dom(),o=Ln.isFunction(n)?n:b.constant(!1);r.parentNode;){r=r.parentNode;var i=Cn.fromDom(r);if(t(i))return A.some(i);if(o(i))break}return A.none()},zu=function(e,t){return I.find(e.dom().childNodes,b.compose(t,Cn.fromDom)).map(Cn.fromDom)},qu=function(e,r){var o=function(e){for(var t=0;t<e.childNodes.length;t++){if(r(Cn.fromDom(e.childNodes[t])))return A.some(Cn.fromDom(e.childNodes[t]));var n=o(e.childNodes[t]);if(n.isSome())return n}return A.none()};return o(e.dom())},Hu={first:function(e){return qu(Xn.body(),e)},ancestor:ju,closest:function(e,t,n){return ClosestOrAncestor(function(e){return t(e)},ju,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?zu(Cn.fromDom(e.parentNode),function(e){return!mr.eq(t,e)&&n(e)}):A.none()},child:zu,descendant:qu},Uu=or.immutable("sections","settings"),Wu=wn.detect().deviceType.isTouch(),Vu=["lists","autolink","autosave"],Ku={theme:"mobile"},$u=function(e){var t=Ln.isArray(e)?e.join(" "):e,n=I.map(Ln.isString(t)?t.split(" "):[],pn);return I.filter(n,function(e){return 0<e.length})},Gu=function(e,t){return e.sections().hasOwnProperty(t)},Yu=function(e,t,n,r){var o,i,a=$u(n.forced_plugins),s=$u(r.plugins),u=e&&Gu(t,"mobile")?(o=s,I.filter(o,b.curry(I.contains,Vu))):s,c=(i=u,[].concat($u(a)).concat($u(i)));return bt.extend(r,{plugins:c.join(" ")})},Xu=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v=(o=["mobile"],i=r,a=Hn.bifilter(i,function(e,t){return I.contains(o,t)}),Uu(a.t,a.f)),b=bt.extend(t,n,v.settings(),(p=e,g=(m=v).settings().inline,p&&Gu(m,"mobile")&&!g?(l="mobile",f=Ku,d=v.sections(),h=d.hasOwnProperty(l)?d[l]:{},bt.extend({},f,h)):{}),{validate:!0,content_editable:v.settings().inline,external_plugins:(s=n,u=v.settings(),c=u.external_plugins?u.external_plugins:{},s&&s.external_plugins?bt.extend({},s.external_plugins,c):c)});return Yu(e,v,n,b)},Ju=function(e,t,n){return A.from(t.settings[n]).filter(e)},Zu=b.curry(Ju,Ln.isString),Qu=function(e,t,n,r){var o,i,a=t in e.settings?e.settings[t]:n;return"hash"===r?(i={},"string"==typeof(o=a)?I.each(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){1<(e=e.split("=")).length?i[bt.trim(e[0])]=bt.trim(e[1]):i[bt.trim(e[0])]=bt.trim(e)}):i=o,i):"string"===r?Ju(Ln.isString,e,t).getOr(n):"number"===r?Ju(Ln.isNumber,e,t).getOr(n):"boolean"===r?Ju(Ln.isBoolean,e,t).getOr(n):"object"===r?Ju(Ln.isObject,e,t).getOr(n):"array"===r?Ju(Ln.isArray,e,t).getOr(n):"function"===r?Ju(Ln.isFunction,e,t).getOr(n):a},ec=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,tc=function(e,t){var n=t.container(),r=t.offset();return e?ii(n)?uo.isText(n.nextSibling)?ra(n.nextSibling,0):ra.after(n):ui(t)?ra(n,r+1):t:ii(n)?uo.isText(n.previousSibling)?ra(n.previousSibling,n.previousSibling.data.length):ra.before(n):ci(t)?ra(n,r-1):t},nc={isInlineTarget:function(e,t){var n=Zu(e,"inline_boundaries_selector").getOr("a[href],code");return dr.is(Cn.fromDom(t),n)},findRootInline:function(e,t,n){var r,o,i,a=(r=e,o=t,i=n,I.filter(Uo.DOM.getParents(i.container(),"*",o),r));return A.from(a[a.length-1])},isRtl:function(e){return"rtl"===Uo.DOM.getStyle(e,"direction",!0)||(t=e.textContent,ec.test(t));var t},isAtZwsp:function(e){return ui(e)||ci(e)},normalizePosition:tc,normalizeForwards:b.curry(tc,!0),normalizeBackwards:b.curry(tc,!1),hasSameParentBlock:function(e,t,n){var r=ps(t,e),o=ps(n,e);return r&&r===o}},rc=function(e,t){return mr.contains(e,t)?Hu.closest(t,function(e){return Kr(e)||Gr(e)},(n=e,function(e){return mr.eq(n,Cn.fromDom(e.dom().parentNode))})):A.none();var n},oc=function(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),r=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))},ic=function(i,a,s){return Ta([_a.firstPositionIn(s),_a.lastPositionIn(s)],function(e,t){var n=nc.normalizePosition(!0,e),r=nc.normalizePosition(!1,t),o=nc.normalizePosition(!1,a);return i?_a.nextPosition(s,o).map(function(e){return e.isEqual(r)&&a.isEqual(n)}).getOr(!1):_a.prevPosition(s,o).map(function(e){return e.isEqual(n)&&a.isEqual(r)}).getOr(!1)}).getOr(!0)},ac=function(e,t,n){return Hu.ancestor(e,function(e){return dr.is(e,t)},n)},sc=ac,uc=function(e,t){return dr.one(t,e)},cc=function(e,t,n){return ClosestOrAncestor(dr.is,ac,e,t,n)},lc=function(e,t,n){return sc(e,t,n).isSome()},fc=function(e,t){return uo.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===(n=e,r=t,o=Cn.fromDom(n),i=Cn.fromDom(r),lc(i,"pre,code",b.curry(mr.eq,o)));var n,r,o,i},dc=function(e,t){return xi(t)&&!1===fc(e,t)||(n=t,uo.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||hc(t);var n},hc=uo.hasAttribute("data-mce-bookmark"),pc=uo.hasAttribute("data-mce-bogus"),mc=uo.hasAttributeValue("data-mce-bogus","all"),gc=function(e){return function(e){var t,n,r=0;if(dc(e,e))return!1;if(!(n=e.firstChild))return!0;t=new TreeWalker(n,e);do{if(mc(n))n=t.next(!0);else if(pc(n))n=t.next();else if(uo.isBr(n))r++,n=t.next();else{if(dc(e,n))return!1;n=t.next()}}while(n);return r<=1}(e.dom())},vc=or.immutable("block","position"),bc=or.immutable("from","to"),yc=function(e,t){var n=Cn.fromDom(e),r=Cn.fromDom(t.container());return rc(n,r).map(function(e){return vc(e,t)})},_c=function(o,i,e){var t=yc(o,ra.fromRangeStart(e)),n=t.bind(function(e){return _a.fromPosition(i,o,e.position()).bind(function(e){return yc(o,e).map(function(e){return t=o,n=i,r=e,uo.isBr(r.position().getNode())&&!1===gc(r.block())?_a.positionIn(!1,r.block().dom()).bind(function(e){return e.isEqual(r.position())?_a.fromPosition(n,t,e).bind(function(e){return yc(t,e)}):A.some(r)}).getOr(r):r;var t,n,r})})});return Ta([t,n],bc).filter(function(e){return r=e,!1===mr.eq(r.from().block(),r.to().block())&&(n=e,Cr.parent(n.from().block()).bind(function(t){return Cr.parent(n.to().block()).filter(function(e){return mr.eq(t,e)})}).isSome())&&(t=e,!1===uo.isContentEditableFalse(t.from().block())&&!1===uo.isContentEditableFalse(t.to().block()));var t,n,r})},wc=function(e,t,n){return n.collapsed?_c(e,t,n):A.none()},xc=function(e,t,n){return mr.contains(t,e)?Cr.parents(e,function(e){return n(e)||mr.eq(e,t)}).slice(0,-1):[]},Cc=function(e,t){return xc(e,t,b.constant(!1))},kc=Cc,Sc=function(e,t){return[e].concat(Cc(e,t))},Ec=function(e){var t,n,r=(t=e,n=Cr.children(t),I.findIndex(n,Ur).fold(function(){return n},function(e){return n.slice(0,e)}));return I.each(r,function(e){Tu.remove(e)}),r},Tc=function(e,t){_a.positionIn(e,t.dom()).each(function(e){var t=e.getNode();uo.isBr(t)&&Tu.remove(Cn.fromDom(t))})},Ac=function(e,t){var n=Sc(t,e);return I.find(n.reverse(),gc).each(Tu.remove)},Rc=function(o,i){return mr.contains(i,o)?Cr.parent(o).bind(function(e){return mr.eq(e,i)?A.some(o):(t=i,n=o,r=Cr.parents(n,function(e){return mr.eq(e,t)}),A.from(r[r.length-2]));var t,n,r}):A.none()},Nc=function(n,r,o){if(gc(o))return Tu.remove(o),gc(r)&&Du(r),_a.firstPositionIn(r.dom());Tc(!0,r),Tc(!1,o);var i=Ec(r);return Rc(r,o).fold(function(){Ac(n,r);var e=_a.lastPositionIn(o.dom());return I.each(i,function(e){Cu.append(o,e)}),e},function(t){var e=_a.prevPosition(o.dom(),ra.before(t.dom()));return I.each(i,function(e){Cu.before(t,e)}),Ac(n,r),e})},Dc=function(e,t,n,r){return t?Nc(e,r,n):Nc(e,n,r)},Oc=function(t,n){var e,r=Cn.fromDom(t.getBody());return(e=wc(r.dom(),n,t.selection.getRng()).bind(function(e){return Dc(r,n,e.from().block(),e.to().block())})).each(function(e){t.selection.setRng(e.toRange())}),e.isSome()},Bc=function(e,t){var n=Cn.fromDom(t),r=b.curry(mr.eq,e);return Hu.ancestor(n,Jr,r).isSome()},Pc=function(e,t){var n,r,o=_a.prevPosition(e.dom(),ra.fromRangeStart(t)).isNone(),i=_a.nextPosition(e.dom(),ra.fromRangeEnd(t)).isNone();return!(Bc(n=e,(r=t).startContainer)||Bc(n,r.endContainer))&&o&&i},Mc=function(e){var n,r,o,t,i=Cn.fromDom(e.getBody()),a=e.selection.getRng();return Pc(i,a)?((t=e).setContent(""),t.selection.setCursorLocation(),!0):(n=i,r=e.selection,o=r.getRng(),Ta([rc(n,Cn.fromDom(o.startContainer)),rc(n,Cn.fromDom(o.endContainer))],function(e,t){return!1===mr.eq(e,t)&&(o.deleteContents(),Dc(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1))},Lc=function(e,t){return!e.selection.isCollapsed()&&Mc(e)},Ic=function(a){if(!Ln.isArray(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return I.each(a,function(e,r){var t=Hn.keys(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!Ln.isArray(i))throw new Error("case arguments must be an array");s.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=Hn.keys(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!I.forall(s,function(e){return I.contains(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:s,constructor:o,params:n})}}}}),n},Fc=Ic([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),jc=function(e,t,n,r){var o=r.getNode(!1===t);return rc(Cn.fromDom(e),Cn.fromDom(n.getNode())).map(function(e){return gc(e)?Fc.remove(e.dom()):Fc.moveToElement(o)}).orThunk(function(){return A.some(Fc.moveToElement(o))})},zc=function(s,u,c){return _a.fromPosition(u,s,c).bind(function(e){return a=e.getNode(),Jr(Cn.fromDom(a))||Gr(Cn.fromDom(a))?A.none():(t=s,o=e,i=function(e){return Wr(Cn.fromDom(e))&&!ms(r,o,t)},ks(!(n=u),r=c).fold(function(){return ks(n,o).fold(b.constant(!1),i)},i)?A.none():u&&uo.isContentEditableFalse(e.getNode())?jc(s,u,c,e):!1===u&&uo.isContentEditableFalse(e.getNode(!0))?jc(s,u,c,e):u&&Ts(c)?A.some(Fc.moveToPosition(e)):!1===u&&Es(c)?A.some(Fc.moveToPosition(e)):A.none());var t,n,r,o,i,a})},qc=function(r,e,o){return i=e,a=o.getNode(!1===i),s=i?"after":"before",uo.isElement(a)&&a.getAttribute("data-mce-caret")===s?(t=e,n=o.getNode(!1===e),t&&uo.isContentEditableFalse(n.nextSibling)?A.some(Fc.moveToElement(n.nextSibling)):!1===t&&uo.isContentEditableFalse(n.previousSibling)?A.some(Fc.moveToElement(n.previousSibling)):A.none()).fold(function(){return zc(r,e,o)},A.some):zc(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return A.some(Fc.remove(e))},function(e){return A.some(Fc.moveToElement(e))},function(e){return ms(n,e,t)?A.none():A.some(Fc.moveToPosition(e))});var t,n});var t,n,i,a,s},Hc=function(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===ra.isTextPosition(n)&&o===r.parentNode&&i>ra.before(r).offset()?ra(t.container(),t.offset()-1):t;var n,r,o,i},Uc=function(e){return xi(e.previousSibling)?A.some((t=e.previousSibling,uo.isText(t)?ra(t,t.data.length):ra.after(t))):e.previousSibling?_a.lastPositionIn(e.previousSibling):A.none();var t},Wc=function(e){return xi(e.nextSibling)?A.some((t=e.nextSibling,uo.isText(t)?ra(t,0):ra.before(t))):e.nextSibling?_a.firstPositionIn(e.nextSibling):A.none();var t},Vc=function(r,o){return Uc(o).orThunk(function(){return Wc(o)}).orThunk(function(){return e=r,t=o,n=ra.before(t.previousSibling?t.previousSibling:t.parentNode),_a.prevPosition(e,n).fold(function(){return _a.nextPosition(e,ra.after(t))},A.some);var e,t,n})},Kc=function(n,r){return Wc(r).orThunk(function(){return Uc(r)}).orThunk(function(){return e=n,t=r,_a.nextPosition(e,ra.after(t)).fold(function(){return _a.prevPosition(e,ra.before(t))},A.some);var e,t})},$c=function(e,t,n){return(r=e,o=t,i=n,r?Kc(o,i):Vc(o,i)).map(b.curry(Hc,n));var r,o,i},Gc=function(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})},Yc=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Pn.name(t))},Xc=function(e){if(gc(e)){var t=Cn.fromHtml('<br data-mce-bogus="1">');return Tu.empty(e),Cu.append(e,t),A.some(ra.before(t.dom()))}return A.none()},Jc=function(t,n,e){var r,a,o,i=$c(n,t.getBody(),e.dom()),s=Hu.ancestor(e,b.curry(Yc,t),(r=t.getBody(),function(e){return e.dom()===r})),u=(a=e,o=i,Ta([Cr.prevSibling(a),Cr.nextSibling(a),o],function(e,t,n){var r,o=e.dom(),i=t.dom();return uo.isText(o)&&uo.isText(i)?(r=o.data.length,o.appendData(i.data),Tu.remove(t),Tu.remove(a),n.container()===i?ra(o,r):n):(Tu.remove(a),n)}).orThunk(function(){return Tu.remove(a),o}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):s.bind(Xc).fold(function(){Gc(t,n,u)},function(e){Gc(t,n,A.some(e))})},Zc=function(a,s){var e,t,n,r,o;return(e=a.getBody(),t=s,n=a.selection.getRng(),r=ws(t?1:-1,e,n),o=ra.fromRangeStart(r),!1===t&&Ts(o)?A.some(Fc.remove(o.getNode(!0))):t&&Es(o)?A.some(Fc.remove(o.getNode())):qc(e,t,o)).map(function(e){return e.fold((o=a,i=s,function(e){return o._selectionOverrides.hideFakeCaret(),Jc(o,i,Cn.fromDom(e)),!0}),(n=a,r=s,function(e){var t=r?ra.before(e):ra.after(e);return n.selection.setRng(t.toRange()),!0}),(t=a,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i}).getOr(!1)},Qc=function(e,t){var n,r=e.selection.getNode();return!!uo.isContentEditableFalse(r)&&(n=Cn.fromDom(e.getBody()),I.each(ja(n,".mce-offscreen-selection"),Tu.remove),Jc(e,t,Cn.fromDom(e.selection.getNode())),oc(e),!0)},el=function(e,t){return e.selection.isCollapsed()?Zc(e,t):Qc(e,t)},tl=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(uo.isContentEditableTrue(t)||uo.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return uo.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(ra.before(t).toRange())),!0},nl=uo.isText,rl=function(e){return nl(e)&&e.data[0]===ei},ol=function(e){return nl(e)&&e.data[e.data.length-1]===ei},il=function(e){return e.ownerDocument.createTextNode(ei)},al=function(e,t){return e?function(e){if(nl(e.previousSibling))return ol(e.previousSibling)||e.previousSibling.appendData(ei),e.previousSibling;if(nl(e))return rl(e)||e.insertData(0,ei),e;var t=il(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(nl(e.nextSibling))return rl(e.nextSibling)||e.nextSibling.insertData(0,ei),e.nextSibling;if(nl(e))return ol(e)||e.appendData(ei),e;var t=il(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},sl=b.curry(al,!0),ul=b.curry(al,!1),cl=function(e,t){return uo.isText(e.container())?al(t,e.container()):al(t,e.getNode())},ll=function(e,t){var n=t.get();return n&&e.container()===n&&ii(n)},fl=function(n,e){return e.fold(function(e){ha.remove(n.get());var t=sl(e);return n.set(t),A.some(ra(t,t.length-1))},function(e){return _a.firstPositionIn(e).map(function(e){if(ll(e,n))return ra(n.get(),1);ha.remove(n.get());var t=cl(e,!0);return n.set(t),ra(t,1)})},function(e){return _a.lastPositionIn(e).map(function(e){if(ll(e,n))return ra(n.get(),n.get().length-1);ha.remove(n.get());var t=cl(e,!1);return n.set(t),ra(t,t.length-1)})},function(e){ha.remove(n.get());var t=ul(e);return n.set(t),A.some(ra(t,1))})},dl=function(e){return e&&/^(IMG)$/.test(e.nodeName)},hl=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},pl=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},ml={isInlineBlock:dl,moveStart:function(e,t,n){var r,o,i,a=n.startContainer,s=n.startOffset;if((n.startContainer!==n.endContainer||!dl(n.startContainer.childNodes[n.startOffset]))&&(3===a.nodeType&&s>=a.nodeValue.length&&(s=e.nodeIndex(a),a=a.parentNode),1===a.nodeType))for(s<(i=a.childNodes).length?r=new TreeWalker(a=i[s],e.getParent(a,e.isBlock)):(r=new TreeWalker(a=i[i.length-1],e.getParent(a,e.isBlock))).next(!0),o=r.current();o;o=r.next())if(3===o.nodeType&&!hl(o))return n.setStart(o,0),void t.setRng(n)},getNonWhiteSpaceSibling:function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!hl(e))return e},isTextBlock:function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},isValid:function(e,t,n){return e.schema.isValidChild(t,n)},isWhiteSpaceNode:hl,replaceVars:function(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},isEq:function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},normalizeStyleValue:pl,getStyle:function(e,t,n){return pl(e,e.getStyle(t,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(e,t,n){return e.getParents(t,n,e.getRoot())}},gl=bu.isBookmarkNode,vl=ml.getParents,bl=ml.isWhiteSpaceNode,yl=ml.isTextBlock,_l=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},wl=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},xl=function(e,t,n,r){var o,i,a=n.nodeValue;return void 0===r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),-1===(o=(i=a.lastIndexOf("\xa0",r))<o?o:i)||t||o++):(o=a.indexOf(" ",r),i=a.indexOf("\xa0",r),o=-1!==o&&(-1===i||o<i)?o:i),o},Cl=function(e,t,n,r,o,i){var a,s,u,c;if(3===n.nodeType){if(-1!==(u=xl(o,i,n,r)))return{container:n,offset:u};c=n}for(a=new TreeWalker(n,e.getParent(n,e.isBlock)||t);s=a[o?"prev":"next"]();)if(3===s.nodeType){if(-1!==(u=xl(o,i,c=s)))return{container:s,offset:u}}else if(e.isBlock(s))break;if(c)return{container:c,offset:r=o?0:c.length}},kl=function(e,t,n,r,o){var i,a,s,u;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=vl(e,r),a=0;a<i.length;a++)for(s=0;s<t.length;s++)if(!("collapsed"in(u=t[s])&&u.collapsed!==n.collapsed)&&e.is(i[a],u.selector))return i[a];return r},Sl=function(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==a&&yl(t,e)},s)}if(o&&e[0].wrapper&&(o=vl(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!ml.isEq(o,"br")););return o||n},El=function(e,t,n,r,o,i,a){var s,u,c,l,f,d;if(s=u=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===s.nodeType&&!bl(s)&&(a?0<r:i<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(u))return u;for(c=u[l];c;c=c[l])if(!gl(c)&&!bl(c)&&("BR"!==(d=c).nodeName||!d.getAttribute("data-mce-bogus")||d.nextSibling))return u;if(u===f||u.parentNode===f){s=u;break}u=u.parentNode}return s},Tl=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset,c=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&3===(i=Di(i,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=Di(s,t.collapsed?u:u-1)).nodeType&&(u=s.nodeValue.length),i=wl(c,i),s=wl(c,s),(gl(i.parentNode)||gl(i))&&3===(i=(i=gl(i)?i:i.parentNode).nextSibling||i).nodeType&&(a=0),(gl(s.parentNode)||gl(s))&&3===(s=(s=gl(s)?s:s.parentNode).previousSibling||s).nodeType&&(u=s.length),n[0].inline&&(t.collapsed&&((o=Cl(c,e.getBody(),i,a,!0,r))&&(i=o.container,a=o.offset),(o=Cl(c,e.getBody(),s,u,!1,r))&&(s=o.container,u=o.offset)),s=r?s:function(e,t){var n=_l(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=_l(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(s,u)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=El(c,n,i,a,s,u,!0)),n[0].inline&&3===s.nodeType&&u!==s.nodeValue.length||(s=El(c,n,i,a,s,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(i=kl(c,n,t,i,"previousSibling"),s=kl(c,n,t,s,"nextSibling")),(n[0].block||n[0].selector)&&(i=Sl(e,n,i,"previousSibling"),s=Sl(e,n,s,"nextSibling"),n[0].block&&(c.isBlock(i)||(i=El(c,n,i,a,s,u,!0)),c.isBlock(s)||(s=El(c,n,i,a,s,u,!1)))),1===i.nodeType&&(a=c.nodeIndex(i),i=i.parentNode),1===s.nodeType&&(u=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:i,startOffset:a,endContainer:s,endOffset:u}},Al=ml.isEq,Rl=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Nl=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,function(e){return!!Rl(t,e,n)||e.parentNode===o||!!Bl(t,e,n,r,!0)}),Bl(t,e,n,r))},Dl=function(e,t,n){return!!Al(t,n.inline)||!!Al(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Ol=function(e,t,n,r,o,i){var a,s,u,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?e.getAttrib(t,a):ml.getStyle(e,t,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!Al(s,ml.normalizeStyleValue(e,ml.replaceVars(c[a],i),a)))return}}else for(u=0;u<c.length;u++)if("attributes"===r?e.getAttrib(t,c[u]):ml.getStyle(e,t,c[u]))return n;return n},Bl=function(e,t,n,r,o){var i,a,s,u,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Dl(e.dom,t,i)&&Ol(l,t,i,"attributes",o,r)&&Ol(l,t,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!e.dom.hasClass(t,u[s]))return;return i}},Pl={matchNode:Bl,matchName:Dl,match:function(e,t,n,r){var o;return r?Nl(e,r,t,n):(r=e.selection.getNode(),!!Nl(e,r,t,n)||!((o=e.selection.getStart())===r||!Nl(e,o,t,n)))},matchAll:function(r,o,i){var e,a=[],s={};return e=r.selection.getStart(),r.dom.getParent(e,function(e){var t,n;for(t=0;t<o.length;t++)n=o[t],!s[n]&&Bl(r,e,n,i)&&(s[n]=!0,a.push(n))},r.dom.getRoot()),a},canApply:function(e,t){var n,r,o,i,a,s=e.formatter.get(t),u=e.dom;if(s)for(n=e.selection.getStart(),r=ml.getParents(u,n),i=s.length-1;0<=i;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;0<=o;o--)if(u.is(r[o],a))return!0}return!1},matchesUnInheritedFormatSelector:Rl},Ml=function(e,t){return e.splitText(t)},Ll={split:function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&uo.isText(t)?0<n&&n<t.nodeValue.length&&(t=(r=Ml(t,n)).previousSibling,n<o?(t=r=Ml(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(uo.isText(t)&&0<n&&n<t.nodeValue.length&&(t=Ml(t,n),n=0),uo.isText(r)&&0<o&&o<r.nodeValue.length&&(o=(r=Ml(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}}},Il=ei,Fl="_mce_caret",jl=function(e){return 1===e.nodeType&&e.id===Fl},zl=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Il||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},ql=function(e){var t;if(e)for(e=(t=new TreeWalker(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},Hl=function(e){var t=Cn.fromTag("span");return $n.setAll(t,{id:Fl,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Cu.append(t,Cn.fromText(Il)),t},Ul=function(e,t){for(;t&&t!==e;){if(t.id===Fl)return t;t=t.parentNode}return null},Wl=function(e,t,n,r){var o,i,a,s;o=t.getRng(!0),i=e.getParent(n,e.isBlock),zl(n)?(!1!==r&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):((s=ql(n))&&s.nodeValue.charAt(0)===Il&&s.deleteData(0,1),a=s,o.startContainer===a&&0<o.startOffset&&o.setStart(a,o.startOffset-1),o.endContainer===a&&0<o.endOffset&&o.setEnd(a,o.endOffset-1),e.remove(n,!0)),i&&e.isEmpty(i)&&Du(Cn.fromDom(i)),t.setRng(o)},Vl=function(e,t,n,r,o){if(r)Wl(t,n,r,o);else if(!(r=Ul(e,n.getStart())))for(;r=t.get(Fl);)Wl(t,n,r,!1)},Kl=function(e,t,n){var r=e.dom,o=r.getParent(n,Li.curry(ml.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(Nu(Cn.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},$l=function(e,t){return e.appendChild(t),t},Gl=function(e,t){var n=I.foldr(e,function(e,t){return $l(e,t.cloneNode(!1))},t);return $l(n,n.ownerDocument.createTextNode(Il))},Yl={setup:function(e){var i=e.dom,a=e.selection,s=e.getBody();e.on("mouseup keydown",function(e){var t,n,r,o;t=s,n=i,r=a,o=e.keyCode,Vl(t,n,r,null,!1),8===o&&r.isCollapsed()&&r.getStart().innerHTML===Il&&Vl(t,n,r,Ul(t,r.getStart())),37!==o&&39!==o||Vl(t,n,r,Ul(t,r.getStart()))})},applyCaretFormat:function(e,t,n){var r,o,i,a,s,u,c=e.selection;a=(r=c.getRng(!0)).startOffset,u=r.startContainer.nodeValue,(o=Ul(e.getBody(),c.getStart()))&&(i=ql(o));var l,f,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;u&&0<a&&a<u.length&&d.test(u.charAt(a))&&d.test(u.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=Tl(e,r,e.formatter.get(t)),r=Ll.split(r),e.formatter.apply(t,n,r),c.moveToBookmark(s)):(o&&i.nodeValue===Il||(l=e.getDoc(),f=Hl(!0).dom(),i=(o=l.importNode(f,!0)).firstChild,r.insertNode(o),a=1),e.formatter.apply(t,n,o),c.setCursorLocation(i,a))},removeCaretFormat:function(e,t,n,r){var o,i,a,s,u,c,l,f=e.dom,d=e.selection,h=[],p=d.getRng();for(o=p.startContainer,i=p.startOffset,3===(u=o).nodeType&&(i!==o.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(Pl.matchNode(e,u,t,n,r)){c=u;break}u.nextSibling&&(s=!0),h.push(u),u=u.parentNode}if(c)if(s){a=d.getBookmark(),p.collapse(!0);var m=Tl(e,p,e.formatter.get(t),!0);m=Ll.split(m),e.formatter.remove(t,n,m),d.moveToBookmark(a)}else{l=Ul(e.getBody(),c);var g=Hl(!1).dom(),v=Gl(h,g);Kl(e,g,l||c),Wl(f,d,l,!1),d.setCursorLocation(v,1),f.isEmpty(c)&&f.remove(c)}},isCaretNode:jl,getParentCaretContainer:Ul,replaceWithCaretFormat:function(e,t){var n=Hl(!1),r=Gl(t,n.dom());return Cu.before(Cn.fromDom(e),n),Tu.remove(Cn.fromDom(e)),ra(r,0)},isFormatElement:function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Pn.name(t))&&!jl(t.dom())&&!uo.isBogus(t.dom())}},Xl=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return A.none()},Jl=Ic([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Zl=function(e,t){var n=ps(t,e);return n||e},Ql=function(e,t,n){var r=nc.normalizeForwards(n),o=Zl(t,r.container());return nc.findRootInline(e,o,r).fold(function(){return _a.nextPosition(o,r).bind(b.curry(nc.findRootInline,e,o)).map(function(e){return Jl.before(e)})},A.none)},ef=function(e,t){return null===Yl.getParentCaretContainer(e,t)},tf=function(e,t,n){return nc.findRootInline(e,t,n).filter(b.curry(ef,t))},nf=function(e,t,n){var r=nc.normalizeBackwards(n);return tf(e,t,r).bind(function(e){return _a.prevPosition(e,r).isNone()?A.some(Jl.start(e)):A.none()})},rf=function(e,t,n){var r=nc.normalizeForwards(n);return tf(e,t,r).bind(function(e){return _a.nextPosition(e,r).isNone()?A.some(Jl.end(e)):A.none()})},of=function(e,t,n){var r=nc.normalizeBackwards(n),o=Zl(t,r.container());return nc.findRootInline(e,o,r).fold(function(){return _a.prevPosition(o,r).bind(b.curry(nc.findRootInline,e,o)).map(function(e){return Jl.after(e)})},A.none)},af=function(e){return!1===nc.isRtl(uf(e))},sf=function(e,t,n){return Xl([Ql,nf,rf,of],[e,t,n]).filter(af)},uf=function(e){return e.fold(b.identity,b.identity,b.identity,b.identity)},cf=function(e){return e.fold(b.constant("before"),b.constant("start"),b.constant("end"),b.constant("after"))},lf=function(e){return e.fold(Jl.before,Jl.before,Jl.after,Jl.after)},ff=function(n,e,r,t,o,i){return Ta([nc.findRootInline(e,r,t),nc.findRootInline(e,r,o)],function(e,t){return e!==t&&nc.hasSameParentBlock(r,e,t)?Jl.after(n?e:t):i}).getOr(i)},df=function(e,r){return e.fold(b.constant(!0),function(e){return n=r,!(cf(t=e)===cf(n)&&uf(t)===uf(n));var t,n})},hf=function(e,t){return e?t.fold(b.compose(A.some,Jl.start),A.none,b.compose(A.some,Jl.after),A.none):t.fold(A.none,b.compose(A.some,Jl.before),A.none,b.compose(A.some,Jl.end))},pf=function(a,s,u,c){var e=nc.normalizePosition(a,c),l=sf(s,u,e);return sf(s,u,e).bind(b.curry(hf,a)).orThunk(function(){return t=a,n=s,r=u,o=l,e=c,i=nc.normalizePosition(t,e),_a.fromPosition(t,r,i).map(b.curry(nc.normalizePosition,t)).fold(function(){return o.map(lf)},function(e){return sf(n,r,e).map(b.curry(ff,t,n,r,i,e)).filter(b.curry(df,o))}).filter(af);var t,n,r,o,e,i})},mf=sf,gf=pf,vf=(b.curry(pf,!1),b.curry(pf,!0),lf),bf=function(e){return e.fold(Jl.start,Jl.start,Jl.end,Jl.end)},yf=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return yf(n())}}},_f=function(e){return Ln.isFunction(e.selection.getSel().modify)},wf=function(e,t,n){var r=e?1:-1;return t.setRng(ra(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},xf=function(e,t){var n=t.selection.getRng(),r=e?ra.fromRangeEnd(n):ra.fromRangeStart(n);return!!_f(t)&&(e&&ui(r)?wf(!0,t.selection,r):!(e||!ci(r))&&wf(!1,t.selection,r))},Cf=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},kf=function(e){return!1!==e.settings.inline_boundaries},Sf=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Ef=function(t,e,n){return fl(e,n).map(function(e){return Cf(t,e),n})},Tf=function(e,t,n){return function(){return!!kf(t)&&xf(e,t)}},Af={move:function(a,s,u){return function(){return!!kf(a)&&(t=a,n=s,e=u,r=t.getBody(),o=ra.fromRangeStart(t.selection.getRng()),i=b.curry(nc.isInlineTarget,t),gf(e,i,r,o).bind(function(e){return Ef(t,n,e)})).isSome();var t,n,e,r,o,i}},moveNextWord:b.curry(Tf,!0),movePrevWord:b.curry(Tf,!1),setupSelectedState:function(a){var s=new yf(null),u=b.curry(nc.isInlineTarget,a);return a.on("NodeChange",function(e){var t,n,r,o,i;kf(a)&&(t=u,n=a.dom,r=e.parents,o=I.filter(n.select('*[data-mce-selected="inline-boundary"]'),t),i=I.filter(r,t),I.each(I.difference(o,i),b.curry(Sf,!1)),I.each(I.difference(i,o),b.curry(Sf,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=ra.fromRangeStart(e.selection.getRng());ra.isTextPosition(n)&&!1===nc.isAtZwsp(n)&&(Cf(e,ha.removeAndReposition(t.get(),n)),t.set(null))}}(a,s),function(n,r,o,e){if(r.selection.isCollapsed()){var t=I.filter(e,n);I.each(t,function(e){var t=ra.fromRangeStart(r.selection.getRng());mf(n,r.getBody(),t).bind(function(e){return Ef(r,o,e)})})}}(u,a,s,e.parents))}),s},setCaretPosition:Cf},Rf=function(t,n){return function(e){return fl(n,e).map(function(e){return Af.setCaretPosition(t,e),!0}).getOr(!1)}},Nf=function(r,o,i,a){var s=r.getBody(),u=b.curry(nc.isInlineTarget,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),mf(u,s,ra.fromRangeStart(r.selection.getRng())).map(bf).map(Rf(r,o))}),r.nodeChanged()},Df=function(n,r,i,o){var e,t,a=(e=n.getBody(),t=o.container(),ps(t,e)||e),s=b.curry(nc.isInlineTarget,n),u=mf(s,a,o);return u.bind(function(e){return i?e.fold(b.constant(A.some(bf(e))),A.none,b.constant(A.some(vf(e))),A.none):e.fold(A.none,b.constant(A.some(vf(e))),A.none,b.constant(A.some(bf(e))))}).map(Rf(n,r)).getOrThunk(function(){var t=_a.navigate(i,a,o),e=t.bind(function(e){return mf(s,a,e)});return u.isSome()&&e.isSome()?nc.findRootInline(s,a,o).map(function(e){return o=e,!!Ta([_a.firstPositionIn(o),_a.lastPositionIn(o)],function(e,t){var n=nc.normalizePosition(!0,e),r=nc.normalizePosition(!1,t);return _a.nextPosition(o,n).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)&&(Jc(n,i,Cn.fromDom(e)),!0);var o}).getOr(!1):e.bind(function(e){return t.map(function(e){return i?Nf(n,r,o,e):Nf(n,r,e,o),!0})}).getOr(!1)})},Of=function(e,t,n){if(e.selection.isCollapsed()&&!1!==e.settings.inline_boundaries){var r=ra.fromRangeStart(e.selection.getRng());return Df(e,t,n,r)}return!1},Bf=or.immutable("start","end"),Pf=or.immutable("rng","table","cells"),Mf=Ic([{removeTable:["element"]},{emptyCells:["cells"]}]),Lf=function(e,t){return cc(Cn.fromDom(e),"td,th",t)},If=function(e,t){return sc(e,"table",t)},Ff=function(e){return!1===mr.eq(e.start(),e.end())},jf=function(n,e){return(r=n,o=e,If(r.start(),o).bind(function(t){return If(r.end(),o).bind(function(e){return mr.eq(t,e)?A.some(t):A.none()})})).bind(function(e){var t=ja(e,"td,th");return Pf(n,e,t)});var r,o},zf=function(e,t){var n,r,o=b.curry(mr.eq,e);return(n=t,r=o,Ta([Lf(n.startContainer,r),Lf(n.endContainer,r)],Bf).filter(Ff)).map(function(e){return jf(e,o)})},qf=function(e,t){return I.findIndex(e,function(e){return mr.eq(e,t)})},Hf=function(n){return(r=n,Ta([qf(r.cells(),r.rng().start()),qf(r.cells(),r.rng().end())],function(e,t){return r.cells().slice(e,t+1)})).bind(function(e){var t=n.cells();return e.length===t.length?Mf.removeTable(n.table()):Mf.emptyCells(e)});var r},Uf=function(e,t){return zf(e,t).map(Hf)},Wf=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Vf=Wf,Kf=function(e){return I.bind(e,function(e){var t=Ni(e);return t?[Cn.fromDom(t)]:[]})},$f=function(e){return 1<Wf(e).length},Gf=function(e){return I.filter(Kf(e),Jr)},Yf=function(e){return ja(e,"td[data-mce-selected],th[data-mce-selected]")},Xf=function(e,t){var n=Yf(t),r=Gf(e);return 0<n.length?n:r},Jf=Xf,Zf=function(e){return Xf(Vf(e.selection.getSel()),Cn.fromDom(e.getBody()))},Qf=function(e,t){return I.each(t,Du),e.selection.setCursorLocation(t[0].dom(),0),!0},ed=function(e,t){return Jc(e,!1,t),!0},td=function(n,e,r,t){return rd(e,t).fold(function(){return t=n,Uf(e,r).map(function(e){return e.fold(b.curry(ed,t),b.curry(Qf,t))});var t},function(e){return od(n,e)}).getOr(!1)},nd=function(e,t){return I.find(Sc(t,e),Jr)},rd=function(e,t){return I.find(Sc(t,e),function(e){return"caption"===Pn.name(e)})},od=function(e,t){return Du(t),e.selection.setCursorLocation(t.dom(),0),A.some(!0)},id=function(s,u,c,l,f){return _a.navigate(c,s.getBody(),f).bind(function(e){return r=l,o=c,i=f,a=e,_a.firstPositionIn(r.dom()).bind(function(t){return _a.lastPositionIn(r.dom()).map(function(e){return o?i.isEqual(t)&&a.isEqual(e):i.isEqual(e)&&a.isEqual(t)})}).getOr(!0)?od(s,l):(t=l,n=e,rd(u,Cn.fromDom(n.getNode())).map(function(e){return!1===mr.eq(e,t)}));var t,n,r,o,i,a}).or(A.some(!0))},ad=function(a,s,u,e){var c=ra.fromRangeStart(a.selection.getRng());return nd(u,e).bind(function(e){return gc(e)?od(a,e):(t=a,n=u,r=s,o=e,i=c,_a.navigate(r,t.getBody(),i).bind(function(e){return nd(n,Cn.fromDom(e.getNode())).map(function(e){return!1===mr.eq(e,o)})}));var t,n,r,o,i})},sd=function(a,s,e){var u=Cn.fromDom(a.getBody());return rd(u,e).fold(function(){return ad(a,s,u,e)},function(e){return t=a,n=s,r=u,o=e,i=ra.fromRangeStart(t.selection.getRng()),gc(o)?od(t,o):id(t,r,n,o,i);var t,n,r,o,i}).getOr(!1)},ud=function(e,t){var n,r,o,i,a,s=Cn.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?sd(e,t,s):(n=e,r=s,o=Cn.fromDom(n.getBody()),i=n.selection.getRng(),0!==(a=Zf(n)).length?Qf(n,a):td(n,o,i,r))},cd=function(e,t){e.getDoc().execCommand(t,!1,null)},ld={deleteCommand:function(e){el(e,!1)||Of(e,!1)||Oc(e,!1)||ud(e)||Lc(e,!1)||(cd(e,"Delete"),oc(e))},forwardDeleteCommand:function(e){el(e,!0)||Of(e,!0)||Oc(e,!0)||ud(e)||Lc(e,!0)||cd(e,"ForwardDelete")}},fd={isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}},dd=or.immutable("container","offset"),hd=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},pd=function(e,t,n){return hd(e,t,function(e){return e.nodeName===n})},md=function(e){return e&&"TABLE"===e.nodeName},gd=function(e,t,n){for(var r=new TreeWalker(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(uo.isBr(t))return!0},vd=function(e,t,n,r,o){var i,a,s,u,c,l,f=e.getRoot(),d=e.schema.getNonEmptyElements();if(s=e.getParent(o.parentNode,e.isBlock)||f,r&&uo.isBr(o)&&t&&e.isEmpty(s))return A.some(dd(o.parentNode,e.nodeIndex(o)));for(i=new TreeWalker(o,s);u=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(u)||(l=f,ai(c=u)&&!1===hd(c,l,Yl.isCaretNode)))return A.none();if(uo.isText(u)&&0<u.nodeValue.length)return!1===pd(u,f,"A")?A.some(dd(u,r?u.nodeValue.length:0)):A.none();if(e.isBlock(u)||d[u.nodeName.toLowerCase()])return A.none();a=u}return n&&a?A.some(dd(a,0)):A.none()},bd=function(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p=e.getRoot(),m=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=uo.isElement(o)&&i===o.childNodes.length,u=e.schema.getNonEmptyElements(),c=n,ai(o))return A.none();if(uo.isElement(o)&&i>o.childNodes.length-1&&(c=!1),uo.isDocument(o)&&(o=p,i=0),o===p){if(c&&(s=o.childNodes[0<i?i-1:0])){if(ai(s))return A.none();if(u[s.nodeName]||md(s))return A.none()}if(o.hasChildNodes()){if(i=Math.min(!c&&0<i?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=uo.isText(o)&&l?o.data.length:0,!t&&o===p.lastChild&&md(o))return A.none();if(function(e,t){for(;t&&t!==e;){if(uo.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(p,o)||ai(o))return A.none();if(o.hasChildNodes()&&!1===md(o)){a=new TreeWalker(s=o,p);do{if(uo.isContentEditableFalse(s)||ai(s)){m=!1;break}if(uo.isText(s)&&0<s.nodeValue.length){i=c?0:s.nodeValue.length,o=s,m=!0;break}if(u[s.nodeName.toLowerCase()]&&(!(f=s)||!/^(TD|TH|CAPTION)$/.test(f.nodeName))){i=e.nodeIndex(s),o=s.parentNode,"IMG"!==s.nodeName&&"PRE"!==s.nodeName||c||i++,m=!0;break}}while(s=c?a.next():a.prev())}}}return t&&(uo.isText(o)&&0===i&&vd(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),m=!0}),uo.isElement(o)&&((s=o.childNodes[i])||(s=o.childNodes[i-1]),!s||!uo.isBr(s)||(h="A",(d=s).previousSibling&&d.previousSibling.nodeName===h)||gd(e,s,!1)||gd(e,s,!0)||vd(e,l,t,!0,s).each(function(e){o=e.container(),i=e.offset(),m=!0}))),c&&!t&&uo.isText(o)&&i===o.nodeValue.length&&vd(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),m=!0}),m?A.some(dd(o,i)):A.none()},yd={normalize:function(e,t){var n=t.collapsed,r=t.cloneRange();return bd(e,n,!0,r).each(function(e){r.setStart(e.container(),e.offset())}),n||bd(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),fd.isEq(t,r)?A.none():A.some(r)}},_d=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},wd=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},xd=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();yd.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=t&&t.ctrlKey;"LI"!==d||h||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(e,t,n){for(var r,o=new TreeWalker(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),_d(i,o,n),wd(i,o,n,r),e.undoManager.add()},Cd=function(e,t){var n=Cn.fromTag("br");Cu.before(Cn.fromDom(t),n),e.undoManager.add()},kd=function(e,t){Sd(e.getBody(),t)||Cu.after(Cn.fromDom(t),Cn.fromTag("br"));var n=Cn.fromTag("br");Cu.after(Cn.fromDom(t),n),_d(e.dom,e.selection,n.dom()),wd(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Sd=function(e,t){return n=ra.after(t),!!uo.isBr(n.getNode())||_a.nextPosition(e,ra.after(t)).map(function(e){return uo.isBr(e.getNode())}).getOr(!1);var n},Ed=function(e){return e&&"A"===e.nodeName&&"href"in e},Td=function(e){return e.fold(b.constant(!1),Ed,Ed,b.constant(!1))},Ad=function(e,t){t.fold(b.noop,b.curry(Cd,e),b.curry(kd,e),b.noop)},Rd={insert:function(e,t){var n,r,o,i=(n=e,r=b.curry(nc.isInlineTarget,n),o=ra.fromRangeStart(n.selection.getRng()),mf(r,n.getBody(),o).filter(Td));i.isSome()?i.each(b.curry(Ad,e)):xd(e,t)}},Nd=Ic([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dd=(Nd.before,Nd.on,Nd.after,function(e){return e.fold(b.identity,b.identity,b.identity)}),Od=Ic([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Bd=or.immutable("start","soffset","finish","foffset"),Pd={domRange:Od.domRange,relative:Od.relative,exact:Od.exact,exactFromRange:function(e){return Od.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:Bd,getWin:function(e){var t=e.match({domRange:function(e){return Cn.fromDom(e.startContainer)},relative:function(e,t){return Dd(e)},exact:function(e,t,n,r){return e}});return Cr.defaultView(t)}},Md=wn.detect().browser,Ld=function(e,t){var n=Pn.isText(t)?Ru(t).length:Cr.children(t).length+1;return n<e?n:e<0?0:e},Id=function(e){return Pd.range(e.start(),Ld(e.soffset(),e.start()),e.finish(),Ld(e.foffset(),e.finish()))},Fd=function(e,t){return mr.contains(e,t)||mr.eq(e,t)},jd=function(t){return function(e){return Fd(t,e.start())&&Fd(t,e.finish())}},zd=function(e){return!0===e.inline||Md.isIE()},qd=function(e){return Pd.range(Cn.fromDom(e.startContainer),e.startOffset,Cn.fromDom(e.endContainer),e.endOffset)},Hd=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?A.from(t.getRangeAt(0)):A.none()).map(qd)},Ud=function(e){var t=Cr.defaultView(e);return Hd(t.dom()).filter(jd(e))},Wd=function(e,t){return A.from(t).filter(jd(e)).map(Id)},Vd=function(e){var t=document.createRange();return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),A.some(t)},Kd=function(e){return(e.bookmark?e.bookmark:A.none()).bind(b.curry(Wd,Cn.fromDom(e.getBody()))).bind(Vd)},$d={store:function(e){var t=zd(e)?Ud(Cn.fromDom(e.getBody())):A.none();e.bookmark=t.isSome()?t:e.bookmark},storeNative:function(e,t){var n=Cn.fromDom(e.getBody()),r=(zd(e)?A.from(t):A.none()).map(qd).filter(jd(n));e.bookmark=r.isSome()?r:e.bookmark},readRange:Hd,restore:function(t){Kd(t).each(function(e){t.selection.setRng(e)})},getRng:Kd,getBookmark:Ud,validate:Wd},Gd=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],s=parseInt(n.indentation,10),u=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),I.each(o.getSelectedBlocks(),function(e){return function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)&&"LI"!==i.nodeName){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var s=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,s?s+o:"")}else s=parseInt(i.style[a]||0,10)+r+o,e.setStyle(i,a,s)}}(r,t,u,s,a,e)}))},Yd=bt.each,Xd=bt.extend,Jd=bt.map,Zd=bt.inArray,Qd=bt.explode,eh=!0,th=!1;function EditorCommands(s){var o,i,a,t,u={state:{},exec:{},value:{}},c=s.settings;s.on("PreInit",function(){o=s.dom,i=s.selection,c=s.settings,a=s.formatter});var n=function(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=u.state[e])return t(e);try{return s.getDoc().queryCommandState(e)}catch(e){}return!1}},e=function(e,n){n=n||"exec",Yd(e,function(t,e){Yd(e.toLowerCase().split(","),function(e){u[n][e]=t})})};Xd(this,{execCommand:function(t,n,r,e){var o,i,a=!1;if(!s.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?$d.restore(s):s.focus(),(e=s.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(i=t.toLowerCase(),o=u.exec[i])return o(i,n,r),s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Yd(s.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),a=!0,!1}),a)return a;if(s.theme&&s.theme.execCommand&&s.theme.execCommand(t,n,r))return s.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=s.getDoc().execCommand(t,n,r)}catch(e){}return!!a&&(s.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},queryCommandState:n,queryCommandValue:function(e){var t;if(!s.quirks.isHidden()&&!s.removed){if(e=e.toLowerCase(),t=u.value[e])return t(e);try{return s.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),u.exec[e])return!0;try{return s.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,o,i){e=e.toLowerCase(),u.exec[e]=function(e,t,n,r){return o.call(i||s,t,n,r)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),u.state[e]=function(){return t.call(n||s)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),u.value[e]=function(){return t.call(n||s)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!u.exec[e]}});var l=function(e,t,n){return void 0===t&&(t=th),void 0===n&&(n=null),s.getDoc().execCommand(e,t,n)},r=function(e){return a.match(e)},f=function(e,t){a.toggle(e,t?{value:t}:void 0),s.nodeChanged()},d=function(e){t=i.getBookmark(e)},h=function(){i.moveToBookmark(t)};e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=s.getDoc();try{l(e)}catch(e){t=eh}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var r=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");de.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),s.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(i.isCollapsed()){var e=s.dom.getParent(s.selection.getStart(),"a");e&&s.dom.remove(e,!0)}else a.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Yd("left,center,right,justify".split(","),function(e){t!==e&&a.remove("align"+e)}),"none"!==t&&f("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;l(e),(t=o.getParent(i.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(d(),o.split(n,t),h()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){f(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){f(e,n)},FontSize:function(e,t,n){var r,o;1<=n&&n<=7&&(o=Qd(c.font_size_style_values),n=(r=Qd(c.font_size_classes))?r[n-1]||n:o[n-1]||n),f(e,n)},RemoveFormat:function(e){a.remove(e)},mceBlockQuote:function(){f("blockquote")},FormatBlock:function(e,t,n){return f(n||"p")},mceCleanup:function(){var e=i.getBookmark();s.setContent(s.getContent({cleanup:eh}),{cleanup:eh}),i.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||i.getNode();r!==s.getBody()&&(d(),s.dom.remove(r,eh),h())},mceSelectNodeDepth:function(e,t,n){var r=0;o.getParent(i.getNode(),function(e){if(1===e.nodeType&&r++===n)return i.select(e),th},s.getBody())},mceSelectNode:function(e,t,n){i.select(n)},mceInsertContent:function(e,t,n){Fu.insertAtCaret(s,n)},mceInsertRawHTML:function(e,t,n){i.setContent("tiny_mce_marker"),s.setContent(s.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){f(n)},mceSetContent:function(e,t,n){s.setContent(n)},"Indent,Outdent":function(e){Gd(s,e)},mceRepaint:function(){},InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(e,t,n){s.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,i.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=o.getParent(i.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||a.remove("link"),n.href&&a.apply("link",n,r)},selectAll:function(){var e=o.getParent(i.getStart(),uo.isContentEditableTrue);if(e){var t=o.createRng();t.selectNodeContents(e),i.setRng(t)}},delete:function(){ld.deleteCommand(s)},forwardDelete:function(){ld.forwardDeleteCommand(s)},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(e,t,n){return Rd.insert(s,n),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=i.isCollapsed()?[o.getParent(i.getNode(),o.isBlock)]:i.getSelectedBlocks(),r=Jd(n,function(e){return!!a.matchNode(e,t)});return-1!==Zd(r,eh)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return r(e)},mceBlockQuote:function(){return r("blockquote")},Outdent:function(){var e;if(c.inline_styles){if((e=o.getParent(i.getStart(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return eh;if((e=o.getParent(i.getEnd(),o.isBlock))&&0<parseInt(e.style.paddingLeft,10))return eh}return n("InsertUnorderedList")||n("InsertOrderedList")||!c.inline_styles&&!!o.getParent(i.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=o.getParent(i.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return(t=o.getParent(i.getNode(),"span"))&&(n="fontsize"===e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),e({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}})}var nh=bt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),rh=function(a){var s,u,c=this,l={},f=function(){return!1},d=function(){return!0};s=(a=a||{}).scope||c,u=a.toggleEvent||f;var r=function(e,t,n,r){var o,i,a;if(!1===t&&(t=f),t)for(t={func:t},r&&bt.extend(t,r),a=(i=e.toLowerCase().split(" ")).length;a--;)e=i[a],(o=l[e])||(o=l[e]=[],u(e,!0)),n?o.unshift(t):o.push(t);return c},h=function(e,t){var n,r,o,i,a;if(e)for(n=(i=e.toLowerCase().split(" ")).length;n--;){if(e=i[n],r=l[e],!e){for(o in l)u(o,!1),delete l[o];return c}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),l[e]=r);else r.length=0;r.length||(u(e,!1),delete l[e])}}else{for(e in l)u(e,!1);l={}}return c};c.fire=function(e,t){var n,r,o,i;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=s),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=d},t.stopPropagation=function(){t.isPropagationStopped=d},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=d},t.isDefaultPrevented=f,t.isPropagationStopped=f,t.isImmediatePropagationStopped=f),a.beforeFire&&a.beforeFire(t),n=l[e])for(r=0,o=n.length;r<o;r++){if((i=n[r]).once&&h(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(s,t))return t.preventDefault(),t}return t},c.on=r,c.off=h,c.once=function(e,t,n){return r(e,t,n,{once:!0})},c.has=function(e){return e=e.toLowerCase(),!(!l[e]||0===l[e].length)}};rh.isNative=function(e){return!!nh[e.toLowerCase()]};var oh,ih=function(n){return n._eventDispatcher||(n._eventDispatcher=new rh({scope:n,toggleEvent:function(e,t){rh.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher},ah={fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=ih(this).fire(e,t,n),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},on:function(e,t,n){return ih(this).on(e,t,n)},off:function(e,t){return ih(this).off(e,t)},once:function(e,t){return ih(this).once(e,t)},hasEventListeners:function(e){return ih(this).has(e)}},sh=Uo.DOM,uh=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=sh.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},ch=function(i,a){var e,t,s=function(e){return!e.hidden&&!e.readonly};if(i.delegates||(i.delegates={}),!i.delegates[a]&&!i.removed)if(e=uh(i,a),i.settings.event_root){if(oh||(oh={},i.editorManager.on("removeEditor",function(){var e;if(!i.editorManager.activeEditor&&oh){for(e in oh)i.dom.unbind(uh(i,e));oh=null}})),oh[a])return;t=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();(o===t||sh.isChildOf(t,o))&&s(n[r])&&n[r].fire(a,e)}},oh[a]=t,sh.bind(e,a,t)}else t=function(e){s(i)&&i.fire(a,e)},sh.bind(e,a,t),i.delegates[a]=t},lh={bindPendingEventDelegates:function(){var t=this;bt.each(t._pendingNativeEvents,function(e){ch(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?ch(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(uh(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(uh(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}},fh=lh=bt.extend({},ah,lh),dh=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},hh=function(e,t){var n,r,o;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(r=(n=e).getBody(),o=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(r,"click",o),{unbind:function(){n.dom.unbind(r,"click",o)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,dh(e,"StyleWithCSS",!1),dh(e,"enableInlineTableEditing",!1),dh(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},ph=function(e,t){var n=e.readonly?"readonly":"design";t!==n&&(e.initialized?hh(e,"readonly"===t):e.on("init",function(){hh(e,"readonly"===t)}),e.fire("SwitchMode",{mode:t}))},mh=bt.each,gh=bt.explode,vh={f9:120,f10:121,f11:122},bh=bt.makeMap("alt,ctrl,shift,meta,access");function Shortcuts(i){var a={},r=[],s=function(e){var t,n,r={};for(n in mh(gh(e,"+"),function(e){e in bh?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=vh[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],bh)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,de.mac?r.ctrl=!0:r.shift=!0),r.meta&&(de.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},u=function(e,t,n,r){var o;return(o=bt.map(gh(e,">"),s))[o.length-1]=bt.extend(o[o.length-1],{func:n,scope:r||i}),bt.extend(o[0],{desc:i.translate(t),subpatterns:o.slice(1)})},o=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},c=function(e){return e.func?e.func.call(e.scope):null};i.on("keyup keypress keydown",function(t){var e,n;((n=t).altKey||n.ctrlKey||n.metaKey||"keydown"===(e=t).type&&112<=e.keyCode&&e.keyCode<=123)&&!t.isDefaultPrevented()&&(mh(a,function(e){if(o(t,e))return r=e.subpatterns.slice(0),"keydown"===t.type&&c(e),!0}),o(t,r[0])&&(1===r.length&&"keydown"===t.type&&c(r[0]),r.shift()))}),this.add=function(e,n,r,o){var t;return"string"==typeof(t=r)?r=function(){i.execCommand(t,!1,null)}:bt.isArray(t)&&(r=function(){i.execCommand(t[0],t[1],t[2])}),mh(gh(bt.trim(e.toLowerCase())),function(e){var t=u(e,n,r,o);a[t.id]=t}),!0},this.remove=function(e){var t=u(e);return!!a[t.id]&&(delete a[t.id],!0)}}var yh=function(e){var t=void 0!==e?e.dom():document;return A.from(t.activeElement).map(Cn.fromDom)},_h=function(e){var t=Cr.owner(e).dom();return e.dom()===t.activeElement},wh=function(t){return yh(Cr.owner(t)).filter(function(e){return t.dom().contains(e.dom())})},xh=function(t,e){return(n=e,n.collapsed?A.from(Di(n.startContainer,n.startOffset)).map(Cn.fromDom):A.none()).bind(function(e){return Xr(e)?A.some(e):!1===mr.contains(t,e)?A.some(t):A.none()});var n},Ch=function(t,e){xh(Cn.fromDom(t.getBody()),e).bind(function(e){return _a.firstPositionIn(e.dom())}).fold(function(){return t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},kh=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Sh=function(e){var t,n=e.getBody();return n&&(t=Cn.fromDom(n),_h(t)||wh(t).isSome())},Eh=function(e){return e.inline?Sh(e):(t=e).iframeElement&&_h(Cn.fromDom(t.iframeElement));var t},Th=function(e){e.editorManager.setActive(e)},Ah=function(e,t){e.removed||(t?Th(e):function(t){var e,n,r,o=t.selection,i=t.settings.content_editable,a=t.getBody(),s=o.getRng();if(t.quirks.refreshContentEditable(),n=t,r=o.getNode(),e=n.dom.getParent(r,function(e){return"true"===n.dom.getContentEditable(e)}),t.$.contains(a,e))return kh(e),Ch(t,s),Th(t);void 0!==t.bookmark&&!1===Eh(t)&&$d.getRng(t).each(function(e){t.selection.setRng(e),s=e}),i||(de.opera||kh(a),t.getWin().focus()),(de.gecko||i)&&(kh(a),Ch(t,s)),Th(t)}(e))},Rh=Eh,Nh=function(e,t){return t.dom()[e]},Dh=function(e,t){return parseInt(tr(t,e),10)},Oh=b.curry(Nh,"clientWidth"),Bh=b.curry(Nh,"clientHeight"),Ph=b.curry(Dh,"margin-top"),Mh=b.curry(Dh,"margin-left"),Lh={isXYInContentArea:function(e,t,n){var r,o,i,a,s,u,c,l,f,d,h=Cn.fromDom(e.getBody()),p=e.inline?h:Cr.documentElement(h),m=(r=e.inline,i=t,a=n,s=(o=p).dom().getBoundingClientRect(),{x:i-(r?s.left+o.dom().clientLeft+Mh(o):0),y:a-(r?s.top+o.dom().clientTop+Ph(o):0)});return c=m.x,l=m.y,f=Oh(u=p),d=Bh(u),0<=c&&0<=l&&c<=f&&l<=d},isEditorAttachedToDom:function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return(t=n,A.from(t).map(Cn.fromDom)).map(function(e){return mr.contains(Cr.owner(e),e)}).getOr(!1)}};function NotificationManager(n){var t,o=[],i=function(){var e=n.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():function NotificationManagerImpl(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}()},a=function(){0<o.length&&i().reposition(o)},s=function(t){I.findIndex(o,function(e){return e===t}).each(function(e){o.splice(e,1)})},r=function(r){if(!n.removed&&Lh.isEditorAttachedToDom(n))return I.find(o,function(e){return t=i().getArgs(e),n=r,!(t.type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t,n}).getOrThunk(function(){n.editorManager.setActive(n);var e,t=i().open(r,function(){s(t),a()});return e=t,o.push(e),a(),t})};return(t=n).on("SkinLoaded",function(){var e=t.settings.service_message;e&&r({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){ve.requestAnimationFrame(a)}),t.on("remove",function(){I.each(o,function(e){i().close(e)})}),{open:r,close:function(){A.from(o[0]).each(function(e){i().close(e),s(e),a()})},getNotifications:function(){return o}}}function WindowManager(r){var o=[],i=function(){var e=r.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():function WindowManagerImpl(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}()},a=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},s=function(e){var t;o.push(e),t=e,r.fire("OpenWindow",{win:t})},u=function(n){I.findIndex(o,function(e){return e===n}).each(function(e){var t;o.splice(e,1),t=n,r.fire("CloseWindow",{win:t}),0===o.length&&r.focus()})},e=function(){return A.from(o[o.length-1])};return r.on("remove",function(){I.each(o.slice(0),function(e){i().close(e)})}),{windows:o,open:function(e,t){r.editorManager.setActive(r),$d.store(r);var n=i().open(e,t,u);return s(n),n},alert:function(e,t,n){var r=i().alert(e,a(n||this,t),u);s(r)},confirm:function(e,t,n){var r=i().confirm(e,a(n||this,t),u);s(r)},close:function(){e().each(function(e){i().close(e),u(e)})},getParams:function(){return e().map(i().getParams).getOr(null)},setParams:function(t){e().each(function(e){i().setParams(e,t)})},getWindows:function(){return o}}}var Ih=Xo.PluginManager,Fh=function(e,t){var n=function(e,t){for(var n in Ih.urls)if(Ih.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},jh=function(e,t){e.notificationManager.open({type:"error",text:t})},zh=function(e,t){e._skinLoaded?jh(e,t):e.on("SkinLoaded",function(){jh(e,t)})},qh={pluginLoadError:function(e,t){zh(e,Fh(e,t))},uploadError:function(e,t){zh(e,"Failed to upload image: "+t)},displayError:zh,initError:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))}},Hh=Xo.PluginManager,Uh=Xo.ThemeManager;function XMLHttpRequest(){return new(q.getOrDie("XMLHttpRequest"))}function Uploader(s,u){var r={},n=function(e,r,o,t){var i,n;(i=new XMLHttpRequest).open("POST",u.url),i.withCredentials=u.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e,t,n;i.status<200||300<=i.status?o("HTTP Error: "+i.status):(e=JSON.parse(i.responseText))&&"string"==typeof e.location?r((t=u.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):o("Invalid JSON: "+i.responseText)},(n=new FormData).append("file",e.blob(),e.filename()),i.send(n)},c=function(e,t){return{url:t,blobInfo:e,status:!0}},l=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},f=function(e,t){bt.each(r[e],function(e){e(t)}),delete r[e]},o=function(e,n){return e=bt.grep(e,function(e){return!s.isUploaded(e.blobUri())}),he.all(bt.map(e,function(e){return s.isPending(e.blobUri())?(t=e.blobUri(),new he(function(e){r[t]=r[t]||[],r[t].push(e)})):(o=e,i=u.handler,a=n,s.markPending(o.blobUri()),new he(function(t){var n;try{var r=function(){n&&n.close()};i(o,function(e){r(),s.markUploaded(o.blobUri(),e),f(o.blobUri(),c(o,e)),t(c(o,e))},function(e){r(),s.removeFailed(o.blobUri()),f(o.blobUri(),l(o,e)),t(l(o,e))},function(e){e<0||100<e||(n||(n=a()),n.progressBar.value(e))})}catch(e){t(l(o,e.message))}}));var o,i,a,t}))};return u=bt.extend({credentials:!1,handler:n},u),{upload:function(e,t){return u.url||u.handler!==n?o(e,t):new he(function(e){e([])})}}}function Blob(e,t){return new(q.getOrDie("Blob"))(e,t)}var Wh=function(e){return q.getOrDie("atob")(e)},Vh=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},Kh=function(o){return new he(function(t){var e,n,r;o=Vh(o);try{e=Wh(o.data)}catch(e){return void t(new Blob([]))}for(n=new function Uint8Array(e){return new(q.getOrDie("Uint8Array"))(e)}(e.length),r=0;r<n.length;r++)n[r]=e.charCodeAt(r);t(new Blob([n],{type:o.type}))})},$h=function(e){return 0===e.indexOf("blob:")?(o=e,new he(function(e,t){var n=function(){t("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf("data:")?Kh(e):null;var o},Gh=function(n){return new he(function(e){var t=new function FileReader(){return new(q.getOrDie("FileReader"))};t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})},Yh=Vh,Xh=0,Jh=function(e){return(e||"blobid")+Xh++},Zh=function(n,r,o,t){var i,a;0!==r.src.indexOf("blob:")?(i=Yh(r.src).data,(a=n.findFirst(function(e){return e.base64()===i}))?o({image:r,blobInfo:a}):$h(r.src).then(function(e){a=n.create(Jh(),e,i),n.add(a),o({image:r,blobInfo:a})},function(e){t(e)})):(a=n.getByUri(r.src))?o({image:r,blobInfo:a}):$h(r.src).then(function(t){Gh(t).then(function(e){i=Yh(e).data,a=n.create(Jh(),t,i),n.add(a),o({image:r,blobInfo:a})})},function(e){t(e)})},Qh=function(e){return e?e.getElementsByTagName("img"):[]},ep=0,tp={uuid:function(e){return e+ep+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}};function EditorUpload(o){var t,e,i=function BlobCache(){var n=[],o=Li.constant,i=function(e){var t,n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||tp.uuid("blobid"),n=e.name||t,{id:o(t),name:o(n),filename:o(n+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:o(e.blob),base64:o(e.base64),blobUri:o(e.blobUri||U.createObjectURL(e.blob)),uri:o(e.uri)}},t=function(t){return e(function(e){return e.id()===t})},e=function(e){return ht.filter(n,e)[0]};return{create:function(e,t,n,r){return i("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()===t})},findFirst:e,removeByUri:function(t){n=ht.filter(n,function(e){return e.blobUri()!==t||(U.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){ht.each(n,function(e){U.revokeObjectURL(e.blobUri())}),n=[]}}}(),r=o.settings,a=function UploadStatus(){var n={},r=function(e,t){return{status:e,resultUri:t}},t=function(e){return e in n};return{hasBlobUri:t,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===n[e].status},isUploaded:function(e){return!!t(e)&&2===n[e].status},markPending:function(e){n[e]=r(1,null)},markUploaded:function(e,t){n[e]=r(2,t)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}}(),s=function(t){return function(e){return o.selection?t(e):[]}},u=function(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e},c=function(e,t,n){return e=u(e,'src="'+t+'"','src="'+n+'"'),e=u(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},n=function(t,n){ht.each(o.undoManager.data,function(e){"fragmented"===e.type?e.fragments=ht.map(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},l=function(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},f=function(e,t){i.removeByUri(e.src),n(e.src,t),o.$(e).attr({src:r.images_reuse_filename?t+"?"+(new Date).getTime():t,"data-mce-src":o.convertURL(t,"src")})},d=function(n){return t||(t=Uploader(a,{url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})),m().then(s(function(r){var e;return e=ht.map(r,function(e){return e.blobInfo}),t.upload(e,l).then(s(function(e){var t=ht.map(e,function(e,t){var n=r[t].image;return e.status&&!1!==o.settings.images_replace_blob_uris?f(n,e.url):e.error&&qh.uploadError(o,e.error),{element:n,status:e.status}});return n&&n(t),t}))}))},h=function(e){if(!1!==r.automatic_uploads)return d(e)},p=function(e){return!r.images_dataimg_filter||r.images_dataimg_filter(e)},m=function(){return e||(e=function ImageScanner(o,i){var a={};return{findAll:function(e,n){var t,r;return n||(n=Li.constant(!0)),t=ht.filter(Qh(e),function(e){var t=e.src;return!!de.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===de.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&n(e))}),r=ht.map(t,function(n){var e;return a[n.src]?new he(function(t){a[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo})})}):(e=new he(function(e,t){Zh(i,n,e,t)}).then(function(e){return delete a[e.image.src],e}).catch(function(e){return delete a[n.src],e}),a[n.src]=e)}),he.all(r)}}}(a,i)),e.findAll(o.getBody(),p).then(s(function(e){return e=ht.filter(e,function(e){return"string"!=typeof e||(qh.displayError(o,e),!1)}),ht.each(e,function(e){n(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))},g=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=a.getResultUri(n);if(t)return'src="'+t+'"';var r=i.getByUri(n);return r||(r=ht.reduce(o.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})};return o.on("setContent",function(){!1!==o.settings.automatic_uploads?h():m()}),o.on("RawSaveContent",function(e){e.content=g(e.content)}),o.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=g(e.content))}),o.on("PostRender",function(){o.parser.addNodeFilter("img",function(e){ht.each(e,function(e){var t=e.attr("src");if(!i.getByUri(t)){var n=a.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:i,uploadImages:d,uploadImagesAuto:h,scanForImages:m,destroy:function(){i.destroy(),a.destroy(),e=t=null}}}var np=function(e,t){return e.hasOwnProperty(t.nodeName)},rp=function(e,t){if(uo.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||np(e,t.nextSibling)))return!0}return!1},op=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,h=e.dom,p=e.selection,m=e.schema,g=m.getBlockElements(),v=p.getStart(),b=e.getBody();if(f=d.forced_root_block,v&&uo.isElement(v)&&f&&(l=b.nodeName.toLowerCase(),m.isValidChild(l,f.toLowerCase())&&(y=g,_=b,w=v,!I.exists(kc(Cn.fromDom(w),Cn.fromDom(_)),function(e){return np(y,e.dom())})))){var y,_,w,x,C;for(n=(t=p.getRng()).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,c=Rh(e),v=b.firstChild;v;)if(x=g,C=v,uo.isText(C)||uo.isElement(C)&&!np(x,C)&&!bu.isBookmarkNode(C)){if(rp(g,v)){v=(s=v).nextSibling,h.remove(s);continue}a||(a=h.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),u=!0),v=(s=v).nextSibling,a.appendChild(s)}else a=null,v=v.nextSibling;u&&c&&(t.setStart(n,r),t.setEnd(o,i),p.setRng(t),e.nodeChanged())}},ip=function(e){e.settings.forced_root_block&&e.on("NodeChange",b.curry(op,e))};function NodeChange(i){var r,o=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=i.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!==e.type&&fd.isEq(n,r)||i.fire("SelectionChange"),r=n}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);!e||!de.range&&i.selection.isCollapsed()||!function(e){var t,n;if((n=i.$(e).parentsUntil(i.getBody()).add(e)).length===o.length){for(t=n.length;0<=t&&n[t]===o[t];t--);if(-1===t)return o=n,!0}return o=n,!1}(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"===i.selection.getNode().nodeName?ve.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),(t=o.getStart(!0)||r).ownerDocument===i.getDoc()&&i.dom.isChildOf(t,r)||(t=r),n=[],i.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,i.fire("NodeChange",e))}}var ap,sp,up=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},cp=function(e,t){return n=(s=e).inline?up(s.getBody()):{left:0,top:0},a=(i=e).getBody(),r=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(o=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=up(e.getContentAreaContainer()),r=(i=(o=e).getBody(),a=o.getDoc().documentElement,s={left:i.scrollLeft,top:i.scrollTop},u={left:i.scrollLeft||a.scrollLeft,top:i.scrollTop||a.scrollTop},o.inline?s:u);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}var o,i,a,s,u;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+r.left,pageY:o.top-n.top+r.top};var n,r,o,i,a,s},lp=uo.isContentEditableFalse,fp=uo.isContentEditableTrue,dp=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},hp=function(s,u){return function(e){if(0===e.button){var t=ht.find(u.dom.getParents(e.target),Li.or(lp,fp));if(i=u.getBody(),lp(a=t)&&a!==i){var n=u.dom.getPos(t),r=u.getBody(),o=u.getDoc().documentElement;s.element=t,s.screenX=e.screenX,s.screenY=e.screenY,s.maxX=(u.inline?r.scrollWidth:o.offsetWidth)-2,s.maxY=(u.inline?r.scrollHeight:o.offsetHeight)-2,s.relX=e.pageX-n.x,s.relY=e.pageY-n.y,s.width=t.offsetWidth,s.height=t.offsetHeight,s.ghost=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(u,t,s.width,s.height)}}var i,a}},pp=function(l,f){return function(e){if(l.dragging&&(u=(i=f).selection,c=u.getSel().getRangeAt(0).startContainer,a=3===c.nodeType?c.parentNode:c,s=l.element,a!==s&&!i.dom.isChildOf(a,s)&&!lp(a))){var t=(r=l.element,(o=r.cloneNode(!0)).removeAttribute("data-mce-selected"),o),n=f.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,f.undoManager.transact(function(){dp(l.element),f.insertContent(f.dom.getOuterHTML(t)),f._selectionOverrides.hideFakeCaret()}))}var r,o,i,a,s,u,c;mp(l)}},mp=function(e){e.dragging=!1,e.element=null,dp(e.ghost)},gp=function(e){var t,n,r,o,i,a,m,g,v,s,u,c={};t=Uo.DOM,a=document,n=hp(c,e),m=c,g=e,v=ve.throttle(function(e,t){g._selectionOverrides.hideFakeCaret(),g.selection.placeCaretAt(e,t)},0),r=function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h=Math.max(Math.abs(e.screenX-m.screenX),Math.abs(e.screenY-m.screenY));if(m.element&&!m.dragging&&10<h){if(g.fire("dragstart",{target:m.element}).isDefaultPrevented())return;m.dragging=!0,g.focus()}if(m.dragging){var p=(f=m,{pageX:(d=cp(g,e)).pageX-f.relX,pageY:d.pageY+5});c=m.ghost,l=g.getBody(),c.parentNode!==l&&l.appendChild(c),t=m.ghost,n=p,r=m.width,o=m.height,i=m.maxX,a=m.maxY,u=s=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+r>i&&(s=n.pageX+r-i),n.pageY+o>a&&(u=n.pageY+o-a),t.style.width=r-s+"px",t.style.height=o-u+"px",v(e.clientX,e.clientY)}},o=pp(c,e),s=c,i=function(){mp(s),s.dragging&&u.fire("dragend")},(u=e).on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)})},vp=function(e){var n;gp(e),(n=e).on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(lp(t)||lp(n.dom.getContentEditableParent(t)))&&e.preventDefault()})},bp=function(e){return ht.reduce(e,function(e,t){return e.concat(function(t){var e=function(e){return ht.map(e,function(e){return(e=Si(e)).node=t,e})};if(uo.isElement(t))return e(t.getClientRects());if(uo.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(t))},[])};(sp=ap||(ap={}))[sp.Up=-1]="Up",sp[sp.Down=1]="Down";var yp=function(o,i,a,e,s,t){var n,u,c=0,l=[],r=function(e){var t,n,r;for(r=bp([e]),-1===o&&(r=r.reverse()),t=0;t<r.length;t++)if(n=r[t],!a(n,u)){if(0<l.length&&i(n,ht.last(l))&&c++,n.line=c,s(n))return!0;l.push(n)}};return(u=ht.last(t.getClientRects()))&&(r(n=t.getNode()),function(e,t,n,r){for(;r=hs(r,e,Ci,t);)if(n(r))return}(o,e,r,n)),l},_p=b.curry(yp,ap.Up,Ai,Ri),wp=b.curry(yp,ap.Down,Ri,Ai),xp=function(n){return function(e){return t=n,e.line>t;var t}},Cp=function(n){return function(e){return t=n,e.line===t;var t}},kp=uo.isContentEditableFalse,Sp=hs,Ep=function(e,t){return Math.abs(e.left-t)},Tp=function(e,t){return Math.abs(e.right-t)},Ap=function(e,t){return e>=t.left&&e<=t.right},Rp=function(e,o){return ht.reduce(e,function(e,t){var n,r;return n=Math.min(Ep(e,o),Tp(e,o)),r=Math.min(Ep(t,o),Tp(t,o)),Ap(o,t)?t:Ap(o,e)?e:r===n&&kp(t.node)?t:r<n?t:e})},Np=function(e,t,n,r){for(;r=Sp(r,e,Ci,t);)if(n(r))return},Dp=function(e,t,n){var r,o,i,a,s,u,c,l,f=bp((o=e,ht.filter(ht.toArray(o.getElementsByTagName("*")),ns))),d=ht.filter(f,function(e){return n>=e.top&&n<=e.bottom});return(r=Rp(d,t))&&(r=Rp((s=e,l=function(t,e){var n;return n=ht.filter(bp([e]),function(e){return!t(e,u)}),c=c.concat(n),0===n.length},(c=[]).push(u=r),Np(ap.Up,s,b.curry(l,Ai),u.node),Np(ap.Down,s,b.curry(l,Ri),u.node),c),t))&&ns(r.node)?(a=t,{node:(i=r).node,before:Ep(i,a)<Tp(i,a)}):null},Op=function(i,a,e){return!e.collapsed&&I.foldl(e.getClientRects(),function(e,t){return e||(o=a,(r=i)>=(n=t).left&&r<=n.right&&o>=n.top&&o<=n.bottom);var n,r,o},!1)},Bp=function(t,n){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){var e=arguments;null===r&&(r=setTimeout(function(){t.apply(null,e),e=r=null},n))}}},Pp=function(t){var e=Bp(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=Ea(t,t.selection.getRng());t.selection.setRng(e)}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},Mp={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return de.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Lp=uo.isContentEditableTrue,Ip=uo.isContentEditableFalse,Fp=Ts,jp=Es,zp=function(p){var m,e,t,a=p.getBody(),r=ts(p.getBody(),function(e){return p.dom.isBlock(e)}),g="sel-"+p.dom.uniqueId(),s=function(e){e&&p.selection.setRng(e)},u=function(){return p.selection.getRng()},o=function(e,t){p.selection.scrollIntoView(e,t)},v=function(e,t,n){return p.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(o(t,-1===e),r.show(n,t))},b=function(e,t){return t=ws(e,a,t),-1===e?ra.fromRangeStart(t):ra.fromRangeEnd(t)},n=function(e){return ai(e)||fi(e)||di(e)},y=function(e){return n(e.startContainer)||n(e.endContainer)},c=function(e,t){var n,r,o,i,a,s,u,c,l,f,d=p.$,h=p.dom;if(!e)return null;if(e.collapsed){if(!y(e))if(!1===t){if(c=b(-1,e),ns(c.getNode(!0)))return v(-1,c.getNode(!0),!1);if(ns(c.getNode()))return v(-1,c.getNode(),!c.isAtEnd())}else{if(c=b(1,e),ns(c.getNode()))return v(1,c.getNode(),!c.isAtEnd());if(ns(c.getNode(!0)))return v(1,c.getNode(!0),!1)}return null}return i=e.startContainer,a=e.startOffset,s=e.endOffset,3===i.nodeType&&0===a&&Ip(i.parentNode)&&(i=i.parentNode,a=h.nodeIndex(i),i=i.parentNode),1!==i.nodeType?null:(s===a+1&&(n=i.childNodes[a]),Ip(n)?(l=f=n.cloneNode(!0),(u=p.fire("ObjectSelected",{target:n,targetClone:l})).isDefaultPrevented()?null:(r=uc(Cn.fromDom(p.getBody()),"#"+g).fold(function(){return d([])},function(e){return d([e.dom()])}),l=u.targetClone,0===r.length&&(r=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g)).appendTo(p.getBody()),e=p.dom.createRng(),l===f&&de.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(l),e.setStartAfter(r[0].firstChild.firstChild),e.setEndAfter(l)):(r.empty().append("\xa0").append(l).append("\xa0"),e.setStart(r[0].firstChild,1),e.setEnd(r[0].lastChild,0)),r.css({top:h.getPos(n,p.getBody()).y}),r[0].focus(),(o=p.selection.getSel()).removeAllRanges(),o.addRange(e),I.each(ja(Cn.fromDom(p.getBody()),"*[data-mce-selected]"),function(e){$n.remove(e,"data-mce-selected")}),n.setAttribute("data-mce-selected","1"),m=n,_(),e)):null)},l=function(){m&&(m.removeAttribute("data-mce-selected"),uc(Cn.fromDom(p.getBody()),"#"+g).each(Tu.remove),m=null)},_=function(){r.hide()};return de.ceFalse&&(function(){var o=function(e){for(var t=p.getBody();e&&e!==t;){if(Lp(e)||Ip(e))return e;e=e.parentNode}return null};p.on("mouseup",function(e){var t=u();t.collapsed&&Lh.isXYInContentArea(p,e.clientX,e.clientY)&&s(Sa(p,t))}),p.on("click",function(e){var t;(t=o(e.target))&&(Ip(t)&&(e.preventDefault(),p.focus()),Lp(t)&&p.dom.isChildOf(t,p.selection.getNode())&&l())}),p.on("blur NewBlock",function(){l()});var n,r,i=function(e,t){var n,r,o=p.dom.getParent(e,p.dom.isBlock),i=p.dom.getParent(t,p.dom.isBlock);return o&&(n=o,r=i,!(p.dom.getParent(n,p.dom.isBlock)===p.dom.getParent(r,p.dom.isBlock)))&&function(e){var t=zs(e);if(!e.firstChild)return!1;var n=ra.before(e.firstChild),r=t.next(n);return r&&!jp(r)&&!Fp(r)}(o)};r=!1,(n=p).on("touchstart",function(){r=!1}),n.on("touchmove",function(){r=!0}),n.on("touchend",function(e){var t=o(e.target);Ip(t)&&(r||(e.preventDefault(),c(ka(n,t))))}),p.on("mousedown",function(e){var t,n=e.target;if((n===a||"HTML"===n.nodeName||p.dom.isChildOf(n,a))&&!1!==Lh.isXYInContentArea(p,e.clientX,e.clientY))if(t=o(n))Ip(t)?(e.preventDefault(),c(ka(p,t))):(l(),Lp(t)&&e.shiftKey||Op(e.clientX,e.clientY,p.selection.getRng())||p.selection.placeCaretAt(e.clientX,e.clientY));else if(!1===ns(n)){l(),_();var r=Dp(a,e.clientX,e.clientY);r&&(i(e.target,r.node)||(e.preventDefault(),p.getBody().focus(),s(v(1,r.node,r.before))))}}),p.on("keypress",function(e){Mp.modifierPressed(e)||(e.keyCode,Ip(p.selection.getNode())&&e.preventDefault())}),p.on("getSelectionRange",function(e){var t=e.range;if(m){if(!m.parentNode)return void(m=null);(t=t.cloneRange()).selectNode(m),e.range=t}}),p.on("setSelectionRange",function(e){var t;(t=c(e.range,e.forward))&&(e.range=t)}),p.on("AfterSetSelectionRange",function(e){var t,n=e.range;y(n)||_(),t=n.startContainer.parentNode,p.dom.hasClass(t,"mce-offscreen-selection")||l()}),p.on("copy",function(e){var t,n=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!de.ie){var r=(t=p.dom.get(g))?t.getElementsByTagName("*")[0]:t;r&&(e.preventDefault(),n.clearData(),n.setData("text/html",r.outerHTML),n.setData("text/plain",r.outerText))}}),vp(p),Pp(p)}(),e=p.contentStyles,t=".mce-content-body",e.push(r.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")),{showCaret:v,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(hi(e),s(u()),o(e[0]))},hideFakeCaret:_,destroy:function(){r.destroy(),m=null}}},qp=bt.each,Hp=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Up=function(e){return e.replace(/<!--|-->/g,"")},Wp=function(e,t,n){var r,o,i,a,s=1;for(a=e.getShortEndedElements(),(i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])s--;else if(!o[1]){if(o[2]in a)continue;s++}if(0===s)break}return r};function SaxParser(j,z){void 0===z&&(z=Schema());var t=function(){};!1!==(j=j||{}).fix_self_closing&&(j.fix_self_closing=!0),qp("comment cdata text start end pi doctype".split(" "),function(e){e&&(self[e]=j[e]||t)});var q=j.comment?j.comment:t,H=j.cdata?j.cdata:t,U=j.text?j.text:t,W=j.start?j.start:t,V=j.end?j.end:t,K=j.pi?j.pi:t,$=j.doctype?j.doctype:t;return{parse:function(e){var t,n,r,u,o,i,a,c,s,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N=0,D=[],O=0,B=Co.decode,P=bt.makeMap("src,href,data,background,formaction,poster"),M=/((java|vb)script|mhtml):/i,L=/^data:/i,I=function(e){var t,n;for(t=D.length;t--&&D[t].name!==e;);if(0<=t){for(n=D.length-1;t<=n;n--)(e=D[n]).valid&&V(e.name);D.length=t}},F=function(e,t,n,r,o){var i,a;if(n=(t=t.toLowerCase())in f?t:B(n||r||o||""),h&&!c&&!1===Hp(t)){if(!(i=b[t])&&y){for(a=y.length;a--&&!(i=y[a]).pattern.test(t););-1===a&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}if(P[t]&&!j.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(M.test(s))return;if(!j.allow_html_data_urls&&L.test(s)&&!/^data:image\//i.test(s))return}c&&(t in P||0===t.indexOf("on"))||(u.map[t]=n,u.push({name:t,value:n}))};for(S=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),E=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,l=z.getShortEndedElements(),k=j.self_closing_elements||z.getSelfClosingElements(),f=z.getBoolAttrs(),h=j.validate,s=j.remove_internals,R=j.fix_self_closing,T=z.getSpecialElements(),C=e+">";t=S.exec(C);){if(N<t.index&&U(B(e.substr(N,t.index-N))),n=t[6])":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),I(n);else if(n=t[7]){if(t.index+t[0].length>e.length){U(B(e.substr(t.index))),N=t.index+t[0].length;continue}if(":"===(n=n.toLowerCase()).charAt(0)&&(n=n.substr(1)),d=n in l,R&&k[n]&&0<D.length&&D[D.length-1].name===n&&I(n),!h||(p=z.getElementRule(n))){if(m=!0,h&&(b=p.attributes,y=p.attributePatterns),(v=t[8])?((c=-1!==v.indexOf("data-mce-type"))&&s&&(m=!1),(u=[]).map={},v.replace(E,F)):(u=[]).map={},h&&!c){if(_=p.attributesRequired,w=p.attributesDefault,x=p.attributesForced,p.removeEmptyAttrs&&!u.length&&(m=!1),x)for(o=x.length;o--;)a=(g=x[o]).name,"{$uid}"===(A=g.value)&&(A="mce_"+O++),u.map[a]=A,u.push({name:a,value:A});if(w)for(o=w.length;o--;)(a=(g=w[o]).name)in u.map||("{$uid}"===(A=g.value)&&(A="mce_"+O++),u.map[a]=A,u.push({name:a,value:A}));if(_){for(o=_.length;o--&&!(_[o]in u.map););-1===o&&(m=!1)}if(g=u.map["data-mce-bogus"]){if("all"===g){N=Wp(z,e,S.lastIndex),S.lastIndex=N;continue}m=!1}}m&&W(n,u,d)}else m=!1;if(r=T[n]){r.lastIndex=N=t.index+t[0].length,(t=r.exec(e))?(m&&(i=e.substr(N,t.index-N)),N=t.index+t[0].length):(i=e.substr(N),N=e.length),m&&(0<i.length&&U(i,!0),V(n)),S.lastIndex=N;continue}d||(v&&v.indexOf("/")===v.length-1?m&&V(n):D.push({name:n,valid:m}))}else(n=t[1])?(">"===n.charAt(0)&&(n=" "+n),j.allow_conditional_comments||"[if"!==n.substr(0,3).toLowerCase()||(n=" "+n),q(n)):(n=t[2])?H(Up(n)):(n=t[3])?$(n):(n=t[4])&&K(n,t[5]);N=t.index+t[0].length}for(N<e.length&&U(B(e.substr(N))),o=D.length-1;0<=o;o--)(n=D[o]).valid&&V(n.name)}}}(SaxParser||(SaxParser={})).findEndTag=Wp;var Vp=SaxParser,Kp=function(e,t){var n,r,o,i,a,s,u,c,l=t,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(s=e.getTempAttrs(),u=l,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),l=u.replace(c,""),a=d.getShortEndedElements();i=f.exec(l);)r=f.lastIndex,o=i[0].length,n=a[i[1]]?r:Vp.findEndTag(d,l,r),l=l.substring(0,r-o)+l.substring(n),f.lastIndex=r-o;return l},$p=function(e,t){return ti(Kp(e,t))},Gp=Kp,Yp=0,Xp=2,Jp=1,Zp=function(p,m){var e=p.length+m.length+2,g=new Array(e),v=new Array(e),c=function(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,s=n;a<t||s<r;)a<t&&s<r&&p[a]===m[s]?(o.push([0,p[a]]),++a,++s):r-n<t-e?(o.push([2,p[a]]),++a):(o.push([1,m[s]]),++s);else{c(e,i.start,n,i.start-i.diag,o);for(var u=i.start;u<i.end;++u)o.push([0,p[u]]);c(i.end,t,i.end-i.diag,r,o)}},b=function(e,t,n,r){for(var o=e;o-t<r&&o<n&&p[o]===m[o-t];)++o;return{start:e,end:o,diag:t}},l=function(e,t,n,r){var o=t-e,i=r-n;if(0===o||0===i)return null;var a,s,u,c,l,f=o-i,d=i+o,h=(d%2==0?d:d+1)/2;for(g[1+h]=e,v[1+h]=t+1,a=0;a<=h;++a){for(s=-a;s<=a;s+=2){for(u=s+h,s===-a||s!==a&&g[u-1]<g[u+1]?g[u]=g[u+1]:g[u]=g[u-1]+1,l=(c=g[u])-e+n-s;c<t&&l<r&&p[c]===m[l];)g[u]=++c,++l;if(f%2!=0&&f-a<=s&&s<=f+a&&v[u-f]<=g[u])return b(v[u-f],s+e-n,t,r)}for(s=f-a;s<=f+a;s+=2){for(u=s+h-f,s===f-a||s!==f+a&&v[u+1]<=v[u-1]?v[u]=v[u+1]-1:v[u]=v[u-1],l=(c=v[u]-1)-e+n-s;e<=c&&n<=l&&p[c]===m[l];)v[u]=c--,l--;if(f%2==0&&-a<=s&&s<=a&&v[u]<=g[u+f])return b(v[u],s+e-n,t,r)}}},t=[];return c(0,p.length,0,m.length,t),t},Qp=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?Co.encodeRaw(e.data,!1):8===e.nodeType?"\x3c!--"+e.data+"--\x3e":""},em=function(e,t,n){var r=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},tm=function(e){return ht.filter(ht.map(e.childNodes,Qp),function(e){return 0<e.length})},nm=function(e,t){var n,r,o,i=ht.map(t.childNodes,Qp);return n=Zp(i,e),r=t,o=0,ht.each(n,function(e){e[0]===Yp?o++:e[0]===Jp?(em(r,e[1],o),o++):e[0]===Xp&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(r,o)}),t},rm=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},om=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},im=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},am={createFragmentedLevel:rm,createCompleteLevel:om,createFromEditor:function(n){var e,t,r;return e=tm(n.getBody()),-1!==(t=(r=I.bind(e,function(e){var t=Gp(n.serializer,e);return 0<t.length?[t]:[]})).join("")).indexOf("</iframe>")?rm(r):om(t)},applyToEditor:function(e,t,n){"fragmented"===t.type?nm(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!!e&&!!t&&im(e)===im(t)}};function UndoManager(s){var u,r,o=this,c=0,l=[],t=0,f=function(){return 0===t},i=function(e){f()&&(o.typing=e)},d=function(e){s.setDirty(e)},a=function(e){i(!1),o.add({},e)},n=function(){o.typing&&(i(!1),o.add())};return s.on("init",function(){o.add()}),s.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(n(),o.beforeChange())}),s.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&a(e)}),s.on("ObjectResizeStart Cut",function(){o.beforeChange()}),s.on("SaveContent ObjectResized blur",a),s.on("DragEnd",a),s.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),s.nodeChanged()),46!==t&&8!==t||s.nodeChanged(),r&&o.typing&&!1===am.isEq(am.createFromEditor(s),l[0])&&(!1===s.isDirty()&&(d(!0),s.fire("change",{level:l[0],lastLevel:null})),s.fire("TypingUndo"),r=!1,s.nodeChanged()))}),s.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)o.typing&&a(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||o.typing||n||(o.beforeChange(),i(!0),o.add({},e),r=!0)}}),s.on("MouseDown",function(e){o.typing&&a(e)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||s.nodeChanged()}),o={data:l,typing:!1,beforeChange:function(){f()&&(u=hu.getUndoBookmark(s.selection))},add:function(e,t){var n,r,o,i=s.settings;if(o=am.createFromEditor(s),e=e||{},e=bt.extend(e,o),!1===f()||s.removed)return null;if(r=l[c],s.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:t}).isDefaultPrevented())return null;if(r&&am.isEq(r,e))return null;if(l[c]&&(l[c].beforeBookmark=u),i.custom_undo_redo_levels&&l.length>i.custom_undo_redo_levels){for(n=0;n<l.length-1;n++)l[n]=l[n+1];l.length--,c=l.length}e.bookmark=hu.getUndoBookmark(s.selection),c<l.length-1&&(l.length=c+1),l.push(e),c=l.length-1;var a={level:e,lastLevel:r,originalEvent:t};return s.fire("AddUndo",a),0<c&&(d(!0),s.fire("change",a)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1,i(!1)),0<c&&(e=l[--c],am.applyToEditor(s,e,!0),d(!0),s.fire("undo",{level:e})),e},redo:function(){var e;return c<l.length-1&&(e=l[++c],am.applyToEditor(s,e,!1),d(!0),s.fire("redo",{level:e})),e},clear:function(){l=[],c=0,o.typing=!1,o.data=l,s.fire("ClearUndos")},hasUndo:function(){return 0<c||o.typing&&l[0]&&!am.isEq(am.createFromEditor(s),l[0])},hasRedo:function(){return c<l.length-1&&!o.typing},transact:function(e){return n(),o.beforeChange(),o.ignore(e),o.add()},ignore:function(e){try{t++,e()}finally{t--}},extra:function(e,t){var n,r;o.transact(e)&&(r=l[c].bookmark,n=l[c-1],am.applyToEditor(s,n,!0),o.transact(t)&&(l[c-1].beforeBookmark=r))}}}var sm,um,cm={},lm=ht.filter,fm=ht.each;um=function(e){var t,n,r=e.selection.getRng();t=uo.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),fm(lm(lm(n,t),function(e){return t(e.previousSibling)&&-1!==ht.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,It(n=e).remove(),It(t).append("<br><br>").append(n.childNodes)}))},cm[sm="pre"]||(cm[sm]=[]),cm[sm].push(um);var dm=function(e,t){fm(cm[e],function(e){e(t)})},hm=bt.each,pm={walk:function(e,t,o){var n,r,i,a,s,u,c,l=t.startContainer,f=t.startOffset,d=t.endContainer,h=t.endOffset;if(0<(c=e.select("td[data-mce-selected],th[data-mce-selected]")).length)hm(c,function(e){o([e])});else{var p,m,g,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===h&&0<e.length&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},b=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},y=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},_=function(e,t,n){var r=n?"nextSibling":"previousSibling";for(s=(a=e).parentNode;a&&a!==t;a=s)s=a.parentNode,(u=b(a===e?a:a[r],r)).length&&(n||u.reverse(),o(v(u)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(m=h,g=(p=d).childNodes,--m>g.length-1?m=g.length-1:m<0&&(m=0),d=g[m]||p),l===d)return o(v([l]));for(n=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return _(l,n,!0);if(a===n)break}for(a=d;a;a=a.parentNode){if(a===l)return _(d,n);if(a===n)break}r=y(l,n)||l,i=y(d,n)||d,_(l,r,!0),(u=b(r===l?r:r.nextSibling,"nextSibling",i===d?i.nextSibling:i)).length&&o(v(u)),_(d,i)}}},mm=/^(src|href|style)$/,gm=bt.each,vm=ml.isEq,bm=function(e){return/^(TH|TD)$/.test(e.nodeName)},ym=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],uo.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[i<o?i:o]),uo.isText(r)&&n&&o>=r.nodeValue.length&&(r=new TreeWalker(r,e.getBody()).next()||r),uo.isText(r)&&!n&&0===o&&(r=new TreeWalker(r,e.getBody()).prev()||r),r},_m=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},wm=function(e,t,n,r){return!(t=ml.getNonWhiteSpaceSibling(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},xm=function(e,n,r,o,i){var t,a,s,u,c,l,f,d,h,p,m,g,v,b,y=e.dom;if(c=y,!(vm(l=o,(f=n).inline)||vm(l,f.block)||(f.selector?uo.isElement(l)&&c.is(l,f.selector):void 0)||(u=o,n.links&&"A"===u.tagName)))return!1;if("all"!==n.remove)for(gm(n.styles,function(e,t){e=ml.normalizeStyleValue(y,ml.replaceVars(e,r),t),"number"==typeof t&&(t=e,i=0),(n.remove_similar||!i||vm(ml.getStyle(y,i,t),e))&&y.setStyle(o,t,""),s=1}),s&&""===y.getAttrib(o,"style")&&(o.removeAttribute("style"),o.removeAttribute("data-mce-style")),gm(n.attributes,function(e,t){var n;if(e=ml.replaceVars(e,r),"number"==typeof t&&(t=e,i=0),!i||vm(y.getAttrib(i,t),e)){if("class"===t&&(e=y.getAttrib(o,t))&&(n="",gm(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void y.setAttrib(o,t,n);"class"===t&&o.removeAttribute("className"),mm.test(t)&&o.removeAttribute("data-mce-"+t),o.removeAttribute(t)}}),gm(n.classes,function(e){e=ml.replaceVars(e,r),i&&!y.hasClass(i,e)||y.removeClass(o,e)}),a=y.getAttribs(o),t=0;t<a.length;t++){var _=a[t].nodeName;if(0!==_.indexOf("_")&&0!==_.indexOf("data-"))return!1}return"none"!==n.remove?(d=e,p=n,g=(h=o).parentNode,v=d.dom,b=d.settings.forced_root_block,p.block&&(b?g===v.getRoot()&&(p.list_block&&vm(h,p.list_block)||gm(bt.grep(h.childNodes),function(e){ml.isValid(d,b,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=_m(v,e,b),v.setAttribs(m,d.settings.forced_root_block_attrs)):m=0})):v.isBlock(h)&&!v.isBlock(g)&&(wm(v,h,!1)||wm(v,h.firstChild,!0,1)||h.insertBefore(v.create("br"),h.firstChild),wm(v,h,!0)||wm(v,h.lastChild,!1,1)||h.appendChild(v.create("br")))),p.selector&&p.inline&&!vm(p.inline,h)||v.remove(h,1),!0):void 0},Cm={removeFormat:xm,remove:function(u,c,l,e,f){var t,n,d=u.formatter.get(c),h=d[0],a=!0,s=u.dom,r=u.selection,o=function(e){var n,t,r,o,i,a,s=(n=u,t=e,r=c,o=l,i=f,gm(ml.getParents(n.dom,t.parentNode).reverse(),function(e){var t;a||"_start"===e.id||"_end"===e.id||(t=Pl.matchNode(n,e,r,o,i))&&!1!==t.split&&(a=e)}),a);return function(e,t,n,r,o,i,a,s){var u,c,l,f,d,h,p=e.dom;if(n){for(h=n.parentNode,u=r.parentNode;u&&u!==h;u=u.parentNode){for(c=p.clone(u,!1),d=0;d<t.length;d++)if(xm(e,t[d],s,c,c)){c=0;break}c&&(l&&c.appendChild(l),f||(f=c),l=c)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r}(u,d,s,e,e,!0,h,l)},p=function(e){var t,n,r,o,i;if(uo.isElement(e)&&s.getContentEditable(e)&&(o=a,a="true"===s.getContentEditable(e),i=!0),t=bt.grep(e.childNodes),a&&!i)for(n=0,r=d.length;n<r&&!xm(u,d[n],l,e,e);n++);if(h.deep&&t.length){for(n=0,r=t.length;n<r;n++)p(t[n]);i&&(a=o)}},i=function(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return bu.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),uo.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n},m=function(e){var t,n,r=e.commonAncestorContainer;if(e=Tl(u,e,d,!0),h.split){if((t=ym(u,e,!0))!==(n=ym(u,e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"===t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&bm(n)&&n.firstChild&&(n=n.firstChild||n),s.isChildOf(t,n)&&t!==n&&!s.isBlock(n)&&!bm(t)&&!bm(n))return t=_m(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),o(t),void(t=i(!0));t=_m(s,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=_m(s,n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=i(!0),n=i()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=s.nodeIndex(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=s.nodeIndex(n)+1}pm.walk(s,e,function(e){gm(e,function(e){p(e),uo.isElement(e)&&"underline"===u.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===ml.getTextDecoration(s,e.parentNode)&&xm(u,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(e)e.nodeType?((n=s.createRng()).setStartBefore(e),n.setEndAfter(e),m(n)):m(e);else if("false"!==s.getContentEditable(r.getNode()))r.isCollapsed()&&h.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length?Yl.removeCaretFormat(u,c,l,f):(t=r.getBookmark(),m(r.getRng()),r.moveToBookmark(t),h.inline&&Pl.match(u,c,l,r.getStart())&&ml.moveStart(s,r,r.getRng()),u.nodeChanged());else{e=r.getNode();for(var g=0,v=d.length;g<v&&(!d[g].ceFalseOverride||!xm(u,d[g],l,e,e));g++);}}},km=bt.each,Sm=function(e){return e&&1===e.nodeType&&!bu.isBookmarkNode(e)&&!Yl.isCaretNode(e)&&!uo.isBogus(e)},Em=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!bu.isBookmarkNode(n))return n}return e},Tm=function(e,t,n){var r,o,i=new _u(e);if(t&&n&&(t=Em(t,"previousSibling"),n=Em(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)r=(o=r).nextSibling,t.appendChild(o);return e.remove(n),bt.each(bt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Am=function(e,t,n){km(e.childNodes,function(e){Sm(e)&&(t(e)&&n(e),e.hasChildNodes()&&Am(e,t,n))})},Rm=function(n,e){return b.curry(function(e,t){return!(!t||!ml.getStyle(n,t,e))},e)},Nm=function(r,e,t){return b.curry(function(e,t,n){r.setStyle(n,e,t),""===n.getAttribute("style")&&n.removeAttribute("style"),Dm(r,n)},e,t)},Dm=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Om=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=ml.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Bm=function(n,e,r,o){km(e,function(t){km(n.dom.select(t.inline,o),function(e){Sm(e)&&Cm.removeFormat(n,t,r,e,t.exact?e:null)}),function(r,e,t){if(e.clear_child_styles){var n=e.links?"*:not(a)":"*";km(r.select(n,t),function(n){Sm(n)&&km(e.styles,function(e,t){r.setStyle(n,t,"")})})}}(n.dom,t,o)})},Pm=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(bt.walk(r,b.curry(Om,e),"childNodes"),Om(e,r))},Mm=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Am(r,Rm(e,"fontSize"),Nm(e,"backgroundColor",ml.replaceVars(t.styles.backgroundColor,n)))},Lm=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Am(r,Rm(e,"fontSize"),Nm(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Im=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Tm(e,ml.getNonWhiteSpaceSibling(r),r),r=Tm(e,r,ml.getNonWhiteSpaceSibling(r,!0)))},Fm=function(t,n,r,o,i){Pl.matchNode(t,i.parentNode,r,o)&&Cm.removeFormat(t,n,o,i)||n.merge_with_parents&&t.dom.getParent(i.parentNode,function(e){if(Pl.matchNode(t,e,r,o))return Cm.removeFormat(t,n,o,i),!0})},jm=bt.each,zm=function(p,m,g,r){var e,t,v=p.formatter.get(m),b=v[0],o=!r&&p.selection.isCollapsed(),i=p.dom,n=p.selection,y=function(n,e){if(e=e||b,n){if(e.onformat&&e.onformat(n,e,g,r),jm(e.styles,function(e,t){i.setStyle(n,t,ml.replaceVars(e,g))}),e.styles){var t=i.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}jm(e.attributes,function(e,t){i.setAttrib(n,t,ml.replaceVars(e,g))}),jm(e.classes,function(e){e=ml.replaceVars(e,g),i.hasClass(n,e)||i.addClass(n,e)})}},_=function(e,t){var n=!1;return!!b.selector&&(jm(e,function(e){if(!("collapsed"in e&&e.collapsed!==o))return i.is(t,e.selector)&&!Yl.isCaretNode(t)?(y(t,e),n=!0,!1):void 0}),n)},a=function(u,e,t,c){var l,f,d=[],h=!0;l=b.inline||b.block,f=u.create(l),y(f),pm.walk(u,e,function(e){var a,s=function(e){var t,n,r,o;if(o=h,t=e.nodeName.toLowerCase(),n=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&u.getContentEditable(e)&&(o=h,h="true"===u.getContentEditable(e),r=!0),ml.isEq(t,"br"))return a=0,void(b.block&&u.remove(e));if(b.wrapper&&Pl.matchNode(p,e,m,g))a=0;else{if(h&&!r&&b.block&&!b.wrapper&&ml.isTextBlock(p,t)&&ml.isValid(p,n,l))return e=u.rename(e,l),y(e),d.push(e),void(a=0);if(b.selector){var i=_(v,e);if(!b.inline||i)return void(a=0)}!h||r||!ml.isValid(p,l,t)||!ml.isValid(p,n,l)||!c&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||Yl.isCaretNode(e)||b.inline&&u.isBlock(e)?(a=0,jm(bt.grep(e.childNodes),s),r&&(h=o),a=0):(a||(a=u.clone(f,!1),e.parentNode.insertBefore(a,e),d.push(a)),a.appendChild(e))}};jm(e,s)}),!0===b.links&&jm(d,function(e){var t=function(e){"A"===e.nodeName&&y(e,b),jm(bt.grep(e.childNodes),t)};t(e)}),jm(d,function(e){var t,n,r,o,i,a=function(e){var n=!1;return jm(e.childNodes,function(e){if((t=e)&&1===t.nodeType&&!bu.isBookmarkNode(t)&&!Yl.isCaretNode(t)&&!uo.isBogus(t))return n=e,!1;var t}),n};n=0,jm(e.childNodes,function(e){ml.isWhiteSpaceNode(e)||bu.isBookmarkNode(e)||n++}),t=n,!(1<d.length)&&u.isBlock(e)||0!==t?(b.inline||b.wrapper)&&(b.exact||1!==t||((o=a(r=e))&&!bu.isBookmarkNode(o)&&Pl.matchName(u,o,b)&&(i=u.clone(o,!1),y(i),u.replace(i,r,!0),u.remove(o,1)),e=i||r),Bm(p,v,g,e),Fm(p,b,m,g,e),Mm(u,b,g,e),Lm(u,b,g,e),Im(u,b,g,e)):u.remove(e,1)})};if("false"!==i.getContentEditable(n.getNode())){if(b){if(r)r.nodeType?_(v,r)||((t=i.createRng()).setStartBefore(r),t.setEndAfter(r),a(i,Tl(p,t,v),0,!0)):a(i,r,0,!0);else if(o&&b.inline&&!i.select("td[data-mce-selected],th[data-mce-selected]").length)Yl.applyCaretFormat(p,m,g);else{var s=p.selection.getNode();p.settings.forced_root_block||!v[0].defaultBlock||i.getParent(s,i.isBlock)||zm(p,v[0].defaultBlock),p.selection.setRng(Mu(p.selection.getRng())),e=n.getBookmark(),a(i,Tl(p,n.getRng(),v)),b.styles&&Pm(i,b,g,s),n.moveToBookmark(e),ml.moveStart(i,n,n.getRng()),p.nodeChanged()}dm(m,p)}}else{r=n.getNode();for(var u=0,c=v.length;u<c;u++)if(v[u].ceFalseOverride&&i.is(r,v[u].selector))return void y(r,v[u])}},qm={applyFormat:zm},Hm=bt.each,Um={formatChanged:function(e,t,n,r,o){var i,a,s,u,c,l,f,d;null===t.get()&&(a=e,s={},(i=t).set({}),a.on("NodeChange",function(n){var r=ml.getParents(a.dom,n.element),o={};r=bt.grep(r,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Hm(i.get(),function(e,n){Hm(r,function(t){return a.formatter.matchNode(t,n,{},e.similar)?(s[n]||(Hm(e,function(e){e(!0,{node:t,format:n,parents:r})}),s[n]=e),o[n]=e,!1):!Pl.matchesUnInheritedFormatSelector(a,t,n)&&void 0})}),Hm(s,function(e,t){o[t]||(delete s[t],Hm(e,function(e){e(!1,{node:n.element,format:t,parents:r})}))})})),c=n,l=r,f=o,d=(u=t).get(),Hm(c.split(","),function(e){d[e]||(d[e]=[],d[e].similar=f),d[e].push(l)}),u.set(d)}},Wm={get:function(r){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){bt.each(t,function(e,t){r.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return bt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}},Vm=bt.each,Km=Uo.DOM,$m=function(e,t){var n,o,r,h=t&&t.schema||Schema({}),p=function(e){var t,n,r;return o="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=Km.create(o.name),n=t,(r=o).classes.length&&Km.addClass(n,r.classes.join(" ")),Km.setAttribs(n,r.attrs),t},m=function(n,e,t){var r,o,i,a,s,u,c,l,f=0<e.length&&e[0],d=f&&f.name;if(s=d,u="string"!=typeof(a=n)?a.nodeName.toLowerCase():a,c=h.getElementRule(u),i=!(!(l=c&&c.parentsRequired)||!l.length)&&(s&&-1!==bt.inArray(l,s)?s:l[0]))d===i?(o=e[0],e=e.slice(1)):o=i;else if(f)o=e[0],e=e.slice(1);else if(!t)return n;return o&&(r=p(o)).appendChild(n),t&&(r||(r=Km.create("div")).appendChild(n),bt.each(t,function(e){var t=p(e);r.insertBefore(t,n)})),m(r,e,o&&o.siblings)};return e&&e.length?(o=e[0],n=p(o),(r=Km.create("div")).appendChild(m(n,e.slice(1),o.siblings)),r):""},Gm=function(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=bt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,o){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==bt.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["===r){var i=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(a.attrs[i[1]]=i[2])}return""})),a.name=t||"div",a},Ym=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),bt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=bt.map(e.split(/(?:~\+|~|\+)/),Gm),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},Xm={getCssText:function(n,e){var t,r,o,i,a,s,u="";if(!1===(s=n.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(s=e.preview)?"":(t=e.block||e.inline||"span",(i=Ym(e.selector)).length?(i[0].name||(i[0].name=t),t=e.selector,r=$m(i,n)):r=$m([t],n),o=Km.select(t,r)[0]||r.firstChild,Vm(e.styles,function(e,t){(e=c(e))&&Km.setStyle(o,t,e)}),Vm(e.attributes,function(e,t){(e=c(e))&&Km.setAttrib(o,t,e)}),Vm(e.classes,function(e){e=c(e),Km.hasClass(o,e)||Km.addClass(o,e)}),n.fire("PreviewFormats"),Km.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),a=Km.getStyle(n.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Vm(s.split(" "),function(e){var t=Km.getStyle(o,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=Km.getStyle(n.getBody(),e,!0),"#ffffff"===Km.toHex(t).toLowerCase())||"color"===e&&"#000000"===Km.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===a)return;t=(t=parseFloat(t)/(/%$/.test(t)?100:1))*a+"px"}"border"===e&&t&&(u+="padding:0 2px;"),u+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),Km.remove(r),u)},parseSelector:Ym,selectorToHtml:function(e,t){return $m(Ym(e),t)}},Jm={toggle:function(e,t,n,r,o){var i=t.get(n);!Pl.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?qm.applyFormat(e,n,r,o):Cm.remove(e,n,r,o)}},Zm={setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function Formatter(e){var t=function FormatRegistry(e){var n={},r=function(e,t){e&&("string"!=typeof e?bt.each(e,function(e,t){r(t,e)}):(t=t.length?t:[t],bt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))};return r(Wm.get(e.dom)),r(e.settings.formats),{get:function(e){return e?n[e]:n},register:r,unregister:function(e){return e&&n[e]&&delete n[e],n}}}(e),n=yf(null);return Zm.setup(e),Yl.setup(e),{get:t.get,register:t.register,unregister:t.unregister,apply:b.curry(qm.applyFormat,e),remove:b.curry(Cm.remove,e),toggle:b.curry(Jm.toggle,e,t),match:b.curry(Pl.match,e),matchAll:b.curry(Pl.matchAll,e),matchNode:b.curry(Pl.matchNode,e),canApply:b.curry(Pl.canApply,e),formatChanged:b.curry(Um.formatChanged,e,n),getCssText:b.curry(Xm.getCssText,e)}}var Qm=function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)o.hasOwnProperty(i)&&(n[i]=a(n[i],o[i]))}return n}},eg=Qm(function(e,t){return Ln.isObject(e)&&Ln.isObject(t)?eg(e,t):t}),tg=Qm(function(e,t){return t}),ng={deepMerge:eg,merge:tg},rg=function(e,t){return e.fire("PreProcess",t)},og=function(e,t){return e.fire("PostProcess",t)},ig=function(e){return e.fire("remove")},ag={register:function(t,u,c){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),t.addAttributeFilter("src,href,style",function(e,t){for(var n,r,o=e.length,i="data-mce-"+t,a=u.url_converter,s=u.url_converter_scope;o--;)void 0!==(r=(n=e[o]).attributes.map[i])?(n.attr(t,0<r.length?r:null),n.attr(i,null)):(r=n.attributes.map[t],"style"===t?r=c.serializeStyle(c.parseStyle(r),n.name):a&&(r=a.call(s,r,t,n.name)),n.attr(t,0<r.length?r:null))}),t.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)"bookmark"!==(r=e[o]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),t.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Co.decode(t.value))}),t.addNodeFilter("script,style",function(e,t){for(var n,r,o,i=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};i--;)r=(n=e[i]).firstChild?n.firstChild.value:"","script"===t?((o=n.attr("type"))&&n.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===u.element_format&&0<r.length&&(n.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===u.element_format&&0<r.length&&(n.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),t.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){I.each(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,r=function(e){return e&&"br"===e.name};r(t=e.lastChild)&&r(n=t.prev)&&(t.remove(),n.remove())}},sg={process:function(e,t,n){return f=n,(l=e)&&l.hasEventListeners("PreProcess")&&!f.no_events?(o=t,i=n,c=(r=e).dom,o=o.cloneNode(!0),(a=document.implementation).createHTMLDocument&&(s=a.createHTMLDocument(""),bt.each("BODY"===o.nodeName?o.childNodes:[o],function(e){s.body.appendChild(s.importNode(e,!0))}),o="BODY"!==o.nodeName?s.body.firstChild:s.body,u=c.doc,c.doc=s),rg(r,ng.merge(i,{node:o})),u&&(c.doc=u),o):t;var r,o,i,a,s,u,c,l,f}},ug=function(e,s,u){e.addNodeFilter("font",function(e){I.each(e,function(e){var t,n,r=s.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=u[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",s.serialize(r)),t=e,n=["color","face","size"],I.each(n,function(e){t.attr(e,null)})})})},cg=function(e,t){var n,r=Styles();t.convert_fonts_to_spans&&ug(e,r,bt.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){I.each(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},lg={register:function(e,t){t.inline_styles&&cg(e,t)}},fg=/^[ \t\r\n]*$/,dg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},hg=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},pg=function(){function Node(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return Node.create=function(e,t){var n,r;if(n=new Node(e,dg[e]||1),t)for(r in t)n.attr(r,t[r]);return n},Node.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},Node.prototype.attr=function(e,t){var n,r;if("string"!=typeof e){for(r in e)this.attr(r,e[r]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),this;return this}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},Node.prototype.clone=function(){var e,t,n,r,o,i=new Node(this.name,this.type);if(n=this.attributes){for((o=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);i.attributes=o}return i.value=this.value,i.shortEnded=this.shortEnded,i},Node.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},Node.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},Node.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},Node.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},Node.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},Node.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=hg(t,this))t.name===e&&n.push(t);return n},Node.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=hg(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},Node.prototype.isEmpty=function(e,t,n){var r,o,i=this.firstChild;if(t=t||{},i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(r=i.attributes.length;r--;)if("name"===(o=i.attributes[r].name)||0===o.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!fg.test(i.value))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&fg.test(i.value))return!1;if(n&&n(i))return!1}while(i=hg(i,this));return!0},Node.prototype.walk=function(e){return hg(this,null,e)},Node}(),mg=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new pg("br",1)).shortEnded=!0:r.empty().append(new pg("#text",3)).value="\xa0"},gg=function(e){return vg(e,"#text")&&"\xa0"===e.firstChild.value},vg=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},bg=function(r,e,t,n){return n.isEmpty(e,t,function(e){return t=e,(n=r.getElementRule(t.name))&&n.paddEmpty;var t,n})},yg=function(e,t){return e&&(t[e.name]||"br"===e.name)},_g=function(e,m){var g=e.schema;m.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var r,o,i,a,s,u,c,l,f=e.length,d=bt.extend({},g.getBlockElements()),h=g.getNonEmptyElements(),p=g.getNonEmptyElements();for(d.body=1,r=0;r<f;r++)if(i=(o=e[r]).parent,d[o.parent.name]&&o===i.lastChild){for(s=o.prev;s;){if("span"!==(u=s.name)||"bookmark"!==s.attr("data-mce-type")){if("br"!==u)break;if("br"===u){o=null;break}}s=s.prev}o&&(o.remove(),bg(g,h,p,i)&&(c=g.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&mg(m,n,d,i)))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!d[(a=i).name];)i=i.parent;a===i&&!0!==m.padd_empty_with_br&&((l=new pg("#text",3)).value="\xa0",o.replace(l))}}),e.addAttributeFilter("href",function(e){var t,n,r,o=e.length;if(!m.allow_unsafe_link_target)for(;o--;)"a"===(t=e[o]).name&&"_blank"===t.attr("target")&&t.attr("rel",(n=t.attr("rel"),r=n?bt.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}),m.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),m.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new pg("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),m.validate&&g.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,n,r,o,i,a,s,u=e.length,c=g.getValidClasses();u--;){for(n=(t=e[u]).attr("class").split(" "),i="",r=0;r<n.length;r++)o=n[r],s=!1,(a=c["*"])&&a[o]&&(s=!0),a=c[t.name],!s&&a&&a[o]&&(s=!0),s&&(i&&(i+=" "),i+=o);i.length||(i=null),t.attr("class",i)}})},wg=bt.makeMap,xg=bt.each,Cg=bt.explode,kg=bt.extend;function DomParser(E,T){void 0===T&&(T=Schema());var A={},R=[],N={},D={};(E=E||{}).validate=!("validate"in E)||E.validate,E.root_name=E.root_name||"body";var O=function(e){var t,n,r;n in A&&((r=N[n])?r.push(e):N[n]=[e]),t=R.length;for(;t--;)(n=R[t].name)in e.attributes.map&&((r=D[n])?r.push(e):D[n]=[e]);return e},e={schema:T,addAttributeFilter:function(e,n){xg(Cg(e),function(e){var t;for(t=0;t<R.length;t++)if(R[t].name===e)return void R[t].callbacks.push(n);R.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(R)},addNodeFilter:function(e,n){xg(Cg(e),function(e){var t=A[e];t||(A[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e=[];for(var t in A)A.hasOwnProperty(t)&&e.push({name:t,callbacks:A[t]});return e},filterNode:O,parse:function(e,a){var t,n,r,o,i,s,u,c,l,f,d,h=[];a=a||{},N={},D={},l=kg(wg("script,style,head,html,body,title,meta,param"),T.getBlockElements());var p=T.getNonEmptyElements(),m=T.children,g=E.validate,v="forced_root_block"in a?a.forced_root_block:E.forced_root_block,b=T.getWhiteSpaceElements(),y=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,w=/[ \t\r\n]+/g,x=/^[ \t\r\n]+$/,C=function(e,t){var n,r=new pg(e,t);return e in A&&((n=N[e])?n.push(r):N[e]=[r]),r},k=function(e){var t,n,r,o,i=T.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(r=t.value.replace(_,"")).length)return void(t.value=r);if(n=t.next){if(3===n.type&&n.value.length){t=t.prev;continue}if(!i[n.name]&&"script"!==n.name&&"style"!==n.name){t=t.prev;continue}}o=t.prev,t.remove(),t=o}};t=Vp({validate:g,allow_script_urls:E.allow_script_urls,allow_conditional_comments:E.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(T.getSelfClosingElements()),cdata:function(e){d.append(C("#cdata",4)).value=e},text:function(e,t){var n;f||(e=e.replace(w," "),yg(d.lastChild,l)&&(e=e.replace(y,""))),0!==e.length&&((n=C("#text",3)).raw=!!t,d.append(n).value=e)},comment:function(e){d.append(C("#comment",8)).value=e},pi:function(e,t){d.append(C(e,7)).value=t,k(d)},doctype:function(e){d.append(C("#doctype",10)).value=e,k(d)},start:function(e,t,n){var r,o,i,a,s;if(i=g?T.getElementRule(e):{}){for((r=C(i.outputName||e,1)).attributes=t,r.shortEnded=n,d.append(r),(s=m[d.name])&&m[r.name]&&!s[r.name]&&h.push(r),o=R.length;o--;)(a=R[o].name)in t.map&&((u=D[a])?u.push(r):D[a]=[r]);l[e]&&k(r),n||(d=r),!f&&b[e]&&(f=!0)}},end:function(e){var t,n,r,o,i;if(n=g?T.getElementRule(e):{}){if(l[e]&&!f){if((t=d.firstChild)&&3===t.type)if(0<(r=t.value.replace(y,"")).length)t.value=r,t=t.next;else for(o=t.next,t.remove(),t=o;t&&3===t.type;)r=t.value,o=t.next,(0===r.length||x.test(r))&&(t.remove(),t=o),t=o;if((t=d.lastChild)&&3===t.type)if(0<(r=t.value.replace(_,"")).length)t.value=r,t=t.prev;else for(o=t.prev,t.remove(),t=o;t&&3===t.type;)r=t.value,o=t.prev,(0===r.length||x.test(r))&&(t.remove(),t=o),t=o}if(f&&b[e]&&(f=!1),n.removeEmpty&&bg(T,p,b,d)&&!d.attributes.map.name&&!d.attr("id"))return i=d.parent,l[d.name]?d.empty().remove():d.unwrap(),void(d=i);n.paddEmpty&&(gg(d)||bg(T,p,b,d))&&mg(E,a,l,d),d=d.parent}}},T);var S=d=new pg(a.context||E.root_name,11);if(t.parse(e),g&&h.length&&(a.context?a.invalid=!0:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g;for(d=wg("tr,td,th,tbody,thead,tfoot,table"),l=T.getNonEmptyElements(),f=T.getWhiteSpaceElements(),h=T.getTextBlockElements(),p=T.getSpecialElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(h[n.name]&&"li"===n.parent.name){for(m=n.next;m&&h[m.name];)m.name="li",m.fixed=!0,n.parent.insert(m,n.parent),m=m.next;n.unwrap(n)}else{for(o=[n],r=n.parent;r&&!T.isValidChild(r.name,n.name)&&!d[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),i=a=O(o[0].clone()),c=0;c<o.length-1;c++){for(T.isValidChild(a.name,o[c].name)?(s=O(o[c].clone()),a.append(s)):s=a,u=o[c].firstChild;u&&u!==o[c+1];)g=u.next,s.append(u),u=g;a=s}bg(T,l,f,i)?r.insert(n,o[0],!0):(r.insert(i,o[0],!0),r.insert(n,i)),r=o[0],(bg(T,l,f,r)||vg(r,"br"))&&r.empty().remove()}else if(n.parent){if("li"===n.name){if((m=n.prev)&&("ul"===m.name||"ul"===m.name)){m.append(n);continue}if((m=n.next)&&("ul"===m.name||"ul"===m.name)){m.insert(n,m.firstChild,!0);continue}n.wrap(O(new pg("ul",1)));continue}T.isValidChild(n.parent.name,"div")&&T.isValidChild("div",n.name)?n.wrap(O(new pg("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}}(h)),v&&("body"===S.name||a.isRootContent)&&function(){var e,t,n=S.firstChild,r=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(y,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(_,"")))};if(T.isValidChild(S.name,v.toLowerCase())){for(;n;)e=n.next,3===n.type||1===n.type&&"p"!==n.name&&!l[n.name]&&!n.attr("data-mce-type")?(t||((t=C(v,1)).attr(E.forced_root_block_attrs),S.insert(t,n)),t.append(n)):(r(t),t=null),n=e;r(t)}}(),!a.invalid){for(c in N){for(u=A[c],i=(n=N[c]).length;i--;)n[i].parent||n.splice(i,1);for(r=0,o=u.length;r<o;r++)u[r](n,c,a)}for(r=0,o=R.length;r<o;r++)if((u=R[r]).name in D){for(i=(n=D[u.name]).length;i--;)n[i].parent||n.splice(i,1);for(i=0,s=u.callbacks.length;i<s;i++)u.callbacks[i](n,u.name,a)}}return S}};return _g(e,E),lg.register(e,E),e}var Sg=function(e,t,n){-1===bt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},Eg=function(e,t,n){var r=ti(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection?r:bt.trim(r)},Tg=function(e,t,n,r){var o=r.selection?ng.merge({forced_root_block:!1},r):r,i=e.parse(n,o);return ag.trimTrailingBr(i),i},Ag=function(e,t,n,r,o){var i,a,s,u,c=(i=r,HtmlSerializer(t,n).serialize(i));return a=e,u=c,!(s=o).no_events&&a?og(a,ng.merge(s,{content:u})).content:u};function DomSerializer$1(e,t){var n=function DomSerializer(a,s){var u,c,l,e=["data-mce-selected"];return u=s&&s.dom?s.dom:Uo.DOM,c=s&&s.schema?s.schema:Schema(a),a.entity_encoding=a.entity_encoding||"named",a.remove_trailing_brs=!("remove_trailing_brs"in a)||a.remove_trailing_brs,l=DomParser(a,c),ag.register(l,a,u),{schema:c,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(e,t){var n=ng.merge({format:"html"},t||{}),r=sg.process(s,e,n),o=Eg(u,r,n),i=Tg(l,u,o,n);return"tree"===n.format?i:Ag(s,a,c,i,n)},addRules:function(e){c.addValidElements(e)},setRules:function(e){c.setValidElements(e)},addTempAttr:b.curry(Sg,l,e),getTempAttrs:function(){return e}}}(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}var Rg=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(hi(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},Ng=function(e,t){var n,r=(n=e,uc(Cn.fromDom(n.getBody()),"*[data-mce-caret]").fold(b.constant(null),function(e){return e.dom()}));if(r)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void Rg(e,r)):void(si(r)&&Rg(e,r))},Dg=function(e){e.on("keyup compositionstart",b.curry(Ng,e))};function BookmarkManager(e){return{getBookmark:b.curry(bu.getBookmark,e),moveToBookmark:b.curry(bu.moveToBookmark,e)}}(BookmarkManager||(BookmarkManager={})).isBookmarkNode=bu.isBookmarkNode;var Og=BookmarkManager,Bg=uo.isContentEditableFalse,Pg=uo.isContentEditableTrue,Mg=function(r,a){var s,u,c,l,f,d,h,p,m,g,v,b,i,y,_,w,x,C=a.dom,k=bt.each,S=a.getDoc(),E=document,T=Math.abs,A=Math.round,R=a.getBody();l={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var e=".mce-content-body";a.contentStyles.push(e+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+e+" .mce-resizehandle:hover {background: #000}"+e+" img[data-mce-selected],"+e+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+e+" .mce-clonedresizable {position: absolute;"+(de.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+e+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var N=function(e){return e&&("IMG"===e.nodeName||a.dom.is(e,"figure.image"))},n=function(e){var t,n,r=e.target;t=e,n=a.selection.getRng(),!N(t.target)||Op(t.clientX,t.clientY,n)||e.isDefaultPrevented()||(e.preventDefault(),a.selection.select(r))},D=function(e){return a.dom.is(e,"figure.image")?e.querySelector("img"):e},O=function(e){var t=a.settings.object_resizing;return!1!==t&&!de.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==a.getBody()&&dr.is(Cn.fromDom(e),t))},B=function(e){var t,n,r,o;t=e.screenX-d,n=e.screenY-h,y=t*f[2]+g,_=n*f[3]+v,y=y<5?5:y,_=_<5?5:_,(N(s)&&!1!==a.settings.resize_img_proportional?!Mp.modifierPressed(e):Mp.modifierPressed(e)||N(s)&&f[2]*f[3]!=0)&&(T(t)>T(n)?(_=A(y*b),y=A(_/b)):(y=A(_/b),_=A(y*b))),C.setStyles(D(u),{width:y,height:_}),r=0<(r=f.startPos.x+t)?r:0,o=0<(o=f.startPos.y+n)?o:0,C.setStyles(c,{left:r,top:o,display:"block"}),c.innerHTML=y+" &times; "+_,f[2]<0&&u.clientWidth<=y&&C.setStyle(u,"left",p+(g-y)),f[3]<0&&u.clientHeight<=_&&C.setStyle(u,"top",m+(v-_)),(t=R.scrollWidth-w)+(n=R.scrollHeight-x)!=0&&C.setStyles(c,{left:r-t,top:o-n}),i||(a.fire("ObjectResizeStart",{target:s,width:g,height:v}),i=!0)},P=function(){i=!1;var e=function(e,t){t&&(s.style[e]||!a.schema.isValid(s.nodeName.toLowerCase(),e)?C.setStyle(D(s),e,t):C.setAttrib(D(s),e,t))};e("width",y),e("height",_),C.unbind(S,"mousemove",B),C.unbind(S,"mouseup",P),E!==S&&(C.unbind(E,"mousemove",B),C.unbind(E,"mouseup",P)),C.remove(u),C.remove(c),o(s),a.fire("ObjectResized",{target:s,width:y,height:_}),C.setAttrib(s,"style",C.getAttrib(s,"style")),a.nodeChanged()},o=function(e){var t,r,o,n,i;M(),F(),t=C.getPos(e,R),p=t.x,m=t.y,i=e.getBoundingClientRect(),r=i.width||i.right-i.left,o=i.height||i.bottom-i.top,s!==e&&(s=e,y=_=0),n=a.fire("ObjectSelected",{target:e}),O(e)&&!n.isDefaultPrevented()?k(l,function(n,e){var t;(t=C.get("mceResizeHandle"+e))&&C.remove(t),t=C.add(R,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),de.ie&&(t.contentEditable=!1),C.bind(t,"mousedown",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),d=(t=e).screenX,h=t.screenY,g=D(s).clientWidth,v=D(s).clientHeight,b=v/g,(f=n).startPos={x:r*n[0]+p,y:o*n[1]+m},w=R.scrollWidth,x=R.scrollHeight,u=s.cloneNode(!0),C.addClass(u,"mce-clonedresizable"),C.setAttrib(u,"data-mce-bogus","all"),u.contentEditable=!1,u.unSelectabe=!0,C.setStyles(u,{left:p,top:m,margin:0}),u.removeAttribute("data-mce-selected"),R.appendChild(u),C.bind(S,"mousemove",B),C.bind(S,"mouseup",P),E!==S&&(C.bind(E,"mousemove",B),C.bind(E,"mouseup",P)),c=C.add(R,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+v)}),n.elm=t,C.setStyles(t,{left:r*n[0]+p-t.offsetWidth/2,top:o*n[1]+m-t.offsetHeight/2})}):M(),s.setAttribute("data-mce-selected","1")},M=function(){var e,t;for(e in F(),s&&s.removeAttribute("data-mce-selected"),l)(t=C.get("mceResizeHandle"+e))&&(C.unbind(t),C.remove(t))},L=function(e){var t,n=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};i||a.removed||(k(C.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),t="mousedown"===e.type?e.target:r.getNode(),n(t=C.$(t).closest("table,img,figure.image,hr")[0],R)&&(j(),n(r.getStart(!0),t)&&n(r.getEnd(!0),t))?o(t):M())},I=function(e){return Bg(function(e,t){for(;t&&t!==e;){if(Pg(t)||Bg(t))return t;t=t.parentNode}return null}(a.getBody(),e))},F=function(){for(var e in l){var t=l[e];t.elm&&(C.unbind(t.elm),delete t.elm)}},j=function(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return a.on("init",function(){j(),de.ie&&11<=de.ie&&(a.on("mousedown click",function(e){var t=e.target,n=t.nodeName;i||!/^(TABLE|IMG|HR)$/.test(n)||I(t)||(2!==e.button&&a.selection.select(t,"TABLE"===n),"mousedown"===e.type&&a.nodeChanged())}),a.dom.bind(R,"mscontrolselect",function(e){var t=function(e){ve.setEditorTimeout(a,function(){a.selection.select(e)})};if(I(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target))}));var t=ve.throttle(function(e){a.composing||L(e)});a.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),a.on("keyup compositionend",function(e){s&&"TABLE"===s.nodeName&&t(e)}),a.on("hide blur",M),a.on("contextmenu",n)}),a.on("remove",F),{isResizable:O,showResizeRect:o,hideResizeRect:M,updateResizeRect:L,destroy:function(){s=u=null}}},Lg=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},Ig=function(e,t,n){var r,o,i,a,s,u=e.dom,c=u.getRoot(),l=0;if(s={elm:t,alignToTop:n},e.fire("scrollIntoView",s),!s.isDefaultPrevented()&&uo.isElement(t)){if(!1===n&&(l=t.offsetHeight),"BODY"!==c.nodeName){var f=e.selection.getScrollContainer();if(f)return r=Lg(t).y-Lg(f).y+l,a=f.clientHeight,void((r<(i=f.scrollTop)||i+a<r+25)&&(f.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+l,i=o.y,a=o.h,(r<o.y||i+a<r+25)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},Fg=function(e){return uo.isContentEditableTrue(e)||uo.isContentEditableFalse(e)},jg={fromPoint:function(t,n,r){var o,e,i,a,s,u=r;if(u.caretPositionFromPoint)(e=u.caretPositionFromPoint(t,n))&&((o=r.createRange()).setStart(e.offsetNode,e.offset),o.collapse(!0));else if(r.caretRangeFromPoint)o=r.caretRangeFromPoint(t,n);else if(u.body.createTextRange){o=u.body.createTextRange();try{o.moveToPoint(t,n),o.collapse(!0)}catch(e){o=function(e,n,t){var r,o,i;if(r=t.elementFromPoint(e,n),o=t.body.createTextRange(),r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(i=(i=bt.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(t,n,r)}return i=o,a=r.body,s=i&&i.parentElement?i.parentElement():null,uo.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,Fg))?null:i}return o}},zg=function(n,e){return I.map(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})},qg=function(e,t){return Cn.fromDom(e.dom().cloneNode(t))},Hg=function(e){return qg(e,!0)},Ug=function(e){return qg(e,!1)},Wg=Hg,Vg=function(e,t){var n=(t||document).createDocumentFragment();return I.each(e,function(e){n.appendChild(e.dom())}),Cn.fromDom(n)},Kg=function(t){return Cr.firstChild(t).fold(b.constant([t]),function(e){return[t].concat(Kg(e))})},$g=function(t){return Cr.lastChild(t).fold(b.constant([t]),function(e){return"br"===Pn.name(e)?Cr.prevSibling(e).map(function(e){return[t].concat($g(e))}).getOr([]):[t].concat($g(e))})},Gg=function(o,e){return Ta([(i=e,a=i.startContainer,s=i.startOffset,uo.isText(a)?0===s?A.some(Cn.fromDom(a)):A.none():A.from(a.childNodes[s]).map(Cn.fromDom)),(t=e,n=t.endContainer,r=t.endOffset,uo.isText(n)?r===n.data.length?A.some(Cn.fromDom(n)):A.none():A.from(n.childNodes[r-1]).map(Cn.fromDom))],function(e,t){var n=I.find(Kg(o),b.curry(mr.eq,e)),r=I.find($g(o),b.curry(mr.eq,t));return n.isSome()&&r.isSome()}).getOr(!1);var t,n,r,i,a,s},Yg=function(e,t,n,r){var o=n,i=new TreeWalker(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==bt.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(de.ie&&de.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Xg=or.immutable("element","width","rows"),Jg=or.immutable("element","cells"),Zg=or.immutable("x","y"),Qg=function(e,t){var n=parseInt($n.get(e,t),10);return isNaN(n)?1:n},ev=function(e){return I.foldl(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},tv=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(mr.eq(o[i],t))return A.some(Zg(i,r));return A.none()},nv=function(e,t,n,r,o){for(var i=[],a=e.rows(),s=n;s<=o;s++){var u=a[s].cells(),c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(Jg(a[s].element(),c))}return i},rv=function(e){var o=Xg(Ug(e),0,[]);return I.each(ja(e,"tr"),function(n,r){I.each(ja(n,"td,th"),function(e,t){!function(e,t,n,r,o){for(var i=Qg(o,"rowspan"),a=Qg(o,"colspan"),s=e.rows(),u=n;u<n+i;u++){s[u]||(s[u]=Jg(Wg(r),[]));for(var c=t;c<t+a;c++)s[u].cells()[c]=u===n&&c===t?o:Ug(o)}}(o,function(e,t,n){for(;r=t,o=n,i=void 0,((i=e.rows())[o]?i[o].cells():[])[r];)t++;var r,o,i;return t}(o,t,r),r,n,e)})}),Xg(o.element(),ev(o.rows()),o.rows())},ov=function(e){return i=t=e,n=I.map(i.rows(),function(e){var t=I.map(e.cells(),function(e){var t=Wg(e);return $n.remove(t,"colspan"),$n.remove(t,"rowspan"),t}),n=Ug(e.element());return Su(n,t),n}),r=Ug(t.element()),o=Cn.fromTag("tbody"),Su(o,n),Cu.append(r,o),r;var t,n,r,o,i},iv=function(l,e,t){return tv(l,e).bind(function(c){return tv(l,t).map(function(e){return t=l,r=e,o=(n=c).x(),i=n.y(),a=r.x(),s=r.y(),u=i<s?nv(t,o,i,a,s):nv(t,o,s,a,i),Xg(t.element(),ev(u),u);var t,n,r,o,i,a,s,u})})},av=function(n,t){return I.find(n,function(e){return"li"===Pn.name(e)&&Gg(e,t)}).fold(b.constant([]),function(e){return(t=n,I.find(t,function(e){return"ul"===Pn.name(e)||"ol"===Pn.name(e)})).map(function(e){return[Cn.fromTag("li"),Cn.fromTag(Pn.name(e))]}).getOr([]);var t})},sv=function(e,t){var n,r=Cn.fromDom(t.commonAncestorContainer),o=Sc(r,e),i=I.filter(o,function(e){return Wr(e)||Hr(e)}),a=av(o,t),s=i.concat(a.length?a:Gr(n=r)?Cr.parent(n).filter($r).fold(b.constant([]),function(e){return[n,e]}):$r(n)?[n]:[]);return I.map(s,Ug)},uv=function(){return Vg([])},cv=function(e,t){return n=Cn.fromDom(t.cloneContents()),r=sv(e,t),o=I.foldl(r,function(e,t){return Cu.append(t,e),t},n),0<r.length?Vg([o]):o;var n,r,o},lv=function(e,o){return(t=e,n=o[0],sc(n,"table",b.curry(mr.eq,t))).bind(function(e){var t=o[0],n=o[o.length-1],r=rv(e);return iv(r,t,n).map(function(e){return Vg([ov(e)])})}).getOrThunk(uv);var t,n},fv=function(e,t){var n,r,o=Jf(t,e);return 0<o.length?lv(e,o):(n=e,0<(r=t).length&&r[0].collapsed?uv():cv(n,r[0]))},dv=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=zg(e,Vf(i));if((t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":ti(r.text||(i.toString?i.toString():""));r.cloneContents?(n=t.contextual?fv(Cn.fromDom(e.getBody()),a).dom():r.cloneContents())&&o.appendChild(n):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),t.getInner=!0;var s=e.selection.serializer.serialize(o,t);return"tree"===t.format?s:(t.content=e.selection.isCollapsed()?"":s,e.fire("GetContent",t),t.content)},hv=function(e,t,n){var r,o,i,a=e.selection.getRng(),s=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===s&&a.endContainer===s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=s.createDocumentFragment(),i=s.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),(a=s.createRange()).setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)},pv=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return A.from(i).map(Cn.fromDom).map(function(e){return r&&t.collapsed?e:Cr.child(e,o(e,a)).getOr(e)}).bind(function(e){return Pn.isElement(e)?A.some(e):Cr.parent(e)}).map(function(e){return e.dom()}).getOr(e)},mv=function(e,t,n){return pv(e,t,!0,n,function(e,t){return Math.min(Cr.childNodesCount(e),t)})},gv=function(e,t,n){return pv(e,t,!1,n,function(e,t){return 0<t?t-1:t})},vv=function(e,t){for(var n=e;e&&uo.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},bv=bt.each,yv=function(e){return!!e.select},_v=function(e){return!(!e||!e.ownerDocument)&&mr.contains(Cn.fromDom(e.ownerDocument),Cn.fromDom(e))},wv=function(a,s,e,u){var n,t,c,l,f,r=function(e,t){return hv(u,e,t)},o=function(e){var t=h();t.collapse(!!e),i(t)},d=function(){return s.getSelection?s.getSelection():s.document.selection},h=function(){var e,t,n,r,o=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!s)return null;if(null==(r=s.document))return null;if(void 0!==u.bookmark&&!1===Rh(u)){var i=$d.getRng(u);if(i.isSome())return i.map(function(e){return zg(u,[e])[0]}).getOr(r.createRange())}try{(e=d())&&(t=0<e.rangeCount?e.getRangeAt(0):e.createRange?e.createRange():r.createRange())}catch(e){}return(t=zg(u,[t])[0])||(t=r.createRange?r.createRange():r.body.createTextRange()),t.setStart&&9===t.startContainer.nodeType&&t.collapsed&&(n=a.getRoot(),t.setStart(n,0),t.setEnd(n,0)),c&&l&&(0===o(t.START_TO_START,t,c)&&0===o(t.END_TO_END,t,c)?t=l:l=c=null),t},i=function(e,t){var n,r;if((o=e)&&(yv(o)||_v(o.startContainer)&&_v(o.endContainer))){var o,i=yv(e)?e:null;if(i){l=null;try{i.select()}catch(e){}}else{if(n=d(),e=u.fire("SetSelectionRange",{range:e,forward:t}).range,n){l=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),c=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||de.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),u.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var e,t,n=d();return!(n&&n.anchorNode&&n.focusNode)||((e=a.createRng()).setStart(n.anchorNode,n.anchorOffset),e.collapse(!0),(t=a.createRng()).setStart(n.focusNode,n.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},m={bookmarkManager:null,controlSelection:null,dom:a,win:s,serializer:e,editor:u,collapse:o,setCursorLocation:function(e,t){var n=a.createRng();e?(n.setStart(e,t),n.setEnd(e,t),i(n),o(!1)):(Yg(a,n,u.getBody(),!0),i(n))},getContent:function(e){return dv(u,e)},setContent:r,getBookmark:function(e,t){return n.getBookmark(e,t)},moveToBookmark:function(e){return n.moveToBookmark(e)},select:function(e,t){var r,n,o;return(r=a,n=e,o=t,A.from(n).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Yg(r,n,e,!0),Yg(r,n,e,!1)),n})).each(i),e},isCollapsed:function(){var e=h(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(e){return r(a.getOuterHTML(e)),e},getNode:function(){return e=u.getBody(),(t=h())?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?vv(r.nextSibling,!0):r.parentNode,o=0===a?vv(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,i,a},getSel:d,setRng:i,getRng:h,getStart:function(e){return mv(u.getBody(),h(),e)},getEnd:function(e){return gv(u.getBody(),h(),e)},getSelectedBlocks:function(e,t){return function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||mv(i,t,!1),e.isBlock),r=e.getParent(r||gv(i,t,!1),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r)for(var s=new TreeWalker(o=n,i);(o=s.next())&&o!==r;)e.isBlock(o)&&a.push(o);return r&&n!==r&&r!==i&&a.push(r),a}(a,h(),e,t)},normalize:function(){var e=h();if(!$f(d())){var t=yd.normalize(a,e);return t.each(function(e){i(e,p())}),t.getOr(e)}return e},selectorChanged:function(e,t){var i;return f||(f={},i={},u.on("NodeChange",function(e){var n=e.element,r=a.getParents(n,null,a.getRoot()),o={};bv(f,function(e,n){bv(r,function(t){if(a.is(t,n))return i[n]||(bv(e,function(e){e(!0,{node:t,selector:n,parents:r})}),i[n]=e),o[n]=e,!1})}),bv(i,function(e,t){o[t]||(delete i[t],bv(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),f[e]||(f[e]=[]),f[e].push(t),m},getScrollContainer:function(){for(var e,t=a.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){return Ig(u,e,t)},placeCaretAt:function(e,t){return i(jg.fromPoint(e,t,u.getDoc()))},getBoundingClientRect:function(){var e=h();return e.collapsed?ra.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){s=null,t.destroy()}};return n=Og(m),t=Mg(m,u),m.bookmarkManager=n,m.controlSelection=t,m},xv=uo.isContentEditableFalse,Cv=Ni,kv=Ts,Sv=Es,Ev=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Tv=function(e,t,n,r){var o,i,a,s,u,c,l=e===Aa.Forwards,f=l?Sv:kv;return!r.collapsed&&(o=Cv(r),xv(o))?Ca(e,t,o,e===Aa.Backwards):(s=oi(r.startContainer),f(i=Ss(e,t.getBody(),r))?ka(t,i.getNode(!l)):(i=n(i))?f(i)?Ca(e,t,i.getNode(!l),l):f(a=n(i))&&(!(c=ms(u=i,a))&&uo.isBr(u.getNode())||c)?Ca(e,t,a.getNode(!l),l):s?Ea(t,i.toRange()):null:s?r:null)},Av=function(e,t,n,r){var o,i,a,s,u,c,l,f,d;if(d=Cv(r),o=Ss(e,t.getBody(),r),i=n(t.getBody(),xp(1),o),a=ht.filter(i,Cp(1)),u=ht.last(o.getClientRects()),(Sv(o)||As(o))&&(d=o.getNode()),(kv(o)||Rs(o))&&(d=o.getNode(!0)),!u)return null;if(c=u.left,(s=Rp(a,c))&&xv(s.node))return l=Math.abs(c-s.left),f=Math.abs(c-s.right),Ca(e,t,s.node,l<f);if(d){var h=function(e,t,n,r){var o,i,a,s,u,c,l=zs(t),f=[],d=0,h=function(e){return ht.last(e.getClientRects())};1===e?(o=l.next,i=Ri,a=Ai,s=ra.after(r)):(o=l.prev,i=Ai,a=Ri,s=ra.before(r)),c=h(s);do{if(s.isVisible()&&!a(u=h(s),c)){if(0<f.length&&i(u,ht.last(f))&&d++,(u=Si(u)).position=s,u.line=d,n(u))return f;f.push(u)}}while(s=o(s));return f}(e,t.getBody(),xp(1),d);if(s=Rp(ht.filter(h,Cp(1)),c))return Ea(t,s.position.toRange());if(s=ht.last(ht.filter(h,Cp(0))))return Ea(t,s.position.toRange())}},Rv=function(e,t,n){var r,o,i,a,s=zs(e.getBody()),u=Li.curry(Ev,s.next),c=Li.curry(Ev,s.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(r=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?u(ra.fromRangeStart(n)):c(ra.fromRangeStart(n)))||(a=(i=e).dom.create(i.settings.forced_root_block),(!de.ie||11<=de.ie)&&(a.innerHTML='<br data-mce-bogus="1">'),o=a,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},Nv=function(l,f){return function(){var e,t,n,r,o,i,a,s,u,c=(t=f,r=zs((e=l).getBody()),o=Li.curry(Ev,r.next),i=Li.curry(Ev,r.prev),a=t?Aa.Forwards:Aa.Backwards,s=t?o:i,u=e.selection.getRng(),(n=Tv(a,e,s,u))?n:(n=Rv(e,a,u))||null);return!!c&&(l.selection.setRng(c),!0)}},Dv=function(s,u){return function(){var e,t,n,r,o,i,a=(r=(t=u)?1:-1,o=t?wp:_p,i=(e=s).selection.getRng(),(n=Av(r,e,o,i))?n:(n=Rv(e,r,i))||null);return!!a&&(s.selection.setRng(a),!0)}},Ov=function(e,r){return I.bind((t=e,I.map(t,function(e){return ng.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:b.noop},e)})),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n});var t},Bv=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},Pv=function(e,t){return I.find(Ov(e,t),function(e){return e.action()})},Mv=function(i,a){i.on("keydown",function(e){var t,n,r,o;!1===e.isDefaultPrevented()&&(t=i,n=a,r=e,o=wn.detect().os,Pv([{keyCode:Mp.RIGHT,action:Nv(t,!0)},{keyCode:Mp.LEFT,action:Nv(t,!1)},{keyCode:Mp.UP,action:Dv(t,!1)},{keyCode:Mp.DOWN,action:Dv(t,!0)},{keyCode:Mp.RIGHT,action:Za(t,!0)},{keyCode:Mp.LEFT,action:Za(t,!1)},{keyCode:Mp.UP,action:Qa(t,!1)},{keyCode:Mp.DOWN,action:Qa(t,!0)},{keyCode:Mp.RIGHT,action:Af.move(t,n,!0)},{keyCode:Mp.LEFT,action:Af.move(t,n,!1)},{keyCode:Mp.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Af.moveNextWord(t,n)},{keyCode:Mp.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:Af.movePrevWord(t,n)}],r).each(function(e){r.preventDefault()}))})},Lv=function(e){return 1===Cr.children(e).length},Iv=function(n,r){var t,e=Cn.fromDom(n.getBody()),o=Cn.fromDom(n.selection.getStart()),i=I.filter((t=Sc(o,e),I.findIndex(t,Ur).fold(b.constant(t),function(e){return t.slice(0,e)})),Lv);return I.last(i).map(function(e){var t=ra.fromRangeStart(n.selection.getRng());return!!ic(r,t,e.dom())&&(function(e,t,n,r){var o=b.curry(Yl.isFormatElement,t),i=I.map(I.filter(r,o),function(e){return e.dom()});if(0===i.length)Jc(t,e,n);else{var a=Yl.replaceWithCaretFormat(n.dom(),i);t.selection.setRng(a.toRange())}}(r,n,e,i),!0)}).getOr(!1)},Fv=function(e,t){return!!e.selection.isCollapsed()&&Iv(e,t)},jv=function(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,Pv([{keyCode:Mp.BACKSPACE,action:Bv(el,t,!1)},{keyCode:Mp.DELETE,action:Bv(el,t,!0)},{keyCode:Mp.BACKSPACE,action:Bv(Of,t,n,!1)},{keyCode:Mp.DELETE,action:Bv(Of,t,n,!0)},{keyCode:Mp.BACKSPACE,action:Bv(Lc,t,!1)},{keyCode:Mp.DELETE,action:Bv(Lc,t,!0)},{keyCode:Mp.BACKSPACE,action:Bv(Oc,t,!1)},{keyCode:Mp.DELETE,action:Bv(Oc,t,!0)},{keyCode:Mp.BACKSPACE,action:Bv(ud,t,!1)},{keyCode:Mp.DELETE,action:Bv(ud,t,!0)},{keyCode:Mp.BACKSPACE,action:Bv(Fv,t,!1)},{keyCode:Mp.DELETE,action:Bv(Fv,t,!0)}],r).each(function(e){r.preventDefault()}))}),o.on("keyup",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=o,n=e,Pv([{keyCode:Mp.BACKSPACE,action:Bv(tl,t)},{keyCode:Mp.DELETE,action:Bv(tl,t)}],n))})},zv=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},qv=function(e){return e.getParam("iframe_attrs",{})},Hv=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Uv=function(e){return e.getParam("document_base_url","")},Wv=function(e){return zv(e,"body_id","tinymce")},Vv=function(e){return zv(e,"body_class","")},Kv=function(e){return e.getParam("content_security_policy","")},$v=function(e){return e.getParam("br_in_pre",!0)},Gv=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},Yv=function(e){return e.getParam("forced_root_block_attrs",{})},Xv=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Jv=function(e){return e.getParam("no_newline_selector","")},Zv=function(e){return e.getParam("keep_styles",!0)},Qv=function(e){return e.getParam("end_container_on_empty_block",!1)},eb=function(e){return A.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},tb=function(e,t){var n,r,o,i=t,a=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var u=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(o=a.createRng(),t.normalize(),t.hasChildNodes()){for(n=new TreeWalker(t,t);r=n.current();){if(uo.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(s[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}i=r,r=n.next()}r||(o.setStart(i,0),o.setEnd(i,0))}else uo.isBr(t)?t.nextSibling&&a.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),a.remove(void 0),e.selection.scrollIntoView(t)}},nb=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},rb=eb,ob=function(e){return eb(e).fold(b.constant(""),function(e){return e.nodeName.toUpperCase()})},ib=function(e){return eb(e).filter(function(e){return Gr(Cn.fromDom(e))}).isSome()},ab=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},sb=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},ub=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},cb=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!uo.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},lb=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;sb(s=n)&&sb(s.parentNode)&&(o="LI");var u,c,l=o?t(o):i.create("BR");if(cb(n,r,!0)&&cb(n,r,!1))ab(n,"LI")?i.insertAfter(l,ub(n)):i.replace(l,n);else if(cb(n,r,!0))ab(n,"LI")?(i.insertAfter(l,ub(n)),l.appendChild(i.doc.createTextNode(" ")),l.appendChild(n)):n.parentNode.insertBefore(l,n);else if(cb(n,r,!1))i.insertAfter(l,ub(n));else{n=ub(n);var f=a.cloneRange();f.setStartAfter(r),f.setEndAfter(n);var d=f.extractContents();"LI"===o&&(c="LI",(u=d).firstChild&&u.firstChild.nodeName===c)?(l=d.firstChild,i.insertAfter(d,n)):(i.insertAfter(d,n),i.insertAfter(l,n))}i.remove(r),tb(e,l)}},fb=function(e){e.innerHTML='<br data-mce-bogus="1">'},db=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},hb=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},pb=function(e,t,n){return!1===uo.isText(t)?n:e?1===n&&t.data.charAt(n-1)===ei?0:n:n===t.data.length-1&&t.data.charAt(n)===ei?t.data.length:n},mb=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},gb=function(e,t){var n=Gv(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,Yv(e))},vb=function(a,e){var t,s,u,i,c,n,r,o,l,f,d,h,p,m,g,v,b,y,_=a.dom,w=a.schema,x=w.getNonEmptyElements(),C=a.selection.getRng(),k=function(e){var t,n,r,o=u,i=w.getTextInlineElements();if(e||"TABLE"===f||"HR"===f?(t=_.create(e||h),gb(a,t)):t=c.cloneNode(!1),r=t,!1===Zv(a))_.setAttrib(t,"style",null),_.setAttrib(t,"class",null);else do{if(i[o.nodeName]){if(Yl.isCaretNode(o))continue;n=o.cloneNode(!1),_.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):r=n,t.appendChild(n)}}while((o=o.parentNode)&&o!==s);return fb(r),t},S=function(e){var t,n,r,o;if(o=pb(e,u,i),uo.isText(u)&&(e?0<o:o<u.nodeValue.length))return!1;if(u.parentNode===c&&p&&!e)return!0;if(e&&uo.isElement(u)&&u===c.firstChild)return!0;if(db(u,"TABLE")||db(u,"HR"))return p&&!e||!p&&e;for(t=new TreeWalker(u,c),uo.isText(u)&&(e&&0===o?t.prev():e||o!==u.nodeValue.length||t.next());n=t.current();){if(uo.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),x[r]&&"br"!==r))return!1}else if(uo.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},E=function(){r=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?k(h):k(),Qv(a)&&hb(_,l)&&_.isEmpty(c)?r=_.split(l,c):_.insertAfter(r,c),tb(a,r)};yd.normalize(_,C).each(function(e){C.setStart(e.startContainer,e.startOffset),C.setEnd(e.endContainer,e.endOffset)}),u=C.startContainer,i=C.startOffset,h=Gv(a),n=e.shiftKey,uo.isElement(u)&&u.hasChildNodes()&&(p=i>u.childNodes.length-1,u=u.childNodes[Math.min(i,u.childNodes.length-1)]||u,i=p&&uo.isText(u)?u.nodeValue.length:0),(s=mb(_,u))&&((h&&!n||!h&&n)&&(u=function(e,t,n,r,o){var i,a,s,u,c,l,f,d=t||"P",h=e.dom,p=mb(h,r);if(!(a=h.getParent(r,h.isBlock))||!hb(h,a)){if(l=(a=a||p)===e.getBody()||(f=a)&&/^(TD|TH|CAPTION)$/.test(f.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=h.create(d),gb(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!h.isBlock(u);)u=(s=u).previousSibling;if(s&&e.schema.isValidChild(l,d.toLowerCase())){for(i=h.create(d),gb(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!h.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r}(a,h,C,u,i)),c=_.getParent(u,_.isBlock),l=c?_.getParent(c.parentNode,_.isBlock):null,f=c?c.nodeName.toUpperCase():"","LI"!==(d=l?l.nodeName.toUpperCase():"")||e.ctrlKey||(l=(c=l).parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&_.isEmpty(c)?lb(a,k,l,c,h):h&&c===a.getBody()||(h=h||"P",oi(c)?(r=hi(c),_.isEmpty(c)&&fb(c),tb(a,r)):S()?E():S(!0)?(r=c.parentNode.insertBefore(k(),c),tb(a,db(c,"HR")?r:c)):((t=(b=C,y=b.cloneRange(),y.setStart(b.startContainer,pb(!0,b.startContainer,b.startOffset)),y.setEnd(b.endContainer,pb(!1,b.endContainer,b.endOffset)),y).cloneRange()).setEndAfter(c),function(e){for(;uo.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(o=t.extractContents()),r=o.firstChild,_.insertAfter(o,c),function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;uo.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):(a=o)&&"A"===a.nodeName&&0===bt.trim(ti(a.innerText||a.textContent)).length&&e.remove(o);var a}}(_,x,r),m=_,(g=c).normalize(),(v=g.lastChild)&&!/^(left|right)$/gi.test(m.getStyle(v,"float",!0))||m.add(g,"br"),_.isEmpty(c)&&fb(c),r.normalize(),_.isEmpty(r)?(_.remove(r),E()):tb(a,r)),_.setAttrib(r,"id",""),a.fire("NewBlock",{newBlock:r})))},bb=function(e,t){return rb(e).filter(function(e){return 0<t.length&&dr.is(Cn.fromDom(e),t)}).isSome()},yb=function(e){return bb(e,Xv(e))},_b=function(e){return bb(e,Jv(e))},wb=Ic([{br:[]},{block:[]},{none:[]}]),xb=function(e,t){return _b(e)},Cb=function(n){return function(e,t){return""===Gv(e)===n}},kb=function(n){return function(e,t){return ib(e)===n}},Sb=function(n){return function(e,t){return"PRE"===ob(e)===n}},Eb=function(n){return function(e,t){return $v(e)===n}},Tb=function(e,t){return yb(e)},Ab=function(e,t){return t},Rb=function(e){var t=Gv(e),n=nb(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},Nb=function(e,t){return function(n,r){return I.foldl(e,function(e,t){return e&&t(n,r)},!0)?A.some(t):A.none()}},Db=function(e,t){return Xl([Nb([xb],wb.none()),Nb([Sb(!0),Eb(!1),Ab],wb.br()),Nb([Sb(!0),Eb(!1)],wb.block()),Nb([Sb(!0),Eb(!0),Ab],wb.block()),Nb([Sb(!0),Eb(!0)],wb.br()),Nb([kb(!0),Ab],wb.br()),Nb([kb(!0)],wb.block()),Nb([Cb(!0),Ab,Rb],wb.block()),Nb([Cb(!0)],wb.br()),Nb([Tb],wb.br()),Nb([Cb(!1),Ab],wb.br()),Nb([Rb],wb.block())],[e,t.shiftKey]).getOr(wb.none())},Ob=function(e,t){Db(e,t).fold(function(){Rd.insert(e,t)},function(){vb(e,t)},b.noop)},Bb=function(o){o.on("keydown",function(e){var t,n,r;e.keyCode===Mp.ENTER&&(t=o,(n=e).isDefaultPrevented()||(n.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Ob(t,n)})))})},Pb=function(e,t,n){return s=t,!(!Mb(n)||!uo.isText(s.container())||(r=e,i=(o=t).container(),a=o.offset(),i.insertData(a,"\xa0"),r.selection.setCursorLocation(i,a+1),0));var r,o,i,a,s},Mb=function(e){return e.fold(b.constant(!1),b.constant(!0),b.constant(!0),b.constant(!1))},Lb=function(e){return!!e.selection.isCollapsed()&&(t=e,n=b.curry(nc.isInlineTarget,t),r=ra.fromRangeStart(t.selection.getRng()),mf(n,t.getBody(),r).map(b.curry(Pb,t,r)).getOr(!1));var t,n,r},Ib=function(r){r.on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=r,n=e,Pv([{keyCode:Mp.SPACEBAR,action:Bv(Lb,t)}],n).each(function(e){n.preventDefault()}))})},Fb=function(e){var t=Af.setupSelectedState(e);Mv(e,t),jv(e,t),Bb(e),Ib(e)};function Quirks(s){var u,n,r,o=bt.each,c=Mp.BACKSPACE,l=Mp.DELETE,f=s.dom,d=s.selection,e=s.settings,t=s.parser,i=de.gecko,a=de.ie,h=de.webkit,p="data:text/mce-internal,",m=a?"Text":"URL",g=function(e,t){try{s.getDoc().execCommand(e,!1,t)}catch(e){}},v=function(e){return e.isDefaultPrevented()},b=function(){s.shortcuts.add("meta+a",null,"SelectAll")},y=function(){s.on("keydown",function(e){if(!v(e)&&e.keyCode===c&&d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},_=function(){s.inline||(s.contentStyles.push("body {min-height: 150px}"),s.on("click",function(e){var t;if("HTML"===e.target.nodeName){if(11<de.ie)return void s.getBody().focus();t=s.selection.getRng(),s.getBody().focus(),s.selection.setRng(t),s.selection.normalize(),s.nodeChanged()}}))};return s.on("keydown",function(e){var t,n,r,o,i;if(!v(e)&&e.keyCode===Mp.BACKSPACE&&(n=(t=d.getRng()).startContainer,r=t.startOffset,o=f.getRoot(),i=n,t.collapsed&&0===r)){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(s.formatter.toggle("blockquote",null,i),(t=f.createRng()).setStart(n,0),t.setEnd(n,0),d.setRng(t))}}),u=function(e){var t=f.create("body"),n=e.cloneContents();return t.appendChild(n),d.serializer.serialize(t,{format:"html"})},s.on("keydown",function(e){var t,n,r,o,i,a=e.keyCode;if(!v(e)&&(a===l||a===c)){if(t=s.selection.isCollapsed(),n=s.getBody(),t&&!f.isEmpty(n))return;if(!t&&(r=s.selection.getRng(),o=u(r),(i=f.createRng()).selectNode(s.getBody()),o!==u(i)))return;e.preventDefault(),s.setContent(""),n.firstChild&&f.isBlock(n.firstChild)?s.selection.setCursorLocation(n.firstChild,0):s.selection.setCursorLocation(n,0),s.nodeChanged()}}),de.windowsPhone||s.on("keyup focusin mouseup",function(e){Mp.modifierPressed(e)||d.normalize()},!0),h&&(s.settings.content_editable||f.bind(s.getDoc(),"mousedown mouseup",function(e){var t;if(e.target===s.getDoc().documentElement)if(t=d.getRng(),s.getBody().focus(),"mousedown"===e.type){if(ai(t.startContainer))return;d.placeCaretAt(e.clientX,e.clientY)}else d.setRng(t)}),s.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==f.getContentEditableParent(t)&&(e.preventDefault(),s.selection.select(t),s.nodeChanged()),"A"===t.nodeName&&f.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),d.select(t))}),e.forced_root_block&&s.on("init",function(){g("DefaultParagraphSeparator",e.forced_root_block)}),s.on("init",function(){s.dom.bind(s.getBody(),"submit",function(e){e.preventDefault()})}),y(),t.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),de.iOS?(s.inline||s.on("keydown",function(){document.activeElement===document.body&&s.getWin().focus()}),_(),s.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),s.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=de.ie&&(_(),y()),de.ie&&(b(),g("AutoUrlDetect",!1),s.on("dragstart",function(e){var t,n,r;(t=e).dataTransfer&&(s.selection.isCollapsed()&&"IMG"===t.target.tagName&&d.select(t.target),0<(n=s.selection.getContent()).length&&(r=p+escape(s.id)+","+escape(n),t.dataTransfer.setData(m,r)))}),s.on("drop",function(e){if(!v(e)){var t=(i=e).dataTransfer&&(a=i.dataTransfer.getData(m))&&0<=a.indexOf(p)?(a=a.substr(p.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(t&&t.id!==s.id){e.preventDefault();var n=jg.fromPoint(e.x,e.y,s.getDoc());d.setRng(n),r=t.html,o=!0,s.queryCommandSupported("mceInsertClipboardContent")?s.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):s.execCommand("mceInsertContent",!1,r)}}var r,o,i,a})),i&&(s.on("keydown",function(e){if(!v(e)&&e.keyCode===c){if(!s.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode(),n=t.previousSibling;if("HR"===t.nodeName)return f.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(f.remove(n),e.preventDefault())}}}),Range.prototype.getClientRects||s.on("mousedown",function(e){if(!v(e)&&"HTML"===e.target.nodeName){var t=s.getBody();t.blur(),ve.setEditorTimeout(s,function(){t.focus()})}}),n=function(){var e=f.getAttribs(d.getStart().cloneNode(!1));return function(){var t=d.getStart();t!==s.getBody()&&(f.setAttrib(t,"style",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!d.isCollapsed()&&f.getParent(d.getStart(),f.isBlock)!==f.getParent(d.getEnd(),f.isBlock)},s.on("keypress",function(e){var t;if(!v(e)&&(8===e.keyCode||46===e.keyCode)&&r())return t=n(),s.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),f.bind(s.getDoc(),"cut",function(e){var t;!v(e)&&r()&&(t=n(),ve.setEditorTimeout(s,function(){t()}))}),e.readonly||s.on("BeforeExecCommand MouseDown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),e.object_resizing||g("enableObjectResizing",!1)}),s.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(f.select("a"),function(e){var t=e.parentNode,n=f.getRoot();if(t.lastChild===e){for(;t&&!f.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}f.add(t,"br",{"data-mce-bogus":1})}})}),s.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),de.mac&&s.on("keydown",function(e){!Mp.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),s.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),y()),{refreshContentEditable:function(){},isHidden:function(){var e;return!i||s.removed?0:!(e=s.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}var jb=Uo.DOM,zb=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ve.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},qb=function(t,e){var n,r,s,o,i,a,u,c,l,f=t.settings,d=t.getElement(),h=t.getDoc();f.inline||(t.getElement().style.visibility=t.orgVisibility),e||f.content_editable||(h.open(),h.write(t.iframeHTML),h.close()),f.content_editable&&(t.on("remove",function(){var e=this.getBody();jb.removeClass(e,"mce-content-body"),jb.removeClass(e,"mce-edit-focus"),jb.setAttrib(e,"contentEditable",null)}),jb.addClass(d,"mce-content-body"),t.contentDocument=h=f.content_document||document,t.contentWindow=f.content_window||window,t.bodyElement=d,f.content_document=f.content_window=null,f.root_name=d.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=f.readonly,t.readonly||(t.inline&&"static"===jb.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=EditorUpload(t),t.schema=Schema(f),t.dom=new Uo(h,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:f.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((o=DomParser((s=t).settings,s.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o,i=e.length,a=s.dom;i--;)if(r=(n=e[i]).attr(t),o="data-mce-"+t,!n.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(o,r),n.attr(t,r)):"tabindex"===t?(n.attr(o,r),n.attr(t,null)):n.attr(o,s.convertURL(r,t,n.name))}}),o.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new pg("br",1)).shortEnded=!0)}),o),t.serializer=DomSerializer$1(f,t),t.selection=wv(t.dom,t.getWin(),t.serializer,t),t.formatter=Formatter(t),t.undoManager=UndoManager(t),t._nodeChangeDispatcher=new NodeChange(t),t._selectionOverrides=zp(t),Dg(t),Fb(t),ip(t),t.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(h.body.spellcheck=!1,jb.setAttrib(n,"spellcheck","false")),t.quirks=Quirks(t),t.fire("PostRender"),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&t.on("BeforeSetContent",function(t){bt.each(f.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),f.padd_empty_editor&&t.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),0<t.contentStyles.length&&(r="",bt.each(t.contentStyles,function(e){r+=e+"\r\n"}),t.dom.addStyle(r)),(i=t,i.inline?jb.styleSheetLoader:i.dom.styleSheetLoader).loadAll(t.contentCSS,function(e){zb(t)},function(e){zb(t)}),f.content_style&&(a=t,u=f.content_style,c=Cn.fromDom(a.getDoc().head),l=Cn.fromTag("style"),$n.set(l,"type","text/css"),Cu.append(l,Cn.fromText(u)),Cu.append(c,l))},Hb=Uo.DOM,Ub=function(e,t){var n,r,o,i,a,s,u,c=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),l=(n=e.id,r=c,o=t.height,i=qv(e),u=Cn.fromTag("iframe"),$n.setAll(u,i),$n.setAll(u,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),er(u,{width:"100%",height:(a=o,s="number"==typeof a?a+"px":a,s||""),display:"block"}),u).dom();l.onload=function(){l.onload=null,e.fire("load")};var f,d,h,p,m=function(e,t){if(document.domain!==window.location.hostname&&de.ie&&de.ie<12){var n=tp.uuid("mce");e[n]=function(){qb(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Hb.setAttrib(t,"src",r),!0}return!1}(e,l);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=l,e.iframeHTML=(p=Hv(f=e)+"<html><head>",Uv(f)!==f.documentBaseUrl&&(p+='<base href="'+f.documentBaseURI.getURI()+'" />'),p+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=Wv(f),h=Vv(f),Kv(f)&&(p+='<meta http-equiv="Content-Security-Policy" content="'+Kv(f)+'" />'),p+='</head><body id="'+d+'" class="mce-content-body '+h+'" data-id="'+f.id+'"><br></body></html>'),Hb.add(t.iframeContainer,l),m},Wb=function(e,t){var n=Ub(e,t);t.editorContainer&&(Hb.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=Hb.isHidden(t.editorContainer)),e.getElement().style.display="none",Hb.setAttrib(e.id,"aria-hidden",!0),n||qb(e)},Vb=Uo.DOM,Kb=function(t,n,e){var r,o,i=Hh.get(e);if(r=Hh.urls[e]||t.documentBaseUrl.replace(/\/$/,""),e=bt.trim(e),i&&-1===bt.inArray(n,e)){if(bt.each(Hh.dependencies(e),function(e){Kb(t,n,e)}),t.plugins[e])return;o=new i(t,r,t.$),(t.plugins[e]=o).init&&(o.init(t,r),n.push(e))}},$b=function(e){return e.replace(/^\-/,"")},Gb=function(e){return{editorContainer:e,iframeContainer:e}},Yb=function(e){var t,n,r=e.getElement();return e.inline?Gb(null):(t=r,n=Vb.create("div"),Vb.insertAfter(n,t),Gb(n))},Xb=function(e){var t,n,r,o,i,a,s,u,c,l,f,d=e.settings,h=e.getElement();return e.orgDisplay=h.style.display,Ln.isString(d.theme)?(l=(o=e).settings,f=o.getElement(),i=l.width||Vb.getStyle(f,"width")||"100%",a=l.height||Vb.getStyle(f,"height")||f.offsetHeight,s=l.min_height||100,(u=/^[0-9\.]+(|px)$/i).test(""+i)&&(i=Math.max(parseInt(i,10),100)),u.test(""+a)&&(a=Math.max(parseInt(a,10),s)),c=o.theme.renderUI({targetNode:f,width:i,height:a,deltaWidth:l.delta_width,deltaHeight:l.delta_height}),l.content_editable||(a=(c.iframeHeight||a)+("number"==typeof a?c.deltaHeight||0:""))<s&&(a=s),c.height=a,c):Ln.isFunction(d.theme)?(r=(t=e).getElement(),(n=t.settings.theme(t,r)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:r.offsetHeight,n):Yb(e)},Jb=function(t){var e,n,r,o,i,a,s=t.settings,u=t.getElement();return t.rtl=s.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(s.language),s.aria_label=s.aria_label||Vb.getAttrib(u,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),o=(n=t).settings.theme,Ln.isString(o)?(n.settings.theme=$b(o),r=Uh.get(o),n.theme=new r(n,Uh.urls[o]),n.theme.init&&n.theme.init(n,Uh.urls[o]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},i=t,a=[],bt.each(i.settings.plugins.split(/[ ,]/),function(e){Kb(i,a,$b(e))}),e=Xb(t),t.editorContainer=e.editorContainer?e.editorContainer:null,s.content_css&&bt.each(bt.explode(s.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),s.content_editable?qb(t):Wb(t,e)},Zb=Uo.DOM,Qb=function(e){return"-"===e.charAt(0)},ey=function(i,a){var s=Go.ScriptLoader;!function(e,t,n,r){var o=t.settings,i=o.theme;if(Ln.isString(i)){if(!Qb(i)&&!Uh.urls.hasOwnProperty(i)){var a=o.theme_url;a?Uh.load(i,t.documentBaseURI.toAbsolute(a)):Uh.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){Uh.waitFor(i,r)})}else r()}(s,i,a,function(){var e,t,n,r,o;e=s,(n=(t=i).settings).language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url),r=i.settings,o=a,bt.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),bt.each(r.external_plugins,function(e,t){Hh.load(t,e),r.plugins+=" "+t}),bt.each(r.plugins.split(/[ ,]/),function(e){if((e=bt.trim(e))&&!Hh.urls[e])if(Qb(e)){e=e.substr(1,e.length);var t=Hh.dependencies(e);bt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=Hh.createUrl(t,e),Hh.load(e.resource,e)})}else Hh.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),s.loadQueue(function(){i.removed||Jb(i)},i,function(e){qh.pluginLoadError(i,e[0]),i.removed||Jb(i)})})},ty=function(t){var e=t.settings,n=t.id,r=function(){Zb.unbind(window,"ready",r),t.render()};if(Ee.Event.domLoaded){if(t.getElement()&&de.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var o=t.getElement().form||Zb.getParent(n,"form");o&&(t.formElement=o,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(Zb.insertAfter(Zb.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Zb.bind(o,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!e.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),o._mceOldSubmit(o)})),t.windowManager=WindowManager(t),t.notificationManager=NotificationManager(t),"xml"===e.encoding&&t.on("GetContent",function(e){e.save&&(e.content=Zb.encode(e.content))}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),ey(t,t.suffix)}}else Zb.bind(window,"ready",r)},ny=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},ry=bt.each,oy=bt.trim,iy="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),ay={ftp:21,http:80,https:443,mailto:25},sy=function(r,e){var t,n,o=this;if(r=oy(r),t=(e=o.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r))o.source=r;else{var i=0===r.indexOf("//");0!==r.indexOf("/")||i||(r=(t&&t.protocol||"http")+"://mce_host"+r),/^[\w\-]*:?\/\//.test(r)||(n=e.base_uri?e.base_uri.path:new sy(document.location.href).directory,""==e.base_uri.protocol?r="//mce_host"+o.toAbsPath(n,r):(r=/([^#?]*)([#?]?.*)/.exec(r),r=(t&&t.protocol||"http")+"://mce_host"+o.toAbsPath(n,r[1])+r[2])),r=r.replace(/@@/g,"(mce_at)"),r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r),ry(iy,function(e,t){var n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n}),t&&(o.protocol||(o.protocol=t.protocol),o.userInfo||(o.userInfo=t.userInfo),o.port||"mce_host"!==o.host||(o.port=t.port),o.host&&"mce_host"!==o.host||(o.host=t.host),o.source=""),i&&(o.protocol="")}};sy.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new sy(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),r=e.getURI();return n===r||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===r?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new sy(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=ay[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),ry(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<i?i--:a.push(t[n]):i++);return 0!==(o=(n=e.length-i)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},sy.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},sy.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var uy=function(e,t){t(e),e.firstChild&&uy(e.firstChild,t),e.next&&uy(e.next,t)},cy=function(e,t,n){var r=function(e,n,t){var r={},o={},i=[];for(var a in t.firstChild&&uy(t.firstChild,function(t){I.each(e,function(e){e.name===t.name&&(r[e.name]?r[e.name].nodes.push(t):r[e.name]={filter:e,nodes:[t]})}),I.each(n,function(e){"string"==typeof t.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})})}),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(e,t,n);I.each(r,function(t){I.each(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},ly=function(e){return e instanceof pg},fy=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=ly(t)?"":t,ly(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),ly(t)?function(e,t,n){cy(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),t);var r=HtmlSerializer({validate:e.validate},e.schema).serialize(t);return n.content=bt.trim(r),e.dom.setHTML(e.getBody(),n.content),n.no_events||e.fire("SetContent",n),t}(e,t,n):(o=t,i=n,u=(r=e).getBody(),0===o.length||/^\s+$/.test(o)?(s='<br data-mce-bogus="1">',"TABLE"===u.nodeName?o="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(u.nodeName)&&(o="<li>"+s+"</li>"),(a=r.settings.forced_root_block)&&r.schema.isValidChild(u.nodeName.toLowerCase(),a.toLowerCase())?(o=s,o=r.dom.createHTML(a,r.settings.forced_root_block_attrs,o)):o||(o='<br data-mce-bogus="1">'),r.dom.setHTML(u,o),r.fire("SetContent",i)):("raw"!==i.format&&(o=HtmlSerializer({validate:r.validate},r.schema).serialize(r.parser.parse(o,{isRootContent:!0,insert:!0}))),i.content=bt.trim(o),r.dom.setHTML(u,i.content),i.no_events||r.fire("SetContent",i)),i.content);var r,o,i,a,s,u},dy=Uo.DOM,hy=function(e){return A.from(e).each(function(e){return e.destroy()})},py=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&dy.remove(o.nextSibling),!e.inline&&r&&(i=e).orgDisplay&&dy.setStyle(i.id,"display",i.orgDisplay),ig(e),e.editorManager.remove(e),dy.remove(e.getContainer()),hy(t),hy(n),e.destroy()}var i},my=function(e,t){var n,r,o,i=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),hy(i),hy(a)),(r=(n=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),dy.unbind(r,"submit reset",n.formEventDelegate)),(o=e).contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null),e.destroyed=1):e.remove())},gy=Uo.DOM,vy=bt.extend,by=bt.each,yy=bt.resolve,_y=de.ie,wy=function(e,t,n){var r,o,i,a,s,u,c,l,f,d=this;r=d.documentBaseUrl=n.documentBaseURL,o=n.baseURI,i=d,a=e,s=r,u=n.defaultSettings,c=t,f={id:a,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:s,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=Xu(Wu,f,u,c),d.settings=t,Xo.language=t.language||"en",Xo.languageLoad=t.language_load,Xo.baseURL=n.baseURL,d.id=e,d.setDirty(!1),d.plugins={},d.documentBaseURI=new sy(t.document_base_url,{base_uri:o}),d.baseURI=o,d.contentCSS=[],d.contentStyles=[],d.shortcuts=new Shortcuts(d),d.loadedCSS={},d.editorCommands=new EditorCommands(d),d.suffix=n.suffix,d.editorManager=n,d.inline=t.inline,d.buttons={},d.menuItems={},t.cache_suffix&&(de.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(de.overrideViewPort=!1),n.fire("SetupEditor",{editor:d}),d.execCallback("setup",d),d.$=It.overrideDefaults(function(){return{context:d.inline?d.getBody():d.getDoc(),element:d.getBody()}})};vy(wy.prototype={render:function(){ty(this)},focus:function(e){Ah(this,e)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?yy(t):0,n=yy(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&bt.is(e,"string")){var n=this.settings.language||"en",r=this.editorManager.i18n;e=r.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return r.data[n+"."+t]||"{#"+t+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return Qu(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return ny(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:tp.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(gy.show(this.getContainer()),gy.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(_y&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(gy.hide(e.getContainer()),gy.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=gy.getParent(r.id,"form"))&&by(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){return fy(this,e,t)},getContent:function(e){return function(e,t){var n;void 0===t&&(t={});var r=e.getBody();if(e.removed)return"";if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)n=bt.trim($p(e.serializer,r.innerHTML));else if("text"===t.format)n=r.innerText||r.textContent;else{if("tree"===t.format)return e.serializer.serialize(r,t);n=e.serializer.serialize(r,t)}return"text"!==t.format?t.content=bt.trim(n):t.content=n,t.no_events||e.fire("GetContent",t),t.content}(this,e)},insertContent:function(e,t){t&&(e=vy({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){ph(this,e)},getContainer:function(){return this.container||(this.container=gy.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=gy.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,r=this,o=r.settings,i=r.dom;e=e||r.getBody(),void 0===r.hasVisual&&(r.hasVisual=o.visual),by(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=o.visual_table_class||"mce-item-table",void((t=i.getAttrib(e,"border"))&&"0"!==t||!r.hasVisual?i.removeClass(e,n):i.addClass(e,n));case"A":return void(i.getAttrib(e,"href",!1)||(t=i.getAttrib(e,"name")||e.id,n=o.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?i.addClass(e,n):i.removeClass(e,n)))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){py(this)},destroy:function(e){my(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},fh);var xy,Cy,ky,Sy={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},Ey=function(n,e){var t,r,o=wn.detect().browser;o.isIE()||o.isEdge()?(r=n).on("focusout",function(){$d.store(r)}):(t=e,n.on("mouseup touchend",function(e){t.throttle()})),n.on("keyup nodechange",function(e){var t;"nodechange"===(t=e).type&&t.selectionChange||$d.store(n)})},Ty=function(e){var t,n,r,o=Bp(function(){$d.store(e)},0);e.inline&&(t=e,n=o,r=function(){n.throttle()},Uo.DOM.bind(document,"mouseup",r),t.on("remove",function(){Uo.DOM.unbind(document,"mouseup",r)})),e.on("init",function(){Ey(e,o)}),e.on("remove",function(){o.cancel()})},Ay=Uo.DOM,Ry=function(e){return Sy.isEditorUIElement(e)},Ny=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==Ay.getParent(e,function(e){return Ry(e)||!!n&&t.dom.is(e,n)})},Dy=function(r,e){var t=e.editor;Ty(t),t.on("focusin",function(){var e=r.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),r.setActive(this),(r.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))}),t.on("focusout",function(){var t=this;ve.setEditorTimeout(t,function(){var e=r.focusedEditor;Ny(t,function(){try{return document.activeElement}catch(e){return document.body}}())||e!==t||(t.fire("blur",{focusedEditor:null}),r.focusedEditor=null)})}),xy||(xy=function(e){var t,n=r.activeEditor;t=e.target,n&&t.ownerDocument===document&&(t===document.body||Ny(n,t)||r.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),r.focusedEditor=null))},Ay.bind(document,"focusin",xy))},Oy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Ay.unbind(document,"focusin",xy),xy=null)},By=function(e){e.on("AddEditor",b.curry(Dy,e)),e.on("RemoveEditor",b.curry(Oy,e))},Py={},My="en",Ly={setCode:function(e){e&&(My=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return My},rtl:!1,add:function(e,t){var n=Py[e];for(var r in n||(Py[e]=n={}),t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=Py[My]||{},n=function(e){return bt.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||bt.is(e,"undefined")},o=function(e){return e=n(e),bt.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(bt.is(e,"object")&&bt.hasOwn(e,"raw"))return n(e.raw);if(bt.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return bt.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:Py},Iy=Uo.DOM,Fy=bt.explode,jy=bt.each,zy=bt.extend,qy=0,Hy=!1,Uy=[],Wy=[],Vy=function(t){jy(ky.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},Ky=function(e){e!==Hy&&(e?It(window).on("resize scroll",Vy):It(window).off("resize scroll",Vy),Hy=e)},$y=function(t){var e=Wy;delete Uy[t.id];for(var n=0;n<Uy.length;n++)if(Uy[n]===t){Uy.splice(n,1);break}return Wy=I.filter(Wy,function(e){return t!==e}),ky.activeEditor===t&&(ky.activeEditor=0<Wy.length?Wy[0]:null),ky.focusedEditor===t&&(ky.focusedEditor=null),e.length!==Wy.length};zy(ky={defaultSettings:{},$:It,majorVersion:"4",minorVersion:"7.7",releaseDate:"2018-02-19",editors:Uy,i18n:Ly,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o="";if(t=sy.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s=(r=i[a].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==s.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(r=document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")))}this.baseURL=new sy(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new sy(this.baseURL),this.suffix=o,By(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new sy(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new sy(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;for(var o in r)Xo.PluginManager.urls[o]=r[o]},init:function(r){var n,s,u=this;s=bt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var c=function(e){var t=e.id;return t||(t=(t=e.name)&&!Iy.get(t)?e.name:Iy.uniqueId(),e.setAttribute("id",t)),t},l=function(e,t){return t.constructor===RegExp?t.test(e.className):Iy.hasClass(e,t)},f=function(e){n=e},e=function(){var o,i=0,a=[],n=function(e,t,n){var r=new wy(e,t,u);a.push(r),r.on("init",function(){++i===o.length&&f(a)}),r.targetElm=r.targetElm||n,r.render()};Iy.unbind(window,"ready",e),function(e){var t=r[e];t&&t.apply(u,Array.prototype.slice.call(arguments,2))}("onpageload"),o=It.unique(function(t){var e,n=[];if(de.ie&&de.ie<11)return qh.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return jy(t.types,function(e){n=n.concat(Iy.select(e.selector))}),n;if(t.selector)return Iy.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&jy(Fy(e),function(t){var e;(e=Iy.get(t))?n.push(e):jy(document.forms,function(e){jy(e.elements,function(e){e.name===t&&(t="mce_editor_"+qy++,Iy.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":jy(Iy.select("textarea"),function(e){t.editor_deselector&&l(e,t.editor_deselector)||t.editor_selector&&!l(e,t.editor_selector)||n.push(e)})}return n}(r)),r.types?jy(r.types,function(t){bt.each(o,function(e){return!Iy.is(e,t.selector)||(n(c(e),zy({},r,t),e),!1)})}):(bt.each(o,function(e){var t;(t=u.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&($y(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(o=bt.grep(o,function(e){return!u.get(e.id)})).length?f([]):jy(o,function(e){var t;t=e,r.inline&&t.tagName.toLowerCase()in s?qh.initError("Could not initialize inline editor on invalid inline target element",e):n(c(e),r,e)}))};return u.settings=r,Iy.bind(window,"ready",e),new he(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?Wy.slice(0):Ln.isString(t)?I.find(Wy,function(e){return e.id===t}).getOr(null):Ln.isNumber(t)&&Wy[t]?Wy[t]:null},add:function(e){var t=this;return Uy[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(Uy[e.id]=e),Uy.push(e),Wy.push(e)),Ky(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Cy||(Cy=function(){t.fire("BeforeUnload")},Iy.bind(window,"beforeunload",Cy))),e},createEditor:function(e,t){return this.add(new wy(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Ln.isString(e)?(e=e.selector||e,void jy(Iy.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})):(n=e,Ln.isNull(r.get(n.id))?null:($y(n)&&r.fire("RemoveEditor",{editor:n}),0===Wy.length&&Iy.unbind(window,"beforeunload",Cy),n.remove(),Ky(0<Wy.length),n));for(t=Wy.length-1;0<=t;t--)r.remove(Wy[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new wy(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){jy(Wy,function(e){e.save()})},addI18n:function(e,t){Ly.add(e,t)},translate:function(e){return Ly.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},ah),ky.setup();var Gy,Yy=ky;function RangeUtils(n){return{walk:function(e,t){return pm.walk(n,e,t)},split:Ll.split,normalize:function(t){return yd.normalize(n,t).fold(b.constant(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(Gy=RangeUtils||(RangeUtils={})).compareRanges=fd.isEq,Gy.getCaretRangeFromPoint=jg.fromPoint,Gy.getSelectedNode=Ni,Gy.getNode=Di;var Xy,Jy,Zy=RangeUtils,Qy=Math.min,e_=Math.max,t_=Math.round,n_=function(e,t,n){var r,o,i,a,s,u;return r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=t_(u/2)),"c"===n[1]&&(r+=t_(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=t_(a/2)),"c"===n[4]&&(r-=t_(i/2)),r_(r,o,i,a)},r_=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},o_={inflate:function(e,t,n){return r_(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:n_,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=n_(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n,r,o,i;return n=e_(e.x,t.x),r=e_(e.y,t.y),o=Qy(e.x+e.w,t.x+t.w),i=Qy(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:r_(n,r,o-n,i-r)},clamp:function(e,t,n){var r,o,i,a,s,u,c,l,f,d;return s=e.x,u=e.y,c=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=e_(0,t.x-s),o=e_(0,t.y-u),i=e_(0,c-f),a=e_(0,l-d),s+=r,u+=o,n&&(c+=r,l+=o,s-=i,u-=a),r_(s,u,(c-=i)-s,(l-=a)-u)},create:r_,fromClientRect:function(e){return r_(e.left,e.top,e.width,e.height)}},i_={},a_={add:function(e,t){i_[e.toLowerCase()]=t},has:function(e){return!!i_[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=i_.hasOwnProperty(t)?i_[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=i_[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},s_=bt.each,u_=bt.extend,c_=function(){};c_.extend=Xy=function(n){var e,t,r,o=this.prototype,i=function(){var e,t,n;if(!Jy&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(n,r){return function(){var e,t=this._super;return this._super=o[n],e=r.apply(this,arguments),this._super=t,e}};for(t in Jy=!0,e=new this,Jy=!1,n.Mixins&&(s_(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),o.Mixins&&(n.Mixins=o.Mixins.concat(n.Mixins))),n.Methods&&s_(n.Methods.split(","),function(e){n[e]=a}),n.Properties&&s_(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&s_(n.Statics,function(e,t){i[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=u_({},o.Defaults,n.Defaults)),n)"function"==typeof(r=n[t])&&o[t]?e[t]=s(t,r):e[t]=r;return i.prototype=e,(i.constructor=i).extend=Xy,i};var l_=Math.min,f_=Math.max,d_=Math.round,h_=function(e,n){var r,o,t,i;if(n=n||'"',null===e)return"null";if("string"==(t=typeof e))return o="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=o.indexOf(t))+1?"\\"+o.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"===t){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,o="[";r<e.length;r++)o+=(0<r?",":"")+h_(e[r],n);return o+"]"}for(i in o="{",e)e.hasOwnProperty(i)&&(o+="function"!=typeof e[i]?(1<o.length?","+n:n)+i+n+":"+h_(e[i],n):"");return o+"}"}return""+e},p_={serialize:h_,parse:function(e){try{return JSON.parse(e)}catch(e){}}},m_={callbacks:{},count:0,send:function(t){var n=this,r=Uo.DOM,o=void 0!==t.count?t.count:n.count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++}},g_={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",g_.fire("beforeInitialize",{settings:e}),t=new XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&bt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=g_.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();setTimeout(r,10)}}};bt.extend(g_,ah);var v_=bt.extend,b_=function(e){this.settings=v_({},e),this.count=0};b_.sendRPC=function(e){return(new b_).send(e)},b_.prototype={send:function(n){var r=n.error,o=n.success;(n=v_(this.settings,n)).success=function(e,t){void 0===(e=p_.parse(e))&&(e={error:"JSON Parse error."}),e.error?r.call(n.error_scope||n.scope,e.error,t):o.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=p_.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",g_.send(n)}};var y_,__=window.localStorage,w_=Yy,x_={geom:{Rect:o_},util:{Promise:he,Delay:ve,Tools:bt,VK:Mp,URI:sy,Class:c_,EventDispatcher:rh,Observable:ah,I18n:Ly,XHR:g_,JSON:p_,JSONRequest:b_,JSONP:m_,LocalStorage:__,Color:function(e){var n={},s=0,u=0,c=0,t=function(e){var t;return"object"==typeof e?"r"in e?(s=e.r,u=e.g,c=e.b):"v"in e&&function(e,t,n){var r,o,i,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=f_(0,l_(t,1)),n=f_(0,l_(n,1)),0!==t){switch(r=e/60,i=(o=n*t)*(1-Math.abs(r%2-1)),a=n-o,Math.floor(r)){case 0:s=o,u=i,c=0;break;case 1:s=i,u=o,c=0;break;case 2:s=0,u=o,c=i;break;case 3:s=0,u=i,c=o;break;case 4:s=i,u=0,c=o;break;case 5:s=o,u=0,c=i;break;default:s=u=c=0}s=d_(255*(s+a)),u=d_(255*(u+a)),c=d_(255*(c+a))}else s=u=c=d_(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),u=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),u=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),u=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,u=u<0?0:255<u?255:u,c=c<0?0:255<c?255:c,n};return e&&t(e),n.toRgb=function(){return{r:s,g:u,b:c}},n.toHsv=function(){return e=s,t=u,n=c,o=0,(i=l_(e/=255,l_(t/=255,n/=255)))===(a=f_(e,f_(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:d_(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:d_(100*r),v:d_(100*o)});var e,t,n,r,o,i,a},n.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(s)+e(u)+e(c)},n.parse=t,n}},dom:{EventUtils:Ee,Sizzle:ct,DomQuery:It,TreeWalker:TreeWalker,DOMUtils:Uo,ScriptLoader:Go,RangeUtils:Zy,Serializer:DomSerializer$1,ControlSelection:Mg,BookmarkManager:Og,Selection:wv,Event:Ee.Event},html:{Styles:Styles,Entities:Co,Node:pg,Schema:Schema,SaxParser:Vp,DomParser:DomParser,Writer:Writer,Serializer:HtmlSerializer},ui:{Factory:a_},Env:de,AddOnManager:Xo,Formatter:Formatter,UndoManager:UndoManager,EditorCommands:EditorCommands,WindowManager:WindowManager,NotificationManager:NotificationManager,EditorObservable:fh,Shortcuts:Shortcuts,Editor:wy,FocusManager:Sy,EditorManager:Yy,DOM:Uo.DOM,ScriptLoader:Go.ScriptLoader,PluginManager:Xo.PluginManager,ThemeManager:Xo.ThemeManager,trim:bt.trim,isArray:bt.isArray,is:bt.is,toArray:bt.toArray,makeMap:bt.makeMap,each:bt.each,map:bt.map,grep:bt.grep,inArray:bt.inArray,extend:bt.extend,create:bt.create,walk:bt.walk,createNS:bt.createNS,resolve:bt.resolve,explode:bt.explode,_addCacheSuffix:bt._addCacheSuffix,isOpera:de.opera,isWebKit:de.webkit,isIE:de.ie,isGecko:de.gecko,isMac:de.mac},C_=w_=bt.extend(w_,x_);y_=C_,window.tinymce=y_,window.tinyMCE=y_,function(e){try{S_.exports=e}catch(e){}}(C_)}()}).call(this,t(50).setImmediate)},function(e,t,n){"use strict";var r=n(13).nextTick,o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=Duplex;var i=n(9);i.inherits=n(2);var a=n(57),s=n(26);i.inherits(Duplex,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];Duplex.prototype[l]||(Duplex.prototype[l]=s.prototype[l])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||r(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),r(t,e)}},function(e,t){var n,r,o=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&i&&(s=!1,i.length?a=i.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=a.length;t;){for(i=a,a=[];++u<t;)i&&i[u].run();u=-1,t=a.length}i=null,s=!1,function runClearTimeout(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(r,e,t){var o=t(51),i=t(153);function defineProp(e,t){return delete r.exports[e],r.exports[e]=t}r.exports={Parser:o,Tokenizer:t(52),ElementType:t(7),DomHandler:i,get FeedHandler(){return defineProp("FeedHandler",t(155))},get Stream(){return defineProp("Stream",t(156))},get WritableStream(){return defineProp("WritableStream",t(56))},get ProxyHandler(){return defineProp("ProxyHandler",t(170))},get DomUtils(){return defineProp("DomUtils",t(171))},get CollectingHandler(){return defineProp("CollectingHandler",t(183))},DefaultHandler:i,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new i(t);return new o(n,t).end(e),n.dom},parseFeed:function(e,t){var n=new r.exports.FeedHandler(t);return new o(n,t).end(e),n.dom},createDomStream:function(e,t,n){var r=new i(e,t,n);return new o(r,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,n,o){"use strict";(function(e){var r=o(158),i=o(159),a=o(58);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,n){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,n,r):"string"==typeof t?function fromString(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!Buffer.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|byteLength(t,n),o=(e=createBuffer(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function fromObject(e,t){if(Buffer.isBuffer(t)){var n=0|checked(t.length);return 0===(e=createBuffer(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&a(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(r)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=Buffer.from(t,r)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,r,o);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=a=2,u/=2,n/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(read(e,i)===read(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(s<n+u&&(n=s-u),i=n;0<=i;i--){for(var l=!0,f=0;f<u;f++)if(read(e,i+f)!==read(t,f)){l=!1;break}if(l)return i}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?o<(r=Number(r))&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function asciiWrite(e,t,n,r){return blitBuffer(function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,c=e[o],l=null,f=239<c?4:223<c?3:191<c?2:1;if(o+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&127<(u=(31&c)<<6|63&i)&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(u=(15&c)<<12|(63&i)<<6|63&a)&&(u<55296||57343<u)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)&&u<1114112&&(l=u)}null===l?(l=65533,f=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function decodeCodePointsArray(e){var t=e.length;if(t<=d)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=d));return n}(r)}n.Buffer=Buffer,n.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},n.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,n){return from(null,e,t,n)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,n){return function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}(null,e,t,n)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=Buffer.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",t=n.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,n,r,o){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){i=u[l],a=c[l];break}return i<a?-1:a<i?1:0},Buffer.prototype.includes=function includes(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer.prototype.indexOf=function indexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer.prototype.write=function write(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i,a,s,u,c,l,f,d,h,p=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return d=t,h=n,blitBuffer(utf8ToBytes(e,(f=this).length-d),f,d,h);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return asciiWrite(this,e,t,n);case"base64":return u=this,c=t,l=n,blitBuffer(base64ToBytes(e),u,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a=t,s=n,blitBuffer(function utf16leToBytes(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,(i=this).length-a),i,a,s);default:if(p)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var d=4096;function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;++i)o+=toHex(e[i]);return o}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function checkOffset(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,r,o,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function checkIEEE754(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,o){return o||checkIEEE754(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,o){return o||checkIEEE754(e,0,n,8),i.write(e,t,n,r,52,8),n+8}Buffer.prototype.slice=function slice(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Buffer.prototype;else{var o=t-e;n=new Buffer(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},Buffer.prototype.readUIntLE=function readUIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},Buffer.prototype.readUIntBE=function readUIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},Buffer.prototype.readIntBE=function readIntBE(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,n,r){(e=+e,t|=0,n|=0,r)||checkInt(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},Buffer.prototype.writeUInt8=function writeUInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);checkInt(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeIntBE=function writeIntBE(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);checkInt(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},Buffer.prototype.writeInt8=function writeInt8(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer.prototype.copy=function copy(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},Buffer.prototype.fill=function fill(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Buffer.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var t=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function base64ToBytes(e){return r.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(t,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,o(1))},function(e,t,n){(function(e){function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)},t.isBoolean=function isBoolean(e){return"boolean"==typeof e},t.isNull=function isNull(e){return null===e},t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=function isNumber(e){return"number"==typeof e},t.isString=function isString(e){return"string"==typeof e},t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=function isUndefined(e){return void 0===e},t.isRegExp=function isRegExp(e){return"[object RegExp]"===objectToString(e)},t.isObject=function isObject(e){return"object"==typeof e&&null!==e},t.isDate=function isDate(e){return"[object Date]"===objectToString(e)},t.isError=function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error},t.isFunction=function isFunction(e){return"function"==typeof e},t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(8).Buffer)},function(e,u){u.getArg=function getArg(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function urlParse(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function urlGenerate(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function normalize(e){var t=e,n=urlParse(e);if(n){if(!n.path)return e;t=n.path}for(var r,o=u.isAbsolute(t),i=t.split(/\/+/),a=0,s=i.length-1;0<=s;s--)"."===(r=i[s])?i.splice(s,1):".."===r?a++:0<a&&(""===r?(i.splice(s+1,a),a=0):(i.splice(s,2),a--));return""===(t=i.join("/"))&&(t=o?"/":"."),n?(n.path=t,urlGenerate(n)):t}function join(e,t){""===e&&(e="."),""===t&&(t=".");var n=urlParse(t),r=urlParse(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),urlGenerate(n);if(n||t.match(i))return t;if(r&&!r.host&&!r.path)return r.host=t,urlGenerate(r);var o="/"===t.charAt(0)?t:normalize(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=o,urlGenerate(r)):o}u.urlParse=urlParse,u.urlGenerate=urlGenerate,u.normalize=normalize,u.join=join,u.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},u.relative=function relative(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var t=!("__proto__"in Object.create(null));function identity(e){return e}function isProtoString(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;0<=n;n--)if(36!==e.charCodeAt(n))return!1;return!0}function strcmp(e,t){return e===t?0:null===e?1:null===t?-1:t<e?1:-1}u.toSetString=t?identity:function toSetString(e){return isProtoString(e)?"$"+e:e},u.fromSetString=t?identity:function fromSetString(e){return isProtoString(e)?e.slice(1):e},u.compareByOriginalPositions=function compareByOriginalPositions(e,t,n){var r=strcmp(e.source,t.source);return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:strcmp(e.name,t.name)},u.compareByGeneratedPositionsDeflated=function compareByGeneratedPositionsDeflated(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=strcmp(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:strcmp(e.name,t.name)},u.compareByGeneratedPositionsInflated=function compareByGeneratedPositionsInflated(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=strcmp(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:strcmp(e.name,t.name)},u.parseSourceMapInput=function parseSourceMapInput(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},u.computeSourceURL=function computeSourceURL(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=urlParse(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var o=r.path.lastIndexOf("/");0<=o&&(r.path=r.path.substring(0,o+1))}t=join(urlGenerate(r),t)}return normalize(t)}},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}((e.exports=EventEmitter).EventEmitter=EventEmitter).prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!function isNumber(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,o,i,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(isUndefined(n=this._events[e]))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(isObject(n))for(o=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,i=0;i<r;i++)a[i].apply(this,o);return!0},EventEmitter.prototype.on=EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,o,i;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(i=o;0<i--;)if(n[i]===t||n[i].listener&&n[i].listener===t){r=i;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(s){!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?e.exports={nextTick:function nextTick(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,i,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(e);case 2:return s.nextTick(function afterTickOne(){e.call(null,t)});case 3:return s.nextTick(function afterTickTwo(){e.call(null,t,n)});case 4:return s.nextTick(function afterTickThree(){e.call(null,t,n,r)});default:for(o=new Array(a-1),i=0;i<o.length;)o[i++]=arguments[i];return s.nextTick(function afterTick(){e.apply(null,o)})}}}:e.exports=s}).call(this,n(5))},function(e,t,n){var r=n(8),o=r.Buffer;function copyProps(e,t){for(var n in e)t[n]=e[n]}function SafeBuffer(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(copyProps(r,t),t.Buffer=SafeBuffer),copyProps(o,SafeBuffer),SafeBuffer.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},SafeBuffer.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(o){function AtRule(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtRule);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,o.call(this,e));return t.type="atrule",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtRule,o),AtRule.prototype.append=function append(){var e;this.nodes||(this.nodes=[]);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.prototype.append).call.apply(e,[this].concat(n))},AtRule.prototype.prepend=function prepend(){var e;this.nodes||(this.nodes=[]);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.prototype.prepend).call.apply(e,[this].concat(n))},AtRule}(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(34)).default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(34)),i=_interopRequireDefault(n(74));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=function(n){function Rule(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Rule);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="rule",t.nodes||(t.nodes=[]),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Rule,n),r(Rule,[{key:"selectors",get:function get(){return i.default.comma(this.selector)},set:function set(e){var t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}]),Rule}(o.default);t.default=a,e.exports=t.default},function(e,t,n){(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(t){"Symbol"in this&&"iterator"in this.Symbol&&Array.prototype[Symbol.iterator]&&Array.prototype.values&&Array.prototype[Symbol.iterator]===Array.prototype.values||Object.defineProperty(Array.prototype,"values",{value:Array.prototype[Symbol.iterator],enumerable:!1,writable:!1});var e,n=(e=function Iterator(e,t){if(!(this instanceof Iterator))return new Iterator(e,t);Object.defineProperties(this,{__list__:{writable:!0,value:e},__context__:{writable:!0,value:t},__nextIndex__:{writable:!0,value:0}}),t&&(!function callable(e){if("function"!=typeof e)throw new TypeError(e+" is not a function")}(t.on),t.on("_add",this._onAdd.bind(this)),t.on("_delete",this._onDelete.bind(this)),t.on("_clear",this._onClear.bind(this)))},Object.defineProperties(e.prototype,Object.assign({constructor:{value:e,configurable:!0,enumerable:!1,writable:!0},_next:{value:function value(){var e;if(this.__list__)return this.__redo__&&(e=this.__redo__.shift())!==t?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()},configurable:!0,enumerable:!1,writable:!0},next:{value:function value(){return this._createResult(this._next())},configurable:!0,enumerable:!1,writable:!0},_createResult:{value:function value(e){return e===t?{done:!0,value:t}:{done:!1,value:this._resolve(e)}},configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function value(e){return this.__list__[e]},configurable:!0,enumerable:!1,writable:!0},_unBind:{value:function value(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd.bind(this)),this.__context__.off("_delete",this._onDelete.bind(this)),this.__context__.off("_clear",this._onClear.bind(this)),this.__context__=null)},configurable:!0,enumerable:!1,writable:!0},toString:{value:function value(){return"[object Iterator]"},configurable:!0,enumerable:!1,writable:!0}},{_onAdd:{value:function value(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,t){n<=e&&(this.__redo__[t]=++e)},this),this.__redo__.push(n)):Object.defineProperty(this,"__redo__",{value:[n],configurable:!0,enumerable:!1,writable:!1}))},configurable:!0,enumerable:!1,writable:!0},_onDelete:{value:function value(n){var e;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(n))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){n<e&&(this.__redo__[t]=--e)},this)))},configurable:!0,enumerable:!1,writable:!0},_onClear:{value:function value(){this.__redo__&&function clear(){return this.length=0,this}.call(this.__redo__),this.__nextIndex__=0},configurable:!0,enumerable:!1,writable:!0}})),Object.defineProperty(e.prototype,Symbol.iterator,{value:function value(){return this},configurable:!0,enumerable:!1,writable:!0}),Object.defineProperty(e.prototype,Symbol.toStringTag,{value:"Iterator",configurable:!1,enumerable:!1,writable:!1}),e);"contains"in String.prototype||(String.prototype.contains=String.prototype.includes);var r;r=function ArrayIterator(e,t){if(!(this instanceof ArrayIterator))return new ArrayIterator(e,t);n.call(this,e),t=t?String.prototype.contains.call(t,"key+value")?"key+value":String.prototype.contains.call(t,"key")?"key":"value":"value",Object.defineProperty(this,"__kind__",{value:t,configurable:!1,enumerable:!1,writable:!1})},Object.setPrototypeOf&&Object.setPrototypeOf(r,n.prototype),r.prototype=Object.create(n.prototype,{constructor:{value:r,configurable:!0,enumerable:!1,writable:!0},_resolve:{value:function value(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e},configurable:!0,enumerable:!1,writable:!0},toString:{value:function value(){return"[object Array Iterator]"},configurable:!0,enumerable:!1,writable:!0}})}).call("object"===("undefined"==typeof window?"undefined":_typeof(window))&&window||"object"===("undefined"==typeof self?"undefined":_typeof(self))&&self||"object"===(void 0===e?"undefined":_typeof(e))&&e||{})}).call(this,n(1))},function(e,t){(function(){"use strict";var i=new function(){},r=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "));function n(e){var t=r.has(e);return e=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e),!t&&e}function p(e){var t=e.isConnected;if(void 0!==t)return t;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function q(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function t(e,n,r){r=r||new Set;for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;n(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if((o=i.import)instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)t(o,n,r);o=q(e,i);continue}if("template"===a){o=q(e,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)t(i,n,r)}o=o.firstChild?o.firstChild:q(e,o)}}function u(e,t,n){e[t]=n}function v(){this.a=new Map,this.o=new Map,this.f=[],this.b=!1}function w(e,t){e.b=!0,e.f.push(t)}function x(n,e){n.b&&t(e,function(e){return y(n,e)})}function y(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.f.length;n++)e.f[n](t)}}function z(e,n){var r=[];for(t(n,function(e){return r.push(e)}),n=0;n<r.length;n++){var o=r[n];1===o.__CE_state?e.connectedCallback(o):A(e,o)}}function B(e,n){var r=[];for(t(n,function(e){return r.push(e)}),n=0;n<r.length;n++){var o=r[n];1===o.__CE_state&&e.disconnectedCallback(o)}}function C(r,e,n){var o=(n=n||{}).w||new Set,i=n.s||function(e){return A(r,e)},a=[];if(t(e,function(n){if("link"===n.localName&&"import"===n.getAttribute("rel")){var e=n.import;e instanceof Node&&(e.__CE_isImportDocument=!0,e.__CE_hasRegistry=!0),e&&"complete"===e.readyState?e.__CE_documentLoadHandled=!0:n.addEventListener("load",function(){var e=n.import;if(!e.__CE_documentLoadHandled){e.__CE_documentLoadHandled=!0;var t=new Set(o);t.delete(e),C(r,e,{w:t,s:i})}})}else a.push(n)},o),r.b)for(e=0;e<a.length;e++)y(r,a[e]);for(e=0;e<a.length;e++)i(a[e])}function A(e,t){if(void 0===t.__CE_state){var n=t.ownerDocument;if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=e.a.get(t.localName))){n.constructionStack.push(t);var r=n.constructor;try{try{if(new r!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,(t.__CE_definition=n).attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],i=t.getAttribute(o);null!==i&&e.attributeChangedCallback(t,o,null,i,null)}p(t)&&e.connectedCallback(t)}}}function D(e,t){this.c=e,this.a=t,this.b=void 0,C(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function E(e){e.b&&e.b.disconnect()}function F(e){if(e.a)throw Error("Already resolved.");e.a=void 0,e.b&&e.b(void 0)}function G(e){this.i=!1,this.c=e,this.m=new Map,this.j=function(e){return e()},this.g=!1,this.l=[],this.u=new D(e,document)}v.prototype.connectedCallback=function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)},v.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)},v.prototype.attributeChangedCallback=function(e,t,n,r,o){var i=e.__CE_definition;i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t)&&i.attributeChangedCallback.call(e,t,n,r,o)},D.prototype.f=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||E(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)C(this.c,n[r])},G.prototype.define=function(e,t){var r,o,i,a,s,u=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!n(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this.c.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.");if(this.i)throw Error("A custom element is already being defined.");this.i=!0;try{var c=function g(e){var t=l[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},l=t.prototype;if(!(l instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");r=c("connectedCallback"),o=c("disconnectedCallback"),i=c("adoptedCallback"),a=c("attributeChangedCallback"),s=t.observedAttributes||[]}catch(e){return}finally{this.i=!1}t={localName:e,constructor:t,connectedCallback:r,disconnectedCallback:o,adoptedCallback:i,attributeChangedCallback:a,observedAttributes:s,constructionStack:[]},function ba(e,t,n){e.a.set(t,n),e.o.set(n.constructor,n)}(this.c,e,t),this.l.push(t),this.g||(this.g=!0,this.j(function(){return function da(r){if(!1!==r.g){r.g=!1;for(var e=r.l,o=[],i=new Map,t=0;t<e.length;t++)i.set(e[t].localName,[]);for(C(r.c,document,{s:function s(e){if(void 0===e.__CE_state){var t=e.localName,n=i.get(t);n?n.push(e):r.c.a.get(t)&&o.push(e)}}}),t=0;t<o.length;t++)A(r.c,o[t]);for(;0<e.length;){for(var n=e.shift(),t=n.localName,n=i.get(n.localName),a=0;a<n.length;a++)A(r.c,n[a]);(t=r.m.get(t))&&F(t)}}}(u)}))},G.prototype.get=function(e){if(e=this.c.a.get(e))return e.constructor},G.prototype.whenDefined=function(t){if(!n(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this.m.get(t);return e||(e=new function ca(){var t=this;this.b=this.a=void 0,this.f=new Promise(function(e){t.b=e,t.a&&e(t.a)})},this.m.set(t,e),this.c.a.get(t)&&!this.l.some(function(e){return e.localName===t})&&F(e)),e.f},G.prototype.v=function(t){E(this.u);var n=this.j;this.j=function(e){return t(function(){return n(e)})}},(window.CustomElementRegistry=G).prototype.define=G.prototype.define,G.prototype.get=G.prototype.get,G.prototype.whenDefined=G.prototype.whenDefined,G.prototype.polyfillWrapFlushCallback=G.prototype.v;var l=window.Document.prototype.createElement,o=window.Document.prototype.createElementNS,s=window.Document.prototype.importNode,e=window.Document.prototype.prepend,f=window.Document.prototype.append,h=window.DocumentFragment.prototype.prepend,m=window.DocumentFragment.prototype.append,g=window.Node.prototype.cloneNode,b=window.Node.prototype.appendChild,_=window.Node.prototype.insertBefore,k=window.Node.prototype.removeChild,S=window.Node.prototype.replaceChild,T=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),R=window.Element.prototype.attachShadow,N=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),O=window.Element.prototype.getAttribute,P=window.Element.prototype.setAttribute,M=window.Element.prototype.removeAttribute,L=window.Element.prototype.getAttributeNS,I=window.Element.prototype.setAttributeNS,j=window.Element.prototype.removeAttributeNS,H=window.Element.prototype.insertAdjacentElement,U=window.Element.prototype.prepend,W=window.Element.prototype.append,V=window.Element.prototype.before,K=window.Element.prototype.after,$=window.Element.prototype.replaceWith,X=window.Element.prototype.remove,J=window.HTMLElement,Z=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),Q=window.HTMLElement.prototype.insertAdjacentElement;function Y(s,e,t){function d(a){return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&p(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(a.apply(this,t),t=0;t<r.length;t++)B(s,r[t]);if(p(this))for(t=0;t<n.length;t++)(r=n[t])instanceof Element&&z(s,r)}}t.h&&(e.prepend=d(t.h)),t.append&&(e.append=d(t.append))}var ee=window.customElements;if(!ee||ee.forcePolyfill||"function"!=typeof ee.define||"function"!=typeof ee.get){var te=new v;!function ta(){var o=te;window.HTMLElement=function(){function a(){var e=this.constructor;if(!(n=o.o.get(e)))throw Error("The custom element being constructed was not registered with `customElements`.");var t=n.constructionStack;if(!t.length)return t=l.call(document,n.localName),Object.setPrototypeOf(t,e.prototype),t.__CE_state=1,t.__CE_definition=n,y(o,t),t;var n,r=t[n=t.length-1];if(r===i)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return t[n]=i,Object.setPrototypeOf(r,e.prototype),y(o,r),r}return a.prototype=J.prototype,a}()}(),function ua(){var r=te;u(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var t=r.a.get(e);if(t)return new t.constructor}return e=l.call(this,e),y(r,e),e}),u(Document.prototype,"importNode",function(e,t){return e=s.call(this,e,t),this.__CE_hasRegistry?C(r,e):x(r,e),e}),u(Document.prototype,"createElementNS",function(e,t){if(this.__CE_hasRegistry&&(null===e||"http://www.w3.org/1999/xhtml"===e)){var n=r.a.get(t);if(n)return new n.constructor}return e=o.call(this,e,t),y(r,e),e}),Y(r,Document.prototype,{h:e,append:f})}(),Y(te,DocumentFragment.prototype,{h:h,append:m}),function va(){var s=te;function a(e,i){Object.defineProperty(e,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function set(e){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,e);else{var t=void 0;if(this.firstChild){var n=this.childNodes,r=n.length;if(0<r&&p(this)){t=Array(r);for(var o=0;o<r;o++)t[o]=n[o]}}if(i.set.call(this,e),t)for(e=0;e<t.length;e++)B(s,t[e])}}})}u(Node.prototype,"insertBefore",function(e,t){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=_.call(this,e,t),p(this))for(t=0;t<n.length;t++)z(s,n[t]);return e}return n=p(e),t=_.call(this,e,t),n&&B(s,e),p(this)&&z(s,e),t}),u(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var t=Array.prototype.slice.apply(e.childNodes);if(e=b.call(this,e),p(this))for(var n=0;n<t.length;n++)z(s,t[n]);return e}return t=p(e),n=b.call(this,e),t&&B(s,e),p(this)&&z(s,e),n}),u(Node.prototype,"cloneNode",function(e){return e=g.call(this,e),this.ownerDocument.__CE_hasRegistry?C(s,e):x(s,e),e}),u(Node.prototype,"removeChild",function(e){var t=p(e),n=k.call(this,e);return t&&B(s,e),n}),u(Node.prototype,"replaceChild",function(e,t){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes);if(e=S.call(this,e,t),p(this))for(B(s,t),t=0;t<n.length;t++)z(s,n[t]);return e}n=p(e);var r=S.call(this,e,t),o=p(this);return o&&B(s,t),n&&B(s,e),o&&z(s,e),r}),T&&T.get?a(Node.prototype,T):w(s,function(e){a(e,{enumerable:!0,configurable:!0,get:function get(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function set(e){for(;this.firstChild;)k.call(this,this.firstChild);b.call(this,document.createTextNode(e))}})})}(),function xa(){var s=te;function a(e,a){Object.defineProperty(e,"innerHTML",{enumerable:a.enumerable,configurable:!0,get:a.get,set:function set(e){var n=this,r=void 0;if(p(this)&&(r=[],t(this,function(e){e!==n&&r.push(e)})),a.set.call(this,e),r)for(var o=0;o<r.length;o++){var i=r[o];1===i.__CE_state&&s.disconnectedCallback(i)}return this.ownerDocument.__CE_hasRegistry?C(s,this):x(s,this),e}})}function c(e,r){u(e,"insertAdjacentElement",function(e,t){var n=p(t);return e=r.call(this,e,t),n&&B(s,t),p(e)&&z(s,t),e})}R&&u(Element.prototype,"attachShadow",function(e){return this.__CE_shadowRoot=R.call(this,e)}),N&&N.get?a(Element.prototype,N):Z&&Z.get?a(HTMLElement.prototype,Z):w(s,function(e){a(e,{enumerable:!0,configurable:!0,get:function get(){return g.call(this,!0).innerHTML},set:function set(e){var t="template"===this.localName,n=t?this.content:this,r=l.call(document,this.localName);for(r.innerHTML=e;0<n.childNodes.length;)k.call(n,n.childNodes[0]);for(e=t?r.content:r;0<e.childNodes.length;)b.call(n,e.childNodes[0])}})}),u(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return P.call(this,e,t);var n=O.call(this,e);P.call(this,e,t),t=O.call(this,e),s.attributeChangedCallback(this,e,n,t,null)}),u(Element.prototype,"setAttributeNS",function(e,t,n){if(1!==this.__CE_state)return I.call(this,e,t,n);var r=L.call(this,e,t);I.call(this,e,t,n),n=L.call(this,e,t),s.attributeChangedCallback(this,t,r,n,e)}),u(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return M.call(this,e);var t=O.call(this,e);M.call(this,e),null!==t&&s.attributeChangedCallback(this,e,t,null,null)}),u(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return j.call(this,e,t);var n=L.call(this,e,t);j.call(this,e,t);var r=L.call(this,e,t);n!==r&&s.attributeChangedCallback(this,t,n,r,e)}),Q?c(HTMLElement.prototype,Q):H?c(Element.prototype,H):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Y(s,Element.prototype,{h:U,append:W}),function wa(s){var e=Element.prototype;function c(a){return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&p(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(a.apply(this,t),t=0;t<r.length;t++)B(s,r[t]);if(p(this))for(t=0;t<n.length;t++)(r=n[t])instanceof Element&&z(s,r)}}V&&(e.before=c(V)),V&&(e.after=c(K)),$&&u(e,"replaceWith",function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];n=[];for(var r=[],o=0;o<t.length;o++){var i=t[o];if(i instanceof Element&&p(i)&&r.push(i),i instanceof DocumentFragment)for(i=i.firstChild;i;i=i.nextSibling)n.push(i);else n.push(i)}for(o=p(this),$.apply(this,t),t=0;t<r.length;t++)B(s,r[t]);if(o)for(B(s,this),t=0;t<n.length;t++)(r=n[t])instanceof Element&&z(s,r)}),X&&u(e,"remove",function(){var e=p(this);X.call(this),e&&B(s,this)})}(s)}(),document.__CE_hasRegistry=!0;var ne=new G(te);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:ne})}}).call(self)},function(y,e){!function(e){"use strict";var s,t=Object.prototype,u=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag",a="object"==typeof y,c=e.regeneratorRuntime;if(c)a&&(y.exports=c);else{(c=e.regeneratorRuntime=a?y.exports:{}).wrap=wrap;var l="suspendedStart",f="suspendedYield",d="executing",h="completed",p={},m={};m[o]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(values([])));v&&v!==t&&u.call(v,o)&&(m=v);var b=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(m);GeneratorFunction.prototype=b.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[i]=GeneratorFunction.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[r]=function(){return this},c.AsyncIterator=AsyncIterator,c.async=function(e,t,n,r){var o=new AsyncIterator(wrap(e,t,n,r));return c.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},defineIteratorMethods(b),b[i]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function next(){for(;n.length;){var e=n.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},c.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function handle(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=s),!!t}for(var e=this.tryEntries.length-1;0<=e;--e){var t=this.tryEntries[e],o=t.completion;if("root"===t.tryLoc)return handle("end");if(t.tryLoc<=this.prev){var i=u.call(t,"catchLoc"),a=u.call(t,"finallyLoc");if(i&&a){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0);if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}else if(i){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),resetTryEntry(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;resetTryEntry(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:values(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=s),p}}}function wrap(e,t,n,r){var o=t&&t.prototype instanceof Generator?t:Generator,i=Object.create(o.prototype),a=new Context(r||[]);return i._invoke=function makeInvokeMethod(i,a,s){var u=l;return function invoke(e,t){if(u===d)throw new Error("Generator is already running");if(u===h){if("throw"===e)throw t;return doneResult()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=maybeInvokeDelegate(n,s);if(r){if(r===p)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===l)throw u=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=d;var o=tryCatch(i,a,s);if("normal"===o.type){if(u=s.done?h:f,o.arg===p)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(u=h,s.method="throw",s.arg=o.arg)}}}(e,n,a),i}function tryCatch(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(s){var e;this._invoke=function enqueue(n,r){function callInvokeWithMethodAndArg(){return new Promise(function(e,t){!function invoke(e,t,n,r){var o=tryCatch(s[e],s,t);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&u.call(a,"__await")?Promise.resolve(a.__await).then(function(e){invoke("next",e,n,r)},function(e){invoke("throw",e,n,r)}):Promise.resolve(a).then(function(e){i.value=e,n(i)},function(e){return invoke("throw",e,n,r)})}r(o.arg)}(n,r,e,t)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var n=e.iterator[t.method];if(n===s){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=s,maybeInvokeDelegate(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=tryCatch(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=s),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function next(){for(;++n<e.length;)if(u.call(e,n))return next.value=e[n],next.done=!1,next;return next.value=s,next.done=!0,next};return r.next=r}}return{next:doneResult}}function doneResult(){return{value:s,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function Ruler(){this.__rules__=[],this.__cache__=null}Ruler.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Ruler.prototype.__compile__=function(){var n=this,t=[""];n.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),n.__cache__={},t.forEach(function(t){n.__cache__[t]=[],n.__rules__.forEach(function(e){e.enabled&&(t&&e.alt.indexOf(t)<0||n.__cache__[t].push(e.fn))})})},Ruler.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},Ruler.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},Ruler.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},Ruler.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},Ruler.prototype.enable=function(e,n){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var t=this.__find__(e);if(t<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[t].enabled=!0,r.push(e)},this),this.__cache__=null,r},Ruler.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},Ruler.prototype.disable=function(e,n){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var t=this.__find__(e);if(t<0){if(n)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[t].enabled=!1,r.push(e)},this),this.__cache__=null,r},Ruler.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=Ruler},function(e,t,n){"use strict";function Token(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function attrIndex(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},Token.prototype.attrPush=function attrPush(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Token.prototype.attrSet=function attrSet(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},Token.prototype.attrGet=function attrGet(e){var t=this.attrIndex(e),n=null;return 0<=t&&(n=this.attrs[t][1]),n},Token.prototype.attrJoin=function attrJoin(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=Token},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){(((t=e.exports=n(57)).Stream=t).Readable=t).Writable=n(26),t.Duplex=n(4),t.Transform=n(61),t.PassThrough=n(164)},function(h,e,p){"use strict";(function(e,t,n){var s=p(13).nextTick;function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}h.exports=Writable;var u,c=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?t:s;Writable.WritableState=WritableState;var r=p(9);r.inherits=p(2);var o={deprecate:p(163)},i=p(59),l=p(14).Buffer,a=n.Uint8Array||function(){};var f,d=p(60);function nop(){}function WritableState(e,t){u=u||p(4),e=e||{};var n=t instanceof u;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,o=e.writableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(o||0===o)?o:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function onwrite(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function onwriteError(e,t,n,r,o){--t.pendingcb,n?(s(o,r),s(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),finishMaybe(e,t))}(e,n,r,t,o);else{var i=needFinish(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n),r?c(afterWrite,e,n,i,o):afterWrite(e,n,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(u=u||p(4),!(f.call(Writable,this)||this instanceof u))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),i.call(this)}function doWrite(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function afterWrite(e,t,n,r){n||function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),finishMaybe(e,t)}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var a=0,s=!0;n;)(o[a]=n).isBuf||(s=!1),n=n.next,a+=1;o.allBuffers=s,doWrite(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,l=n.callback;if(doWrite(e,t,!1,t.objectMode?1:u.length,u,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(t,n){t._final(function(e){n.pendingcb--,e&&t.emit("error",e),n.prefinished=!0,t.emit("prefinish"),finishMaybe(t,n)})}function finishMaybe(e,t){var n=needFinish(t);return n&&(!function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}r.inherits(Writable,i),WritableState.prototype.getBuffer=function getBuffer(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):f=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,n){var r=this._writableState,o=!1,i=!r.objectMode&&function _isUint8Array(e){return l.isBuffer(e)||e instanceof a}(e);return i&&!l.isBuffer(e)&&(e=function _uint8ArrayToBuffer(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=nop),r.ended?function writeAfterEnd(e,t){var n=new Error("write after end");e.emit("error",n),s(t,n)}(this,n):(i||function validChunk(e,t,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),s(r,i),o=!1),o}(this,r,e,n))&&(r.pendingcb++,o=function writeOrBuffer(e,t,n,r,o,i){if(!n){var a=function decodeChunk(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,r,o,i);return u}(this,r,i,e,t,n)),o},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function endWritable(e,t,n){t.ending=!0,finishMaybe(e,t),n&&(t.finished?s(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=d.destroy,Writable.prototype._undestroy=d.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,p(5),p(50).setImmediate,p(1))},function(e,t,n){"use strict";var r=n(14).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){var t;switch(this.encoding=function normalizeEncoding(e){var t=function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,n=function utf8CheckExtraBytes(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd".repeat(n);if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd".repeat(n+1);if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf16Text(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function base64Text(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}(t.StringDecoder=StringDecoder).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},StringDecoder.prototype.end=function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd".repeat(this.lastTotal-this.lastNeed):t},StringDecoder.prototype.text=function utf8Text(e,t){var n=function utf8CheckIncomplete(e,t,n){var r=t.length-1;if(r<n)return 0;var o=utf8CheckByte(t[r]);if(0<=o)return 0<o&&(e.lastNeed=o-1),o;if(--r<n)return 0;if(0<=(o=utf8CheckByte(t[r])))return 0<o&&(e.lastNeed=o-2),o;if(--r<n)return 0;if(0<=(o=utf8CheckByte(t[r])))return 0<o&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";t.__esModule=!0;var r=function(n){function Declaration(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Declaration);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="decl",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Declaration,n),Declaration}(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(29)).default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=_interopRequireDefault(n(62)),o=_interopRequireDefault(n(70)),i=_interopRequireDefault(n(31)),s=_interopRequireDefault(n(71));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(){function Node(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Node),this.raws={},"object"!==(void 0===e?"undefined":a(e))&&void 0!==e)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(e));for(var t in e)this[t]=e[t]}return Node.prototype.error=function error(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var n=this.positionBy(t);return this.source.input.error(e,n.line,n.column,t)}return new r.default(e)},Node.prototype.warn=function warn(e,t,n){var r={node:this};for(var o in n)r[o]=n[o];return e.warn(t,r)},Node.prototype.remove=function remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},Node.prototype.toString=function toString(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.default;e.stringify&&(e=e.stringify);var t="";return e(this,function(e){t+=e}),t},Node.prototype.clone=function clone(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=function cloneNode(e,t){var n=new e.constructor;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i=void 0===o?"undefined":a(o);"parent"===r&&"object"===i?t&&(n[r]=t):"source"===r?n[r]=o:o instanceof Array?n[r]=o.map(function(e){return cloneNode(e,n)}):("object"===i&&null!==o&&(o=cloneNode(o)),n[r]=o)}return n}(this);for(var n in e)t[n]=e[n];return t},Node.prototype.cloneBefore=function cloneBefore(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t},Node.prototype.cloneAfter=function cloneAfter(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t},Node.prototype.replaceWith=function replaceWith(){if(this.parent){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this.parent.insertBefore(this,s)}this.remove()}return this},Node.prototype.moveTo=function moveTo(e){return(0,s.default)("Node#moveTo was deprecated. Use Container#append."),this.cleanRaws(this.root()===e.root()),this.remove(),e.append(this),this},Node.prototype.moveBefore=function moveBefore(e){return(0,s.default)("Node#moveBefore was deprecated. Use Node#before."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertBefore(e,this),this},Node.prototype.moveAfter=function moveAfter(e){return(0,s.default)("Node#moveAfter was deprecated. Use Node#after."),this.cleanRaws(this.root()===e.root()),this.remove(),e.parent.insertAfter(e,this),this},Node.prototype.next=function next(){var e=this.parent.index(this);return this.parent.nodes[e+1]},Node.prototype.prev=function prev(){var e=this.parent.index(this);return this.parent.nodes[e-1]},Node.prototype.before=function before(e){return this.parent.insertBefore(this,e),this},Node.prototype.after=function after(e){return this.parent.insertAfter(this,e),this},Node.prototype.toJSON=function toJSON(){var e={};for(var t in this)if(this.hasOwnProperty(t)&&"parent"!==t){var n=this[t];n instanceof Array?e[t]=n.map(function(e){return"object"===(void 0===e?"undefined":a(e))&&e.toJSON?e.toJSON():e}):"object"===(void 0===n?"undefined":a(n))&&n.toJSON?e[t]=n.toJSON():e[t]=n}return e},Node.prototype.raw=function raw(e,t){return(new o.default).raw(this,e,t)},Node.prototype.root=function root(){for(var e=this;e.parent;)e=e.parent;return e},Node.prototype.cleanRaws=function cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between},Node.prototype.positionInside=function positionInside(e){for(var t=this.toString(),n=this.source.start.column,r=this.source.start.line,o=0;o<e;o++)"\n"===t[o]?r+=n=1:n+=1;return{line:r,column:n}},Node.prototype.positionBy=function positionBy(e){var t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){var n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t},Node}();t.default=u,e.exports=t.default},function(e,u,t){(function(o){function normalizeArray(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return t.exec(e).slice(1)};function filter(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}u.resolve=function(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){var r=0<=n?arguments[n]:o.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},u.normalize=function(e){var t=u.isAbsolute(e),n="/"===r(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},u.isAbsolute=function(e){return"/"===e.charAt(0)},u.join=function(){var e=Array.prototype.slice.call(arguments,0);return u.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},u.relative=function(e,t){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=u.resolve(e).substr(1),t=u.resolve(t).substr(1);for(var n=trim(e.split("/")),r=trim(t.split("/")),o=Math.min(n.length,r.length),i=o,a=0;a<o;a++)if(n[a]!==r[a]){i=a;break}var s=[];for(a=i;a<n.length;a++)s.push("..");return(s=s.concat(r.slice(i))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},u.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},u.extname=function(e){return i(e)[3]};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,t(5))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function stringify(e,t){new r.default(t).stringify(e)};var r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(70));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function parse(e,t){if(t&&t.safe)throw new Error('Option safe was removed. Use parser: require("postcss-safe-parser")');var n=new i.default(e,t),r=new o.default(n);try{r.parse()}catch(e){throw"CssSyntaxError"===e.name&&t&&t.from&&(/\.scss$/i.test(t.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(t.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(t.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return r.root};var o=_interopRequireDefault(n(207)),i=_interopRequireDefault(n(65));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(n){function Comment(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Comment);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.type="comment",t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Comment,n),Comment}(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(29)).default);t.default=r,e.exports=t.default},function(e,t,h){"use strict";t.__esModule=!0;var n=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),p=_interopRequireDefault(h(28)),m=_interopRequireDefault(h(33));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=function(i){function Container(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Container),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,i.apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Container,i),Container.prototype.push=function push(e){return(e.parent=this).nodes.push(e),this},Container.prototype.each=function each(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;if(this.indexes[t]=0,this.nodes){for(var n=void 0,r=void 0;this.indexes[t]<this.nodes.length&&(n=this.indexes[t],!1!==(r=e(this.nodes[n],n)));)this.indexes[t]+=1;return delete this.indexes[t],r}},Container.prototype.walk=function walk(r){return this.each(function(e,t){var n=r(e,t);return!1!==n&&e.walk&&(n=e.walk(r)),n})},Container.prototype.walkDecls=function walkDecls(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("decl"===e.type&&n.test(e.prop))return r(e,t)}):this.walk(function(e,t){if("decl"===e.type&&e.prop===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("decl"===e.type)return r(e,t)}))},Container.prototype.walkRules=function walkRules(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("rule"===e.type&&n.test(e.selector))return r(e,t)}):this.walk(function(e,t){if("rule"===e.type&&e.selector===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("rule"===e.type)return r(e,t)}))},Container.prototype.walkAtRules=function walkAtRules(n,r){return r?n instanceof RegExp?this.walk(function(e,t){if("atrule"===e.type&&n.test(e.name))return r(e,t)}):this.walk(function(e,t){if("atrule"===e.type&&e.name===n)return r(e,t)}):(r=n,this.walk(function(e,t){if("atrule"===e.type)return r(e,t)}))},Container.prototype.walkComments=function walkComments(n){return this.walk(function(e,t){if("comment"===e.type)return n(e,t)})},Container.prototype.append=function append(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,u=this.normalize(s,this.last),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}var d=f;this.nodes.push(d)}}return this},Container.prototype.prepend=function prepend(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t=t.reverse(),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a,u=this.normalize(s,this.first,"prepend").reverse(),c=u,l=Array.isArray(c),f=0;for(c=l?c:c[Symbol.iterator]();;){var d;if(l){if(f>=c.length)break;d=c[f++]}else{if((f=c.next()).done)break;d=f.value}var h=d;this.nodes.unshift(h)}for(var p in this.indexes)this.indexes[p]=this.indexes[p]+u.length}return this},Container.prototype.cleanRaws=function cleanRaws(e){if(i.prototype.cleanRaws.call(this,e),this.nodes){var t=this.nodes,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}o.cleanRaws(e)}}},Container.prototype.insertBefore=function insertBefore(e,t){var n=0===(e=this.index(e))&&"prepend",r=this.normalize(t,this.nodes[e],n).reverse(),o=r,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}var u=s;this.nodes.splice(e,0,u)}var c=void 0;for(var l in this.indexes)e<=(c=this.indexes[l])&&(this.indexes[l]=c+r.length);return this},Container.prototype.insertAfter=function insertAfter(e,t){e=this.index(e);var n=this.normalize(t,this.nodes[e]).reverse(),r=n,o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;this.nodes.splice(e+1,0,s)}var u=void 0;for(var c in this.indexes)e<(u=this.indexes[c])&&(this.indexes[c]=u+n.length);return this},Container.prototype.removeChild=function removeChild(e){e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1);var t=void 0;for(var n in this.indexes)e<=(t=this.indexes[n])&&(this.indexes[n]=t-1);return this},Container.prototype.removeAll=function removeAll(){var e=this.nodes,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}r.parent=void 0}return this.nodes=[],this},Container.prototype.replaceValues=function replaceValues(t,n,r){return r||(r=n,n={}),this.walkDecls(function(e){n.props&&-1===n.props.indexOf(e.prop)||n.fast&&-1===e.value.indexOf(n.fast)||(e.value=e.value.replace(t,r))}),this},Container.prototype.every=function every(e){return this.nodes.every(e)},Container.prototype.some=function some(e){return this.nodes.some(e)},Container.prototype.index=function index(e){return"number"==typeof e?e:this.nodes.indexOf(e)},Container.prototype.normalize=function normalize(e,t){var n=this;if("string"==typeof e)e=function cleanSource(e){return e.map(function(e){return e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e})}(h(32)(e).nodes);else if(Array.isArray(e)){var r=e=e.slice(0),o=Array.isArray(r),i=0;for(r=o?r:r[Symbol.iterator]();;){var a;if(o){if(i>=r.length)break;a=r[i++]}else{if((i=r.next()).done)break;a=i.value}var s=a;s.parent&&s.parent.removeChild(s,"ignore")}}else if("root"===e.type){var u=e=e.nodes.slice(0),c=Array.isArray(u),l=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}var d=f;d.parent&&d.parent.removeChild(d,"ignore")}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new p.default(e)]}else if(e.selector){e=[new(h(16))(e)]}else if(e.name){e=[new(h(15))(e)]}else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new m.default(e)]}return e.map(function(e){return"function"!=typeof e.before&&(e=n.rebuild(e)),e.parent&&e.parent.removeChild(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/[^\s]/g,"")),e.parent=n,e})},Container.prototype.rebuild=function rebuild(e,t){var n=this,r=void 0;if("root"===e.type){var o=h(35);r=new o}else if("atrule"===e.type){var i=h(15);r=new i}else if("rule"===e.type){var a=h(16);r=new a}else"decl"===e.type?r=new p.default:"comment"===e.type&&(r=new m.default);for(var s in e)"nodes"===s?r.nodes=e.nodes.map(function(e){return n.rebuild(e,r)}):"parent"===s&&t?r.parent=t:e.hasOwnProperty(s)&&(r[s]=e[s]);return r},n(Container,[{key:"first",get:function get(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function get(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),Container}(_interopRequireDefault(h(29)).default);t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(u){function Root(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Root);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,u.call(this,e));return t.type="root",t.nodes||(t.nodes=[]),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Root,u),Root.prototype.removeChild=function removeChild(e,t){var n=this.index(e);return!t&&0===n&&1<this.nodes.length&&(this.nodes[1].raws.before=this.nodes[n].raws.before),u.prototype.removeChild.call(this,e)},Root.prototype.normalize=function normalize(e,t,n){var r=u.prototype.normalize.call(this,e);if(t)if("prepend"===n)1<this.nodes.length?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t){var o=r,i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(a>=o.length)break;s=o[a++]}else{if((a=o.next()).done)break;s=a.value}s.raws.before=t.raws.before}}return r},Root.prototype.toResult=function toResult(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new(n(73))(new(n(72)),this,e).stringify()},Root}(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(34)).default);t.default=r,e.exports=t.default},function(e,t,n){var r,o;o=function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=6)}([function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t,n){var w=n(3).mergeOpts,x=n(0),C=n(4).Output,k=n(7).Tokenizer;function remove_redundant_indentation(e,t){if(!t.multiline_frame&&t.mode!==A.ForInitializer&&t.mode!==A.Conditional){var n=t.start_line_index;e.remove_indent(n)}}function in_array(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}var S=["before-newline","after-newline","preserve-newline"],E=function generateMapFromStrings(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}(S),T=[E.before_newline,E.preserve_newline],A={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};e.exports.Beautifier=function Beautifier(e,t){"use strict";var l,n,f,d,h,i,r,p,a,o,s,u,m,c=[],g="";function create_flags(e,t){var n=0;return e&&(n=e.indentation_level,!l.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level)),{mode:t,parent:e,last_text:e?e.last_text:"",last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,line_indent_level:e?e.line_indent_level:n,start_line_index:l.get_line_number(),ternary_depth:0}}u={TK_START_EXPR:function handle_start_expr(){start_of_statement()||handle_whitespace_and_comments(d);var e=A.Expression;if("["===d.text){if("TK_WORD"===h||")"===p.last_text)return"TK_RESERVED"===h&&in_array(p.last_text,f.line_starters)&&(l.space_before_token=!0),set_mode(e),print_token(),indent(),void(m.space_in_paren&&(l.space_before_token=!0));e=A.ArrayLiteral,is_array(p.mode)&&("["!==p.last_text&&(","!==p.last_text||"]"!==i&&"}"!==i)||m.keep_array_indentation||print_newline())}else"TK_RESERVED"===h&&"for"===p.last_text?e=A.ForInitializer:"TK_RESERVED"===h&&in_array(p.last_text,["if","while"])&&(e=A.Conditional);";"===p.last_text||"TK_START_BLOCK"===h?print_newline():"TK_END_EXPR"===h||"TK_START_EXPR"===h||"TK_END_BLOCK"===h||"."===p.last_text?allow_wrap_or_preserved_newline(d.wanted_newline):"TK_RESERVED"===h&&"("===d.text||"TK_WORD"===h||"TK_OPERATOR"===h?"TK_RESERVED"===h&&("function"===p.last_word||"typeof"===p.last_word)||"*"===p.last_text&&(in_array(i,["function","yield"])||p.mode===A.ObjectLiteral&&in_array(i,["{",","]))?m.space_after_anon_function&&(l.space_before_token=!0):"TK_RESERVED"!==h||!in_array(p.last_text,f.line_starters)&&"catch"!==p.last_text||m.space_before_conditional&&(l.space_before_token=!0):l.space_before_token=!0,"("===d.text&&"TK_RESERVED"===h&&in_array(p.last_word,["await","async"])&&(l.space_before_token=!0),"("===d.text&&("TK_EQUALS"!==h&&"TK_OPERATOR"!==h||start_of_object_property()||allow_wrap_or_preserved_newline()),"("===d.text&&"TK_WORD"!==h&&"TK_RESERVED"!==h&&allow_wrap_or_preserved_newline(),set_mode(e),print_token(),m.space_in_paren&&(l.space_before_token=!0),indent()},TK_END_EXPR:function handle_end_expr(){for(;p.mode===A.Statement;)restore_mode();handle_whitespace_and_comments(d),p.multiline_frame&&allow_wrap_or_preserved_newline("]"===d.text&&is_array(p.mode)&&!m.keep_array_indentation),m.space_in_paren&&("TK_START_EXPR"!==h||m.space_in_empty_paren?l.space_before_token=!0:(l.trim(),l.space_before_token=!1)),"]"===d.text&&m.keep_array_indentation?(print_token(),restore_mode()):(restore_mode(),print_token()),remove_redundant_indentation(l,a),p.do_while&&a.mode===A.Conditional&&(a.mode=A.Expression,p.do_block=!1,p.do_while=!1)},TK_START_BLOCK:function handle_start_block(){handle_whitespace_and_comments(d);var e=get_token(1),t=get_token(2);t&&(in_array(t.text,[":",","])&&in_array(e.type,["TK_STRING","TK_WORD","TK_RESERVED"])||in_array(e.text,["get","set","..."])&&in_array(t.type,["TK_WORD","TK_RESERVED"]))?in_array(i,["class","interface"])?set_mode(A.BlockStatement):set_mode(A.ObjectLiteral):"TK_OPERATOR"===h&&"=>"===p.last_text?set_mode(A.BlockStatement):in_array(h,["TK_EQUALS","TK_START_EXPR","TK_COMMA","TK_OPERATOR"])||"TK_RESERVED"===h&&in_array(p.last_text,["return","throw","import","default"])?set_mode(A.ObjectLiteral):set_mode(A.BlockStatement);var n=!e.comments_before.length&&"}"===e.text&&"function"===p.last_word&&"TK_END_EXPR"===h;if(m.brace_preserve_inline){var r=0,o=null;p.inline_frame=!0;do{if((o=get_token(r+=1)).wanted_newline){p.inline_frame=!1;break}}while("TK_EOF"!==o.type&&("TK_END_BLOCK"!==o.type||o.opened!==d))}("expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline)&&!p.inline_frame?"TK_OPERATOR"!==h&&(n||"TK_EQUALS"===h||"TK_RESERVED"===h&&is_special_word(p.last_text)&&"else"!==p.last_text)?l.space_before_token=!0:print_newline(!1,!0):(!is_array(a.mode)||"TK_START_EXPR"!==h&&"TK_COMMA"!==h||(("TK_COMMA"===h||m.space_in_paren)&&(l.space_before_token=!0),("TK_COMMA"===h||"TK_START_EXPR"===h&&p.inline_frame)&&(allow_wrap_or_preserved_newline(),a.multiline_frame=a.multiline_frame||p.multiline_frame,p.multiline_frame=!1)),"TK_OPERATOR"!==h&&"TK_START_EXPR"!==h&&("TK_START_BLOCK"!==h||p.inline_frame?l.space_before_token=!0:print_newline())),print_token(),indent()},TK_END_BLOCK:function handle_end_block(){for(handle_whitespace_and_comments(d);p.mode===A.Statement;)restore_mode();var e="TK_START_BLOCK"===h;p.inline_frame&&!e?l.space_before_token=!0:"expand"===m.brace_style?e||print_newline():e||(is_array(p.mode)&&m.keep_array_indentation?(m.keep_array_indentation=!1,print_newline(),m.keep_array_indentation=!0):print_newline()),restore_mode(),print_token()},TK_WORD:handle_word,TK_RESERVED:handle_word,TK_SEMICOLON:function handle_semicolon(){start_of_statement()?l.space_before_token=!1:handle_whitespace_and_comments(d);for(var e=get_token(1);!(p.mode!==A.Statement||p.if_block&&e&&"TK_RESERVED"===e.type&&"else"===e.text||p.do_block);)restore_mode();p.import_block&&(p.import_block=!1),print_token()},TK_STRING:function handle_string(){start_of_statement()?l.space_before_token=!0:(handle_whitespace_and_comments(d),"TK_RESERVED"===h||"TK_WORD"===h||p.inline_frame?l.space_before_token=!0:"TK_COMMA"===h||"TK_START_EXPR"===h||"TK_EQUALS"===h||"TK_OPERATOR"===h?start_of_object_property()||allow_wrap_or_preserved_newline():print_newline()),print_token()},TK_EQUALS:function handle_equals(){start_of_statement()||handle_whitespace_and_comments(d),p.declaration_statement&&(p.declaration_assignment=!0),l.space_before_token=!0,print_token(),l.space_before_token=!0},TK_OPERATOR:function handle_operator(){var e="*"===d.text&&("TK_RESERVED"===h&&in_array(p.last_text,["function","yield"])||in_array(h,["TK_START_BLOCK","TK_COMMA","TK_END_BLOCK","TK_SEMICOLON"])),t=in_array(d.text,["-","+"])&&(in_array(h,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||in_array(p.last_text,f.line_starters)||","===p.last_text);if(start_of_statement());else{var n=!e;handle_whitespace_and_comments(d,n)}if("TK_RESERVED"===h&&is_special_word(p.last_text))return l.space_before_token=!0,void print_token();if("*"!==d.text||"TK_DOT"!==h)if("::"!==d.text){if("TK_OPERATOR"===h&&in_array(m.operator_position,T)&&allow_wrap_or_preserved_newline(),":"===d.text&&p.in_case)return p.case_body=!0,indent(),print_token(),print_newline(),void(p.in_case=!1);var r=!0,o=!0,i=!1;if(":"===d.text?0===p.ternary_depth?r=!1:(p.ternary_depth-=1,i=!0):"?"===d.text&&(p.ternary_depth+=1),!t&&!e&&m.preserve_newlines&&in_array(d.text,f.positionable_operators)){var a=":"===d.text,s=a&&i,u=a&&!i;switch(m.operator_position){case E.before_newline:return l.space_before_token=!u,print_token(),a&&!s||allow_wrap_or_preserved_newline(),void(l.space_before_token=!0);case E.after_newline:return l.space_before_token=!0,!a||s?get_token(1).wanted_newline?print_newline(!1,!0):allow_wrap_or_preserved_newline():l.space_before_token=!1,print_token(),void(l.space_before_token=!0);case E.preserve_newline:return u||allow_wrap_or_preserved_newline(),r=!(l.just_added_newline()||u),l.space_before_token=r,print_token(),void(l.space_before_token=!0)}}if(e){allow_wrap_or_preserved_newline(),r=!1;var c=get_token(1);o=c&&in_array(c.type,["TK_WORD","TK_RESERVED"])}else"..."===d.text?(allow_wrap_or_preserved_newline(),r="TK_START_BLOCK"===h,o=!1):(in_array(d.text,["--","++","!","~"])||t)&&(o=r=!1,!d.wanted_newline||"--"!==d.text&&"++"!==d.text||print_newline(!1,!0),";"===p.last_text&&is_expression(p.mode)&&(r=!0),"TK_RESERVED"===h?r=!0:"TK_END_EXPR"===h?r=!("]"===p.last_text&&("--"===d.text||"++"===d.text)):"TK_OPERATOR"===h&&(r=in_array(d.text,["--","-","++","+"])&&in_array(p.last_text,["--","-","++","+"]),in_array(d.text,["+","-"])&&in_array(p.last_text,["--","++"])&&(o=!0)),(p.mode!==A.BlockStatement||p.inline_frame)&&p.mode!==A.Statement||"{"!==p.last_text&&";"!==p.last_text||print_newline());l.space_before_token=l.space_before_token||r,print_token(),l.space_before_token=o}else print_token();else print_token()},TK_COMMA:function handle_comma(){handle_whitespace_and_comments(d,!0),print_token(),l.space_before_token=!0,p.declaration_statement?(is_expression(p.parent.mode)&&(p.declaration_assignment=!1),p.declaration_assignment?print_newline(p.declaration_assignment=!1,!0):m.comma_first&&allow_wrap_or_preserved_newline()):p.mode===A.ObjectLiteral||p.mode===A.Statement&&p.parent.mode===A.ObjectLiteral?(p.mode===A.Statement&&restore_mode(),p.inline_frame||print_newline()):m.comma_first&&allow_wrap_or_preserved_newline()},TK_BLOCK_COMMENT:function handle_block_comment(e){if(l.raw)return l.add_raw_token(d),void(d.directives&&"end"===d.directives.preserve&&(l.raw=m.test_output_raw));if(d.directives)return print_newline(!1,e),print_token(),"start"===d.directives.preserve&&(l.raw=!0),void print_newline(!1,!0);if(!x.newline.test(d.text)&&!d.wanted_newline)return l.space_before_token=!0,print_token(),void(l.space_before_token=!0);var t,n=function split_linebreaks(e){e=e.replace(x.allLineBreaks,"\n");for(var t=[],n=e.indexOf("\n");-1!==n;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf("\n");return e.length&&t.push(e),t}(d.text),r=!1,o=!1,i=d.whitespace_before,a=i.length;for(print_newline(!1,e),1<n.length&&(r=function all_lines_start_with(e,t){for(var n=0;n<e.length;n++){var r=e[n].replace(/^\s+|\s+$/g,"");if(r.charAt(0)!==t)return!1}return!0}(n.slice(1),"*"),o=function each_line_matches_indent(e,t){for(var n,r=0,o=e.length;r<o;r++)if((n=e[r])&&0!==n.indexOf(t))return!1;return!0}(n.slice(1),i)),print_token(n[0]),t=1;t<n.length;t++)print_newline(!1,!0),r?print_token(" "+n[t].replace(/^\s+/g,"")):o&&n[t].length>a?print_token(n[t].substring(a)):l.add_token(n[t]);print_newline(!1,e)},TK_COMMENT:function handle_comment(e){d.wanted_newline?print_newline(!1,e):l.trim(!0),l.space_before_token=!0,print_token(),print_newline(!1,e)},TK_DOT:function handle_dot(){start_of_statement()||handle_whitespace_and_comments(d,!0),"TK_RESERVED"===h&&is_special_word(p.last_text)?l.space_before_token=!0:allow_wrap_or_preserved_newline(")"===p.last_text&&m.break_chained_methods),print_token()},TK_UNKNOWN:function handle_unknown(e){print_token(),"\n"===d.text[d.text.length-1]&&print_newline(!1,e)},TK_EOF:function handle_eof(){for(;p.mode===A.Statement;)restore_mode();handle_whitespace_and_comments(d)}},t=w(t=t||{},"js"),m={},"expand-strict"===t.brace_style?t.brace_style="expand":"collapse-preserve-inline"===t.brace_style?t.brace_style="collapse,preserve-inline":void 0!==t.braces_on_own_line?t.brace_style=t.braces_on_own_line?"expand":"collapse":t.brace_style||(t.brace_style="collapse");var v=t.brace_style.split(/[^a-zA-Z0-9_\-]+/);m.brace_preserve_inline=!1,m.brace_style="collapse";for(var b=0;b<v.length;b++)"preserve-inline"===v[b]?m.brace_preserve_inline=!0:m.brace_style=v[b];for(m.indent_size=t.indent_size?parseInt(t.indent_size,10):4,m.indent_char=t.indent_char?t.indent_char:" ",m.eol=t.eol?t.eol:"auto",m.preserve_newlines=void 0===t.preserve_newlines||t.preserve_newlines,m.unindent_chained_methods=void 0!==t.unindent_chained_methods&&t.unindent_chained_methods,m.break_chained_methods=void 0!==t.break_chained_methods&&t.break_chained_methods,m.max_preserve_newlines=void 0===t.max_preserve_newlines?0:parseInt(t.max_preserve_newlines,10),m.space_in_paren=void 0!==t.space_in_paren&&t.space_in_paren,m.space_in_empty_paren=void 0!==t.space_in_empty_paren&&t.space_in_empty_paren,m.jslint_happy=void 0!==t.jslint_happy&&t.jslint_happy,m.space_after_anon_function=void 0!==t.space_after_anon_function&&t.space_after_anon_function,m.keep_array_indentation=void 0!==t.keep_array_indentation&&t.keep_array_indentation,m.space_before_conditional=void 0===t.space_before_conditional||t.space_before_conditional,m.unescape_strings=void 0!==t.unescape_strings&&t.unescape_strings,m.wrap_line_length=void 0===t.wrap_line_length?0:parseInt(t.wrap_line_length,10),m.e4x=void 0!==t.e4x&&t.e4x,m.end_with_newline=void 0!==t.end_with_newline&&t.end_with_newline,m.comma_first=void 0!==t.comma_first&&t.comma_first,m.operator_position=function sanitizeOperatorPosition(e){if(!in_array(e=e||E.before_newline,S))throw new Error("Invalid Option Value: The option 'operator_position' must be one of the following values\n"+S+"\nYou passed in: '"+e+"'");return e}(t.operator_position),m.test_output_raw=void 0!==t.test_output_raw&&t.test_output_raw,m.jslint_happy&&(m.space_after_anon_function=!0),t.indent_with_tabs&&(m.indent_char="\t",m.indent_size=1),"auto"===m.eol&&(m.eol="\n",e&&x.lineBreak.test(e||"")&&(m.eol=e.match(x.lineBreak)[0])),m.eol=m.eol.replace(/\\r/,"\r").replace(/\\n/,"\n"),r="";0<m.indent_size;)r+=m.indent_char,m.indent_size-=1;var y=0;if(e&&e.length){for(;" "===e.charAt(y)||"\t"===e.charAt(y);)y+=1;g=e.substring(0,y),e=e.substring(y)}function handle_whitespace_and_comments(e,t){for(var n=e.newlines,r=m.keep_array_indentation&&is_array(p.mode),o=d,i=0;i<e.comments_before.length;i++)handle_whitespace_and_comments(d=e.comments_before[i],t),u[d.type](t);if(d=o,r)for(var a=0;a<n;a+=1)print_newline(0<a,t);else if(m.max_preserve_newlines&&n>m.max_preserve_newlines&&(n=m.max_preserve_newlines),m.preserve_newlines&&1<e.newlines){print_newline(!1,t);for(var s=1;s<n;s+=1)print_newline(!0,t)}}h="TK_START_BLOCK",i="",(l=new C(r,g)).raw=m.test_output_raw,o=[],set_mode(A.BlockStatement),this.beautify=function(){for(f=new k(e,m,r),c=f.tokenize(),n=0,d=get_token();d;)u[d.type](),i=p.last_text,h=d.type,p.last_text=d.text,n+=1,d=get_token();return l.get_code(m.end_with_newline,m.eol)};var _=["break","continue","return","throw","yield"];function allow_wrap_or_preserved_newline(e){if(e=void 0!==e&&e,!l.just_added_newline()){var t=m.preserve_newlines&&d.wanted_newline||e;if(in_array(p.last_text,f.positionable_operators)||in_array(d.text,f.positionable_operators)){var n=in_array(p.last_text,f.positionable_operators)&&in_array(m.operator_position,T)||in_array(d.text,f.positionable_operators);t=t&&n}if(t)print_newline(!1,!0);else if(m.wrap_line_length){if("TK_RESERVED"===h&&in_array(p.last_text,_))return;l.current_line.get_character_count()+d.text.length+(l.space_before_token?1:0)>=m.wrap_line_length&&print_newline(!1,!0)}}}function print_newline(e,t){if(!t&&";"!==p.last_text&&","!==p.last_text&&"="!==p.last_text&&"TK_OPERATOR"!==h)for(var n=get_token(1);!(p.mode!==A.Statement||p.if_block&&n&&"TK_RESERVED"===n.type&&"else"===n.text||p.do_block);)restore_mode();l.add_new_line(e)&&(p.multiline_frame=!0)}function print_token_line_indentation(){l.just_added_newline()&&(m.keep_array_indentation&&is_array(p.mode)&&d.wanted_newline?(l.current_line.push(d.whitespace_before),l.space_before_token=!1):l.set_indent(p.indentation_level)&&(p.line_indent_level=p.indentation_level))}function print_token(e){if(l.raw)l.add_raw_token(d);else{if(m.comma_first&&"TK_COMMA"===h&&l.just_added_newline()&&","===l.previous_line.last()){var t=l.previous_line.pop();l.previous_line.is_empty()&&(l.previous_line.push(t),l.trim(!0),l.current_line.pop(),l.trim()),print_token_line_indentation(),l.add_token(","),l.space_before_token=!0}e=e||d.text,print_token_line_indentation(),l.add_token(e)}}function indent(){p.indentation_level+=1}function set_mode(e){p?(o.push(p),a=p):a=create_flags(null,e),p=create_flags(a,e)}function is_array(e){return e===A.ArrayLiteral}function is_expression(e){return in_array(e,[A.Expression,A.ForInitializer,A.Conditional])}function restore_mode(){0<o.length&&(a=p,p=o.pop(),a.mode!==A.Statement||m.unindent_chained_methods||remove_redundant_indentation(l,a))}function start_of_object_property(){return p.parent.mode===A.ObjectLiteral&&p.mode===A.Statement&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===h&&in_array(p.last_text,["get","set"]))}function start_of_statement(){return!!("TK_RESERVED"===h&&in_array(p.last_text,["var","let","const"])&&"TK_WORD"===d.type||"TK_RESERVED"===h&&"do"===p.last_text||"TK_RESERVED"===h&&in_array(p.last_text,_)&&!d.wanted_newline||"TK_RESERVED"===h&&"else"===p.last_text&&("TK_RESERVED"!==d.type||"if"!==d.text||d.comments_before.length)||"TK_END_EXPR"===h&&(a.mode===A.ForInitializer||a.mode===A.Conditional)||"TK_WORD"===h&&p.mode===A.BlockStatement&&!p.in_case&&"--"!==d.text&&"++"!==d.text&&"function"!==i&&"TK_WORD"!==d.type&&"TK_RESERVED"!==d.type||p.mode===A.ObjectLiteral&&(":"===p.last_text&&0===p.ternary_depth||"TK_RESERVED"===h&&in_array(p.last_text,["get","set"])))&&(set_mode(A.Statement),m.unindent_chained_methods||indent(),handle_whitespace_and_comments(d,!0),start_of_object_property()||allow_wrap_or_preserved_newline("TK_RESERVED"===d.type&&in_array(d.text,["do","for","if","while"])),!0)}function is_special_word(e){return in_array(e,["case","return","do","if","throw","else"])}function get_token(e){var t=n+(e||0);return t<0||t>=c.length?null:c[t]}function handle_word(){if("TK_RESERVED"===d.type&&(in_array(d.text,["set","get"])&&p.mode!==A.ObjectLiteral?d.type="TK_WORD":in_array(d.text,["as","from"])&&!p.import_block?d.type="TK_WORD":p.mode===A.ObjectLiteral&&":"===get_token(1).text&&(d.type="TK_WORD")),start_of_statement()?"TK_RESERVED"===h&&in_array(p.last_text,["var","let","const"])&&"TK_WORD"===d.type&&(p.declaration_statement=!0):!d.wanted_newline||is_expression(p.mode)||"TK_OPERATOR"===h&&"--"!==p.last_text&&"++"!==p.last_text||"TK_EQUALS"===h||!m.preserve_newlines&&"TK_RESERVED"===h&&in_array(p.last_text,["var","let","const","set","get"])?handle_whitespace_and_comments(d):(handle_whitespace_and_comments(d),print_newline()),p.do_block&&!p.do_while){if("TK_RESERVED"===d.type&&"while"===d.text)return l.space_before_token=!0,print_token(),l.space_before_token=!0,void(p.do_while=!0);print_newline(),p.do_block=!1}if(p.if_block)if(p.else_block||"TK_RESERVED"!==d.type||"else"!==d.text){for(;p.mode===A.Statement;)restore_mode();p.if_block=!1,p.else_block=!1}else p.else_block=!0;return"TK_RESERVED"===d.type&&("case"===d.text||"default"===d.text&&p.in_case_statement)?(print_newline(),(p.case_body||m.jslint_happy)&&(function deindent(){0<p.indentation_level&&(!p.parent||p.indentation_level>p.parent.indentation_level)&&(p.indentation_level-=1)}(),p.case_body=!1),print_token(),p.in_case=!0,void(p.in_case_statement=!0)):("TK_COMMA"!==h&&"TK_START_EXPR"!==h&&"TK_EQUALS"!==h&&"TK_OPERATOR"!==h||start_of_object_property()||allow_wrap_or_preserved_newline(),"TK_RESERVED"===d.type&&"function"===d.text?((in_array(p.last_text,["}",";"])||l.just_added_newline()&&!in_array(p.last_text,["(","[","{",":","=",","])&&"TK_OPERATOR"!==h)&&(l.just_added_blankline()||d.comments_before.length||(print_newline(),print_newline(!0))),"TK_RESERVED"===h||"TK_WORD"===h?"TK_RESERVED"===h&&(in_array(p.last_text,["get","set","new","export","async"])||in_array(p.last_text,_))?l.space_before_token=!0:"TK_RESERVED"===h&&"default"===p.last_text&&"export"===i?l.space_before_token=!0:print_newline():"TK_OPERATOR"===h||"="===p.last_text?l.space_before_token=!0:(p.multiline_frame||!is_expression(p.mode)&&!is_array(p.mode))&&print_newline(),print_token(),void(p.last_word=d.text)):(s="NONE","TK_END_BLOCK"===h?a.inline_frame?s="SPACE":"TK_RESERVED"===d.type&&in_array(d.text,["else","catch","finally","from"])?"expand"===m.brace_style||"end-expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline?s="NEWLINE":(s="SPACE",l.space_before_token=!0):s="NEWLINE":"TK_SEMICOLON"===h&&p.mode===A.BlockStatement?s="NEWLINE":"TK_SEMICOLON"===h&&is_expression(p.mode)?s="SPACE":"TK_STRING"===h?s="NEWLINE":"TK_RESERVED"===h||"TK_WORD"===h||"*"===p.last_text&&(in_array(i,["function","yield"])||p.mode===A.ObjectLiteral&&in_array(i,["{",","]))?s="SPACE":"TK_START_BLOCK"===h?s=p.inline_frame?"SPACE":"NEWLINE":"TK_END_EXPR"===h&&(l.space_before_token=!0,s="NEWLINE"),"TK_RESERVED"===d.type&&in_array(d.text,f.line_starters)&&")"!==p.last_text&&(s=p.inline_frame||"else"===p.last_text||"export"===p.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===d.type&&in_array(d.text,["else","catch","finally"])?("TK_END_BLOCK"!==h||a.mode!==A.BlockStatement||"expand"===m.brace_style||"end-expand"===m.brace_style||"none"===m.brace_style&&d.wanted_newline)&&!p.inline_frame?print_newline():(l.trim(!0),"}"!==l.current_line.last()&&print_newline(),l.space_before_token=!0):"NEWLINE"===s?"TK_RESERVED"===h&&is_special_word(p.last_text)?l.space_before_token=!0:"TK_END_EXPR"!==h?"TK_START_EXPR"===h&&"TK_RESERVED"===d.type&&in_array(d.text,["var","let","const"])||":"===p.last_text||("TK_RESERVED"===d.type&&"if"===d.text&&"else"===p.last_text?l.space_before_token=!0:print_newline()):"TK_RESERVED"===d.type&&in_array(d.text,f.line_starters)&&")"!==p.last_text&&print_newline():p.multiline_frame&&is_array(p.mode)&&","===p.last_text&&"}"===i?print_newline():"SPACE"===s&&(l.space_before_token=!0),print_token(),p.last_word=d.text,void("TK_RESERVED"===d.type&&("do"===d.text?p.do_block=!0:"if"===d.text?p.if_block=!0:"import"===d.text?p.import_block=!0:p.import_block&&"TK_RESERVED"===d.type&&"from"===d.text&&(p.import_block=!1)))))}}},function(e,t){e.exports.InputScanner=function InputScanner(e){var n=e,r=n.length,o=0;this.back=function(){o-=1},this.hasNext=function(){return o<r},this.next=function(){var e=null;return this.hasNext()&&(e=n.charAt(o),o+=1),e},this.peek=function(e){var t=null;return e=e||0,0<=(e+=o)&&e<r&&(t=n.charAt(e)),t},this.peekCharCode=function(e){var t=0;return e=e||0,0<=(e+=o)&&e<r&&(t=n.charCodeAt(e)),t},this.test=function(e,t){return t=t||0,e.lastIndex=o+t,e.test(n)},this.testChar=function(e,t){var n=this.peek(t);return null!==n&&e.test(n)},this.match=function(e){e.lastIndex=o;var t=e.exec(n);return t&&t.index===o?o+=t[0].length:t=null,t}}},function(e,t){e.exports.mergeOpts=function mergeOpts(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t){e.exports.Output=function Output(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var r=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function OutputLine(t){var n=0,r=-1,o=[],i=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,r=e},this.get_character_count=function(){return n},this.is_empty=function(){return i},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),n+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=o.pop(),n-=e.length,i=0===o.length),e},this.remove_indent=function(){0<r&&(r-=1,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)o.pop(),n-=1;i=0===o.length},this.toString=function(){var e="";return this._empty||(0<=r&&(e=t.indent_cache[r]),e+=o.join("")),e}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(1<r.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim(t,n);e&&1<r.length&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=1<r.length?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t){e.exports.Token=function Token(e,t,n,r,o){this.type=e,this.text=t,this.comments_before=[],this.comments_after=[],this.newlines=n||0,this.wanted_newline=0<n,this.whitespace_before=r||"",this.parent=o||null,this.opened=null,this.directives=null}},function(e,t,n){var r=n(1).Beautifier;e.exports=function js_beautify(e,t){return new r(e,t).beautify()}},function(e,t,n){var W=n(2).InputScanner,V=n(5).Token,K=n(0);function in_array(e,t){for(var n=0;n<t.length;n+=1)if(t[n]===e)return!0;return!1}e.exports.Tokenizer=function Tokenizer(a,S){var E="\n\r\t ".split(""),T=/[0-9]/,A=/[01]/,R=/[01234567]/,N=/[0123456789abcdefABCDEF]/;this.positionable_operators="!= !== % & && * ** + - / : < << <= == === > >= >> >>> ? ^ | ||".split(" ");var D=this.positionable_operators.concat("! %= &= *= **= ++ += , -- -= /= :: <<= = => >>= >>>= ^= |= ~ ...".split(" "));this.line_starters="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(",");var O,B,P,M,L,I=this.line_starters.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),F=/([\s\S]*?)((?:\*\/)|$)/g,j=/([^\n\r\u2028\u2029]*)/g,z=/\/\* beautify( \w+[:]\w+)+ \*\//g,q=/ (\w+)[:](\w+)/g,H=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,U=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g;function tokenize_next(){var o,e=[];O=0,B="";var t,n=L.next();if(null===n)return["","TK_EOF"];for(t=M.length?M[M.length-1]:new V("TK_START_BLOCK","{");in_array(n,E);)if(K.newline.test(n)?"\n"===n&&"\r"===L.peek(-2)||(O+=1,e=[]):e.push(n),null===(n=L.next()))return["","TK_EOF"];if(e.length&&(B=e.join("")),T.test(n)||"."===n&&L.testChar(T)){var r=!0,i=!0,a=T;for("0"===n&&L.testChar(/[XxOoBb]/)?(i=r=!1,a=L.testChar(/[Bb]/)?A:L.testChar(/[Oo]/)?R:N,n+=L.next()):"."===n?r=!1:(n="",L.back());L.testChar(a);)n+=L.next(),r&&"."===L.peek()&&(n+=L.next(),r=!1),i&&L.testChar(/[Ee]/)&&(n+=L.next(),L.testChar(/[+-]/)&&(n+=L.next()),r=i=!1);return[n,"TK_WORD"]}if(K.isIdentifierStart(L.peekCharCode(-1))){if(L.hasNext())for(;K.isIdentifierChar(L.peekCharCode())&&(n+=L.next(),L.hasNext()););return"TK_DOT"===t.type||"TK_RESERVED"===t.type&&in_array(t.text,["set","get"])||!in_array(n,I)?[n,"TK_WORD"]:"in"===n||"of"===n?[n,"TK_OPERATOR"]:[n,"TK_RESERVED"]}if("("===n||"["===n)return[n,"TK_START_EXPR"];if(")"===n||"]"===n)return[n,"TK_END_EXPR"];if("{"===n)return[n,"TK_START_BLOCK"];if("}"===n)return[n,"TK_END_BLOCK"];if(";"===n)return[n,"TK_SEMICOLON"];if("/"===n){var s="";if("*"===L.peek()){L.next();var u=function get_directives(e){if(!e.match(z))return null;var t={};q.lastIndex=0;for(var n=q.exec(e);n;)t[n[1]]=n[2],n=q.exec(e);return t}(s="/*"+L.match(F)[0]);return u&&"start"===u.ignore&&(s+=L.match(H)[0]),[s=s.replace(K.allLineBreaks,"\n"),"TK_BLOCK_COMMENT",u]}if("/"===L.peek())return L.next(),[s="//"+L.match(j)[0],"TK_COMMENT"]}var c=/<()([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;if("`"===n||"'"===n||'"'===n||("/"===n||S.e4x&&"<"===n&&L.test(c,-1))&&("TK_RESERVED"===t.type&&in_array(t.text,["return","case","throw","else","do","typeof","yield"])||"TK_END_EXPR"===t.type&&")"===t.text&&t.parent&&"TK_RESERVED"===t.parent.type&&in_array(t.parent.text,["if","while","for"])||in_array(t.type,["TK_COMMENT","TK_START_EXPR","TK_START_BLOCK","TK_END_BLOCK","TK_OPERATOR","TK_EQUALS","TK_EOF","TK_SEMICOLON","TK_COMMA"]))){var l=n,f=!1,d=!1;if(o=n,"/"===l)for(var h=!1;L.hasNext()&&(f||h||L.peek()!==l)&&!L.testChar(K.newline);)o+=L.peek(),f?f=!1:(f="\\"===L.peek(),"["===L.peek()?h=!0:"]"===L.peek()&&(h=!1)),L.next();else if(S.e4x&&"<"===l){var p=/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/g;L.back();var m="",g=L.match(c);if(g){for(var v=g[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),b=0===v.indexOf("{"),y=0;g;){var _=!!g[1],w=g[2];if(!(g[g.length-1]||"![CDATA["===w.slice(0,8))&&(w===v||b&&w.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(_?--y:++y),m+=g[0],y<=0)break;g=L.match(p)}return g||(m+=L.match(/[\s\S]*/g)[0]),[m=m.replace(K.allLineBreaks,"\n"),"TK_STRING"]}}else{var x=function(e,t,n){for(var r;L.hasNext()&&(r=L.peek(),f||r!==e&&(t||!K.newline.test(r)));)(f||t)&&K.newline.test(r)?("\r"===r&&"\n"===L.peek(1)&&(L.next(),r=L.peek()),o+="\n"):o+=r,f?("x"!==r&&"u"!==r||(d=!0),f=!1):f="\\"===r,L.next(),n&&-1!==o.indexOf(n,o.length-n.length)&&("`"===e?x("}",t,"`"):x("`",t,"${"),L.hasNext()&&(o+=L.next()))};"`"===l?x("`",!0,"${"):x(l)}if(d&&S.unescape_strings&&(o=function unescape_string(e){for(var t="",n=0,r=new W(e),o=null;r.hasNext();)if((o=r.match(/([\s]|[^\\]|\\\\)+/g))&&(t+=o[0]),"\\"===r.peek()){if(r.next(),"x"===r.peek())o=r.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==r.peek()){t+="\\",r.hasNext()&&(t+=r.next());continue}o=r.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return e;if(126<(n=parseInt(o[1],16))&&n<=255&&0===o[0].indexOf("x"))return e;if(0<=n&&n<32){t+="\\"+o[0];continue}t+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return t}(o)),L.peek()===l&&(o+=l,L.next(),"/"===l))for(;L.hasNext()&&K.isIdentifierStart(L.peekCharCode());)o+=L.next();return[o,"TK_STRING"]}if("#"===n){if(0===M.length&&"!"===L.peek()){for(o=n;L.hasNext()&&"\n"!==n;)n=L.next(),o+=n;return[function trim(e){return e.replace(/^\s+|\s+$/g,"")}(o)+"\n","TK_UNKNOWN"]}var C="#";if(L.hasNext()&&L.testChar(T)){for(;C+=n=L.next(),L.hasNext()&&"#"!==n&&"="!==n;);return"#"===n||("["===L.peek()&&"]"===L.peek(1)?(C+="[]",L.next(),L.next()):"{"===L.peek()&&"}"===L.peek(1)&&(C+="{}",L.next(),L.next())),[C,"TK_WORD"]}}if("<"===n&&("?"===L.peek()||"%"===L.peek())){L.back();var k=L.match(U);if(k)return[n=(n=k[0]).replace(K.allLineBreaks,"\n"),"TK_STRING"]}if("<"===n&&L.match(/\!--/g)){for(n="\x3c!--";L.hasNext()&&!L.testChar(K.newline);)n+=L.next();return P=!0,[n,"TK_COMMENT"]}if("-"===n&&P&&L.match(/->/g))return P=!1,["--\x3e","TK_COMMENT"];if("."===n)return"."===L.peek()&&"."===L.peek(1)?[n+=L.next()+L.next(),"TK_OPERATOR"]:[n,"TK_DOT"];if(in_array(n,D)){for(;L.hasNext()&&in_array(n+L.peek(),D)&&(n+=L.next(),L.hasNext()););return","===n?[n,"TK_COMMA"]:"="===n?[n,"TK_EQUALS"]:[n,"TK_OPERATOR"]}return[n,"TK_UNKNOWN"]}this.tokenize=function(){var e,t,n;L=new W(a),P=!1,M=[];for(var r=null,o=[],i=[];!t||"TK_EOF"!==t.type;){for(n=tokenize_next(),e=new V(n[1],n[0],O,B);"TK_COMMENT"===e.type||"TK_BLOCK_COMMENT"===e.type||"TK_UNKNOWN"===e.type;)"TK_BLOCK_COMMENT"===e.type&&(e.directives=n[2]),i.push(e),n=tokenize_next(),e=new V(n[1],n[0],O,B);i.length&&(e.comments_before=i,i=[]),"TK_START_BLOCK"===e.type||"TK_START_EXPR"===e.type?(e.parent=t,o.push(r),r=e):("TK_END_BLOCK"===e.type||"TK_END_EXPR"===e.type)&&r&&("]"===e.text&&"["===r.text||")"===e.text&&"("===r.text||"}"===e.text&&"{"===r.text)&&(e.parent=r.parent,e.opened=r,r=o.pop()),M.push(e),t=e}return M}}}]),void 0===(r=function(){return{js_beautify:o}}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,o;o=function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(e,t,n){var a=n(2).mergeOpts,r=n(1),T=n(3).Output,s=r.lineBreak,u=r.allLineBreaks;e.exports.Beautifier=function Beautifier(r,e){e=a(e=e||{},"css"),r=r||"";var d=0,t=e.indent_size?parseInt(e.indent_size,10):4,n=e.indent_char||" ",o=void 0!==e.preserve_newlines&&e.preserve_newlines,h=void 0===e.selector_separator_newline||e.selector_separator_newline,p=void 0!==e.end_with_newline&&e.end_with_newline,m=void 0===e.newline_between_rules||e.newline_between_rules,g=void 0!==e.space_around_combinator&&e.space_around_combinator;g=g||void 0!==e.space_around_selector_separator&&e.space_around_selector_separator;var v=e.eol?e.eol:"auto";e.indent_with_tabs&&(n="\t",t=1),"auto"===v&&(v="\n",r&&s.test(r||"")&&(v=r.match(s)[0])),v=v.replace(/\\r/,"\r").replace(/\\n/,"\n"),r=r.replace(u,"\n");var b,y=/^\s+$/,_=-1,w=0;function next(){return(b=r.charAt(++_))||""}function peek(e){var t,n=_;return e&&eatWhitespace(),t=r.charAt(_+1)||"",_=n-1,next(),t}function eatString(e){for(var t=_;next();)if("\\"===b)next();else{if(-1!==e.indexOf(b))break;if("\n"===b)break}return r.substring(t,_+1)}function eatWhitespace(e){for(var t=0;y.test(peek());)next(),"\n"===b&&e&&o&&(S.add_new_line(!0),t++);return d=t}function skipWhitespace(){var e="";for(b&&y.test(b)&&(e=b);y.test(next());)e+=b;return e}function eatComment(){var e=_,t="/"===peek();for(next();next();){if(!t&&"*"===b&&"/"===peek()){next();break}if(t&&"\n"===b)return r.substring(e,_)}return r.substring(e,_)+b}function lookBack(e){return r.substring(_-e.length,_).toLowerCase()===e}function foundNestedPseudoClass(){for(var e=0,t=_+1;t<r.length;t++){var n=r.charAt(t);if("{"===n)return!0;if("("===n)e+=1;else if(")"===n){if(0===e)return!1;e-=1}else if(";"===n||"}"===n)return!1}return!1}var x="",i=0;if(r&&r.length){for(;" "===r.charAt(i)||"\t"===r.charAt(i);)i+=1;x=r.substring(0,i),r=r.substring(i)}var C,k,S,E=new Array(t+1).join(n);function print_string(e){S.just_added_newline()&&S.set_indent(C),S.add_token(e)}function preserveSingleSpace(e){e&&(S.space_before_token=!0)}this.beautify=function(){S=new T(E,x),_=-1,b=null,w=k=C=0;for(var e,t,n=!1,r=!1,o=!1,i="",a="";;){var s=skipWhitespace(),u=""!==s,c=-1!==s.indexOf("\n");if(a=i,!(i=b))break;if("/"===b&&"*"===peek()){var l=0===C;(c||l)&&S.add_new_line(),print_string(eatComment()),S.add_new_line(),l&&S.add_new_line(!0)}else if("/"===b&&"/"===peek())c||"{"===a||S.trim(!0),S.space_before_token=!0,print_string(eatComment()),S.add_new_line();else if("@"===b)if(preserveSingleSpace(u),"{"===peek())print_string(eatString("}"));else{print_string(b);var f=(e=_,t=eatString(": ,;{}()[]/='\""),_=e-1,next(),t);f.match(/[ :]$/)&&(next(),print_string(f=eatString(": ").replace(/\s$/,"")),S.space_before_token=!0),(f=f.replace(/\s$/,""))in this.NESTED_AT_RULE&&(k+=1,f in this.CONDITIONAL_GROUP_RULE&&(o=!0))}else"#"===b&&"{"===peek()?(preserveSingleSpace(u),print_string(eatString("}"))):"{"===b?"}"===peek(!0)?(eatWhitespace(),next(),S.space_before_token=!0,print_string("{}"),eatWhitespace(!0)||S.add_new_line(),d<2&&m&&0===C&&S.add_new_line(!0)):(C++,S.space_before_token=!0,print_string(b),eatWhitespace(!0)||S.add_new_line(),o?(o=!1,n=k<C):n=k<=C):"}"===b?(0<C&&C--,S.add_new_line(),print_string(b),r=n=!1,k&&k--,eatWhitespace(!0)||S.add_new_line(),d<2&&m&&0===C&&S.add_new_line(!0)):":"===b?(eatWhitespace(),!n&&!o||lookBack("&")||foundNestedPseudoClass()||lookBack("(")?(lookBack(" ")&&(S.space_before_token=!0),":"===peek()?(next(),print_string("::")):print_string(":")):(print_string(":"),r||(r=!0,S.space_before_token=!0))):'"'===b||"'"===b?(preserveSingleSpace(u),print_string(eatString(b))):";"===b?(r=!1,print_string(b),eatWhitespace(!0)||S.add_new_line()):"("===b?lookBack("url")?(print_string(b),eatWhitespace(),next()&&(")"!==b&&'"'!==b&&"'"!==b?print_string(eatString(")")):_--)):(w++,preserveSingleSpace(u),print_string(b),eatWhitespace()):")"===b?(print_string(b),w--):","===b?(print_string(b),!eatWhitespace(!0)&&h&&!r&&w<1?S.add_new_line():S.space_before_token=!0):(">"===b||"+"===b||"~"===b)&&!r&&w<1?g?(S.space_before_token=!0,print_string(b),S.space_before_token=!0):(print_string(b),eatWhitespace(),b&&y.test(b)&&(b="")):"]"===b?print_string(b):"["===b?(preserveSingleSpace(u),print_string(b)):"="===b?(eatWhitespace(),print_string("="),y.test(b)&&(b="")):("!"===b?print_string(" "):preserveSingleSpace(u),print_string(b))}return S.get_code(p,v)},this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}},function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function mergeOpts(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t){e.exports.Output=function Output(t,n){n=n||"",this.indent_cache=[n],this.baseIndentLength=n.length,this.indent_length=t.length,this.raw=!1;var r=[];this.baseIndentString=n,this.indent_string=t,this.previous_line=null,this.current_line=null,this.space_before_token=!1,this.add_outputline=function(){this.previous_line=this.current_line,this.current_line=new function OutputLine(t){var n=0,r=-1,o=[],i=!0;this.set_indent=function(e){n=t.baseIndentLength+e*t.indent_length,r=e},this.get_character_count=function(){return n},this.is_empty=function(){return i},this.last=function(){return this._empty?null:o[o.length-1]},this.push=function(e){o.push(e),n+=e.length,i=!1},this.pop=function(){var e=null;return i||(e=o.pop(),n-=e.length,i=0===o.length),e},this.remove_indent=function(){0<r&&(r-=1,n-=t.indent_length)},this.trim=function(){for(;" "===this.last();)o.pop(),n-=1;i=0===o.length},this.toString=function(){var e="";return this._empty||(0<=r&&(e=t.indent_cache[r]),e+=o.join("")),e}}(this),r.push(this.current_line)},this.add_outputline(),this.get_line_number=function(){return r.length},this.add_new_line=function(e){return!(1===this.get_line_number()&&this.just_added_newline()||!e&&this.just_added_newline()||(this.raw||this.add_outputline(),0))},this.get_code=function(e,t){var n=r.join("\n").replace(/[\r\n\t ]+$/,"");return e&&(n+="\n"),"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},this.set_indent=function(e){if(1<r.length){for(;e>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(e),!0}return this.current_line.set_indent(0),!1},this.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.add_outputline();this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1},this.add_token=function(e){this.add_space_before_token(),this.current_line.push(e)},this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" "),this.space_before_token=!1},this.remove_indent=function(e){for(var t=r.length;e<t;)r[e].remove_indent(),e++},this.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim(t,n);e&&1<r.length&&this.current_line.is_empty();)r.pop(),this.current_line=r[r.length-1],this.current_line.trim();this.previous_line=1<r.length?r[r.length-2]:null},this.just_added_newline=function(){return this.current_line.is_empty()},this.just_added_blankline=function(){return!!this.just_added_newline()&&(1===r.length||r[r.length-2].is_empty())}}},function(e,t,n){var r=n(0).Beautifier;e.exports=function css_beautify(e,t){return new r(e,t).beautify()}}]),void 0===(r=function(){return{css_beautify:o}}.apply(t,[]))||(e.exports=r)},,,,function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";e.exports.encode=n(83),e.exports.decode=n(84),e.exports.format=n(85),e.exports.parse=n(86)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+r+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";e.exports.tokenize=function strikethrough(e,t){var n,r,o,i,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(s),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:s,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function strikethrough(e){var t,n,r,o,i,a=[],s=e.delimiters,u=e.delimiters.length;for(t=0;t<u;t++)126===(r=s[t]).marker&&-1!==r.end&&(o=s[r.end],(i=e.tokens[r.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=e.tokens[o.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(n=(t=a.pop())+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;t!==--n&&(i=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=i)}}},function(e,t,n){"use strict";e.exports.tokenize=function emphasis(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function emphasis(e){var t,n,r,o,i,a,s=e.delimiters;for(t=e.delimiters.length-1;0<=t;t--)95!==(n=s[t]).marker&&42!==n.marker||-1!==n.end&&(r=s[n.end],a=0<t&&s[t-1].end===n.end+1&&s[t-1].token===n.token-1&&s[n.end+1].token===r.token+1&&s[t-1].marker===n.marker,i=String.fromCharCode(n.marker),(o=e.tokens[n.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?i+i:i,o.content="",(o=e.tokens[r.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?i+i:i,o.content="",a&&(e.tokens[s[t-1].token].content="",e.tokens[s[n.end+1].token].content="",t--))}},function(e,h,p){(function(l,f){var d;!function(e){"object"==typeof h&&h&&h.nodeType,"object"==typeof l&&l&&l.nodeType;var t="object"==typeof f&&f;t.global!==t&&t.window!==t&&t.self;var n,v=2147483647,b=36,y=1,_=26,o=38,i=700,w=72,x=128,C="-",r=/^xn--/,a=/[^\x20-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=b-y,k=Math.floor,S=String.fromCharCode;function error(e){throw new RangeError(u[e])}function map(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function mapDomain(e,t){var n=e.split("@"),r="";return 1<n.length&&(r=n[0]+"@",e=n[1]),r+map((e=e.replace(s,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,n,r=[],o=0,i=e.length;o<i;)55296<=(t=e.charCodeAt(o++))&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function ucs2encode(e){return map(e,function(e){var t="";return 65535<e&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,n){var r=0;for(e=n?k(e/i):e>>1,e+=k(e/t);c*_>>1<e;r+=b)e=k(e/c);return k(r+(c+1)*e/(e+o))}function decode(e){var t,n,r,o,i,a,s,u,c,l,f,d=[],h=e.length,p=0,m=x,g=w;for((n=e.lastIndexOf(C))<0&&(n=0),r=0;r<n;++r)128<=e.charCodeAt(r)&&error("not-basic"),d.push(e.charCodeAt(r));for(o=0<n?n+1:0;o<h;){for(i=p,a=1,s=b;h<=o&&error("invalid-input"),f=e.charCodeAt(o++),(b<=(u=f-48<10?f-22:f-65<26?f-65:f-97<26?f-97:b)||u>k((v-p)/a))&&error("overflow"),p+=u*a,!(u<(c=s<=g?y:g+_<=s?_:s-g));s+=b)a>k(v/(l=b-c))&&error("overflow"),a*=l;g=adapt(p-i,t=d.length+1,0==i),k(p/t)>v-m&&error("overflow"),m+=k(p/t),p%=t,d.splice(p++,0,m)}return ucs2encode(d)}function encode(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g=[];for(d=(e=ucs2decode(e)).length,t=x,i=w,a=n=0;a<d;++a)(f=e[a])<128&&g.push(S(f));for(r=o=g.length,o&&g.push(C);r<d;){for(s=v,a=0;a<d;++a)t<=(f=e[a])&&f<s&&(s=f);for(s-t>k((v-n)/(h=r+1))&&error("overflow"),n+=(s-t)*h,t=s,a=0;a<d;++a)if((f=e[a])<t&&++n>v&&error("overflow"),f==t){for(u=n,c=b;!(u<(l=c<=i?y:i+_<=c?_:c-i));c+=b)m=u-l,p=b-l,g.push(S(digitToBasic(l+m%p,0))),u=k(m/p);g.push(S(digitToBasic(u,0))),i=adapt(n,h,r==o),n=0,++r}++n,++t}return g.join("")}n={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(e){return mapDomain(e,function(e){return a.test(e)?"xn--"+encode(e):e})},toUnicode:function toUnicode(e){return mapDomain(e,function(e){return r.test(e)?decode(e.slice(4).toLowerCase()):e})}},void 0===(d=function(){return n}.call(h,p,h,l))||(l.exports=d)}()}).call(this,p(23)(e),p(1))},function(e,r,o){(function(e){var t=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new Timeout(n.call(setTimeout,t,arguments),clearTimeout)},r.setInterval=function(){return new Timeout(n.call(setInterval,t,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(t,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function onTimeout(){e._onTimeout&&e._onTimeout()},t))},o(135),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(1))},function(e,t,n){var r=n(52),o={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},i={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;function Parser(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(2)(Parser,n(12).EventEmitter),Parser.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},Parser.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},Parser.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in i)for(var t;(t=this._stack[this._stack.length-1])in i[e];this.onclosetag(t));!this._options.xmlMode&&e in a||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},Parser.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},Parser.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},Parser.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},Parser.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},Parser.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},Parser.prototype.onattribdata=function(e){this._attribvalue+=e},Parser.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},Parser.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},Parser.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},Parser.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},Parser.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},Parser.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},Parser.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},Parser.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;0<e;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},Parser.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},Parser.prototype.parseComplete=function(e){this.reset(),this.end(e)},Parser.prototype.write=function(e){this._tokenizer.write(e)},Parser.prototype.end=function(e){this._tokenizer.end(e)},Parser.prototype.pause=function(){this._tokenizer.pause()},Parser.prototype.resume=function(){this._tokenizer.resume()},Parser.prototype.parseChunk=Parser.prototype.write,Parser.prototype.done=Parser.prototype.end,e.exports=Parser},function(e,t,n){e.exports=Tokenizer;var i=n(53),r=n(11),o=n(54),a=n(24),s=0,u=s++,c=s++,l=s++,f=s++,d=s++,h=s++,p=s++,m=s++,g=s++,v=s++,b=s++,y=s++,_=s++,w=s++,x=s++,C=s++,k=s++,S=s++,E=s++,T=s++,A=s++,R=s++,N=s++,D=s++,O=s++,B=s++,P=s++,M=s++,L=s++,I=s++,F=s++,j=s++,z=s++,q=s++,H=s++,U=s++,W=s++,V=s++,K=s++,$=s++,G=s++,Y=s++,X=s++,J=s++,Z=s++,Q=s++,ee=s++,te=s++,ne=s++,re=s++,oe=s++,ie=s++,ae=s++,se=s++,ue=s++,ce=0,le=ce++,fe=ce++,de=ce++;function whitespace(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function ifElseState(t,n,r){var o=t.toLowerCase();return t===o?function(e){e===o?this._state=n:(this._state=r,this._index--)}:function(e){e===o||e===t?this._state=n:(this._state=r,this._index--)}}function consumeSpecialNameChar(t,n){var r=t.toLowerCase();return function(e){e===r||e===t?this._state=n:(this._state=l,this._index--)}}function Tokenizer(e,t){this._state=u,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=u,this._special=le,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}Tokenizer.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=c,this._sectionStart=this._index):this._decodeEntities&&this._special===le&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=u,this._state=oe,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeTagName=function(e){"/"===e?this._state=d:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==le||whitespace(e)?this._state=u:"!"===e?(this._state=x,this._sectionStart=this._index+1):"?"===e?(this._state=k,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?l:F,this._sectionStart=this._index)},Tokenizer.prototype._stateInTagName=function(e){("/"===e||">"===e||whitespace(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},Tokenizer.prototype._stateBeforeCloseingTagName=function(e){whitespace(e)||(">"===e?this._state=u:this._special!==le?"s"===e||"S"===e?this._state=j:(this._state=u,this._index--):(this._state=h,this._sectionStart=this._index))},Tokenizer.prototype._stateInCloseingTagName=function(e){(">"===e||whitespace(e))&&(this._emitToken("onclosetag"),this._state=p,this._index--)},Tokenizer.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=u,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=u,this._sectionStart=this._index+1):"/"===e?this._state=f:whitespace(e)||(this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=u,this._sectionStart=this._index+1):whitespace(e)||(this._state=m,this._index--)},Tokenizer.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||whitespace(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},Tokenizer.prototype._stateAfterAttributeName=function(e){"="===e?this._state=b:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):whitespace(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=y,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):whitespace(e)||(this._state=w,this._sectionStart=this._index,this._index--)},Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueNoQuotes=function(e){whitespace(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=oe,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeDeclaration=function(e){this._state="["===e?R:"-"===e?S:C},Tokenizer.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=u,this._sectionStart=this._index+1)},Tokenizer.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=u,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeComment=function(e){"-"===e?(this._state=E,this._sectionStart=this._index+1):this._state=C},Tokenizer.prototype._stateInComment=function(e){"-"===e&&(this._state=T)},Tokenizer.prototype._stateAfterComment1=function(e){this._state="-"===e?A:E},Tokenizer.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"-"!==e&&(this._state=E)},Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",N,C),Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",D,C),Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",O,C),Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",B,C),Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",P,C),Tokenizer.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=M,this._sectionStart=this._index+1):(this._state=C,this._index--)},Tokenizer.prototype._stateInCdata=function(e){"]"===e&&(this._state=L)},Tokenizer.prototype._stateAfterCdata1=function characterState(t,n){return function(e){e===t&&(this._state=n)}}("]",I),Tokenizer.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"]"!==e&&(this._state=M)},Tokenizer.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=z:"t"===e||"T"===e?this._state=X:(this._state=l,this._index--)},Tokenizer.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==de||"t"!==e&&"T"!==e?this._state=u:this._state=ee:this._state=V},Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",q),Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",H),Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",U),Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",W),Tokenizer.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=fe),this._state=l,this._index--},Tokenizer.prototype._stateAfterScript1=ifElseState("R",K,u),Tokenizer.prototype._stateAfterScript2=ifElseState("I",$,u),Tokenizer.prototype._stateAfterScript3=ifElseState("P",G,u),Tokenizer.prototype._stateAfterScript4=ifElseState("T",Y,u),Tokenizer.prototype._stateAfterScript5=function(e){">"===e||whitespace(e)?(this._special=le,this._state=h,this._sectionStart=this._index-6,this._index--):this._state=u},Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",J),Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",Z),Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",Q),Tokenizer.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||whitespace(e))&&(this._special=de),this._state=l,this._index--},Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",te,u),Tokenizer.prototype._stateAfterStyle2=ifElseState("L",ne,u),Tokenizer.prototype._stateAfterStyle3=ifElseState("E",re,u),Tokenizer.prototype._stateAfterStyle4=function(e){">"===e||whitespace(e)?(this._special=le,this._state=h,this._sectionStart=this._index-5,this._index--):this._state=u},Tokenizer.prototype._stateBeforeEntity=ifElseState("#",ie,ae),Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",ue,se),Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a:r;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},Tokenizer.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(6<t&&(t=6);2<=t;){var n=this._buffer.substr(e,t);if(o.hasOwnProperty(n))return this._emitPartial(o[n]),void(this._sectionStart+=t+1);t--}},Tokenizer.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||"z"<e)&&(e<"A"||"Z"<e)&&(e<"0"||"9"<e)&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==u?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tokenizer.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),o=parseInt(r,t);this._emitPartial(i(o)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tokenizer.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tokenizer.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||"f"<e)&&(e<"A"||"F"<e)&&(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tokenizer.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===u?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tokenizer.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},Tokenizer.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===u?this._stateText(e):this._state===c?this._stateBeforeTagName(e):this._state===l?this._stateInTagName(e):this._state===d?this._stateBeforeCloseingTagName(e):this._state===h?this._stateInCloseingTagName(e):this._state===p?this._stateAfterCloseingTagName(e):this._state===f?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===b?this._stateBeforeAttributeValue(e):this._state===y?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===w?this._stateInAttributeValueNoQuotes(e):this._state===x?this._stateBeforeDeclaration(e):this._state===C?this._stateInDeclaration(e):this._state===k?this._stateInProcessingInstruction(e):this._state===S?this._stateBeforeComment(e):this._state===E?this._stateInComment(e):this._state===T?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===R?this._stateBeforeCdata1(e):this._state===N?this._stateBeforeCdata2(e):this._state===D?this._stateBeforeCdata3(e):this._state===O?this._stateBeforeCdata4(e):this._state===B?this._stateBeforeCdata5(e):this._state===P?this._stateBeforeCdata6(e):this._state===M?this._stateInCdata(e):this._state===L?this._stateAfterCdata1(e):this._state===I?this._stateAfterCdata2(e):this._state===F?this._stateBeforeSpecial(e):this._state===j?this._stateBeforeSpecialEnd(e):this._state===z?this._stateBeforeScript1(e):this._state===q?this._stateBeforeScript2(e):this._state===H?this._stateBeforeScript3(e):this._state===U?this._stateBeforeScript4(e):this._state===W?this._stateBeforeScript5(e):this._state===V?this._stateAfterScript1(e):this._state===K?this._stateAfterScript2(e):this._state===$?this._stateAfterScript3(e):this._state===G?this._stateAfterScript4(e):this._state===Y?this._stateAfterScript5(e):this._state===X?this._stateBeforeStyle1(e):this._state===J?this._stateBeforeStyle2(e):this._state===Z?this._stateBeforeStyle3(e):this._state===Q?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===ne?this._stateAfterStyle3(e):this._state===re?this._stateAfterStyle4(e):this._state===oe?this._stateBeforeEntity(e):this._state===ie?this._stateBeforeNumericEntity(e):this._state===ae?this._stateInNamedEntity(e):this._state===se?this._stateInNumericEntity(e):this._state===ue?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tokenizer.prototype.pause=function(){this._running=!1},Tokenizer.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tokenizer.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},Tokenizer.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tokenizer.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===M||this._state===L||this._state===I?this._cbs.oncdata(e):this._state===E||this._state===T||this._state===A?this._cbs.oncomment(e):this._state!==ae||this._xmlMode?this._state!==se||this._xmlMode?this._state!==ue||this._xmlMode?this._state!==l&&this._state!==m&&this._state!==b&&this._state!==v&&this._state!==g&&this._state!==_&&this._state!==y&&this._state!==w&&this._state!==h&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tokenizer.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},Tokenizer.prototype._emitPartial=function(e){this._baseState!==u?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){var r=n(152);e.exports=function decodeCodePoint(e){if(55296<=e&&e<=57343||1114111<e)return"\ufffd";e in r&&(e=r[e]);var t="";65535<e&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",amp:"&",AMP:"&",Aring:"\xc5",aring:"\xe5",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",brvbar:"\xa6",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",COPY:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",GT:">",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",iquest:"\xbf",Iuml:"\xcf",iuml:"\xef",laquo:"\xab",lt:"<",LT:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",Ntilde:"\xd1",ntilde:"\xf1",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",Ograve:"\xd2",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',QUOT:'"',raquo:"\xbb",reg:"\xae",REG:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",THORN:"\xde",thorn:"\xfe",times:"\xd7",Uacute:"\xda",uacute:"\xfa",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",Uuml:"\xdc",uuml:"\xfc",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return o[this.type]||o.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},o={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},function(e,t,n){e.exports=Stream;var o=n(51),i=n(157).Writable||n(169).Writable,a=n(27).StringDecoder,r=n(8).Buffer;function Stream(e,t){var n=this._parser=new o(e,t),r=this._decoder=new a;i.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(r.end())})}n(2)(Stream,i),i.prototype._write=function(e,t,n){e instanceof r&&(e=this._decoder.write(e)),this._parser.write(e),n()}},function(v,e,b){"use strict";(function(e,u){var c=b(13).nextTick;v.exports=Readable;var a,l=b(58);Readable.ReadableState=ReadableState;b(12).EventEmitter;var f=function(e,t){return e.listeners(t).length},o=b(59),s=b(14).Buffer,d=e.Uint8Array||function(){};var t=b(9);t.inherits=b(2);var n=b(160),h=void 0;h=n&&n.debuglog?n.debuglog("stream"):function(){};var p,m=b(161),r=b(60);t.inherits(Readable,o);var g=["error","close","destroy","pause","resume"];function ReadableState(e,t){e=e||{};var n=t instanceof(a=a||b(4));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(o||0===o)?o:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=b(27).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function Readable(e){if(a=a||b(4),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function readableAddChunk(e,t,n,r,o){var i,a=e._readableState;null===t?(a.reading=!1,function onEofChunk(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}(e,a)):(o||(i=function chunkInvalid(e,t){var n;(function _isUint8Array(e){return s.isBuffer(e)||e instanceof d})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(a,t)),i?e.emit("error",i):a.objectMode||t&&0<t.length?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function _uint8ArrayToBuffer(e){return s.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?addChunk(e,a,t,!1):maybeReadMore(e,a)):addChunk(e,a,t,!1))):r||(a.reading=!1));return function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function addChunk(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=r.destroy,Readable.prototype._undestroy=r.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),readableAddChunk(this,e,t,!1,n)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return p||(p=b(27).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var i=8388608;function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){return i<=e?e=i:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?c(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){h("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,c(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function nReadingNextTick(e){h("readable nexttick read 0"),e.read(0)}function resume_(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function fromListPartial(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function copyFromBufferString(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=i.slice(a);break}++r}return t.length-=r,o}(e,t):function copyFromBuffer(e,t){var n=s.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=i.slice(a);break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function endReadable(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,c(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}Readable.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var r,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(n,t))),null===(r=0<e?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&endReadable(this)),null!==r&&this.emit("data",r),r},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(n,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=n;break;case 1:o.pipes=[o.pipes,n];break;default:o.pipes.push(n)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,e);var t=(!e||!1!==e.end)&&n!==u.stdout&&n!==u.stderr?onend:unpipe;function onunpipe(e,t){h("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,function cleanup(){h("cleanup"),n.removeListener("close",onclose),n.removeListener("finish",onfinish),n.removeListener("drain",i),n.removeListener("error",onerror),n.removeListener("unpipe",onunpipe),r.removeListener("end",onend),r.removeListener("end",unpipe),r.removeListener("data",ondata),a=!0,!o.awaitDrain||n._writableState&&!n._writableState.needDrain||i()}())}function onend(){h("onend"),n.end()}o.endEmitted?c(t):r.once("end",t),n.on("unpipe",onunpipe);var i=function pipeOnDrain(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&f(t,"data")&&(e.flowing=!0,flow(t))}}(r);n.on("drain",i);var a=!1;var s=!1;function ondata(e){h("ondata"),(s=!1)!==n.write(e)||s||((1===o.pipesCount&&o.pipes===n||1<o.pipesCount&&-1!==indexOf(o.pipes,n))&&!a&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,s=!0),r.pause())}function onerror(e){h("onerror",e),unpipe(),n.removeListener("error",onerror),0===f(n,"error")&&n.emit("error",e)}function onclose(){n.removeListener("finish",onfinish),unpipe()}function onfinish(){h("onfinish"),n.removeListener("close",onclose),unpipe()}function unpipe(){h("unpipe"),r.unpipe(n)}return r.on("data",ondata),function prependListener(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?l(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(n,"error",onerror),n.once("close",onclose),n.once("finish",onfinish),n.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),n},Readable.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=indexOf(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},Readable.prototype.addListener=Readable.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&emitReadable(this):c(nReadingNextTick,this))}return n},Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,c(resume_,e,t))}(this,e)),this},Readable.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(t){var n=this,r=this._readableState,o=!1;for(var e in t.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),t.on("data",function(e){(h("wrapped data"),r.decoder&&(e=r.decoder.write(e)),r.objectMode&&null==e)||(r.objectMode||e&&e.length)&&(n.push(e)||(o=!0,t.pause()))}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var i=0;i<g.length;i++)t.on(g[i],this.emit.bind(this,g[i]));return this._read=function(e){h("wrapped _read",e),o&&(o=!1,t.resume())},this},Readable._fromList=fromList}).call(this,b(1),b(5))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(12).EventEmitter},function(e,t,n){"use strict";var i=n(13).nextTick;function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i(emitErrorNT,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i(emitErrorNT,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=Transform;var r=n(4),o=n(9);function Transform(e){if(!(this instanceof Transform))return new Transform(e);r.call(this,e),this._transformState={afterTransform:function afterTransform(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var n=this;"function"==typeof this._flush?this._flush(function(e,t){done(n,e,t)}):done(this,null,null)}function done(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(2),o.inherits(Transform,r),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";t.__esModule=!0;var o=_interopRequireDefault(n(194)),u=_interopRequireDefault(n(63)),c=_interopRequireDefault(n(195));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=function(){function CssSyntaxError(e,t,n,r,o,i){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CssSyntaxError),this.name="CssSyntaxError",this.reason=e,o&&(this.file=o),r&&(this.source=r),i&&(this.plugin=i),void 0!==t&&void 0!==n&&(this.line=t,this.column=n),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,CssSyntaxError)}return CssSyntaxError.prototype.setMessage=function setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},CssSyntaxError.prototype.showSourceCode=function showSourceCode(t){var i=this;if(!this.source)return"";var e=this.source;void 0===t&&(t=o.default.stdout),t&&(e=(0,c.default)(e));var n=e.split(/\r?\n/),a=Math.max(this.line-3,0),r=Math.min(this.line+2,n.length),s=String(r).length;function mark(e){return t&&u.default.red?u.default.red.bold(e):e}function aside(e){return t&&u.default.gray?u.default.gray(e):e}return n.slice(a,r).map(function(e,t){var n=a+1+t,r=" "+(" "+n).slice(-s)+" | ";if(n===i.line){var o=aside(r.replace(/\d/g," "))+e.slice(0,i.column-1).replace(/[^\t]/g," ");return mark(">")+aside(r)+e+"\n "+o+mark("^")}return" "+aside(r)+e}).join("\n")},CssSyntaxError.prototype.toString=function toString(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e},CssSyntaxError}();t.default=r,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0,t.default=function tokenizer(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.css.valueOf(),r=e.ignoreErrors,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,d=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,b=n.length,y=-1,_=1,w=0,x=[],C=[];function unclosed(e){throw t.error("Unclosed "+e,_,w-y)}return{back:function back(e){C.push(e)},nextToken:function nextToken(){if(C.length)return C.pop();if(b<=w)return;((o=n.charCodeAt(w))===A||o===N||o===O&&n.charCodeAt(w+1)!==A)&&(y=w,_+=1);switch(o){case A:case R:case D:case O:case N:for(i=w;i+=1,(o=n.charCodeAt(i))===A&&(y=i,_+=1),o===R||o===A||o===D||o===O||o===N;);v=["space",n.slice(w,i)],w=i-1;break;case B:v=["[","[",_,w-y];break;case P:v=["]","]",_,w-y];break;case I:v=["{","{",_,w-y];break;case F:v=["}","}",_,w-y];break;case q:v=[":",":",_,w-y];break;case j:v=[";",";",_,w-y];break;case M:if(m=x.length?x.pop()[1]:"",g=n.charCodeAt(w+1),"url"===m&&g!==k&&g!==S&&g!==R&&g!==A&&g!==D&&g!==N&&g!==O){i=w;do{if(h=!1,-1===(i=n.indexOf(")",i+1))){if(r){i=w;break}unclosed("bracket")}for(p=i;n.charCodeAt(p-1)===E;)p-=1,h=!h}while(h);v=["brackets",n.slice(w,i+1),_,w-y,_,i-y],w=i}else i=n.indexOf(")",w+1),c=n.slice(w,i+1),-1===i||V.test(c)?v=["(","(",_,w-y]:(v=["brackets",c,_,w-y,_,i-y],w=i);break;case L:v=[")",")",_,w-y];break;case k:case S:a=o===k?"'":'"',i=w;do{if(h=!1,-1===(i=n.indexOf(a,i+1))){if(r){i=w+1;break}unclosed("string")}for(p=i;n.charCodeAt(p-1)===E;)p-=1,h=!h}while(h);c=n.slice(w,i+1),s=c.split("\n"),0<(u=s.length-1)?(f=_+u,d=i-s[u].length):(f=_,d=y),v=["string",n.slice(w,i+1),_,w-y,f,i-d],y=d,_=f,w=i;break;case H:U.lastIndex=w+1,U.test(n),i=0===U.lastIndex?n.length-1:U.lastIndex-2,v=["at-word",n.slice(w,i+1),_,w-y,_,i-y],w=i;break;case E:for(i=w,l=!0;n.charCodeAt(i+1)===E;)i+=1,l=!l;if(o=n.charCodeAt(i+1),l&&o!==T&&o!==R&&o!==A&&o!==D&&o!==O&&o!==N&&(i+=1,K.test(n.charAt(i)))){for(;K.test(n.charAt(i+1));)i+=1;n.charCodeAt(i+1)===R&&(i+=1)}v=["word",n.slice(w,i+1),_,w-y,_,i-y],w=i;break;default:o===T&&n.charCodeAt(w+1)===z?(0===(i=n.indexOf("*/",w+2)+1)&&(r?i=n.length:unclosed("comment")),c=n.slice(w,i+1),s=c.split("\n"),0<(u=s.length-1)?(f=_+u,d=i-s[u].length):(f=_,d=y),v=["comment",c,_,w-y,f,i-d],y=d,_=f):(W.lastIndex=w+1,W.test(n),i=0===W.lastIndex?n.length-1:W.lastIndex-2,v=["word",n.slice(w,i+1),_,w-y,_,i-y],x.push(v)),w=i}return w++,v},endOfFile:function endOfFile(){return 0===C.length&&b<=w}}};var k=39,S=34,E=92,T=47,A=10,R=32,N=12,D=9,O=13,B=91,P=93,M=40,L=41,I=123,F=125,j=59,z=42,q=58,H=64,U=/[ \n\t\r\f\{\(\)'"\\;/\[\]#]/g,W=/[ \n\t\r\f\(\)\{\}:;@!'"\\\]\[#]|\/(?=\*)/g,V=/.[\\\/\("'\n]/,K=/[a-f0-9]/i;e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),a=_interopRequireDefault(n(62)),i=_interopRequireDefault(n(196)),s=_interopRequireDefault(n(30));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=0,c=function(){function Input(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Input),null===e||"object"===(void 0===e?"undefined":o(e))&&!e.toString)throw new Error("PostCSS received "+e+" instead of CSS string");this.css=e.toString(),"\ufeff"!==this.css[0]&&"\ufffe"!==this.css[0]||(this.css=this.css.slice(1)),t.from&&(/^\w+:\/\//.test(t.from)?this.file=t.from:this.file=s.default.resolve(t.from));var n=new i.default(this.css,t);if(n.text){var r=(this.map=n).consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}this.file||(u+=1,this.id="<input css "+u+">"),this.map&&(this.map.file=this.from)}return Input.prototype.error=function error(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=void 0,i=this.origin(t,n);return(o=i?new a.default(e,i.line,i.column,i.source,i.file,r.plugin):new a.default(e,t,n,this.css,this.file,r.plugin)).input={line:t,column:n,source:this.css},this.file&&(o.input.file=this.file),o},Input.prototype.origin=function origin(e,t){if(!this.map)return!1;var n=this.map.consumer(),r=n.originalPositionFor({line:e,column:t});if(!r.source)return!1;var o={file:this.mapResolve(r.source),line:r.line,column:r.column},i=n.sourceContentFor(r.source);return i&&(o.source=i),o},Input.prototype.mapResolve=function mapResolve(e){return/^\w+:\/\//.test(e)?e:s.default.resolve(this.map.consumer().sourceRoot||".",e)},r(Input,[{key:"from",get:function get(){return this.file||this.id}}]),Input}();t.default=c,e.exports=t.default},function(e,t,n){t.SourceMapGenerator=n(67).SourceMapGenerator,t.SourceMapConsumer=n(199).SourceMapConsumer,t.SourceNode=n(202).SourceNode},function(e,t,n){var p=n(68),m=n(10),r=n(69).ArraySet,o=n(198).MappingList;function SourceMapGenerator(e){e||(e={}),this._file=m.getArg(e,"file",null),this._sourceRoot=m.getArg(e,"sourceRoot",null),this._skipValidation=m.getArg(e,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new o,this._sourcesContents=null}SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(r){var o=r.sourceRoot,i=new SourceMapGenerator({file:r.file,sourceRoot:o});return r.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=o&&(t.source=m.relative(o,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),i.addMapping(t)}),r.sources.forEach(function(e){var t=e;null!==o&&(t=m.relative(o,e)),i._sources.has(t)||i._sources.add(t);var n=r.sourceContentFor(e);null!=n&&i.setSourceContent(e,n)}),i},SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(e){var t=m.getArg(e,"generated"),n=m.getArg(e,"original",null),r=m.getArg(e,"source",null),o=m.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(e,t){var n=e;null!=this._sourceRoot&&(n=m.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[m.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[m.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(o,e,i){var a=e;if(null==e){if(null==o.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');a=o.file}var s=this._sourceRoot;null!=s&&(a=m.relative(s,a));var u=new r,c=new r;this._mappings.unsortedForEach(function(e){if(e.source===a&&null!=e.originalLine){var t=o.originalPositionFor({line:e.originalLine,column:e.originalColumn});null!=t.source&&(e.source=t.source,null!=i&&(e.source=m.join(i,e.source)),null!=s&&(e.source=m.relative(s,e.source)),e.originalLine=t.line,e.originalColumn=t.column,null!=t.name&&(e.name=t.name))}var n=e.source;null==n||u.has(n)||u.add(n);var r=e.name;null==r||c.has(r)||c.add(r)},this),this._sources=u,this._names=c,o.sources.forEach(function(e){var t=o.sourceContentFor(e);null!=t&&(null!=i&&(e=m.join(i,e)),null!=s&&(e=m.relative(s,e)),this.setSourceContent(e,t))},this)},SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&0<e.line&&0<=e.column)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&0<e.line&&0<=e.column&&0<t.line&&0<=t.column&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){for(var e,t,n,r,o=0,i=1,a=0,s=0,u=0,c=0,l="",f=this._mappings.toArray(),d=0,h=f.length;d<h;d++){if(e="",(t=f[d]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(0<d){if(!m.compareByGeneratedPositionsInflated(t,f[d-1]))continue;e+=","}e+=p.encode(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=p.encode(r-c),c=r,e+=p.encode(t.originalLine-1-s),s=t.originalLine-1,e+=p.encode(t.originalColumn-a),a=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=p.encode(n-u),u=n)),l+=e}return l},SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=m.relative(n,e));var t=m.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,t)?this._sourcesContents[t]:null},this)},SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=SourceMapGenerator},function(e,t,n){var u=n(197);t.encode=function base64VLQ_encode(e){for(var t,n="",r=function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}(e);t=31&r,0<(r>>>=5)&&(t|=32),n+=u.encode(t),0<r;);return n},t.decode=function base64VLQ_decode(e,t,n){var r,o,i=e.length,a=0,s=0;do{if(i<=t)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=u.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),a+=(o&=31)<<s,s+=5}while(r);n.value=function fromVLQSigned(e){var t=e>>1;return 1==(1&e)?-t:t}(a),n.rest=t}},function(e,t,n){var i=n(10),a=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function ArraySet(){this._array=[],this._set=s?new Map:Object.create(null)}ArraySet.fromArray=function ArraySet_fromArray(e,t){for(var n=new ArraySet,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},ArraySet.prototype.size=function ArraySet_size(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function ArraySet_add(e,t){var n=s?e:i.toSetString(e),r=s?this.has(e):a.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(s?this._set.set(e,o):this._set[n]=o)},ArraySet.prototype.has=function ArraySet_has(e){if(s)return this._set.has(e);var t=i.toSetString(e);return a.call(this._set,t)},ArraySet.prototype.indexOf=function ArraySet_indexOf(e){if(s){var t=this._set.get(e);if(0<=t)return t}else{var n=i.toSetString(e);if(a.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},ArraySet.prototype.at=function ArraySet_at(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()},t.ArraySet=ArraySet},function(e,t,n){"use strict";t.__esModule=!0;var s={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" "};var r=function(){function Stringifier(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Stringifier),this.builder=e}return Stringifier.prototype.stringify=function stringify(e,t){this[e.type](e,t)},Stringifier.prototype.root=function root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},Stringifier.prototype.comment=function comment(e){var t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)},Stringifier.prototype.decl=function decl(e,t){var n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)},Stringifier.prototype.rule=function rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},Stringifier.prototype.atrule=function atrule(e,t){var n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{var o=(e.raws.between||"")+(t?";":"");this.builder(n+r+o,e)}},Stringifier.prototype.body=function body(e){for(var t=e.nodes.length-1;0<t&&"comment"===e.nodes[t].type;)t-=1;for(var n=this.raw(e,"semicolon"),r=0;r<e.nodes.length;r++){var o=e.nodes[r],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,t!==r||n)}},Stringifier.prototype.block=function block(e,t){var n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start");var r=void 0;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")},Stringifier.prototype.raw=function raw(e,t,n){var r=void 0;if(n||(n=t),t&&void 0!==(r=e.raws[t]))return r;var o=e.parent;if("before"===n&&(!o||"root"===o.type&&o.first===e))return"";if(!o)return s[n];var i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[n])return i.rawCache[n];if("before"===n||"after"===n)return this.beforeAfter(e,n);var a="raw"+function capitalize(e){return e[0].toUpperCase()+e.slice(1)}(n);return this[a]?r=this[a](i,e):i.walk(function(e){if(void 0!==(r=e.raws[t]))return!1}),void 0===r&&(r=s[n]),i.rawCache[n]=r},Stringifier.prototype.rawSemicolon=function rawSemicolon(e){var t=void 0;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1}),t},Stringifier.prototype.rawEmptyBody=function rawEmptyBody(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1}),t},Stringifier.prototype.rawIndent=function rawIndent(r){if(r.raws.indent)return r.raws.indent;var o=void 0;return r.walk(function(e){var t=e.parent;if(t&&t!==r&&t.parent&&t.parent===r&&void 0!==e.raws.before){var n=e.raws.before.split("\n");return o=(o=n[n.length-1]).replace(/[^\s]/g,""),!1}}),o},Stringifier.prototype.rawBeforeComment=function rawBeforeComment(e,t){var n=void 0;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/[^\s]/g,"")),n},Stringifier.prototype.rawBeforeDecl=function rawBeforeDecl(e,t){var n=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),void 0===n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/[^\s]/g,"")),n},Stringifier.prototype.rawBeforeRule=function rawBeforeRule(t){var n=void 0;return t.walk(function(e){if(e.nodes&&(e.parent!==t||t.first!==e)&&void 0!==e.raws.before)return-1!==(n=e.raws.before).indexOf("\n")&&(n=n.replace(/[^\n]+$/,"")),!1}),n&&(n=n.replace(/[^\s]/g,"")),n},Stringifier.prototype.rawBeforeClose=function rawBeforeClose(e){var t=void 0;return e.walk(function(e){if(e.nodes&&0<e.nodes.length&&void 0!==e.raws.after)return-1!==(t=e.raws.after).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/[^\s]/g,"")),t},Stringifier.prototype.rawBeforeOpen=function rawBeforeOpen(e){var t=void 0;return e.walk(function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1}),t},Stringifier.prototype.rawColon=function rawColon(e){var t=void 0;return e.walkDecls(function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t},Stringifier.prototype.beforeAfter=function beforeAfter(e,t){var n=void 0;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var r=e.parent,o=0;r&&"root"!==r.type;)o+=1,r=r.parent;if(-1!==n.indexOf("\n")){var i=this.raw(e,null,"indent");if(i.length)for(var a=0;a<o;a++)n+=i}return n},Stringifier.prototype.rawValue=function rawValue(e,t){var n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n},Stringifier}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function warnOnce(e){if(r[e])return;r[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e)};var r={};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(73));var o=function(){function Processor(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Processor),this.version="6.0.21",this.plugins=this.normalize(e)}return Processor.prototype.use=function use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this},Processor.prototype.process=function process(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new r.default(this,e,t)},Processor.prototype.normalize=function normalize(e){var t=[],n=e,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;if(a.postcss&&(a=a.postcss),"object"===(void 0===a?"undefined":s(a))&&Array.isArray(a.plugins))t=t.concat(a.plugins);else{if("function"!=typeof a)throw"object"===(void 0===a?"undefined":s(a))&&(a.parse||a.stringify)?new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation."):new Error(a+" is not a PostCSS plugin");t.push(a)}}return t},Processor}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=_interopRequireDefault(n(204)),a=_interopRequireDefault(n(31)),s=_interopRequireDefault(n(71)),u=_interopRequireDefault(n(205)),c=_interopRequireDefault(n(32));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isPromise(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then}var l=function(){function LazyResult(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LazyResult),this.stringified=!1,this.processed=!1;var r=void 0;if("object"===(void 0===t?"undefined":i(t))&&null!==t&&"root"===t.type)r=t;else if(t instanceof LazyResult||t instanceof u.default)r=t.root,t.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{var o=c.default;n.syntax&&(o=n.syntax.parse),n.parser&&(o=n.parser),o.parse&&(o=o.parse);try{r=o(t,n)}catch(e){this.error=e}}this.result=new u.default(e,r,n)}return LazyResult.prototype.warnings=function warnings(){return this.sync().warnings()},LazyResult.prototype.toString=function toString(){return this.css},LazyResult.prototype.then=function then(e,t){return"from"in this.opts||(0,s.default)("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning."),this.async().then(e,t)},LazyResult.prototype.catch=function _catch(e){return this.async().catch(e)},LazyResult.prototype.handleError=function handleError(e,t){try{if("CssSyntaxError"!==(this.error=e).name||e.plugin){if(t.postcssVersion){var n=t.postcssPlugin,r=t.postcssVersion,o=this.result.processor.version,i=r.split("."),a=o.split(".");(i[0]!==a[0]||parseInt(i[1])>parseInt(a[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+o+", but "+n+" uses "+r+". Perhaps this is the source of the error below.")}}else e.plugin=t.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}},LazyResult.prototype.asyncTick=function asyncTick(e,t){var n=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,e();try{var r=this.processor.plugins[this.plugin],o=this.run(r);this.plugin+=1,isPromise(o)?o.then(function(){n.asyncTick(e,t)}).catch(function(e){n.handleError(e,r),n.processed=!0,t(e)}):this.asyncTick(e,t)}catch(e){this.processed=!0,t(e)}},LazyResult.prototype.async=function async(){var n=this;return this.processed?new Promise(function(e,t){n.error?t(n.error):e(n.stringify())}):(this.processing||(this.processing=new Promise(function(e,t){if(n.error)return t(n.error);n.plugin=0,n.asyncTick(e,t)}).then(function(){return n.processed=!0,n.stringify()})),this.processing)},LazyResult.prototype.sync=function sync(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;var e=this.result.processor.plugins,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r;if(isPromise(this.run(o)))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},LazyResult.prototype.run=function run(t){this.result.lastPlugin=t;try{return t(this.result.root,this.result)}catch(e){throw this.handleError(e,t),e}},LazyResult.prototype.stringify=function stringify(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=a.default;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var n=new o.default(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result},r(LazyResult,[{key:"processor",get:function get(){return this.result.processor}},{key:"opts",get:function get(){return this.result.opts}},{key:"css",get:function get(){return this.stringify().css}},{key:"content",get:function get(){return this.stringify().content}},{key:"map",get:function get(){return this.stringify().map}},{key:"root",get:function get(){return this.sync().root}},{key:"messages",get:function get(){return this.sync().messages}}]),LazyResult}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r={split:function split(e,t,n){for(var r=[],o="",split=!1,i=0,a=!1,s=!1,u=0;u<e.length;u++){var c=e[u];a?s?s=!1:"\\"===c?s=!0:c===a&&(a=!1):'"'===c||"'"===c?a=c:"("===c?i+=1:")"===c?0<i&&(i-=1):0===i&&-1!==t.indexOf(c)&&(split=!0),split?(""!==o&&r.push(o.trim()),o="",split=!1):o+=c}return(n||""!==o)&&r.push(o.trim()),r},space:function space(e){return r.split(e,[" ","\n","\t"])},comma:function comma(e){return r.split(e,[","],!0)}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var o=n(218);function assign(e,t){for(var n in t)r=t,o=n,Object.prototype.hasOwnProperty.call(r,o)&&(e[n]=t[n]);var r,o}e.exports=function extend(e){o(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var r=arguments[n];o(r)&&assign(e,r)}return e}},,function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";var r=n(6),h=n(184),p=n(185),S=n(186),E=n(187),m=n(188),T=n(189),A=n(190),R=n(193),N=n(209);function each(t,n){t&&Object.keys(t).forEach(function(e){n(t[e],e)})}function has(e,t){return{}.hasOwnProperty.call(e,t)}function filter(e,t){var n=[];return each(e,function(e){t(e)&&n.push(e)}),n}e.exports=sanitizeHtml;var D=/^[^\0\t\n\f\r /<=>]+$/;function sanitizeHtml(e,_,t){var w="";_?(_=h(sanitizeHtml.defaults,_)).parser?_.parser=h(g,_.parser):_.parser=g:(_=sanitizeHtml.defaults).parser=g;var x,C,o=_.nonTextTags||["script","style","textarea"];_.allowedAttributes&&(x={},C={},each(_.allowedAttributes,function(e,t){x[t]=[];var n=[];e.forEach(function(e){m(e)&&0<=e.indexOf("*")?n.push(p(e).replace(/\\\*/g,".*")):x[t].push(e)}),C[t]=new RegExp("^("+n.join("|")+")$")}));var k={};each(_.allowedClasses,function(e,t){x&&(has(x,t)||(x[t]=[]),x[t].push("class")),k[t]=e});var i,a={};each(_.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=sanitizeHtml.simpleTransform(e)),"*"===t?i=n:a[t]=n});var s=0,u=[],c={},l={},f=!1,d=0,n=new r.Parser({onopentag:function onopentag(b,e){if(f)d++;else{var y=new function Frame(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=w.length,this.text="",this.updateParentNodeText=function(){u.length&&(u[u.length-1].text+=n.text)}}(b,e);u.push(y);var t,n=!1,r=!!y.text;has(a,b)&&(t=a[b](b,e),y.attribs=e=t.attribs,void 0!==t.text&&(y.innerText=t.text),b!==t.tagName&&(y.name=b=t.tagName,l[s]=t.tagName)),i&&(t=i(b,e),y.attribs=e=t.attribs,b!==t.tagName&&(y.name=b=t.tagName,l[s]=t.tagName)),_.allowedTags&&-1===_.allowedTags.indexOf(b)&&(n=!0,-1!==o.indexOf(b)&&(f=!0,d=1),c[s]=!0),s++,n||(w+="<"+b,(!x||has(x,b)||x["*"])&&each(e,function(e,t){if(D.test(t)){var n,r=!1;if(!x||has(x,b)&&-1!==x[b].indexOf(t)||x["*"]&&-1!==x["*"].indexOf(t)||has(C,b)&&C[b].test(t)||C["*"]&&C["*"].test(t))r=!0;else if(x&&x[b]){var o=!0,i=!1,a=void 0;try{for(var s,u=x[b][Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(T(c)&&c.name&&c.name===t){var l="";if((r=!0)===c.multiple){var f=e.split(" "),d=!0,h=!1,p=void 0;try{for(var m,g=f[Symbol.iterator]();!(d=(m=g.next()).done);d=!0){var v=m.value;-1!==c.values.indexOf(v)&&(""===l?l=v:l+=" "+v)}}catch(e){h=!0,p=e}finally{try{!d&&g.return&&g.return()}finally{if(h)throw p}}}else 0<=c.values.indexOf(e)&&(l=e);e=l}}}catch(e){i=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}if(r){if(-1!==_.allowedSchemesAppliedToAttributes.indexOf(t)&&naughtyHref(b,e))return void delete y.attribs[t];if("iframe"===b&&"src"===t){if("//"===e.substring(0,2)){e="https:".concat(e)}try{if(n=N.parse(e),_.allowedIframeHostnames)if(!_.allowedIframeHostnames.find(function(e){return e===n.hostname}))return void delete y.attribs[t]}catch(e){return void delete y.attribs[t]}}if("srcset"===t)try{if(each(n=A.parse(e),function(e){naughtyHref("srcset",e.url)&&(e.evil=!0)}),!(n=filter(n,function(e){return!e.evil})).length)return void delete y.attribs[t];e=A.stringify(filter(n,function(e){return!e.evil})),y.attribs[t]=e}catch(e){return void delete y.attribs[t]}if("class"===t&&!(e=function filterClasses(e,t){if(!t)return e;return(e=e.split(/\s+/)).filter(function(e){return-1!==t.indexOf(e)}).join(" ")}(e,k[b])).length)return void delete y.attribs[t];if("style"===t)try{if(0===(e=function stringifyStyleAttributes(e){return e.nodes[0].nodes.reduce(function(e,t){return e.push(t.prop+":"+t.value+";"),e},[]).join("")}(function filterCss(e,t){if(!t)return e;var n,r=S(e),o=e.nodes[0];n=t[o.selector]&&t["*"]?E(S(t[o.selector]),t["*"],function(e,t){if(Array.isArray(e))return e.concat(t)}):t[o.selector]||t["*"];n&&(r.nodes[0].nodes=o.nodes.reduce(function filterDeclarations(r){return function(e,t){if(r.hasOwnProperty(t.prop)){var n=r[t.prop].some(function(e){return e.test(t.value)});n&&e.push(t)}return e}}(n),[]));return r}(R.parse(b+" {"+e+"}"),_.allowedStyles))).length)return void delete y.attribs[t]}catch(e){return void delete y.attribs[t]}w+=" "+t,e.length&&(w+='="'+escapeHtml(e)+'"')}else delete y.attribs[t]}else delete y.attribs[t]}),-1!==_.selfClosing.indexOf(b)?w+=" />":(w+=">",!y.innerText||r||_.textFilter||(w+=y.innerText)))}},ontext:function ontext(e){if(!f){var t,n=u[u.length-1];if(n&&(t=n.tag,e=void 0!==n.innerText?n.innerText:e),"script"===t||"style"===t)w+=e;else{var r=escapeHtml(e);_.textFilter?w+=_.textFilter(r):w+=r}if(u.length)u[u.length-1].text+=e}},onclosetag:function onclosetag(e){if(f){if(--d)return;f=!1}var t=u.pop();if(t){if(f=!1,c[--s])return delete c[s],void t.updateParentNodeText();l[s]&&(e=l[s],delete l[s]),_.exclusiveFilter&&_.exclusiveFilter(t)?w=w.substr(0,t.tagPosition):(t.updateParentNodeText(),-1===_.selfClosing.indexOf(e)&&(w+="</"+e+">"))}}},_.parser);return n.write(e),n.end(),w;function escapeHtml(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function naughtyHref(e,t){var n=(t=(t=t.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!n)return!!t.match(/^[\/\\]{2}/)&&!_.allowProtocolRelative;var r=n[1].toLowerCase();return has(_.allowedSchemesByTag,e)?-1===_.allowedSchemesByTag[e].indexOf(r):!_.allowedSchemes||-1===_.allowedSchemes.indexOf(r)}}var g={decodeEntities:!0};sanitizeHtml.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","iframe"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0},sanitizeHtml.simpleTransform=function(r,o,i){return i=void 0===i||i,o=o||{},function(e,t){var n;if(i)for(n in o)t[n]=o[n];else t=o;return{tagName:r,attribs:t}}}},function(e,t,n){"use strict";var r=n(214),o=n(216),i=n(75),a={unformatted:["code","pre","em","strong","span"],indent_inner_html:!0,indent_char:" ",indent_size:2,sep:"\n"};e.exports=function pretty(e,t){var n=i({},a,t);return e=r.html(e,n),!0===n.ocd?(n.newlines&&(n.sep=n.newlines),function ocd(e,t){return o(e,t).replace(/^\s+/g,"").replace(/\s+$/g,"\n").replace(/(\s*<!--)/g,"\n$1").replace(/>(\s*)(?=<!--\s*\/)/g,"> ")}(e,n)):e}},,function(e,t,n){n(17),n(18),n(19),e.exports=n(230)},function(e,t,n){"use strict";var r=n(0),o=n(89),i=n(93),a=n(94),s=n(102),u=n(116),c=n(129),l=n(42),f=n(49),d={default:n(131),zero:n(132),commonmark:n(133)},h=/^(vbscript|javascript|file|data):/,p=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(e){var t=e.trim().toLowerCase();return!h.test(t)||!!p.test(t)}var m=["http:","https:","mailto:"];function normalizeLink(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||0<=m.indexOf(t.protocol)))try{t.hostname=f.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function normalizeLinkText(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||0<=m.indexOf(t.protocol)))try{t.hostname=f.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t))}function MarkdownIt(e,t){if(!(this instanceof MarkdownIt))return new MarkdownIt(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new u,this.block=new s,this.core=new a,this.renderer=new i,this.linkify=new c,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}MarkdownIt.prototype.set=function(e){return r.assign(this.options,e),this},MarkdownIt.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=d[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach(function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)}),this},MarkdownIt.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){n=n.concat(this[e].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter(function(e){return n.indexOf(e)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},MarkdownIt.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){n=n.concat(this[e].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter(function(e){return n.indexOf(e)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},MarkdownIt.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},MarkdownIt.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},MarkdownIt.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},MarkdownIt.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},MarkdownIt.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=MarkdownIt},function(e,t,n){"use strict";var c={};function encode(e,t,n){var r,o,i,a,s,u="";for("string"!=typeof t&&(n=t,t=encode.defaultChars),void 0===n&&(n=!0),s=function getEncodeCache(e){var t,n,r=c[e];if(r)return r;for(r=c[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),r=0,o=e.length;r<o;r++)if(i=e.charCodeAt(r),n&&37===i&&r+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3)))u+=e.slice(r,r+3),r+=2;else if(i<128)u+=s[i];else if(55296<=i&&i<=57343){if(55296<=i&&i<=56319&&r+1<o&&56320<=(a=e.charCodeAt(r+1))&&a<=57343){u+=encodeURIComponent(e[r]+e[r+1]),r++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[r]);return u}encode.defaultChars=";/?:@&=+$,-_.!~*'()#",encode.componentChars="-_.!~*'()",e.exports=encode},function(e,t,n){"use strict";var o={};function decode(e,t){var c;return"string"!=typeof t&&(t=decode.defaultChars),c=function getDecodeCache(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)r[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,r,o,i,a,s,u="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?u+=c[r]:192==(224&r)&&t+3<n&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u+=(s=r<<6&1984|63&o)<128?"\ufffd\ufffd":String.fromCharCode(s),t+=3):224==(240&r)&&t+6<n&&(o=parseInt(e.slice(t+4,t+6),16),i=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&i))?(u+=(s=r<<12&61440|o<<6&4032|63&i)<2048||55296<=s&&s<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(s),t+=6):240==(248&r)&&t+9<n&&(o=parseInt(e.slice(t+4,t+6),16),i=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&i)&&128==(192&a))?((s=r<<18&1835008|o<<12&258048|i<<6&4032|63&a)<65536||1114111<s?u+="\ufffd\ufffd\ufffd\ufffd":(s-=65536,u+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):u+="\ufffd";return u})}decode.defaultChars=";/?:@&=+$,#",decode.componentChars="",e.exports=decode},function(e,t,n){"use strict";e.exports=function format(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var S=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,E=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),i=["'"].concat(o),T=["%","/","?",";","#"].concat(i),A=["/","?","#"],R=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,D={javascript:!0,"javascript:":!0},O={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Url.prototype.parse=function(e,t){var n,r,o,i,a,s=e;if(s=s.trim(),!t&&1===e.split("#").length){var u=E.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}var c=S.exec(s);if(c&&(o=(c=c[0]).toLowerCase(),this.protocol=c,s=s.substr(c.length)),(t||c||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||c&&D[c]||(s=s.substr(2),this.slashes=!0)),!D[c]&&(a||c&&!O[c])){var l,f,d=-1;for(n=0;n<A.length;n++)-1!==(i=s.indexOf(A[n]))&&(-1===d||i<d)&&(d=i);for(-1!==(f=-1===d?s.lastIndexOf("@"):s.lastIndexOf("@",d))&&(l=s.slice(0,f),s=s.slice(f+1),this.auth=l),d=-1,n=0;n<T.length;n++)-1!==(i=s.indexOf(T[n]))&&(-1===d||i<d)&&(d=i);-1===d&&(d=s.length),":"===s[d-1]&&d--;var h=s.slice(0,d);s=s.slice(d),this.parseHost(h),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p){var m=this.hostname.split(/\./);for(n=0,r=m.length;n<r;n++){var g=m[n];if(g&&!g.match(R)){for(var v="",b=0,y=g.length;b<y;b++)127<g.charCodeAt(b)?v+="x":v+=g[b];if(!v.match(R)){var _=m.slice(0,n),w=m.slice(n+1),x=g.match(N);x&&(_.push(x[1]),w.unshift(x[2])),w.length&&(s=w.join(".")+s),this.hostname=_.join(".");break}}}}255<this.hostname.length&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var C=s.indexOf("#");-1!==C&&(this.hash=s.substr(C),s=s.slice(0,C));var k=s.indexOf("?");return-1!==k&&(this.search=s.substr(k),s=s.slice(0,k)),s&&(this.pathname=s),O[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(e){var t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function urlParse(e,t){if(e&&e instanceof Url)return e;var n=new Url;return n.parse(e,t),n}},function(e,t,n){"use strict";t.Any=n(43),t.Cc=n(44),t.Cf=n(88),t.P=n(20),t.Z=n(45)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(90),t.parseLinkDestination=n(91),t.parseLinkTitle=n(92)},function(e,t,n){"use strict";e.exports=function parseLinkLabel(e,t,n){var r,o,i,a,s=-1,u=e.posMax,c=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=c,-1}return o&&(s=e.pos),e.pos=c,s}},function(e,t,n){"use strict";var s=n(0).isSpace,u=n(0).unescapeAll;e.exports=function parseLinkDestination(e,t,n){var r,o,i=t,a={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(r=e.charCodeAt(t))||s(r))return a;if(62===r)return a.pos=t+1,a.str=u(e.slice(i+1,t)),a.ok=!0,a;92===r&&t+1<n?t+=2:t++}return a}for(o=0;t<n&&32!==(r=e.charCodeAt(t))&&!(r<32||127===r);)if(92===r&&t+1<n)t+=2;else{if(40===r&&o++,41===r){if(0===o)break;o--}t++}return i===t||0!==o||(a.str=u(e.slice(i,t)),a.lines=0,a.pos=t,a.ok=!0),a}},function(e,t,n){"use strict";var u=n(0).unescapeAll;e.exports=function parseLinkTitle(e,t,n){var r,o,i=0,a=t,s={ok:!1,pos:0,lines:0,str:""};if(n<=t)return s;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return s;for(t++,40===o&&(o=41);t<n;){if((r=e.charCodeAt(t))===o)return s.pos=t+1,s.lines=i,s.str=u(e.slice(a+1,t)),s.ok=!0,s;10===r?i++:92===r&&t+1<n&&(t++,10===e.charCodeAt(t)&&i++),t++}return s}},function(e,t,n){"use strict";var r=n(0).assign,d=n(0).unescapeAll,h=n(0).escapeHtml,o={};function Renderer(){this.rules=r({},o)}o.code_inline=function(e,t,n,r,o){var i=e[t];return"<code"+o.renderAttrs(i)+">"+h(e[t].content)+"</code>"},o.code_block=function(e,t,n,r,o){var i=e[t];return"<pre"+o.renderAttrs(i)+"><code>"+h(e[t].content)+"</code></pre>\n"},o.fence=function(e,t,n,r,o){var i,a,s,u,c=e[t],l=c.info?d(c.info).trim():"",f="";return l&&(f=l.split(/\s+/g)[0]),0===(i=n.highlight&&n.highlight(c.content,f)||h(c.content)).indexOf("<pre")?i+"\n":l?(a=c.attrIndex("class"),s=c.attrs?c.attrs.slice():[],a<0?s.push(["class",n.langPrefix+f]):s[a][1]+=" "+n.langPrefix+f,u={attrs:s},"<pre><code"+o.renderAttrs(u)+">"+i+"</code></pre>\n"):"<pre><code"+o.renderAttrs(c)+">"+i+"</code></pre>\n"},o.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},o.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},o.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},o.text=function(e,t){return h(e[t].content)},o.html_block=function(e,t){return e[t].content},o.html_inline=function(e,t){return e[t].content},Renderer.prototype.renderAttrs=function renderAttrs(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+h(e.attrs[t][0])+'="'+h(e.attrs[t][1])+'"';return r},Renderer.prototype.renderToken=function renderToken(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden?i=!1:-1===r.nesting&&r.tag===a.tag&&(i=!1))),o+=i?">\n":">")},Renderer.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,s=e.length;a<s;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},Renderer.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type&&(r+=this.renderInlineAsText(e[o].children,t,n));return r},Renderer.prototype.render=function(e,t,n){var r,o,i,a="",s=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==s[i]?a+=s[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=Renderer},function(e,t,n){"use strict";var r=n(21),o=[["normalize",n(95)],["block",n(96)],["inline",n(97)],["linkify",n(98)],["replacements",n(99)],["smartquotes",n(100)]];function Core(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}Core.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},Core.prototype.State=n(101),e.exports=Core},function(e,t,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function inline(e){var t;t=(t=e.src.replace(r,"\n")).replace(o,"\ufffd"),e.src=t}},function(e,t,n){"use strict";e.exports=function block(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function inline(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";var w=n(0).arrayReplaceAt;e.exports=function linkify(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=e.tokens;if(e.md.options.linkify)for(n=0,r=_.length;n<r;n++)if("inline"===_[n].type&&e.md.linkify.pretest(_[n].content))for(h=0,t=(o=_[n].children).length-1;0<=t;t--)if("link_close"!==(a=o[t]).type){if("html_inline"===a.type&&(y=a.content,/^<a[>\s]/i.test(y)&&0<h&&h--,b=a.content,/^<\/a\s*>/i.test(b)&&h++),!(0<h)&&"text"===a.type&&e.md.linkify.test(a.content)){for(c=a.content,v=e.md.linkify.match(c),s=[],d=a.level,u=f=0;u<v.length;u++)p=v[u].url,m=e.md.normalizeLink(p),e.md.validateLink(m)&&(g=v[u].text,g=v[u].schema?"mailto:"!==v[u].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),f<(l=v[u].index)&&((i=new e.Token("text","",0)).content=c.slice(f,l),i.level=d,s.push(i)),(i=new e.Token("link_open","a",1)).attrs=[["href",m]],i.level=d++,i.markup="linkify",i.info="auto",s.push(i),(i=new e.Token("text","",0)).content=g,i.level=d,s.push(i),(i=new e.Token("link_close","a",-1)).level=--d,i.markup="linkify",i.info="auto",s.push(i),f=v[u].lastIndex);f<c.length&&((i=new e.Token("text","",0)).content=c.slice(f),i.level=d,s.push(i)),_[n].children=o=w(o,t,s)}}else for(t--;o[t].level!==a.level&&"link_open"!==o[t].type;)t--}},function(e,t,n){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function replaceFn(e,t){return a[t.toLowerCase()]}function replace_scoped(e){var t,n,r=0;for(t=e.length-1;0<=t;t--)"text"!==(n=e[t]).type||r||(n.content=n.content.replace(i,replaceFn)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function replace_rare(e){var t,n,r=0;for(t=e.length-1;0<=t;t--)"text"!==(n=e[t]).type||r||o.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}e.exports=function replace(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;0<=t;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&replace_scoped(e.tokens[t].children),o.test(e.tokens[t].content)&&replace_rare(e.tokens[t].children))}},function(e,t,n){"use strict";var C=n(0).isWhiteSpace,k=n(0).isPunctChar,S=n(0).isMdAsciiPunct,r=/['"]/,E=/['"]/g,T="\u2019";function replaceAt(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function process_inlines(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x;for(_=[],n=0;n<e.length;n++){for(r=e[n],u=e[n].level,b=_.length-1;0<=b&&!(_[b].level<=u);b--);if(_.length=b+1,"text"===r.type){a=0,s=(o=r.content).length;e:for(;a<s&&(E.lastIndex=a,i=E.exec(o));){if(g=v=!0,a=i.index+1,y="'"===i[0],l=32,0<=i.index-1)l=o.charCodeAt(i.index-1);else for(b=n-1;0<=b&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b--)if("text"===e[b].type){l=e[b].content.charCodeAt(e[b].content.length-1);break}if(f=32,a<s)f=o.charCodeAt(a);else for(b=n+1;b<e.length&&("softbreak"!==e[b].type&&"hardbreak"!==e[b].type);b++)if("text"===e[b].type){f=e[b].content.charCodeAt(0);break}if(d=S(l)||k(String.fromCharCode(l)),h=S(f)||k(String.fromCharCode(f)),p=C(l),(m=C(f))?g=!1:h&&(p||d||(g=!1)),p?v=!1:d&&(m||h||(v=!1)),34===f&&'"'===i[0]&&48<=l&&l<=57&&(v=g=!1),g&&v&&(g=!1,v=h),g||v){if(v)for(b=_.length-1;0<=b&&(c=_[b],!(_[b].level<u));b--)if(c.single===y&&_[b].level===u){c=_[b],y?(w=t.md.options.quotes[2],x=t.md.options.quotes[3]):(w=t.md.options.quotes[0],x=t.md.options.quotes[1]),r.content=replaceAt(r.content,i.index,x),e[c.token].content=replaceAt(e[c.token].content,c.pos,w),a+=x.length-1,c.token===n&&(a+=w.length-1),s=(o=r.content).length,_.length=b;continue e}g?_.push({token:n,pos:i.index,single:y,level:u}):v&&y&&(r.content=replaceAt(r.content,i.index,T))}else y&&(r.content=replaceAt(r.content,i.index,T))}}}}e.exports=function smartquotes(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;0<=t;t--)"inline"===e.tokens[t].type&&r.test(e.tokens[t].content)&&process_inlines(e.tokens[t].children,e)}},function(e,t,n){"use strict";var r=n(22);function StateCore(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}StateCore.prototype.Token=r,e.exports=StateCore},function(e,t,n){"use strict";var r=n(21),o=[["table",n(103),["paragraph","reference"]],["code",n(104)],["fence",n(105),["paragraph","reference","blockquote","list"]],["blockquote",n(106),["paragraph","reference","blockquote","list"]],["hr",n(107),["paragraph","reference","blockquote","list"]],["list",n(108),["paragraph","reference","blockquote"]],["reference",n(109)],["heading",n(110),["paragraph","reference","blockquote"]],["lheading",n(111)],["html_block",n(112),["paragraph","reference","blockquote"]],["paragraph",n(114)]];function ParserBlock(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,s=!1,u=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(n<=a))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=u){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},ParserBlock.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},ParserBlock.prototype.State=n(115),e.exports=ParserBlock},function(e,t,n){"use strict";var g=n(0).isSpace;function getLine(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function escapedSplit(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,u=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,u=r):i%2==0&&(s=!0,u=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=u+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function table(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m;if(n<t+2)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(4<=e.sCount[u]-e.blkIndent)return!1;if((a=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(o=e.src.charCodeAt(a++))&&45!==o&&58!==o)return!1;for(;a<e.eMarks[u];){if(124!==(o=e.src.charCodeAt(a))&&45!==o&&58!==o&&!g(o))return!1;a++}for(c=(i=getLine(e,t+1)).split("|"),d=[],s=0;s<c.length;s++){if(!(h=c[s].trim())){if(0===s||s===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(h))return!1;58===h.charCodeAt(h.length-1)?d.push(58===h.charCodeAt(0)?"center":"right"):58===h.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(i=getLine(e,t).trim()).indexOf("|"))return!1;if(4<=e.sCount[t]-e.blkIndent)return!1;if((l=(c=escapedSplit(i.replace(/^\||\|$/g,""))).length)>d.length)return!1;if(r)return!0;for((f=e.push("table_open","table",1)).map=p=[t,0],(f=e.push("thead_open","thead",1)).map=[t,t+1],(f=e.push("tr_open","tr",1)).map=[t,t+1],s=0;s<c.length;s++)(f=e.push("th_open","th",1)).map=[t,t+1],d[s]&&(f.attrs=[["style","text-align:"+d[s]]]),(f=e.push("inline","",0)).content=c[s].trim(),f.map=[t,t+1],f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),(f=e.push("tbody_open","tbody",1)).map=m=[t+2,0],u=t+2;u<n&&!(e.sCount[u]<e.blkIndent)&&-1!==(i=getLine(e,u).trim()).indexOf("|")&&!(4<=e.sCount[u]-e.blkIndent);u++){for(c=escapedSplit(i.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1),s=0;s<l;s++)f=e.push("td_open","td",1),d[s]&&(f.attrs=[["style","text-align:"+d[s]]]),(f=e.push("inline","",0)).content=c[s]?c[s].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return f=e.push("tbody_close","tbody",-1),f=e.push("table_close","table",-1),p[1]=m[1]=u,e.line=u,!0}},function(e,t,n){"use strict";e.exports=function code(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(4<=e.sCount[r]-e.blkIndent))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function fence(e,t,n,r){var o,i,a,s,u,c,l,f=!1,d=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(h<d+3)return!1;if(126!==(o=e.src.charCodeAt(d))&&96!==o)return!1;if(u=d,(i=(d=e.skipChars(d,o))-u)<3)return!1;if(l=e.src.slice(u,d),0<=(a=e.src.slice(d,h)).indexOf(String.fromCharCode(o)))return!1;if(r)return!0;for(s=t;!(n<=++s)&&!((d=u=e.bMarks[s]+e.tShift[s])<(h=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(d)===o&&!(4<=e.sCount[s]-e.blkIndent||(d=e.skipChars(d,o))-u<i||(d=e.skipSpaces(d))<h)){f=!0;break}return i=e.sCount[t],e.line=s+(f?1:0),(c=e.push("fence","code",0)).info=a,c.content=e.getLines(t+1,s,i,!0),c.markup=l,c.map=[t,e.line],!0}},function(e,t,n){"use strict";var T=n(0).isSpace;e.exports=function blockquote(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k=e.lineMax,S=e.bMarks[t]+e.tShift[t],E=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(62!==e.src.charCodeAt(S++))return!1;if(r)return!0;for(s=d=e.sCount[t]+S-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(S)?(S++,s++,d++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[t]+d)%4==3?(S++,s++,d++,o=!1):o=!0):y=!1,h=[e.bMarks[t]],e.bMarks[t]=S;S<E&&(i=e.src.charCodeAt(S),T(i));)9===i?d+=4-(d+e.bsCount[t]+(o?1:0))%4:d++,S++;for(p=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),c=E<=S,v=[e.sCount[t]],e.sCount[t]=d-s,b=[e.tShift[t]],e.tShift[t]=S-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",C=!1,f=t+1;f<n&&(e.sCount[f]<e.blkIndent&&(C=!0),S=e.bMarks[f]+e.tShift[f],!((E=e.eMarks[f])<=S));f++)if(62!==e.src.charCodeAt(S++)||C){if(c)break;for(_=!1,a=0,u=w.length;a<u;a++)if(w[a](e,f,n,!0)){_=!0;break}if(_){e.lineMax=f,0!==e.blkIndent&&(h.push(e.bMarks[f]),p.push(e.bsCount[f]),b.push(e.tShift[f]),v.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),p.push(e.bsCount[f]),b.push(e.tShift[f]),v.push(e.sCount[f]),e.sCount[f]=-1}else{for(s=d=e.sCount[f]+S-(e.bMarks[f]+e.tShift[f]),32===e.src.charCodeAt(S)?(S++,s++,d++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[f]+d)%4==3?(S++,s++,d++,o=!1):o=!0):y=!1,h.push(e.bMarks[f]),e.bMarks[f]=S;S<E&&(i=e.src.charCodeAt(S),T(i));)9===i?d+=4-(d+e.bsCount[f]+(o?1:0))%4:d++,S++;c=E<=S,p.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(y?1:0),v.push(e.sCount[f]),e.sCount[f]=d-s,b.push(e.tShift[f]),e.tShift[f]=S-e.bMarks[f]}for(m=e.blkIndent,e.blkIndent=0,(x=e.push("blockquote_open","blockquote",1)).markup=">",x.map=l=[t,0],e.md.block.tokenize(e,t,f),(x=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=k,e.parentType=g,l[1]=e.line,a=0;a<b.length;a++)e.bMarks[a+t]=h[a],e.tShift[a+t]=b[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=p[a];return e.blkIndent=m,!0}},function(e,t,n){"use strict";var l=n(0).isSpace;e.exports=function hr(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(42!==(o=e.src.charCodeAt(u++))&&45!==o&&95!==o)return!1;for(i=1;u<c;){if((a=e.src.charCodeAt(u++))!==o&&!l(a))return!1;a===o&&i++}return!(i<3)&&(r||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(i+1).join(String.fromCharCode(o))),!0)}},function(e,t,n){"use strict";var a=n(0).isSpace;function skipBulletListMarker(e,t){var n,r,o,i;return r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n?-1:r<o&&(i=e.src.charCodeAt(r),!a(i))?-1:r}function skipOrderedListMarker(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=r,i=e.eMarks[t];if(i<=o+1)return-1;if((n=e.src.charCodeAt(o++))<48||57<n)return-1;for(;;){if(i<=o)return-1;if(!(48<=(n=e.src.charCodeAt(o++))&&n<=57)){if(41===n||46===n)break;return-1}if(10<=o-r)return-1}return o<i&&(n=e.src.charCodeAt(o),!a(n))?-1:o}e.exports=function list(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N,D,O=!1,B=!0;if(4<=e.sCount[t]-e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(O=!0),0<=(E=skipOrderedListMarker(e,t))){if(l=!0,A=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(A,E-A-1)),O&&1!==g)return!1}else{if(!(0<=(E=skipBulletListMarker(e,t))))return!1;l=!1}if(O&&e.skipSpaces(E)>=e.eMarks[t])return!1;if(m=e.src.charCodeAt(E-1),r)return!0;for(p=e.tokens.length,l?(D=e.push("ordered_list_open","ol",1),1!==g&&(D.attrs=[["start",g]])):D=e.push("bullet_list_open","ul",1),D.map=h=[t,0],D.markup=String.fromCharCode(m),b=t,T=!1,N=e.md.block.ruler.getRules("list"),x=e.parentType,e.parentType="list";b<n;){for(S=E,v=e.eMarks[b],c=y=e.sCount[b]+E-(e.bMarks[t]+e.tShift[t]);S<v;){if(9===(o=e.src.charCodeAt(S)))y+=4-(y+e.bsCount[b])%4;else{if(32!==o)break;y++}S++}if(4<(u=v<=(i=S)?1:y-c)&&(u=1),s=c+u,(D=e.push("list_item_open","li",1)).markup=String.fromCharCode(m),D.map=f=[t,0],_=e.blkIndent,k=e.tight,C=e.tShift[t],w=e.sCount[t],e.blkIndent=s,e.tight=!0,e.tShift[t]=i-e.bMarks[t],e.sCount[t]=y,v<=i&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!T||(B=!1),T=1<e.line-t&&e.isEmpty(e.line-1),e.blkIndent=_,e.tShift[t]=C,e.sCount[t]=w,e.tight=k,(D=e.push("list_item_close","li",-1)).markup=String.fromCharCode(m),b=t=e.line,f[1]=b,i=e.bMarks[t],n<=b)break;if(e.sCount[b]<e.blkIndent)break;for(R=!1,a=0,d=N.length;a<d;a++)if(N[a](e,b,n,!0)){R=!0;break}if(R)break;if(l){if((E=skipOrderedListMarker(e,b))<0)break}else if((E=skipBulletListMarker(e,b))<0)break;if(m!==e.src.charCodeAt(E-1))break}return(D=l?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),h[1]=b,e.line=b,e.parentType=x,B&&function markTightParagraphs(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,p),!0}},function(e,t,n){"use strict";var k=n(0).normalizeReference,S=n(0).isSpace;e.exports=function reference(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_=0,w=e.bMarks[t]+e.tShift[t],x=e.eMarks[t],C=t+1;if(4<=e.sCount[t]-e.blkIndent)return!1;if(91!==e.src.charCodeAt(w))return!1;for(;++w<x;)if(93===e.src.charCodeAt(w)&&92!==e.src.charCodeAt(w-1)){if(w+1===x)return!1;if(58!==e.src.charCodeAt(w+1))return!1;break}for(s=e.lineMax,b=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";C<s&&!e.isEmpty(C);C++)if(!(3<e.sCount[C]-e.blkIndent||e.sCount[C]<0)){for(v=!1,c=0,l=b.length;c<l;c++)if(b[c](e,C,s,!0)){v=!0;break}if(v)break}for(x=(g=e.getLines(t,C,e.blkIndent,!1).trim()).length,w=1;w<x;w++){if(91===(o=g.charCodeAt(w)))return!1;if(93===o){d=w;break}10===o?_++:92===o&&++w<x&&10===g.charCodeAt(w)&&_++}if(d<0||58!==g.charCodeAt(d+1))return!1;for(w=d+2;w<x;w++)if(10===(o=g.charCodeAt(w)))_++;else if(!S(o))break;if(!(p=e.md.helpers.parseLinkDestination(g,w,x)).ok)return!1;if(u=e.md.normalizeLink(p.str),!e.md.validateLink(u))return!1;for(w=p.pos,a=_+=p.lines,m=i=w;w<x;w++)if(10===(o=g.charCodeAt(w)))_++;else if(!S(o))break;for(p=e.md.helpers.parseLinkTitle(g,w,x),w<x&&m!==w&&p.ok?(y=p.str,w=p.pos,_+=p.lines):(y="",w=i,_=a);w<x&&(o=g.charCodeAt(w),S(o));)w++;if(w<x&&10!==g.charCodeAt(w)&&y)for(y="",w=i,_=a;w<x&&(o=g.charCodeAt(w),S(o));)w++;return!(w<x&&10!==g.charCodeAt(w))&&(!!(f=k(g.slice(1,d)))&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:y,href:u}),e.parentType=h,e.line=t+_+1),!0))}},function(e,t,n){"use strict";var l=n(0).isSpace;e.exports=function heading(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(35!==(o=e.src.charCodeAt(u))||c<=u)return!1;for(i=1,o=e.src.charCodeAt(++u);35===o&&u<c&&i<=6;)i++,o=e.src.charCodeAt(++u);return!(6<i||u<c&&!l(o))&&(r||(c=e.skipSpacesBack(c,u),u<(a=e.skipCharsBack(c,35,u))&&l(e.src.charCodeAt(a-1))&&(c=a),e.line=t+1,(s=e.push("heading_open","h"+String(i),1)).markup="########".slice(0,i),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,c).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(i),-1)).markup="########".slice(0,i)),!0)}},function(e,t,n){"use strict";e.exports=function lheading(e,t,n){var r,o,i,a,s,u,c,l,f,d,h=t+1,p=e.md.block.ruler.getRules("paragraph");if(4<=e.sCount[t]-e.blkIndent)return!1;for(d=e.parentType,e.parentType="paragraph";h<n&&!e.isEmpty(h);h++)if(!(3<e.sCount[h]-e.blkIndent)){if(e.sCount[h]>=e.blkIndent&&(u=e.bMarks[h]+e.tShift[h])<(c=e.eMarks[h])&&(45===(f=e.src.charCodeAt(u))||61===f)&&(u=e.skipChars(u,f),c<=(u=e.skipSpaces(u)))){l=61===f?1:2;break}if(!(e.sCount[h]<0)){for(o=!1,i=0,a=p.length;i<a;i++)if(p[i](e,h,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(s=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(f),s.map=[t,e.line],(s=e.push("inline","",0)).content=r,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(f),e.parentType=d,!0)}},function(e,t,n){"use strict";var r=n(113),o=n(46).HTML_OPEN_CLOSE_TAG_RE,l=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function html_block(e,t,n,r){var o,i,a,s,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(4<=e.sCount[t]-e.blkIndent)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,c),o=0;o<l.length&&!l[o][0].test(s);o++);if(o===l.length)return!1;if(r)return l[o][2];if(i=t+1,!l[o][1].test(s))for(;i<n&&!(e.sCount[i]<e.blkIndent);i++)if(u=e.bMarks[i]+e.tShift[i],c=e.eMarks[i],s=e.src.slice(u,c),l[o][1].test(s)){0!==s.length&&i++;break}return e.line=i,(a=e.push("html_block","",0)).map=[t,i],a.content=e.getLines(t,i,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function paragraph(e,t){var n,r,o,i,a,s,u=t+1,c=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(s=e.parentType,e.parentType="paragraph";u<l&&!e.isEmpty(u);u++)if(!(3<e.sCount[u]-e.blkIndent||e.sCount[u]<0)){for(r=!1,o=0,i=c.length;o<i;o++)if(c[o](e,u,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,u,e.blkIndent,!1).trim(),e.line=u,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},function(e,t,n){"use strict";var o=n(22),d=n(0).isSpace;function StateBlock(e,t,n,r){var o,i,a,s,u,c,l,f;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,a=s=c=l=0,u=(i=this.src).length;s<u;s++){if(o=i.charCodeAt(s),!f){if(d(o)){c++,9===o?l+=4-l%4:l++;continue}f=!0}10!==o&&s!==u-1||(10!==o&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(c),this.sCount.push(l),this.bsCount.push(0),f=!1,l=c=0,a=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(e,t,n){var r=new o(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,0<n&&this.level++,this.tokens.push(r),r},StateBlock.prototype.isEmpty=function isEmpty(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},StateBlock.prototype.skipEmptyLines=function skipEmptyLines(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},StateBlock.prototype.skipSpaces=function skipSpaces(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),d(t));e++);return e},StateBlock.prototype.skipSpacesBack=function skipSpacesBack(e,t){if(e<=t)return e;for(;t<e;)if(!d(this.src.charCodeAt(--e)))return e+1;return e},StateBlock.prototype.skipChars=function skipChars(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},StateBlock.prototype.skipCharsBack=function skipCharsBack(e,t,n){if(e<=n)return e;for(;n<e;)if(t!==this.src.charCodeAt(--e))return e+1;return e},StateBlock.prototype.getLines=function getLines(e,t,n,r){var o,i,a,s,u,c,l,f=e;if(t<=e)return"";for(c=new Array(t-e),o=0;f<t;f++,o++){for(i=0,l=s=this.bMarks[f],u=f+1<t||r?this.eMarks[f]+1:this.eMarks[f];s<u&&i<n;){if(a=this.src.charCodeAt(s),d(a))9===a?i+=4-(i+this.bsCount[f])%4:i++;else{if(!(s-l<this.tShift[f]))break;i++}s++}c[o]=n<i?new Array(i-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return c.join("")},StateBlock.prototype.Token=o,e.exports=StateBlock},function(e,t,n){"use strict";var r=n(21),o=[["text",n(117)],["newline",n(118)],["escape",n(119)],["backticks",n(120)],["strikethrough",n(47).tokenize],["emphasis",n(48).tokenize],["link",n(121)],["image",n(122)],["autolink",n(123)],["html_inline",n(124)],["entity",n(125)]],i=[["balance_pairs",n(126)],["strikethrough",n(47).postProcess],["emphasis",n(48).postProcess],["text_collapse",n(127)]];function ParserInline(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}ParserInline.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos}else e.pos=s[r]},ParserInline.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},ParserInline.prototype.parse=function(e,t,n,r){var o,i,a,s=new this.State(e,t,n,r);for(this.tokenize(s),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](s)},ParserInline.prototype.State=n(128),e.exports=ParserInline},function(e,t,n){"use strict";function isTerminatorChar(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function text(e,t){for(var n=e.pos;n<e.posMax&&!isTerminatorChar(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var i=n(0).isSpace;e.exports=function newline(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,r=e.posMax,t||(0<=n&&32===e.pending.charCodeAt(n)?1<=n&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<r&&i(e.src.charCodeAt(o));)o++;return e.pos=o,!0}},function(e,t,n){"use strict";for(var i=n(0).isSpace,a=[],r=0;r<256;r++)a.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){a[e.charCodeAt(0)]=1}),e.exports=function escape(e,t){var n,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<o){if((n=e.src.charCodeAt(r))<256&&0!==a[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),r++;r<o&&(n=e.src.charCodeAt(r),i(n));)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function backtick(e,t){var n,r,o,i,a,s,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;for(o=e.src.slice(n,u),i=a=u;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((s=e.push("code_inline","code",0)).markup=o,s.content=e.src.slice(u,i).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,n){"use strict";var g=n(0).normalizeReference,v=n(0).isSpace;e.exports=function link(e,t){var n,r,o,i,a,s,u,c,l,f="",d=e.pos,h=e.posMax,p=e.pos,m=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(a=e.pos+1,(i=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((s=i+1)<h&&40===e.src.charCodeAt(s)){for(m=!1,s++;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);if(h<=s)return!1;for(p=s,(u=e.md.helpers.parseLinkDestination(e.src,s,e.posMax)).ok&&(f=e.md.normalizeLink(u.str),e.md.validateLink(f)?s=u.pos:f=""),p=s;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);if(u=e.md.helpers.parseLinkTitle(e.src,s,e.posMax),s<h&&p!==s&&u.ok)for(l=u.str,s=u.pos;s<h&&(r=e.src.charCodeAt(s),v(r)||10===r);s++);else l="";(h<=s||41!==e.src.charCodeAt(s))&&(m=!0),s++}if(m){if(void 0===e.env.references)return!1;if(s<h&&91===e.src.charCodeAt(s)?(p=s+1,0<=(s=e.md.helpers.parseLinkLabel(e,s))?o=e.src.slice(p,s++):s=i+1):s=i+1,o||(o=e.src.slice(a,i)),!(c=e.env.references[g(o)]))return e.pos=d,!1;f=c.href,l=c.title}return t||(e.pos=a,e.posMax=i,e.push("link_open","a",1).attrs=n=[["href",f]],l&&n.push(["title",l]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=s,e.posMax=h,!0}},function(e,t,n){"use strict";var b=n(0).normalizeReference,y=n(0).isSpace;e.exports=function image(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p,m="",g=e.pos,v=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(s=e.pos+2,(a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((u=a+1)<v&&40===e.src.charCodeAt(u)){for(u++;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);if(v<=u)return!1;for(p=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(m=e.md.normalizeLink(l.str),e.md.validateLink(m)?u=l.pos:m=""),p=u;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<v&&p!==u&&l.ok)for(f=l.str,u=l.pos;u<v&&(r=e.src.charCodeAt(u),y(r)||10===r);u++);else f="";if(v<=u||41!==e.src.charCodeAt(u))return e.pos=g,!1;u++}else{if(void 0===e.env.references)return!1;if(u<v&&91===e.src.charCodeAt(u)?(p=u+1,0<=(u=e.md.helpers.parseLinkLabel(e,u))?i=e.src.slice(p,u++):u=a+1):u=a+1,i||(i=e.src.slice(s,a)),!(c=e.env.references[b(i)]))return e.pos=g,!1;m=c.href,f=c.title}return t||(o=e.src.slice(s,a),e.md.inline.parse(o,e.md,e.env,h=[]),(d=e.push("image","img",0)).attrs=n=[["src",m],["alt",""]],d.children=h,d.content=o,f&&n.push(["title",f])),e.pos=u,e.posMax=v,!0}},function(e,t,n){"use strict";var c=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,l=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function autolink(e,t){var n,r,o,i,a,s,u=e.pos;return 60===e.src.charCodeAt(u)&&(!((n=e.src.slice(u)).indexOf(">")<0)&&(l.test(n)?(i=(r=n.match(l))[0].slice(1,-1),a=e.md.normalizeLink(i),!!e.md.validateLink(a)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(i),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=r[0].length,!0)):!!c.test(n)&&(i=(o=n.match(c))[0].slice(1,-1),a=e.md.normalizeLink("mailto:"+i),!!e.md.validateLink(a)&&(t||((s=e.push("link_open","a",1)).attrs=[["href",a]],s.markup="autolink",s.info="auto",(s=e.push("text","",0)).content=e.md.normalizeLinkText(i),(s=e.push("link_close","a",-1)).markup="autolink",s.info="auto"),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var a=n(46).HTML_TAG_RE;e.exports=function html_inline(e,t){var n,r,o,i=e.pos;return!!e.md.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(i)||o<=i+2)&&(!(33!==(n=e.src.charCodeAt(i+1))&&63!==n&&47!==n&&!function isLetter(e){var t=32|e;return 97<=t&&t<=122}(n))&&(!!(r=e.src.slice(i).match(a))&&(t||(e.push("html_inline","",0).content=e.src.slice(i,i+r[0].length)),e.pos+=r[0].length,!0))))}},function(e,t,n){"use strict";var a=n(41),s=n(0).has,u=n(0).isValidEntityCode,c=n(0).fromCodePoint,l=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,f=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function entity(e,t){var n,r,o=e.pos,i=e.posMax;if(38!==e.src.charCodeAt(o))return!1;if(o+1<i)if(35===e.src.charCodeAt(o+1)){if(r=e.src.slice(o).match(l))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=u(n)?c(n):c(65533)),e.pos+=r[0].length,!0}else if((r=e.src.slice(o).match(f))&&s(a,r[1]))return t||(e.pending+=a[r[1]]),e.pos+=r[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function link_pairs(e){var t,n,r,o,i=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if((r=i[t]).close)for(n=t-r.jump-1;0<=n;){if((o=i[n]).open&&o.marker===r.marker&&o.end<0&&o.level===r.level)if(!((o.close||r.open)&&void 0!==o.length&&void 0!==r.length&&(o.length+r.length)%3==0)){r.jump=t-n,r.open=!1,o.end=t,o.jump=0;break}n-=o.jump+1}}},function(e,t,n){"use strict";e.exports=function text_collapse(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r+=o[t].nesting,o[t].level=r,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},function(e,t,n){"use strict";var o=n(22),g=n(0).isWhiteSpace,v=n(0).isPunctChar,b=n(0).isMdAsciiPunct;function StateInline(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}StateInline.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},StateInline.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n);return n<0&&this.level--,r.level=this.level,0<n&&this.level++,this.pendingLevel=this.level,this.tokens.push(r),r},StateInline.prototype.scanDelims=function(e,t){var n,r,o,i,a,s,u,c,l,f=e,d=!0,h=!0,p=this.posMax,m=this.src.charCodeAt(e);for(n=0<e?this.src.charCodeAt(e-1):32;f<p&&this.src.charCodeAt(f)===m;)f++;return o=f-e,r=f<p?this.src.charCodeAt(f):32,u=b(n)||v(String.fromCharCode(n)),l=b(r)||v(String.fromCharCode(r)),s=g(n),(c=g(r))?d=!1:l&&(s||u||(d=!1)),s?h=!1:u&&(c||l||(h=!1)),t?(i=d,a=h):(i=d&&(!h||u),a=h&&(!d||l)),{can_open:i,can_close:a,length:o}},StateInline.prototype.Token=o,e.exports=StateInline},function(e,t,i){"use strict";function assign(n){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(e){n[e]=t[e]})}),n}function _class(e){return Object.prototype.toString.call(e)}function isFunction(e){return"[object Function]"===_class(e)}function escapeRE(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var n={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var r={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]?0:3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},a="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",o="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function compile(r){var t=r.re=i(130)(r.__opts__),e=r.__tlds__.slice();function untpl(e){return e.replace("%TLDS%",t.src_tlds)}r.onCompile(),r.__tlds_replaced__||e.push(a),e.push(t.src_xn),t.src_tlds=e.join("|"),t.email_fuzzy=RegExp(untpl(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(untpl(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(untpl(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(untpl(t.tpl_host_fuzzy_test),"i");var o=[];function schemaError(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}r.__compiled__={},Object.keys(r.__schemas__).forEach(function(e){var t=r.__schemas__[e];if(null!==t){var n={validate:null,link:null};if(r.__compiled__[e]=n,function isObject(e){return"[object Object]"===_class(e)}(t))return!function isRegExp(e){return"[object RegExp]"===_class(e)}(t.validate)?isFunction(t.validate)?n.validate=t.validate:schemaError(e,t):n.validate=function createValidator(r){return function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}}(t.validate),void(isFunction(t.normalize)?n.normalize=t.normalize:t.normalize?schemaError(e,t):n.normalize=function(e,t){t.normalize(e)});!function isString(e){return"[object String]"===_class(e)}(t)?schemaError(e,t):o.push(e)}}),o.forEach(function(e){r.__compiled__[r.__schemas__[e]]&&(r.__compiled__[e].validate=r.__compiled__[r.__schemas__[e]].validate,r.__compiled__[e].normalize=r.__compiled__[r.__schemas__[e]].normalize)}),r.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var n=Object.keys(r.__compiled__).filter(function(e){return 0<e.length&&r.__compiled__[e]}).map(escapeRE).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+n+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+n+")","ig"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),function resetScanCache(e){e.__index__=-1,e.__text_cache__=""}(r)}function createMatch(e,t){var n=new function Match(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function LinkifyIt(e,t){if(!(this instanceof LinkifyIt))return new LinkifyIt(e,t);t||function isOptionsObj(e){return Object.keys(e||{}).reduce(function(e,t){return e||n.hasOwnProperty(t)},!1)}(e)&&(t=e,e={}),this.__opts__=assign({},n,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},r,e),this.__compiled__={},this.__tlds__=o,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function add(e,t){return this.__schemas__[e]=t,compile(this),this},LinkifyIt.prototype.set=function set(e){return this.__opts__=assign(this.__opts__,e),this},LinkifyIt.prototype.test=function test(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(u=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),0<=this.__index__},LinkifyIt.prototype.pretest=function pretest(e){return this.re.pretest.test(e)},LinkifyIt.prototype.testSchemaAt=function testSchemaAt(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},LinkifyIt.prototype.match=function match(e){var t=0,n=[];0<=this.__index__&&this.__text_cache__===e&&(n.push(createMatch(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(createMatch(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},LinkifyIt.prototype.tlds=function tlds(e,t){return e=Array.isArray(e)?e:[e],t?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),compile(this),this},LinkifyIt.prototype.normalize=function normalize(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},LinkifyIt.prototype.onCompile=function onCompile(){},e.exports=LinkifyIt},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(43).source,t.src_Cc=r(44).source,t.src_Z=r(45).source,t.src_P=r(20).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><\uff5c]";return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><\uff5c]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t){},function(e,t,n){(function(e,t){!function(n,r){"use strict";if(!n.setImmediate){var o,i=1,a={},s=!1,u=n.document,e=Object.getPrototypeOf&&Object.getPrototypeOf(n);e=e&&e.setTimeout?e:n,"[object process]"==={}.toString.call(n.process)?function installNextTickImplementation(){o=function(e){t.nextTick(function(){runIfPresent(e)})}}():!function canUsePostMessage(){if(n.postMessage&&!n.importScripts){var e=!0,t=n.onmessage;return n.onmessage=function(){e=!1},n.postMessage("","*"),n.onmessage=t,e}}()?n.MessageChannel?function installMessageChannelImplementation(){var t=new MessageChannel;t.port1.onmessage=function(e){runIfPresent(e.data)},o=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?function installReadyStateChangeImplementation(){var n=u.documentElement;o=function(e){var t=u.createElement("script");t.onreadystatechange=function(){runIfPresent(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}}():function installSetTimeoutImplementation(){o=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",e=function(e){e.source===n&&"string"==typeof e.data&&0===e.data.indexOf(t)&&runIfPresent(+e.data.slice(t.length))};n.addEventListener?n.addEventListener("message",e,!1):n.attachEvent("onmessage",e),o=function(e){n.postMessage(t+e,"*")}}(),e.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return a[i]=r,o(i),i++},e.clearImmediate=clearImmediate}function clearImmediate(e){delete a[e]}function runIfPresent(e){if(s)setTimeout(runIfPresent,0,e);else{var t=a[e];if(t){s=!0;try{!function run(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{clearImmediate(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(5))},function(e,t){!function(){"use strict";var e,t,n,r,o,i=tinymce.util.Tools.resolve("tinymce.ThemeManager"),u=tinymce.util.Tools.resolve("tinymce.EditorManager"),w=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function(e){return!1!==l(e)},l=function(e){return e.getParam("menubar")},d=function(e){return e.getParam("toolbar_items_size")},h=function(e){return e.getParam("menu")},p=function(e){return!1===e.settings.skin},m=function(e){var t=e.getParam("resize","vertical");return!1===t?"none":"both"===t?"both":"vertical"},g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),v=tinymce.util.Tools.resolve("tinymce.ui.Factory"),b=tinymce.util.Tools.resolve("tinymce.util.I18n"),a=function(e){return e.fire("SkinLoaded")},y=function(e){return e.fire("ResizeEditor")},_=function(e){return e.fire("BeforeRenderUI")},s=function(t,n){return function(){var e=t.find(n)[0];e&&e.focus(!0)}},x=function(e,t){e.shortcuts.add("Alt+F9","",s(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",s(t,"toolbar")),e.shortcuts.add("Alt+F11","",s(t,"elementpath")),t.on("cancel",function(){e.focus()})},C=tinymce.util.Tools.resolve("tinymce.geom.Rect"),c=tinymce.util.Tools.resolve("tinymce.util.Delay"),k=function(e){return function(){return e}},S={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:k,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:k(!1),always:k(!0)},E=S.never,T=S.always,A=function(){return R},R=(r={fold:function(e,t){return e()},is:E,isSome:E,isNone:T,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:A,ap:A,each:function(){},bind:A,flatten:A,exists:E,forall:T,filter:A,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:S.constant("none()")},Object.freeze&&Object.freeze(r),r),N=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:T,isNone:E,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return N(e(n))},ap:function(e){return e.fold(A,function(e){return N(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:R},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(E,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},D={some:N,none:A,from:function(e){return null==e?R:N(e)}},O=function(e){return e?e.getRoot().uiContainer:null},B={getUiContainerDelta:function(e){var t=O(e);if(t&&"static"!==g.DOM.getStyle(t,"position",!0)){var n=g.DOM.getPos(t),r=t.scrollLeft-n.x,o=t.scrollTop-n.y;return D.some({x:r,y:o})}return D.none()},setUiContainer:function(e,t){var n=g.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},getUiContainer:O,inheritUiContainer:function(e,t){return t.uiContainer=O(e)}},P=function(r,e,o){var i,a=[];if(e)return w.each(e.split(/[ ,]/),function(t){var e,n=function(){var e=r.selection;t.settings.stateSelector&&e.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&e.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},a.push(i)),r.buttons[t]&&(e=t,"function"==typeof(t=r.buttons[e])&&(t=t()),t.type=t.type||"button",t.size=o,t=v.create(t),i.items.push(t),r.initialized?n():r.on("init",n)))}),{type:"toolbar",layout:"flow",items:a}},M=P,L=function(n,r){var e,t,o=[];if(w.each(!1===(t=(e=n).getParam("toolbar"))?[]:w.isArray(t)?w.grep(t,function(e){return 0<e.length}):function(e,t){for(var n=[],r=1;r<10;r++){var o=e["toolbar"+r];if(!o)break;n.push(o)}var i=e.toolbar?[e.toolbar]:[t];return 0<n.length?n:i}(e.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),function(e){var t;(t=e)&&o.push(P(n,t,r))}),o.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:o}},I=g.DOM,F=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},j=function(e,t){e.moveTo(t.left,t.top)},z=function(e,t,n,r,o,i){return i=F({x:t,y:n,w:i.w,h:i.h}),e&&(i=e({elementRect:F(r),contentAreaRect:F(o),panelRect:i})),i},q=function(_){var r,i=function(){return _.contextToolbars||[]},n=function(e,t){var n,r,o,i,a,s,u,c=_.getParam("inline_toolbar_position_handler");if(!_.removed){if(!e||!e.toolbar.panel)return l=_,void w.each(l.contextToolbars,function(e){e.panel&&e.panel.hide()});var l,f,d,h,p;u=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],a=e.toolbar.panel,t&&a.show(),f=e.element,d=I.getPos(_.getContentAreaContainer()),h=_.dom.getRect(f),"BODY"===(p=_.dom.getRoot()).nodeName&&(h.x-=p.ownerDocument.documentElement.scrollLeft||p.scrollLeft,h.y-=p.ownerDocument.documentElement.scrollTop||p.scrollTop),h.x+=d.x,h.y+=d.y,o=h,r=I.getRect(a.getEl()),i=I.getRect(_.getContentAreaContainer()||_.getBody());var m,g,v,b=B.getUiContainerDelta(a).getOr({x:0,y:0});if(o.x+=b.x,o.y+=b.y,r.x+=b.x,r.y+=b.y,i.x+=b.x,i.y+=b.y,"inline"!==I.getStyle(e.element,"display",!0)){var y=e.element.getBoundingClientRect();o.w=y.width,o.h=y.height}_.inline||(i.w=_.getDoc().documentElement.offsetWidth),_.selection.controlSelection.isResizable(e.element)&&o.w<25&&(o=C.inflate(o,0,8)),n=C.findBestRelativePosition(r,o,i,u),o=C.clamp(o,i),n?(s=C.relativePosition(r,o,n),j(a,z(c,s.x,s.y,o,i,r))):(i.h+=r.h,(o=C.intersect(i,o))?(n=C.findBestRelativePosition(r,o,i,["bc-tc","bl-tl","br-tr"]))?(s=C.relativePosition(r,o,n),j(a,z(c,s.x,s.y,o,i,r))):j(a,z(c,o.x,o.y,o,i,r)):a.hide()),m=a,v=function(e,t){return e===t},g=(g=n)?g.substr(0,2):"",w.each({t:"down",b:"up"},function(e,t){m.classes.toggle("arrow-"+e,v(t,g.substr(0,1)))}),w.each({l:"left",r:"right"},function(e,t){m.classes.toggle("arrow-"+e,v(t,g.substr(1,1)))})}},o=function(e){return function(){c.requestAnimationFrame(function(){_.selection&&n(s(_.selection.getNode()),e)})}},t=function(e){var t;if(e.toolbar.panel)return e.toolbar.panel.show(),void n(e);t=v.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:M(_,e.toolbar.items),oncancel:function(){_.focus()}}),B.setUiContainer(_,t),function(e){if(!r){var t=o(!0),n=B.getUiContainer(e);r=_.selection.getScrollContainer()||_.getWin(),I.bind(r,"scroll",t),I.bind(n,"scroll",t),_.on("remove",function(){I.unbind(r,"scroll",t),I.unbind(n,"scroll",t)})}}(t),(e.toolbar.panel=t).renderTo().reflow(),n(e)},a=function(){w.each(i(),function(e){e.panel&&e.panel.hide()})},s=function(e){var t,n,r,o=i();for(t=(r=_.$(e).parents().add(e)).length-1;0<=t;t--)for(n=o.length-1;0<=n;n--)if(o[n].predicate(r[t]))return{toolbar:o[n],element:r[t]};return null};_.on("click keyup setContent ObjectResized",function(e){("setcontent"!==e.type||e.selection)&&c.setEditorTimeout(_,function(){var e;(e=s(_.selection.getNode()))?(a(),t(e)):a()})}),_.on("blur hide contextmenu",a),_.on("ObjectResizeStart",function(){var e=s(_.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()}),_.on("ResizeEditor ResizeWindow",o(!0)),_.on("nodeChange",o(!1)),_.on("remove",function(){w.each(i(),function(e){e.panel&&e.panel.remove()}),_.contextToolbars={}}),_.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",function(){var e=s(_.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()})},H=void 0===(o=Array.prototype.indexOf)?function(e,t){return Y(e,t)}:function(e,t){return o.call(e,t)},U=function(e,t){return-1<H(e,t)},W=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},V=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},K=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},$=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},G=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return D.some(n);return D.none()},Y=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},X=Array.prototype.push,J=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},Z=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},Q=Array.prototype.slice,ee={map:W,each:V,eachr:K,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:$,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=H(e,t);return-1===n?D.none():D.some(n)},foldr:function(e,t,n){return K(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return V(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return D.some(o)}return D.none()},findIndex:G,flatten:J,bind:function(e,t){var n=W(e,t);return J(n)},forall:Z,exists:function(e,t){return G(e,t).isSome()},contains:U,equal:function(e,n){return e.length===n.length&&Z(e,function(e,t){return e===n[t]})},reverse:function(e){var t=Q.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return $(e,function(e){return!U(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=Q.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?D.none():D.some(e[0])},last:function(e){return 0===e.length?D.none():D.some(e[e.length-1])}},te={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck"},table:{title:"Table"},help:{title:"Help"}},ne=function(e,t){return"|"===e?{name:"|",item:{text:"|"}}:t?{name:e,item:t}:null},re=function(e){return e&&"|"===e.item.text},oe=function(n,e,t,o){var r,i,a,s,u,c,l,f;return e?(i=e[o],s=!0):i=te[o],i&&(r={text:i.title},a=[],w.each((i.items||"").split(/[ ,]/),function(e){var t=ne(e,n[e]);t&&a.push(t)}),s||w.each(n,function(e,t){var n,r;e.context!==o||(n=a,r=t,ee.findIndex(n,function(e){return e.name===r}).isSome())||("before"===e.separator&&a.push({name:"|",item:{text:"|"}}),e.prependToContext?a.unshift(ne(t,e)):a.push(ne(t,e)),"after"===e.separator&&a.push({name:"|",item:{text:"|"}}))}),r.menu=ee.map((u=a,c=t,l=ee.filter(u,function(e){return!1===c.hasOwnProperty(e.name)}),f=ee.filter(l,function(e,t,n){return!re(e)||!re(n[t-1])}),ee.filter(f,function(e,t,n){return!re(e)||0<t&&t<n.length-1})),function(e){return e.item}),!r.menu.length)?null:r},ie=function(e){for(var t,n=[],r=function(e){var t,n=[],r=h(e);if(r)for(t in r)n.push(t);else for(t in te)n.push(t);return n}(e),o=w.makeMap((t=e,t.getParam("removed_menuitems","")).split(/[ ,]/)),i=l(e),a="string"==typeof i?i.split(/[ ,]/):r,s=0;s<a.length;s++){var u=a[s],c=oe(e.menuItems,h(e),o,u);c&&n.push(c)}return n},ae=g.DOM,se=function(e){return{width:e.clientWidth,height:e.clientHeight}},ue=function(e,t,n){var r,o,i,a;r=e.getContainer(),o=e.getContentAreaContainer().firstChild,i=se(r),a=se(o),null!==t&&(t=Math.max(e.getParam("min_width",100,"number"),t),t=Math.min(e.getParam("max_width",65535,"number"),t),ae.setStyle(r,"width",t+(i.width-a.width)),ae.setStyle(o,"width",t)),n=Math.max(e.getParam("min_height",100,"number"),n),n=Math.min(e.getParam("max_height",65535,"number"),n),ae.setStyle(o,"height",n),y(e)},ce=ue,le=function(e,t,n){var r=e.getContentAreaContainer();ue(e,r.clientWidth+t,r.clientHeight+n)},fe=tinymce.util.Tools.resolve("tinymce.Env"),de=function(e,t,n){var r,o=e.settings[n];o&&o((r=t.getEl("body"),{element:function(){return r}}))},he=function(l,f,d){return function(e){var t,n,r,o,i,a=e.control,s=a.parents().filter("panel")[0],u=s.find("#"+f)[0],c=(t=d,n=f,w.grep(t,function(e){return e.name===n})[0]);r=f,o=s,i=d,w.each(i,function(e){var t=o.items().filter("#"+e.name)[0];t&&t.visible()&&e.name!==r&&(de(e,t,"onhide"),t.visible(!1))}),a.parent().items().each(function(e){e.active(!1)}),u&&u.visible()?(de(c,u,"onhide"),u.hide(),a.active(!1)):(u?u.show():(u=v.create({type:"container",name:f,layout:"stack",classes:"sidebar-panel",html:""}),s.prepend(u),de(c,u,"onrender")),de(c,u,"onshow"),a.active(!0)),y(l)}},pe=function(e){return!(fe.ie&&!(11<=fe.ie)||!e.sidebars)&&0<e.sidebars.length},me=function(n){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:w.map(n.sidebars,function(e){var t=e.settings;return{type:"button",icon:t.icon,image:t.image,tooltip:t.tooltip,onclick:he(n,e.name,n.sidebars)}})}]}},ge=function(e){var t=function(){e._skinLoaded=!0,a(e)};return function(){e.initialized?t():e.on("init",t)}},ve=g.DOM,be=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},ye=function(t,e,n){var r,o,i,a,s;if(!1===p(t)&&n.skinUiCss?ve.styleSheetLoader.load(n.skinUiCss,ge(t)):ge(t)(),r=e.panel=v.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===f(t)?null:{type:"menubar",border:"0 0 1 0",items:ie(t)},L(t,d(t))]},pe(t)?(a=t,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[be("0"),me(a)]}):be("1 0 0 0")]}),B.setUiContainer(t,r),"none"!==m(t)&&(o={type:"resizehandle",direction:m(t),onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;i={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===m(t)?ce(t,i.width+e.deltaX,i.height+e.deltaY):ce(t,null,i.height+e.deltaY)}}),t.getParam("statusbar",!0,"boolean")){var u=b.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),c=t.getParam("branding",!0,"boolean")?{type:"label",classes:"branding",html:" "+u}:null;r.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},o,c]})}return _(t),t.on("SwitchMode",(s=r,function(e){s.find("*").disabled("readonly"===e.mode)})),r.renderBefore(n.targetNode).reflow(),t.getParam("readonly",!1,"boolean")&&t.setMode("readonly"),n.width&&ve.setStyle(r.getEl(),"width",n.width),t.on("remove",function(){r.remove(),r=null}),x(t,r),q(t),{iframeContainer:r.find("#iframe")[0].getEl(),editorContainer:r.getEl()}},_e=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),we=0,xe={id:function(){return"mceu_"+we++},create:function(e,t,n){var r=document.createElement(e);return g.DOM.setAttribs(r,t),"string"==typeof n?r.innerHTML=n:w.each(n,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return g.DOM.createFragment(e)},getWindowSize:function(){return g.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return g.DOM.getPos(e,t||xe.getContainer())},getContainer:function(){return fe.container?fe.container:document.body},getViewPort:function(e){return g.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return g.DOM.addClass(e,t)},removeClass:function(e,t){return g.DOM.removeClass(e,t)},hasClass:function(e,t){return g.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return g.DOM.toggleClass(e,t,n)},css:function(e,t,n){return g.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return g.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return g.DOM.bind(e,t,n,r)},off:function(e,t,n){return g.DOM.unbind(e,t,n)},fire:function(e,t,n){return g.DOM.fire(e,t,n)},innerHtml:function(e,t){g.DOM.setHTML(e,t)}},Ce=function(e){return"static"===xe.getRuntimeStyle(e,"position")},ke=function(e){return e.state.get("fixed")};function calculateRelativePosition(e,t,n){var r,o,i,a,s,u,c,l,f,d;return f=Se(),i=(o=xe.getPos(t,B.getUiContainer(e))).x,a=o.y,ke(e)&&Ce(document.body)&&(i-=f.x,a-=f.y),r=e.getEl(),s=(d=xe.getSize(r)).width,u=d.height,c=(d=xe.getSize(t)).width,l=d.height,"b"===(n=(n||"").split(""))[0]&&(a+=l),"r"===n[1]&&(i+=c),"c"===n[0]&&(a+=Math.round(l/2)),"c"===n[1]&&(i+=Math.round(c/2)),"b"===n[3]&&(a-=u),"r"===n[4]&&(i-=s),"c"===n[3]&&(a-=Math.round(u/2)),"c"===n[4]&&(i-=Math.round(s/2)),{x:i,y:a,w:s,h:u}}var Se=function(){return{x:0,y:0,w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.defaultView.innerWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.defaultView.innerHeight)}},Ee=function(e){var t,n=B.getUiContainer(e);return n&&!ke(e)?{x:0,y:0,w:(t=n).scrollWidth-1,h:t.scrollHeight-1}:Se()},Te={testMoveRel:function(e,t){for(var n=Ee(this),r=0;r<t.length;r++){var o=calculateRelativePosition(this,e,t[r]);if(ke(this)){if(0<o.x&&o.x+o.w<n.w&&0<o.y&&o.y+o.h<n.h)return t[r]}else if(o.x>n.x&&o.x+o.w<n.w+n.x&&o.y>n.y&&o.y+o.h<n.h+n.y)return t[r]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=calculateRelativePosition(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){var n=this;function constrain(e,t,n){return e<0?0:t<e+n&&(e=t-n)<0?0:e}if(n.settings.constrainToViewport){var r=Ee(this),o=n.layoutRect();e=constrain(e,r.w+r.x,o.w),t=constrain(t,r.h+r.y,o.h)}var i=B.getUiContainer(n);return i&&Ce(i)&&!ke(n)&&(e-=i.scrollLeft,t-=i.scrollTop),i&&(e+=1,t+=1),n.state.get("rendered")?n.layoutRect({x:e,y:t}).repaint():(n.settings.x=e,n.settings.y=t),n.fire("move",{x:e,y:t}),n}},Ae=tinymce.util.Tools.resolve("tinymce.util.Class"),Re=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Ne=function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},De=function(r,e){function getSide(e){var t=parseFloat(function getStyle(e){var t=r.ownerDocument.defaultView;if(t){var n=t.getComputedStyle(r,null);return n?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),n.getPropertyValue(e)):null}return r.currentStyle[e]}(e));return isNaN(t)?0:t}return{top:getSide(e+"TopWidth"),right:getSide(e+"RightWidth"),bottom:getSide(e+"BottomWidth"),left:getSide(e+"LeftWidth")}};function noop$1(){}function ClassList(e){this.cls=[],this.cls._map={},this.onchange=e||noop$1,this.prefix=""}w.extend(ClassList.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),ClassList.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Oe,Be,Pe,Me=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,Le=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Ie=/^\s*|\s*$/g,Fe=Ae.extend({init:function(e){var o=this.match;function compile(e,t,n){var r;function add(e){e&&t.push(e)}return add(function compileNameFilter(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((r=Me.exec(e.replace(Ie,"")))[1])),add(function compileIdFilter(t){if(t)return function(e){return e._name===t}}(r[2])),add(function compileClassesFilter(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}(r[3])),add(function compileAttrFilter(n,r,o){if(n)return function(e){var t=e[n]?e[n]():"";return r?"="===r?t===o:"*="===r?0<=t.indexOf(o):"~="===r?0<=(" "+t+" ").indexOf(" "+o+" "):"!="===r?t!==o:"^="===r?0===t.indexOf(o):"$="===r&&t.substr(t.length-o.length)===o:!!o}}(r[4],r[5],r[6])),add(function compilePsuedoFilter(r){var t;if(r)return(r=/(?:not\((.+)\))|(.+)/i.exec(r))[1]?(t=parseChunks(r[1],[]),function(e){return!o(e,t)}):(r=r[2],function(e,t,n){return"first"===r?0===t:"last"===r?t===n-1:"even"===r?t%2==0:"odd"===r?t%2==1:!!e[r]&&e[r]()})}(r[7])),t.pseudo=!!r[7],t.direct=n,t}function parseChunks(e,t){var n,r,o,i=[];do{if(Le.exec(""),(r=Le.exec(e))&&(e=r[3],i.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&parseChunks(n,t),e=[],o=0;o<i.length;o++)">"!==i[o]&&e.push(compile(i[o],[],">"===i[o-1]));return t.push(e),t}this._selectors=parseChunks(e,[])},match:function(e,t){var n,r,o,i,a,s,u,c,l,f,d,h,p;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(p=e,h=0,o=(i=(a=t[n]).length)-1;0<=o;o--)for(c=a[o];p;){if(c.pseudo)for(l=f=(d=p.parent().items()).length;l--&&d[l]!==p;);for(s=0,u=c.length;s<u;s++)if(!c[s](p,l,f)){s=u+1;break}if(s===u){h++;break}if(o===i-1)break;p=p.parent()}if(h===i)return!0}return!1},find:function(e){var t,n,c=[],r=this._selectors;function collect(e,t,n){var r,o,i,a,s,u=t[n];for(r=0,o=e.length;r<o;r++){for(s=e[r],i=0,a=u.length;i<a;i++)if(!u[i](s,r,o)){i=a+1;break}if(i===a)n===t.length-1?c.push(s):s.items&&collect(s.items(),t,n+1);else if(u.direct)return;s.items&&collect(s.items(),t,n)}}if(e.items){for(t=0,n=r.length;t<n;t++)collect(e.items(),r[t],0);1<n&&(c=function unique(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}(c))}return Oe||(Oe=Fe.Collection),new Oe(c)}}),je=Array.prototype.push,ze=Array.prototype.slice;Pe={length:0,init:function(e){e&&this.add(e)},add:function(e){return w.isArray(e)?je.apply(this,e):e instanceof Be?this.add(e.toArray()):je.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){var e,n,r,o,i=[];for("string"==typeof t?(t=new Fe(t),o=function(e){return t.match(e)}):o=t,e=0,n=this.length;e<n;e++)o(r=this[e])&&i.push(r);return new Be(i)},slice:function(){return new Be(ze.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return w.each(this,e),this},toArray:function(){return w.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new Be(w.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=w.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},w.each("fire on off show hide append prepend before after reflow".split(" "),function(n){Pe[n]=function(){var t=w.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),w.each("text name disabled active selected checked visible parent value data".split(" "),function(t){Pe[t]=function(e){return this.prop(t,e)}}),Be=Ae.extend(Pe);var qe=Fe.Collection=Be,He=function(e){this.create=e.create};He.create=function(o,i){return new He({create:function(t,n){var r,e=function(e){t.set(n,e.value)};return t.on("change:"+n,function(e){o.set(i,e.value)}),o.on("change:"+i,e),(r=t._bindings)||(r=t._bindings=[],t.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){o.off("change:"+i,e)}),o.get(i)}})};var Ue=tinymce.util.Tools.resolve("tinymce.util.Observable");function isNode(e){return 0<e.nodeType}var We,Ve,Ke=Ae.extend({Mixins:[Ue],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof He&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r,o=this.data[e];if(t instanceof He&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return function isEqual(e,t){var n,r;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(w.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!isEqual(e[n],t[n]))return!1}if(isNode(e)||isNode(t))return e===t;for(n in r={},t){if(!isEqual(e[n],t[n]))return!1;r[n]=!0}for(n in e)if(!r[n]&&!isEqual(e[n],t[n]))return!1;return!0}(o,t)||(r={target:this,name:e,value:this.data[e]=t,oldValue:o},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return He.create(this,e)},destroy:function(){this.fire("destroy")}}),$e={},Ge={add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;$e[t._id]||($e[t._id]=t),We||(We=!0,c.requestAnimationFrame(function(){var e,t;for(e in We=!1,$e)(t=$e[e]).state.get("rendered")&&t.reflow();$e={}},document.body))}},remove:function(e){$e[e._id]&&delete $e[e._id]}},Ye="onmousewheel"in document,Xe=!1,Je=0,Ze={Statics:{classPrefix:"mce-"},isRtl:function(){return Ve.rtl},classPrefix:"mce-",init:function(t){var e,n,r=this;function applyClasses(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)r.classes.add(e[t])}r.settings=t=w.extend({},r.Defaults,t),r._id=t.id||"mceu_"+Je++,r._aria={role:t.role},r._elmCache={},r.$=_e,r.state=new Ke({visible:!0,active:!1,disabled:!1,value:""}),r.data=new Ke(t.data),r.classes=new ClassList(function(){r.state.get("rendered")&&(r.getEl().className=this.toString())}),r.classes.prefix=r.classPrefix,(e=t.classes)&&(r.Defaults&&(n=r.Defaults.classes)&&e!==n&&applyClasses(n),applyClasses(e)),w.each("title text name visible disabled active value".split(" "),function(e){e in t&&r[e](t[e])}),r.on("click",function(){if(r.disabled())return!1}),r.settings=t,r.borderBox=Ne(t.border),r.paddingBox=Ne(t.padding),r.marginBox=Ne(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){var e=B.getUiContainer(this);return e||xe.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,o,i,a,s,u,c,l=this,f=l.settings,d=l.getEl();e=l.borderBox=l.borderBox||De(d,"border"),l.paddingBox=l.paddingBox||De(d,"padding"),l.marginBox=l.marginBox||De(d,"margin"),c=xe.getSize(d),s=f.minWidth,u=f.minHeight,o=s||c.width,i=u||c.height,n=f.width,r=f.height,a=void 0!==(a=f.autoResize)?a:!n&&!r,n=n||o,r=r||i;var h=e.left+e.right,p=e.top+e.bottom,m=f.maxWidth||65535,g=f.maxHeight||65535;return l._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:r,deltaW:h,deltaH:p,contentW:n-h,contentH:r-p,innerW:n-h,innerH:r-p,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(o,m),minH:Math.min(i,g),maxW:m,maxH:g,autoResize:a,scrollW:0},l._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,o,i,a=this._layoutRect;return a||(a=this.initLayoutRect()),e?(r=a.deltaW,o=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),void 0!==(n=e.w)&&(n=(n=n<a.minW?a.minW:n)>a.maxW?a.maxW:n,a.w=n,a.innerW=n-r),void 0!==(n=e.h)&&(n=(n=n<a.minH?a.minH:n)>a.maxH?a.maxH:n,a.h=n,a.innerH=n-o),void 0!==(n=e.innerW)&&(n=(n=n<a.minW-r?a.minW-r:n)>a.maxW-r?a.maxW-r:n,a.innerW=n,a.w=n+r),void 0!==(n=e.innerH)&&(n=(n=n<a.minH-o?a.minH-o:n)>a.maxH-o?a.maxH-o:n,a.innerH=n,a.h=n+o),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),(t=this._lastLayoutRect).x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||((i=Ve.repaintControls)&&i.map&&!i.map[this._id]&&(i.push(this),i.map[this._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),this):a},repaint:function(){var e,t,n,r,o,i,a,s,u,c,l=this;u=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,r=l._layoutRect,s=l._lastRepaintRect||{},i=(o=l.borderBox).left+o.right,a=o.top+o.bottom,r.x!==s.x&&(e.left=u(r.x)+"px",s.x=r.x),r.y!==s.y&&(e.top=u(r.y)+"px",s.y=r.y),r.w!==s.w&&(c=u(r.w-i),e.width=(0<=c?c:0)+"px",s.w=r.w),r.h!==s.h&&(c=u(r.h-a),e.height=(0<=c?c:0)+"px",s.h=r.h),l._hasBody&&r.innerW!==s.innerW&&(c=u(r.innerW),(n=l.getEl("body"))&&((t=n.style).width=(0<=c?c:0)+"px"),s.innerW=r.innerW),l._hasBody&&r.innerH!==s.innerH&&(c=u(r.innerH),(n=n||l.getEl("body"))&&((t=t||n.style).height=(0<=c?c:0)+"px"),s.innerH=r.innerH),l._lastRepaintRect=s,l.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,xe.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(e,t){var i=this;return getEventDispatcher(i).on(e,function resolveCallbackName(n){var r,o;return"string"!=typeof n?n:function(e){return r||i.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(r=t[n]))return o=e,!1}),r?r.call(o,e):(e.action=n,void this.fire("execute",e))}}(t)),i},off:function(e,t){return getEventDispatcher(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=getEventDispatcher(this).fire(e,t),!1!==n&&this.parent)for(var r=this.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return getEventDispatcher(this).has(e)},parents:function(e){var t,n=new qe;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new qe(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=_e("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this.state.get("rendered")&&n.setAttribute("role"===e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return Ve.translate?Ve.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,e,n=this,r=n.getEl(),o=n.parent();if(n.items){var i=n.items().toArray();for(e=i.length;e--;)i[e].remove()}o&&o.items&&(t=[],o.items().each(function(e){e!==n&&t.push(e)}),o.items().set(t),o._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&_e(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return _e(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return _e(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,o,i=this,a=i.settings;for(r in i.$el=_e(i.getEl()),i.state.set("rendered",!0),a)0===r.indexOf("on")&&i.on(r.substr(2),a[r]);if(i._eventsRoot){for(n=i.parent();!o&&n;n=n.parent())o=n._eventsRoot;if(o)for(r in o._nativeEvents)i._nativeEvents[r]=!0}bindPendingEvents(i),a.style&&(e=i.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),i.settings.border&&(t=i.borderBox,i.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=i.getRoot();for(var u in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[i._id]=i)._aria)i.aria(u,i._aria[u]);!1===i.state.get("visible")&&(i.getEl().style.display="none"),i.bindStates(),i.state.on("change:visible",function(e){var t,n=e.value;i.state.get("rendered")&&(i.getEl().style.display=!1===n?"none":"",i.getEl().getBoundingClientRect()),(t=i.parent())&&(t._lastRect=null),i.fire(n?"show":"hide"),Ge.add(i)}),i.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){var t,n,r,o,i,a,s=this.getEl(),u=s.parentNode,c=function getOffset(e,t){var n,r,o=e;for(n=r=0;o&&o!==t&&o.nodeType;)n+=o.offsetLeft||0,r+=o.offsetTop||0,o=o.offsetParent;return{x:n,y:r}}(s,u);return t=c.x,n=c.y,r=s.offsetWidth,o=s.offsetHeight,i=u.clientWidth,a=u.clientHeight,"end"===e?(t-=i-r,n-=a-o):"center"===e&&(t-=i/2-r/2,n-=a/2-o/2),u.scrollLeft=t,u.scrollTop=n,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){Ge.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};function getEventDispatcher(n){return n._eventDispatcher||(n._eventDispatcher=new Re({scope:n,toggleEvent:function(e,t){t&&Re.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&bindPendingEvents(n))}})),n._eventDispatcher}function bindPendingEvents(s){var e,t,n,u,r,o;function delegate(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function mouseLeaveHandler(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function mouseEnterHandler(e){var t,n,r,o=s.getParentCtrl(e.target),i=u._lastHoverCtrl,a=0;if(o!==i){if((n=(u._lastHoverCtrl=o).parents().toArray().reverse()).push(o),i){for((r=i.parents().toArray().reverse()).push(i),a=0;a<r.length&&n[a]===r[a];a++);for(t=r.length-1;a<=t;t--)(i=r[t]).fire("mouseleave",{target:i.getEl()})}for(t=a;t<n.length;t++)(o=n[t]).fire("mouseenter",{target:o.getEl()})}}function fixWheelEvent(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}if(r=s._nativeEvents){for((n=s.parents().toArray()).unshift(s),e=0,t=n.length;!u&&e<t;e++)u=n[e]._eventsRoot;for(u||(u=n[n.length-1]||s),s._eventsRoot=u,t=e,e=0;e<t;e++)n[e]._eventsRoot=u;var i=u._delegates;for(o in i||(i=u._delegates={}),r){if(!r)return!1;"wheel"!==o||Xe?("mouseenter"===o||"mouseleave"===o?u._hasMouseEnter||(_e(u.getEl()).on("mouseleave",mouseLeaveHandler).on("mouseover",mouseEnterHandler),u._hasMouseEnter=1):i[o]||(_e(u.getEl()).on(o,delegate),i[o]=!0),r[o]=!1):Ye?_e(s.getEl()).on("mousewheel",fixWheelEvent):_e(s.getEl()).on("DOMMouseScroll",fixWheelEvent)}}}w.each("text title visible disabled active value".split(" "),function(t){Ze[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}});var Qe=Ve=Ae.extend(Ze),et=function(e){return!!e.getAttribute("data-mce-tabstop")};function KeyboardNavigation(e){var i,o,t=e.root;function isElement(e){return e&&1===e.nodeType}try{i=document.activeElement}catch(e){i=document.body}function getRole(e){return isElement(e=e||i)?e.getAttribute("role"):null}function getParentRole(e){for(var t,n=e||i;n=n.parentNode;)if(t=getRole(n))return t}function getAriaProp(e){var t=i;if(isElement(t))return t.getAttribute("aria-"+e)}function isTextInputElement(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function getFocusElements(e){var n=[];return function collect(e){if(1===e.nodeType&&"none"!==e.style.display&&!e.disabled){(function canFocus(e){return!(!isTextInputElement(e)||e.hidden)||!!et(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(e))})(e)&&n.push(e);for(var t=0;t<e.childNodes.length;t++)collect(e.childNodes[t])}}(e||t.getEl()),n}function getNavigationRoot(e){var t,n;(n=(e=e||o).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function moveFocusToIndex(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function moveFocus(e,t){var n=-1,r=getNavigationRoot();t=t||getFocusElements(r.getEl());for(var o=0;o<t.length;o++)t[o]===i&&(n=o);n+=e,r.lastAriaIndex=moveFocusToIndex(n,t)}function left(){"tablist"===getParentRole()?moveFocus(-1,getFocusElements(i.parentNode)):o.parent().submenu?cancel():moveFocus(-1)}function right(){var e=getRole(),t=getParentRole();"tablist"===t?moveFocus(1,getFocusElements(i.parentNode)):"menuitem"===e&&"menu"===t&&getAriaProp("haspopup")?enter():moveFocus(1)}function up(){moveFocus(-1)}function down(){var e=getRole(),t=getParentRole();"menuitem"===e&&"menubar"===t?enter():"button"===e&&getAriaProp("haspopup")?enter({key:"down"}):moveFocus(1)}function cancel(){o.fire("cancel")}function enter(e){e=e||{},o.fire("click",{target:i,aria:e})}return o=t.getParentCtrl(i),t.on("keydown",function(e){function handleNonTabOrEscEvent(e,t){isTextInputElement(i)||et(i)||"slider"!==getRole(i)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:handleNonTabOrEscEvent(e,left);break;case 39:handleNonTabOrEscEvent(e,right);break;case 38:handleNonTabOrEscEvent(e,up);break;case 40:handleNonTabOrEscEvent(e,down);break;case 27:cancel();break;case 14:case 13:case 32:handleNonTabOrEscEvent(e,enter);break;case 9:!function tab(e){if("tablist"===getParentRole()){var t=getFocusElements(o.getEl("body"))[0];t&&t.focus()}else moveFocus(e.shiftKey?-1:1)}(e),e.preventDefault()}}),t.on("focusin",function(e){i=e.target,o=e.control}),{focusFirst:function focusFirst(e){var t=getNavigationRoot(e),n=getFocusElements(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?moveFocusToIndex(t.lastAriaIndex,n):moveFocusToIndex(0,n)}}}var tt={},nt=Qe.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new qe,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new ClassList(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=v.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=tt[e]=tt[e]||new Fe(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,r;if(!e||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return r=this.find("*"),this.statusbar&&r.add(this.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),this;n.focusFirst(this)},replace:function(e,t){for(var n,r=this.items(),o=r.length;o--;)if(r[o]===e){r[o]=t;break}0<=o&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return w.isArray(e)||(e=[e]),w.each(e,function(e){e&&(e instanceof Qe||("string"==typeof e&&(e={type:e}),t=w.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=v.create(t)),r.push(e))}),r},renderNew:function(){var r=this;return r.items().each(function(e,t){var n;e.parent(r),e.state.get("rendered")||((n=r.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?_e(n.childNodes[t]).before(e.renderHtml()):_e(n).append(e.renderHtml()),e.postRender(),Ge.add(e))}),r._layout.applyClasses(r.items().filter(":visible")),r._lastRect=null,r},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var r,o,i;return e=this.create(e),r=this.items(),!n&&t<r.length-1&&(t+=1),0<=t&&t<r.length&&(o=r.slice(0,t).toArray(),i=r.slice(t).toArray(),r.set(o.concat(e,i))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var r={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(r[t]=n)}),r},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=KeyboardNavigation({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;if(!t||t.w!==e.w||t.h!==e.h)return this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(Ge.remove(this),this.visible()){for(Qe.repaintControls=[],Qe.repaintControls.map={},this.recalc(),e=Qe.repaintControls.length;e--;)Qe.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Qe.repaintControls=[]}return this}});function updateWithTouchData(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function DragHelper(e,o){var i,a,t,s,u,c,l,f=o.document||document;o=o||{};var d=f.getElementById(o.handle||e);t=function(e){var t,n,r=function getDocumentSize(e){var t,n,r,o,i,a,s,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),o=u(t.clientWidth,n.clientWidth),i=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),{width:r<i?o:r,height:a<u(t.offsetHeight,n.offsetHeight)?s:a}}(f);updateWithTouchData(e),e.preventDefault(),a=e.button,t=d,c=e.screenX,l=e.screenY,n=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor,i=_e("<div></div>").css({position:"absolute",top:0,left:0,width:r.width,height:r.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(f.body),_e(f).on("mousemove touchmove",u).on("mouseup touchend",s),o.start(e)},u=function(e){if(updateWithTouchData(e),e.button!==a)return s(e);e.deltaX=e.screenX-c,e.deltaY=e.screenY-l,e.preventDefault(),o.drag(e)},s=function(e){updateWithTouchData(e),_e(f).off("mousemove touchmove",u).off("mouseup touchend",s),i.remove(),o.stop&&o.stop(e)},this.destroy=function(){_e(d).off()},_e(d).on("mousedown touchstart",t)}var rt,ot,it,at,st={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var g=this,v=2;function repaintScroll(){var p,m,e;function repaintAxis(e,t,n,r,o,i){var a,s,u,c,l,f,d,h;if(s=g.getEl("scroll"+e)){if(d=t.toLowerCase(),h=n.toLowerCase(),_e(g.getEl("absend")).css(d,g.layoutRect()[r]-1),!o)return void _e(s).css("display","none");_e(s).css("display","block"),a=g.getEl("body"),u=g.getEl("scroll"+e+"t"),c=a["client"+n]-2*v,l=(c-=p&&m?s["client"+i]:0)/a["scroll"+n],(f={})[d]=a["offset"+t]+v,f[h]=c,_e(s).css(f),(f={})[d]=a["scroll"+t]*l,f[h]=c*l,_e(u).css(f)}}e=g.getEl("body"),p=e.scrollWidth>e.clientWidth,m=e.scrollHeight>e.clientHeight,repaintAxis("h","Left","Width","contentW",p,"Height"),repaintAxis("v","Top","Height","contentH",m,"Width")}g.settings.autoScroll&&(g._hasScroll||(g._hasScroll=!0,function addScroll(){function addScrollAxis(a,s,u,c,l){var f,e=g._id+"-scroll"+a,t=g.classPrefix;_e(g.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),g.draghelper=new DragHelper(e+"t",{start:function(){f=g.getEl("body")["scroll"+s],_e("#"+e).addClass(t+"active")},drag:function(e){var t,n,r,o,i=g.layoutRect();n=i.contentW>i.innerW,r=i.contentH>i.innerH,o=g.getEl("body")["client"+u]-2*v,t=(o-=n&&r?g.getEl("scroll"+a)["client"+l]:0)/g.getEl("body")["scroll"+u],g.getEl("body")["scroll"+s]=f+e["delta"+c]/t},stop:function(){_e("#"+e).removeClass(t+"active")}})}g.classes.add("scroll"),addScrollAxis("v","Top","Height","Y","Width"),addScrollAxis("h","Left","Width","X","Height")}(),g.on("wheel",function(e){var t=g.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,repaintScroll()}),_e(g.getEl("body")).on("scroll",repaintScroll)),repaintScroll())}},ut=nt.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[st],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),ct={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=xe.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}},lt=[],ft=[];function isChildOf(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function bindDocumentClickHandler(){rt||(rt=function(e){2!==e.button&&function skipOrHidePanels(e){for(var t=lt.length;t--;){var n=lt[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(isChildOf(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}(e)},_e(document).on("click touchstart",rt))}function repositionPanel(o){var e=xe.getViewPort().y;function toggleFixedChildPanels(e,t){for(var n,r=0;r<lt.length;r++)if(lt[r]!==o)for(n=lt[r].parent();n&&(n=n.parent());)n===o&&lt[r].fixed(e).moveBy(0,t).repaint()}o.settings.autofix&&(o.state.get("fixed")?o._autoFixY>e&&(o.fixed(!1).layoutRect({y:o._autoFixY}).repaint(),toggleFixedChildPanels(!1,o._autoFixY-e)):(o._autoFixY=o.layoutRect().y,o._autoFixY<e&&(o.fixed(!0).layoutRect({y:0}).repaint(),toggleFixedChildPanels(!0,e-o._autoFixY))))}function addRemove(e,t){var n,r,o=dt.zIndex||65535;if(e)ft.push(t);else for(n=ft.length;n--;)ft[n]===t&&ft.splice(n,1);if(ft.length)for(n=0;n<ft.length;n++)ft[n].modal&&(o++,r=ft[n]),ft[n].getEl().style.zIndex=o,ft[n].zIndex=o,o++;var i=_e("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?_e(i).css("z-index",r.zIndex-1):i&&(i.parentNode.removeChild(i),at=!1),dt.currentZIndex=o}var dt=ut.extend({Mixins:[Te,ct],init:function(e){var r=this;r._super(e),(r._eventsRoot=r).classes.add("floatpanel"),e.autohide&&(bindDocumentClickHandler(),function bindWindowResizeHandler(){if(!it){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;it=function(){document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,dt.hideAll())},_e(window).on("resize",it)}}(),lt.push(r)),e.autofix&&(function bindDocumentScrollHandler(){ot||(ot=function(){var e;for(e=lt.length;e--;)repositionPanel(lt[e])},_e(window).on("scroll",ot))}(),r.on("move",function(){repositionPanel(this)})),r.on("postrender show",function(e){if(e.control===r){var t,n=r.classPrefix;r.modal&&!at&&((t=_e("#"+n+"modal-block",r.getContainerElm()))[0]||(t=_e('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(r.getContainerElm())),c.setTimeout(function(){t.addClass(n+"in"),_e(r.getEl()).addClass(n+"in")}),at=!0),addRemove(!0,r)}}),r.on("show",function(){r.parents().each(function(e){if(e.state.get("fixed"))return r.fixed(!0),!1})}),e.popover&&(r._preBodyHtml='<div class="'+r.classPrefix+'arrow"></div>',r.classes.add("popover").add("bottom").add(r.isRtl()?"end":"start")),r.aria("label",e.ariaLabel),r.aria("labelledby",r._id),r.aria("describedby",r.describedBy||r._id+"-none")},fixed:function(e){if(this.state.get("fixed")!==e){if(this.state.get("rendered")){var t=xe.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.classes.toggle("fixed",e),this.state.set("fixed",e)}return this},show:function(){var e,t=this._super();for(e=lt.length;e--&&lt[e]!==this;);return-1===e&&lt.push(this),t},hide:function(){return removeVisiblePanel(this),addRemove(!1,this),this._super()},hideAll:function(){dt.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),addRemove(!1,this)),this},remove:function(){removeVisiblePanel(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function removeVisiblePanel(e){var t;for(t=lt.length;t--;)lt[t]===e&&lt.splice(t,1);for(t=ft.length;t--;)ft[t]===e&&ft.splice(t,1)}dt.hideAll=function(){for(var e=lt.length;e--;){var t=lt[e];t&&t.settings.autohide&&(t.hide(),lt.splice(e,1))}};var ht=function(e,t){return!(!e||t.settings.ui_container)},pt=function(a,e,t){var s,n,u=g.DOM,r=a.getParam("fixed_toolbar_container");r&&(n=u.select(r)[0]);var o=function(){if(s&&s.moveRel&&s.visible()&&!s._fixed){var e=a.selection.getScrollContainer(),t=a.getBody(),n=0,r=0;if(e){var o=u.getPos(t),i=u.getPos(e);n=Math.max(0,i.x-o.x),r=Math.max(0,i.y-o.y)}s.fixed(!1).moveRel(t,a.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(n,r)}},i=function(){s&&(s.show(),o(),u.addClass(a.getBody(),"mce-edit-focus"))},c=function(){s&&(s.hide(),dt.hideAll(),u.removeClass(a.getBody(),"mce-edit-focus"))},l=function(){s?s.visible()||i():(s=e.panel=v.create({type:n?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:ht(n,a),fixed:ht(n,a),border:1,items:[!1===f(a)?null:{type:"menubar",border:"0 0 1 0",items:ie(a)},L(a,d(a))]}),B.setUiContainer(a,s),_(a),n?s.renderTo(n).reflow():s.renderTo().reflow(),x(a,s),i(),q(a),a.on("nodeChange",o),a.on("ResizeWindow",o),a.on("activate",i),a.on("deactivate",c),a.nodeChanged())};return a.settings.content_editable=!0,a.on("focus",function(){!1===p(a)&&t.skinUiCss?u.styleSheetLoader.load(t.skinUiCss,l,l):l()}),a.on("blur hide",c),a.on("remove",function(){s&&(s.remove(),s=null)}),!1===p(a)&&t.skinUiCss?u.styleSheetLoader.load(t.skinUiCss,ge(a)):ge(a)(),{}};function Throbber(n,r){var o,i,a=this,s=Qe.classPrefix;a.show=function(e,t){function render(){o&&(_e(n).append('<div class="'+s+"throbber"+(r?" "+s+"throbber-inline":"")+'"></div>'),t&&t())}return a.hide(),o=!0,e?i=c.setTimeout(render,e):render(),a},a.hide=function(){var e=n.lastChild;return c.clearTimeout(i),e&&-1!==e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,a}}var mt=function(e,t){var n;e.on("ProgressState",function(e){n=n||new Throbber(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},gt=function(e,t,n){var r=function(e){var t=e.settings,n=t.skin,r=t.skin_url;if(!1!==n){var o=n||"lightgray";r=r?e.documentBaseURI.toAbsolute(r):u.baseURL+"/skins/"+o}return r}(e);return r&&(n.skinUiCss=r+"/skin.min.css",e.contentCSS.push(r+"/content"+(e.inline?".inline":"")+".min.css")),mt(e,t),e.getParam("inline",!1,"boolean")?pt(e,t,n):ye(e,t,n)},vt=Qe.extend({Mixins:[Te],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),bt=Qe.extend({init:function(r){var o=this;o._super(r),r=o.settings,o.canFocus=!0,r.tooltip&&!1!==bt.tooltips&&(o.on("mouseenter",function(e){var t=o.tooltip().moveTo(-65535);if(e.control===o){var n=t.text(r.tooltip).show().testMoveRel(o.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===n),t.classes.toggle("tooltip-nw","bc-tl"===n),t.classes.toggle("tooltip-ne","bc-tr"===n),t.moveRel(o.getEl(),n)}else t.hide()}),o.on("mouseleave mousedown click",function(){o.tooltip().remove(),o._tooltip=null})),o.aria("label",r.ariaLabel||r.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new vt({type:"tooltip"}),B.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this.settings;this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},bindStates:function(){var t=this;function disable(e){t.aria("disabled",e),t.classes.toggle("disabled",e)}function active(e){t.aria("pressed",e),t.classes.toggle("active",e)}return t.state.on("change:disabled",function(e){disable(e.value)}),t.state.on("change:active",function(e){active(e.value)}),t.state.get("disabled")&&disable(!0),t.state.get("active")&&active(!0),t._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),yt=bt.extend({Defaults:{value:0},init:function(e){this._super(e),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div class="'+t+'bar-container"><div class="'+t+'bar"></div></div><div class="'+t+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var t=this;function setValue(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}return t.state.on("change:value",function(e){setValue(e.value)}),setValue(t.state.get("value")),t._super()}}),_t=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},wt=Qe.extend({Mixins:[Te],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new yt),t.on("click",function(e){-1!==e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e,t=this,n=t.classPrefix,r="",o="",i="";return t.icon&&(r='<i class="'+n+"ico "+n+"i-"+t.icon+'"></i>'),e=' style="max-width: '+t.maxWidth+"px;"+(t.color?"background-color: "+t.color+';"':'"'),t.closeButton&&(o='<button type="button" class="'+n+'close" aria-hidden="true">\xd7</button>'),t.progressBar&&(i=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+e+' role="presentation">'+r+'<div class="'+n+'notification-inner">'+t.state.get("text")+"</div>"+i+o+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return c.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),_t(e,e.state.get("text"))},100),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().firstChild.innerHTML=e.value,_t(t,e.value)}),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",function(e){_t(t,t.state.get("text"))})),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}});function NotificationManagerImpl(i){var a=function(e){return e.inline?e.getElement():e.getContentAreaContainer()};return{open:function(e,t){var n,r=w.extend(e,{maxWidth:(n=a(i),xe.getSize(n).width)}),o=new wt(r);return 0<(o.args=r).timeout&&(o.timer=setTimeout(function(){o.close(),t()},r.timeout)),o.on("close",function(){t()}),o.renderTo(),o},close:function(e){e.close()},reposition:function(e){var t;t=e,ee.each(t,function(e){e.moveTo(0,0)}),function(n){if(0<n.length){var e=n.slice(0,1)[0],t=a(i);e.moveRel(t,"tc-tc"),ee.each(n,function(e,t){0<t&&e.moveRel(n[t-1].getEl(),"bc-tc")})}}(e)},getArgs:function(e){return e.args}}}var xt=[],Ct="";function toggleFullScreenState(e){var t,n=_e("meta[name=viewport]")[0];!1!==fe.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(t=n.getAttribute("content"))&&void 0!==Ct&&(Ct=t),n.setAttribute("content",e?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Ct))}function toggleBodyFullScreenClasses(e,t){(function checkFullscreenWindows(){for(var e=0;e<xt.length;e++)if(xt[e]._fullscreen)return!0;return!1})()&&!1===t&&_e([document.documentElement,document.body]).removeClass(e+"fullscreen")}var kt=dt.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new ut({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(xe.hasClass(e.target,t)||xe.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,r,o=this,i=o.statusbar;o._fullscreen&&(o.layoutRect(xe.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:n}),r=!0),i&&(i.layoutRect({w:o.layoutRect().innerW}).recalc(),(t=i.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:n}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var r=xe.getSize(e);t.headerW=r.width,t.headerH=r.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var o=xe.getWindowSize();return t.x=this.settings.x||Math.max(0,o.w/2-t.w/2),t.y=this.settings.y||Math.max(0,o.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,o=e.settings,i="",a="",s=o.html;return e.preRender(),t.preRender(e),o.title&&(i='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(o.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),o.url&&(s='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+i+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,r=this,o=document.documentElement,i=r.classPrefix;if(e!==r._fullscreen)if(_e(window).on("resize",function(){var e;if(r._fullscreen)if(n)r._timer||(r._timer=c.setTimeout(function(){var e=xe.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var t=xe.getWindowSize();r.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=r.layoutRect(),r._fullscreen=e){r._initial={x:t.x,y:t.y,w:t.w,h:t.h},r.borderBox=Ne("0"),r.getEl("head").style.display="none",t.deltaH-=t.headerH+2,_e([o,document.body]).addClass(i+"fullscreen"),r.classes.add("fullscreen");var a=xe.getWindowSize();r.moveTo(0,0).resizeTo(a.w,a.h)}else r.borderBox=Ne(r.settings.border),r.getEl("head").style.display="",t.deltaH+=t.headerH,_e([o,document.body]).removeClass(i+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new DragHelper(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),xt.push(n),toggleFullScreenState(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),toggleBodyFullScreenClasses(this.classPrefix,!1),e=xt.length;e--;)xt[e]===this&&xt.splice(e,1);toggleFullScreenState(0<xt.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});!function handleWindowResize(){if(!fe.desktop){var n={w:window.innerWidth,h:window.innerHeight};c.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;n.w===e&&n.h===t||(n={w:e,h:t},_e(window).trigger("resize"))},100)}_e(window).on("resize",function reposition(){var e,t,n=xe.getWindowSize();for(e=0;e<xt.length;e++)t=xt[e].layoutRect(),xt[e].moveTo(xt[e].settings.x||Math.max(0,n.w/2-t.w/2),xt[e].settings.y||Math.max(0,n.h/2-t.h/2))})}();var St,Et=kt.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var t,r=e.callback||function(){};function createButton(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}switch(e.buttons){case Et.OK_CANCEL:t=[createButton("Ok",!0,!0),createButton("Cancel",!1)];break;case Et.YES_NO:case Et.YES_NO_CANCEL:t=[createButton("Yes",1,!0),createButton("No",0)],e.buttons===Et.YES_NO_CANCEL&&t.push(createButton("Cancel",-1));break;default:t=[createButton("Ok",!0,!0)]}return new kt({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:t,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,Et.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=Et.OK_CANCEL,Et.msgBox(e)}}}),Tt=function(n){return{renderUI:function(e){return gt(n,this,e)},resizeTo:function(e,t){return ce(n,e,t)},resizeBy:function(e,t){return le(n,e,t)},getNotificationManagerImpl:function(){return NotificationManagerImpl(n)},getWindowManagerImpl:function(){return function WindowManagerImpl(e){return{open:function(n,e,t){var r;return n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),(r=new kt(n)).on("close",function(){t(r)}),n.data&&r.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),r.features=n||{},r.params=e||{},r=r.renderTo(document.body).reflow()},alert:function(e,t,n){var r;return(r=Et.alert(e,function(){t()})).on("close",function(){n(r)}),r},confirm:function(e,t,n){var r;return(r=Et.confirm(e,function(e){t(e)})).on("close",function(){n(r)}),r},close:function(e){e.close()},getParams:function(e){return e.params},setParams:function(e,t){e.params=t}}}()}}},At=Ae.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=w.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,o,i=this.settings;t=i.firstControlClass,n=i.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(i.controlClass),e.visible()&&(r||(r=e),o=e)}),r&&r.classes.add(t),o&&o.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Rt=At.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Nt=bt.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this._id,r=this.classPrefix,o=this.state.get("icon"),i=this.state.get("text"),a="",s=this.settings;return(e=s.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i&&(this.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+this.encode(i)+"</span>"),o=o?r+"ico "+r+"i-"+o:"",t="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+n+'" class="'+this.classes+'" tabindex="-1"'+t+'><button id="'+n+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){var i=this,n=i.$,r=i.classPrefix+"txt";function setButtonText(e){var t=n("span."+r,i.getEl());e?(t[0]||(n("button:first",i.getEl()).append('<span class="'+r+'"></span>'),t=n("span."+r,i.getEl())),t.html(i.encode(e))):t.remove(),i.classes.toggle("btn-has-text",!!e)}return i.state.on("change:text",function(e){setButtonText(e.value)}),i.state.on("change:icon",function(e){var t=e.value,n=i.classPrefix;t=(i.settings.icon=t)?n+"ico "+n+"i-"+i.settings.icon:"";var r=i.getEl().firstChild,o=r.getElementsByTagName("i")[0];t?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=t):o&&r.removeChild(o),setButtonText(i.state.get("text"))}),i._super()}}),Dt=Nt.extend({init:function(e){e=w.extend({text:"Browse...",multiple:!1,accept:null},e),this._super(e),this.classes.add("browsebutton"),e.multiple&&this.classes.add("multiple")},postRender:function(){var n=this,t=xe.create("input",{type:"file",id:n._id+"-browse",accept:n.settings.accept});n._super(),_e(t).on("change",function(e){var t=e.target.files;n.value=function(){return t.length?n.settings.multiple?t:t[0]:null},e.preventDefault(),t.length&&n.fire("change",e)}),_e(t).on("click",function(e){e.stopPropagation()}),_e(n.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),n.getEl().appendChild(t)},remove:function(){_e(this.getEl("button")).off(),_e(this.getEl("input")).off(),this._super()}}),Ot=nt.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.classes.add("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}}),Bt=bt.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var i=this;function checked(e){i.classes.toggle("checked",e),i.aria("checked",e)}return i.state.on("change:text",function(e){i.getEl("al").firstChild.data=i.translate(e.value)}),i.state.on("change:checked change:value",function(e){i.fire("change"),checked(e.value)}),i.state.on("change:icon",function(e){var t=e.value,n=i.classPrefix;if(void 0===t)return i.settings.icon;t=(i.settings.icon=t)?n+"ico "+n+"i-"+i.settings.icon:"";var r=i.getEl().firstChild,o=r.getElementsByTagName("i")[0];t?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=t):o&&r.removeChild(o)}),i.state.get("checked")&&checked(!0),i._super()}}),Pt=tinymce.util.Tools.resolve("tinymce.util.VK"),Mt=bt.extend({init:function(r){var o=this;o._super(r),r=o.settings,o.classes.add("combobox"),o.subinput=!0,o.ariaTarget="inp",r.menu=r.menu||r.values,r.menu&&(r.icon="caret"),o.on("click",function(e){var t=e.target,n=o.getEl();if(_e.contains(n,t)||t===n)for(;t&&t!==n;)t.id&&-1!==t.id.indexOf("-open")&&(o.fire("action"),r.menu&&(o.showMenu(),e.aria&&o.menu.items()[0].focus())),t=t.parentNode}),o.on("keydown",function(e){var t;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),o.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),o.fire("submit",{data:t.toJSON()}))}),o.on("keyup",function(e){if("INPUT"===e.target.nodeName){var t=o.state.get("value"),n=e.target.value;n!==t&&(o.state.set("value",n),o.fire("autocomplete",e))}}),o.on("mouseover",function(e){var t=o.tooltip().moveTo(-65535);if(o.statusLevel()&&-1!==e.target.className.indexOf(o.classPrefix+"status")){var n=o.statusMessage()||"Ok",r=t.text(n).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"===r),t.classes.toggle("tooltip-nw","bc-tl"===r),t.classes.toggle("tooltip-ne","bc-tr"===r),t.moveRel(e.target,r)}})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=v.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this.getEl(),r=this.getEl("open"),o=this.layoutRect(),i=0,a=n.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(i=parseInt(xe.getRuntimeStyle(a,"padding-right"),10)-parseInt(xe.getRuntimeStyle(a,"padding-left"),10)),e=r?o.w-xe.getSize(r).width-10:o.w-10;var s=document;return s.all&&(!s.documentMode||s.documentMode<=8)&&(t=this.layoutRect().h-2+"px"),_e(a).css({width:e-i,lineHeight:t}),this._super(),this},postRender:function(){var t=this;return _e(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n,r=this,o=r._id,i=r.settings,a=r.classPrefix,s=r.state.get("value")||"",u="",c="";return"spellcheck"in i&&(c+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(c+=' maxlength="'+i.maxLength+'"'),i.size&&(c+=' size="'+i.size+'"'),i.subtype&&(c+=' type="'+i.subtype+'"'),n='<i id="'+o+'-status" class="mce-status mce-ico" style="display: none"></i>',r.disabled()&&(c+=' disabled="disabled"'),(e=i.icon)&&"caret"!==e&&(e=a+"ico "+a+"i-"+i.icon),t=r.state.get("text"),(e||t)&&(u='<div id="'+o+'-open" class="'+a+"btn "+a+'open" tabIndex="-1" role="button"><button id="'+o+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+a+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",r.classes.add("has-open")),'<div id="'+o+'" class="'+r.classes+'"><input id="'+o+'-inp" class="'+a+'textbox" value="'+r.encode(s,!1)+'" hidefocus="1"'+c+' placeholder="'+r.encode(i.placeholder)+'" />'+n+u+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,r){var o=this;if(0!==e.length){o.menu?o.menu.items().remove():o.menu=v.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(o).renderTo(),w.each(e,function(e){var t,n;o.menu.add({text:e.title,url:e.previewUrl,match:r,classes:"menu-item-ellipsis",onclick:(t=e.value,n=e.title,function(){o.fire("selectitem",{title:n,value:t})})})}),o.menu.renderNew(),o.hideMenu(),o.menu.on("cancel",function(e){e.control.parent()===o.menu&&(e.stopPropagation(),o.focus(),o.hideMenu())}),o.menu.on("select",function(){o.focus()});var t=o.layoutRect().w;o.menu.layoutRect({w:t,minW:0,maxW:t}),o.menu.repaint(),o.menu.reflow(),o.menu.show(),o.menu.moveRel(o.getEl(),o.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else o.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var o=this;o.state.on("change:value",function(e){o.getEl("inp").value!==e.value&&(o.getEl("inp").value=e.value)}),o.state.on("change:disabled",function(e){o.getEl("inp").disabled=e.value}),o.state.on("change:statusLevel",function(e){var t=o.getEl("status"),n=o.classPrefix,r=e.value;xe.css(t,"display","none"===r?"none":""),xe.toggleClass(t,n+"i-checkmark","ok"===r),xe.toggleClass(t,n+"i-warning","warn"===r),xe.toggleClass(t,n+"i-error","error"===r),o.classes.toggle("has-status","none"!==r),o.repaint()}),xe.on(o.getEl("status"),"mouseleave",function(){o.tooltip().hide()}),o.on("cancel",function(e){o.menu&&o.menu.visible()&&(e.stopPropagation(),o.hideMenu())});var n=function(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()};return o.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===Pt.DOWN?(e.preventDefault(),o.fire("autocomplete"),n(0,o.menu)):t===Pt.UP&&(e.preventDefault(),n(-1,o.menu)))}),o._super()},remove:function(){_e(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),Lt=Mt.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(e){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}}),It=Nt.extend({showPanel:function(){var t=this,e=t.settings;if(t.classes.add("opened"),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new dt(n).on("hide",function(){t.classes.remove("opened")}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}var r=t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl"]));t.panel.classes.toggle("start","bc-tl"===r),t.panel.classes.toggle("end","bc-tr"===r),t.panel.moveRel(t.getEl(),r)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),Ft=g.DOM,jt=It.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),o=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",i=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+i+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"===e.aria.key||e.control!==t||Ft.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}}),zt=tinymce.util.Tools.resolve("tinymce.util.Color"),qt=bt.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){var n,r,o,i,a,s=this,u=s.color();function getPos(e,t){var n,r,o=xe.getPos(e);return n=t.pageX-o.x,r=t.pageY-o.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:r=Math.max(0,Math.min(r/e.clientHeight,1))}}function updateColor(e,t){var n=(360-e.h)/360;xe.css(o,{top:100*n+"%"}),t||xe.css(a,{left:e.s+"%",top:100-e.v+"%"}),i.style.background=zt({s:100,v:100,h:e.h}).toHex(),s.color().parse({s:e.s,v:e.v,h:e.h})}function updateSaturationAndValue(e){var t;t=getPos(i,e),n.s=100*t.x,n.v=100*(1-t.y),updateColor(n),s.fire("change")}function updateHue(e){var t;t=getPos(r,e),(n=u.toHsv()).h=360*(1-t.y),updateColor(n,!0),s.fire("change")}r=s.getEl("h"),o=s.getEl("hp"),i=s.getEl("sv"),a=s.getEl("svp"),s._repaint=function(){updateColor(n=u.toHsv())},s._super(),s._svdraghelper=new DragHelper(s._id+"-sv",{start:updateSaturationAndValue,drag:updateSaturationAndValue}),s._hdraghelper=new DragHelper(s._id+"-h",{start:updateHue,drag:updateHue}),s._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){if(!arguments.length)return this.color().toHex();this.color().parse(e),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=zt()),this._color},renderHtml:function(){var e,t=this._id,i=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+i+'colorpicker-h" style="background: -ms-linear-gradient(top,'+a+");background: linear-gradient(to bottom,"+a+');">'+function getOldIeFallbackHtml(){var e,t,n,r,o="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(r=a.split(",")).length-1;e<t;e++)o+='<div class="'+i+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+r[e]+",endColorstr="+r[e+1]+");-ms-"+n+r[e]+",endColorstr="+r[e+1]+')"></div>';return o}()+'<div id="'+t+'-hp" class="'+i+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-sv" class="'+i+'colorpicker-sv"><div class="'+i+'colorpicker-overlay1"><div class="'+i+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+i+'colorpicker-selector1"><div class="'+i+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}}),Ht=bt.extend({init:function(e){e=w.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),this._super(e),this.classes.add("dropzone"),e.multiple&&this.classes.add("multiple")},renderHtml:function(){var e,t,n=this.settings;return e={id:this._id,hidefocus:"1"},t=xe.create("div",e,"<span>"+this.translate(n.text)+"</span>"),n.height&&xe.css(t,"height",n.height+"px"),n.width&&xe.css(t,"width",n.width+"px"),t.className=this.classes,t.outerHTML},postRender:function(){var r=this,e=function(e){e.preventDefault(),r.classes.toggle("dragenter"),r.getEl().className=r.classes};r._super(),r.$el.on("dragover",function(e){e.preventDefault()}),r.$el.on("dragenter",e),r.$el.on("dragleave",e),r.$el.on("drop",function(e){if(e.preventDefault(),!r.state.get("disabled")){var t=function(e){var t=r.settings.accept;if("string"!=typeof t)return e;var n=new RegExp("("+t.split(/\s*,\s*/).join("|")+")$","i");return w.grep(e,function(e){return n.test(e.name)})}(e.dataTransfer.files);r.value=function(){return t.length?r.settings.multiple?t:t[0]:null},t.length&&r.fire("change",e)}})},remove:function(){this.$el.off(),this._super()}}),Ut=bt.extend({init:function(e){var n=this;e.delimiter||(e.delimiter="\xbb"),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){var t,n,r=e||[],o="",i=this.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(0<t?'<div class="'+i+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+i+"path-item"+(t===n-1?" "+i+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+this._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+i+'path-item">\xa0</div>'),o}}),Wt=Ut.extend({postRender:function(){var i=this,a=i.settings.editor;function isHidden(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}return!1!==a.settings.elementpath&&(i.on("select",function(e){a.focus(),a.selection.select(this.row()[e.index].element),a.nodeChanged()}),a.on("nodeChange",function(e){for(var t=[],n=e.parents,r=n.length;r--;)if(1===n[r].nodeType&&!isHidden(n[r])){var o=a.fire("ResolveName",{name:n[r].nodeName.toLowerCase(),target:n[r]});if(o.isDefaultPrevented()||t.push({name:o.name,element:n[r]}),o.isPropagationStopped())break}i.row(t)})),i._super()}}),Vt=nt.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),Kt=nt.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var r=this,e=r.items();r.settings.formItemDefaults||(r.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new Vt(w.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},r.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),r.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var n=this;function recalcLabels(){var e,t,r=0,o=[];if(!1!==n.settings.labelGapCalc)for(("children"===n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=r<n?n:r,o.push(t)}),t=n.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+t}n._super(),n.on("show",recalcLabels),recalcLabels()}}),$t=Kt.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),Gt=0,Yt=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Gt+String(t)},Xt=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:S.constant(e)}},Jt={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Xt(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Xt(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Xt(n)},fromDom:Xt,fromPoint:function(e,t,n){return D.from(e.dom().elementFromPoint(t,n)).map(Xt)}},Zt=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},Qt=8,en=9,tn=1,nn=3,rn=function(e){return e.dom().nodeName.toLowerCase()},on=function(e){return e.dom().nodeType},an=function(t){return function(e){return on(e)===t}},sn=an(tn),un=an(nn),cn=an(en),ln={name:rn,type:on,value:function(e){return e.dom().nodeValue},isElement:sn,isText:un,isDocument:cn,isComment:function(e){return on(e)===Qt||"#comment"===rn(e)}},fn=(Zt(function(){return fn(Jt.fromDom(document))}),function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return Jt.fromDom(t)}),dn=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},hn={isString:dn("string"),isObject:dn("object"),isArray:dn("array"),isNull:dn("null"),isBoolean:dn("boolean"),isUndefined:dn("undefined"),isFunction:dn("function"),isNumber:dn("number")},pn=void 0===(St=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:St,mn=function(e,t){for(var n=pn(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},gn=function(r,o){var i={};return mn(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},vn=function(e,n){var r=[];return mn(e,function(e,t){r.push(n(e,t))}),r},bn=function(e){return vn(e,function(e){return e})},yn={bifilter:function(e,n){var r={},o={};return mn(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:mn,map:function(e,r){return gn(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:vn,tupleMap:gn,find:function(e,t){for(var n=pn(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return D.some(a)}return D.none()},keys:pn,values:bn,size:function(e){return bn(e).length}},_n=function(e){return e.slice(0).sort()},wn={sort:_n,reqMessage:function(e,t){throw new Error("All required keys ("+_n(e).join(", ")+") were not specified. Specified keys were: "+_n(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+_n(e).join(", "))},validateStrArr:function(t,e){if(!hn.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");ee.each(e,function(e){if(!hn.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+_n(e).join(", ")+") were not.")},checkDupes:function(e){var n=_n(e);ee.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},xn={immutable:function Immutable(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return ee.each(t,function(e,t){r[e]=S.constant(n[t])}),r}},immutableBag:function MixedBag(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return wn.validateStrArr("required",o),wn.validateStrArr("optional",i),wn.checkDupes(a),function(t){var n=yn.keys(t);ee.forall(o,function(e){return ee.contains(n,e)})||wn.reqMessage(o,n);var e=ee.filter(n,function(e){return!ee.contains(a,e)});0<e.length&&wn.unsuppMessage(e);var r={};return ee.each(o,function(e){r[e]=S.constant(t[e])}),ee.each(i,function(e){r[e]=S.constant(Object.prototype.hasOwnProperty.call(t,e)?D.some(t[e]):D.none())}),r}}},Cn=("undefined"!=typeof window?window:Function("return this;")(),function(){return kn(0,0)}),kn=function(e,t){return{major:e,minor:t}},Sn={nu:kn,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Cn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return kn(r(1),r(2))}(e,n)},unknown:Cn},En=function(e,t){return function(){return t===e}},Tn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:En("Edge",t),isChrome:En("Chrome",t),isIE:En("IE",t),isOpera:En("Opera",t),isFirefox:En("Firefox",t),isSafari:En("Safari",t)}},An={unknown:function(){return Tn({current:void 0,version:Sn.unknown()})},nu:Tn,edge:S.constant("Edge"),chrome:S.constant("Chrome"),ie:S.constant("IE"),opera:S.constant("Opera"),firefox:S.constant("Firefox"),safari:S.constant("Safari")},Rn=function(e,t){return function(){return t===e}},Nn=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Rn("Windows",t),isiOS:Rn("iOS",t),isAndroid:Rn("Android",t),isOSX:Rn("OSX",t),isLinux:Rn("Linux",t),isSolaris:Rn("Solaris",t),isFreeBSD:Rn("FreeBSD",t)}},Dn={unknown:function(){return Nn({current:void 0,version:Sn.unknown()})},nu:Nn,windows:S.constant("Windows"),ios:S.constant("iOS"),android:S.constant("Android"),linux:S.constant("Linux"),osx:S.constant("OSX"),solaris:S.constant("Solaris"),freebsd:S.constant("FreeBSD")},On=function(e,t){var n=String(t).toLowerCase();return ee.find(e,function(e){return e.search(n)})},Bn=function(e,n){return On(e,n).map(function(e){var t=Sn.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Pn=function(e,n){return On(e,n).map(function(e){var t=Sn.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Mn=function(e,t){return-1!==e.indexOf(t)},Ln=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,In=function(t){return function(e){return Mn(e,t)}},Fn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Mn(e,"edge/")&&Mn(e,"chrome")&&Mn(e,"safari")&&Mn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ln],search:function(e){return Mn(e,"chrome")&&!Mn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Mn(e,"msie")||Mn(e,"trident")}},{name:"Opera",versionRegexes:[Ln,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:In("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:In("firefox")},{name:"Safari",versionRegexes:[Ln,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Mn(e,"safari")||Mn(e,"mobile/"))&&Mn(e,"applewebkit")}}],jn=[{name:"Windows",search:In("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Mn(e,"iphone")||Mn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:In("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:In("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:In("linux"),versionRegexes:[]},{name:"Solaris",search:In("sunos"),versionRegexes:[]},{name:"FreeBSD",search:In("freebsd"),versionRegexes:[]}],zn={browsers:S.constant(Fn),oses:S.constant(jn)},qn=function(e){var t=zn.browsers(),n=zn.oses(),r=Bn(t,e).fold(An.unknown,An.nu),o=Pn(n,e).fold(Dn.unknown,Dn.nu);return{browser:r,os:o,deviceType:function DeviceType(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:S.constant(r),isiPhone:S.constant(o),isTablet:S.constant(s),isPhone:S.constant(c),isTouch:S.constant(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:S.constant(l)}}(o,r,e)}},Hn=Zt(function(){var e=navigator.userAgent;return qn(e)}),Un=tn,Wn=en,Vn=function(e){return e.nodeType!==Un&&e.nodeType!==Wn||0===e.childElementCount},Kn={all:function(e,t){var n=void 0===t?document:t.dom();return Vn(n)?[]:ee.map(n.querySelectorAll(e),Jt.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==Un)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return Vn(n)?D.none():D.from(n.querySelector(e)).map(Jt.fromDom)}},$n=(Hn().browser.isIE(),xn.immutable("element","offset"),function(e,t){return Kn.all(t,e)}),Gn=w.trim,Yn=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Xn=Yn("true"),Jn=Yn("false"),Zn=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},Qn=function(e){return e.innerText||e.textContent},er=function(e){return(t=e)&&"A"===t.nodeName&&(t.id||t.name)&&nr(e);var t},tr=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},nr=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Xn(e)}return!1}(e)&&!Jn(e)},rr=function(e){return tr(e)&&nr(e)},or=function(e){var t,n,r=(t=e).id?t.id:Yt("h");return Zn("header",Qn(e),"#"+r,tr(n=e)?parseInt(n.nodeName.substr(1),10):0,function(){e.id=r})},ir=function(e){var t=e.id||e.name,n=Qn(e);return Zn("anchor",n||"#"+t,"#"+t,0,S.noop)},ar=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,ee.map($n(Jt.fromDom(n),t),function(e){return e.dom()})},sr=function(e){return 0<Gn(e.title).length},ur=function(e){var t,n,r=ar(e);return ee.filter((n=r,ee.map(ee.filter(n,rr),or)).concat((t=r,ee.map(ee.filter(t,er),ir))),sr)},cr={},lr=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},fr=function(e,t){return{title:e,value:{title:e,url:t,attach:S.noop}}},dr=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},hr=function(e,r,o,t){var n,i,a,s,u={title:"-"},c=function(e){var t=e.hasOwnProperty(o)?e[o]:[],n=ee.filter(t,function(e){return t=e,n=r,!ee.exists(n,function(e){return e.url===t});var t,n});return w.map(n,function(e){return{title:e,value:{title:e,url:e,attach:S.noop}}})},l=function(t){var e,n=ee.filter(r,function(e){return e.type===t});return e=n,w.map(e,lr)};return!1===t.typeahead_urls?[]:"file"===o?(n=[pr(e,c(cr)),pr(e,l("header")),pr(e,(i=l("anchor"),a=dr(t,"anchor_top","#top"),s=dr(t,"anchor_bottom","#bottom"),null!==a&&i.unshift(fr("<top>",a)),null!==s&&i.push(fr("<bottom>",s)),i))],ee.foldl(n,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(u,t)},[])):pr(e,c(cr))},pr=function(e,t){var n=e.toLowerCase(),r=w.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},mr=function(o,r,i,a){var t=function(e){var t=ur(i),n=hr(e,t,a,r);o.showAutoComplete(n,e)};o.on("autocomplete",function(){t(o.value())}),o.on("selectitem",function(e){var t=e.value;o.value(t.url);var n,r=(n=t.title).raw?n.raw:n;"image"===a?o.fire("change",{meta:{alt:r,attach:t.attach}}):o.fire("change",{meta:{text:r,attach:t.attach}}),o.focus()}),o.on("click",function(e){0===o.value().length&&"INPUT"===e.target.nodeName&&t("")}),o.on("PostRender",function(){o.getRoot().on("submit",function(e){var t,n,r;e.isDefaultPrevented()||(t=o.value(),r=cr[n=a],/^https?/.test(t)&&(r?-1===ee.indexOf(r,t)&&(cr[n]=r.slice(0,5).concat(t)):cr[n]=[t]))})})},gr=function(i,e,n){var r=e.filepicker_validator_handler;r&&i.state.on("change:value",function(e){var t;0!==(t=e.value).length?r({url:t,type:n},function(e){var t,n,r,o=(n=(t=e).status,r=t.message,"valid"===n?{status:"ok",message:r}:"unknown"===n?{status:"warn",message:r}:"invalid"===n?{status:"warn",message:r}:{status:"none",message:""});i.statusMessage(o.message),i.statusLevel(o.status)}):i.statusLevel("none")})},vr=Mt.extend({Statics:{clearHistory:function(){cr={}}},init:function(e){var t,n,r,o=this,i=window.tinymce?window.tinymce.activeEditor:u.activeEditor,a=i.settings,s=e.filetype;e.spellcheck=!1,(r=a.file_picker_types||a.file_browser_callback_types)&&(r=w.makeMap(r,/[, ]/)),r&&!r[s]||(!(n=a.file_picker_callback)||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(o.getEl("inp").id,o.value(),s,window)}):t=function(){var e=o.fire("beforecall").meta;e=w.extend({filetype:s},e),n.call(i,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),e)}),t&&(e.icon="browse",e.onaction=t),o._super(e),o.classes.add("filepicker"),mr(o,a,i.getBody(),s),gr(o,a,s)}}),br=Rt.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),yr=Rt.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R,N,D,O,B,P,M,L,I,F=[],j=Math.max,z=Math.min;for(r=e.items().filter(":visible"),o=e.layoutRect(),i=e.paddingBox,a=e.settings,d=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,u=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,"row-reversed"!==d&&"column-reverse"!==d||(r=r.set(r.toArray().reverse()),d=d.split("-")[0]),"column"===d?(k="y",x="h",C="minH",S="maxH",T="innerH",E="top",A="deltaH",R="contentH",P="left",O="w",N="x",D="innerW",B="minW",M="right",L="deltaW",I="contentW"):(k="x",x="w",C="minW",S="maxW",T="innerW",E="left",A="deltaW",R="contentW",P="top",O="h",N="y",D="innerH",B="minH",M="bottom",L="deltaH",I="contentH"),f=o[T]-i[E]-i[E],w=l=0,t=0,n=r.length;t<n;t++)p=(h=r[t]).layoutRect(),f-=t<n-1?c:0,0<(m=h.settings.flex)&&(l+=m,p[S]&&F.push(h),p.flex=m),f-=p[C],w<(g=i[P]+p[B]+i[M])&&(w=g);if((y={})[C]=f<0?o[C]-f+o[A]:o[T]-f+o[A],y[B]=w+o[L],y[R]=o[T]-f,y[I]=w,y.minW=z(y.minW,o.maxW),y.minH=z(y.minH,o.maxH),y.minW=j(y.minW,o.startMinWidth),y.minH=j(y.minH,o.startMinHeight),!o.autoResize||y.minW===o.minW&&y.minH===o.minH){for(b=f/l,t=0,n=F.length;t<n;t++)(v=(p=(h=F[t]).layoutRect())[S])<(g=p[C]+p.flex*b)?(f-=p[S]-p[C],l-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(b=f/l,_=i[E],y={},0===l&&("end"===u?_=f+i[E]:"center"===u?(_=Math.round(o[T]/2-(o[T]-f)/2)+i[E])<0&&(_=i[E]):"justify"===u&&(_=i[E],c=Math.floor(f/(r.length-1)))),y[N]=i[P],t=0,n=r.length;t<n;t++)g=(p=(h=r[t]).layoutRect()).maxFlexSize||p[C],"center"===s?y[N]=Math.round(o[D]/2-p[O]/2):"stretch"===s?(y[O]=j(p[B]||0,o[D]-i[P]-i[M]),y[N]=i[P]):"end"===s&&(y[N]=o[D]-p[O]-i.top),0<p.flex&&(g+=p.flex*b),y[x]=g,y[k]=_,h.layoutRect(y),h.recalc&&h.recalc(),_+=g+c}else if(y.w=y.minW,y.h=y.minH,e.layoutRect(y),this.recalc(e),null===e._lastRect){var q=e.parent();q&&(q._lastRect=null,q.recalc())}}}),_r=At.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),wr=function(e,t){return Kn.one(t,e)},xr=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},Cr=function(e,n){return function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}},kr=function(n){n.addMenuItem("align",{text:"Align",menu:[{text:"Left",icon:"alignleft",onclick:xr(n,"alignleft")},{text:"Center",icon:"aligncenter",onclick:xr(n,"aligncenter")},{text:"Right",icon:"alignright",onclick:xr(n,"alignright")},{text:"Justify",icon:"alignjustify",onclick:xr(n,"alignjustify")}]}),w.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){n.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Cr(n,t)})})},Sr=function(o){return function(r,e){return D.from(e).map(Jt.fromDom).filter(ln.isElement).bind(function(e){return function(e,t,n){for(;n!==t;){if(n.style[e]){var r=n.style[e];return""!==r?D.some(r):D.none()}n=n.parentNode}return D.none()}(o,r,e.dom()).or((t=o,n=e.dom(),D.from(g.DOM.getStyle(n,t,!0))));var t,n}).getOr("")}},Er={getFontSize:Sr("fontSize"),getFontFamily:S.compose(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Sr("fontFamily")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,r=t||0,o=Math.pow(10,r),Math.round(n*o)/o+"pt"):e;var n,r,o}},Tr=function(e){return e?e.split(",")[0]:""},Ar=function(s,u){return function(){var a=this;s.on("init nodeChange",function(e){var t,n,r,o=Er.getFontFamily(s.getBody(),e.element),i=(t=u,n=o,w.each(t,function(e){e.value.toLowerCase()===n.toLowerCase()&&(r=e.value)}),w.each(t,function(e){r||Tr(e.value).toLowerCase()!==Tr(n).toLowerCase()||(r=e.value)}),r);a.value(i||null),!i&&o&&a.text(Tr(o))})}},Rr=function(n){n.addButton("fontselect",function(){var e,t=(e=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(n.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),w.map(e,function(e){return{text:{raw:e[0]},value:e[1],textStyle:-1===e[1].indexOf("dings")?"font-family:"+e[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:Ar(n,t),onselect:function(e){e.control.settings.value&&n.execCommand("FontName",!1,e.control.settings.value)}}})},Nr=function(e){Rr(e)},Dr=function(e,t,n){var r;return w.each(e,function(e){e.value===n?r=n:e.value===t&&(r=t)}),r},Or=function(n){n.addButton("fontsizeselect",function(){var e,a,s,t=(e=n.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",w.map(e.split(" "),function(e){var t=e,n=e,r=e.split("=");return 1<r.length&&(t=r[0],n=r[1]),{text:t,value:n}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:(a=n,s=t,function(){var i=this;a.on("init nodeChange",function(e){var t,n,r,o;if(t=Er.getFontSize(a.getBody(),e.element))for(r=3;!o&&0<=r;r--)n=Er.toPt(t,r),o=Dr(s,n,t);i.value(o||null),o||i.text(n)})}),onclick:function(e){e.control.settings.value&&n.execCommand("FontSize",!1,e.control.settings.value)}}})},Br=function(e){Or(e)},Pr=function(n,e){var r=e.length;return w.each(e,function(e){e.menu&&(e.hidden=0===Pr(n,e.menu));var t=e.format;t&&(e.hidden=!n.formatter.canApply(t)),e.hidden&&r--}),r},Mr=function(n,e){var r=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<Mr(n,e.menu)),!e.menu&&e.settings.menu&&e.visible(0<Pr(n,e.settings.menu));var t=e.settings.format;t&&e.visible(n.formatter.canApply(t)),e.visible()||r--}),r},Lr=function(e){var r,o,i,t,a,n,s,u,c=(o=0,i=[],t=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a=function(e){var r=[];if(e)return w.each(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=a(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,i.push(e)),t.format=n,t.cmd=e.cmd}r.push(t)}),r},(r=e).on("init",function(){w.each(i,function(e){r.formatter.register(e.name,e)})}),{type:"menu",items:r.settings.style_formats_merge?r.settings.style_formats?a(t.concat(r.settings.style_formats)):a(t):a(r.settings.style_formats||t),onPostRender:function(e){r.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return r.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!r.formatter.canApply(e)),n.active(r.formatter.match(e))),(t=n.settings.cmd)&&n.active(r.queryCommandState(t))})},onclick:function(){this.settings.format&&xr(r,this.settings.format)(),this.settings.cmd&&r.execCommand(this.settings.cmd)}}});n=c,e.addMenuItem("formats",{text:"Formats",menu:n}),u=c,(s=e).addButton("styleselect",{type:"menubutton",text:"Formats",menu:u,onShowMenu:function(){s.settings.style_formats_autohide&&Mr(s,this.menu)}})},Ir=function(n,e){return function(){var o,i,a,t=[];return w.each(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return n.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:function(e){if(e.control){var t=e.control.value();xr(n,t)()}},onPostRender:(o=n,i=t,function(){var t=this;o.on("nodeChange",function(e){var n=o.formatter,r=null;w.each(e.parents,function(t){if(w.each(i,function(e){if(a?n.matchNode(t,a,{value:e.value})&&(r=e.value):n.matchNode(t,e.value)&&(r=e.value),r)return!1}),r)return!1}),t.value(r)})})}}},Fr=function(e){var t,n,r=function(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");e.addMenuItem("blockformats",{text:"Blocks",menu:(t=e,n=r,w.map(n,function(e){return{text:e[0],onclick:xr(t,e[1]),textStyle:function(){return t.formatter.getCssText(e[1])}}}))}),e.addButton("formatselect",Ir(e,r))},jr=function(t,e){var n,r;if("string"==typeof e)r=e.split(" ");else if(w.isArray(e))return ee.flatten(w.map(e,function(e){return jr(t,e)}));return n=w.grep(r,function(e){return"|"===e||e in t.menuItems}),w.map(n,function(e){return"|"===e?{text:"-"}:t.menuItems[e]})},zr=function(e){return e&&"-"===e.text},qr=function(e){var t=ee.filter(e,function(e,t,n){return!zr(e)||!zr(n[t-1])});return ee.filter(t,function(e,t,n){return!zr(e)||0<t&&t<n.length-1})},Hr=function(e){var t,n,r,o,i=e.settings.insert_button_items;return qr(i?jr(e,i):(t=e,n="insert",r=[{text:"-"}],o=w.grep(t.menuItems,function(e){return e.context===n}),w.each(o,function(e){"before"===e.separator&&r.push({text:"|"}),e.prependToContext?r.unshift(e):r.push(e),"after"===e.separator&&r.push({text:"|"})}),r))},Ur=function(e){var t;(t=e).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Hr(t)),this.menu.renderNew()}})},Wr=function(e){var n,r,o;n=e,w.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){n.addButton(t,{active:!1,tooltip:e,onPostRender:Cr(n,t),onclick:xr(n,t)})}),r=e,w.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(e,t){r.addButton(t,{tooltip:e[0],cmd:e[1]})}),o=e,w.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(e,t){o.addButton(t,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Cr(o,t)})})},Vr=function(e){var n;Wr(e),n=e,w.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(e,t){n.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),n.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:xr(n,"code")})},Kr=function(n,r){return function(){var e=this,t=function(){var e="redo"===r?"hasRedo":"hasUndo";return!!n.undoManager&&n.undoManager[e]()};e.disabled(!t()),n.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){e.disabled(n.readonly||!t())})}},$r=function(e){var t,n;(t=e).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Kr(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Kr(t,"redo"),cmd:"redo"}),(n=e).addButton("undo",{tooltip:"Undo",onPostRender:Kr(n,"undo"),cmd:"undo"}),n.addButton("redo",{tooltip:"Redo",onPostRender:Kr(n,"redo"),cmd:"redo"})},Gr=function(e){var t,n;(t=e).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(n=t,function(){var t=this;n.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(n.hasVisual)}),cmd:"mceToggleVisualAid"})},Yr={setup:function(e){var t;e.rtl&&(Qe.rtl=!0),e.on("mousedown",function(){dt.hideAll()}),(t=e).settings.ui_container&&(fe.container=wr(Jt.fromDom(document.body),t.settings.ui_container).fold(S.constant(null),function(e){return e.dom()})),bt.tooltips=!fe.iOS,Qe.translate=function(e){return u.translate(e)},Fr(e),kr(e),Vr(e),$r(e),Br(e),Nr(e),Lr(e),Gr(e),Ur(e)}},Xr=Rt.extend({recalc:function(e){var t,n,r,o,i,a,s,u,c,l,f,d,h,p,m,g,v,b,y,_,w,x,C,k,S,E,T,A,R=[],N=[];t=e.settings,o=e.items().filter(":visible"),i=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(o.length)),n=Math.ceil(o.length/r),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,_=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),_&&"string"==typeof _&&(_=[_]),w&&"string"==typeof w&&(w=[w]);for(f=0;f<r;f++)R.push(0);for(d=0;d<n;d++)N.push(0);for(d=0;d<n;d++)for(f=0;f<r&&(l=o[d*r+f]);f++)k=(c=l.layoutRect()).minW,S=c.minH,R[f]=k>R[f]?k:R[f],N[d]=S>N[d]?S:N[d];for(E=i.innerW-g.left-g.right,f=x=0;f<r;f++)x+=R[f]+(0<f?b:0),E-=(0<f?b:0)+R[f];for(T=i.innerH-g.top-g.bottom,d=C=0;d<n;d++)C+=N[d]+(0<d?y:0),T-=(0<d?y:0)+N[d];if(x+=g.left+g.right,C+=g.top+g.bottom,(u={}).minW=x+(i.w-i.innerW),u.minH=C+(i.h-i.innerH),u.contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH,u.minW=Math.min(u.minW,i.maxW),u.minH=Math.min(u.minH,i.maxH),u.minW=Math.max(u.minW,i.startMinWidth),u.minH=Math.max(u.minH,i.startMinHeight),!i.autoResize||u.minW===i.minW&&u.minH===i.minH){var D;i.autoResize&&((u=e.layoutRect(u)).contentW=u.minW-i.deltaW,u.contentH=u.minH-i.deltaH),D="start"===t.packV?0:0<T?Math.floor(T/n):0;var O=0,B=t.flexWidths;if(B)for(f=0;f<B.length;f++)O+=B[f];else O=r;var P=E/O;for(f=0;f<r;f++)R[f]+=B?B[f]*P:P;for(p=g.top,d=0;d<n;d++){for(h=g.left,s=N[d]+D,f=0;f<r&&(l=o[A?d*r+r-1-f:d*r+f]);f++)m=l.settings,c=l.layoutRect(),a=Math.max(R[f],c.startMinWidth),c.x=h,c.y=p,"center"===(v=m.alignH||(_?_[f]||_[0]:null))?c.x=h+a/2-c.w/2:"right"===v?c.x=h+a-c.w:"stretch"===v&&(c.w=a),"center"===(v=m.alignV||(w?w[f]||w[0]:null))?c.y=p+s/2-c.h/2:"bottom"===v?c.y=p+s-c.h:"stretch"===v&&(c.h=s),l.layoutRect(c),h+=a+b,l.recalc&&l.recalc();p+=s+y}}else if(u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect){var M=e.parent();M&&(M._lastRect=null,M.recalc())}}}),Jr=bt.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):c.setTimeout(function(){n.html(e)}),this}}),Zr=bt.extend({init:function(e){this._super(e),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),Qr=bt.extend({init:function(e){this._super(e),this.classes.add("widget").add("label"),this.canFocus=!1,e.multiline&&this.classes.add("autoscroll"),e.strong&&this.classes.add("strong")},initLayoutRect:function(){var e=this._super();return this.settings.multiline&&(xe.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.classes.add("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,xe.getSize(this.getEl()).height)),e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId,o=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+o+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+o+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}}),eo=nt.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(e){e.classes.add("toolbar-item")}),this._super()}}),to=eo.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),no=Nt.extend({init:function(e){this._renderOpen=!0,this._super(e),e=this.settings,this.classes.add("menubtn"),e.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",e.menu||this.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=v.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,o=t.settings.icon,i=t.state.get("text"),a="";return(e=t.settings.image)?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(i)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof to?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var o=this;return o.on("click",function(e){e.control===o&&function isChildOf$1(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(e.target,o.getEl())&&(o.focus(),o.showMenu(!e.aria),e.aria&&o.menu.items().filter(":visible")[0].focus())}),o.on("mouseenter",function(e){var t,n=e.control,r=o.parent();n&&r&&n instanceof no&&n.parent()===r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),o._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),ro=dt.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=w.extend({},e.itemDefaults,t[n]);this._super(e),this.classes.add("menu"),e.animate&&11!==fe.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var t,n=this;function hideThrobber(){n.throbber&&(n.throbber.hide(),n.throbber=null)}n.settings.itemsFactory&&(n.throbber||(n.throbber=new Throbber(n.getEl("body"),!0),0===n.items().length?(n.throbber.show(),n.fire("loading")):n.throbber.show(100,function(){n.items().remove(),n.fire("loading")}),n.on("hide close",hideThrobber)),n.requestTime=t=(new Date).getTime(),n.settings.itemsFactory(function(e){0!==e.length?n.requestTime===t&&(n.getEl().style.width="",n.getEl("body").style.width="",hideThrobber(),n.items().remove(),n.getEl("body").innerHTML="",n.add(e),n.renderNew(),n.fire("loaded")):n.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return n._hasIcons=!0,!1}),n.settings.itemsFactory&&n.on("postrender",function(){n.settings.itemsFactory&&n.load()}),n.on("show hide",function(e){e.control===n&&("show"===e.type?c.setTimeout(function(){n.classes.add("in")},0):n.classes.remove("in"))}),n._super()}}),oo=no.extend({init:function(n){var e,r,o,i,a=this;a._super(n),n=a.settings,a._values=e=n.values,e&&(void 0!==n.value&&function setSelected(e){for(var t=0;t<e.length;t++){if(r=e[t].selected||n.value===e[t].value)return o=o||e[t].text,a.state.set("value",e[t].value),!0;if(e[t].menu&&setSelected(e[t].menu))return!0}}(e),!r&&0<e.length&&(o=e[0].text,a.state.set("value",e[0].value)),a.state.set("menu",e)),a.state.set("text",n.text||o),a.classes.add("listbox"),a.on("select",function(e){var t=e.control;i&&(e.lastControl=i),n.multiple?t.active(!t.active()):a.value(e.control.value()),i=t})},bindStates:function(){var n=this;return n.on("show",function(e){!function activateMenuItemsByValue(e,t){e instanceof ro&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}(e.control,n.value())}),n.state.on("change:value",function(e){var t=function getSelectedItem(e,t){var n;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(n=getSelectedItem(e[r].menu,t)))return n}}(n.state.get("menu"),e.value);t?n.text(t.text):n.text(n.settings.text)}),n._super()}}),io=bt.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),(t=n.menu=v.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),o),o="menu-sub-"+(t.rel=o),t.classes.remove(t._lastRel).add(o),t._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e,t=this,n=t._id,r=t.settings,o=t.classPrefix,i=t.state.get("text"),a=t.settings.icon,s="",u=r.shortcut,c=t.encode(r.url);function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function markMatches(e){var t=r.match||"";return t?e.replace(new RegExp(escapeRegExp(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function boldMatches(e){return e.replace(new RegExp(escapeRegExp("!mce~match["),"g"),"<b>").replace(new RegExp(escapeRegExp("]mce~match!"),"g"),"</b>")}return a&&t.parent().classes.add("menu-has-icons"),r.image&&(s=" style=\"background-image: url('"+r.image+"')\""),u&&(u=function convertShortcut(e){var t,n,r={};for(r=fe.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(u)),a=o+"ico "+o+"i-"+(t.settings.icon||"none"),e="-"!==i?'<i class="'+a+'"'+s+"></i>\xa0":"",i=boldMatches(t.encode(markMatches(i))),c=boldMatches(t.encode(markMatches(c))),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+e+("-"!==i?'<span id="'+n+'-text" class="'+o+'text">'+i+"</span>":"")+(u?'<div id="'+n+'-shortcut" class="'+o+'menu-shortcut">'+u+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+(c?'<div class="'+o+'menu-item-link">'+c+"</div>":"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var r=t.getEl("text");r&&(r.setAttribute("style",e),t._textStyle=e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),c.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){return this.parent().items().each(function(e){e.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(e){return function(e,t){var n=e._textStyle;if(n){var r=e.getEl("text");r.setAttribute("style",n),t&&(r.style.color="",r.style.backgroundColor="")}}(this,e),void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),ao=Bt.extend({Defaults:{classes:"radio",role:"radio"}}),so=bt.extend({renderHtml:function(){var e=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new DragHelper(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!==t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function createOptions(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}var uo=bt.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t="";return e=createOptions(this._options),this.size&&(t=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+t+">"+e+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=createOptions(e.value)}),t._super()}});function constrain(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function setAriaProp(e,t,n){e.setAttribute("aria-"+t,n)}function updateSliderHandle(e,t){var n,r,o,i,a;"v"===e.settings.orientation?(o="top",r="height",n="h"):(o="left",r="width",n="w"),a=e.getEl("handle"),i=((e.layoutRect()[n]||100)-xe.getSize(a)[r])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[o]=i,a.style.height=e.layoutRect().h+"px",setAriaProp(a,"valuenow",t),setAriaProp(a,"valuetext",""+e.settings.previewFilter(t)),setAriaProp(a,"valuemin",e._minValue),setAriaProp(a,"valuemax",e._maxValue)}var co=bt.extend({init:function(e){e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),this._super(e),this.classes.add("slider"),"v"===e.orientation&&this.classes.add("vertical"),this._minValue=hn.isNumber(e.minValue)?e.minValue:0,this._maxValue=hn.isNumber(e.maxValue)?e.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-handle" class="'+t+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,t,l,f,d,h,p=this;e=p._minValue,t=p._maxValue,"v"===p.settings.orientation?(l="screenY",f="top",d="height",h="h"):(l="screenX",f="left",d="width",h="w"),p._super(),function handleKeyboard(n,r){function alter(e){var t;t=p.value(),t=constrain(t=function fromFraction(e,t,n){return n*(t-e)-e}(n,r,function toFraction(e,t,n){return(n+e)/(t-e)}(n,r,t)+.05*e),n,r),p.value(t),p.fire("dragstart",{value:t}),p.fire("drag",{value:t}),p.fire("dragend",{value:t})}p.on("keydown",function(e){switch(e.keyCode){case 37:case 38:alter(-1);break;case 39:case 40:alter(1)}})}(e,t),function handleDrag(n,r,o){var i,a,s,u,c;p._dragHelper=new DragHelper(p._id,{handle:p._id+"-handle",start:function(e){i=e[l],a=parseInt(p.getEl("handle").style[f],10),s=(p.layoutRect()[h]||100)-xe.getSize(o)[d],p.fire("dragstart",{value:c})},drag:function(e){var t=e[l]-i;u=constrain(a+t,0,s),o.style[f]=u+"px",c=n+u/s*(r-n),p.value(c),p.tooltip().text(""+p.settings.previewFilter(c)).show().moveRel(o,"bc tc"),p.fire("drag",{value:c})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:c})}})}(e,t,p.getEl("handle"))},repaint:function(){this._super(),updateSliderHandle(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){updateSliderHandle(t,e.value)}),t._super()}}),lo=bt.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),fo=no.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this.getEl(),r=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,_e(e).css({width:r.w-xe.getSize(t).width,height:r.h-2}),_e(t).css({height:r.h-2}),this},activeMenu:function(e){_e(this.getEl().lastChild).toggleClass(this.classPrefix+"active",e)},renderHtml:function(){var e,t,n=this,r=n._id,o=n.classPrefix,i=n.state.get("icon"),a=n.state.get("text"),s=n.settings,u="";return(e=s.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=s.icon?o+"ico "+o+"i-"+i:"",a&&(n.classes.add("btn-has-text"),u='<span class="'+o+'txt">'+n.encode(a)+"</span>"),t="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+r+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+u+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(i?"\xa0":"")+n._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control===this)for(;t;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===t.nodeName&&-1===t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete this.settings.onclick,this._super()}}),ho=_r.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),po=ut.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),_e(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),_e(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!==t&&e.hide()})},renderHtml:function(){var r=this,e=r._layout,o="",i=r.classPrefix;return r.preRender(),e.preRender(r),r.items().each(function(e,t){var n=r._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),o+='<div id="'+n+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+r.encode(e.settings.title)+"</div>"}),'<div id="'+r._id+'" class="'+r.classes+'" hidefocus="1" tabindex="-1"><div id="'+r._id+'-head" class="'+i+'tabs" role="tablist">'+o+'</div><div id="'+r._id+'-body" class="'+r.bodyClasses+'">'+e.renderHtml(r)+"</div></div>"},postRender:function(){var r=this;r._super(),r.settings.activeTab=r.settings.activeTab||0,r.activateTab(r.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id===r._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]===e.target&&r.activateTab(n)})},initLayoutRect:function(){var e,t,n;t=(t=xe.getSize(this.getEl("head")).width)<0?0:t,n=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var r=xe.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=n+r,(e=this._super()).deltaH+=r,e.innerH=e.h-e.deltaH,e}}),mo=bt.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13===e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,o,i=0;e=this.getEl().style,t=this._layoutRect,o=this._lastRepaintRect||{};var a=document;return!this.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-i+"px"),r=(n=this.borderBox).left+n.right+8,i=n.top+n.bottom+(this.settings.multiline?8:0),t.x!==o.x&&(e.left=t.x+"px",o.x=t.x),t.y!==o.y&&(e.top=t.y+"px",o.y=t.y),t.w!==o.w&&(e.width=t.w-r+"px",o.w=t.w),t.h!==o.h&&(e.height=t.h-i+"px",o.h=t.h),this._lastRepaintRect=o,this.fire("repaint",{},!1),this},renderHtml:function(){var t,e,n=this.settings;return t={id:this._id,hidefocus:"1"},w.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=n[e]}),this.disabled()&&(t.disabled="disabled"),n.subtype&&(t.type=n.subtype),(e=xe.create(n.multiline?"textarea":"input",t)).value=this.state.get("value"),e.className=this.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!==e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}}),go=function(){return{Selector:Fe,Collection:qe,ReflowQueue:Ge,Control:Qe,Factory:v,KeyboardNavigation:KeyboardNavigation,Container:nt,DragHelper:DragHelper,Scrollable:st,Panel:ut,Movable:Te,Resizable:ct,FloatPanel:dt,Window:kt,MessageBox:Et,Tooltip:vt,Widget:bt,Progress:yt,Notification:wt,Layout:At,AbsoluteLayout:Rt,Button:Nt,ButtonGroup:Ot,Checkbox:Bt,ComboBox:Mt,ColorBox:Lt,PanelButton:It,ColorButton:jt,ColorPicker:qt,Path:Ut,ElementPath:Wt,FormItem:Vt,Form:Kt,FieldSet:$t,FilePicker:vr,FitLayout:br,FlexLayout:yr,FlowLayout:_r,FormatControls:Yr,GridLayout:Xr,Iframe:Jr,InfoBox:Zr,Label:Qr,Toolbar:eo,MenuBar:to,MenuButton:no,MenuItem:io,Throbber:Throbber,Menu:ro,ListBox:oo,Radio:ao,ResizeHandle:so,SelectBox:uo,Slider:co,Spacer:lo,SplitButton:fo,StackLayout:ho,TabPanel:po,TextBox:mo,DropZone:Ht,BrowseButton:Dt}},vo=function(n){n.ui?w.each(go(),function(e,t){n.ui[t]=e}):n.ui=go()};w.each(go(),function(e,t){v.add(t,e)}),vo(window.tinymce?window.tinymce:{}),i.add("modern",function(e){return Yr.setup(e),Tt(e)})}()},function(e,t,n){n(138)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),t=function(e){return e.target_list},r=function(e){return e.rel_list},o=function(e){return e.link_class_list},b=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},a=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},i=function(e){return e.link_list},y=function(e){return"string"==typeof e.default_link_target},_=function(e){return e.default_link_target},w=t,x=function(e,t){e.settings.target_list=t},C=function(e){return!1!==t(e)},k=r,S=function(e){return void 0!==r(e)},E=o,T=function(e){return void 0!==o(e)},A=function(e){return!1!==e.link_title},R=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=tinymce.util.Tools.resolve("tinymce.Env"),c=function(e){if(!u.ie||10<u.ie){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i=t,a=n,document.body.appendChild(i),i.dispatchEvent(a),document.body.removeChild(i)}else{var r=window.open("","_blank");if(r){r.opener=null;var o=r.document;o.open(),o.write('<meta http-equiv="refresh" content="0; url='+s.DOM.encode(e)+'">'),o.close()}}var i,a},N=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(e,t){var n,r,o=["noopener"],i=e?e.split(/\s+/):[],a=function(e){return e.filter(function(e){return-1===N.inArray(o,e)})};return(i=t?(n=a(n=i)).length?n.concat(o):o:a(i)).length?(r=i,N.trim(r.sort().join(" "))):null},f=function(e,t){return t=t||e.selection.getNode(),h(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},d=function(e){return e&&"A"===e.nodeName&&e.href},h=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},p=function(e,t){var n,r;(r=e.dom.select("img",t)[0])&&(n=e.dom.getParents(r,"a[href]",t)[0])&&(n.parentNode.insertBefore(r,n),e.dom.remove(n))},m=function(e,t,n){var r,o;(o=e.dom.select("img",t)[0])&&(r=e.dom.create("a",n),o.parentNode.insertBefore(r,o),r.appendChild(o))},D=function(o,i){return function(r){o.undoManager.transact(function(){var e=o.selection.getNode(),t=f(o,e),n={href:r.href,target:r.target?r.target:null,rel:r.rel?r.rel:null,class:r.class?r.class:null,title:r.title?r.title:null};S(o.settings)||!1!==R(o.settings)||(n.rel=l(n.rel,"_blank"===n.target)),r.href===i.href&&(i.attach(),i={}),t?(o.focus(),r.hasOwnProperty("text")&&("innerText"in t?t.innerText=r.text:t.textContent=r.text),o.dom.setAttribs(t,n),o.selection.select(t),o.undoManager.add()):h(e)?m(o,e,n):r.hasOwnProperty("text")?o.insertContent(o.dom.createHTML("a",n,o.dom.encode(r.text))):o.execCommand("mceInsertLink",!1,n)})}},O=function(t){return function(){t.undoManager.transact(function(){var e=t.selection.getNode();h(e)?p(t,e):t.execCommand("unlink")})}},g=d,v=function(e){return 0<N.grep(e,d).length},B=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||-1===e.indexOf("href=")))},P=f,M=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return n.replace(/\uFEFF/g,"")},L=l,I=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),j={},z=function(e,r,t){var o=function(e,n){return n=n||[],N.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,r&&r(t)),n.push(t)}),n};return o(e,t||[])},q=function(t,e,n){var r=t.selection.getRng();I.setEditorTimeout(t,function(){t.windowManager.confirm(e,function(e){t.selection.setRng(r),n(e)})})},H=function(a,e){var t,s,r,u,n,o,i,c,l,f,d,h={},p=a.selection,m=a.dom,g=function(e){var t=r.find("#text");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),r.find("#href").value(e.control.value())},v=function(){s||!u||h.text||this.parent().parent().find("#text")[0].value(this.value())};u=B(p.getContent()),t=P(a),h.text=s=M(a.selection,t),h.href=t?m.getAttrib(t,"href"):"",t?h.target=m.getAttrib(t,"target"):y(a.settings)&&(h.target=_(a.settings)),(d=m.getAttrib(t,"rel"))&&(h.rel=d),(d=m.getAttrib(t,"class"))&&(h.class=d),(d=m.getAttrib(t,"title"))&&(h.title=d),u&&(n={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){h.text=this.value()}}),e&&(o={type:"listbox",label:"Link list",values:z(e,function(e){e.value=a.convertURL(e.value||e.url,"href")},[{text:"None",value:""}]),onselect:g,value:a.convertURL(h.href,"href"),onPostRender:function(){o=this}}),C(a.settings)&&(void 0===w(a.settings)&&x(a,[{text:"None",value:""},{text:"New window",value:"_blank"}]),c={name:"target",type:"listbox",label:"Target",values:z(w(a.settings))}),S(a.settings)&&(i={name:"rel",type:"listbox",label:"Rel",values:z(k(a.settings),function(e){!1===R(a.settings)&&(e.value=L(e.value,"_blank"===h.target))})}),T(a.settings)&&(l={name:"class",type:"listbox",label:"Class",values:z(E(a.settings),function(e){e.value&&(e.textStyle=function(){return a.formatter.getCssText({inline:"a",classes:[e.value]})})})}),A(a.settings)&&(f={name:"title",type:"textbox",label:"Title",value:h.title}),r=a.windowManager.open({title:"Insert link",data:h,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var t=e.meta||{};o&&o.value(a.convertURL(this.value(),"href")),N.each(e.meta,function(e,t){var n=r.find("#"+t);"text"===t?0===s.length&&(n.value(e),h.text=e):n.value(e)}),t.attach&&(j={href:this.value(),attach:t.attach}),t.text||v.call(this)},onkeyup:v,onpaste:v,onbeforecall:function(e){e.meta=r.toJSON()}},n,f,function(n){var r=[];if(N.each(a.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&r.push({text:t,value:"#"+t,selected:-1!==n.indexOf("#"+t)})}),r.length)return r.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:r,onselect:g}}(h.href),o,i,c,l],onSubmit:function(e){var t=b(a.settings),n=D(a,j),r=O(a),o=N.extend({},h,e.data),i=o.href;i?(u&&o.text!==s||delete o.text,0<i.indexOf("@")&&-1===i.indexOf("//")&&-1===i.indexOf("mailto:")?q(a,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(o.href="mailto:"+i),n(o)}):!0===t&&!/^\w+:/i.test(i)||!1===t&&/^\s*www[\.|\d\.]/i.test(i)?q(a,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(o.href="http://"+i),n(o)}):n(o)):r()}})},U=function(e){var t,n,r;n=H,"string"==typeof(r=i((t=e).settings))?F.send({url:r,success:function(e){n(t,JSON.parse(e))}}):"function"==typeof r?r(function(e){n(t,e)}):n(t,r)},W=function(e,t){return e.dom.getParent(t,"a[href]")},V=function(e){return W(e,e.selection.getStart())},K=function(e,t){if(t){var n=(o=t).getAttribute("data-mce-href")||o.getAttribute("href");if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else c(t.href)}var o},$=function(e){return function(){U(e)}},G=function(e){return function(){K(e,V(e))}},Y=function(i){return function(e){var t,n,r,o;return!!(a(i.settings)&&(!(o=i.plugins.contextmenu)||!o.isContextMenuVisible())&&g(e)&&3===(r=(n=(t=i.selection).getRng()).startContainer).nodeType&&t.isCollapsed()&&0<n.startOffset&&n.startOffset<r.data.length)}},X=function(r){r.on("click",function(e){var t=W(r,e.target);t&&n.metaKeyPressed(e)&&(e.preventDefault(),K(r,t))}),r.on("keydown",function(e){var t,n=V(r);n&&13===e.keyCode&&!0===(t=e).altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey&&(e.preventDefault(),K(r,n))})},J=function(n){return function(){var t=this;n.on("nodechange",function(e){t.active(!n.readonly&&!!P(n,e.element))})}},Z=function(n){return function(){var t=this,e=function(e){v(e.parents)?t.show():t.hide()};v(n.dom.getParents(n.selection.getStart()))||t.hide(),n.on("nodechange",e),t.on("remove",function(){n.off("nodechange",e)})}},Q=function(e){e.addCommand("mceLink",$(e))},ee=function(e){e.addShortcut("Meta+K","",$(e))},te=function(e){e.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:$(e),onpostrender:J(e)}),e.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:O(e),onpostrender:J(e)}),e.addContextToolbar&&e.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:G(e)})},ne=function(e){e.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:G(e),onPostRender:Z(e),prependToContext:!0}),e.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:$(e),stateSelector:"a[href]",context:"insert",prependToContext:!0})},re=function(e){e.addContextToolbar&&e.addContextToolbar(Y(e),"openlink | link unlink")};e.add("link",function(e){te(e),ne(e),re(e),X(e),Q(e),ee(e)})}()},function(e,t,n){n(140)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),c=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),n=tinymce.util.Tools.resolve("tinymce.util.VK"),m=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),r=function(e){return e&&"BR"===e.nodeName},o=function(e){return e&&3===e.nodeType},v=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},i=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},a=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},b=r,s=function(e){return e.parentNode.firstChild===e},l=function(e){return e.parentNode.lastChild===e},y=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},f=function(e,t){return e&&e.nodeName in t},d=function(e,t){return!!r(t)&&!(!e.isBlock(t.nextSibling)||r(t.previousSibling))},h=function(e,t,n){var r=e.isEmpty(t);return!(n&&0<e.select("span[data-mce-type=bookmark]",t).length)&&r},p=function(e,t){return e.isChildOf(t,e.getRoot())},_=function(e,t){var n=u.getNode(e,t);return i(e)&&o(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:{container:e,offset:t}},w=function(e){var t=e.cloneRange(),n=_(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=_(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},x=t.DOM,C=function(o){var i={},e=function(e){var t,n,r;n=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"],1===n.nodeType&&(t=x.create("span",{"data-mce-type":"bookmark"}),n.hasChildNodes()?(r=Math.min(r,n.childNodes.length-1),e?n.insertBefore(t,n.childNodes[r]):x.insertAfter(t,n.childNodes[r])):n.appendChild(t),n=t,r=0),i[e?"startContainer":"endContainer"]=n,i[e?"startOffset":"endOffset"]=r};return e(!0),o.collapsed||e(),i},k=function(o){function restoreEndPoint(e){var t,n,r;t=r=o[e?"startContainer":"endContainer"],n=o[e?"startOffset":"endOffset"],t&&(1===t.nodeType&&(n=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1}(t),t=t.parentNode,x.remove(r),!t.hasChildNodes()&&x.isBlock(t)&&t.appendChild(x.create("br"))),o[e?"startContainer":"endContainer"]=t,o[e?"startOffset":"endOffset"]=n)}restoreEndPoint(!0),restoreEndPoint();var e=x.createRng();return e.setStart(o.startContainer,o.startOffset),o.endContainer&&e.setEnd(o.endContainer,o.endOffset),w(e)},S=t.DOM,E=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(t),h(e,r)&&S.remove(r)):S.setStyle(r,"listStyleType","none")),v(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(t)},T=function(t,e){g.each(g.grep(t.select("ol,ul",e)),function(e){E(t,e)})},A=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),R=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",N(e,t))},N=function(e,t){var n=e.dom.getParents(t,"TD,TH");return 0<n.length?n[0]:e.getBody()},D={getParentList:R,getSelectedSubLists:function(e){var t,n,r,o=R(e),i=e.selection.getSelectedBlocks();return r=i,(n=o)&&1===r.length&&r[0]===n?(t=o,g.grep(t.querySelectorAll("ol,ul,dl"),function(e){return v(e)})):g.grep(i,function(e){return v(e)&&o!==e})},getSelectedListItems:function(e){var n,t,r,o=e.selection.getSelectedBlocks();return g.grep((n=e,t=o,r=g.map(t,function(e){var t=n.dom.getParent(e,"li,dd,dt",N(n,e));return t||e}),A.unique(r)),function(e){return i(e)})},getClosestListRootElm:N},O=tinymce.util.Tools.resolve("tinymce.Env"),B=t.DOM,P=function(e,t,n){var r,o,i,a=B.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&((o=B.create(n)).tagName===e.settings.forced_root_block&&B.setAttribs(o,e.settings.forced_root_block_attrs),f(t.firstChild,s)||a.appendChild(o)),t)for(;r=t.firstChild;){var u=r.nodeName;i||"SPAN"===u&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),f(r,s)?(a.appendChild(r),o=null):n?(o||(o=B.create(n),a.appendChild(o)),o.appendChild(r)):a.appendChild(r)}return e.settings.forced_root_block?i||O.ie&&!(10<O.ie)||o.appendChild(B.create("br",{"data-mce-bogus":"1"})):a.appendChild(B.create("br")),a},M=t.DOM,L=function(e,t,n,r){var o,i,a,s,u;for(a=M.select('span[data-mce-type="bookmark"]',t),r=r||P(e,n),(o=M.createRng()).setStartAfter(n),o.setEndAfter(t),s=(i=o.extractContents()).firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){M.remove(s);break}e.dom.isEmpty(i)||M.insertAfter(i,t),M.insertAfter(r,t),h(e.dom,n.parentNode)&&(u=n.parentNode,g.each(a,function(e){u.parentNode.insertBefore(e,n.parentNode)}),M.remove(u)),M.remove(n),h(e.dom,t)&&M.remove(t)},I=t.DOM,F=function(e,t){h(e,t)&&I.remove(t)},j=function(e,t){var n,r=t.parentNode,o=r.parentNode;return r===e.getBody()||("DD"===t.nodeName?I.rename(t,"DT"):s(t)&&l(t)?"LI"===o.nodeName?(I.insertAfter(t,o),F(e.dom,o),I.remove(r)):v(o)?I.remove(r,!0):(o.insertBefore(P(e,t),r),I.remove(r)):s(t)?"LI"===o.nodeName?(I.insertAfter(t,o),t.appendChild(r),F(e.dom,o)):v(o)?o.insertBefore(t,r):(o.insertBefore(P(e,t),r),I.remove(t)):l(t)?"LI"===o.nodeName?I.insertAfter(t,o):v(o)?I.insertAfter(t,r):(I.insertAfter(P(e,t),r),I.remove(t)):("LI"===o.nodeName?(r=o,n=P(e,t,"LI")):n=v(o)?P(e,t,"LI"):P(e,t),L(e,r,t,n),T(e.dom,r.parentNode))),!0},z=j,q=function(e){var t=D.getSelectedListItems(e);if(t.length){var n=C(e.selection.getRng(!0)),r=void 0,o=void 0,i=D.getClosestListRootElm(e,e.selection.getStart(!0));for(r=t.length;r--;)for(var a=t[r].parentNode;a&&a!==i;){for(o=t.length;o--;)if(t[o]===a){t.splice(r,1);break}a=a.parentNode}for(r=0;r<t.length&&(j(e,t[r])||0!==r);r++);return e.selection.setRng(k(n)),e.nodeChanged(),!0}},H=function(n,e){g.each(e,function(e,t){n.setAttribute(t,e)})},U=function(e,t,n){var r,o,i,a,s,u,c;r=e,o=t,a=(i=n)["list-style-type"]?i["list-style-type"]:null,r.setStyle(o,"list-style-type",a),s=e,H(u=t,(c=n)["list-attributes"]),g.each(s.select("li",u),function(e){H(e,c["list-item-attributes"])})},W=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&b(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(y(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},V=function(l,f,d){void 0===d&&(d={});var e,t=l.selection.getRng(!0),h="LI",n=D.getClosestListRootElm(l,l.selection.getStart(!0)),p=l.dom;"false"!==p.getContentEditable(l.selection.getNode())&&("DL"===(f=f.toUpperCase())&&(h="DT"),e=C(t),g.each(function(n,e,r){for(var o,i=[],a=n.dom,t=W(n,e,!0,r),s=W(n,e,!1,r),u=[],c=t;c&&(u.push(c),c!==s);c=c.nextSibling);return g.each(u,function(e){if(y(n,e))return i.push(e),void(o=null);if(a.isBlock(e)||b(e))return b(e)&&a.remove(e),void(o=null);var t=e.nextSibling;m.isBookmarkNode(e)&&(y(n,t)||!t&&e.parentNode===r)?o=null:(o||(o=a.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e))}),i}(l,t,n),function(e){var t,n,r,o,i,a,s,u,c;(n=e.previousSibling)&&v(n)&&n.nodeName===f&&(r=n,o=d,i=p.getStyle(r,"list-style-type"),a=o?o["list-style-type"]:"",i===(a=null===a?"":a))?(t=n,e=p.rename(e,h),n.appendChild(e)):(t=p.create(f),e.parentNode.insertBefore(t,e),t.appendChild(e),e=p.rename(e,h)),s=p,u=e,c=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],g.each(c,function(e){return s.setStyle(u,((t={})[e]="",t));var t}),U(p,t,d),G(l.dom,t)}),l.selection.setRng(k(e)))},K=function(r){var e=C(r.selection.getRng(!0)),o=D.getClosestListRootElm(r,r.selection.getStart(!0)),t=D.getSelectedListItems(r),n=g.grep(t,function(e){return r.dom.isEmpty(e)});t=g.grep(t,function(e){return!r.dom.isEmpty(e)}),g.each(n,function(e){h(r.dom,e)&&z(r,e)}),g.each(t,function(e){var t,n;if(e.parentNode!==r.getBody()){for(t=e;t&&t!==o;t=t.parentNode)v(t)&&(n=t);L(r,n,e),T(r.dom,n.parentNode)}}),r.selection.setRng(k(e))},$=function(e,t,n){return u=n,(s=t)&&u&&v(s)&&s.nodeName===u.nodeName&&(i=t,a=n,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(a,"list-style-type",!0))&&(r=n,t.className===r.className);var r,o,i,a,s,u},G=function(e,t){var n,r;if(n=t.nextSibling,$(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,$(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Y=function(t,e,n,r,o){if(e.nodeName!==r||X(o)){var i=C(t.selection.getRng(!0));g.each([e].concat(n),function(e){!function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);U(e,o,r)}else U(e,t,r)}(t.dom,e,r,o)}),t.selection.setRng(k(i))}else K(t)},X=function(e){return"list-style-type"in e},J={toggleList:function(e,t,n){var r=D.getParentList(e),o=D.getSelectedSubLists(e);n=n||{},r&&0<o.length?Y(e,r,o,t,n):function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||X(r)){var o=C(e.selection.getRng(!0));U(e.dom,t,r),G(e.dom,e.dom.rename(t,n)),e.selection.setRng(k(o))}else K(e);else V(e,n,r)}(e,r,t,n)},removeList:K,mergeWithAdjacentLists:G},Z=function(e,t,n,r){var o,i,a=t.startContainer,s=t.startOffset;if(3===a.nodeType&&(n?s<a.data.length:0<s))return a;for(o=e.schema.getNonEmptyElements(),1===a.nodeType&&(a=u.getNode(a,s)),i=new c(a,r),n&&d(e.dom,a)&&i.next();a=i[n?"next":"prev2"]();){if("LI"===a.nodeName&&!a.hasChildNodes())return a;if(o[a.nodeName])return a;if(3===a.nodeType&&0<a.data.length)return a}},Q=function(e,t){var n=t.childNodes;return 1===n.length&&!v(n[0])&&e.isBlock(n[0])},ee=function(e,t,n){var r,o,i,a;if(o=Q(e,n)?n.firstChild:n,Q(i=e,a=t)&&i.remove(a.firstChild,!0),!h(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},te=function(e,t,n){var r,o,i=t.parentNode;p(e,t)&&p(e,n)&&(v(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&b(i.previousSibling)&&e.remove(i.previousSibling),(r=n.lastChild)&&b(r)&&t.hasChildNodes()&&e.remove(r),h(e,n,!0)&&e.$(n).empty(),ee(e,t,n),o&&n.appendChild(o),e.remove(t),h(e,i)&&i!==e.getRoot()&&e.remove(i))},ne=function(e,t,n,r){var o,i,a,s=e.dom;if(s.isEmpty(r))i=n,a=r,(o=e).dom.$(a).empty(),te(o.dom,i,a),o.selection.setCursorLocation(a);else{var u=C(t);te(s,n,r),e.selection.setRng(k(u))}},re=function(e,t){var n,r,o,i=e.dom,a=e.selection,s=a.getStart(),u=D.getClosestListRootElm(e,s),c=i.getParent(a.getStart(),"LI",u);if(c){if((n=c.parentNode)===e.getBody()&&h(i,n))return!0;if(r=w(a.getRng(!0)),(o=i.getParent(Z(e,r,t,u),"LI",u))&&o!==c)return t?ne(e,r,o,c):function(e,t,n,r){var o=C(t);te(e.dom,n,r);var i=k(o);e.selection.setRng(i)}(e,r,c,o),!0;if(!o&&!t&&J.removeList(e))return!0}return!1},oe=function(e,t){return re(e,t)||function(o,i){var a=o.dom,e=o.selection.getStart(),s=D.getClosestListRootElm(o,e),u=a.getParent(e,a.isBlock,s);if(u&&a.isEmpty(u)){var t=w(o.selection.getRng(!0)),c=a.getParent(Z(o,t,i,s),"LI",s);if(c)return o.undoManager.transact(function(){var e,t,n,r;t=u,n=s,r=(e=a).getParent(t.parentNode,e.isBlock,n),e.remove(t),r&&e.isEmpty(r)&&e.remove(r),J.mergeWithAdjacentLists(a,c.parentNode),o.selection.select(c,!0),o.selection.collapse(i)}),!0}return!1}(e,t)},ie=function(e,t){return e.selection.isCollapsed()?oe(e,t):(r=(n=e).selection.getStart(),o=D.getClosestListRootElm(n,r),!!(n.dom.getParent(r,"LI,DT,DD",o)||0<D.getSelectedListItems(n).length)&&(n.undoManager.transact(function(){n.execCommand("Delete"),T(n.dom,n.getBody())}),!0));var n,r,o},ae=function(t){t.on("keydown",function(e){e.keyCode===n.BACKSPACE?ie(t,!1)&&e.preventDefault():e.keyCode===n.DELETE&&ie(t,!0)&&e.preventDefault()})},se=ie,ue=function(t){return{backspaceDelete:function(e){se(t,e)}}},ce=t.DOM,le=function(e,t){var n;if(v(e)){for(;n=e.firstChild;)t.appendChild(n);ce.remove(e)}},fe=function(e){var t,n,r,o,i=D.getSelectedListItems(e);if(i.length){for(var a=C(e.selection.getRng(!0)),s=0;s<i.length&&(t=i[s],o=r=n=void 0,("DT"===t.nodeName?(ce.rename(t,"DD"),1):(n=t.previousSibling)&&v(n)?(n.appendChild(t),1):n&&"LI"===n.nodeName&&v(n.lastChild)?(n.lastChild.appendChild(t),le(t.lastChild,n.lastChild),1):(n=t.nextSibling)&&v(n)?(n.insertBefore(t,n.firstChild),1):(n=t.previousSibling)&&"LI"===n.nodeName&&(r=ce.create(t.parentNode.nodeName),(o=ce.getStyle(t.parentNode,"listStyleType"))&&ce.setStyle(r,"listStyleType",o),n.appendChild(r),r.appendChild(t),le(t.lastChild,r),1))||0!==s);s++);return e.selection.setRng(k(a)),e.nodeChanged(),!0}},de=function(t,n){return function(){var e=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===n}},he=function(r){r.on("BeforeExecCommand",function(e){var t,n=e.command.toLowerCase();if("indent"===n?fe(r)&&(t=!0):"outdent"===n&&q(r)&&(t=!0),t)return r.fire("ExecCommand",{command:e.command}),e.preventDefault(),!0}),r.addCommand("InsertUnorderedList",function(e,t){J.toggleList(r,"UL",t)}),r.addCommand("InsertOrderedList",function(e,t){J.toggleList(r,"OL",t)}),r.addCommand("InsertDefinitionList",function(e,t){J.toggleList(r,"DL",t)}),r.addQueryStateHandler("InsertUnorderedList",de(r,"UL")),r.addQueryStateHandler("InsertOrderedList",de(r,"OL")),r.addQueryStateHandler("InsertDefinitionList",de(r,"DL"))},pe=function(e){return e.getParam("lists_indent_on_tab",!0)},me=function(e){var t;pe(e)&&(t=e).on("keydown",function(e){e.keyCode!==n.TAB||n.metaKeyPressed(e)||t.dom.getParent(t.selection.getStart(),"LI,DT,DD")&&(e.preventDefault(),e.shiftKey?q(t):fe(t))}),ae(e)},ge=function(t,i){return function(e){var o=e.control;t.on("NodeChange",function(e){var t=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e.parents,a),n=-1!==t?e.parents.slice(0,t):e.parents,r=g.grep(n,v);o.active(0<r.length&&r[0].nodeName===i)})}},ve=function(e){var t,n,r,o;n="advlist",r=(t=e).settings.plugins?t.settings.plugins:"",-1===g.inArray(r.split(/[ ,]/),n)&&(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:ge(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:ge(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:(o=e,function(e){var n=e.control;o.on("nodechange",function(){var e=D.getSelectedListItems(o),t=0<e.length&&s(e[0]);n.disabled(t)})})})};e.add("lists",function(e){return me(e),ve(e),he(e),ue(e)})}()},function(e,t,n){n(142)},function(e,t){!function(){"use strict";var e,t,n,r,o,i,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(e){return function(){return e}},_={noop:function(){},noarg:function(e){return function(){return e()}},compose:function(e,t){return function(){return e(t.apply(null,arguments))}},constant:s,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(r){for(var o=new Array(arguments.length-1),e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}},not:function(e){return function(){return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:s(!1),always:s(!0)},u=_.never,c=_.always,l=function(){return f},f=(r={fold:function(e,t){return e()},is:u,isSome:u,isNone:c,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:l,ap:l,each:function(){},bind:l,flatten:l,exists:u,forall:c,filter:l,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:_.constant("none()")},Object.freeze&&Object.freeze(r),r),d=function(n){var e=function(){return n},t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:c,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,or:t,orThunk:t,map:function(e){return d(e(n))},ap:function(e){return e.fold(l,function(e){return d(e(n))})},each:function(e){e(n)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(n)?o:f},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(u,function(e){return t(n,e)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o},w={some:d,none:l,from:function(e){return null==e?f:d(e)}},h=void 0===(o=Array.prototype.indexOf)?function(e,t){return x(e,t)}:function(e,t){return o.call(e,t)},p=function(e,t){return-1<h(e,t)},m=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},g=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n,e)},v=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},b=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},y=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return w.some(n);return w.none()},x=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},C=Array.prototype.push,k=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t},S=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n,e))return!1;return!0},E=Array.prototype.slice,T={map:m,each:g,eachr:v,partition:function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o,e)?n:r).push(a)}return{pass:n,fail:r}},filter:b,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var s=e[i],u=t(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r},indexOf:function(e,t){var n=h(e,t);return-1===n?w.none():w.some(n)},foldr:function(e,t,n){return v(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return g(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return w.some(o)}return w.none()},findIndex:y,flatten:k,bind:function(e,t){var n=m(e,t);return k(n)},forall:S,exists:function(e,t){return y(e,t).isSome()},contains:p,equal:function(e,n){return e.length===n.length&&S(e,function(e,t){return e===n[t]})},reverse:function(e){var t=E.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},difference:function(e,t){return b(e,function(e){return!p(t,e)})},mapToObject:function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},pure:function(e){return[e]},sort:function(e,t){var n=E.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},head:function(e){return 0===e.length?w.none():w.some(e[0])},last:function(e){return 0===e.length?w.none():w.some(e[e.length-1])}},A=void 0===(i=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:i,R=function(e,t){for(var n=A(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i,e)}},N=function(r,o){var i={};return R(r,function(e,t){var n=o(e,t,r);i[n.k]=n.v}),i},D=function(e,n){var r=[];return R(e,function(e,t){r.push(n(e,t))}),r},O=function(e){return D(e,function(e){return e})},B={bifilter:function(e,n){var r={},o={};return R(e,function(e,t){(n(e,t)?r:o)[t]=e}),{t:r,f:o}},each:R,map:function(e,r){return N(e,function(e,t,n){return{k:t,v:r(e,t,n)}})},mapToArray:D,tupleMap:N,find:function(e,t){for(var n=A(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return w.some(a)}return w.none()},keys:A,values:O,size:function(e){return O(e).length}},P=function(t){return function(e){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(e)===t}},M={isString:P("string"),isObject:P("object"),isArray:P("array"),isNull:P("null"),isBoolean:P("boolean"),isUndefined:P("undefined"),isFunction:P("function"),isNumber:P("number")},L=function(e){return e.slice(0).sort()},I={sort:L,reqMessage:function(e,t){throw new Error("All required keys ("+L(e).join(", ")+") were not specified. Specified keys were: "+L(t).join(", ")+".")},unsuppMessage:function(e){throw new Error("Unsupported keys for object: "+L(e).join(", "))},validateStrArr:function(t,e){if(!M.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");T.each(e,function(e){if(!M.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+L(e).join(", ")+") were not.")},checkDupes:function(e){var n=L(e);T.find(n,function(e,t){return t<n.length-1&&e===n[t+1]}).each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+n.join(", ")+"].")})}},F={immutable:function Immutable(){var t=arguments;return function(){for(var n=new Array(arguments.length),e=0;e<n.length;e++)n[e]=arguments[e];if(t.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+n.length+" arguments");var r={};return T.each(t,function(e,t){r[e]=_.constant(n[t])}),r}},immutableBag:function MixedBag(o,i){var a=o.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return I.validateStrArr("required",o),I.validateStrArr("optional",i),I.checkDupes(a),function(t){var n=B.keys(t);T.forall(o,function(e){return T.contains(n,e)})||I.reqMessage(o,n);var e=T.filter(n,function(e){return!T.contains(a,e)});0<e.length&&I.unsuppMessage(e);var r={};return T.each(o,function(e){r[e]=_.constant(t[e])}),T.each(i,function(e){r[e]=_.constant(Object.prototype.hasOwnProperty.call(t,e)?w.some(t[e]):w.none())}),r}}},j=F.immutable("width","height"),z=F.immutable("rows","columns"),q=F.immutable("row","column"),H=F.immutable("x","y"),U=F.immutable("element","rowspan","colspan"),W=F.immutable("element","rowspan","colspan","isNew"),V={dimensions:j,grid:z,address:q,coords:H,extended:F.immutable("element","rowspan","colspan","row","column"),detail:U,detailnew:W,rowdata:F.immutable("element","cells","section"),elementnew:F.immutable("element","isNew"),rowdatanew:F.immutable("element","cells","section","isNew"),rowcells:F.immutable("cells","section"),rowdetails:F.immutable("details","section"),bounds:F.immutable("startRow","startCol","finishRow","finishCol")},K=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:_.constant(e)}},$={fromHtml:function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return K(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return K(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return K(n)},fromDom:K,fromPoint:function(e,t,n){return w.from(e.dom().elementFromPoint(t,n)).map(K)}},G=8,Y=9,X=1,J=3,Z=X,Q=Y,ee=function(e){return e.nodeType!==Z&&e.nodeType!==Q||0===e.childElementCount},te={all:function(e,t){var n=void 0===t?document:t.dom();return ee(n)?[]:T.map(n.querySelectorAll(e),$.fromDom)},is:function(e,t){var n=e.dom();if(n.nodeType!==Z)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return ee(n)?w.none():w.from(n.querySelector(e)).map($.fromDom)}},ne=function(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n},re="undefined"!=typeof window?window:Function("return this;")(),oe=function(e,t){for(var n=null!=t?t:re,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},ie=function(e,t){var n=e.split(".");return oe(n,t)},ae=function(e,t){var n=ie(e,t);if(null==n)throw e+" not available on this browser";return n},se=function(){return ae("Node")},ue=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},ce=function(e,t){return ue(e,t,se().DOCUMENT_POSITION_CONTAINED_BY)},le=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},fe=function(){return de(0,0)},de=function(e,t){return{major:e,minor:t}},he={nu:de,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?fe():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return de(r(1),r(2))}(e,n)},unknown:fe},pe=function(e,t){return function(){return t===e}},me=function(e){var t=e.current;return{current:t,version:e.version,isEdge:pe("Edge",t),isChrome:pe("Chrome",t),isIE:pe("IE",t),isOpera:pe("Opera",t),isFirefox:pe("Firefox",t),isSafari:pe("Safari",t)}},ge={unknown:function(){return me({current:void 0,version:he.unknown()})},nu:me,edge:_.constant("Edge"),chrome:_.constant("Chrome"),ie:_.constant("IE"),opera:_.constant("Opera"),firefox:_.constant("Firefox"),safari:_.constant("Safari")},ve=function(e,t){return function(){return t===e}},be=function(e){var t=e.current;return{current:t,version:e.version,isWindows:ve("Windows",t),isiOS:ve("iOS",t),isAndroid:ve("Android",t),isOSX:ve("OSX",t),isLinux:ve("Linux",t),isSolaris:ve("Solaris",t),isFreeBSD:ve("FreeBSD",t)}},ye={unknown:function(){return be({current:void 0,version:he.unknown()})},nu:be,windows:_.constant("Windows"),ios:_.constant("iOS"),android:_.constant("Android"),linux:_.constant("Linux"),osx:_.constant("OSX"),solaris:_.constant("Solaris"),freebsd:_.constant("FreeBSD")},_e=function(e,t){var n=String(t).toLowerCase();return T.find(e,function(e){return e.search(n)})},we=function(e,n){return _e(e,n).map(function(e){var t=he.detect(e.versionRegexes,n);return{current:e.name,version:t}})},xe=function(e,n){return _e(e,n).map(function(e){var t=he.detect(e.versionRegexes,n);return{current:e.name,version:t}})},Ce=function(e,t){return t+e},ke=function(e,t){return e+t},Se=function(e,t){return e.substring(t)},Ee=function(e,t){return e.substring(0,e.length-t)},Te=function(e){return""===e?w.none():w.some(e.substr(0,1))},Ae=function(e){return""===e?w.none():w.some(e.substring(1))},Re=function(e,t,n){return""===t||!(e.length<t.length)&&e.substr(n,n+t.length)===t},Ne=function(e,t){return Re(e,t,0)},De=function(e,t){return Re(e,t,e.length-t.length)},Oe={supplant:function(e,o){return e.replace(/\${([^{}]*)}/g,function(e,t){var n,r=o[t];return"string"==(n=typeof r)||"number"===n?r:e})},startsWith:Ne,removeLeading:function(e,t){return Ne(e,t)?Se(e,t.length):e},removeTrailing:function(e,t){return De(e,t)?Ee(e,t.length):e},ensureLeading:function(e,t){return Ne(e,t)?e:Ce(e,t)},ensureTrailing:function(e,t){return De(e,t)?e:ke(e,t)},endsWith:De,contains:function(e,t){return-1!==e.indexOf(t)},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},lTrim:function(e){return e.replace(/^\s+/g,"")},rTrim:function(e){return e.replace(/\s+$/g,"")},capitalize:function(e){return Te(e).bind(function(t){return Ae(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)}},Be=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pe=function(t){return function(e){return Oe.contains(e,t)}},Me=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Oe.contains(e,"edge/")&&Oe.contains(e,"chrome")&&Oe.contains(e,"safari")&&Oe.contains(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Be],search:function(e){return Oe.contains(e,"chrome")&&!Oe.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Oe.contains(e,"msie")||Oe.contains(e,"trident")}},{name:"Opera",versionRegexes:[Be,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pe("firefox")},{name:"Safari",versionRegexes:[Be,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Oe.contains(e,"safari")||Oe.contains(e,"mobile/"))&&Oe.contains(e,"applewebkit")}}],Le=[{name:"Windows",search:Pe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Oe.contains(e,"iphone")||Oe.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pe("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pe("linux"),versionRegexes:[]},{name:"Solaris",search:Pe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pe("freebsd"),versionRegexes:[]}],Ie={browsers:_.constant(Me),oses:_.constant(Le)},Fe=function(e){var t=Ie.browsers(),n=Ie.oses(),r=we(t,e).fold(ge.unknown,ge.nu),o=xe(n,e).fold(ye.unknown,ye.nu);return{browser:r,os:o,deviceType:function DeviceType(e,t,n){var r=e.isiOS()&&!0===/ipad/i.test(n),o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,s=r||i||a&&!0===/mobile/i.test(n),u=e.isiOS()||e.isAndroid(),c=u&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n);return{isiPad:_.constant(r),isiPhone:_.constant(o),isTablet:_.constant(s),isPhone:_.constant(c),isTouch:_.constant(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:_.constant(l)}}(o,r,e)}},je={detect:le(function(){var e=navigator.userAgent;return Fe(e)})},ze=function(e,t){return e.dom()===t.dom()},qe=je.detect().browser.isIE()?function(e,t){return ce(e.dom(),t.dom())}:function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},He={eq:ze,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return T.exists(t,_.curry(ze,e))},contains:qe,is:te.is},Ue=function(e){return $.fromDom(e.dom().ownerDocument)},We=function(e){var t=e.dom();return w.from(t.parentNode).map($.fromDom)},Ve=function(e){var t=e.dom();return w.from(t.previousSibling).map($.fromDom)},Ke=function(e){var t=e.dom();return w.from(t.nextSibling).map($.fromDom)},$e=function(e){var t=e.dom();return T.map(t.childNodes,$.fromDom)},Ge=function(e,t){var n=e.dom().childNodes;return w.from(n[t]).map($.fromDom)},Ye=F.immutable("element","offset"),Xe={owner:Ue,defaultView:function(e){var t=e.dom().ownerDocument.defaultView;return $.fromDom(t)},documentElement:function(e){var t=Ue(e);return $.fromDom(t.dom().documentElement)},parent:We,findIndex:function(n){return We(n).bind(function(e){var t=$e(e);return T.findIndex(t,function(e){return He.eq(n,e)})})},parents:function(e,t){for(var n=M.isFunction(t)?t:_.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=$.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},siblings:function(t){return We(t).map($e).map(function(e){return T.filter(e,function(e){return!He.eq(t,e)})}).getOr([])},prevSibling:Ve,offsetParent:function(e){var t=e.dom();return w.from(t.offsetParent).map($.fromDom)},prevSiblings:function(e){return T.reverse(ne(e,Ve))},nextSibling:Ke,nextSiblings:function(e){return ne(e,Ke)},children:$e,child:Ge,firstChild:function(e){return Ge(e,0)},lastChild:function(e){return Ge(e,e.dom().childNodes.length-1)},childNodesCount:function(e){return e.dom().childNodes.length},hasChildNodes:function(e){return e.dom().hasChildNodes()},leaf:function(e,t){var n=$e(e);return 0<n.length&&t<n.length?Ye(n[t],0):Ye(e,t)}},Je=function(e,t,n){return T.bind(Xe.children(e),function(e){return te.is(e,t)?n(e)?[e]:[]:Je(e,t,n)})},Ze={firstLayer:function(e,t){return Je(e,t,_.constant(!0))},filterFirstLayer:Je},Qe=function(e){return e.dom().nodeName.toLowerCase()},et=function(e){return e.dom().nodeType},tt=function(t){return function(e){return et(e)===t}},nt=tt(X),rt=tt(J),ot=tt(Y),it={name:Qe,type:et,value:function(e){return e.dom().nodeValue},isElement:nt,isText:rt,isDocument:ot,isComment:function(e){return et(e)===G||"#comment"===Qe(e)}},at=function(e,t,n){if(!(M.isString(n)||M.isBoolean(n)||M.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},st=function(e,t,n){at(e.dom(),t,n)},ut=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},ct=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},lt={clone:function(e){return T.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},set:st,setAll:function(e,t){var n=e.dom();B.each(t,function(e,t){at(n,t,e)})},get:ut,has:ct,remove:function(e,t){e.dom().removeAttribute(t)},hasNone:function(e){var t=e.dom().attributes;return null==t||0===t.length},transfer:function(o,i,e){it.isElement(o)&&it.isElement(i)&&T.each(e,function(e){var t,n,r;n=i,ct(t=o,r=e)&&!ct(n,r)&&st(n,r,ut(t,r))})}},ft=le(function(){return dt($.fromDom(document))}),dt=function(e){var t=e.dom().body;if(null==t)throw"Body is not available yet";return $.fromDom(t)},ht={body:ft,getBody:dt,inBody:function(e){var t=it.isText(e)?e.dom().parentNode:e.dom();return null!=t&&t.ownerDocument.body.contains(t)}},pt=function(e,t){var n=[];return T.each(Xe.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(pt(e,t))}),n},mt={all:function(e){return pt(ht.body(),e)},ancestors:function(e,t,n){return T.filter(Xe.parents(e,n),t)},siblings:function(e,t){return T.filter(Xe.siblings(e),t)},children:function(e,t){return T.filter(Xe.children(e),t)},descendants:pt},gt={all:function(e){return te.all(e)},ancestors:function(e,t,n){return mt.ancestors(e,function(e){return te.is(e,t)},n)},siblings:function(e,t){return mt.siblings(e,function(e){return te.is(e,t)})},children:function(e,t){return mt.children(e,function(e){return te.is(e,t)})},descendants:function(e,t){return te.all(t,e)}};function ClosestOrAncestor(e,t,n,r,o){return e(n,r)?w.some(n):M.isFunction(o)&&o(n)?w.none():t(n,r,o)}var vt=function(e,t,n){for(var r=e.dom(),o=M.isFunction(n)?n:_.constant(!1);r.parentNode;){r=r.parentNode;var i=$.fromDom(r);if(t(i))return w.some(i);if(o(i))break}return w.none()},bt=function(e,t){return T.find(e.dom().childNodes,_.compose(t,$.fromDom)).map($.fromDom)},yt=function(e,r){var o=function(e){for(var t=0;t<e.childNodes.length;t++){if(r($.fromDom(e.childNodes[t])))return w.some($.fromDom(e.childNodes[t]));var n=o(e.childNodes[t]);if(n.isSome())return n}return w.none()};return o(e.dom())},_t={first:function(e){return yt(ht.body(),e)},ancestor:vt,closest:function(e,t,n){return ClosestOrAncestor(function(e){return t(e)},vt,e,t,n)},sibling:function(t,n){var e=t.dom();return e.parentNode?bt($.fromDom(e.parentNode),function(e){return!He.eq(t,e)&&n(e)}):w.none()},child:bt,descendant:yt},wt=function(e,t,n){return _t.ancestor(e,function(e){return te.is(e,t)},n)},xt={first:function(e){return te.one(e)},ancestor:wt,sibling:function(e,t){return _t.sibling(e,function(e){return te.is(e,t)})},child:function(e,t){return _t.child(e,function(e){return te.is(e,t)})},descendant:function(e,t){return te.one(t,e)},closest:function(e,t,n){return ClosestOrAncestor(te.is,wt,e,t,n)}},Ct=function(e,t,n){var r=void 0!==n?n:_.constant(!1);return r(t)?w.none():T.contains(e,it.name(t))?w.some(t):xt.ancestor(t,e.join(","),function(e){return te.is(e,"table")||r(e)})},kt=function(t,e){return Xe.parent(e).map(function(e){return gt.children(e,t)})},St=_.curry(kt,"th,td"),Et=_.curry(kt,"tr"),Tt=function(e,t){return parseInt(lt.get(e,t),10)},At={cell:function(e,t){return Ct(["td","th"],e,t)},firstCell:function(e){return xt.descendant(e,"th,td")},cells:function(e){return Ze.firstLayer(e,"th,td")},neighbourCells:St,table:function(e,t){return xt.closest(e,"table",t)},row:function(e,t){return Ct(["tr"],e,t)},rows:function(e){return Ze.firstLayer(e,"tr")},notCell:function(e,t){return Ct(["caption","tr","tbody","tfoot","thead"],e,t)},neighbourRows:Et,attr:Tt,grid:function(e,t,n){var r=Tt(e,t),o=Tt(e,n);return V.grid(r,o)}},Rt=function(e){var t=At.rows(e);return T.map(t,function(e){var t=e,n=Xe.parent(t).bind(function(e){var t=it.name(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}),r=T.map(At.cells(e),function(e){var t=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1,n=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1;return V.detail(e,t,n)});return V.rowdata(t,r,n)})},Nt=function(e,n){return T.map(e,function(e){var t=T.map(At.cells(e),function(e){var t=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1,n=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1;return V.detail(e,t,n)});return V.rowdata(e,t,n.section())})},Dt=function(e,t){return e+","+t},Ot=function(e,t){var n=T.bind(e.all(),function(e){return e.cells()});return T.filter(n,t)},Bt={generate:function(e){var l={},t=[],n=e.length,f=0;T.each(e,function(e,u){var c=[];T.each(e.cells(),function(e,t){for(var n=0;void 0!==l[Dt(u,n)];)n++;for(var r=V.extended(e.element(),e.rowspan(),e.colspan(),u,n),o=0;o<e.colspan();o++)for(var i=0;i<e.rowspan();i++){var a=n+o,s=Dt(u+i,a);l[s]=r,f=Math.max(f,a+1)}c.push(r)}),t.push(V.rowdata(e.element(),c,e.section()))});var r=V.grid(n,f);return{grid:_.constant(r),access:_.constant(l),all:_.constant(t)}},getAt:function(e,t,n){var r=e.access()[Dt(t,n)];return void 0!==r?w.some(r):w.none()},findItem:function(e,t,n){var r=Ot(e,function(e){return n(t,e.element())});return 0<r.length?w.some(r[0]):w.none()},filterItems:Ot,justCells:function(e){var t=T.map(e.all(),function(e){return e.cells()});return T.flatten(t)}},Pt={isSupported:function(e){return void 0!==e.style}},Mt=function(e,t,n){if(!M.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Pt.isSupported(e)&&e.style.setProperty(t,n)},Lt=function(e,t){Pt.isSupported(e)&&e.style.removeProperty(t)},It=function(e,t,n){var r=e.dom();Mt(r,t,n)},Ft=function(e,t){return Pt.isSupported(e)?e.style.getPropertyValue(t):""},jt=function(e,t){var n=e.dom(),r=Ft(n,t);return w.from(r).filter(function(e){return 0<e.length})},zt={copy:function(e,t){var n=e.dom(),r=t.dom();Pt.isSupported(n)&&Pt.isSupported(r)&&(r.style.cssText=n.style.cssText)},set:It,preserve:function(e,t){var n=lt.get(e,"style"),r=t(e);return(void 0===n?lt.remove:lt.set)(e,"style",n),r},setAll:function(e,t){var n=e.dom();B.each(t,function(e,t){Mt(n,t,e)})},setOptions:function(e,t){var n=e.dom();B.each(t,function(e,t){e.fold(function(){Lt(n,t)},function(e){Mt(n,t,e)})})},remove:function(e,t){var n=e.dom();Lt(n,t),lt.has(e,"style")&&""===Oe.trim(lt.get(e,"style"))&&lt.remove(e,"style")},get:function(e,t){var n=e.dom(),r=window.getComputedStyle(n).getPropertyValue(t),o=""!==r||ht.inBody(e)?r:Ft(n,t);return null===o?void 0:o},getRaw:jt,getAllRaw:function(e){var t={},n=e.dom();if(Pt.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},isValidValue:function(e,t,n){var r=$.fromTag(e);return It(r,t,n),jt(r,t).isSome()},reflow:function(e){return e.dom().offsetWidth},transfer:function(r,o,e){it.isElement(r)&&it.isElement(o)&&T.each(e,function(e){var t,n;t=o,jt(r,n=e).each(function(e){jt(t,n).isNone()&&It(t,n,e)})})}},qt=function(t,n){Xe.parent(t).each(function(e){e.dom().insertBefore(n.dom(),t.dom())})},Ht=function(e,t){e.dom().appendChild(t.dom())},Ut={before:qt,after:function(e,t){Xe.nextSibling(e).fold(function(){Xe.parent(e).each(function(e){Ht(e,t)})},function(e){qt(e,t)})},prepend:function(t,n){Xe.firstChild(t).fold(function(){Ht(t,n)},function(e){t.dom().insertBefore(n.dom(),e.dom())})},append:Ht,appendAt:function(e,t,n){Xe.child(e,n).fold(function(){Ht(e,t)},function(e){qt(e,t)})},wrap:function(e,t){qt(e,t),Ht(t,e)}},Wt={before:function(t,e){T.each(e,function(e){Ut.before(t,e)})},after:function(r,o){T.each(o,function(e,t){var n=0===t?r:o[t-1];Ut.after(n,e)})},prepend:function(t,e){T.each(e.slice().reverse(),function(e){Ut.prepend(t,e)})},append:function(t,e){T.each(e,function(e){Ut.append(t,e)})}},Vt=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Kt={empty:function(e){e.dom().textContent="",T.each(Xe.children(e),function(e){Vt(e)})},remove:Vt,unwrap:function(e){var t=Xe.children(e);0<t.length&&Wt.before(e,t),Vt(e)}},$t=F.immutable("minRow","minCol","maxRow","maxCol"),Gt=function(e,t){var n,i,r,a,s,u,c,o,l,f,d=function(e){return te.is(e.element(),t)},h=Rt(e),p=Bt.generate(h),m=(i=d,r=(n=p).grid().columns(),a=n.grid().rows(),s=r,c=u=0,B.each(n.access(),function(e){if(i(e)){var t=e.row(),n=t+e.rowspan()-1,r=e.column(),o=r+e.colspan()-1;t<a?a=t:u<n&&(u=n),r<s?s=r:c<o&&(c=o)}}),$t(a,s,u,c)),g="th:not("+t+"),td:not("+t+")",v=Ze.filterFirstLayer(e,"th,td",function(e){return te.is(e,g)});return T.each(v,Kt.remove),function(e,t,n,r){for(var o,i,a,s=t.grid().columns(),u=t.grid().rows(),c=0;c<u;c++)for(var l=!1,f=0;f<s;f++)c<n.minRow()||c>n.maxRow()||f<n.minCol()||f>n.maxCol()||(Bt.getAt(t,c,f).filter(r).isNone()?(o=l,i=e[c].element(),a=$.fromTag("td"),Ut.append(a,$.fromTag("br")),(o?Ut.append:Ut.prepend)(i,a)):l=!0)}(h,p,m,d),o=e,l=m,f=T.filter(Ze.firstLayer(o,"tr"),function(e){return 0===e.dom().childElementCount}),T.each(f,Kt.remove),l.minCol()!==l.maxCol()&&l.minRow()!==l.maxRow()||T.each(Ze.firstLayer(o,"th,td"),function(e){lt.remove(e,"rowspan"),lt.remove(e,"colspan")}),lt.remove(o,"width"),lt.remove(o,"height"),zt.remove(o,"width"),zt.remove(o,"height"),e},Yt=function(e,t){return $.fromDom(e.dom().cloneNode(t))},Xt=function(e){return Yt(e,!0)},Jt=function(e,t){var n=$.fromTag(t),r=lt.clone(e);return lt.setAll(n,r),n},Zt=function(e){return Yt(e,!1)},Qt=Xt,en=function(e,t){var n=Jt(e,t),r=Xe.children(Xt(e));return Wt.append(n,r),n},tn=function NodeValue(n,r){var t=function(e){return n(e)?w.from(e.dom().nodeValue):w.none()},e=je.detect().browser,o=e.isIE()&&10===e.version.major?function(e){try{return t(e)}catch(e){return w.none()}}:t;return{get:function(e){if(!n(e))throw new Error("Can only get "+r+" value of a "+r+" node");return o(e).getOr("")},getOption:o,set:function(e,t){if(!n(e))throw new Error("Can only set raw "+r+" value of a "+r+" node");e.dom().nodeValue=t}}}(it.isText,"text"),nn={get:function(e){return tn.get(e)},getOption:function(e){return tn.getOption(e)},set:function(e,t){tn.set(e,t)}},rn=function(e){return"img"===it.name(e)?1:nn.getOption(e).fold(function(){return Xe.children(e).length},function(e){return e.length})},on=["img","br"],an=rn,sn=function(e){var t;return t=e,nn.getOption(t).filter(function(e){return 0!==e.trim().length||-1<e.indexOf("\xa0")}).isSome()||T.contains(on,it.name(e))},un=function(e,i){var a=function(e){for(var t=Xe.children(e),n=t.length-1;0<=n;n--){var r=t[n];if(i(r))return w.some(r);var o=a(r);if(o.isSome())return o}return w.none()};return a(e)},cn={first:function(e){return _t.descendant(e,sn)},last:function(e){return un(e,sn)}},ln=function(){var e=$.fromTag("td");return Ut.append(e,$.fromTag("br")),e},fn=function(e,t,n){var r=en(e,t);return B.each(n,function(e,t){null===e?lt.remove(r,t):lt.set(r,t,e)}),r},dn=function(e){return e},hn=function(e){return function(){return $.fromTag("tr",e.dom())}},pn={cellOperations:function(u,e,c){return{row:hn(e),cell:function(e){var r,o,i,t=Xe.owner(e.element()),n=$.fromTag(it.name(e.element()),t.dom()),a=c.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=0<a.length?(r=e.element(),o=n,i=a,cn.first(r).map(function(e){var t=i.join(","),n=gt.ancestors(e,t,function(e){return He.eq(e,r)});return T.foldr(n,function(e,t){var n=Zt(t);return Ut.append(e,n),n},o)}).getOr(o)):n;return Ut.append(s,$.fromTag("br")),zt.copy(e.element(),n),zt.remove(n,"height"),1!==e.colspan()&&zt.remove(e.element(),"width"),u(e.element(),n),n},replace:fn,gap:ln}},paste:function(e){return{row:hn(e),cell:ln,replace:dn,gap:ln}}},mn=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,Xe.children($.fromDom(n))},gn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function DomUniverse(){return{up:_.constant({selector:xt.ancestor,closest:xt.closest,predicate:_t.ancestor,all:Xe.parents}),down:_.constant({selector:gt.descendants,predicate:mt.descendants}),styles:_.constant({get:zt.get,getRaw:zt.getRaw,set:zt.set,remove:zt.remove}),attrs:_.constant({get:lt.get,set:lt.set,remove:lt.remove,copyTo:function(e,t){var n=lt.clone(e);lt.setAll(t,n)}}),insert:_.constant({before:Ut.before,after:Ut.after,afterAll:Wt.after,append:Ut.append,appendAll:Wt.append,prepend:Ut.prepend,wrap:Ut.wrap}),remove:_.constant({unwrap:Kt.unwrap,remove:Kt.remove}),create:_.constant({nu:$.fromTag,clone:function(e){return $.fromDom(e.dom().cloneNode(!1))},text:$.fromText}),query:_.constant({comparePosition:function(e,t){return e.dom().compareDocumentPosition(t.dom())},prevSibling:Xe.prevSibling,nextSibling:Xe.nextSibling}),property:_.constant({children:Xe.children,name:it.name,parent:Xe.parent,isText:it.isText,isComment:it.isComment,isElement:it.isElement,getText:nn.get,setText:nn.set,isBoundary:function(e){return!!it.isElement(e)&&("body"===it.name(e)||T.contains(gn,it.name(e)))},isEmptyTag:function(e){return!!it.isElement(e)&&T.contains(["br","img","hr","input"],it.name(e))}}),eq:He.eq,is:He.is}}F.immutable("left","right");var vn=function(r,o,e,t){var n=o(r,e);return T.foldr(t,function(e,t){var n=o(r,t);return bn(r,e,n)},n)},bn=function(t,e,n){return e.bind(function(e){return n.filter(_.curry(t.eq,e))})},yn=function(e,t,n){return 0<n.length?vn(e,t,(r=n)[0],r.slice(1)):w.none();var r},_n=function(e,t){return _.curry(e.eq,t)},wn=function(t,e,n,r){var o=void 0!==r?r:_.constant(!1),i=[e].concat(t.up().all(e)),a=[n].concat(t.up().all(n)),s=function(t){return T.findIndex(t,o).fold(function(){return t},function(e){return t.slice(0,e+1)})},u=s(i),c=s(a),l=T.find(u,function(e){return T.exists(c,_n(t,e))});return{firstpath:_.constant(u),secondpath:_.constant(c),shared:_.constant(l)}},xn=wn,Cn=function(e,t,n){return yn(e,t,n)},kn=function(e,t,n,r){return xn(e,t,n,r)},Sn=DomUniverse(),En=function(n,e){return Cn(Sn,function(e,t){return n(t)},e)},Tn=function(e,t,n){return kn(Sn,e,t,n)},An=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},Rn=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},Nn=function(e,t){for(var n=!0,r=_.curry(An,t),o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)n=n&&Bt.getAt(e,o,i).exists(r);return n?w.some(t):w.none()},Dn=function(e,t,n){var r=Bt.findItem(e,t,He.eq),o=Bt.findItem(e,n,He.eq);return r.bind(function(r){return o.map(function(e){return t=r,n=e,V.bounds(Math.min(t.row(),n.row()),Math.min(t.column(),n.column()),Math.max(t.row()+t.rowspan()-1,n.row()+n.rowspan()-1),Math.max(t.column()+t.colspan()-1,n.column()+n.colspan()-1));var t,n})})},On=Dn,Bn=function(t,e,n){return Dn(t,e,n).bind(function(e){return Nn(t,e)})},Pn=function(r,e,o,i){return Bt.findItem(r,e,He.eq).bind(function(e){var t=0<o?e.row()+e.rowspan()-1:e.row(),n=0<i?e.column()+e.colspan()-1:e.column();return Bt.getAt(r,t+o,n+i).map(function(e){return e.element()})})},Mn=function(n,e,t){return On(n,e,t).map(function(e){var t=Bt.filterItems(n,_.curry(Rn,e));return T.map(t,function(e){return e.element()})})},Ln=function(e,t){return Bt.findItem(e,t,function(e,t){return He.contains(t,e)}).bind(function(e){return e.element()})},In=function(e){var t=Rt(e);return Bt.generate(t)},Fn=function(n,r,o){return At.table(n).bind(function(e){var t=In(e);return Pn(t,n,r,o)})},jn=function(e,t,n){var r=In(e);return Mn(r,t,n)},zn=function(e,t,n,r,o){var i=In(e),a=He.eq(e,n)?t:Ln(i,t),s=He.eq(e,o)?r:Ln(i,r);return Mn(i,a,s)},qn=function(e,t,n){var r=In(e);return Bn(r,t,n)},Hn=function(e,t){return xt.ancestor(e,"table")},Un=F.immutableBag(["boxes","start","finish"],[]),Wn=function(s,u,r){var c=function(t){return function(e){return r(e)||He.eq(e,t)}};return He.eq(s,u)?w.some(Un({boxes:w.some([s]),start:s,finish:u})):Hn(s).bind(function(a){return Hn(u).bind(function(i){if(He.eq(a,i))return w.some(Un({boxes:jn(a,s,u),start:s,finish:u}));if(He.contains(a,i)){var e=0<(t=gt.ancestors(u,"td,th",c(a))).length?t[t.length-1]:u;return w.some(Un({boxes:zn(a,s,a,u,i),start:s,finish:e}))}if(He.contains(i,a)){var t,n=0<(t=gt.ancestors(s,"td,th",c(i))).length?t[t.length-1]:s;return w.some(Un({boxes:zn(i,s,a,u,i),start:s,finish:n}))}return Tn(s,u).shared().bind(function(e){return xt.closest(e,"table",r).bind(function(e){var t=gt.ancestors(u,"td,th",c(e)),n=0<t.length?t[t.length-1]:u,r=gt.ancestors(s,"td,th",c(e)),o=0<r.length?r[r.length-1]:s;return w.some(Un({boxes:zn(e,s,a,u,i),start:o,finish:n}))})})})})},Vn={identify:Wn,retrieve:function(e,t){var n=gt.descendants(e,t);return 0<n.length?w.some(n):w.none()},shiftSelection:function(e,t,n,r,o){return(i=e,a=o,T.find(i,function(e){return te.is(e,a)})).bind(function(e){return Fn(e,t,n).bind(function(e){return t=e,n=r,xt.ancestor(t,"table").bind(function(e){return xt.descendant(e,n).bind(function(e){return Wn(e,t).bind(function(t){return t.boxes().map(function(e){return{boxes:_.constant(e),start:_.constant(t.start()),finish:_.constant(t.finish())}})})})});var t,n})});var i,a},getEdges:function(e,t,r){return xt.descendant(e,t).bind(function(n){return xt.descendant(e,r).bind(function(t){return En(Hn,[n,t]).map(function(e){return{first:_.constant(n),last:_.constant(t),table:_.constant(e)}})})})}},Kn={retrieve:function(e,t){return Vn.retrieve(e,t)},retrieveBox:function(o,e,t){return Vn.getEdges(o,e,t).bind(function(n){var e=function(e){return He.eq(o,e)},t=xt.ancestor(n.first(),"thead,tfoot,tbody,table",e),r=xt.ancestor(n.last(),"thead,tfoot,tbody,table",e);return t.bind(function(t){return r.bind(function(e){return He.eq(t,e)?qn(n.table(),n.first(),n.last()):w.none()})})})}},$n="data-mce-selected",Gn="data-mce-first-selected",Yn="data-mce-last-selected",Xn={selected:_.constant($n),selectedSelector:_.constant("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:_.constant("[data-mce-selected]"),firstSelected:_.constant(Gn),firstSelectedSelector:_.constant("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:_.constant(Yn),lastSelectedSelector:_.constant("td[data-mce-last-selected],th[data-mce-last-selected]")},Jn=function(a){if(!M.isArray(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var s=[],n={};return T.each(a,function(e,r){var t=B.keys(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!M.isArray(i))throw new Error("case arguments must be an array");s.push(o),n[o]=function(){var e=arguments.length;if(e!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+e);for(var n=new Array(e),t=0;t<n.length;t++)n[t]=arguments[t];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[r].apply(null,n)},match:function(e){var t=B.keys(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(!T.forall(s,function(e){return T.contains(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:s,constructor:o,params:n})}}}}),n},Zn=Jn([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Qn={cata:function(e,t,n,r){return e.fold(t,n,r)},none:Zn.none,multiple:Zn.multiple,single:Zn.single},er=function(e,t){return Qn.cata(t.get(),_.constant([]),_.identity,_.constant([e]))},tr=function(n,e){return Qn.cata(e.get(),w.none,function(t,e){return 0===t.length?w.none():Kn.retrieveBox(n,Xn.firstSelectedSelector(),Xn.lastSelectedSelector()).bind(function(e){return 1<t.length?w.some({bounds:_.constant(e),cells:_.constant(t)}):w.none()})},w.none)},nr=function(e,t){var n=er(e,t);return 0<n.length&&T.forall(n,function(e){return lt.has(e,"rowspan")&&1<parseInt(lt.get(e,"rowspan"),10)||lt.has(e,"colspan")&&1<parseInt(lt.get(e,"colspan"),10)})?w.some(n):w.none()},rr=er,or=function(e){return{element:_.constant(e),mergable:w.none,unmergable:w.none,selection:_.constant([e])}},ir=F.immutable("element","clipboard","generators"),ar={noMenu:or,forMenu:function(e,t,n){return{element:_.constant(n),mergable:_.constant(tr(t,e)),unmergable:_.constant(nr(n,e)),selection:_.constant(rr(n,e))}},notCell:function(e){return or(e)},paste:ir,pasteRows:function(e,t,n,r,o){return{element:_.constant(n),mergable:w.none,unmergable:w.none,selection:_.constant(rr(n,e)),clipboard:_.constant(r),generators:_.constant(o)}}},sr={registerEvents:function(s,e,u,c){s.on("BeforeGetContent",function(n){!0===n.selection&&Qn.cata(e.get(),_.noop,function(e){var t;n.preventDefault(),(t=e,At.table(t[0]).map(Qt).map(function(e){return[Gt(e,Xn.attributeSelector())]})).each(function(e){n.content=T.map(e,function(e){return t=e,s.selection.serializer.serialize(t.dom(),{});var t}).join("")})},_.noop)}),s.on("BeforeSetContent",function(a){!0===a.selection&&!0===a.paste&&w.from(s.dom.getParent(s.selection.getStart(),"th,td")).each(function(e){var i=$.fromDom(e);At.table(i).bind(function(t){var e=T.filter(mn(a.content),function(e){return"meta"!==it.name(e)});if(1===e.length&&"table"===it.name(e[0])){a.preventDefault();var n=$.fromDom(s.getDoc()),r=pn.paste(n),o=ar.paste(i,e[0],r);u.pasteCells(t,o).each(function(e){s.selection.setRng(e),s.focus(),c.clear(t)})}})})})}};function Dimension(r,o){var e=function(e){var t=o(e);if(t<=0||null===t){var n=zt.get(e,r);return parseFloat(n)||0}return t},i=function(o,e){return T.foldl(e,function(e,t){var n=zt.get(o,t),r=void 0===n?0:parseInt(n,10);return isNaN(r)?e:e+r},0)};return{set:function(e,t){if(!M.isNumber(t)&&!t.match(/^[0-9]+$/))throw r+".set accepts only positive integer values. Value was "+t;var n=e.dom();Pt.isSupported(n)&&(n.style[r]=t+"px")},get:e,getOuter:e,aggregate:i,max:function(e,t,n){var r=i(e,n);return r<t?t-r:0}}}var ur=Dimension("height",function(e){return ht.inBody(e)?e.dom().getBoundingClientRect().height:e.dom().offsetHeight}),cr=function(e){return ur.get(e)},lr=function(e){return ur.getOuter(e)},fr=Dimension("width",function(e){return e.dom().offsetWidth}),dr=function(e){return fr.get(e)},hr=function(e){return fr.getOuter(e)},pr=je.detect(),mr=function(e,t,n){return r=zt.get(e,t),o=n,i=parseFloat(r),isNaN(i)?o:i;var r,o,i},gr=function(e){return pr.browser.isIE()||pr.browser.isEdge()?(n=mr(t=e,"padding-top",0),r=mr(t,"padding-bottom",0),o=mr(t,"border-top-width",0),i=mr(t,"border-bottom-width",0),a=t.dom().getBoundingClientRect().height,"border-box"===zt.get(t,"box-sizing")?a:a-n-r-(o+i)):mr(e,"height",cr(e));var t,n,r,o,i,a},vr=/(\d+(\.\d+)?)(\w|%)*/,br=/(\d+(\.\d+)?)%/,yr=/(\d+(\.\d+)?)px|em/,_r=function(e,t){zt.set(e,"height",t+"px")},wr=function(e,t,n,r){var o,i,a,s,u,c=parseInt(e,10);return Oe.endsWith(e,"%")&&"table"!==it.name(t)?(o=t,i=c,a=n,s=r,u=At.table(o).map(function(e){var t=a(e);return Math.floor(i/100*t)}).getOr(i),s(o,u),u):c},xr=function(e){var t,n=(t=e,zt.getRaw(t,"height").getOrThunk(function(){return gr(t)+"px"}));return n?wr(n,e,cr,_r):cr(e)},Cr=function(e,t){return lt.has(e,t)?parseInt(lt.get(e,t),10):1},kr=function(e){return zt.getRaw(e,"width").fold(function(){return w.from(lt.get(e,"width"))},function(e){return w.some(e)})},Sr=function(e,t){return e/t.pixelWidth()*100},Er={percentageBasedSizeRegex:_.constant(br),pixelBasedSizeRegex:_.constant(yr),setPixelWidth:function(e,t){zt.set(e,"width",t+"px")},setPercentageWidth:function(e,t){zt.set(e,"width",t+"%")},setHeight:_r,getPixelWidth:function(t,n){return kr(t).fold(function(){var e=dr(t);return parseInt(e,10)},function(e){return function(e,t,n){if(yr.test(t)){var r=yr.exec(t);return parseInt(r[1],10)}if(br.test(t)){var o=br.exec(t),i=parseFloat(o[1]);return i/100*n.pixelWidth()}var a=dr(e);return parseInt(a,10)}(t,e,n)})},getPercentageWidth:function(n,r){return kr(n).fold(function(){var e=dr(n),t=parseInt(e,10);return Sr(t,r)},function(e){return function(e,t,n){if(br.test(t)){var r=br.exec(t);return parseFloat(r[1])}var o=dr(e),i=parseInt(o,10);return Sr(i,n)}(n,e,r)})},getGenericWidth:function(e){return kr(e).bind(function(e){if(vr.test(e)){var t=vr.exec(e);return w.some({width:_.constant(t[1]),unit:_.constant(t[3])})}return w.none()})},setGenericWidth:function(e,t,n){zt.set(e,"width",t+n)},getHeight:function(e){return n="rowspan",xr(t=e)/Cr(t,n);var t,n},getRawWidth:kr},Tr={halve:function(n,r){Er.getGenericWidth(n).each(function(e){var t=e.width()/2;Er.setGenericWidth(n,t,e.unit()),Er.setGenericWidth(r,t,e.unit())})}},Ar=function(e,t){var n=t||$.fromDom(document.documentElement);return _t.ancestor(e,_.curry(He.eq,n)).isSome()},Rr=function(e){var t=e.dom();return t===t.window?e:it.isDocument(e)?t.defaultView||t.parentWindow:null},Nr=function(n,r){return{left:_.constant(n),top:_.constant(r),translate:function(e,t){return Nr(n+e,r+t)}}},Dr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Or=function(e){var t,n=e.dom(),r=n.ownerDocument,o=r.body,i=$.fromDom(r.documentElement);return o===n?Nr(o.offsetLeft,o.offsetTop):Ar(e,i)?(t=n.getBoundingClientRect(),Nr(t.left,t.top)):Nr(0,0)},Br=function(e){var t=e.dom().ownerDocument,n=t.body,r=Rr($.fromDom(t)),o=t.documentElement,i=Dr(r.pageYOffset,o.scrollTop),a=Dr(r.pageXOffset,o.scrollLeft),s=Dr(o.clientTop,n.clientTop),u=Dr(o.clientLeft,n.clientLeft);return Or(e).translate(a-u,i-s)},Pr=F.immutable("row","y"),Mr=F.immutable("col","x"),Lr=function(e){return Br(e).left()+hr(e)},Ir=function(e){return Br(e).left()},Fr=function(e,t){return Mr(e,Ir(t))},jr=function(e,t){return Mr(e,Lr(t))},zr=function(e){return Br(e).top()},qr=function(n,t,r){if(0===r.length)return[];var e=T.map(r.slice(1),function(e,t){return e.map(function(e){return n(t,e)})}),o=r[r.length-1].map(function(e){return t(r.length-1,e)});return e.concat([o])},Hr={delta:_.identity,positions:_.curry(qr,function(e,t){return Pr(e,zr(t))},function(e,t){return Pr(e,zr(t)+lr(t))}),edge:zr},Ur={delta:_.identity,edge:Ir,positions:_.curry(qr,Fr,jr)},Wr={height:Hr,rtl:{delta:function(e,t){return-e},edge:Lr,positions:_.curry(qr,jr,Fr)},ltr:Ur},Vr={ltr:Wr.ltr,rtl:Wr.rtl};function TableDirection(t){var n=function(e){return t(e).isRtl()?Vr.rtl:Vr.ltr};return{delta:function(e,t){return n(t).delta(e,t)},edge:function(e){return n(e).edge(e)},positions:function(e,t){return n(t).positions(e,t)}}}var Kr={getGridSize:function(e){var t=Rt(e);return Bt.generate(t).grid()}},$r=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return $r(n())}}},Gr=function(e,t){return Yr(e,t,{validate:M.isFunction,label:"function"})},Yr=function(r,o,i){if(0===o.length)throw new Error("You must specify at least one required field.");return I.validateStrArr("required",o),I.checkDupes(o),function(t){var n=B.keys(t);T.forall(o,function(e){return T.contains(n,e)})||I.reqMessage(o,n),r(o,n);var e=T.filter(o,function(e){return!i.validate(t[e],e)});return 0<e.length&&I.invalidTypeMessage(e,i.label),t}},Xr=_.noop,Jr={exactly:_.curry(Gr,function(t,e){var n=T.filter(e,function(e){return!T.contains(t,e)});0<n.length&&I.unsuppMessage(n)}),ensure:_.curry(Gr,Xr),ensureWith:_.curry(Yr,Xr)},Zr=function(e){var t=lt.has(e,"colspan")?parseInt(lt.get(e,"colspan"),10):1,n=lt.has(e,"rowspan")?parseInt(lt.get(e,"rowspan"),10):1;return{element:_.constant(e),colspan:_.constant(t),rowspan:_.constant(n)}},Qr=Jr.exactly(["cell","row","replace","gap"]),eo=function(r,e){Qr(r);var n=$r(w.none()),o=void 0!==e?e:Zr,i=function(e){var t,n=o(e);return t=n,r.cell(t)},a=function(e){var t=i(e);return n.get().isNone()&&n.set(w.some(t)),s=w.some({item:e,replacement:t}),t},s=w.none();return{getOrInit:function(t,n){return s.fold(function(){return a(t)},function(e){return n(t,e.item)?e.replacement:a(t)})},cursor:n.get}},to=function(o,s){return function(n){var r=$r(w.none());Qr(n);var i=[],a=function(e){var t=n.replace(e,s,{scope:o});return i.push({item:e,sub:t}),r.get().isNone()&&r.set(w.some(t)),t};return{replaceOrInit:function(t,n){return(r=t,o=n,T.find(i,function(e){return o(e.item,r)})).fold(function(){return a(t)},function(e){return n(t,e.item)?e.sub:a(t)});var r,o},cursor:r.get}}},no=function(n){Qr(n);var e=$r(w.none());return{combine:function(t){return e.get().isNone()&&e.set(w.some(t)),function(){var e=n.cell({element:_.constant(t),colspan:_.constant(1),rowspan:_.constant(1)});return zt.remove(e,"width"),zt.remove(t,"width"),e}},cursor:e.get}},ro=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],oo=function(e,t){var n=e.property().name(t);return T.contains(ro,n)},io=function(e,t){return T.contains(["br","img","hr","input"],e.property().name(t))},ao=oo,so=function(e,t){var n=e.property().name(t);return T.contains(["ol","ul"],n)},uo=io,co=DomUniverse(),lo=function(e){return ao(co,e)},fo=function(e){return so(co,e)},ho=function(e){return uo(co,e)},po=function(e){var t,i=function(e){return"br"===it.name(e)},r=function(o){return cn.last(o).bind(function(n){var e,r=(e=n,Xe.nextSibling(e).map(function(e){return!!lo(e)||(ho(e)?"img"!==it.name(e):void 0)}).getOr(!1));return Xe.parent(n).map(function(e){return!0===r||(t=e,"li"===it.name(t)||_t.ancestor(t,fo).isSome())||i(n)||lo(e)&&!He.eq(o,e)?[]:[$.fromTag("br")];var t})}).getOr([])},n=0===(t=T.bind(e,function(e){var t,n=Xe.children(e);return t=n,T.forall(t,function(e){return i(e)||it.isText(e)&&0===nn.get(e).trim().length})?[]:n.concat(r(e))})).length?[$.fromTag("br")]:t;Kt.empty(e[0]),Wt.append(e[0],n)},mo=function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o=e[r];for(var i in o)o.hasOwnProperty(i)&&(n[i]=a(n[i],o[i]))}return n}},go=mo(function(e,t){return M.isObject(e)&&M.isObject(t)?go(e,t):t}),vo=mo(function(e,t){return t}),bo={deepMerge:go,merge:vo},yo=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},_o=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return w.none()},wo=function(e,t){return V.rowcells(t,e.section())},xo=function(e,t){return e.cells()[t]},Co={addCell:function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),a=o.concat([n]).concat(i);return wo(e,a)},setCells:wo,mutateCell:function(e,t,n){e.cells()[t]=n},getCell:xo,getCellElement:function(e,t){return xo(e,t).element()},mapCells:function(e,t){var n=e.cells(),r=T.map(n,t);return V.rowcells(r,e.section())},cellLength:function(e){return e.cells().length}},ko=function(e,t){if(0===e.length)return 0;var n=e[0];return T.findIndex(e,function(e){return!t(n.element(),e.element())}).fold(function(){return e.length},function(e){return e})},So=function(e,t,n,r){var o,i,a,s,u=(o=e,i=t,o[i]).cells().slice(n),c=ko(u,r),l=(a=e,s=n,T.map(a,function(e){return Co.getCell(e,s)})).slice(t),f=ko(l,r);return{colspan:_.constant(c),rowspan:_.constant(f)}},Eo=function(o,i){var a=T.map(o,function(e,t){return T.map(e.cells(),function(e,t){return!1})});return T.map(o,function(e,r){var t=T.bind(e.cells(),function(e,t){if(!1===a[r][t]){var n=So(o,r,t,i);return function(e,t,n,r){for(var o=e;o<e+n;o++)for(var i=t;i<t+r;i++)a[o][i]=!0}(r,t,n.rowspan(),n.colspan()),[V.detailnew(e.element(),n.rowspan(),n.colspan(),e.isNew())]}return[]});return V.rowdetails(t,e.section())})},To=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],a=0;a<e.grid().columns();a++){var s=Bt.getAt(e,o,a).map(function(e){return V.elementnew(e.element(),n)}).getOrThunk(function(){return V.elementnew(t.gap(),!0)});i.push(s)}var u=V.rowcells(i,e.all()[o].section());r.push(u)}return r},Ao=function(e,t,n,r){n===r?lt.remove(e,t):lt.set(e,t,n)},Ro=function(o,e){var i=[],a=[],t=function(e,t){var n;0<e.length?function(e,t){var n=xt.child(o,t).getOrThunk(function(){var e=$.fromTag(t,Xe.owner(o).dom());return Ut.append(o,e),e});Kt.empty(n);var r=T.map(e,function(e){e.isNew()&&i.push(e.element());var t=e.element();return Kt.empty(t),T.each(e.cells(),function(e){e.isNew()&&a.push(e.element()),Ao(e.element(),"colspan",e.colspan(),1),Ao(e.element(),"rowspan",e.rowspan(),1),Ut.append(t,e.element())}),t});Wt.append(n,r)}(e,t):(n=t,xt.child(o,n).bind(Kt.remove))},n=[],r=[],s=[];return T.each(e,function(e){switch(e.section()){case"thead":n.push(e);break;case"tbody":r.push(e);break;case"tfoot":s.push(e)}}),t(n,"thead"),t(r,"tbody"),t(s,"tfoot"),{newRows:_.constant(i),newCells:_.constant(a)}},No=function(e){return T.map(e,function(e){var n=Zt(e.element());return T.each(e.cells(),function(e){var t=Qt(e.element());Ao(t,"colspan",e.colspan(),1),Ao(t,"rowspan",e.rowspan(),1),Ut.append(n,t)}),n})},Do=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Oo=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},Bo=function(t,n){if(n<0||n>=t.length-1)return w.none();var e=t[n].fold(function(){var e=T.reverse(t.slice(0,n));return _o(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return w.some({value:e,delta:0})}),r=t[n+1].fold(function(){var e=t.slice(n+1);return _o(e,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return w.some({value:e,delta:1})});return e.bind(function(n){return r.map(function(e){var t=e.delta+n.delta;return Math.abs(e.value-n.value)/t})})},Po=function(e,t,n){var r=e();return T.find(r,t).orThunk(function(){return w.from(r[0]).orThunk(n)}).map(function(e){return e.element()})},Mo=function(n){var e=n.grid(),t=Oo(0,e.columns()),r=Oo(0,e.rows());return T.map(t,function(t){return Po(function(){return T.bind(r,function(e){return Bt.getAt(n,e,t).filter(function(e){return e.column()===t}).fold(_.constant([]),function(e){return[e]})})},function(e){return 1===e.colspan()},function(){return Bt.getAt(n,0,t)})})},Lo=function(n){var e=n.grid(),t=Oo(0,e.rows()),r=Oo(0,e.columns());return T.map(t,function(t){return Po(function(){return T.bind(r,function(e){return Bt.getAt(n,t,e).filter(function(e){return e.row()===t}).fold(_.constant([]),function(e){return[e]})})},function(e){return 1===e.rowspan()},function(){return Bt.getAt(n,t,0)})})},Io=function(e,t,n,r,o){var i=$.fromTag("div");return zt.setAll(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),lt.setAll(i,{"data-column":e,role:"presentation"}),i},Fo=function(e,t,n,r,o){var i=$.fromTag("div");return zt.setAll(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),lt.setAll(i,{"data-row":e,role:"presentation"}),i},jo=function(e){var t=e.replace(/\./g,"-");return{resolve:function(e){return t+"-"+e}}},zo={resolve:jo("ephox-snooker").resolve},qo=function(e,t){var n=lt.get(e,t);return void 0===n||""===n?[]:n.split(" ")},Ho=qo,Uo=function(e,t,n){var r=qo(e,t).concat([n]);lt.set(e,t,r.join(" "))},Wo=function(e,t,n){var r=T.filter(qo(e,t),function(e){return e!==n});0<r.length?lt.set(e,t,r.join(" ")):lt.remove(e,t)},Vo=function(e){return Ho(e,"class")},Ko=function(e,t){return Uo(e,"class",t)},$o=function(e,t){return Wo(e,"class",t)},Go=Vo,Yo=Ko,Xo=$o,Jo=function(e,t){T.contains(Vo(e),t)?$o(e,t):Ko(e,t)},Zo=function(e){return void 0!==e.dom().classList},Qo=function(e,t){return Zo(e)&&e.dom().classList.contains(t)},ei={add:function(e,t){Zo(e)?e.dom().classList.add(t):Yo(e,t)},remove:function(e,t){var n;Zo(e)?e.dom().classList.remove(t):Xo(e,t),0===(Zo(n=e)?n.dom().classList:Go(n)).length&&lt.remove(n,"class")},toggle:function(e,t){return Zo(e)?e.dom().classList.toggle(t):Jo(e,t)},toggler:function(e,t){var n=Zo(e),r=e.dom().classList;return function Toggler(e,t,n){var r=n||!1,o=function(){t(),r=!0},i=function(){e(),r=!1};return{on:o,off:i,toggle:function(){(r?i:o)()},isOn:function(){return r}}}(function(){n?r.remove(t):Xo(e,t)},function(){n?r.add(t):Yo(e,t)},Qo(e,t))},has:Qo},ti=zo.resolve("resizer-bar"),ni=zo.resolve("resizer-rows"),ri=zo.resolve("resizer-cols"),oi=function(e){var t=gt.descendants(e.parent(),"."+ti);T.each(t,Kt.remove)},ii=function(n,e,r){var o=n.origin();T.each(e,function(e,t){e.each(function(e){var t=r(o,e);ei.add(t,ti),Ut.append(n.parent(),t)})})},ai=function(e,t,n,r,o,i){var a,s,u,c,l=Br(t),f=0<n.length?o.positions(n,t):[];a=e,s=f,u=l,c=hr(t),ii(a,s,function(e,t){var n=Fo(t.row(),u.left()-e.left(),t.y()-e.top(),c,7);return ei.add(n,ni),n});var d,h,p,m,g=0<r.length?i.positions(r,t):[];d=e,h=g,p=l,m=lr(t),ii(d,h,function(e,t){var n=Io(t.col(),t.x()-e.left(),p.top()-e.top(),7,m);return ei.add(n,ri),n})},si=function(e,t){var n=gt.descendants(e.parent(),"."+ti);T.each(n,t)},ui={refresh:function(e,t,n,r){oi(e);var o=Rt(t),i=Bt.generate(o),a=Lo(i),s=Mo(i);ai(e,t,a,s,n,r)},hide:function(e){si(e,function(e){zt.set(e,"display","none")})},show:function(e){si(e,function(e){zt.set(e,"display","block")})},destroy:oi,isRowBar:function(e){return ei.has(e,ni)},isColBar:function(e){return ei.has(e,ri)}},ci=function(e,r){return T.map(e,function(e){var t,n=(t=e.details(),_o(t,function(e){return Xe.parent(e.element()).map(function(e){var t=Xe.parent(e).isNone();return V.elementnew(e,t)})}).getOrThunk(function(){return V.elementnew(r.row(),!0)}));return V.rowdatanew(n.element(),e.details(),e.section(),n.isNew())})},li=function(e,t){var n=Eo(e,He.eq);return ci(n,t)},fi=function(e,t){var n=T.flatten(T.map(e.all(),function(e){return e.cells()}));return T.find(n,function(e){return He.eq(t,e.element())})},di=function(s,u,c,l,f){return function(n,r,e,o,i){var t=Rt(r),a=Bt.generate(t);return u(a,e).map(function(e){var t=To(a,o,!1),n=s(t,e,He.eq,f(o)),r=li(n.grid(),o);return{grid:_.constant(r),cursor:n.cursor}}).fold(function(){return w.none()},function(e){var t=Ro(r,e.grid());return c(r,e.grid(),i),l(r),ui.refresh(n,r,Wr.height,i),w.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},hi=li,pi=function(t,e){return At.cell(e.element()).bind(function(e){return fi(t,e)})},mi=function(t,e){var n=T.map(e.selection(),function(e){return At.cell(e).bind(function(e){return fi(t,e)})}),r=yo(n);return 0<r.length?w.some(r):w.none()},gi=function(t,n){return At.cell(n.element()).bind(function(e){return fi(t,e).map(function(e){return bo.merge(e,{generators:n.generators,clipboard:n.clipboard})})})},vi=function(t,e){var n=T.map(e.selection(),function(e){return At.cell(e).bind(function(e){return fi(t,e)})}),r=yo(n);return 0<r.length?w.some(bo.merge({cells:r},{generators:e.generators,clipboard:e.clipboard})):w.none()},bi=function(e,t){return t.mergable()},yi=function(e,t){return t.unmergable()},_i=function(n){return{is:function(e){return n===e},isValue:_.always,isError:_.never,getOr:_.constant(n),getOrThunk:_.constant(n),getOrDie:_.constant(n),or:function(e){return _i(n)},orThunk:function(e){return _i(n)},fold:function(e,t){return t(n)},map:function(e){return _i(e(n))},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOption:function(){return w.some(n)}}},wi=function(n){return{is:_.never,isValue:_.never,isError:_.always,getOr:_.identity,getOrThunk:function(e){return e()},getOrDie:function(){return _.die(n)()},or:function(e){return e},orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return wi(n)},each:_.noop,bind:function(e){return wi(n)},exists:_.never,forall:_.always,toOption:w.none}},xi={value:_i,error:wi},Ci=function(e,t){return T.map(e,function(){return V.elementnew(t.cell(),!0)})},ki=function(t,e,n){return t.concat(Do(e,function(e){return Co.setCells(t[t.length-1],Ci(t[t.length-1].cells(),n))}))},Si=function(e,t,n){return T.map(e,function(e){return Co.setCells(e,e.cells().concat(Ci(Oo(0,t),n)))})},Ei=function(e,t,n){if(e.row()>=t.length||e.column()>Co.cellLength(t[0]))return xi.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=Co.cellLength(n[0]),a=n.length;return xi.value({rowDelta:_.constant(r.length-a),colDelta:_.constant(o.length-i)})},Ti=function(e,t){var n=Co.cellLength(e[0]),r=Co.cellLength(t[0]);return{rowDelta:_.constant(0),colDelta:_.constant(n-r)}},Ai=function(e,t,n){var r=t.colDelta()<0?Si:_.identity;return(t.rowDelta()<0?ki:_.identity)(r(e,Math.abs(t.colDelta()),n),Math.abs(t.rowDelta()),n)},Ri=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)Co.mutateCell(e[o],i,V.elementnew(r(),!1));return e},Ni=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var a=0;a<Co.cellLength(e[0]);a++){var s=n(Co.getCellElement(e[i],a),t);!0===s&&!1===o?Co.mutateCell(e[i],a,V.elementnew(r(),!0)):!0===s&&(o=!1)}return e},Di=function(i,a,s,u){if(0<a&&a<i.length){var e=i[a-1].cells(),t=(n=e,r=s,T.foldl(n,function(e,t){return T.exists(e,function(e){return r(e.element(),t.element())})?e:e.concat([t])},[]));T.each(t,function(e){for(var t=w.none(),n=a;n<i.length;n++)for(var r=0;r<Co.cellLength(i[0]);r++){var o=i[n].cells()[r];s(o.element(),e.element())&&(t.isNone()&&(t=w.some(u())),t.each(function(e){Co.mutateCell(i[n],r,V.elementnew(e,!0))}))}})}var n,r;return i},Oi=function(n,r,o,i,a){return Ei(n,r,o).map(function(e){var t=Ai(r,e,i);return function(e,t,n,r,o){for(var i,a,s,u,c,l,f,d=e.row(),h=e.column(),p=d+n.length,m=h+Co.cellLength(n[0]),g=d;g<p;g++)for(var v=h;v<m;v++){i=t,a=g,s=v,u=o,l=c=void 0,c=Co.getCell(i[a],s),l=_.curry(u,c.element()),f=i[a],1<i.length&&1<Co.cellLength(f)&&(0<s&&l(Co.getCellElement(f,s-1))||s<f.length-1&&l(Co.getCellElement(f,s+1))||0<a&&l(Co.getCellElement(i[a-1],s))||a<i.length-1&&l(Co.getCellElement(i[a+1],s)))&&Ni(t,Co.getCellElement(t[g],v),o,r.cell);var b=Co.getCellElement(n[g-d],v-h),y=r.replace(b);Co.mutateCell(t[g],v,V.elementnew(y,!0))}return t}(n,t,o,i,a)})},Bi=function(e,t,n,r,o){Di(t,e,o,r.cell);var i=Ti(n,t),a=Ai(n,i,r),s=Ti(t,a),u=Ai(t,s,r);return u.slice(0,e).concat(a).concat(u.slice(e,u.length))},Pi=function(n,r,e,o,i){var t=n.slice(0,r),a=n.slice(r),s=Co.mapCells(n[e],function(e,t){return 0<r&&r<n.length&&o(Co.getCellElement(n[r-1],t),Co.getCellElement(n[r],t))?Co.getCell(n[r],t):V.elementnew(i(e.element(),o),!0)});return t.concat([s]).concat(a)},Mi=function(e,n,r,o,i){return T.map(e,function(e){var t=0<n&&n<Co.cellLength(e)&&o(Co.getCellElement(e,n-1),Co.getCellElement(e,n))?Co.getCell(e,n):V.elementnew(i(Co.getCellElement(e,r),o),!0);return Co.addCell(e,n,t)})},Li=function(e,r,o,i,a){var s=o+1;return T.map(e,function(e,t){var n=t===r?V.elementnew(a(Co.getCellElement(e,o),i),!0):Co.getCell(e,o);return Co.addCell(e,s,n)})},Ii=function(e,t,n,r,o){var i=t+1,a=e.slice(0,i),s=e.slice(i),u=Co.mapCells(e[t],function(e,t){return t===n?V.elementnew(o(e.element(),r),!0):e});return a.concat([u]).concat(s)},Fi=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},ji=function(e,n,r){var t=T.map(e,function(e){var t=e.cells().slice(0,n).concat(e.cells().slice(r+1));return V.rowcells(t,e.section())});return T.filter(t,function(e){return 0<e.cells().length})},zi=function(e,n,r,o){return T.map(e,function(e){return Co.mapCells(e,function(e){return t=e,T.exists(n,function(e){return r(t.element(),e.element())})?V.elementnew(o(e.element(),r),!0):e;var t})})},qi=function(e,t,n,r){return void 0!==Co.getCellElement(e[t],n)&&0<t&&r(Co.getCellElement(e[t-1],n),Co.getCellElement(e[t],n))},Hi=function(e,t,n){return 0<t&&n(Co.getCellElement(e,t-1),Co.getCellElement(e,t))},Ui=function(n,r,o,e){var t=T.bind(n,function(e,t){return qi(n,t,r,o)||Hi(e,r,o)?[]:[Co.getCell(e,r)]});return zi(n,t,o,e)},Wi=function(n,r,o,e){var i=n[r],t=T.bind(i.cells(),function(e,t){return qi(n,r,t,o)||Hi(i,t,o)?[]:[e]});return zi(n,t,o,e)},Vi=function(e){return{fold:e}},Ki=function(){return Vi(function(e,t,n,r,o){return e()})},$i=function(i){return Vi(function(e,t,n,r,o){return t(i)})},Gi=function(i,a){return Vi(function(e,t,n,r,o){return n(i,a)})},Yi=function(i,a,s){return Vi(function(e,t,n,r,o){return r(i,a,s)})},Xi=function(i,a){return Vi(function(e,t,n,r,o){return o(i,a)})},Ji=function(e,t,i,a){var n,r,s=e.slice(0),o=(r=t,0===(n=e).length?Ki():1===n.length?$i(0):0===r?Gi(0,1):r===n.length-1?Xi(r-1,r):0<r&&r<n.length-1?Yi(r-1,r,r+1):Ki()),u=function(e){return T.map(e,_.constant(0))},c=_.constant(u(s)),l=function(e,t){if(0<=i){var n=Math.max(a.minCellWidth(),s[t]-i);return u(s.slice(0,e)).concat([i,n-s[t]]).concat(u(s.slice(t+1)))}var r=Math.max(a.minCellWidth(),s[e]+i),o=s[e]-r;return u(s.slice(0,e)).concat([r-s[e],o]).concat(u(s.slice(t+1)))},f=l;return o.fold(c,function(e){return a.singleColumnWidth(s[e],i)},f,function(e,t,n){return l(t,n)},function(e,t){if(0<=i)return u(s.slice(0,t)).concat([i]);var n=Math.max(a.minCellWidth(),s[t]+i);return u(s.slice(0,t)).concat([n-s[t]])})},Zi=function(e,t){return lt.has(e,t)&&1<parseInt(lt.get(e,t),10)},Qi={hasColspan:function(e){return Zi(e,"colspan")},hasRowspan:function(e){return Zi(e,"rowspan")},minWidth:_.constant(10),minHeight:_.constant(10),getInt:function(e,t){return parseInt(zt.get(e,t),10)}},ea=function(e,t,n){return zt.getRaw(e,t).fold(function(){return n(e)+"px"},function(e){return e})},ta=function(e){return ea(e,"width",Er.getPixelWidth)},na=function(e){return ea(e,"height",Er.getHeight)},ra=function(e,t,n,r,o){var i=Mo(e),a=T.map(i,function(e){return e.map(t.edge)});return T.map(i,function(e,t){return e.filter(_.not(Qi.hasColspan)).fold(function(){var e=Bo(a,t);return r(e)},function(e){return n(e,o)})})},oa=function(e){return e.map(function(e){return e+"px"}).getOr("")},ia=function(e,t,n,r){var o=Lo(e),i=T.map(o,function(e){return e.map(t.edge)});return T.map(o,function(e,t){return e.filter(_.not(Qi.hasRowspan)).fold(function(){var e=Bo(i,t);return r(e)},function(e){return n(e)})})},aa={getRawWidths:function(e,t){return ra(e,t,ta,oa)},getPixelWidths:function(e,t,n){return ra(e,t,Er.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},getPercentageWidths:function(e,t,n){return ra(e,t,Er.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},getPixelHeights:function(e,t){return ia(e,t,Er.getHeight,function(e){return e.getOrThunk(Qi.minHeight)})},getRawHeights:function(e,t){return ia(e,t,na,oa)}},sa=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},ua=function(e,n){var t=Bt.justCells(e);return T.map(t,function(e){var t=sa(e.column(),e.column()+e.colspan(),n);return{element:e.element,width:_.constant(t),colspan:e.colspan}})},ca=function(e,n){var t=Bt.justCells(e);return T.map(t,function(e){var t=sa(e.row(),e.row()+e.rowspan(),n);return{element:e.element,height:_.constant(t),rowspan:e.rowspan}})},la=function(e,n){return T.map(e.all(),function(e,t){return{element:e.element,height:_.constant(n[t])}})},fa=function(e){var t=parseInt(e,10),n=_.identity;return{width:_.constant(t),pixelWidth:_.constant(t),getWidths:aa.getPixelWidths,getCellDelta:n,singleColumnWidth:function(e,t){return[Math.max(Qi.minWidth(),e+t)-e]},minCellWidth:Qi.minWidth,setElementWidth:Er.setPixelWidth,setTableWidth:function(e,t,n){var r=T.foldr(t,function(e,t){return e+t},0);Er.setPixelWidth(e,r)}}},da=function(e,t){if(Er.percentageBasedSizeRegex().test(t)){var n=Er.percentageBasedSizeRegex().exec(t);return o=n[1],i=e,a=parseFloat(o),s=dr(i),{width:_.constant(a),pixelWidth:_.constant(s),getWidths:aa.getPercentageWidths,getCellDelta:function(e){return e/s*100},singleColumnWidth:function(e,t){return[100-e]},minCellWidth:function(){return Qi.minWidth()/s*100},setElementWidth:Er.setPercentageWidth,setTableWidth:function(e,t,n){var r=a+n;Er.setPercentageWidth(e,r)}}}if(Er.pixelBasedSizeRegex().test(t)){var r=Er.pixelBasedSizeRegex().exec(t);return fa(r[1])}var o,i,a,s,u=dr(e);return fa(u)},ha=function(t){return Er.getRawWidth(t).fold(function(){var e=dr(t);return fa(e)},function(e){return da(t,e)})},pa=function(e){return Bt.generate(e)},ma=function(e){var t=Rt(e);return pa(t)},ga={adjustWidth:function(e,t,n,r){var o=ha(e),i=o.getCellDelta(t),a=ma(e),s=o.getWidths(a,r,o),u=Ji(s,n,i,o),c=T.map(u,function(e,t){return e+s[t]}),l=ua(a,c);T.each(l,function(e){o.setElementWidth(e.element(),e.width())}),n===a.grid().columns()-1&&o.setTableWidth(e,c,i)},adjustHeight:function(e,n,r,t){var o=ma(e),i=aa.getPixelHeights(o,t),a=T.map(i,function(e,t){return r===t?Math.max(n+e,Qi.minHeight()):e}),s=ca(o,a),u=la(o,a);T.each(u,function(e){Er.setHeight(e.element(),e.height())}),T.each(s,function(e){Er.setHeight(e.element(),e.height())});var c,l=(c=a,T.foldr(c,function(e,t){return e+t},0));Er.setHeight(e,l)},adjustWidthTo:function(e,t,n){var r=ha(e),o=pa(t),i=r.getWidths(o,n,r),a=ua(o,i);T.each(a,function(e){r.setElementWidth(e.element(),e.width())});var s=T.foldr(i,function(e,t){return t+e},0);0<a.length&&r.setElementWidth(e,s)}},va=function(e){0===At.cells(e).length&&Kt.remove(e)},ba=F.immutable("grid","cursor"),ya=function(e,t,n){return _a(e,t,n).orThunk(function(){return _a(e,0,0)})},_a=function(e,t,n){return w.from(e[t]).bind(function(e){return w.from(e.cells()[n]).bind(function(e){return w.from(e.element())})})},wa=function(e,t,n){return ba(e,_a(e,t,n))},xa=function(e){return T.foldl(e,function(e,t){return T.exists(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},Ca=function(e){return T.foldl(e,function(e,t){return T.exists(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},ka=function(e,t,n){var r=Nt(e,n),o=Bt.generate(r);return To(o,t,!0)},Sa=ga.adjustWidthTo,Ea={insertRowBefore:di(function(e,t,n,r){var o=t.row(),i=t.row(),a=Pi(e,i,o,n,r.getOrInit);return wa(a,i,t.column())},pi,_.noop,_.noop,eo),insertRowsBefore:di(function(e,t,n,r){var o=t[0].row(),i=t[0].row(),a=xa(t),s=T.foldl(a,function(e,t){return Pi(e,i,o,n,r.getOrInit)},e);return wa(s,i,t[0].column())},mi,_.noop,_.noop,eo),insertRowAfter:di(function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),a=Pi(e,i,o,n,r.getOrInit);return wa(a,i,t.column())},pi,_.noop,_.noop,eo),insertRowsAfter:di(function(e,t,n,r){var o=xa(t),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),s=T.foldl(o,function(e,t){return Pi(e,a,i,n,r.getOrInit)},e);return wa(s,a,t[0].column())},mi,_.noop,_.noop,eo),insertColumnBefore:di(function(e,t,n,r){var o=t.column(),i=t.column(),a=Mi(e,i,o,n,r.getOrInit);return wa(a,t.row(),i)},pi,Sa,_.noop,eo),insertColumnsBefore:di(function(e,t,n,r){var o=Ca(t),i=o[0].column(),a=o[0].column(),s=T.foldl(o,function(e,t){return Mi(e,a,i,n,r.getOrInit)},e);return wa(s,t[0].row(),a)},mi,Sa,_.noop,eo),insertColumnAfter:di(function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),a=Mi(e,i,o,n,r.getOrInit);return wa(a,t.row(),i)},pi,Sa,_.noop,eo),insertColumnsAfter:di(function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),a=Ca(t),s=T.foldl(a,function(e,t){return Mi(e,i,o,n,r.getOrInit)},e);return wa(s,t[0].row(),i)},mi,Sa,_.noop,eo),splitCellIntoColumns:di(function(e,t,n,r){var o=Li(e,t.row(),t.column(),n,r.getOrInit);return wa(o,t.row(),t.column())},pi,Sa,_.noop,eo),splitCellIntoRows:di(function(e,t,n,r){var o=Ii(e,t.row(),t.column(),n,r.getOrInit);return wa(o,t.row(),t.column())},pi,_.noop,_.noop,eo),eraseColumns:di(function(e,t,n,r){var o=Ca(t),i=ji(e,o[0].column(),o[o.length-1].column()),a=ya(i,t[0].row(),t[0].column());return ba(i,a)},mi,Sa,va,eo),eraseRows:di(function(e,t,n,r){var o=xa(t),i=Fi(e,o[0].row(),o[o.length-1].row()),a=ya(i,t[0].row(),t[0].column());return ba(i,a)},mi,_.noop,va,eo),makeColumnHeader:di(function(e,t,n,r){var o=Ui(e,t.column(),n,r.replaceOrInit);return wa(o,t.row(),t.column())},pi,_.noop,_.noop,to("row","th")),unmakeColumnHeader:di(function(e,t,n,r){var o=Ui(e,t.column(),n,r.replaceOrInit);return wa(o,t.row(),t.column())},pi,_.noop,_.noop,to(null,"td")),makeRowHeader:di(function(e,t,n,r){var o=Wi(e,t.row(),n,r.replaceOrInit);return wa(o,t.row(),t.column())},pi,_.noop,_.noop,to("col","th")),unmakeRowHeader:di(function(e,t,n,r){var o=Wi(e,t.row(),n,r.replaceOrInit);return wa(o,t.row(),t.column())},pi,_.noop,_.noop,to(null,"td")),mergeCells:di(function(e,t,n,r){var o=t.cells();po(o);var i=Ri(e,t.bounds(),n,_.constant(o[0]));return ba(i,w.from(o[0]))},bi,_.noop,_.noop,no),unmergeCells:di(function(e,t,n,r){var o=T.foldr(t,function(e,t){return Ni(e,t,n,r.combine(t))},e);return ba(o,w.from(t[0]))},yi,Sa,_.noop,no),pasteCells:di(function(e,n,t,r){var o,i,a,s,u=(o=n.clipboard(),i=n.generators(),a=Rt(o),s=Bt.generate(a),To(s,i,!0)),c=V.address(n.row(),n.column());return Oi(c,e,u,n.generators(),t).fold(function(){return ba(e,w.some(n.element()))},function(e){var t=ya(e,n.row(),n.column());return ba(e,t)})},gi,Sa,_.noop,eo),pasteRowsBefore:di(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),a=ka(t.clipboard(),t.generators(),o),s=Bi(i,e,a,t.generators(),n),u=ya(s,t.cells[0].row(),t.cells[0].column());return ba(s,u)},vi,_.noop,_.noop,eo),pasteRowsAfter:di(function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),a=ka(t.clipboard(),t.generators(),o),s=Bi(i,e,a,t.generators(),n),u=ya(s,t.cells[0].row(),t.cells[0].column());return ba(s,u)},vi,_.noop,_.noop,eo)},Ta=function(e){return $.fromDom(e.getBody())},Aa={getBody:Ta,getIsRoot:function(t){return function(e){return He.eq(e,Ta(t))}},addSizeSuffix:function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},removePxSuffix:function(e){return e?e.replace(/px$/,""):""}},Ra=function(e){return"rtl"===zt.get(e,"direction")?"rtl":"ltr"},Na={onDirection:function(t,n){return function(e){return"rtl"===Ra(e)?n:t}},getDirection:Ra},Da={isRtl:_.constant(!1)},Oa={isRtl:_.constant(!0)},Ba={directionAt:function(e){return"rtl"===Na.getDirection(e)?Oa:Da}},Pa=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Ma={"border-collapse":"collapse",width:"100%"},La={border:"1"},Ia=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Fa=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},ja=function(e){return e.getParam("forced_root_block","p","string")},za=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},qa=function(e){return e.getParam("table_row_advtab",!0,"boolean")},Ha=function(e){return e.getParam("table_advtab",!0,"boolean")},Ua=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Wa=function(e){return e.getParam("forced_block_attrs",{},"object")},Va=function(e){return e.getParam("table_cell_class_list",[],"array")},Ka=function(e){return e.getParam("table_row_class_list",[],"array")},$a=function(e){return e.getParam("table_class_list",[],"array")},Ga=function(e){return!1===e.getParam("table_responsive_width")},Ya=function(e){var t=e.getParam("table_clone_elements");return M.isString(t)?w.some(t.split(/[ ,]/)):Array.isArray(t)?w.some(t):w.none()},Xa=function(e){var t=e.getParam("object_resizing",!0);return"table"===t||t},Ja=function(e,t){return e.fire("newrow",{node:t})},Za=function(e,t){return e.fire("newcell",{node:t})},Qa=function(e,t,r){var n=Rt(e),o=Bt.generate(n);return mi(o,t).map(function(e){var t=To(o,r,!1).slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),n=hi(t,r);return No(n)})},es=tinymce.util.Tools.resolve("tinymce.util.Tools"),ts={applyAlign:function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},applyVAlign:function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},unApplyAlign:function(t,n){es.each("left center right".split(" "),function(e){t.formatter.remove("align"+e,{},n)})},unApplyVAlign:function(t,n){es.each("top middle bottom".split(" "),function(e){t.formatter.remove("valign"+e,{},n)})},getTDTHOverallStyle:function(o,e,i){var t;return t=function(e,t){for(var n=0;n<t.length;n++){var r=o.getStyle(t[n],i);if(void 0===e&&(e=r),e!==r)return""}return e}(t,o.select("td,th",e))}},ns=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);"style"===t.control.name()?(r.find("#borderStyle").value(i["border-style"]||"")[0].fire("select"),r.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),r.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change"),r.find("#width").value(i.width||"").fire("change"),r.find("#height").value(i.height||"").fire("change")):(i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?Aa.addSizeSuffix(o.width):"",i.height=o.height?Aa.addSizeSuffix(o.height):""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},rs={createStyleForm:function(n){var e=function(){var e=n.getParam("color_picker_callback");if(e)return function(t){return e.call(n,function(e){t.control.value(e).fire("change")},t.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:_.curry(ns,n)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:_.curry(ns,n),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:e()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:e()}]}]}},buildListItems:function(e,r,t){var o=function(e,n){return n=n||[],es.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,r&&r(t)),n.push(t)}),n};return o(e,t||[])},updateStyleField:ns,extractAdvancedStyles:function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r}},os=function(r,o,e){var i,a=r.dom;function setAttrib(e,t,n){n&&a.setAttrib(e,t,n)}function setStyle(e,t,n){n&&a.setStyle(e,t,n)}rs.updateStyleField(r,e),i=e.control.rootControl.toJSON(),r.undoManager.transact(function(){es.each(o,function(e){var t,n;setAttrib(e,"scope",i.scope),1===o.length?setAttrib(e,"style",i.style):(t=e,n=i.style,t.style.cssText+=";"+n),setAttrib(e,"class",i.class),setStyle(e,"width",Aa.addSizeSuffix(i.width)),setStyle(e,"height",Aa.addSizeSuffix(i.height)),i.type&&e.nodeName.toLowerCase()!==i.type&&(e=a.rename(e,i.type)),1===o.length&&(ts.unApplyAlign(r,e),ts.unApplyVAlign(r,e)),i.align&&ts.applyAlign(r,e,i.align),i.valign&&ts.applyVAlign(r,e,i.valign)}),r.focus()})},is=function(t){var e,n,r,o=[];if(o=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=t.dom.getParent(t.selection.getStart(),"td,th"),!o.length&&e&&o.push(e),e=e||o[0]){var i,a,s,u;1<o.length?n={width:"",height:"",scope:"",class:"",align:"",style:"",type:e.nodeName.toLowerCase()}:(a=e,s=(i=t).dom,(u={width:s.getStyle(a,"width")||s.getAttrib(a,"width"),height:s.getStyle(a,"height")||s.getAttrib(a,"height"),scope:s.getAttrib(a,"scope"),class:s.getAttrib(a,"class")}).type=a.nodeName.toLowerCase(),es.each("left center right".split(" "),function(e){i.formatter.matchNode(a,"align"+e)&&(u.align=e)}),es.each("top middle bottom".split(" "),function(e){i.formatter.matchNode(a,"valign"+e)&&(u.valign=e)}),za(i)&&es.extend(u,rs.extractAdvancedStyles(s,a)),n=u),0<Va(t).length&&(r={name:"class",type:"listbox",label:"Class",values:rs.buildListItems(Va(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"td",classes:[e.value]})})})});var c={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:_.curry(rs.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(rs.updateStyleField,t)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},r]};za(t)?t.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:c},rs.createStyleForm(t)],onsubmit:_.curry(os,t,o)}):t.windowManager.open({title:"Cell properties",data:n,body:c,onsubmit:_.curry(os,t,o)})}},as=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)};function onSubmitRowForm(t,n,e){var r,o=t.dom;function setAttrib(e,t,n){n&&o.setAttrib(e,t,n)}rs.updateStyleField(t,e),r=e.control.rootControl.toJSON(),t.undoManager.transact(function(){es.each(n,function(e){setAttrib(e,"scope",r.scope),setAttrib(e,"style",r.style),setAttrib(e,"class",r.class),function setStyle(e,t,n){n&&o.setStyle(e,t,n)}(e,"height",Aa.addSizeSuffix(r.height)),r.type!==e.parentNode.nodeName.toLowerCase()&&as(t.dom,e,r.type),1===n.length&&ts.unApplyAlign(t,e),r.align&&ts.applyAlign(t,e,r.align)}),t.focus()})}var ss=function(t){var e,n,r,o,i,a,s,u,c,l,f=t.dom,d=[];e=f.getParent(t.selection.getStart(),"table"),n=f.getParent(t.selection.getStart(),"td,th"),es.each(e.rows,function(t){es.each(t.cells,function(e){if(f.getAttrib(e,"data-mce-selected")||e===n)return d.push(t),!1})}),(r=d[0])&&(1<d.length?i={height:"",scope:"",class:"",align:"",type:r.parentNode.nodeName.toLowerCase()}:(u=r,c=(s=t).dom,(l={height:c.getStyle(u,"height")||c.getAttrib(u,"height"),scope:c.getAttrib(u,"scope"),class:c.getAttrib(u,"class")}).type=u.parentNode.nodeName.toLowerCase(),es.each("left center right".split(" "),function(e){s.formatter.matchNode(u,"align"+e)&&(l.align=e)}),qa(s)&&es.extend(l,rs.extractAdvancedStyles(c,u)),i=l),0<Ka(t).length&&(o={name:"class",type:"listbox",label:"Class",values:rs.buildListItems(Ka(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})})}),a={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},qa(t)?t.windowManager.open({title:"Row properties",data:i,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},rs.createStyleForm(t)],onsubmit:_.curry(onSubmitRowForm,t,d)}):t.windowManager.open({title:"Row properties",data:i,body:a,onsubmit:_.curry(onSubmitRowForm,t,d)}))},us=tinymce.util.Tools.resolve("tinymce.Env"),cs={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},ls=function(e,t,n,r,o){void 0===o&&(o=cs);var i=$.fromTag("table");zt.setAll(i,o.styles),lt.setAll(i,o.attributes);var a=$.fromTag("tbody");Ut.append(i,a);for(var s=[],u=0;u<e;u++){for(var c=$.fromTag("tr"),l=0;l<t;l++){var f=u<n||l<r?$.fromTag("th"):$.fromTag("td");l<r&&lt.set(f,"scope","row"),u<n&&lt.set(f,"scope","col"),Ut.append(f,$.fromTag("br")),o.percentages&&zt.set(f,"width",100/t+"%"),Ut.append(c,f)}s.push(c)}return Wt.append(a,s),i},fs=function(e){return e.dom().innerHTML},ds=function(e){var t=$.fromTag("div"),n=$.fromDom(e.dom().cloneNode(!0));return Ut.append(t,n),fs(t)},hs=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},ps=function(i,e,t){var n,r,o=i.getParam("table_default_styles",Ma,"object"),a={styles:o,attributes:(r=i,r.getParam("table_default_attributes",La,"object")),percentages:(n=o.width,M.isString(n)&&-1!==n.indexOf("%")&&!Ga(i))},s=ls(t,e,0,0,a);lt.set(s,"data-mce-id","__mce");var u=ds(s);return i.insertContent(u),xt.descendant(Aa.getBody(i),'table[data-mce-id="__mce"]').map(function(e){var t,n,r,o;return Ga(i)&&zt.set(e,"width",zt.get(e,"width")),lt.remove(e,"data-mce-id"),t=i,n=e,T.each(gt.descendants(n,"tr"),function(e){Ja(t,e.dom()),T.each(gt.descendants(e,"th,td"),function(e){Za(t,e.dom())})}),r=i,o=e,xt.descendant(o,"td,th").each(_.curry(hs,r)),e.dom()}).getOr(null)};function styleTDTH(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)styleTDTH(e,t.children[o],n,r)}var ms=function(e,t,n){var r,o,i=e.dom;rs.updateStyleField(e,n),!1===(o=n.control.rootControl.toJSON()).class&&delete o.class,e.undoManager.transact(function(){t||(t=ps(e,o.cols||1,o.rows||1)),function(e,t,n){var r=e.dom,o={},i={};if(o.class=n.class,i.height=Aa.addSizeSuffix(n.height),r.getAttrib(t,"width")&&!Ua(e)?o.width=Aa.removePxSuffix(n.width):i.width=Aa.addSizeSuffix(n.width),Ua(e)?(i["border-width"]=Aa.addSizeSuffix(n.border),i["border-spacing"]=Aa.addSizeSuffix(n.cellspacing),es.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):es.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),Ua(e)&&t.children)for(var a=0;a<t.children.length;a++)styleTDTH(r,t.children[a],{"border-width":Aa.addSizeSuffix(n.border),"border-color":n.borderColor,padding:Aa.addSizeSuffix(n.cellpadding)});n.style?es.extend(i,r.parseStyle(n.style)):i=es.extend({},r.parseStyle(r.getAttrib(t,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(t,o)}(e,t,o),(r=i.select("caption",t)[0])&&!o.caption&&i.remove(r),!r&&o.caption&&((r=i.create("caption")).innerHTML=us.ie?"\xa0":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),ts.unApplyAlign(e,t),o.align&&ts.applyAlign(e,t,o.align),e.focus(),e.addVisual()})},gs=function(t,e){var n,r,o,i,a,s,u,c,l,f,d=t.dom,h={};!0===e?(n=d.getParent(t.selection.getStart(),"table"))&&(u=n,c=(s=t).dom,l={width:c.getStyle(u,"width")||c.getAttrib(u,"width"),height:c.getStyle(u,"height")||c.getAttrib(u,"height"),cellspacing:c.getStyle(u,"border-spacing")||c.getAttrib(u,"cellspacing"),cellpadding:c.getAttrib(u,"data-mce-cell-padding")||c.getAttrib(u,"cellpadding")||ts.getTDTHOverallStyle(s.dom,u,"padding"),border:c.getAttrib(u,"data-mce-border")||c.getAttrib(u,"border")||ts.getTDTHOverallStyle(s.dom,u,"border"),borderColor:c.getAttrib(u,"data-mce-border-color"),caption:!!c.select("caption",u)[0],class:c.getAttrib(u,"class")},es.each("left center right".split(" "),function(e){s.formatter.matchNode(u,"align"+e)&&(l.align=e)}),Ha(s)&&es.extend(l,rs.extractAdvancedStyles(c,u)),h=l):(r={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),0<$a(t).length&&(h.class&&(h.class=h.class.replace(/\s*mce\-item\-table\s*/g,"")),i={name:"class",type:"listbox",label:"Class",values:rs.buildListItems($a(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),a={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:(f=t,f.getParam("table_appearance_options",!0,"boolean")?[r,o,{label:"Width",name:"width",onchange:_.curry(rs.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(rs.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[r,o,{label:"Width",name:"width",onchange:_.curry(rs.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(rs.updateStyleField,t)}])},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},i]},Ha(t)?t.windowManager.open({title:"Table properties",data:h,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},rs.createStyleForm(t)],onsubmit:_.curry(ms,t,n)}):t.windowManager.open({title:"Table properties",data:h,body:a,onsubmit:_.curry(ms,t,n)})},vs=es.each,bs={registerCommands:function(s,t,u,c,n){var r=Aa.getIsRoot(s),l=function(){return $.fromDom(s.dom.getParent(s.selection.getStart(),"th,td"))},f=function(e){return At.table(e,r)},o=function(n){var r=l();f(r).each(function(t){var e=ar.forMenu(c,t,r);n(t,e).each(function(e){s.selection.setRng(e),s.focus(),u.clear(t)})})},i=function(e){var o=l();return f(o).bind(function(e){var t=$.fromDom(s.getDoc()),n=ar.forMenu(c,e,o),r=pn.cellOperations(_.noop,t,w.none());return Qa(e,n,r)})},a=function(a){n.get().each(function(e){var o=T.map(e,function(e){return Qt(e)}),i=l();f(i).bind(function(t){var e=$.fromDom(s.getDoc()),n=pn.paste(e),r=ar.pasteRows(c,t,i,o,n);a(t,r).each(function(e){s.selection.setRng(e),s.focus(),u.clear(t)})})})};vs({mceTableSplitCells:function(){o(t.unmergeCells)},mceTableMergeCells:function(){o(t.mergeCells)},mceTableInsertRowBefore:function(){o(t.insertRowsBefore)},mceTableInsertRowAfter:function(){o(t.insertRowsAfter)},mceTableInsertColBefore:function(){o(t.insertColumnsBefore)},mceTableInsertColAfter:function(){o(t.insertColumnsAfter)},mceTableDeleteCol:function(){o(t.deleteColumn)},mceTableDeleteRow:function(){o(t.deleteRow)},mceTableCutRow:function(e){n.set(i()),o(t.deleteRow)},mceTableCopyRow:function(e){n.set(i())},mceTablePasteRowBefore:function(e){a(t.pasteRowsBefore)},mceTablePasteRowAfter:function(e){a(t.pasteRowsAfter)},mceTableDelete:function(){var e=$.fromDom(s.dom.getParent(s.selection.getStart(),"th,td"));At.table(e,r).filter(_.not(r)).each(function(e){var t=$.fromText("");Ut.after(e,t),Kt.remove(e);var n=s.dom.createRng();n.setStart(t.dom(),0),n.setEnd(t.dom(),0),s.selection.setRng(n)})}},function(e,t){s.addCommand(t,e)}),vs({mceInsertTable:_.curry(gs,s),mceTableProps:_.curry(gs,s,!0),mceTableRowProps:_.curry(ss,s),mceTableCellProps:_.curry(is,s)},function(n,e){s.addCommand(e,function(e,t){n(t)})})}},ys={only:function(e){var t=w.from(e.dom().documentElement).map($.fromDom).getOr(e);return{parent:_.constant(t),view:_.constant(e),origin:_.constant(Nr(0,0))}},detached:function(e,t){var n=_.curry(Br,t);return{parent:_.constant(t),view:_.constant(e),origin:n}},body:function(e,t){return{parent:_.constant(t),view:_.constant(e),origin:_.constant(Nr(0,0))}}};function Event(e){var n=F.immutable.apply(null,e),r=[];return{bind:function(e){if(void 0===e)throw"Event bind error: undefined handler";r.push(e)},unbind:function(t){r=T.filter(r,function(e){return e!==t})},trigger:function(){var t=n.apply(null,arguments);T.each(r,function(e){e(t)})}}}var _s={create:function(e){return{registry:B.map(e,function(e){return{bind:e.bind,unbind:e.unbind}}),trigger:B.map(e,function(e){return e.trigger})}}},ws={mode:Jr.exactly(["compare","extract","mutate","sink"]),sink:Jr.exactly(["element","start","stop","destroy"]),api:Jr.exactly(["forceDrop","drop","move","delayDrop"])},xs={resolve:jo("ephox-dragster").resolve},Cs=function(h,p){return function(e){if(h(e)){var t,n,r,o,i,a,s,u=$.fromDom(e.target),c=function(){e.stopPropagation()},l=function(){e.preventDefault()},f=_.compose(l,c),d=(t=u,n=e.clientX,r=e.clientY,o=c,i=l,a=f,s=e,{target:_.constant(t),x:_.constant(n),y:_.constant(r),stop:o,prevent:i,kill:a,raw:_.constant(s)});p(d)}}},ks=function(e,t,n,r,o){var i=Cs(n,r);return e.dom().addEventListener(t,i,o),{unbind:_.curry(Ss,e,t,i,o)}},Ss=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},Es=function(e,t,n,r){return ks(e,t,n,r,!1)},Ts=function(e,t,n,r){return ks(e,t,n,r,!0)},As=_.constant(!0),Rs={bind:function(e,t,n){return Es(e,t,As,n)},capture:function(e,t,n){return Ts(e,t,As,n)}},Ns=ws.mode({compare:function(e,t){return Nr(t.left()-e.left(),t.top()-e.top())},extract:function(e){return w.some(Nr(e.x(),e.y()))},sink:function(e,t){var n=function Blocker(e){var t=bo.merge({layerClass:xs.resolve("blocker")},e),n=$.fromTag("div");return lt.set(n,"role","presentation"),zt.setAll(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ei.add(n,xs.resolve("blocker")),ei.add(n,t.layerClass),{element:function(){return n},destroy:function(){Kt.remove(n)}}}(t),r=Rs.bind(n.element(),"mousedown",e.forceDrop),o=Rs.bind(n.element(),"mouseup",e.drop),i=Rs.bind(n.element(),"mousemove",e.move),a=Rs.bind(n.element(),"mouseout",e.delayDrop);return ws.sink({element:n.element,start:function(e){Ut.append(e,n.element())},stop:function(){Kt.remove(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(e,t){e.mutate(t.left(),t.top())}});function InDrag(){var i=w.none(),a=_s.create({move:Event(["info"])});return{onEvent:function(e,o){o.extract(e).each(function(e){var t,n,r;(t=o,n=e,r=i.map(function(e){return t.compare(e,n)}),i=w.some(n),r).each(function(e){a.trigger.move(e)})})},reset:function(){i=w.none()},events:a.registry}}function Movement(){var e=function NoDrag(e){return{onEvent:function(e,t){},reset:_.noop}}(),t=InDrag(),n=e;return{on:function(){n.reset(),n=t},off:function(){n.reset(),n=e},isOn:function(){return n===t},onEvent:function(e,t){n.onEvent(e,t)},events:t.events}}var Ds=function(t,n){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){var e=arguments;null!==r&&clearTimeout(r),r=setTimeout(function(){t.apply(null,e),e=r=null},n)}}},Os=function(t,n,e){var r=!1,o=_s.create({start:Event([]),stop:Event([])}),i=Movement(),a=function(){c.stop(),i.isOn()&&(i.off(),o.trigger.stop())},s=Ds(a,200);i.events.move.bind(function(e){n.mutate(t,e.info())});var u=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);if(r)return t.apply(null,e)}},c=n.sink(ws.api({forceDrop:a,drop:u(a),move:u(function(e,t){s.cancel(),i.onEvent(e,n)}),delayDrop:u(s.throttle)}),e);return{element:c.element,go:function(e){c.start(e),i.on(),o.trigger.start()},on:function(){r=!0},off:function(){r=!1},destroy:function(){c.destroy()},events:o.registry}},Bs={transform:function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:Ns;return Os(e,r,t)}};function BarMutation(){var n=_s.create({drag:Event(["xDelta","yDelta","target"])}),r=w.none(),e=function Mutation(){var n=_s.create({drag:Event(["xDelta","yDelta"])});return{mutate:function(e,t){n.trigger.drag(e,t)},events:n.registry}}();return e.events.drag.bind(function(t){r.each(function(e){n.trigger.drag(t.xDelta(),t.yDelta(),e)})}),{assign:function(e){r=w.some(e)},get:function(){return r},mutate:e.mutate,events:n.registry}}var Ps={any:function(e){return xt.first(e).isSome()},ancestor:function(e,t,n){return xt.ancestor(e,t,n).isSome()},sibling:function(e,t){return xt.sibling(e,t).isSome()},child:function(e,t){return xt.child(e,t).isSome()},descendant:function(e,t){return xt.descendant(e,t).isSome()},closest:function(e,t,n){return xt.closest(e,t,n).isSome()}},Ms=zo.resolve("resizer-bar-dragging");function TableResize(e,n){var r=Wr.height,t=function BarManager(o,t,i){var n=BarMutation(),r=Bs.transform(n,{}),a=w.none(),e=function(e,t){return w.from(lt.get(e,t))};n.events.drag.bind(function(n){e(n.target(),"data-row").each(function(e){var t=Qi.getInt(n.target(),"top");zt.set(n.target(),"top",t+n.yDelta()+"px")}),e(n.target(),"data-column").each(function(e){var t=Qi.getInt(n.target(),"left");zt.set(n.target(),"left",t+n.xDelta()+"px")})});var s=function(e,t){return Qi.getInt(e,t)-parseInt(lt.get(e,"data-initial-"+t),10)};r.events.stop.bind(function(){n.get().each(function(r){a.each(function(n){e(r,"data-row").each(function(e){var t=s(r,"top");lt.remove(r,"data-initial-top"),d.trigger.adjustHeight(n,t,parseInt(e,10))}),e(r,"data-column").each(function(e){var t=s(r,"left");lt.remove(r,"data-initial-left"),d.trigger.adjustWidth(n,t,parseInt(e,10))}),ui.refresh(o,n,i,t)})})});var u=function(e,t){d.trigger.startAdjust(),n.assign(e),lt.set(e,"data-initial-"+t,parseInt(zt.get(e,t),10)),ei.add(e,Ms),zt.set(e,"opacity","0.2"),r.go(o.parent())},c=Rs.bind(o.parent(),"mousedown",function(e){ui.isRowBar(e.target())&&u(e.target(),"top"),ui.isColBar(e.target())&&u(e.target(),"left")}),l=function(e){return He.eq(e,o.view())},f=Rs.bind(o.view(),"mouseover",function(e){"table"===it.name(e.target())||Ps.ancestor(e.target(),"table",l)?(a="table"===it.name(e.target())?w.some(e.target()):xt.ancestor(e.target(),"table",l)).each(function(e){ui.refresh(o,e,i,t)}):ht.inBody(e.target())&&ui.destroy(o)}),d=_s.create({adjustHeight:Event(["table","delta","row"]),adjustWidth:Event(["table","delta","column"]),startAdjust:Event([])});return{destroy:function(){c.unbind(),f.unbind(),r.destroy(),ui.destroy(o)},refresh:function(e){ui.refresh(o,e,i,t)},on:r.on,off:r.off,hideBars:_.curry(ui.hide,o),showBars:_.curry(ui.show,o),events:d.registry}}(e,n,r),o=_s.create({beforeResize:Event(["table"]),afterResize:Event(["table"]),startDrag:Event([])});return t.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=r.delta(e.delta(),e.table());ga.adjustHeight(e.table(),t,e.row(),r),o.trigger.afterResize(e.table())}),t.events.startAdjust.bind(function(e){o.trigger.startDrag()}),t.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());ga.adjustWidth(e.table(),t,e.column(),n),o.trigger.afterResize(e.table())}),{on:t.on,off:t.off,hideBars:t.hideBars,showBars:t.showBars,destroy:t.destroy,events:o.registry}}var Ls={get:function(e,t){return e.inline?ys.body(Aa.getBody(e),(n=$.fromTag("div"),zt.setAll(n,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ut.append(ht.body(),n),n)):ys.only($.fromDom(e.getDoc()));var n},remove:function(e,t){e.inline&&Kt.remove(t.parent())}};function ResizeHandler(i){var a,s,r=w.none(),o=w.none(),u=w.none(),c=/(\d+(\.\d+)?)%/,l=function(e){return"TABLE"===e.nodeName};return i.on("init",function(){var e=TableDirection(Ba.directionAt),t=Ls.get(i);if(u=w.some(t),Xa(i)&&Ia(i)){var n=TableResize(t,e);n.on(),n.events.startDrag.bind(function(e){r=w.some(i.selection.getRng())}),n.events.afterResize.bind(function(e){var t=e.table(),n=gt.descendants(t,"td[data-mce-style],th[data-mce-style]");T.each(n,function(e){lt.remove(e,"data-mce-style")}),r.each(function(e){i.selection.setRng(e),i.focus()}),i.undoManager.add()}),o=w.some(n)}}),i.on("ObjectResizeStart",function(e){var t;l(e.target)&&(a=e.width,t=e.target,s=i.dom.getStyle(t,"width")||i.dom.getAttrib(t,"width"))}),i.on("ObjectResized",function(e){if(l(e.target)){var t=e.target;if(c.test(s)){var n=parseFloat(c.exec(s)[1]),r=e.width*n/a;i.dom.setStyle(t,"width",r+"%")}else{var o=[];es.each(t.rows,function(e){es.each(e.cells,function(e){var t=i.dom.getStyle(e,"width",!0);o.push({cell:e,width:t})})}),es.each(o,function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:function(){return o},lazyWire:function(){return u.getOr(ys.only($.fromDom(i.getBody())))},destroy:function(){o.each(function(e){e.destroy()}),u.each(function(e){Ls.remove(i,e)})}}}var Is=function(e){return{fold:e}},Fs=function(o){return Is(function(e,t,n,r){return e(o)})},js=function(o){return Is(function(e,t,n,r){return t(o)})},zs=function(o,i){return Is(function(e,t,n,r){return n(o,i)})},qs=function(o){return Is(function(e,t,n,r){return r(o)})},Hs=function(n,e){return At.table(n,e).bind(function(e){var t=At.cells(e);return T.findIndex(t,function(e){return He.eq(n,e)}).map(function(e){return{index:_.constant(e),all:_.constant(t)}})})},Us=function(t,e){return Hs(t,e).fold(function(){return Fs(t)},function(e){return e.index()+1<e.all().length?zs(t,e.all()[e.index()+1]):qs(t)})},Ws=function(t,e){return Hs(t,e).fold(function(){return Fs()},function(e){return 0<=e.index()-1?zs(t,e.all()[e.index()-1]):js(t)})},Vs=Jn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ks={before:Vs.before,on:Vs.on,after:Vs.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(_.identity,_.identity,_.identity)}},$s=Jn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gs=F.immutable("start","soffset","finish","foffset"),Ys={domRange:$s.domRange,relative:$s.relative,exact:$s.exact,exactFromRange:function(e){return $s.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:Gs,getWin:function(e){var t=e.match({domRange:function(e){return $.fromDom(e.startContainer)},relative:function(e,t){return Ks.getStart(e)},exact:function(e,t,n,r){return e}});return Xe.defaultView(t)}},Xs=function(e,t,n,r){var o=Xe.owner(e).dom().createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},Js=function(e,t,n,r){var o=Xs(e,t,n,r),i=He.eq(e,n)&&t===r;return o.collapsed&&!i},Zs=function(e,t){var n=(t||document).createDocumentFragment();return T.each(e,function(e){n.appendChild(e.dom())}),$.fromDom(n)},Qs=function(e,t){e.selectNodeContents(t.dom())},eu=function(e){e.deleteContents()},tu=function(e){return{left:_.constant(e.left),top:_.constant(e.top),right:_.constant(e.right),bottom:_.constant(e.bottom),width:_.constant(e.width),height:_.constant(e.height)}},nu={create:function(e){return e.document.createRange()},replaceWith:function(e,t){eu(e),e.insertNode(t.dom())},selectNodeContents:function(e,t){var n=e.document.createRange();return Qs(n,t),n},selectNodeContentsUsing:Qs,relativeToNative:function(e,t,n){var r,o,i=e.document.createRange();return r=i,t.fold(function(e){r.setStartBefore(e.dom())},function(e,t){r.setStart(e.dom(),t)},function(e){r.setStartAfter(e.dom())}),o=i,n.fold(function(e){o.setEndBefore(e.dom())},function(e,t){o.setEnd(e.dom(),t)},function(e){o.setEndAfter(e.dom())}),i},exactToNative:function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},deleteContents:eu,cloneFragment:function(e){var t=e.cloneContents();return $.fromDom(t)},getFirstRect:function(e){var t=e.getClientRects(),n=0<t.length?t[0]:e.getBoundingClientRect();return 0<n.width||0<n.height?w.some(n).map(tu):w.none()},getBounds:function(e){var t=e.getBoundingClientRect();return 0<t.width||0<t.height?w.some(t).map(tu):w.none()},isWithin:function(e,t){return t.compareBoundaryPoints(e.END_TO_START,e)<1&&-1<t.compareBoundaryPoints(e.START_TO_END,e)},toString:function(e){return e.toString()}},ru=Jn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ou=function(e,t,n){return t($.fromDom(n.startContainer),n.startOffset,$.fromDom(n.endContainer),n.endOffset)},iu=function(e,t){var o,n,r,i=(o=e,t.match({domRange:function(e){return{ltr:_.constant(e),rtl:w.none}},relative:function(e,t){return{ltr:le(function(){return nu.relativeToNative(o,e,t)}),rtl:le(function(){return w.some(nu.relativeToNative(o,t,e))})}},exact:function(e,t,n,r){return{ltr:le(function(){return nu.exactToNative(o,e,t,n,r)}),rtl:le(function(){return w.some(nu.exactToNative(o,n,r,e,t))})}}}));return(r=(n=i).ltr()).collapsed?n.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return ru.rtl($.fromDom(e.endContainer),e.endOffset,$.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return ou(0,ru.ltr,r)}):ou(0,ru.ltr,r)},au={ltr:ru.ltr,rtl:ru.rtl,diagnose:iu,asLtrRange:function(i,e){return iu(i,e).match({ltr:function(e,t,n,r){var o=i.document.createRange();return o.setStart(e.dom(),t),o.setEnd(n.dom(),r),o},rtl:function(e,t,n,r){var o=i.document.createRange();return o.setStart(n.dom(),r),o.setEnd(e.dom(),t),o}})}},su=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},uu=function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,a=1;a<o;a++){var s=e(a),u=Math.abs(t-s.left);if(n>s.bottom);else{if(n<s.top||i<u)return a-1;i=u}}return 0},cu={locate:function(c,l,f,d){var e=c.dom().createRange();e.selectNode(l.dom());var t=e.getClientRects();return _o(t,function(e){return su(e,f,d)?w.some(e):w.none()}).map(function(e){return n=c,r=l,t=f,o=d,i=e,a=function(e){var t=n.dom().createRange();return t.setStart(r.dom(),e),t.collapse(!0),t},s=nn.get(r).length,u=uu(function(e){return a(e).getBoundingClientRect()},t,o,i.right,s),a(u);var n,r,t,o,i,a,s,u})}},lu=function(t,e,n,r){var o=t.dom().createRange(),i=Xe.children(e);return _o(i,function(e){return o.selectNode(e.dom()),su(o.getBoundingClientRect(),n,r)?fu(t,e,n,r):w.none()})},fu=function(e,t,n,r){return(it.isText(t)?cu.locate:lu)(e,t,n,r)},du=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return fu(e,t,a,s)},hu=function(e,t){return t-e.left<e.right-t},pu=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},mu=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=hu(o,n);return(!0===i?cn.first:cn.last)(e).map(function(e){return pu(t,e,i)})},gu=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=hu(r,n);return w.some(pu(e,t,o))},vu=function(e,t,n){return(0===Xe.children(t).length?gu:mu)(e,t,n)},bu=document.caretPositionFromPoint?function(n,e,t){return w.from(n.dom().caretPositionFromPoint(e,t)).bind(function(e){if(null===e.offsetNode)return w.none();var t=n.dom().createRange();return t.setStart(e.offsetNode,e.offset),t.collapse(),w.some(t)})}:document.caretRangeFromPoint?function(e,t,n){return w.from(e.dom().caretRangeFromPoint(t,n))}:function(n,r,o){return $.fromPoint(n,r,o).bind(function(e){var t=function(){return vu(n,e,r)};return 0===Xe.children(e).length?t():function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return du(e,t,a,s)}(n,e,r,o).orThunk(t)})},yu=function(e,t,n){var r=$.fromDom(e.document);return bu(r,t,n).map(function(e){return Ys.range($.fromDom(e.startContainer),e.startOffset,$.fromDom(e.endContainer),e.endOffset)})},_u=function(e,t,n){var r,o,i,a,s,u,c=au.asLtrRange(e,t),l=$.fromDom(c.commonAncestorContainer);return it.isElement(l)?(r=e,o=l,i=c,a=n,s=nu.create(r),u=(te.is(o,a)?[o]:[]).concat(gt.descendants(o,a)),T.filter(u,function(e){return nu.selectNodeContentsUsing(s,e),nu.isWithin(i,s)})):[]},wu=function(e,t){var n=it.name(e);return"input"===n?Ks.after(e):T.contains(["br","img"],n)?0===t?Ks.before(e):Ks.after(e):Ks.on(e,t)},xu=function(e,t){var n=e.fold(Ks.before,wu,Ks.after),r=t.fold(Ks.before,wu,Ks.after);return Ys.relative(n,r)},Cu=function(e,t,n,r){var o=wu(e,t),i=wu(n,r);return Ys.relative(o,i)},ku=function(e){return e.match({domRange:function(e){var t=$.fromDom(e.startContainer),n=$.fromDom(e.endContainer);return Cu(t,e.startOffset,n,e.endOffset)},relative:xu,exact:Cu})},Su=xu,Eu=Cu,Tu=function(e,t){w.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Au=function(e,t,n,r,o){var i=nu.exactToNative(e,t,n,r,o);Tu(e,i)},Ru=function(i,e){return au.diagnose(i,e).match({ltr:function(e,t,n,r){Au(i,e,t,n,r)},rtl:function(e,t,n,r){var o=i.getSelection();o.extend?(o.collapse(e.dom(),t),o.extend(n.dom(),r)):Au(i,n,r,e,t)}})},Nu=function(e){var t=$.fromDom(e.anchorNode),n=$.fromDom(e.focusNode);return Js(t,e.anchorOffset,n,e.focusOffset)?w.some(Ys.range($.fromDom(e.anchorNode),e.anchorOffset,$.fromDom(e.focusNode),e.focusOffset)):function(e){if(0<e.rangeCount){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return w.some(Ys.range($.fromDom(t.startContainer),t.startOffset,$.fromDom(n.endContainer),n.endOffset))}return w.none()}(e)},Du=function(e){var t=e.getSelection();return 0<t.rangeCount?Nu(t):w.none()},Ou={setExact:function(e,t,n,r,o){var i=Eu(t,n,r,o);Ru(e,i)},getExact:Du,get:function(e){return Du(e).map(function(e){return Ys.exact(e.start(),e.soffset(),e.finish(),e.foffset())})},setRelative:function(e,t,n){var r=Su(t,n);Ru(e,r)},toNative:function(e){var o=Ys.getWin(e).dom(),t=function(e,t,n,r){return nu.exactToNative(o,e,t,n,r)},n=ku(e);return au.diagnose(o,n).match({ltr:t,rtl:t})},setToElement:function(e,t){var n=nu.selectNodeContents(e,t);Tu(e,n)},clear:function(e){e.getSelection().removeAllRanges()},clone:function(e,t){var n=au.asLtrRange(e,t);return nu.cloneFragment(n)},replace:function(e,t,n){var r=au.asLtrRange(e,t),o=Zs(n,e.document);nu.replaceWith(r,o)},deleteAt:function(e,t){var n=au.asLtrRange(e,t);nu.deleteContents(n)},forElement:function(e,t){var n=nu.selectNodeContents(e,t);return Ys.range($.fromDom(n.startContainer),n.startOffset,$.fromDom(n.endContainer),n.endOffset)},getFirstRect:function(e,t){var n=au.asLtrRange(e,t);return nu.getFirstRect(n)},getBounds:function(e,t){var n=au.asLtrRange(e,t);return nu.getBounds(n)},getAtPoint:function(e,t,n){return yu(e,t,n)},findWithin:function(e,t,n){return _u(e,t,n)},getAsString:function(e,t){var n=au.asLtrRange(e,t);return nu.toString(n)},isCollapsed:function(e,t,n,r){return He.eq(e,n)&&t===r}},Bu=tinymce.util.Tools.resolve("tinymce.util.VK"),Pu=function(e,t,n,r){return Iu(e,t,Us(n),r)},Mu=function(e,t,n,r){return Iu(e,t,Ws(n),r)},Lu=function(e,t){var n=Ys.exact(t,0,t,0);return Ou.toNative(n)},Iu=function(i,e,t,a,n){return t.fold(w.none,w.none,function(e,t){return cn.first(t).map(function(e){return Lu(0,e)})},function(o){return At.table(o,e).bind(function(e){var t,n,r=ar.noMenu(o);return i.undoManager.transact(function(){a.insertRowsAfter(e,r)}),t=e,n=gt.descendants(t,"tr"),T.last(n).bind(function(e){return xt.descendant(e,"td,th").map(function(e){return Lu(0,e)})})})})},Fu=["table","li","dl"],ju={handle:function(t,n,r,o){if(t.keyCode===Bu.TAB){var i=Aa.getBody(n),a=function(e){var t=it.name(e);return He.eq(e,i)||T.contains(Fu,t)},e=n.selection.getRng();if(e.collapsed){var s=$.fromDom(e.startContainer);At.cell(s,a).each(function(e){t.preventDefault(),(t.shiftKey?Mu:Pu)(n,a,e,r,o).each(function(e){n.selection.setRng(e)})})}}}},zu={response:F.immutable("selection","kill")},qu=function(t){return function(e){return e===t}},Hu=qu(38),Uu=qu(40),Wu={ltr:{isBackward:qu(37),isForward:qu(39)},rtl:{isBackward:qu(39),isForward:qu(37)},isUp:Hu,isDown:Uu,isNavigation:function(e){return 37<=e&&e<=40}},Vu={convertToRange:function(e,t){var n=au.asLtrRange(e,t);return{start:_.constant($.fromDom(n.startContainer)),soffset:_.constant(n.startOffset),finish:_.constant($.fromDom(n.endContainer)),foffset:_.constant(n.endOffset)}},makeSitus:function(e,t,n,r){return{start:_.constant(Ks.on(e,t)),finish:_.constant(Ks.on(n,r))}}},Ku=je.detect().browser.isSafari(),$u=function(e){var t=void 0!==e?e.dom():document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Nr(n,r)},Gu=function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollTo(e,t)},Yu=function(e,t){Ku&&M.isFunction(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},Xu={get:$u,to:Gu,by:function(e,t,n){(void 0!==n?n.dom():document).defaultView.scrollBy(e,t)},preserve:function(e,t){var n=$u(e);t();var r=$u(e);n.top()===r.top()&&n.left()===r.left()||Gu(n.left(),n.top(),e)},capture:function(t){var e=w.none(),n=function(){e=w.some($u(t))};return n(),{save:n,restore:function(){e.each(function(e){Gu(e.left(),e.top(),t)})}}},intoView:Yu,intoViewIfNeeded:function(e,t){var n=t.dom().getBoundingClientRect(),r=e.dom().getBoundingClientRect();r.top<n.top?Yu(e,!0):r.bottom>n.bottom&&Yu(e,!1)},setToElement:function(e,t){var n=Br(t),r=$.fromDom(e.document);Gu(n.left(),n.top(),r)},scrollBarWidth:function(){var e=$.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');Ut.after(ht.body(),e);var t=e.dom().offsetWidth-e.dom().clientWidth;return Kt.remove(e),t}};function WindowBridge(i){return{elementFromPoint:function(e,t){return w.from(i.document.elementFromPoint(e,t)).map($.fromDom)},getRect:function(e){return e.dom().getBoundingClientRect()},getRangedRect:function(e,t,n,r){var o=Ys.exact(e,t,n,r);return Ou.getFirstRect(i,o).map(function(e){return B.map(e,_.apply)})},getSelection:function(){return Ou.get(i).map(function(e){return Vu.convertToRange(i,e)})},fromSitus:function(e){var t=Ys.relative(e.start(),e.finish());return Vu.convertToRange(i,t)},situsFromPoint:function(e,t){return Ou.getAtPoint(i,e,t).map(function(e){return{start:_.constant(Ks.on(e.start(),e.soffset())),finish:_.constant(Ks.on(e.finish(),e.foffset()))}})},clearSelection:function(){Ou.clear(i)},setSelection:function(e){Ou.setExact(i,e.start(),e.soffset(),e.finish(),e.foffset())},setRelativeSelection:function(e,t){Ou.setRelative(i,e,t)},selectContents:function(e){Ou.setToElement(i,e)},getInnerHeight:function(){return i.innerHeight},getScrollY:function(){return Xu.get($.fromDom(i.document)).top()},scrollBy:function(e,t){Xu.by(e,t,$.fromDom(i.document))}}}var Ju=function(n,e,r,t,o){if(!He.eq(r,t))return Vn.identify(r,t,e).bind(function(e){var t=e.boxes().getOr([]);return 0<t.length?(o(n,t,e.start(),e.finish()),w.some(zu.response(w.some(Vu.makeSitus(r,0,r,an(r))),!0))):w.none()})},Zu={sync:function(n,r,e,t,o,i,a){return He.eq(e,o)&&t===i?w.none():xt.closest(e,"td,th",r).bind(function(t){return xt.closest(o,"td,th",r).bind(function(e){return Ju(n,r,t,e,a)})})},detect:Ju,update:function(e,t,n,r,o){return Vn.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()})}},Qu=F.immutableBag(["left","top","right","bottom"],[]),ec={nu:Qu,moveUp:function(e,t){return Qu({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},moveDown:function(e,t){return Qu({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},moveBottomTo:function(e,t){var n=e.bottom()-e.top();return Qu({left:e.left(),top:t-n,right:e.right(),bottom:t})},moveTopTo:function(e,t){var n=e.bottom()-e.top();return Qu({left:e.left(),top:t,right:e.right(),bottom:t+n})},getTop:function(e){return e.top()},getBottom:function(e){return e.bottom()},translate:function(e,t,n){return Qu({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},toString:function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"}},tc=function(e){return ec.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},nc=function(e,t){return w.some(e.getRect(t))},rc=function(e,t,n){return it.isElement(t)?nc(e,t).map(tc):it.isText(t)?(r=e,o=t,i=n,0<=i&&i<an(o)?r.getRangedRect(o,i,o,i+1):0<i?r.getRangedRect(o,i-1,o,i):w.none()).map(tc):w.none();var r,o,i},oc=function(e,t){return it.isElement(t)?nc(e,t).map(tc):it.isText(t)?e.getRangedRect(t,0,t,an(t)).map(tc):w.none()},ic=F.immutable("item","mode"),ac=function(e,t,n,r){var o=void 0!==r?r:sc;return e.property().parent(t).map(function(e){return ic(e,o)})},sc=function(e,t,n,r){var o=void 0!==r?r:uc;return n.sibling(e,t).map(function(e){return ic(e,o)})},uc=function(e,t,n,r){var o=void 0!==r?r:uc,i=e.property().children(t);return n.first(i).map(function(e){return ic(e,o)})},cc=[{current:ac,next:sc,fallback:w.none()},{current:sc,next:uc,fallback:w.some(ac)},{current:uc,next:uc,fallback:w.some(sc)}],lc=function(t,n,r,o,e){return e=void 0!==e?e:cc,T.find(e,function(e){return e.current===r}).bind(function(e){return e.current(t,n,o,e.next).orThunk(function(){return e.fallback.bind(function(e){return lc(t,n,e,o)})})})},fc={backtrack:ac,sidestep:sc,advance:uc,go:lc},dc={left:function(){return{sibling:function(e,t){return e.query().prevSibling(t)},first:function(e){return 0<e.length?w.some(e[e.length-1]):w.none()}}},right:function(){return{sibling:function(e,t){return e.query().nextSibling(t)},first:function(e){return 0<e.length?w.some(e[0]):w.none()}}}},hc=function(t,e,n,r,o,i){return fc.go(t,e,r,o).bind(function(e){return i(e.item())?w.none():n(e.item())?w.some(e.item()):hc(t,e.item(),n,e.mode(),o,i)})},pc=function(e,t,n,r){return hc(e,t,n,fc.sidestep,dc.left(),r)},mc=function(e,t,n,r){return hc(e,t,n,fc.sidestep,dc.right(),r)},gc=function(e,t){return 0===e.property().children(t).length},vc=function(e,t,n,r){return pc(e,t,n,r)},bc=function(e,t,n,r){return mc(e,t,n,r)},yc={before:function(e,t,n){return vc(e,t,_.curry(gc,e),n)},after:function(e,t,n){return bc(e,t,_.curry(gc,e),n)},seekLeft:vc,seekRight:bc,walkers:function(){return{left:dc.left,right:dc.right}},walk:function(e,t,n,r,o){return fc.go(e,t,n,r,o)},backtrack:fc.backtrack,sidestep:fc.sidestep,advance:fc.advance},_c=DomUniverse(),wc={gather:function(e,t,n){return yc.gather(_c,e,t,n)},before:function(e,t){return yc.before(_c,e,t)},after:function(e,t){return yc.after(_c,e,t)},seekLeft:function(e,t,n){return yc.seekLeft(_c,e,t,n)},seekRight:function(e,t,n){return yc.seekRight(_c,e,t,n)},walkers:function(){return yc.walkers()},walk:function(e,t,n,r){return yc.walk(_c,e,t,n,r)}},xc=Jn([{none:[]},{retry:["caret"]}]),Cc=function(t,e,r){return _t.closest(e,lo).fold(_.constant(!1),function(e){return oc(t,e).exists(function(e){return n=e,(t=r).left()<n.left()||Math.abs(n.right()-t.left())<1||t.left()>n.right();var t,n})})},kc={point:ec.getTop,adjuster:function(e,t,n,r,o){var i=ec.moveUp(o,5);return Math.abs(n.top()-r.top())<1?xc.retry(i):n.bottom()<o.top()?xc.retry(i):n.bottom()===o.top()?xc.retry(ec.moveUp(o,1)):Cc(e,t,o)?xc.retry(ec.translate(i,5,0)):xc.none()},move:ec.moveUp,gather:wc.before},Sc={point:ec.getBottom,adjuster:function(e,t,n,r,o){var i=ec.moveDown(o,5);return Math.abs(n.bottom()-r.bottom())<1?xc.retry(i):n.top()>o.bottom()?xc.retry(i):n.top()===o.bottom()?xc.retry(ec.moveDown(o,1)):Cc(e,t,o)?xc.retry(ec.translate(i,5,0)):xc.none()},move:ec.moveDown,gather:wc.after},Ec=function(n,r,o,i,a){return 0===a?w.some(i):(u=n,c=i.left(),l=r.point(i),u.elementFromPoint(c,l).filter(function(e){return"table"===it.name(e)}).isSome()?(t=i,s=a-1,Ec(n,e=r,o,e.move(t,5),s)):n.situsFromPoint(i.left(),r.point(i)).bind(function(e){return e.start().fold(w.none,function(t,e){return oc(n,t,e).bind(function(e){return r.adjuster(n,t,e,o,i).fold(w.none,function(e){return Ec(n,r,o,e,a-1)})}).orThunk(function(){return w.some(i)})},w.none)}));var e,t,s,u,c,l},Tc=function(t,n,e){var r,o,i,a=t.move(e,5),s=Ec(n,t,e,a,100).getOr(a);return(r=t,o=s,i=n,r.point(o)>i.getInnerHeight()?w.some(r.point(o)-i.getInnerHeight()):r.point(o)<0?w.some(-r.point(o)):w.none()).fold(function(){return n.situsFromPoint(s.left(),t.point(s))},function(e){return n.scrollBy(0,e),n.situsFromPoint(s.left(),t.point(s)-e)})},Ac={tryUp:_.curry(Tc,kc),tryDown:_.curry(Tc,Sc),ieTryUp:function(e,t){return e.situsFromPoint(t.left(),t.top()-5)},ieTryDown:function(e,t){return e.situsFromPoint(t.left(),t.bottom()+5)},getJumpSize:_.constant(5)},Rc=Jn([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Nc=function(e){return xt.closest(e,"tr")},Dc={verify:function(s,e,t,n,r,u,o){return xt.closest(n,"td,th",o).bind(function(a){return xt.closest(e,"td,th",o).map(function(i){return He.eq(a,i)?He.eq(n,a)&&an(a)===r?u(i):Rc.none("in same cell"):En(Nc,[a,i]).fold(function(){return t=i,n=a,r=(e=s).getRect(t),(o=e.getRect(n)).right>r.left&&o.left<r.right?Rc.success():u(i);var e,t,n,r,o},function(e){return u(i)})})}).getOr(Rc.none("default"))},cata:function(e,t,n,r,o){return e.fold(t,n,r,o)},adt:Rc},Oc={point:F.immutable("element","offset"),delta:F.immutable("element","deltaOffset"),range:F.immutable("element","start","finish"),points:F.immutable("begin","end"),text:F.immutable("element","text")},Bc=(F.immutable("ancestor","descendants","element","index"),F.immutable("parent","children","element","index")),Pc=function(e,t){return T.findIndex(e,_.curry(He.eq,t))},Mc=function(r){return Xe.parent(r).bind(function(t){var n=Xe.children(t);return Pc(n,r).map(function(e){return Bc(t,n,r,e)})})},Lc=function(e){return"br"===it.name(e)},Ic=function(e,t,n){return t(e,n).bind(function(e){return it.isText(e)&&0===nn.get(e).trim().length?Ic(e,t,n):w.some(e)})},Fc=function(t,e,n,r){return(o=e,i=n,Xe.child(o,i).filter(Lc).orThunk(function(){return Xe.child(o,i-1).filter(Lc)})).bind(function(e){return r.traverse(e).fold(function(){return Ic(e,r.gather,t).map(r.relative)},function(e){return Mc(e).map(function(e){return Ks.on(e.parent(),e.index())})})});var o,i},jc=function(e,t,n,r){var o,i,a;return(Lc(t)?(o=e,i=t,(a=r).traverse(i).orThunk(function(){return Ic(i,a.gather,o)}).map(a.relative)):Fc(e,t,n,r)).map(function(e){return{start:_.constant(e),finish:_.constant(e)}})},zc=function(e){return Dc.cata(e,function(e){return w.none()},function(){return w.none()},function(e){return w.some(Oc.point(e,0))},function(e){return w.some(Oc.point(e,an(e)))})},qc=je.detect(),Hc=function(r,o,i,a,s,u){return 0===u?w.none():Vc(r,o,i,a,s).bind(function(e){var t=r.fromSitus(e),n=Dc.verify(r,i,a,t.finish(),t.foffset(),s.failure,o);return Dc.cata(n,function(){return w.none()},function(){return w.some(e)},function(e){return He.eq(i,e)&&0===a?Uc(r,i,a,ec.moveUp,s):Hc(r,o,e,0,s,u-1)},function(e){return He.eq(i,e)&&a===an(e)?Uc(r,i,a,ec.moveDown,s):Hc(r,o,e,an(e),s,u-1)})})},Uc=function(t,e,n,r,o){return rc(t,e,n).bind(function(e){return Wc(t,o,r(e,Ac.getJumpSize()))})},Wc=function(e,t,n){return qc.browser.isChrome()||qc.browser.isSafari()||qc.browser.isFirefox()||qc.browser.isEdge()?t.otherRetry(e,n):qc.browser.isIE()?t.ieRetry(e,n):w.none()},Vc=function(t,e,n,r,o){return rc(t,n,r).bind(function(e){return Wc(t,o,e)})},Kc=function(t,n,r){return(o=t,i=n,a=r,o.getSelection().bind(function(r){return jc(i,r.finish(),r.foffset(),a).fold(function(){return w.some(Oc.point(r.finish(),r.foffset()))},function(e){var t=o.fromSitus(e),n=Dc.verify(o,r.finish(),r.foffset(),t.finish(),t.foffset(),a.failure,i);return zc(n)})})).bind(function(e){return Hc(t,n,e.element(),e.offset(),r,20).map(t.fromSitus)});var o,i,a},$c=function(e,t,n){return _t.ancestor(e,t,n).isSome()},Gc=je.detect(),Yc=function(r,o,i,e,a){return xt.closest(e,"td,th",o).bind(function(n){return xt.closest(n,"table",o).bind(function(e){return t=e,$c(a,function(e){return Xe.parent(e).exists(function(e){return He.eq(e,t)})})?Kc(r,o,i).bind(function(t){return xt.closest(t.finish(),"td,th",o).map(function(e){return{start:_.constant(n),finish:_.constant(e),range:_.constant(t)}})}):w.none();var t})})},Xc=function(e,t,n,r,o,i){return Gc.browser.isIE()?w.none():i(r,t).orThunk(function(){return Yc(e,t,n,r,o).map(function(e){var t=e.range();return zu.response(w.some(Vu.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},Jc=function(e,t,n,r,o,i,a){return Yc(e,n,r,o,i).bind(function(e){return Zu.detect(t,n,e.start(),e.finish(),a)})},Zc=function(e,r){return xt.closest(e,"tr",r).bind(function(n){return xt.closest(n,"table",r).bind(function(e){var t=gt.descendants(e,"tr");return He.eq(n,t[0])?wc.seekLeft(e,function(e){return cn.last(e).isSome()},r).map(function(e){var t=an(e);return zu.response(w.some(Vu.makeSitus(e,t,e,t)),!0)}):w.none()})})},Qc=function(e,r){return xt.closest(e,"tr",r).bind(function(n){return xt.closest(n,"table",r).bind(function(e){var t=gt.descendants(e,"tr");return He.eq(n,t[t.length-1])?wc.seekRight(e,function(e){return cn.first(e).isSome()},r).map(function(e){return zu.response(w.some(Vu.makeSitus(e,0,e,0)),!0)}):w.none()})})},el=function(e,t){return xt.closest(e,"td,th",t)},tl={down:{traverse:Xe.nextSibling,gather:wc.after,relative:Ks.before,otherRetry:Ac.tryDown,ieRetry:Ac.ieTryDown,failure:Dc.adt.failedDown},up:{traverse:Xe.prevSibling,gather:wc.before,relative:Ks.before,otherRetry:Ac.tryUp,ieRetry:Ac.ieTryUp,failure:Dc.adt.failedUp}},nl=F.immutable("rows","cols"),rl={mouse:function(e,t,n,r){var o=function MouseSelection(o,i,t,a){var n=w.none(),e=function(){n=w.none()};return{mousedown:function(e){a.clear(i),n=el(e.target(),t)},mouseover:function(e){n.each(function(r){a.clear(i),el(e.target(),t).each(function(n){Vn.identify(r,n,t).each(function(e){var t=e.boxes().getOr([]);(1<t.length||1===t.length&&!He.eq(r,n))&&(a.selectRange(i,t,e.start(),e.finish()),o.selectContents(n))})})})},mouseup:function(){n.each(e)}}}(WindowBridge(e),t,n,r);return{mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},keyboard:function(e,u,c,l){var f=WindowBridge(e),d=function(){return l.clear(u),w.none()};return{keydown:function(e,t,n,r,o,i){var a=e.raw().which,s=!0===e.raw().shiftKey;return Vn.retrieve(u,l.selectedSelector()).fold(function(){return Wu.isDown(a)&&s?_.curry(Jc,f,u,c,tl.down,r,t,l.selectRange):Wu.isUp(a)&&s?_.curry(Jc,f,u,c,tl.up,r,t,l.selectRange):Wu.isDown(a)?_.curry(Xc,f,c,tl.down,r,t,Qc):Wu.isUp(a)?_.curry(Xc,f,c,tl.up,r,t,Zc):w.none},function(t){var e=function(e){return function(){return _o(e,function(e){return Zu.update(e.rows(),e.cols(),u,t,l)}).fold(function(){return Vn.getEdges(u,l.firstSelectedSelector(),l.lastSelectedSelector()).map(function(e){var t=Wu.isDown(a)||i.isForward(a)?Ks.after:Ks.before;return f.setRelativeSelection(Ks.on(e.first(),0),t(e.table())),l.clear(u),zu.response(w.none(),!0)})},function(e){return w.some(zu.response(w.none(),!0))})}};return Wu.isDown(a)&&s?e([nl(1,0)]):Wu.isUp(a)&&s?e([nl(-1,0)]):i.isBackward(a)&&s?e([nl(0,-1),nl(-1,0)]):i.isForward(a)&&s?e([nl(0,1),nl(1,0)]):Wu.isNavigation(a)&&!1===s?d:w.none})()},keyup:function(t,n,r,o,i){return Vn.retrieve(u,l.selectedSelector()).fold(function(){var e=t.raw().which;return 0==(!0===t.raw().shiftKey)?w.none():Wu.isNavigation(e)?Zu.sync(u,c,n,r,o,i,l.selectRange):w.none()},w.none)}}}},ol=function(t,e){T.each(e,function(e){ei.remove(t,e)})},il=function(t){return function(e){ei.add(e,t)}},al=function(t){return function(e){ol(e,t)}},sl={byClass:function(o){var i=il(o.selected()),n=al([o.selected(),o.lastSelected(),o.firstSelected()]),a=function(e){var t=gt.descendants(e,o.selectedSelector());T.each(t,n)};return{clear:a,selectRange:function(e,t,n,r){a(e),T.each(t,i),ei.add(n,o.firstSelected()),ei.add(r,o.lastSelected())},selectedSelector:o.selectedSelector,firstSelectedSelector:o.firstSelectedSelector,lastSelectedSelector:o.lastSelectedSelector}},byAttr:function(o){var n=function(e){lt.remove(e,o.selected()),lt.remove(e,o.firstSelected()),lt.remove(e,o.lastSelected())},i=function(e){lt.set(e,o.selected(),"1")},a=function(e){var t=gt.descendants(e,o.selectedSelector());T.each(t,n)};return{clear:a,selectRange:function(e,t,n,r){a(e),T.each(t,i),lt.set(n,o.firstSelected(),"1"),lt.set(r,o.lastSelected(),"1")},selectedSelector:o.selectedSelector,firstSelectedSelector:o.firstSelectedSelector,lastSelectedSelector:o.lastSelectedSelector}}};function CellSelection$1(m,g){var v=F.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),b=w.none(),y=sl.byAttr(Xn);return m.on("init",function(e){var r=m.getWin(),i=Aa.getBody(m),t=Aa.getIsRoot(m),n=rl.mouse(r,i,t,y),l=rl.keyboard(r,i,t,y),f=function(e,t){!0===e.raw().shiftKey&&(t.kill()&&e.kill(),t.selection().each(function(e){var t=Ys.relative(e.start(),e.finish()),n=au.asLtrRange(r,t);m.selection.setRng(n)}))},o=function(e){var t=h(e);if(t.raw().shiftKey&&Wu.isNavigation(t.raw().which)){var n=m.selection.getRng(),r=$.fromDom(n.startContainer),o=$.fromDom(n.endContainer);l.keyup(t,r,n.startOffset,o,n.endOffset).each(function(e){f(t,e)})}},d=function(e){return!(lt.has(e,"data-mce-bogus")||"br"===it.name(e)||it.isText(e)&&0===nn.get(e).length)},a=function(e){var t,n,r,o=h(e);g().each(function(e){e.hideBars()}),40===e.which&&(t=$.fromDom(m.getBody()),n=Xe.lastChild(t),r=function(e){return Xe.prevSibling(e).bind(function(e){return d(e)?w.some(e):r(e)})},n.bind(function(e){return d(e)?w.some(e):r(e)})).each(function(e){"table"===it.name(e)&&(ja(m)?m.dom.add(m.getBody(),ja(m),Wa(m),"<br/>"):m.dom.add(m.getBody(),"br"))});var i=m.selection.getRng(),a=$.fromDom(m.selection.getStart()),s=$.fromDom(i.startContainer),u=$.fromDom(i.endContainer),c=Ba.directionAt(a).isRtl()?Wu.rtl:Wu.ltr;l.keydown(o,s,i.startOffset,u,i.endOffset,c).each(function(e){f(o,e)}),g().each(function(e){e.showBars()})},h=function(e){var t=$.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=_.compose(r,n);return{target:_.constant(t),x:_.constant(e.x),y:_.constant(e.y),stop:n,prevent:r,kill:o,raw:_.constant(e)}},s=function(e){return 0===e.button},u=function(e){s(e)&&n.mousedown(h(e))},c=function(e){var t;(void 0===(t=e).buttons||0!=(1&t.buttons))&&n.mouseover(h(e))},p=function(e){s&&n.mouseup(h(e))};m.on("mousedown",u),m.on("mouseover",c),m.on("mouseup",p),m.on("keyup",o),m.on("keydown",a),m.on("nodechange",function(){var e=m.selection,t=$.fromDom(e.getStart()),n=$.fromDom(e.getEnd()),r=At.table(t),o=At.table(n);r.bind(function(t){return o.bind(function(e){return He.eq(t,e)?w.some(!0):w.none()})}).fold(function(){y.clear(i)},_.noop)}),b=w.some(v({mousedown:u,mouseover:c,mouseup:p,keyup:o,keydown:a}))}),{clear:y.clear,destroy:function(){b.each(function(e){})}}}var ul=es.each,cl={addButtons:function(t){var n=[];function cmd(e){return function(){t.execCommand(e)}}ul("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"===e?n.push({text:"-"}):n.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:n}),t.addButton("tableprops",{title:"Table properties",onclick:_.curry(gs,t,!0),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:cmd("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:cmd("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:cmd("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:cmd("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:cmd("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:cmd("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:cmd("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:cmd("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:cmd("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:cmd("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:cmd("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:cmd("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:cmd("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:cmd("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:cmd("mceTableDeleteCol")})},addToolbars:function(t){var e,n=""===(e=t.getParam("table_toolbar",Pa))||!1===e?[]:M.isString(e)?e.split(/[ ,]/):M.isArray(e)?e:[];0<n.length&&t.addContextToolbar(function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},n.join(" "))}},ll={addMenuItems:function(o,n){var r=w.none(),i=[],a=[],s=[],u=[],c=function(e){e.disabled(!0)},l=function(e){e.disabled(!1)},e=function(){var t=this;i.push(t),r.fold(function(){c(t)},function(e){l(t)})},t=function(){var t=this;a.push(t),r.fold(function(){c(t)},function(e){l(t)})};o.on("init",function(){o.on("nodechange",function(e){var t=w.from(o.dom.getParent(o.selection.getStart(),"th,td"));(r=t.bind(function(e){var t=$.fromDom(e);return At.table(t).map(function(e){return ar.forMenu(n,e,t)})})).fold(function(){T.each(i,c),T.each(a,c),T.each(s,c),T.each(u,c)},function(t){T.each(i,l),T.each(a,l),T.each(s,function(e){e.disabled(t.mergable().isNone())}),T.each(u,function(e){e.disabled(t.unmergable().isNone())})})})});var f=function(e,t,n,r){var o,i,a,s,u,c=r.getEl().getElementsByTagName("table")[0],l=r.isRtl()||"tl-tr"===r.parent().rel;for(c.nextSibling.innerHTML=t+1+" x "+(n+1),l&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)s=c.rows[i].childNodes[o].firstChild,u=(l?t<=o:o<=t)&&i<=n,e.dom.toggleClass(s,"mce-active",u),u&&(a=s);return a.parentNode},d=!1===o.getParam("table_grid",!0,"boolean")?{text:"Table",icon:"table",context:"table",onclick:_.curry(gs,o)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),gs(o))},onshow:function(){f(o,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,r=e.target;"A"===r.tagName.toUpperCase()&&(t=parseInt(r.getAttribute("data-mce-x"),10),n=parseInt(r.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(f(o,t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"===e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){ps(o,t.lastX+1,t.lastY+1)}),o.addVisual())}}]};function cmd(e){return function(){o.execCommand(e)}}var h={text:"Table properties",context:"table",onPostRender:e,onclick:_.curry(gs,o,!0)},p={text:"Delete table",context:"table",onPostRender:e,cmd:"mceTableDelete"},m={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:cmd("mceTableInsertRowBefore"),onPostRender:t},{text:"Insert row after",onclick:cmd("mceTableInsertRowAfter"),onPostRender:t},{text:"Delete row",onclick:cmd("mceTableDeleteRow"),onPostRender:t},{text:"Row properties",onclick:cmd("mceTableRowProps"),onPostRender:t},{text:"-"},{text:"Cut row",onclick:cmd("mceTableCutRow"),onPostRender:t},{text:"Copy row",onclick:cmd("mceTableCopyRow"),onPostRender:t},{text:"Paste row before",onclick:cmd("mceTablePasteRowBefore"),onPostRender:t},{text:"Paste row after",onclick:cmd("mceTablePasteRowAfter"),onPostRender:t}]},g={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:cmd("mceTableInsertColBefore"),onPostRender:t},{text:"Insert column after",onclick:cmd("mceTableInsertColAfter"),onPostRender:t},{text:"Delete column",onclick:cmd("mceTableDeleteCol"),onPostRender:t}]},v={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:cmd("mceTableCellProps"),onPostRender:t},{text:"Merge cells",onclick:cmd("mceTableMergeCells"),onPostRender:function(){var t=this;s.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.mergable().isNone())})}},{text:"Split cell",onclick:cmd("mceTableSplitCells"),onPostRender:function(){var t=this;u.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.unmergable().isNone())})}}]};o.addMenuItem("inserttable",d),o.addMenuItem("tableprops",h),o.addMenuItem("deletetable",p),o.addMenuItem("row",m),o.addMenuItem("column",g),o.addMenuItem("cell",v)}},fl=function(n,o){return{insertTable:function(e,t){return ps(n,e,t)},setClipboardRows:function(e){return t=e,n=o,r=T.map(t,$.fromDom),void n.set(w.from(r));var t,n,r},getClipboardRows:function(){return o.get().fold(function(){},function(e){return T.map(e,function(e){return e.dom()})})}}};a.add("table",function Plugin(t){var n=ResizeHandler(t),e=CellSelection$1(t,n.lazyResize),r=function TableActions(f,e){var n=function(e){return"table"===it.name(Aa.getBody(e))},d=Ya(f),t=function(s,u,c,l){return function(e,t){var n=gt.descendants(e,"td[data-mce-style],th[data-mce-style]");T.each(n,function(e){lt.remove(e,"data-mce-style")});var r=l(),o=$.fromDom(f.getDoc()),i=TableDirection(Ba.directionAt),a=pn.cellOperations(c,o,d);return u(e)?s(r,e,t,a,i).bind(function(e){return T.each(e.newRows(),function(e){Ja(f,e.dom())}),T.each(e.newCells(),function(e){Za(f,e.dom())}),e.cursor().map(function(e){var t=f.dom.createRng();return t.setStart(e.dom(),0),t.setEnd(e.dom(),0),t})}):w.none()}};return{deleteRow:t(Ea.eraseRows,function(e){var t=Kr.getGridSize(e);return!1===n(f)||1<t.rows()},_.noop,e),deleteColumn:t(Ea.eraseColumns,function(e){var t=Kr.getGridSize(e);return!1===n(f)||1<t.columns()},_.noop,e),insertRowsBefore:t(Ea.insertRowsBefore,_.always,_.noop,e),insertRowsAfter:t(Ea.insertRowsAfter,_.always,_.noop,e),insertColumnsBefore:t(Ea.insertColumnsBefore,_.always,Tr.halve,e),insertColumnsAfter:t(Ea.insertColumnsAfter,_.always,Tr.halve,e),mergeCells:t(Ea.mergeCells,_.always,_.noop,e),unmergeCells:t(Ea.unmergeCells,_.always,_.noop,e),pasteRowsBefore:t(Ea.pasteRowsBefore,_.always,_.noop,e),pasteRowsAfter:t(Ea.pasteRowsAfter,_.always,_.noop,e),pasteCells:t(Ea.pasteCells,_.always,_.noop,e)}}(t,n.lazyWire),o=function Selections(t){return{get:function(){var e=Aa.getBody(t);return Kn.retrieve(e,Xn.selectedSelector()).fold(function(){return void 0===t.selection.getStart()?Qn.none():Qn.single(t.selection)},function(e){return Qn.multiple(e)})}}}(t),i=$r(w.none());return bs.registerCommands(t,r,e,o,i),sr.registerEvents(t,o,r,e),ll.addMenuItems(t,o),cl.addButtons(t),cl.addToolbars(t),t.on("PreInit",function(){t.serializer.addTempAttr(Xn.firstSelected()),t.serializer.addTempAttr(Xn.lastSelected())}),Fa(t)&&t.on("keydown",function(e){ju.handle(e,t,r,n.lazyWire)}),t.on("remove",function(){n.destroy(),e.destroy()}),fl(t,i)})}()},function(e,t,n){n(144)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.Color"),i=function(e,t){e.find("#preview")[0].getEl().style.background=t},a=function(e,t){var n=o(t),r=n.toRgb();e.fromJSON({r:r.r,g:r.g,b:r.b,hex:n.toHex().substr(1)}),i(e,n.toHex())},r=function(e,t,n){var r=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:n,onchange:function(){var e=this.rgb();r&&(r.find("#r").value(e.r),r.find("#g").value(e.g),r.find("#b").value(e.b),r.find("#hex").value(this.value().substr(1)),i(r,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,n=r.find("colorpicker")[0];if(e=this.name(),t=this.value(),"hex"===e)return a(r,t="#"+t),void n.value(t);t={r:r.find("#r").value(),g:r.find("#g").value(),b:r.find("#b").value()},n.value(t),a(r,t)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){t("#"+r.toJSON().hex)}});a(r,n)};e.add("colorpicker",function(n){n.settings.color_picker_callback||(n.settings.color_picker_callback=function(e,t){r(n,e,t)})})}()},function(e,t,n){n(146)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(e,n){var r;return e.dom.getParents(e.selection.getStart(),function(e){var t;(t=e.style["forecolor"===n?"color":"background-color"])&&(r=t)}),r},p=function(e){var t,n=[];for(t=0;t<e.length;t+=2)n.push({text:e[t+1],color:"#"+e[t]});return n},r=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},t=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},n=function(n){n.addCommand("mceApplyTextcolor",function(e,t){r(n,e,t)}),n.addCommand("mceRemoveTextcolor",function(e){t(n,e)})},m=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],a=function(e){return e.getParam("textcolor_map",i)},s=function(e){return e.getParam("textcolor_rows",5)},c=function(e){return e.getParam("textcolor_cols",8)},l=function(e){return e.getParam("color_picker_callback",null)},f=function(e){return e.getParam("forecolor_map",a(e))},d=function(e){return e.getParam("backcolor_map",a(e))},h=function(e){return e.getParam("forecolor_rows",s(e))},g=function(e){return e.getParam("backcolor_rows",s(e))},v=function(e){return e.getParam("forecolor_cols",c(e))},b=function(e){return e.getParam("backcolor_cols",c(e))},y=l,_=function(e){return"function"==typeof l(e)},w=tinymce.util.Tools.resolve("tinymce.util.I18n"),x=function(e,t,n,r){var o,i,a,s,u,c,l,f=0,d=m.DOM.uniqueId("mcearia"),h=function(e,t){var n="transparent"===e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+d+"-"+f+++'" data-mce-color="'+(e||"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+w.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"};for((o=p(n)).push({text:w.translate("No color"),color:"transparent"}),a='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',s=o.length-1,c=0;c<t;c++){for(a+="<tr>",u=0;u<e;u++)a+=s<(l=c*e+u)?"<td></td>":h((i=o[l]).color,i.text);a+="</tr>"}if(r){for(a+='<tr><td colspan="'+e+'" class="mce-custom-color-btn"><div id="'+d+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+d+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+w.translate("Custom...")+"</button></div></td></tr>",a+="<tr>",u=0;u<e;u++)a+=h("","Custom color");a+="</tr>"}return a+="</tbody></table>"},C=function setDivColor(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)},k=function(n){return function(e){var t=e.control;t._color?n.execCommand("mceApplyTextcolor",t.settings.format,t._color):n.execCommand("mceRemoveTextcolor",t.settings.format)}},S=function(r,s){return function(e){var t,i=this.parent(),n=o(r,i.settings.format),a=function(e){i.hidePanel(),i.color(e),r.execCommand("mceApplyTextcolor",i.settings.format,e)};m.DOM.getParent(e.target,".mce-custom-color-btn")&&(i.hidePanel(),y(r).call(r,function(e){var t,n,r,o=i.panel.getEl().getElementsByTagName("table")[0];for(t=u.map(o.rows[o.rows.length-1].childNodes,function(e){return e.firstChild}),r=0;r<t.length&&(n=t[r]).getAttribute("data-mce-color");r++);if(r===s)for(r=0;r<s-1;r++)C(t[r],t[r+1].getAttribute("data-mce-color"));C(n,e),a(e)},n)),(t=e.target.getAttribute("data-mce-color"))?(this.lastId&&m.DOM.get(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===t?(i.hidePanel(),i.resetColor(),r.execCommand("mceRemoveTextcolor",i.settings.format)):a(t)):null!==t&&i.hidePanel()}},E=function(o,i){return function(){var e=i?v(o):b(o),t=i?h(o):g(o),n=i?f(o):d(o),r=_(o);return x(e,t,n,r)}},T=function(e){e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:E(e,!0),onclick:S(e,v(e))},onclick:k(e)}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:E(e,!1),onclick:S(e,b(e))},onclick:k(e)})};e.add("textcolor",function(e){n(e),T(e)})}()},function(e,t,n){n(148)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")})},n=function(e){e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})};e.add("hr",function(e){t(e),n(e)})}()},function(e,t,n){n(150)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.util.Tools"),d={hasDimensions:function(e){return!1!==e.settings.image_dimensions},hasAdvTab:function(e){return!0===e.settings.image_advtab},getPrependUrl:function(e){return e.getParam("image_prepend_url","")},getClassList:function(e){return e.getParam("image_class_list")},hasDescription:function(e){return!1!==e.settings.image_description},hasImageTitle:function(e){return!0===e.settings.image_title},hasImageCaption:function(e){return!0===e.settings.image_caption},getImageList:function(e){return e.getParam("image_list",!1)},hasUploadUrl:function(e){return e.getParam("images_upload_url",!1)},hasUploadHandler:function(e){return e.getParam("images_upload_handler",!1)},getUploadUrl:function(e){return e.getParam("images_upload_url")},getUploadHandler:function(e){return e.getParam("images_upload_handler")},getUploadBasePath:function(e){return e.getParam("images_upload_base_path")},getUploadCredentials:function(e){return e.getParam("images_upload_credentials")}},o="undefined"!=typeof window?window:Function("return this;")(),r=function(e,t){for(var n=null!=t?t:o,r=0;r<e.length&&null!=n;++r)n=n[e[r]];return n},i=function(e,t){var n=e.split(".");return r(n,t)},s={getOrDie:function(e,t){var n=i(e,t);if(null==n)throw e+" not available on this browser";return n}};function FileReader(){return new(s.getOrDie("FileReader"))}var u=tinymce.util.Tools.resolve("tinymce.util.Promise"),a=tinymce.util.Tools.resolve("tinymce.util.XHR"),c=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},h={getImageSize:function(e,n){var r=document.createElement("img");function done(e,t){r.parentNode&&r.parentNode.removeChild(r),n({width:e,height:t})}r.onload=function(){done(c(r.width,r.clientWidth),c(r.height,r.clientHeight))},r.onerror=function(){done(0,0)};var t=r.style;t.visibility="hidden",t.position="fixed",t.bottom=t.left="0px",t.width=t.height="auto",document.body.appendChild(r),r.src=e},buildListItems:function(e,r,t){return function appendItems(e,n){return n=n||[],f.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=appendItems(e.menu):(t.value=e.value,r(t)),n.push(t)}),n}(e,t||[])},removePixelSuffix:function(e){return e&&(e=e.replace(/px$/,"")),e},addPixelSuffix:function(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+="px"),e},mergeMargins:function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},createImageList:function(e,t){var n=d.getImageList(e);"string"==typeof n?a.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},waitLoadImage:function(e,t,n){function selectImage(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!d.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),selectImage()},n.onerror=selectImage},blobToDataUri:function(r){return new u(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(FileReader.error.message)},n.readAsDataURL(r)})}},l={makeTab:function(t,n){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:(i=t,function(e){var t=i.dom,n=e.control.rootControl;if(d.hasAdvTab(i)){var r=n.toJSON(),o=t.parseStyle(r.style);n.find("#vspace").value(""),n.find("#hspace").value(""),((o=h.mergeMargins(o))["margin-top"]&&o["margin-bottom"]||o["margin-right"]&&o["margin-left"])&&(o["margin-top"]===o["margin-bottom"]?n.find("#vspace").value(h.removePixelSuffix(o["margin-top"])):n.find("#vspace").value(""),o["margin-right"]===o["margin-left"]?n.find("#hspace").value(h.removePixelSuffix(o["margin-right"])):n.find("#hspace").value("")),o["border-width"]&&n.find("#border").value(h.removePixelSuffix(o["border-width"])),n.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(o))))}})},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(e){n(t,e.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(e){n(t,e.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]};var i}},p=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},t=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],o=e.find("#constrain")[0];n&&r&&o&&t(n,r,o.checked())},n=function(e,t,n){var r=e.state.get("oldVal"),o=t.state.get("oldVal"),i=e.value(),a=t.value();n&&r&&o&&i&&a&&(i!==r?(a=Math.round(i/r*a),isNaN(a)||t.value(a)):(i=Math.round(a/o*i),isNaN(i)||e.value(i))),p(e,t)},m=function(e){t(e,n)},g={createUi:function(){var e=function(e){m(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},syncSize:function(e){t(e,p)},updateSize:m},v=function(e){e.meta=e.control.rootControl.toJSON()},b=function(l,e){var t=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(e){var t,n,r,o,i,a,s,u,c;n=l,a=(t=e).meta||{},s=t.control,u=s.rootControl,(c=u.find("#image-list")[0])&&c.value(n.convertURL(s.value(),"src")),f.each(a,function(e,t){u.find("#"+t).value(e)}),a.width||a.height||(r=n.convertURL(s.value(),"src"),o=d.getPrependUrl(n),i=new RegExp("^(?:[a-z]+:)?//","i"),o&&!i.test(r)&&r.substring(0,o.length)!==o&&(r=o+r),s.value(r),h.getImageSize(n.documentBaseURI.toAbsolute(s.value()),function(e){e.width&&e.height&&d.hasDimensions(n)&&(u.find("#width").value(e.width),u.find("#height").value(e.height),g.updateSize(u))}))},onbeforecall:v},e];return d.hasDescription(l)&&t.push({name:"alt",type:"textbox",label:"Image description"}),d.hasImageTitle(l)&&t.push({name:"title",type:"textbox",label:"Image Title"}),d.hasDimensions(l)&&t.push(g.createUi()),d.getClassList(l)&&t.push({name:"class",type:"listbox",label:"Class",values:h.buildListItems(d.getClassList(l),function(e){e.value&&(e.textStyle=function(){return l.formatter.getCssText({inline:"img",classes:[e.value]})})})}),d.hasImageCaption(l)&&t.push({name:"caption",type:"checkbox",label:"Caption"}),t},y={makeTab:function(e,t){return{title:"General",type:"form",items:b(e,t)}},getGeneralItems:b},_=function(){return s.getOrDie("URL")},w=function(e){return _().createObjectURL(e)},x=function(e){_().revokeObjectURL(e)},C=tinymce.util.Tools.resolve("tinymce.ui.Factory"),k=function(){},S=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t};function Uploader(a){var t=function(e,t,n,r){var o,i;(o=new function XMLHttpRequest(){return new(s.getOrDie("XMLHttpRequest"))}).open("POST",a.url),o.withCredentials=a.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e;o.status<200||300<=o.status?n("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?t(S(a.basePath,e.location)):n("Invalid JSON: "+o.responseText)},(i=new FormData).append("file",e.blob(),e.filename()),o.send(i)};return a=f.extend({credentials:!1,handler:t},a),{upload:function(e){return a.url||a.handler!==t?(n=e,r=a.handler,new u(function(e,t){try{r(n,e,t,k)}catch(e){t(e.message)}})):u.reject("Upload url missing from the settings.");var n,r}}}var E=function(u){return function(e){var t=C.get("Throbber"),n=e.control.rootControl,r=new t(n.getEl()),o=e.control.value(),i=w(o),a=Uploader({url:d.getUploadUrl(u),basePath:d.getUploadBasePath(u),credentials:d.getUploadCredentials(u),handler:d.getUploadHandler(u)}),s=function(){r.hide(),x(i)};return r.show(),h.blobToDataUri(o).then(function(e){var t=u.editorUpload.blobCache.create({blob:o,blobUri:i,name:o.name?o.name.replace(/\.[^\.]+$/,""):null,base64:e.split(",")[1]});return a.upload(t).then(function(e){var t=n.find("#src");return t.value(e),n.find("tabpanel")[0].activateTab(0),t.fire("change"),s(),e})}).catch(function(e){u.windowManager.alert(e),s()})}},T=".jpg,.jpeg,.png,.gif",A={makeTab:function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:T,onchange:E(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:T,height:100,onchange:E(e)}]}}};function Dialog(u){var c=function(e,t){if(d.hasAdvTab(e)){var n=e.dom,r=t.toJSON(),o=n.parseStyle(r.style);o=h.mergeMargins(o),r.vspace&&(o["margin-top"]=o["margin-bottom"]=h.addPixelSuffix(r.vspace)),r.hspace&&(o["margin-left"]=o["margin-right"]=h.addPixelSuffix(r.hspace)),r.border&&(o["border-width"]=h.addPixelSuffix(r.border)),r.borderStyle&&(o["border-style"]=r.borderStyle),t.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(o))))}};function showDialog(e){var o,i,t,n,a={},s=u.dom;function onSubmitForm(){var n,r;g.updateSize(o),c(u,o),(a=f.extend(a,o.toJSON())).alt||(a.alt=""),a.title||(a.title=""),""===a.width&&(a.width=null),""===a.height&&(a.height=null),a.style||(a.style=null),a={src:a.src,alt:a.alt,title:a.title,width:a.width,height:a.height,style:a.style,caption:a.caption,class:a.class},u.undoManager.transact(function(){if(a.src){if(""===a.title&&(a.title=null),i?s.setAttribs(i,a):(a.id="__mcenew",u.focus(),u.selection.setContent(s.createHTML("img",a)),i=s.get("__mcenew"),s.setAttrib(i,"id",null)),u.editorUpload.uploadImagesAuto(),!1===a.caption&&s.is(i.parentNode,"figure.image")&&(n=i.parentNode,s.insertAfter(i,n),s.remove(n)),!0!==a.caption)h.waitLoadImage(u,a,i);else if(!s.is(i.parentNode,"figure.image")){i=(r=i).cloneNode(!0),(n=s.create("figure",{class:"image"})).appendChild(i),n.appendChild(s.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable=!1;var e=s.getParent(r,function(e){return u.schema.getTextBlockElements()[e.nodeName]});e?s.split(e,r,n):s.replace(n,r),u.selection.select(n)}}else if(i){var t=s.is(i.parentNode,"figure.image")?i.parentNode:i;s.remove(t),u.focus(),u.nodeChanged(),s.isEmpty(u.getBody())&&(u.setContent(""),u.selection.setCursorLocation())}})}if(i=u.selection.getNode(),(t=s.getParent(i,"figure.image"))&&(i=s.select("img",t)[0]),i&&("IMG"!==i.nodeName||i.getAttribute("data-mce-object")||i.getAttribute("data-mce-placeholder"))&&(i=null),i&&(a={src:s.getAttrib(i,"src"),alt:s.getAttrib(i,"alt"),title:s.getAttrib(i,"title"),class:s.getAttrib(i,"class"),width:s.getAttrib(i,"width"),height:s.getAttrib(i,"height"),caption:!!t}),e&&(n={type:"listbox",label:"Image list",name:"image-list",values:h.buildListItems(e,function(e){e.value=u.convertURL(e.value||e.url,"src")},[{text:"None",value:""}]),value:a.src&&u.convertURL(a.src,"src"),onselect:function(e){var t=o.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),o.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){n=this}}),d.hasAdvTab(u)||d.hasUploadUrl(u)||d.hasUploadHandler(u)){var r=[y.makeTab(u,n)];d.hasAdvTab(u)&&(i&&(i.style.marginLeft&&i.style.marginRight&&i.style.marginLeft===i.style.marginRight&&(a.hspace=h.removePixelSuffix(i.style.marginLeft)),i.style.marginTop&&i.style.marginBottom&&i.style.marginTop===i.style.marginBottom&&(a.vspace=h.removePixelSuffix(i.style.marginTop)),i.style.borderWidth&&(a.border=h.removePixelSuffix(i.style.borderWidth)),a.borderStyle=i.style.borderStyle,a.style=u.dom.serializeStyle(u.dom.parseStyle(u.dom.getAttrib(i,"style")))),r.push(l.makeTab(u,c))),(d.hasUploadUrl(u)||d.hasUploadHandler(u))&&r.push(A.makeTab(u)),o=u.windowManager.open({title:"Insert/edit image",data:a,bodyType:"tabpanel",body:r,onSubmit:onSubmitForm})}else o=u.windowManager.open({title:"Insert/edit image",data:a,body:y.getGeneralItems(u,n),onSubmit:onSubmitForm});g.syncSize(o)}return{open:function open(){h.createImageList(u,showDialog)}}}var R=function(e){e.addCommand("mceImage",Dialog(e).open)},N=function(i){return function(e){for(var t,n,r=e.length,o=function(e){e.attr("contenteditable",i?"true":null)};r--;)t=e[r],(n=t.attr("class"))&&/\bimage\b/.test(n)&&(t.attr("contenteditable",i?"false":null),f.each(t.getAll("figcaption"),o))}},D=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",N(!0)),e.serializer.addNodeFilter("figure",N(!1))})},O=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:Dialog(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:Dialog(e).open,context:"insert",prependToContext:!0})};e.add("image",function(e){D(e),O(e),R(e)})}()},function(e,t){tinymce.addI18n("ru",{Redo:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",Undo:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c",Cut:"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",Copy:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",Paste:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c","Select all":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435","New document":"\u041d\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442",Ok:"\u041e\u043a",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","Visual aids":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0443\u0440\u044b",Bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",Italic:"\u041a\u0443\u0440\u0441\u0438\u0432",Underline:"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",Strikethrough:"\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439",Superscript:"\u0412\u0435\u0440\u0445\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441",Subscript:"\u041d\u0438\u0436\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","Clear formatting":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442","Align left":"\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Align center":"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","Align right":"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",Justify:"\u041f\u043e \u0448\u0438\u0440\u0438\u043d\u0435","Bullet list":"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Numbered list":"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","Decrease indent":"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f","Increase indent":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",Close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",Formats:"\u0424\u043e\u0440\u043c\u0430\u0442","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043f\u0440\u044f\u043c\u043e\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0431\u0443\u0444\u0435\u0440\u0443 \u043e\u0431\u043c\u0435\u043d\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u044f \u043a\u043b\u0430\u0432\u0438\u0448: Ctrl+X/C/V.",Headers:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438","Header 1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","Header 2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","Header 3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","Header 4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","Header 5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","Header 6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6",Headings:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438","Heading 1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","Heading 2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","Heading 3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","Heading 4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","Heading 5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","Heading 6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6",Div:"\u0411\u043b\u043e\u043a",Pre:"\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",Code:"\u041a\u043e\u0434",Paragraph:"\u041f\u0430\u0440\u0430\u0433\u0440\u0430\u0444",Blockquote:"\u0426\u0438\u0442\u0430\u0442\u0430",Inline:"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435",Blocks:"\u0411\u043b\u043e\u043a\u0438","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0432\u0438\u0434\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430, \u043f\u043e\u043a\u0430 \u043d\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u0443\u044e \u043e\u043f\u0446\u0438\u044e.","Font Family":"\u0428\u0440\u0438\u0444\u0442","Font Sizes":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",Class:"\u041a\u043b\u0430\u0441\u0441","Browse for an image":"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",OR:"\u0418\u041b\u0418","Drop an image here":"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u044e\u0434\u0430",Upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",Block:"\u0411\u043b\u043e\u043a",Align:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",Default:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439",Circle:"\u041e\u043a\u0440\u0443\u0436\u043d\u043e\u0441\u0442\u0438",Disc:"\u041a\u0440\u0443\u0433\u0438",Square:"\u041a\u0432\u0430\u0434\u0440\u0430\u0442\u044b","Lower Alpha":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Lower Greek":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0433\u0440\u0435\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Lower Roman":"\u0421\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435 \u0446\u0438\u0444\u0440\u044b","Upper Alpha":"\u0417\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b","Upper Roman":"\u0417\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0435 \u0440\u0438\u043c\u0441\u043a\u0438\u0435 \u0446\u0438\u0444\u0440\u044b",Anchor:"\u042f\u043a\u043e\u0440\u044c",Name:"\u0418\u043c\u044f",Id:"Id","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"Id \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 \u0431\u0443\u043a\u0432\u044b, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0442\u0438\u0440\u0435, \u0442\u043e\u0447\u043a\u0438, \u0434\u0432\u043e\u0435\u0442\u043e\u0447\u0438\u044f \u0438\u043b\u0438 \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u044f.","You have unsaved changes are you sure you want to navigate away?":"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0439\u0442\u0438?","Restore last draft":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","Special character":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","Source code":"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434","Insert/Edit code sample":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c/\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430",Language:"\u042f\u0437\u044b\u043a","Code sample":"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434",Color:"\u0426\u0432\u0435\u0442",R:"R",G:"G",B:"B","Left to right":"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043b\u0435\u0432\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043e","Right to left":"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u0430 \u043d\u0430\u043b\u0435\u0432\u043e",Emoticons:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043c\u0430\u0439\u043b","Document properties":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",Title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Keywords:"\u041a\u043b\u044e\u0447\u0438\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430",Description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Robots:"\u0420\u043e\u0431\u043e\u0442\u044b",Author:"\u0410\u0432\u0442\u043e\u0440",Encoding:"\u041a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0430",Fullscreen:"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",Action:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435",Shortcut:"\u042f\u0440\u043b\u044b\u043a",Help:"\u041f\u043e\u043c\u043e\u0449\u044c",Address:"\u0410\u0434\u0440\u0435\u0441","Focus to menubar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u0438 \u043c\u0435\u043d\u044e","Focus to toolbar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","Focus to element path":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435 \u043f\u0443\u0442\u0438","Focus to contextual toolbar":"\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","Insert link (if link plugin activated)":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d link \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Save (if save plugin activated)":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d save \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Find (if searchreplace plugin activated)":"\u041d\u0430\u0439\u0442\u0438 (\u0435\u0441\u043b\u0438 \u043f\u043b\u0430\u0433\u0438\u043d searchreplace \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d)","Plugins installed ({0}):":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0433\u0438\u043d\u044b ({0}):","Premium plugins:":"\u041f\u0440\u0435\u043c\u0438\u0443\u043c \u043f\u043b\u0430\u0433\u0438\u043d\u044b:","Learn more...":"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435...","You are using {0}":"\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 {0}",Plugins:"\u041f\u043b\u0430\u0433\u0438\u043d\u044b","Handy Shortcuts":"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u043a\u043b\u0430\u0432\u0438\u0448\u0438","Horizontal line":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u0438\u043d\u0438\u044f","Insert/edit image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Image description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",Source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a",Dimensions:"\u0420\u0430\u0437\u043c\u0435\u0440","Constrain proportions":"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0438",General:"\u041e\u0431\u0449\u0435\u0435",Advanced:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435",Style:"\u0421\u0442\u0438\u043b\u044c","Vertical space":"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b","Horizontal space":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b",Border:"\u0420\u0430\u043c\u043a\u0430","Insert image":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Image:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Image list":"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439","Rotate counterclockwise":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432 \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0438","Rotate clockwise":"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e \u0447\u0430\u0441\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u0435","Flip vertically":"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u0438","Flip horizontally":"\u041e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043f\u043e \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u0438","Edit image":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Image options":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","Zoom in":"\u041f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u044c","Zoom out":"\u041e\u0442\u0434\u0430\u043b\u0438\u0442\u044c",Crop:"\u041e\u0431\u0440\u0435\u0437\u0430\u0442\u044c",Resize:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440",Orientation:"\u041e\u0440\u0438\u0435\u043d\u0442\u0430\u0446\u0438\u044f",Brightness:"\u042f\u0440\u043a\u043e\u0441\u0442\u044c",Sharpen:"\u0427\u0435\u0442\u043a\u043e\u0441\u0442\u044c",Contrast:"\u041a\u043e\u043d\u0442\u0440\u0430\u0441\u0442","Color levels":"\u0426\u0432\u0435\u0442\u043e\u0432\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438",Gamma:"\u0413\u0430\u043c\u043c\u0430",Invert:"\u0418\u043d\u0432\u0435\u0440\u0441\u0438\u044f",Apply:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",Back:"\u041d\u0430\u0437\u0430\u0434","Insert date/time":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u0442\u0443/\u0432\u0440\u0435\u043c\u044f","Date/time":"\u0414\u0430\u0442\u0430/\u0432\u0440\u0435\u043c\u044f","Insert link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Insert/edit link":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","Text to display":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",Url:"\u0410\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438",Target:"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",None:"\u041d\u0435\u0442","New window":"\u0412 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435","Remove link":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",Anchors:"\u042f\u043a\u043e\u0440\u044f",Link:"\u0421\u0441\u044b\u043b\u043a\u0430","Paste or type a link":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0432\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 URL \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u043c \u0430\u0434\u0440\u0435\u0441\u043e\u043c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. \u0412\u044b \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \xabmailto:\xbb?","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"\u0412\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0439 URL \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439. \u0412\u044b \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \xabhttp://\xbb?","Link list":"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0441\u044b\u043b\u043e\u043a","Insert video":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Insert/edit video":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Insert/edit media":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c/\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e","Alternative source":"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",Poster:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","Paste your embed code below:":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u0448 \u043a\u043e\u0434 \u043d\u0438\u0436\u0435:",Embed:"\u041a\u043e\u0434 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438",Media:"\u0412\u0438\u0434\u0435\u043e","Nonbreaking space":"\u041d\u0435\u0440\u0430\u0437\u0440\u044b\u0432\u043d\u044b\u0439 \u043f\u0440\u043e\u0431\u0435\u043b","Page break":"\u0420\u0430\u0437\u0440\u044b\u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","Paste as text":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u0442\u0435\u043a\u0441\u0442",Preview:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440",Print:"\u041f\u0435\u0447\u0430\u0442\u044c",Save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",Find:"\u041d\u0430\u0439\u0442\u0438","Replace with":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430",Replace:"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c","Replace all":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u0435",Prev:"\u0412\u0432\u0435\u0440\u0445",Next:"\u0412\u043d\u0438\u0437","Find and replace":"\u041f\u043e\u0438\u0441\u043a \u0438 \u0437\u0430\u043c\u0435\u043d\u0430","Could not find the specified string.":"\u0417\u0430\u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430","Match case":"\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0440\u0435\u0433\u0438\u0441\u0442\u0440","Whole words":"\u0421\u043b\u043e\u0432\u043e \u0446\u0435\u043b\u0438\u043a\u043e\u043c",Spellcheck:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Ignore:"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c","Ignore all":"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0435",Finish:"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c","Add to Dictionary":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c","Insert table":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443","Table properties":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b","Delete table":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443",Cell:"\u042f\u0447\u0435\u0439\u043a\u0430",Row:"\u0421\u0442\u0440\u043e\u043a\u0430",Column:"\u0421\u0442\u043e\u043b\u0431\u0435\u0446","Cell properties":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u044f\u0447\u0435\u0439\u043a\u0438","Merge cells":"\u041e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0438","Split cell":"\u0420\u0430\u0437\u0431\u0438\u0442\u044c \u044f\u0447\u0435\u0439\u043a\u0443","Insert row before":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","Insert row after":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","Delete row":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Row properties":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u0442\u0440\u043e\u043a\u0438","Cut row":"\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Copy row":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443","Paste row before":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u0432\u0435\u0440\u0445\u0443","Paste row after":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441\u043d\u0438\u0437\u0443","Insert column before":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043b\u0435\u0432\u0430","Insert column after":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441\u043f\u0440\u0430\u0432\u0430","Delete column":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446",Cols:"\u0421\u0442\u043e\u043b\u0431\u0446\u044b",Rows:"\u0421\u0442\u0440\u043e\u043a\u0438",Width:"\u0428\u0438\u0440\u0438\u043d\u0430",Height:"\u0412\u044b\u0441\u043e\u0442\u0430","Cell spacing":"\u0412\u043d\u0435\u0448\u043d\u0438\u0439 \u043e\u0442\u0441\u0442\u0443\u043f","Cell padding":"\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043e\u0442\u0441\u0442\u0443\u043f",Caption:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",Left:"\u041f\u043e \u043b\u0435\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e",Center:"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443",Right:"\u041f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e","Cell type":"\u0422\u0438\u043f \u044f\u0447\u0435\u0439\u043a\u0438",Scope:"Scope",Alignment:"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435","H Align":"\u0413\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435","V Align":"\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435",Top:"\u041f\u043e \u0432\u0435\u0440\u0445\u0443",Middle:"\u041f\u043e \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435",Bottom:"\u041f\u043e \u043d\u0438\u0437\u0443","Header cell":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","Row group":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0441\u0442\u0440\u043e\u043a","Column group":"\u0413\u0440\u0443\u043f\u043f\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a","Row type":"\u0422\u0438\u043f \u0441\u0442\u0440\u043e\u043a\u0438",Header:"\u0428\u0430\u043f\u043a\u0430",Body:"\u0422\u0435\u043b\u043e",Footer:"\u041d\u0438\u0437","Border color":"\u0426\u0432\u0435\u0442 \u0440\u0430\u043c\u043a\u0438","Insert template":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d",Templates:"\u0428\u0430\u0431\u043b\u043e\u043d\u044b",Template:"\u0428\u0430\u0431\u043b\u043e\u043d","Text color":"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430","Background color":"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430","Custom...":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c\u2026","Custom color":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0446\u0432\u0435\u0442","No color":"\u0411\u0435\u0437 \u0446\u0432\u0435\u0442\u0430","Table of Contents":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435","Show blocks":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0431\u043b\u043e\u043a\u0438","Show invisible characters":"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b","Words: {0}":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u043e\u0432: {0}","{0} words":"\u0441\u043b\u043e\u0432: {0}",File:"\u0424\u0430\u0439\u043b",Edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",Insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",View:"\u0412\u0438\u0434",Format:"\u0424\u043e\u0440\u043c\u0430\u0442",Table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",Tools:"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b","Powered by {0}":"\u041f\u0440\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 {0}","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 ALT-F9 \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u043d\u044e, ALT-F10 \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, ALT-0 \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u043f\u043e\u043c\u043e\u0449\u0438."})},function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t,n){var o=n(7),i=/\s+/g,r=n(55),a=n(154);function DomHandler(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=s),this._callback=e,this._options=t||s,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var s={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};DomHandler.prototype.onparserinit=function(e){this._parser=e},DomHandler.prototype.onreset=function(){DomHandler.call(this,this._callback,this._options,this._elementCB)},DomHandler.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},DomHandler.prototype._handleCallback=DomHandler.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},DomHandler.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},DomHandler.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(a):Object.create(r),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},DomHandler.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r).next=e:e.prev=null,n.push(e),e.parent=t||null},DomHandler.prototype.onopentag=function(e,t){var n={type:"script"===e?o.Script:"style"===e?o.Style:o.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},DomHandler.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===o.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===o.Text)n?t.data=(t.data+e).replace(i," "):t.data+=e;else{n&&(e=e.replace(i," "));var r=this._createDomElement({data:e,type:o.Text});this._addDomElement(r)}},DomHandler.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===o.Comment)t.data+=e;else{var n={data:e,type:o.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)}},DomHandler.prototype.oncdatastart=function(){var e={children:[{data:"",type:o.Text}],type:o.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},DomHandler.prototype.oncommentend=DomHandler.prototype.oncdataend=function(){this._tagStack.pop()},DomHandler.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:o.Directive});this._addDomElement(n)},e.exports=DomHandler},function(e,t,n){var r=n(55),o=e.exports=Object.create(r),i={tagName:"name"};Object.keys(i).forEach(function(e){var t=i[e];Object.defineProperty(o,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},function(e,t,n){var r=n(6),o=r.DomHandler,i=r.DomUtils;function FeedHandler(e,t){this.init(e,t)}function getElements(e,t){return i.getElementsByTagName(e,t,!0)}function getOneElement(e,t){return i.getElementsByTagName(e,t,!0,1)[0]}function fetch(e,t,n){return i.getText(i.getElementsByTagName(e,t,n,1)).trim()}function addConditionally(e,t,n,r,o){var i=fetch(n,r,o);i&&(e[t]=i)}n(2)(FeedHandler,o),FeedHandler.prototype.init=o;var a=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};FeedHandler.prototype.onend=function(){var e,t,n={},r=getOneElement(a,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",addConditionally(n,"id","id",t),addConditionally(n,"title","title",t),(e=getOneElement("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),addConditionally(n,"description","subtitle",t),(e=fetch("updated",t))&&(n.updated=new Date(e)),addConditionally(n,"author","email",t,!0),n.items=getElements("entry",t).map(function(e){var t,n={};return addConditionally(n,"id","id",e=e.children),addConditionally(n,"title","title",e),(t=getOneElement("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=fetch("summary",e)||fetch("content",e))&&(n.description=t),(t=fetch("updated",e))&&(n.pubDate=new Date(t)),n})):(t=getOneElement("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",addConditionally(n,"title","title",t),addConditionally(n,"link","link",t),addConditionally(n,"description","description",t),(e=fetch("lastBuildDate",t))&&(n.updated=new Date(e)),addConditionally(n,"author","managingEditor",t,!0),n.items=getElements("item",r.children).map(function(e){var t,n={};return addConditionally(n,"id","guid",e=e.children),addConditionally(n,"title","title",e),addConditionally(n,"link","link",e),addConditionally(n,"description","description",e),(t=fetch("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,o.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=FeedHandler},function(e,t,n){e.exports=Stream;var r=n(56);function Stream(e){r.call(this,new Cbs(this),e)}function Cbs(e){this.scope=e}n(2)(Stream,r),Stream.prototype.readable=!0;var o=n(6).EVENTS;Object.keys(o).forEach(function(n){if(0===o[n])Cbs.prototype["on"+n]=function(){this.scope.emit(n)};else if(1===o[n])Cbs.prototype["on"+n]=function(e){this.scope.emit(n,e)};else{if(2!==o[n])throw Error("wrong number of arguments!");Cbs.prototype["on"+n]=function(e,t){this.scope.emit(n,e,t)}}})},function(e,t,n){e.exports=Stream;var o=n(12).EventEmitter;function Stream(){o.call(this)}n(2)(Stream,o),Stream.Readable=n(25),Stream.Writable=n(165),Stream.Duplex=n(166),Stream.Transform=n(167),Stream.PassThrough=n(168),(Stream.Stream=Stream).prototype.pipe=function(t,e){var n=this;function ondata(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function ondrain(){n.readable&&n.resume&&n.resume()}n.on("data",ondata),t.on("drain",ondrain),t._isStdio||e&&!1===e.end||(n.on("end",onend),n.on("close",onclose));var r=!1;function onend(){r||(r=!0,t.end())}function onclose(){r||(r=!0,"function"==typeof t.destroy&&t.destroy())}function onerror(e){if(cleanup(),0===o.listenerCount(this,"error"))throw e}function cleanup(){n.removeListener("data",ondata),t.removeListener("drain",ondrain),n.removeListener("end",onend),n.removeListener("close",onclose),n.removeListener("error",onerror),t.removeListener("error",onerror),n.removeListener("end",cleanup),n.removeListener("close",cleanup),t.removeListener("close",cleanup)}return n.on("error",onerror),t.on("error",onerror),n.on("end",cleanup),n.on("close",cleanup),t.on("close",cleanup),t.emit("pipe",n),t}},function(e,t,n){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function toByteArray(e){for(var t,n=getLens(e),r=n[0],o=n[1],i=new l(function _byteLength(e,t,n){return 3*(t+n)/4-n}(0,r,o)),a=0,s=0<o?r-4:r,u=0;u<s;u+=4)t=c[e.charCodeAt(u)]<<18|c[e.charCodeAt(u+1)]<<12|c[e.charCodeAt(u+2)]<<6|c[e.charCodeAt(u+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=255&t;2===o&&(t=c[e.charCodeAt(u)]<<2|c[e.charCodeAt(u+1)]>>4,i[a++]=255&t);1===o&&(t=c[e.charCodeAt(u)]<<10|c[e.charCodeAt(u+1)]<<4|c[e.charCodeAt(u+2)]>>2,i[a++]=t>>8&255,i[a++]=255&t);return i},t.fromByteArray=function fromByteArray(e){for(var t,n=e.length,r=n%3,o=[],i=0,a=n-r;i<a;i+=16383)o.push(encodeChunk(e,i,a<i+16383?a:i+16383));1===r?(t=e[n-1],o.push(s[t>>2]+s[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return o.join("")};for(var s=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)s[o]=r[o],c[r.charCodeAt(o)]=o;function getLens(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function encodeChunk(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(s[(o=r)>>18&63]+s[o>>12&63]+s[o>>6&63]+s[63&o]);return i.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?o-1:0,d=n?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-l)-1,h>>=-l,l+=s;0<l;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=c}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(t+=1<=a+f?d/u:d*Math.pow(2,1-f))*u&&(a++,u/=2),l<=a+f?(s=0,a=l):1<=a+f?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},function(e,t){},function(e,t,n){"use strict";var s=n(14).Buffer,r=n(162);e.exports=function(){function BufferList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function unshift(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},BufferList.prototype.concat=function concat(e){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,n=o,r=a,t.copy(n,r),a+=i.data.length,i=i.next;return o},BufferList}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(n){function config(e){try{if(!n.localStorage)return!1}catch(e){return!1}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function deprecate(e,t){if(config("noDeprecation"))return e;var n=!1;return function deprecated(){if(!n){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,n(1))},function(e,t,n){"use strict";e.exports=PassThrough;var r=n(61),o=n(9);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);r.call(this,e)}o.inherits=n(2),o.inherits(PassThrough,r),PassThrough.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(26)},function(e,t,n){e.exports=n(4)},function(e,t,n){e.exports=n(25).Transform},function(e,t,n){e.exports=n(25).PassThrough},function(e,t){},function(e,t,n){function ProxyHandler(e){this._cbs=e||{}}e.exports=ProxyHandler;var r=n(6).EVENTS;Object.keys(r).forEach(function(n){if(0===r[n])ProxyHandler.prototype[n="on"+n]=function(){this._cbs[n]&&this._cbs[n]()};else if(1===r[n])ProxyHandler.prototype[n="on"+n]=function(e){this._cbs[n]&&this._cbs[n](e)};else{if(2!==r[n])throw Error("wrong number of arguments");ProxyHandler.prototype[n="on"+n]=function(e,t){this._cbs[n]&&this._cbs[n](e,t)}}})},function(e,t,n){var r=e.exports;[n(172),n(178),n(179),n(180),n(181),n(182)].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},function(e,t,n){var r=n(7),o=n(173),i=r.isTag;e.exports={getInnerHTML:function getInnerHTML(e,t){return e.children?e.children.map(function(e){return o(e,t)}).join(""):""},getOuterHTML:o,getText:function getText(e){if(Array.isArray(e))return e.map(getText).join("");if(i(e))return"br"===e.name?"\n":getText(e.children);if(e.type===r.CDATA)return getText(e.children);if(e.type===r.Text)return e.data;return""}}},function(e,t,n){var i=n(174),a=n(175),s={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},r={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",r=0;r<e.length;r++){var o=e[r];"root"===o.type?n+=u(o.children,t):i.isTag(o)?n+=renderTag(o,t):o.type===i.Directive?n+="<"+o.data+">":o.type===i.Comment?n+="\x3c!--"+o.data+"--\x3e":o.type===i.CDATA?n+="<![CDATA["+o.children[0].data+"]]>":n+=renderText(o,t)}return n};function renderTag(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function formatAttrs(e,t){if(e){var n,r="";for(var o in e)r&&(r+=" "),!(n=e[o])&&s[o]?r+=o:r+=o+'="'+(t.decodeEntities?a.encodeXML(n):n)+'"';return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=u(e.children,t)),o[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function renderText(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in r||(n=a.encodeXML(n)),n}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(176),o=n(177);t.decode=function(e,t){return(!t||t<=0?o.XML:o.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?o.XML:o.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=o.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=o.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=o.HTMLStrict,t.escape=r.escape},function(e,t,n){var r=getInverseObj(n(24)),o=getInverseReplacer(r);t.XML=getInverse(r,o);var i=getInverseObj(n(11)),a=getInverseReplacer(i);function getInverseObj(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function getInverseReplacer(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=getInverse(i,a);var s=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function singleCharReplacer(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function getInverse(t,n){function func(e){return t[e]}return function(e){return e.replace(n,func).replace(u,astralReplacer).replace(s,singleCharReplacer)}}var c=getInverseReplacer(r);t.escape=function escapeXML(e){return e.replace(c,singleCharReplacer).replace(u,astralReplacer).replace(s,singleCharReplacer)}},function(e,t,n){var a=n(11),s=n(54),r=n(24),o=n(53),i=getStrictDecoder(r),u=getStrictDecoder(a);function getStrictDecoder(e){var t=Object.keys(e).join("|"),n=getReplacer(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var c=function(){for(var e=Object.keys(s).sort(sorter),t=Object.keys(a).sort(sorter),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var o=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=getReplacer(a);function replacer(e){return";"!==e.substr(-1)&&(e+=";"),i(e)}return function(e){return String(e).replace(o,replacer)}}();function sorter(e,t){return e<t?1:-1}function getReplacer(t){return function replace(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?o(parseInt(e.substr(3),16)):o(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}e.exports={XML:i,HTML:c,HTMLStrict:u}},function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(1!==(t.parent=e).children.push(t)){var n=e.children[e.children.length-2];(n.next=t).prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,((t.prev=e).next=t).parent=n,r){if(r.prev=t,n){var o=n.children;o.splice(o.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,(t.next=e).prev=t}},function(e,t,n){var i=n(7).isTag;function find(e,t,n,r){for(var o,i=[],a=0,s=t.length;a<s&&!(e(t[a])&&(i.push(t[a]),--r<=0))&&(o=t[a].children,!(n&&o&&0<o.length&&(o=find(e,o,n,r),i=i.concat(o),(r-=o.length)<=0)));a++);return i}e.exports={filter:function filter(e,t,n,r){Array.isArray(t)||(t=[t]);"number"==typeof r&&isFinite(r)||(r=1/0);return find(e,t,!1!==n,r)},find:find,findOneChild:function findOneChild(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function findOne(e,t){var n=null;for(var r=0,o=t.length;r<o&&!n;r++)i(t[r])&&(e(t[r])?n=t[r]:0<t[r].children.length&&(n=findOne(e,t[r].children)));return n},existsOne:function existsOne(e,t){for(var n=0,r=t.length;n<r;n++)if(i(t[n])&&(e(t[n])||0<t[n].children.length&&existsOne(e,t[n].children)))return!0;return!1},findAll:function findAll(e,t){var n=[],r=t.slice();for(;r.length;){var o=r.shift();i(o)&&(o.children&&0<o.children.length&&r.unshift.apply(r,o.children),e(o)&&n.push(o))}return n}}},function(e,t,n){var r=n(7),o=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!o(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(o(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var i={tag_name:function(t){return"function"==typeof t?function(e){return o(e)&&t(e.name)}:"*"===t?o:function(e){return o(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!o(e)&&t(e.data)}:function(e){return!o(e)&&e.data===t}}};function getAttribCheck(t,n){return"function"==typeof n?function(e){return e.attribs&&n(e.attribs[t])}:function(e){return e.attribs&&e.attribs[t]===n}}function combineFuncs(t,n){return function(e){return t(e)||n(e)}}t.getElements=function(n,e,t,r){var o=Object.keys(n).map(function(e){var t=n[e];return e in i?i[e](t):getAttribCheck(e,t)});return 0===o.length?[]:this.filter(o.reduce(combineFuncs),e,t,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(getAttribCheck("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(i.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(i.tag_type(e),t,n,r)}},function(e,t){t.removeSubsets=function(e){for(var t,n,r,o=e.length;-1<--o;){for(t=n=e[o],e[o]=null,r=!0;n;){if(-1<e.indexOf(n)){r=!1,e.splice(o,1);break}n=n.parent}r&&(e[o]=t)}return e};var l=1,f=2,d=4,h=8,p=16,o=t.compareDocumentPosition=function(e,t){var n,r,o,i,a,s,u=[],c=[];if(e===t)return 0;for(n=e;n;)u.unshift(n),n=n.parent;for(n=t;n;)c.unshift(n),n=n.parent;for(s=0;u[s]===c[s];)s++;return 0===s?l:(o=(r=u[s-1]).children,i=u[s],a=c[s],o.indexOf(i)>o.indexOf(a)?r===t?d|p:d:r===e?f|h:f)};t.uniqueSort=function(e){var t,n,r=e.length;for(e=e.slice();-1<--r;)t=e[r],-1<(n=e.indexOf(t))&&n<r&&e.splice(r,1);return e.sort(function(e,t){var n=o(e,t);return n&f?-1:n&d?1:0}),e}},function(e,t,n){function CollectingHandler(e){this._cbs=e||{},this.events=[]}e.exports=CollectingHandler;var r=n(6).EVENTS;Object.keys(r).forEach(function(n){if(0===r[n])CollectingHandler.prototype[n="on"+n]=function(){this.events.push([n]),this._cbs[n]&&this._cbs[n]()};else if(1===r[n])CollectingHandler.prototype[n="on"+n]=function(e){this.events.push([n,e]),this._cbs[n]&&this._cbs[n](e)};else{if(2!==r[n])throw Error("wrong number of arguments");CollectingHandler.prototype[n="on"+n]=function(e,t){this.events.push([n,e,t]),this._cbs[n]&&this._cbs[n](e,t)}}}),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t){e.exports=function extend(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e};var o=Object.prototype.hasOwnProperty},function(d,e,t){(function(e){var n=1/0,r="[object Symbol]",t=/[\\^$.*+?()[\]{}|]/g,o=RegExp(t.source),i="object"==typeof e&&e&&e.Object===Object&&e,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),u=Object.prototype.toString,c=s.Symbol,l=c?c.prototype:void 0,f=l?l.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(function isSymbol(e){return"symbol"==typeof e||function isObjectLike(e){return!!e&&"object"==typeof e}(e)&&u.call(e)==r}(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}d.exports=function escapeRegExp(e){return(e=function toString(e){return null==e?"":baseToString(e)}(e))&&o.test(e)?e.replace(t,"\\$&"):e}}).call(this,t(1))},function(e,Ce,t){(function(e,t){var o=200,r="__lodash_hash_undefined__",n=9007199254740991,h="[object Arguments]",p="[object Boolean]",m="[object Date]",g="[object Function]",v="[object GeneratorFunction]",b="[object Map]",y="[object Number]",_="[object Object]",i="[object Promise]",w="[object RegExp]",x="[object Set]",C="[object String]",k="[object Symbol]",a="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",A="[object Float64Array]",R="[object Int8Array]",N="[object Int16Array]",D="[object Int32Array]",O="[object Uint8Array]",B="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",L=/\w*$/,s=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,I={};I[h]=I["[object Array]"]=I[S]=I[E]=I[p]=I[m]=I[T]=I[A]=I[R]=I[N]=I[D]=I[b]=I[y]=I[_]=I[w]=I[x]=I[C]=I[k]=I[O]=I[B]=I[P]=I[M]=!0,I["[object Error]"]=I[g]=I[a]=!1;var c="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),d="object"==typeof Ce&&Ce&&!Ce.nodeType&&Ce,F=d&&"object"==typeof t&&t&&!t.nodeType&&t,j=F&&F.exports===d;function addMapEntry(e,t){return e.set(t[0],t[1]),e}function addSetEntry(e,t){return e.add(t),e}function arrayReduce(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function mapToArray(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function overArg(t,n){return function(e){return t(n(e))}}function setToArray(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var z,q=Array.prototype,H=Function.prototype,U=Object.prototype,W=f["__core-js_shared__"],V=(z=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",K=H.toString,$=U.hasOwnProperty,G=U.toString,Y=RegExp("^"+K.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=j?f.Buffer:void 0,J=f.Symbol,Z=f.Uint8Array,Q=overArg(Object.getPrototypeOf,Object),ee=Object.create,te=U.propertyIsEnumerable,ne=q.splice,re=Object.getOwnPropertySymbols,oe=X?X.isBuffer:void 0,ie=overArg(Object.keys,Object),ae=getNative(f,"DataView"),se=getNative(f,"Map"),ue=getNative(f,"Promise"),ce=getNative(f,"Set"),le=getNative(f,"WeakMap"),fe=getNative(Object,"create"),de=toSource(ae),he=toSource(se),pe=toSource(ue),me=toSource(ce),ge=toSource(le),ve=J?J.prototype:void 0,be=ve?ve.valueOf:void 0;function Hash(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ListCache(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function MapCache(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Stack(e){this.__data__=new ListCache(e)}function arrayLikeKeys(e,t){var n=we(e)||function isArguments(e){return function isArrayLikeObject(e){return function isObjectLike(e){return!!e&&"object"==typeof e}(e)&&isArrayLike(e)}(e)&&$.call(e,"callee")&&(!te.call(e,"callee")||G.call(e)==h)}(e)?function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!$.call(e,i)||o&&("length"==i||isIndex(i,r))||n.push(i);return n}function assignValue(e,t,n){var r=e[t];$.call(e,t)&&eq(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseClone(n,r,o,i,e,t,a){var s;if(i&&(s=t?i(n,e,t,a):i(n)),void 0!==s)return s;if(!isObject(n))return n;var u=we(n);if(u){if(s=function initCloneArray(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&$.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!r)return function copyArray(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(n,s)}else{var c=_e(n),l=c==g||c==v;if(xe(n))return function cloneBuffer(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(n,r);if(c==_||c==h||l&&!t){if(isHostObject(n))return t?n:{};if(s=function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:function baseCreate(e){return isObject(e)?ee(e):{}}(Q(e))}(l?{}:n),!r)return function copySymbols(e,t){return copyObject(e,ye(e),t)}(n,function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}(s,n))}else{if(!I[c])return t?n:{};s=function initCloneByTag(e,t,n,r){var o=e.constructor;switch(t){case S:return cloneArrayBuffer(e);case p:case m:return new o(+e);case E:return function cloneDataView(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case T:case A:case R:case N:case D:case O:case B:case P:case M:return function cloneTypedArray(e,t){var n=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case b:return function cloneMap(e,t,n){return arrayReduce(t?n(mapToArray(e),!0):mapToArray(e),addMapEntry,new e.constructor)}(e,r,n);case y:case C:return new o(e);case w:return function cloneRegExp(e){var t=new e.constructor(e.source,L.exec(e));return t.lastIndex=e.lastIndex,t}(e);case x:return function cloneSet(e,t,n){return arrayReduce(t?n(setToArray(e),!0):setToArray(e),addSetEntry,new e.constructor)}(e,r,n);case k:return function cloneSymbol(e){return be?Object(be.call(e)):{}}(e)}}(n,c,baseClone,r)}}a||(a=new Stack);var f=a.get(n);if(f)return f;if(a.set(n,s),!u)var d=o?function getAllKeys(e){return function baseGetAllKeys(e,t,n){var r=t(e);return we(e)?r:function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,keys,ye)}(n):keys(n);return function arrayEach(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););return e}(d||n,function(e,t){d&&(e=n[t=e]),assignValue(s,t,baseClone(e,r,o,i,t,n,a))}),s}function baseIsNative(e){return!(!isObject(e)||function isMasked(e){return!!V&&V in e}(e))&&(isFunction(e)||isHostObject(e)?Y:s).test(toSource(e))}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Z(t).set(new Z(e)),t}function copyObject(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;assignValue(n,a,void 0===s?e[a]:s)}return n}function getMapData(e,t){var n=e.__data__;return function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function getNative(e,t){var n=function getValue(e,t){return null==e?void 0:e[t]}(e,t);return baseIsNative(n)?n:void 0}Hash.prototype.clear=function hashClear(){this.__data__=fe?fe(null):{}},Hash.prototype.delete=function hashDelete(e){return this.has(e)&&delete this.__data__[e]},Hash.prototype.get=function hashGet(e){var t=this.__data__;if(fe){var n=t[e];return n===r?void 0:n}return $.call(t,e)?t[e]:void 0},Hash.prototype.has=function hashHas(e){var t=this.__data__;return fe?void 0!==t[e]:$.call(t,e)},Hash.prototype.set=function hashSet(e,t){return this.__data__[e]=fe&&void 0===t?r:t,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0||(n==t.length-1?t.pop():ne.call(t,n,1),0))},ListCache.prototype.get=function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]},ListCache.prototype.has=function listCacheHas(e){return-1<assocIndexOf(this.__data__,e)},ListCache.prototype.set=function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(se||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(e){return getMapData(this,e).delete(e)},MapCache.prototype.get=function mapCacheGet(e){return getMapData(this,e).get(e)},MapCache.prototype.has=function mapCacheHas(e){return getMapData(this,e).has(e)},MapCache.prototype.set=function mapCacheSet(e,t){return getMapData(this,e).set(e,t),this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache},Stack.prototype.delete=function stackDelete(e){return this.__data__.delete(e)},Stack.prototype.get=function stackGet(e){return this.__data__.get(e)},Stack.prototype.has=function stackHas(e){return this.__data__.has(e)},Stack.prototype.set=function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!se||r.length<o-1)return r.push([e,t]),this;n=this.__data__=new MapCache(r)}return n.set(e,t),this};var ye=re?overArg(re,Object):function stubArray(){return[]},_e=function baseGetTag(e){return G.call(e)};function isIndex(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||u.test(e))&&-1<e&&e%1==0&&e<t}function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||U)}function toSource(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eq(e,t){return e===t||e!=e&&t!=t}(ae&&_e(new ae(new ArrayBuffer(1)))!=E||se&&_e(new se)!=b||ue&&_e(ue.resolve())!=i||ce&&_e(new ce)!=x||le&&_e(new le)!=a)&&(_e=function(e){var t=G.call(e),n=t==_?e.constructor:void 0,r=n?toSource(n):void 0;if(r)switch(r){case de:return E;case he:return b;case pe:return i;case me:return x;case ge:return a}return t});var we=Array.isArray;function isArrayLike(e){return null!=e&&function isLength(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=n}(e.length)&&!isFunction(e)}var xe=oe||function stubFalse(){return!1};function isFunction(e){var t=isObject(e)?G.call(e):"";return t==g||t==v}function isObject(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):function baseKeys(e){if(!isPrototype(e))return ie(e);var t=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}t.exports=function cloneDeep(e){return baseClone(e,!0,!0)}}).call(this,t(1),t(23)(e))},function(e,se,t){(function(e,t){var o=200,r="__lodash_hash_undefined__",i=800,a=16,s=9007199254740991,n="[object Arguments]",u="[object AsyncFunction]",c="[object Function]",l="[object GeneratorFunction]",f="[object Null]",m="[object Object]",d="[object Proxy]",h="[object Undefined]",p=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[n]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[c]=v["[object Map]"]=v["[object Number]"]=v[m]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var b="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,_=b||y||Function("return this")(),w="object"==typeof se&&se&&!se.nodeType&&se,x=w&&"object"==typeof t&&t&&!t.nodeType&&t,C=x&&x.exports===w,k=C&&b.process,S=function(){try{return k&&k.binding&&k.binding("util")}catch(e){}}(),E=S&&S.isTypedArray;function safeGet(e,t){return"__proto__"==t?void 0:e[t]}var T,A=Array.prototype,R=Function.prototype,N=Object.prototype,D=_["__core-js_shared__"],O=R.toString,B=N.hasOwnProperty,P=(T=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",M=N.toString,L=O.call(Object),I=RegExp("^"+O.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=C?_.Buffer:void 0,j=_.Symbol,z=_.Uint8Array,q=F?F.allocUnsafe:void 0,H=function overArg(t,n){return function(e){return t(n(e))}}(Object.getPrototypeOf,Object),U=Object.create,W=N.propertyIsEnumerable,V=A.splice,K=j?j.toStringTag:void 0,$=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),G=F?F.isBuffer:void 0,Y=Math.max,X=Date.now,J=getNative(_,"Map"),Z=getNative(Object,"create"),Q=function(){function object(){}return function(e){if(!isObject(e))return{};if(U)return U(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function arrayLikeKeys(e,t){var n=re(e),r=!n&&ne(e),o=!n&&!r&&oe(e),i=!n&&!r&&!o&&ie(e),a=n||r||o||i,s=a?function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!B.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,u))||s.push(c);return s}function assignMergeValue(e,t,n){(void 0===n||eq(e[t],n))&&(void 0!==n||t in e)||baseAssignValue(e,t,n)}function assocIndexOf(e,t){for(var n=e.length;n--;)if(eq(e[n][0],t))return n;return-1}function baseAssignValue(e,t,n){"__proto__"==t&&$?$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Hash.prototype.clear=function hashClear(){this.__data__=Z?Z(null):{},this.size=0},Hash.prototype.delete=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hash.prototype.get=function hashGet(e){var t=this.__data__;if(Z){var n=t[e];return n===r?void 0:n}return B.call(t,e)?t[e]:void 0},Hash.prototype.has=function hashHas(e){var t=this.__data__;return Z?void 0!==t[e]:B.call(t,e)},Hash.prototype.set=function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&void 0===t?r:t,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(e){var t=this.__data__,n=assocIndexOf(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(e){var t=this.__data__,n=assocIndexOf(t,e);return n<0?void 0:t[n][1]},ListCache.prototype.has=function listCacheHas(e){return-1<assocIndexOf(this.__data__,e)},ListCache.prototype.set=function listCacheSet(e,t){var n=this.__data__,r=assocIndexOf(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(J||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t},MapCache.prototype.get=function mapCacheGet(e){return getMapData(this,e).get(e)},MapCache.prototype.has=function mapCacheHas(e){return getMapData(this,e).has(e)},MapCache.prototype.set=function mapCacheSet(e,t){var n=getMapData(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Stack.prototype.get=function stackGet(e){return this.__data__.get(e)},Stack.prototype.has=function stackHas(e){return this.__data__.has(e)},Stack.prototype.set=function stackSet(e,t){var n=this.__data__;if(n instanceof ListCache){var r=n.__data__;if(!J||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new MapCache(r)}return n.set(e,t),this.size=n.size,this};var ee=function createBaseFor(u){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[u?a:++r];if(!1===t(o[s],s,o))break}return e}}();function baseGetTag(e){return null==e?void 0===e?h:f:K&&K in Object(e)?function getRawTag(e){var t=B.call(e,K),n=e[K];try{e[K]=void 0;var r=!0}catch(e){}var o=M.call(e);r&&(t?e[K]=n:delete e[K]);return o}(e):function objectToString(e){return M.call(e)}(e)}function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==n}function baseIsNative(e){return!(!isObject(e)||function isMasked(e){return!!P&&P in e}(e))&&(isFunction(e)?I:p).test(function toSource(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function baseKeysIn(e){if(!isObject(e))return function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=isPrototype(e),n=[];for(var r in e)("constructor"!=r||!t&&B.call(e,r))&&n.push(r);return n}function baseMerge(r,o,i,a,s){r!==o&&ee(o,function(e,t){if(isObject(e))s||(s=new Stack),function baseMergeDeep(e,t,n,r,o,i,a){var s=safeGet(e,n),u=safeGet(t,n),c=a.get(u);if(c)return void assignMergeValue(e,n,c);var l=i?i(s,u,n+"",e,t,a):void 0,f=void 0===l;if(f){var d=re(u),h=!d&&oe(u),p=!d&&!h&&ie(u);l=u,d||h||p?re(s)?l=s:!function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}(s)?h?(f=!1,l=function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=q?q(n):new e.constructor(n);return e.copy(r),r}(u,!0)):p?(f=!1,l=function cloneTypedArray(e,t){var n=t?function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new z(t).set(new z(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):l=[]:l=function copyArray(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=m)return!1;var t=H(e);if(null===t)return!0;var n=B.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==L}(u)||ne(u)?ne(l=s)?l=function toPlainObject(e){return function copyObject(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?baseAssignValue(n,s,u):(f=u,void 0,d=(c=n)[l=s],B.call(c,l)&&eq(d,f)&&(void 0!==f||l in c)||baseAssignValue(c,l,f))}var c,l,f,d;return n}(e,keysIn(e))}(s):(!isObject(s)||r&&isFunction(s))&&(l=function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:Q(H(e))}(u)):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u));assignMergeValue(e,n,l)}(r,o,t,i,baseMerge,a,s);else{var n=a?a(safeGet(r,t),e,t+"",r,o,s):void 0;void 0===n&&(n=e),assignMergeValue(r,t,n)}},keysIn)}function baseRest(e,t){return te(function overRest(i,a,s){return a=Y(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=Y(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=s(r),function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(i,this,o)}}(e,t,identity),e+"")}function getMapData(e,t){var n=e.__data__;return function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function getNative(e,t){var n=function getValue(e,t){return null==e?void 0:e[t]}(e,t);return baseIsNative(n)?n:void 0}function isIndex(e,t){var n=typeof e;return!!(t=null==t?s:t)&&("number"==n||"symbol"!=n&&g.test(e))&&-1<e&&e%1==0&&e<t}function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||N)}var te=function shortOut(n){var r=0,o=0;return function(){var e=X(),t=a-(e-o);if(o=e,0<t){if(++r>=i)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}($?function(e,t){return $(e,"toString",{configurable:!0,enumerable:!1,value:function constant(e){return function(){return e}}(t),writable:!0})}:identity);function eq(e,t){return e===t||e!=e&&t!=t}var ne=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&B.call(e,"callee")&&!W.call(e,"callee")},re=Array.isArray;function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}var oe=G||function stubFalse(){return!1};function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==c||t==l||t==u||t==d}function isLength(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=s}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function isObjectLike(e){return null!=e&&"object"==typeof e}var ie=E?function baseUnary(t){return function(e){return t(e)}}(E):function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!v[baseGetTag(e)]};function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var ae=function createAssigner(s){return baseRest(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0;for(o=3<s.length&&"function"==typeof o?(r--,o):void 0,i&&function isIterateeCall(e,t,n){if(!isObject(n))return!1;var r=typeof t;return!!("number"==r?isArrayLike(n)&&isIndex(t,n.length):"string"==r&&t in n)&&eq(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,o)}return e})}(function(e,t,n,r){baseMerge(e,t,n,r)});function identity(e){return e}t.exports=ae}).call(this,t(1),t(23)(e))},function(e,t){var n="[object String]",r=Object.prototype.toString,o=Array.isArray;e.exports=function isString(e){return"string"==typeof e||!o(e)&&function isObjectLike(e){return!!e&&"object"==typeof e}(e)&&r.call(e)==n}},function(e,t){var r="[object Object]";var n=Function.prototype,o=Object.prototype,i=n.toString,a=o.hasOwnProperty,s=i.call(Object),u=o.toString,c=function overArg(t,n){return function(e){return t(n(e))}}(Object.getPrototypeOf,Object);e.exports=function isPlainObject(e){if(!function isObjectLike(e){return!!e&&"object"==typeof e}(e)||u.call(e)!=r||function isHostObject(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==s}},function(e,t,n){"use strict";var s=n(191),r=n(192),u=/^\d+$/;t.parse=function(e){return function deepUnique(n){return n.sort().filter(function(e,t){return JSON.stringify(e)!==JSON.stringify(n[t-1])})}(e.split(",").map(function(e){var a={};return e.trim().split(/\s+/).forEach(function(e,t){if(0===t)return a.url=e;var n=e.substring(0,e.length-1),r=e[e.length-1],o=parseInt(n,10),i=parseFloat(n);if("w"===r&&u.test(n))a.width=o;else if("h"===r&&u.test(n))a.height=o;else{if("x"!==r||s(i))throw new Error("Invalid srcset descriptor: "+e+".");a.density=i}}),a}))},t.stringify=function(e){return r(e.map(function(e){if(!e.url)throw new Error("URL is required.");var t=[e.url];return e.width&&t.push(e.width+"w"),e.height&&t.push(e.height+"h"),e.density&&t.push(e.density+"x"),t.join(" ")})).join(", ")}},function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(t,e,n){"use strict";(function(e){"Set"in e?"function"==typeof Set.prototype.forEach&&function doesForEachActuallyWork(){var t=!1;return new Set([!0]).forEach(function(e){t=e}),!0===t}()?t.exports=function uniqSetWithForEach(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}:t.exports=function uniqSet(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}:t.exports=function uniqNoSet(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}}).call(this,n(1))},function(e,t,n){"use strict";t.__esModule=!0;var r=_interopRequireDefault(n(28)),o=_interopRequireDefault(n(72)),i=_interopRequireDefault(n(31)),a=_interopRequireDefault(n(33)),s=_interopRequireDefault(n(15)),u=_interopRequireDefault(n(208)),c=_interopRequireDefault(n(32)),l=_interopRequireDefault(n(74)),f=_interopRequireDefault(n(16)),d=_interopRequireDefault(n(35));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function postcss(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new o.default(t)}postcss.plugin=function plugin(t,n){var r=function creator(){var e=n.apply(void 0,arguments);return e.postcssPlugin=t,e.postcssVersion=(new o.default).version,e},e=void 0;return Object.defineProperty(r,"postcss",{get:function get(){return e||(e=r()),e}}),r.process=function(e,t,n){return postcss([r(n)]).process(e,t)},r},postcss.stringify=i.default,postcss.parse=c.default,postcss.vendor=u.default,postcss.list=l.default,postcss.comment=function(e){return new a.default(e)},postcss.atRule=function(e){return new s.default(e)},postcss.decl=function(e){return new r.default(e)},postcss.rule=function(e){return new f.default(e)},postcss.root=function(e){return new d.default(e)},t.default=postcss,e.exports=t.default},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var r=_interopRequireDefault(n(63)),o=_interopRequireDefault(n(64)),i=_interopRequireDefault(n(65));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a={brackets:r.default.cyan,"at-word":r.default.cyan,call:r.default.cyan,comment:r.default.gray,string:r.default.green,class:r.default.yellow,hash:r.default.magenta,"(":r.default.cyan,")":r.default.cyan,"{":r.default.yellow,"}":r.default.yellow,"[":r.default.yellow,"]":r.default.yellow,":":r.default.yellow,";":r.default.yellow};t.default=function terminalHighlight(e){for(var n=(0,o.default)(new i.default(e),{ignoreErrors:!0}),r="",t=function _loop(){var e=n.nextToken(),t=a[function getTokenType(e,t){var n=e[0],r=e[1];if("word"===n){if("."===r[0])return"class";if("#"===r[0])return"hash"}if(!t.endOfFile()){var o=t.nextToken();if(t.back(o),"brackets"===o[0]||"("===o[0])return"call"}return n}(e,n)];r+=t?e[1].split(/\r?\n/).map(function(e){return t(e)}).join("\n"):e[1]};!n.endOfFile();)t();return r},e.exports=t.default},function(n,s,u){"use strict";(function(r){s.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=_interopRequireDefault(u(66)),i=_interopRequireDefault(u(30)),a=_interopRequireDefault(u(203));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var e=function(){function PreviousMap(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PreviousMap),this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);r&&(this.text=r)}return PreviousMap.prototype.consumer=function consumer(){return this.consumerCache||(this.consumerCache=new o.default.SourceMapConsumer(this.text)),this.consumerCache},PreviousMap.prototype.withContent=function withContent(){return!!(this.consumer().sourcesContent&&0<this.consumer().sourcesContent.length)},PreviousMap.prototype.startWith=function startWith(e,t){return!!e&&e.substr(0,t.length)===t},PreviousMap.prototype.loadAnnotation=function loadAnnotation(e){var t=e.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//);t&&(this.annotation=t[1].trim())},PreviousMap.prototype.decodeInline=function decodeInline(e){var t="data:application/json,";if(this.startWith(e,t))return decodeURIComponent(e.substr(t.length));if(/^data:application\/json;(?:charset=utf-?8;)?base64,/.test(e))return function fromBase64(e){return r?r.from&&r.from!==Uint8Array.from?r.from(e,"base64").toString():new r(e,"base64").toString():window.atob(e)}(e.substr(RegExp.lastMatch.length));var n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)},PreviousMap.prototype.loadMap=function loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"==typeof t){var n=t(e);if(n&&a.default.existsSync&&a.default.existsSync(n))return a.default.readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(t instanceof o.default.SourceMapConsumer)return o.default.SourceMapGenerator.fromSourceMap(t).toString();if(t instanceof o.default.SourceMapGenerator)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var r=this.annotation;return e&&(r=i.default.join(i.default.dirname(e),r)),this.root=i.default.dirname(r),!(!a.default.existsSync||!a.default.existsSync(r))&&a.default.readFileSync(r,"utf-8").toString().trim()}},PreviousMap.prototype.isMap=function isMap(e){return"object"===(void 0===e?"undefined":t(e))&&("string"==typeof e.mappings||"string"==typeof e._mappings)},PreviousMap}();s.default=e,n.exports=s.default}).call(this,u(8).Buffer)},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var a=n(10);function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function MappingList_forEach(e,t){this._array.forEach(e,t)},MappingList.prototype.add=function MappingList_add(e){!function generatedPositionAfter(e,t){var n=e.generatedLine,r=t.generatedLine,o=e.generatedColumn,i=t.generatedColumn;return n<r||r==n&&o<=i||a.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?this._sorted=!1:this._last=e,this._array.push(e)},MappingList.prototype.toArray=function MappingList_toArray(){return this._sorted||(this._array.sort(a.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=MappingList},function(e,t,n){var y=n(10),u=n(200),d=n(69).ArraySet,_=n(68),w=n(201).quickSort;function SourceMapConsumer(e,t){var n=e;return"string"==typeof e&&(n=y.parseSourceMapInput(e)),null!=n.sections?new IndexedSourceMapConsumer(n,t):new BasicSourceMapConsumer(n,t)}function BasicSourceMapConsumer(e,t){var n=e;"string"==typeof e&&(n=y.parseSourceMapInput(e));var r=y.getArg(n,"version"),o=y.getArg(n,"sources"),i=y.getArg(n,"names",[]),a=y.getArg(n,"sourceRoot",null),s=y.getArg(n,"sourcesContent",null),u=y.getArg(n,"mappings"),c=y.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);a&&(a=y.normalize(a)),o=o.map(String).map(y.normalize).map(function(e){return a&&y.isAbsolute(a)&&y.isAbsolute(e)?y.relative(a,e):e}),this._names=d.fromArray(i.map(String),!0),this._sources=d.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(e){return y.computeSourceURL(a,e,t)}),this.sourceRoot=a,this.sourcesContent=s,this._mappings=u,this._sourceMapURL=t,this.file=c}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(e,o){var t=e;"string"==typeof e&&(t=y.parseSourceMapInput(e));var n=y.getArg(t,"version"),r=y.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new d,this._names=new d;var i={line:-1,column:0};this._sections=r.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=y.getArg(e,"offset"),n=y.getArg(t,"line"),r=y.getArg(t,"column");if(n<i.line||n===i.line&&r<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new SourceMapConsumer(y.getArg(e,"map"),o)}})}SourceMapConsumer.fromSourceMap=function(e,t){return BasicSourceMapConsumer.fromSourceMap(e,t)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function SourceMapConsumer_charIsMappingSeparator(e,t){var n=e.charAt(t);return";"===n||","===n},SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(e,t){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(e,t,n){var r,o=t||null;switch(n||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:r=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=y.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(e){var t=y.getArg(e,"line"),n={source:y.getArg(e,"source"),originalLine:t,originalColumn:y.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(0<=o){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var s=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==s;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r},t.SourceMapConsumer=SourceMapConsumer,(BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype)).consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=y.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(e,t){var n=Object.create(BasicSourceMapConsumer.prototype),r=n._names=d.fromArray(e._names.toArray(),!0),o=n._sources=d.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return y.computeSourceURL(n.sourceRoot,e,t)});for(var i=e._mappings.toArray().slice(),a=n.__generatedMappings=[],s=n.__originalMappings=[],u=0,c=i.length;u<c;u++){var l=i[u],f=new Mapping;f.generatedLine=l.generatedLine,f.generatedColumn=l.generatedColumn,l.source&&(f.source=o.indexOf(l.source),f.originalLine=l.originalLine,f.originalColumn=l.originalColumn,l.name&&(f.name=r.indexOf(l.name)),s.push(f)),a.push(f)}return w(n.__originalMappings,y.compareByOriginalPositions),n},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(e,t){for(var n,r,o,i,a,s=1,u=0,c=0,l=0,f=0,d=0,h=e.length,p=0,m={},g={},v=[],b=[];p<h;)if(";"===e.charAt(p))s++,p++,u=0;else if(","===e.charAt(p))p++;else{for((n=new Mapping).generatedLine=s,i=p;i<h&&!this._charIsMappingSeparator(e,i);i++);if(o=m[r=e.slice(p,i)])p+=r.length;else{for(o=[];p<i;)_.decode(e,p,g),a=g.value,p=g.rest,o.push(a);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[r]=o}n.generatedColumn=u+o[0],u=n.generatedColumn,1<o.length&&(n.source=f+o[1],f+=o[1],n.originalLine=c+o[2],c=n.originalLine,n.originalLine+=1,n.originalColumn=l+o[3],l=n.originalColumn,4<o.length&&(n.name=d+o[4],d+=o[4])),b.push(n),"number"==typeof n.originalLine&&v.push(n)}w(b,y.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,w(v,y.compareByOriginalPositions),this.__originalMappings=v},BasicSourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,o,i)},BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",y.compareByGeneratedPositionsDeflated,y.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(0<=n){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=y.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=y.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=y.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:y.getArg(r,"originalLine",null),column:y.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function BasicSourceMapConsumer_hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(0<=n)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=y.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=y.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(e){var t=y.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:y.getArg(e,"line"),originalColumn:y.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,y.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(0<=r){var o=this._originalMappings[r];if(o.source===n.source)return{line:y.getArg(o,"generatedLine",null),column:y.getArg(o,"generatedColumn",null),lastColumn:y.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=BasicSourceMapConsumer,(IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype)).constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function IndexedSourceMapConsumer_hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(y.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function IndexedSourceMapConsumer_parseMappings(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],s=r.consumer._sources.at(a.source);s=y.computeSourceURL(r.consumer.sourceRoot,s,this._sourceMapURL),this._sources.add(s),s=this._sources.indexOf(s);var u=null;a.name&&(u=r.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u));var c={source:s,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}w(this.__generatedMappings,y.compareByGeneratedPositionsDeflated),w(this.__originalMappings,y.compareByOriginalPositions)},t.IndexedSourceMapConsumer=IndexedSourceMapConsumer},function(e,u){u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.search=function search(e,t,n,r){if(0===t.length)return-1;var o=function recursiveSearch(e,t,n,r,o,i){var a=Math.floor((t-e)/2)+e,s=o(n,r[a],!0);return 0===s?a:0<s?1<t-a?recursiveSearch(a,t,n,r,o,i):i==u.LEAST_UPPER_BOUND?t<r.length?t:-1:a:1<a-e?recursiveSearch(e,a,n,r,o,i):i==u.LEAST_UPPER_BOUND?a:e<0?-1:e}(-1,t.length,e,t,n,r||u.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;0<=o-1&&0===n(t[o],t[o-1],!0);)--o;return o}},function(e,t){function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function doQuickSort(e,t,n,r){if(n<r){var o=n-1;swap(e,function randomIntInRange(e,t){return Math.round(e+Math.random()*(t-e))}(n,r),r);for(var i=e[r],a=n;a<r;a++)t(e[a],i)<=0&&swap(e,o+=1,a);swap(e,o+1,a);var s=o+1;doQuickSort(e,t,n,s-1),doQuickSort(e,t,s+1,r)}}t.quickSort=function(e,t){doQuickSort(e,t,0,e.length-1)}},function(e,t,n){var r=n(67).SourceMapGenerator,f=n(10),d=/(\r?\n)/,i="$$$isSourceNode$$$";function SourceNode(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[i]=!0,null!=r&&this.add(r)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(e,n,r){var o=new SourceNode,i=e.split(d),a=0,s=function(){return getNextLine()+(getNextLine()||"");function getNextLine(){return a<i.length?i[a++]:void 0}},u=1,c=0,l=null;return n.eachMapping(function(e){if(null!==l){if(!(u<e.generatedLine)){var t=(n=i[a]||"").substr(0,e.generatedColumn-c);return i[a]=n.substr(e.generatedColumn-c),c=e.generatedColumn,addMappingWithCode(l,t),void(l=e)}addMappingWithCode(l,s()),u++,c=0}for(;u<e.generatedLine;)o.add(s()),u++;if(c<e.generatedColumn){var n=i[a]||"";o.add(n.substr(0,e.generatedColumn)),i[a]=n.substr(e.generatedColumn),c=e.generatedColumn}l=e},this),a<i.length&&(l&&addMappingWithCode(l,s()),o.add(i.splice(a).join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=r&&(e=f.join(r,e)),o.setSourceContent(e,t))}),o;function addMappingWithCode(e,t){if(null===e||void 0===e.source)o.add(t);else{var n=r?f.join(r,e.source):e.source;o.add(new SourceNode(e.originalLine,e.originalColumn,n,t,e.name))}}},SourceNode.prototype.add=function SourceNode_add(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},SourceNode.prototype.prepend=function SourceNode_prepend(e){if(Array.isArray(e))for(var t=e.length-1;0<=t;t--)this.prepend(e[t]);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},SourceNode.prototype.walk=function SourceNode_walk(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[i]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function SourceNode_join(e){var t,n,r=this.children.length;if(0<r){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},SourceNode.prototype.replaceRight=function SourceNode_replaceRight(e,t){var n=this.children[this.children.length-1];return n[i]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(e,t){this.sourceContents[f.toSetString(e)]=t},SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][i]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(f.fromSetString(r[t]),this.sourceContents[r[t]])},SourceNode.prototype.toString=function SourceNode_toString(){var t="";return this.walk(function(e){t+=e}),t},SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(e){var o={code:"",line:1,column:0},i=new r(e),a=!1,s=null,u=null,c=null,l=null;return this.walk(function(e,t){o.code+=e,null!==t.source&&null!==t.line&&null!==t.column?(s===t.source&&u===t.line&&c===t.column&&l===t.name||i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:o.line,column:o.column},name:t.name}),s=t.source,u=t.line,c=t.column,l=t.name,a=!0):a&&(i.addMapping({generated:{line:o.line,column:o.column}}),s=null,a=!1);for(var n=0,r=e.length;n<r;n++)10===e.charCodeAt(n)?(o.line++,o.column=0,n+1===r?(s=null,a=!1):a&&i.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:o.line,column:o.column},name:t.name})):o.column++}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:o.code,map:i}},t.SourceNode=SourceNode},function(e,t){},function(n,r,o){"use strict";(function(t){r.__esModule=!0;var u=_interopRequireDefault(o(66)),c=_interopRequireDefault(o(30));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var e=function(){function MapGenerator(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapGenerator),this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n}return MapGenerator.prototype.isMap=function isMap(){return void 0!==this.opts.map?!!this.opts.map:0<this.previous().length},MapGenerator.prototype.previous=function previous(){var n=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(e){if(e.source&&e.source.input.map){var t=e.source.input.map;-1===n.previousMaps.indexOf(t)&&n.previousMaps.push(t)}})),this.previousMaps},MapGenerator.prototype.isInline=function isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(function(e){return e.inline}))},MapGenerator.prototype.isSourcesContent=function isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(e){return e.withContent()})},MapGenerator.prototype.clearAnnotation=function clearAnnotation(){if(!1!==this.mapOpts.annotation)for(var e=void 0,t=this.root.nodes.length-1;0<=t;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)},MapGenerator.prototype.setSourcesContent=function setSourcesContent(){var r=this,o={};this.root.walk(function(e){if(e.source){var t=e.source.input.from;if(t&&!o[t]){o[t]=!0;var n=r.relative(t);r.map.setSourceContent(n,e.source.input.css)}}})},MapGenerator.prototype.applyPrevMaps=function applyPrevMaps(){var e=this.previous(),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var o=r,i=this.relative(o.file),a=o.root||c.default.dirname(o.file),s=void 0;!1===this.mapOpts.sourcesContent?(s=new u.default.SourceMapConsumer(o.text)).sourcesContent&&(s.sourcesContent=s.sourcesContent.map(function(){return null})):s=o.consumer(),this.map.applySourceMap(s,i,this.relative(a))}},MapGenerator.prototype.isAnnotation=function isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(e){return e.annotation}))},MapGenerator.prototype.toBase64=function toBase64(e){return t?t.from&&t.from!==Uint8Array.from?t.from(e).toString("base64"):new t(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))},MapGenerator.prototype.addAnnotation=function addAnnotation(){var e=void 0;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var t="\n";-1!==this.css.indexOf("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"},MapGenerator.prototype.outputFile=function outputFile(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},MapGenerator.prototype.generateMap=function generateMap(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),0<this.previous().length&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},MapGenerator.prototype.relative=function relative(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;var t=this.opts.to?c.default.dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=c.default.dirname(c.default.resolve(t,this.mapOpts.annotation))),e=c.default.relative(t,e),"\\"===c.default.sep?e.replace(/\\/g,"/"):e},MapGenerator.prototype.sourcePath=function sourcePath(e){return this.mapOpts.from?this.mapOpts.from:this.relative(e.source.input.from)},MapGenerator.prototype.generateString=function generateString(){var r=this;this.css="",this.map=new u.default.SourceMapGenerator({file:this.outputFile()});var o=1,i=1,a=void 0,s=void 0;this.stringify(this.root,function(e,t,n){r.css+=e,t&&"end"!==n&&(t.source&&t.source.start?r.map.addMapping({source:r.sourcePath(t),generated:{line:o,column:i-1},original:{line:t.source.start.line,column:t.source.start.column-1}}):r.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:o,column:i-1}})),(a=e.match(/\n/g))?(o+=a.length,s=e.lastIndexOf("\n"),i=e.length-s):i+=e.length,t&&"start"!==n&&(t.source&&t.source.end?r.map.addMapping({source:r.sourcePath(t),generated:{line:o,column:i-1},original:{line:t.source.end.line,column:t.source.end.column}}):r.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:o,column:i-1}}))})},MapGenerator.prototype.generate=function generate(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(e){t+=e}),[t]},MapGenerator}();r.default=e,n.exports=r.default}).call(this,o(8).Buffer)},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(206));var i=function(){function Result(e,t,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Result),this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}return Result.prototype.toString=function toString(){return this.css},Result.prototype.warn=function warn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var n=new o.default(e,t);return this.messages.push(n),n},Result.prototype.warnings=function warnings(){return this.messages.filter(function(e){return"warning"===e.type})},r(Result,[{key:"content",get:function get(){return this.css}}]),Result}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function Warning(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Warning),this.type="warning",this.text=e,t.node&&t.node.source){var n=t.node.positionBy(t);this.line=n.line,this.column=n.column}for(var r in t)this[r]=t[r]}return Warning.prototype.toString=function toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},Warning}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var f=_interopRequireDefault(n(28)),r=_interopRequireDefault(n(64)),o=_interopRequireDefault(n(33)),s=_interopRequireDefault(n(15)),i=_interopRequireDefault(n(35)),a=_interopRequireDefault(n(16));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(){function Parser(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Parser),this.input=e,this.root=new i.default,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{line:1,column:1}}}return Parser.prototype.createTokenizer=function createTokenizer(){this.tokenizer=(0,r.default)(this.input)},Parser.prototype.parse=function parse(){for(var e=void 0;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},Parser.prototype.comment=function comment(e){var t=new o.default;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{var r=n.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}},Parser.prototype.emptyRule=function emptyRule(e){var t=new a.default;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},Parser.prototype.other=function other(e){for(var t=!1,n=null,r=!1,o=null,i=[],a=[],s=e;s;){if(n=s[0],a.push(s),"("===n||"["===n)o||(o=s),i.push("("===n?")":"]");else if(0===i.length){if(";"===n){if(r)return void this.decl(a);break}if("{"===n)return void this.rule(a);if("}"===n){this.tokenizer.back(a.pop()),t=!0;break}":"===n&&(r=!0)}else n===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));s=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),0<i.length&&this.unclosedBracket(o),t&&r){for(;a.length&&("space"===(s=a[a.length-1][0])||"comment"===s);)this.tokenizer.back(a.pop());this.decl(a)}else this.unknownWord(a)},Parser.prototype.rule=function rule(e){e.pop();var t=new a.default;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},Parser.prototype.decl=function decl(e){var t=new f.default;this.init(t);var n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),n[4]?t.source.end={line:n[4],column:n[5]}:t.source.end={line:n[2],column:n[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var r=e[0][0];if(":"===r||"space"===r||"comment"===r)break;t.prop+=e.shift()[1]}t.raws.between="";for(var o=void 0;e.length;){if(":"===(o=e.shift())[0]){t.raws.between+=o[1];break}t.raws.between+=o[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var i=e.length-1;0<i;i--){if("!important"===(o=e[i])[1].toLowerCase()){t.important=!0;var a=this.stringFrom(e,i);" !important"!==(a=this.spacesFromEnd(e)+a)&&(t.raws.important=a);break}if("important"===o[1].toLowerCase()){for(var s=e.slice(0),u="",c=i;0<c;c--){var l=s[c][0];if(0===u.trim().indexOf("!")&&"space"!==l)break;u=s.pop()[1]+u}0===u.trim().indexOf("!")&&(t.important=!0,t.raws.important=u,e=s)}if("space"!==o[0]&&"comment"!==o[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},Parser.prototype.atrule=function atrule(e){var t=new s.default;t.name=e[1].slice(1),""===t.name&&this.unnamedAtrule(t,e),this.init(t,e[2],e[3]);for(var n=void 0,r=void 0,o=!1,i=!1,a=[];!this.tokenizer.endOfFile();){if(";"===(e=this.tokenizer.nextToken())[0]){t.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){i=!0;break}if("}"===e[0]){if(0<a.length){for(n=a[r=a.length-1];n&&"space"===n[0];)n=a[--r];n&&(t.source.end={line:n[4],column:n[5]})}this.end(e);break}if(a.push(e),this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(a),a.length?(t.raws.afterName=this.spacesAndCommentsFromStart(a),this.raw(t,"params",a),o&&(e=a[a.length-1],t.source.end={line:e[4],column:e[5]},this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),i&&(t.nodes=[],this.current=t)},Parser.prototype.end=function end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},Parser.prototype.endFile=function endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},Parser.prototype.freeSemicolon=function freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},Parser.prototype.init=function init(e,t,n){this.current.push(e),e.source={start:{line:t,column:n},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},Parser.prototype.raw=function raw(e,t,n){for(var r=void 0,o=void 0,i=n.length,a="",s=!0,u=void 0,c=void 0,l=/^([.|#])?([\w])+/i,f=0;f<i;f+=1)"comment"!==(o=(r=n[f])[0])||"rule"!==e.type?"comment"===o||"space"===o&&f===i-1?s=!1:a+=r[1]:(c=n[f-1],u=n[f+1],"space"!==c[0]&&"space"!==u[0]&&l.test(c[1])&&l.test(u[1])?a+=r[1]:s=!1);if(!s){var raw=n.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:a,raw:raw}}e[t]=a},Parser.prototype.spacesAndCommentsFromEnd=function spacesAndCommentsFromEnd(e){for(var t=void 0,n="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)n=e.pop()[1]+n;return n},Parser.prototype.spacesAndCommentsFromStart=function spacesAndCommentsFromStart(e){for(var t=void 0,n="";e.length&&("space"===(t=e[0][0])||"comment"===t);)n+=e.shift()[1];return n},Parser.prototype.spacesFromEnd=function spacesFromEnd(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t},Parser.prototype.stringFrom=function stringFrom(e,t){for(var n="",r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n},Parser.prototype.colon=function colon(e){for(var t=0,n=void 0,r=void 0,o=void 0,i=0;i<e.length;i++){if("("===(r=(n=e[i])[0]))t+=1;else if(")"===r)t-=1;else if(0===t&&":"===r){if(o){if("word"===o[0]&&"progid"===o[1])continue;return i}this.doubleColon(n)}o=n}return!1},Parser.prototype.unclosedBracket=function unclosedBracket(e){throw this.input.error("Unclosed bracket",e[2],e[3])},Parser.prototype.unknownWord=function unknownWord(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},Parser.prototype.unexpectedClose=function unexpectedClose(e){throw this.input.error("Unexpected }",e[2],e[3])},Parser.prototype.unclosedBlock=function unclosedBlock(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},Parser.prototype.doubleColon=function doubleColon(e){throw this.input.error("Double colon",e[2],e[3])},Parser.prototype.unnamedAtrule=function unnamedAtrule(e,t){throw this.input.error("At-rule without name",t[2],t[3])},Parser.prototype.precheckMissedSemicolon=function precheckMissedSemicolon(e){},Parser.prototype.checkMissedSemicolon=function checkMissedSemicolon(e){var t=this.colon(e);if(!1!==t){for(var n=0,r=void 0,o=t-1;0<=o&&("space"===(r=e[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon",r[2],r[3])}},Parser}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;t.default={prefix:function prefix(e){var t=e.match(/^(-\w+-)/);return t?t[0]:""},unprefixed:function unprefixed(e){return e.replace(/^-\w+-/,"")}},e.exports=t.default},function(e,t,n){"use strict";var B=n(49),P=n(210);function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=urlParse,t.resolve=function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)},t.resolveObject=function urlResolveObject(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},t.format=function urlFormat(e){P.isString(e)&&(e=urlParse(e));return e instanceof Url?e.format():Url.prototype.format.call(e)},t.Url=Url;var M=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,L=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),I=["'"].concat(o),F=["%","/","?",";","#"].concat(I),j=["/","?","#"],z=/^[+a-z0-9A-Z_-]{0,63}$/,q=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,H={javascript:!0,"javascript:":!0},U={javascript:!0,"javascript:":!0},W={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=n(211);function urlParse(e,t,n){if(e&&P.isObject(e)&&e instanceof Url)return e;var r=new Url;return r.parse(e,t,n),r}Url.prototype.parse=function(e,t,n){if(!P.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var a=e=i.join(o);if(a=a.trim(),!n&&1===e.split("#").length){var s=L.exec(a);if(s)return this.path=a,this.href=a,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?V.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=M.exec(a);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,a=a.substr(u.length)}if(n||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===a.substr(0,2);!l||u&&U[u]||(a=a.substr(2),this.slashes=!0)}if(!U[u]&&(l||u&&!W[u])){for(var f,d,h=-1,p=0;p<j.length;p++){-1!==(m=a.indexOf(j[p]))&&(-1===h||m<h)&&(h=m)}-1!==(d=-1===h?a.lastIndexOf("@"):a.lastIndexOf("@",h))&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=decodeURIComponent(f)),h=-1;for(p=0;p<F.length;p++){var m;-1!==(m=a.indexOf(F[p]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),b=(p=0,v.length);p<b;p++){var y=v[p];if(y&&!y.match(z)){for(var _="",w=0,x=y.length;w<x;w++)127<y.charCodeAt(w)?_+="x":_+=y[w];if(!_.match(z)){var C=v.slice(0,p),k=v.slice(p+1),S=y.match(q);S&&(C.push(S[1]),k.unshift(S[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=C.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=B.toASCII(this.hostname));var E=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+E,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!H[c])for(p=0,b=I.length;p<b;p++){var A=I[p];if(-1!==a.indexOf(A)){var R=encodeURIComponent(A);R===A&&(R=escape(A)),a=a.split(A).join(R)}}var N=a.indexOf("#");-1!==N&&(this.hash=a.substr(N),a=a.slice(0,N));var D=a.indexOf("?");if(-1!==D?(this.search=a.substr(D),this.query=a.substr(D+1),t&&(this.query=V.parse(this.query)),a=a.slice(0,D)):t&&(this.search="",this.query={}),a&&(this.pathname=a),W[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){E=this.pathname||"";var O=this.search||"";this.path=E+O}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(i=V.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||W[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(P.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var n=new Url,r=Object.keys(this),o=0;o<r.length;o++){var i=r[o];n[i]=this[i]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(n[u]=e[u])}return W[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!W[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var f=c[l];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||U[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||n.host&&e.pathname,b=v,y=n.pathname&&n.pathname.split("/")||[],_=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!W[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),v=v&&(""===d[0]||""===y[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=d;else if(d.length)y||(y=[]),y.pop(),y=y.concat(d),n.search=e.search,n.query=e.query;else if(!P.isNullOrUndefined(e.search)){if(_)n.hostname=n.host=y.shift(),(S=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift());return n.search=e.search,n.query=e.query,P.isNull(n.pathname)&&P.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=y.slice(-1)[0],x=(n.host||e.host||1<y.length)&&("."===w||".."===w)||""===w,C=0,k=y.length;0<=k;k--)"."===(w=y[k])?y.splice(k,1):".."===w?(y.splice(k,1),C++):C&&(y.splice(k,1),C--);if(!v&&!b)for(;C--;C)y.unshift("..");!v||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),x&&"/"!==y.join("/").substr(-1)&&y.push("");var S,E=""===y[0]||y[0]&&"/"===y[0].charAt(0);_&&(n.hostname=n.host=E?"":y.length?y.shift():"",(S=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=S.shift(),n.host=n.hostname=S.shift()));return(v=v||n.host&&y.length)&&!E&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),P.isNull(n.pathname)&&P.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Url.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(212),t.encode=t.stringify=n(213)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s,u,c=e.length;0<a&&a<c&&(c=a);for(var l=0;l<c;++l){var f,d,h,p,m=e[l].replace(i,"%20"),g=m.indexOf(n);0<=g?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),h=decodeURIComponent(f),p=decodeURIComponent(d),s=o,u=h,Object.prototype.hasOwnProperty.call(s,u)?v(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o};var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(n,r,o,e){return r=r||"&",o=o||"=",null===n&&(n=void 0),"object"==typeof n?map(s(n),function(e){var t=encodeURIComponent(i(e))+o;return a(n[e])?map(n[e],function(e){return t+encodeURIComponent(i(e))}).join(r):t+encodeURIComponent(i(n[e]))}).join(r):e?encodeURIComponent(i(e))+o+encodeURIComponent(i(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r,o;r=[n(36),n(37),n(215)],void 0===(o=function(e,t,n){return function get_beautify(n,e,t){var r=function(e,t){return n.js_beautify(e,t)};return r.js=n.js_beautify,r.css=e.css_beautify,r.html=t.html_beautify,r.js_beautify=n.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=t.html_beautify,r}(e,t,n)}.apply(t,r))||(e.exports=o)},function(e,t,o){var n,r,i;i=function(n){var r={};function __webpack_require__(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=r,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(e,t,n){var r=n(2).mergeOpts,o=n(1),i=o.lineBreak,a=o.allLineBreaks;function rtrim(e){return e.replace(/\s+$/g,"")}e.exports.Beautifier=function Beautifier(m,g,v,b){var y,_,w,x,C,k,S,E,T,A,R,N,D,e,O,B,P,M,L,I,F;m=m||"",void 0!==(g=r(g=g||{},"html")).wrap_line_length&&0!==parseInt(g.wrap_line_length,10)||void 0===g.max_char||0===parseInt(g.max_char,10)||(g.wrap_line_length=g.max_char),_=void 0!==g.indent_inner_html&&g.indent_inner_html,w=void 0===g.indent_body_inner_html||g.indent_body_inner_html,x=void 0===g.indent_head_inner_html||g.indent_head_inner_html,C=void 0===g.indent_size?4:parseInt(g.indent_size,10),k=void 0===g.indent_char?" ":g.indent_char,E=void 0===g.brace_style?"collapse":g.brace_style,S=0===parseInt(g.wrap_line_length,10)?32786:parseInt(g.wrap_line_length||250,10),T=g.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],A=g.content_unformatted||["pre"],R=void 0===g.preserve_newlines||g.preserve_newlines,N=R?isNaN(parseInt(g.max_preserve_newlines,10))?32786:parseInt(g.max_preserve_newlines,10):0,D=void 0!==g.indent_handlebars&&g.indent_handlebars,e=void 0===g.wrap_attributes?"auto":g.wrap_attributes,O=isNaN(parseInt(g.wrap_attributes_indent_size,10))?C:parseInt(g.wrap_attributes_indent_size,10),B="force"===e.substr(0,"force".length),P="force-expand-multiline"===e,M="force-aligned"===e,L=void 0!==g.end_with_newline&&g.end_with_newline,I="object"==typeof g.extra_liners&&g.extra_liners?g.extra_liners.concat():"string"==typeof g.extra_liners?g.extra_liners.split(","):"head,body,/html".split(","),F=g.eol?g.eol:"auto",g.indent_with_tabs&&(k="\t",C=1),"auto"===F&&(F="\n",m&&i.test(m||"")&&(F=m.match(i)[0])),F=F.replace(/\\r/,"\r").replace(/\\n/,"\n"),m=m.replace(a,"\n"),this.beautify=function(){for((y=new function Parser(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=_,this.indent_body_inner_html=w,this.indent_head_inner_html=x,this.Utils={whitespace:"\n\r\t ".split(""),single_token:g.void_elements||["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:I,in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)R&&"\n"===e&&this.newlines<=N&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],n=0;"<"!==this.input.charAt(this.pos)||2===n;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(n<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),D){if("{"===e?n+=1:n<2&&(n=0),"}"===e&&0<n&&0==n--)break;var r=this.input.substr(this.pos,3);if("{{#"===r||"{{/"===r)break;if("{{!"===r)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),o=r?r.index:this.input.length;return this.pos<o&&(t=this.input.substring(this.pos,o),this.pos=o),t},this.record_tag=function(e){this.tags[e+"count"]?this.tags[e+"count"]++:this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level,this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,n,r,o="",i=[],a="",s=!1,u=!0,c=!1,l=this.pos,f=this.line_char_count,d=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=l,this.line_char_count=f),i.length?i.join(""):["","TK_EOF"];if(o=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(o,this.Utils.whitespace))s=!0;else{if("'"!==o&&'"'!==o||(o+=this.get_unformatted(o),s=!0),"="===o&&(s=!1),r=this.input.substr(this.pos-1),!P||!c||d||">"!==o&&"/"!==o||r.match(/^\/?\s*>/)&&(s=!1,d=!0,this.print_newline(!1,i),this.print_indentation(i)),i.length&&"="!==i[i.length-1]&&">"!==o&&s){var h=this.space_or_wrap(i)&&"/"!==o&&!B;if(s=!1,B&&"/"!==o){var p=!1;P&&u&&(p=!(null!==r.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),u&&!p||(this.print_newline(!1,i),this.print_indentation(i),h=!0)}if(h){c=!0;var m=O;M&&(m=i.indexOf(" ")+1);for(var g=0;g<m;g++)i.push(" ")}if(u)for(var v=0;v<i.length;v++)if(" "===i[v]){u=!1;break}}if(D&&"<"===n&&o+this.input.charAt(this.pos)==="{{"&&(o+=this.get_unformatted("}}"),i.length&&" "!==i[i.length-1]&&"<"!==i[i.length-1]&&(o=" "+o),s=!0),"<"!==o||n||(t=this.pos-1,n="<"),D&&!n&&2<=i.length&&"{"===i[i.length-1]&&"{"===i[i.length-2]&&(t="#"===o||"/"===o||"!"===o?this.pos-3:this.pos-2,n="{"),this.line_char_count++,i.push(o),i[1]&&("!"===i[1]||"?"===i[1]||"%"===i[1])){i=[this.get_comment(t)];break}if(D&&i[1]&&"{"===i[1]&&i[2]&&"!"===i[2]){i=[this.get_comment(t)];break}if(D&&"{"===n&&2<i.length&&"}"===i[i.length-2]&&"}"===i[i.length-1])break}}while(">"!==o);var b,y,_=i.join("");b=-1!==_.indexOf(" ")?_.indexOf(" "):-1!==_.indexOf("\n")?_.indexOf("\n"):"{"===_.charAt(0)?_.indexOf("}"):_.indexOf(">"),y="<"!==_.charAt(0)&&D?"#"===_.charAt(2)?3:2:1;var w=_.substring(y,b).toLowerCase();return"/"===_.charAt(_.length-2)||this.Utils.in_array(w,this.Utils.single_token)?e||(this.tag_type="SINGLE"):D&&"{"===_.charAt(0)&&"else"===w?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(w,T)||this.is_unformatted(w,A)?(a=this.get_unformatted("</"+w+">",_),i.push(a),this.pos,this.tag_type="SINGLE"):"script"===w&&(-1===_.search("type")||-1<_.search("type")&&-1<_.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/))?e||(this.record_tag(w),this.tag_type="SCRIPT"):"style"===w&&(-1===_.search("type")||-1<_.search("type")&&-1<_.search("text/css"))?e||(this.record_tag(w),this.tag_type="STYLE"):"!"===w.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===w.charAt(0)?(this.retrieve_tag(w.substring(1)),this.tag_type="END"):(this.record_tag(w),"html"!==w.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(i),this.Utils.in_array(w,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=l,this.line_char_count=f),i.join("")},this.get_comment=function(e){var t="",n=">",r=!1;this.pos=e;var o=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=o).charAt(t.length-1)!==n.charAt(n.length-1)||-1===t.indexOf(n));)!r&&t.length<10&&(0===t.indexOf("<![if")?(n="<![endif]>",r=!0):0===t.indexOf("<![cdata[")?(n="]]>",r=!0):0===t.indexOf("<![")?(n="]>",r=!0):0===t.indexOf("\x3c!--")?(n="--\x3e",r=!0):0===t.indexOf("{{!--")?(n="--}}",r=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(n="}}",r=!0):0===t.indexOf("<?")?(n="?>",r=!0):0===t.indexOf("<%")&&(n="%>",r=!0)),o=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var n="",r="",o=!0,i=function tokenMatcher(n){var r="";return{add:function(e){var t=r+e.toLowerCase();r=t.length<=n.length?t:t.substr(t.length-n.length,n.length)},doesNotMatch:function(){return-1===r.indexOf(n)}}}(e);do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!o){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,i.add(n),this.line_char_count++,o=!0,D&&"{"===n&&r.length&&"{"===r.charAt(r.length-2)&&(r+=this.get_unformatted("}}"))}while(i.doesNotMatch());return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var n=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(n&&!this.Utils.in_array(n[1],t))},this.printer=function(e,t,n,r,o){this.input=e||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=o,this.indent_level=0,this.wrap_line_length=r;for(var i=this.line_char_count=0;i<this.indent_size;i++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){this.line_char_count=0,t&&t.length&&(e||"\n"!==t[t.length-1])&&("\n"!==t[t.length-1]&&(t[t.length-1]=rtrim(t[t.length-1])),t.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=function ltrim(e){return e.replace(/^\s+/g,"")}(e)),this.print_token_raw(e))},this.print_token_raw=function(e){0<this.newlines&&(e=rtrim(e)),e&&""!==e&&(1<e.length&&"\n"===e.charAt(e.length-1)?(this.output.push(e.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(e));for(var t=0;t<this.newlines;t++)this.print_newline(0<t,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){0<this.indent_level&&this.indent_level--}},this}).printer(m,k,C,S,E);;){var e=y.get_token();if(y.token_text=e[0],y.token_type=e[1],"TK_EOF"===y.token_type)break;switch(y.token_type){case"TK_TAG_START":y.print_newline(!1,y.output),y.print_token(y.token_text),y.indent_content&&(!y.indent_body_inner_html&&y.token_text.match(/<body(?:.*)>/)||!y.indent_head_inner_html&&y.token_text.match(/<head(?:.*)>/)||y.indent(),y.indent_content=!1),y.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":y.print_newline(!1,y.output),y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===y.last_token&&""===y.last_text){var t=(y.token_text.match(/\w+/)||[])[0],n=null;y.output.length&&(n=y.output[y.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===n||n[1]!==t&&!y.Utils.in_array(n[1],T))&&y.print_newline(!1,y.output)}y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var r=y.token_text.match(/^\s*<([a-z-]+)/i);r&&y.Utils.in_array(r[1],T)||y.print_newline(!1,y.output),y.print_token(y.token_text),y.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var o=!1,i=y.output.length-1;0<=i&&"\n"!==y.output[i];i--)if(y.output[i].match(/{{#if/)){o=!0;break}o||y.print_newline(!1,y.output),y.print_token(y.token_text),y.indent_content&&(y.indent(),y.indent_content=!1),y.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":y.print_token(y.token_text),y.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==y.token_text){y.print_newline(!1,y.output);var a,s=y.token_text,u=1;"TK_SCRIPT"===y.token_type?a="function"==typeof v&&v:"TK_STYLE"===y.token_type&&(a="function"==typeof b&&b),"keep"===g.indent_scripts?u=0:"separate"===g.indent_scripts&&(u=-y.indent_level);var c=y.get_full_indent(u);if(a){var l=function(){this.eol="\n"};l.prototype=g;var f=new l;s=a(s.replace(/^\s*/,c),f)}else{var d=s.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(y.indent_string).length-1,h=y.get_full_indent(u-d);s=s.replace(/^\s*/,c).replace(/\r\n|\r|\n/g,"\n"+h).replace(/\s+$/,"")}s&&(y.print_token_raw(s),y.print_newline(!0,y.output))}y.current_mode="TAG";break;default:""!==y.token_text&&y.print_token(y.token_text)}y.last_token=y.token_type,y.last_text=y.token_text}var p=y.output.join("").replace(/[\r\n\t ]+$/,"");return L&&(p+="\n"),"\n"!==F&&(p=p.replace(/[\n]/g,F)),p}}},function(e,t){var n="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",r=new RegExp("["+n+"]"),o=new RegExp("["+n+"\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp("\r\n|"+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g"),t.isIdentifierStart=function(e){return e<65?36===e||64===e:e<91||(e<97?95===e:e<123||170<=e&&r.test(String.fromCharCode(e)))},t.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||170<=e&&o.test(String.fromCharCode(e))))}},function(e,t){e.exports.mergeOpts=function mergeOpts(e,t){var n,r={};for(n in e)n!==t&&(r[n]=e[n]);if(t in e)for(n in e[t])r[n]=e[t][n];return r}},function(e,t,n){var o=n(0).Beautifier;e.exports=function style_html(e,t,n,r){return new o(e,t,n,r).beautify()}}]),n=[o,o(36),o(37)],void 0===(r=function(e){var n=o(36),r=o(37);return{html_beautify:function(e,t){return i(e,t,n.js_beautify,r.css_beautify)}}}.apply(t,n))||(e.exports=r)},function(e,t,n){"use strict";var a=n(217),s=n(75),u=n(219);e.exports=function(e,t){var n,r=s({},t),o=r.sep||"\n\n",i=r.min;return"number"==typeof i&&2!==i&&(n=new RegExp("(\\r\\n|\\n|\\u2424) {"+i+",}")),void 0===n&&(n=r.regex||/(\r\n|\n|\u2424){2,}/g),!0!==r.keepWhitespace&&(e=e.split("\n").map(function(e){return a(e)?e.trim():e}).join("\n")),(e=function trailingNewline(e,t){var n=t.trailingNewline;if(!1===n)return e;switch(u(n)){case"string":e=e.replace(/\s+$/,t.trailingNewline);break;case"function":e=t.trailingNewline(e);break;case"undefined":case"boolean":default:e=e.replace(/\s+$/,"\n")}return e}(e,r)).replace(n,o)}},function(e,t,n){"use strict";var r;e.exports=function isWhitespace(e){return"string"==typeof e&&function regex(){return r||(r=new RegExp('^[\\s\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"]+$'))}().test(e)}},function(e,t,n){"use strict";e.exports=function isExtendable(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){var r=n(220),o=Object.prototype.toString;e.exports=function kindOf(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=o.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t){function isBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(isBuffer(e)||function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer(e.slice(0,0))}(e)||!!e._isBuffer)}},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(77),i=n.n(r);function repeat(e,t){return Array(t+1).join(e)}var o=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function isBlock(e){return-1!==o.indexOf(e.nodeName.toLowerCase())}var a=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function isVoid(e){return-1!==a.indexOf(e.nodeName.toLowerCase())}var s=a.join();var u={};function Rules(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function findRule(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(filterValue(o,t,n))return o}}function filterValue(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(-1<r.indexOf(t.nodeName.toLowerCase()))return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function remove(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function next(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}u.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},u.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},u.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var r=Number(t.nodeName.charAt(1));return"setext"===n.headingStyle&&r<3?"\n\n"+e+"\n"+repeat(1===r?"=":"-",e.length)+"\n\n":"\n\n"+repeat("#",r)+" "+e+"\n\n"}},u.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},u.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},u.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var i=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(i?Number(i)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},u.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},u.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){var r=((t.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+n.fence+r+"\n"+t.firstChild.textContent+"\n"+n.fence+"\n\n"}},u.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},u.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.title?' "'+t.title+'"':"")+")"}},u.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,i=t.getAttribute("href"),a=t.title?' "'+t.title+'"':"";switch(n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+i+a;break;default:var s=this.references.length+1;r="["+e+"]["+s+"]",o="["+s+"]: "+i+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},u.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},u.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},u.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e.trim())return"";var t="`",n="",r="",o=e.match(/`+/gm);if(o)for(/^`/.test(e)&&(n=" "),/`$/.test(e)&&(r=" ");-1!==o.indexOf(t);)t+="`";return t+n+e+r+t}},u.image={filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",o=t.title||"";return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},Rules.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=findRule(this.array,e,this.options))?t:(t=findRule(this._keep,e,this.options))?t:(t=findRule(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var c="undefined"!=typeof window?window:{};var l,f=function canParseHTMLNatively(){var e=c.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?c.DOMParser:function createHTMLParser(){var e=function(){},t=n(134).JSDOM;return e.prototype.parseFromString=function(e){return new t(e).window.document},e}();function RootNode(e){var t;"string"==typeof e?t=function htmlParser(){return l=l||new f}().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):t=e.cloneNode(!0);return function collapseWhitespace(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var i=null,a=!1,s=null,u=next(s,t,o);u!==t;){if(3===u.nodeType||4===u.nodeType){var c=u.data.replace(/[ \r\n\t]+/g," ");if(i&&!/ $/.test(i.data)||a||" "!==c[0]||(c=c.substr(1)),!c){u=remove(u);continue}u.data=c,i=u}else{if(1!==u.nodeType){u=remove(u);continue}n(u)||"BR"===u.nodeName?(i&&(i.data=i.data.replace(/ $/,"")),i=null,a=!1):r(u)&&(i=null,a=!0)}var l=next(s,u,o);s=u,u=l}i&&(i.data=i.data.replace(/ $/,""),i.data||remove(i))}}({element:t,isBlock:isBlock,isVoid:isVoid}),t}function turndown_es_Node(e){return e.isBlock=isBlock(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=function isBlank(e){return-1===["A","TH","TD"].indexOf(e.nodeName)&&/^\s*$/i.test(e.textContent)&&!isVoid(e)&&!function hasVoid(e){return e.querySelector&&e.querySelector(s)}(e)}(e),e.flankingWhitespace=function flankingWhitespace(e){var t="",n="";if(!e.isBlock){var r=/^[ \r\n\t]/.test(e.textContent),o=/[ \r\n\t]$/.test(e.textContent);r&&!isFlankedByWhitespace("left",e)&&(t=" "),o&&!isFlankedByWhitespace("right",e)&&(n=" ")}return{leading:t,trailing:n}}(e),e}function isFlankedByWhitespace(e,t){var n,r,o;return"left"===e?(n=t.previousSibling,r=/ $/):(n=t.nextSibling,r=/^ /),n&&(3===n.nodeType?o=r.test(n.nodeValue):1!==n.nodeType||isBlock(n)||(o=r.test(n.textContent))),o}var d=Array.prototype.reduce,h=/^\n*/,p=/\n*$/;function TurndownService(e){if(!(this instanceof TurndownService))return new TurndownService(e);var t={rules:u,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function extend(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new Rules(this.options)}function process(e){var r=this;return d.call(e.childNodes,function(e,t){var n="";return 3===(t=new turndown_es_Node(t)).nodeType?n=t.isCode?t.nodeValue:r.escape(t.nodeValue):1===t.nodeType&&(n=function replacementForNode(e){var t=this.rules.forNode(e),n=process.call(this,e),r=e.flankingWhitespace;(r.leading||r.trailing)&&(n=n.trim());return r.leading+t.replacement(n,e,this.options)+r.trailing}.call(r,t)),join(e,n)},"")}function join(e,t){var n=function separatingNewlines(e,t){var n=[e.match(p)[0],t.match(h)[0]].sort(),r=n[n.length-1];return r.length<2?r:"\n\n"}(e,t);return(e=e.replace(p,""))+n+(t=t.replace(h,""))}TurndownService.prototype={turndown:function(e){if(!function canConvert(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=process.call(this,new RootNode(e));return function postProcess(t){var n=this;return this.rules.forEach(function(e){"function"==typeof e.append&&(t=join(t,e.append(n.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return e.replace(/\\(\S)/g,"\\\\$1").replace(/^(#{1,6} )/gm,"\\$1").replace(/^([-*_] *){3,}$/gm,function(e,t){return e.split(t).join("\\"+t)}).replace(/^(\W* {0,3})(\d+)\. /gm,"$1$2\\. ").replace(/^([^\\\w]*)[*+-] /gm,function(e){return e.replace(/([*+-])/g,"\\$1")}).replace(/^(\W* {0,3})> /gm,"$1\\> ").replace(/\*+(?![*\s\W]).+?\*+/g,function(e){return e.replace(/\*/g,"\\*")}).replace(/_+(?![_\s\W]).+?_+/g,function(e){return e.replace(/_/g,"\\_")}).replace(/`+(?![`\s\W]).+?`+/g,function(e){return e.replace(/`/g,"\\`")}).replace(/[\[\]]/g,"\\$&")}};var m,g,b,v,y,_,w,x,C,k,S,E,T,A,R,N,D,O,B,P,M,L,I,F,j,z,q,H=TurndownService,U=n(3),W=n.n(U),V=(n(136),n(137),n(139),n(141),n(143),n(145),n(147),n(149),n(151),n(78)),K=n.n(V);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}m=function Cell(e){var t=e,n=function get(){return t};return{get:n,set:function set(e){t=e},clone:function clone(){return Cell(n())}}},g=W.a.util.Tools.resolve("tinymce.PluginManager"),b=W.a.util.Tools.resolve("tinymce.util.Tools"),v=W.a.util.Tools.resolve("tinymce.html.DomParser"),y=W.a.util.Tools.resolve("tinymce.html.Node"),_=W.a.util.Tools.resolve("tinymce.html.Serializer"),w=function shouldHideInSourceView(e){return e.getParam("fullpage_hide_in_source_view")},x=function getDefaultXmlPi(e){return e.getParam("fullpage_default_xml_pi")},C=function getDefaultEncoding(e){return e.getParam("fullpage_default_encoding")},k=function getDefaultFontFamily(e){return e.getParam("fullpage_default_font_family")},S=function getDefaultFontSize(e){return e.getParam("fullpage_default_font_size")},E=function getDefaultTextColor(e){return e.getParam("fullpage_default_text_color")},T=function getDefaultTitle(e){return e.getParam("fullpage_default_title")},A=function getDefaultDocType(e){return e.getParam("fullpage_default_doctype","<!DOCTYPE html>")},N=R=function parseHeader(e){return v({validate:!1,root_name:"#document"}).parse(e)},D=function htmlToData(e,t){var n,r=R(t),o={pagemode:e.getParam("fullpage_pagemode","body")};function getAttr(e,t){return e.attr(t)||""}return o.fontface=k(e),o.fontsize=S(e),(n=r.getAll("#doctype")[0])&&(o.pagemode=n.value.match(/XHTML/gi)?"xhtml":"html"),(n=r.getAll("title")[0])&&n.firstChild&&(o.title=n.firstChild.value),b.each(r.getAll("meta"),function(e){var t,n=e.attr("name"),r=e.attr("http-equiv");n?o[n.toLowerCase()]=e.attr("content"):"Content-Type"===r&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")))&&(o.docencoding=t[1])}),(n=r.getAll("html")[0])&&(o.langcode=getAttr(n,"lang")||getAttr(n,"xml:lang"),o.htmlAttrs=_toConsumableArray(n.attributes).map(function(e){return{name:e.name,value:e.value}})),o.stylesheets=[],b.each(r.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&o.stylesheets.push(e.attr("href"))}),(n=r.getAll("body")[0])&&(o.bodyAttrs=_toConsumableArray(n.attributes).map(function(e){return{name:e.name,value:e.value}})),o},O=function dataToHtml(e,i,t){var n,a;function setAttr(e,t,n){e.attr(t,n||void 0)}function addHeadNode(e){n.firstChild?n.insert(e,n.firstChild):n.append(e)}e.dom;var s=R(t);(n=s.getAll("head")[0])||(a=s.getAll("html")[0],n=new y("head",1),a.firstChild?a.insert(n,a.firstChild,!0):a.append(n)),a=s.getAll("#doctype")[0],"body"!==(i.pagemode||e.getParam("fullpage_pagemode","body"))?(a||addHeadNode(a=new y("#doctype",10)),a.value="html"===i.pagemode?" html":' html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"'):(i.pagemode="body",a&&a.remove()),a=null,b.each(s.getAll("meta"),function(e){"Content-Type"===e.attr("http-equiv")&&(a=e)}),i.docencoding?(a||((a=new y("meta",1)).attr("http-equiv","Content-Type"),a.shortEnded=!0,addHeadNode(a)),a.attr("content","text/html; charset="+i.docencoding)):a&&a.remove(),a=s.getAll("title")[0],i.title?(a?a.empty():addHeadNode(a=new y("title",1)),a.append(new y("#text",3)).value=i.title):a&&a.remove(),b.each("keywords,description,author,copyright,robots".split(","),function(e){var t,n,r=s.getAll("meta"),o=i[e];for(t=0;t<r.length;t++)if((n=r[t]).attr("name")===e)return void(o?n.attr("content",o):n.remove());o&&((a=new y("meta",1)).attr("name",e),a.attr("content",o),a.shortEnded=!0,addHeadNode(a))});var r={};b.each(s.getAll("link"),function(e){"stylesheet"===e.attr("rel")&&(r[e.attr("href")]=e)}),b.each(i.stylesheets,function(e){r[e]||((a=new y("link",1)).attr({rel:"stylesheet",text:"text/css",href:e}),a.shortEnded=!0,addHeadNode(a)),delete r[e]}),b.each(r,function(e){e.remove()}),a=s.getAll("body")[0],(a=s.getAll("html")[0])&&("xhtml"===i.pagemode?(a.attr("lang",null),setAttr(a,"xml:lang",i.langcode),setAttr(a,"xmlns","http://www.w3.org/1999/xhtml")):(_toConsumableArray(a.attributes).map(function(e){return e.name}).filter(function(e){return e.startsWith("xml")}).forEach(function(e){a.attr(e,null)}),setAttr(a,"lang",i.langcode))),n.firstChild||n.remove();var o=_({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(s);return o.substring(0,o.indexOf("</body>"))},B=function open(n,r){var o=D(n,r.get());n.windowManager.open({title:"Document properties",data:o,defaults:{type:"textbox",size:40},body:[{type:"listbox",name:"pagemode",label:"Page mode",values:[{text:"body",value:"body"},{text:"xhtml",value:"xhtml"},{text:"html",value:"html"}],value:o.pagemode},{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function onSubmit(e){if(n.settings.fullpage_pagemode=e.data.pagemode,n.settings.fullpage_ignoreswitch=!0,"body"!==e.data.pagemode){n.setContent(n.getContent());var t=O(n,b.extend(o,e.data),r.get());r.set(t)}else r.set(""),n.setContent(n.getContent());n.settings.fullpage_ignoreswitch=!1}})},P=function register(e,t){e.addCommand("mceFullPageProperties",function(){B(e,t)})},M=function protectHtml(e,t){return b.each(e,function(e){t=t.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})}),t},L=function unprotectHtml(e){return e.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(e,t){return unescape(t)})},I=b.each,F=function low(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})},j=function getDefaultHeader(e){var t,n="",r="";if(x(e)){var o=C(e);n+='<?xml version="1.0" encoding="'+(o||"ISO-8859-1")+'" ?>\n'}return n+=A(e),n+="\n<html>\n<head>\n",(t=T(e))&&(n+="<title>"+t+"</title>\n"),(t=C(e))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=k(e))&&(r+="font-family: "+t+";"),(t=S(e))&&(r+="font-size: "+t+";"),(t=E(e))&&(r+="color: "+t+";"),n+="</head>\n<body"+(r?' style="'+r+'"':"")+">\n"},z=function setup(n,r,o){n.on("BeforeSetContent",function(e){var t=n.getParam("fullpage_pagemode","body");n.settings.modifyingCode&&(n.settings.fullpage_ignoreswitch||("body"===t||e.content.match(/<html.*?>/)?"body"===t&&e.content.match(/<html.*?>/)&&(r.set(e.content.substring(0,e.content.indexOf("</body>"))),t=e.content.match(/^<!DOCTYPE[^>]+XHTML.*?>/gi)?"xhtml":"html",n.settings.fullpage_pagemode=t):(t="body",r.set(""),n.settings.fullpage_pagemode=t))),"body"!==t&&function handleSetContent(e,t,n,r){var o,i,a,s,u="",c=e.dom;if(!(r.selection||(a=M(e.settings.protect,r.content),"raw"===r.format&&t.get()||r.source_view&&w(e)))){0!==a.length||r.source_view||(a=b.trim(t.get())+"\n"+b.trim(a)+"\n"+b.trim(n.get())),-1!==(o=(a=a.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))?(o=a.indexOf(">",o),t.set(F(a.substring(0,o+1))),-1===(i=a.indexOf("</body",o))&&(i=a.length),r.content=b.trim(a.substring(o+1,i)),n.set(F(a.substring(i)))):(t.set(j(e)),n.set("\n</body>\n</html>"));var l=N(t.get());if(I(l.getAll("style"),function(e){e.firstChild&&(u+=e.firstChild.value)}),s=l.getAll("html")[0]){var f=e.getBody().parentNode,d=_toConsumableArray(f.attributes).reduce(function(e,t){return e[t.name]=!1,e},{});_toConsumableArray(s.attributes).map(function(e){return{name:e.name,value:e.value}}).forEach(function(e){var t=e.name,n=e.value;d[t]=!0,f.setAttribute(t,n)}),Object.keys(d).forEach(function(e){d[e]||f.removeAttribute(e)})}if(s=l.getAll("body")[0]){var h=e.getBody(),p=["id","class","data-id","contenteditable","spellcheck"],m=_toConsumableArray(h.attributes).filter(function(e){return!p.includes(e.name)}).reduce(function(e,t){return e[t.name]=!1,e},{});_toConsumableArray(s.attributes).filter(function(e){return!p.includes(e.name)}).map(function(e){return{name:e.name,value:e.value}}).forEach(function(e){var t=e.name,n=e.value;m[t]=!0,h.setAttribute(t,n)}),Object.keys(m).forEach(function(e){m[e]||h.removeAttribute(e)}),h.setAttribute("class","mce-content-body "+s.attr("class"))}c.remove("fullpage_styles");var g=e.getDoc().getElementsByTagName("head")[0];u&&(c.add(g,"style",{id:"fullpage_styles"},u),(s=c.get("fullpage_styles")).styleSheet&&(s.styleSheet.cssText=u));var v={};b.each(g.getElementsByTagName("link"),function(e){"stylesheet"===e.rel&&e.getAttribute("data-mce-fullpage")&&(v[e.href]=e)}),b.each(l.getAll("link"),function(e){var t=e.attr("href");if(!t)return!0;v[t]||"stylesheet"!==e.attr("rel")||c.add(g,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete v[t]}),b.each(v,function(e){e.parentNode.removeChild(e)})}}(n,r,o,e)}),n.on("GetContent",function(e){"body"!==n.getParam("fullpage_pagemode","body")&&function handleGetContent(e,t,n,r){r.selection||r.source_view&&w(e)||(r.content=L(b.trim(t)+"\n"+b.trim(r.content)+"\n"+b.trim(n)))}(n,r.get(),o.get(),e)})},q=function register$1(e){e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})},g.add("fullpage",function(e){var t=m(""),n=m("");P(e,t),q(e),z(e,t,n)});var $=n(79),G=n.n($);var Y=function(f){var e,t,n,r,d=f.document;return e=function saveSelection(){if(f.getSelection){var e=f.getSelection();if(e.getRangeAt&&e.rangeCount)return function dehydrateRange(e){return e?{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}:null}(e.getRangeAt(0))}else if(d.selection&&d.selection.createRange)return d.selection.createRange();return null},t=function restoreSelection(e){if(e=function hydrateRange(e,t){if(t){var n=e.document.createRange();return n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),n}return null}(e))if(f.getSelection){var t=f.getSelection();t.removeAllRanges(),t.addRange(e)}else d.selection&&e.select&&e.select()},f.getSelection&&d.createRange?(n=function saveAbsSelection(e){var t=f.getSelection().getRangeAt(0),n=t.cloneRange();n.selectNodeContents(e),n.setEnd(t.startContainer,t.startOffset);var r=n.toString().length;return{start:r,end:r+t.toString().length}},r=function restoreAbsSelection(e,t){var n=0,r=d.createRange();r.setStart(e,0),r.collapse(!0);for(var o,i=[e],a=!1,s=!1;!s&&(o=i.pop());)if(3==o.nodeType){var u=n+o.length;!a&&t.start>=n&&t.start<=u&&(r.setStart(o,t.start-n),a=!0),a&&t.end>=n&&t.end<=u&&(r.setEnd(o,t.end-n),s=!0),n=u}else for(var c=o.childNodes.length;c--;)i.push(o.childNodes[c]);var l=f.getSelection();l.removeAllRanges(),l.addRange(r)}):d.selection&&(n=function saveAbsSelection(e){var t=d.selection.createRange(),n=d.body.createTextRange();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var r=n.text.length;return{start:r,end:r+t.text.length}},r=function restoreAbsSelection(e,t){var n=d.body.createTextRange();n.moveToElementText(e),n.collapse(!0),n.moveEnd("character",t.end),n.moveStart("character",t.start),n.select()}),{saveSelection:e,restoreSelection:t,saveAbsSelection:n,restoreAbsSelection:r}};function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function wysiwyg_toConsumableArray(e){return function wysiwyg_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function wysiwyg_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function wysiwyg_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function asyncGeneratorStep(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var X,J=!1,Z=window.opener||window.parent,Q=window.location.search.substring(1).split("&").reduce(function(e,t){if(t.split("=")[0]){var n=t.split("=")[1];n=null==n||n,e[t.split("=")[0]]=n}return e},{});function init(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.color,r=void 0===t?"#275fa6":t,n=e.content,S=void 0===n?"":n,o=e.settings,E=void 0===o?{}:o,T=e.callbackId;return new Promise(function(_){var w,x,C=r,k="";J=!0,"markdown"===(E=Object.assign({codeMode:"html",topbar:Q.init&&Z,menubar:!0,statusbar:!0},E)).codeMode&&(w=new i.a,x=new H);var e=document.querySelector(".editor-wrapper-menu");E.topbar?e.style.display="":e.parentElement.removeChild(e),document.documentElement.style.setProperty("--color--primary",C);var n="markdown"===E.codeMode,t=Object.assign({},n?{object_resizing:!1,image_dimensions:!1,toolbar:"undo redo | styleselect | bold italic | bullist numlist | link image hr",plugins:["link","lists","hr","image"],menu:{edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"link image hr"},view:{title:"View",items:"visualaid"}},style_formats:[{title:"Headers",items:[{title:"Header 1",format:"h1"},{title:"Header 2",format:"h2"},{title:"Header 3",format:"h3"},{title:"Header 4",format:"h4"},{title:"Header 5",format:"h5"},{title:"Header 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"}]},{title:"Blocks",items:[{title:"Blockquote",format:"blockquote"},{title:"Code",format:"code"}]},{title:"Clear formatting",format:"removeformat"}]}:{plugins:["fullpage","link","lists","table","colorpicker","textcolor","hr","image"],toolbar:"".concat("undo redo | styleselect | bold italic | alignleft\n\t\t                   aligncenter alignright alignjustify |\n\t\t                   bullist numlist outdent indent | link image"," | forecolor backcolor"),table_toolbar:!1,valid_elements:"+*[*]",valid_children:"+body[style]",object_resizing:!1,paste_data_images:!0},{skin_url:"./css/tinymce/lightgray",content_style:":root{--color--primary: ".concat(C,";}"),content_css:["./css/wisywig-content.css"],menubar:E.menubar,statusbar:E.statusbar,selector:"#wysiwyg",language:"ru",force_p_newlines:!0,force_br_newlines:!0,remove_linebreaks:!1,forced_root_block:!1,branding:!1,setup:function setup(y){y.hasVisual=!1,y.addSidebar("codebar",{tooltip:"Code sidebar",icon:"code",classes:"code-btn",onshow:function onshow(){var e=document.body.querySelector(".mce-tinymce .mce-sidebar");e.classList.add("sidebar-visible"),e.classList.remove("sidebar-hidden")},onhide:function onhide(){var e=document.body.querySelector(".mce-tinymce .mce-sidebar");e.classList.add("sidebar-hidden"),e.classList.remove("sidebar-visible")},onrender:(t=function _asyncToGenerator(i){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=i.apply(e,o);function _next(e){asyncGeneratorStep(r,t,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(r,t,n,_next,_throw,"throw",e)}_next(void 0)})}}(regeneratorRuntime.mark(function _callee(t){var n,r,a,i,s,o,l,f,d,h,p,u,c,m,g,v,b;return regeneratorRuntime.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return v=function _ref3(){clearTimeout(m),c=!0;var e=o.session.selection.toJSON();"markdown"===E.codeMode?o.session.setValue(x.turndown(y.getContent())):o.session.setValue(G()(y.getContent(),{"indent-with-tabs":!0,indent_char:"\t",indent_size:1})),o.session.selection.fromJSON(e),E.saveOnChange&&u.save(),m=setTimeout(function(){c=!1},50)},g=function _ref2(e){y.settings.modifyingCode=!0,"markdown"===E.codeMode?y.setContent(w.render(e)):y.setContent(e);try{var t=y.iframeElement.contentWindow.document.body.getAttribute("data-preview-bg");y.iframeElement.contentWindow.document.documentElement.style.background=t||""}catch(e){}y.settings.modifyingCode=!1},(n=t.element()).classList.add("code-editor-panel"),n.innerHTML='<div class="divider-splitter"></div><iframe id="code-editor" src="./code-editor.html"></iframe>',r=n.children[0],a=n.children[1],i=document.body.querySelector(".mce-tinymce .mce-sidebar"),s=i.offsetParent,handleDrag(r,{start:function start(e,t,n){console.log("start",e),document.body.classList.add("dragging")},move:function move(e,t,n,r){console.log("move",t);var o=s.getBoundingClientRect();i.style.setProperty("width","".concat(100*(1-(e.x-o.left)/o.width),"%"))},end:function end(){console.log("end"),document.body.classList.remove("dragging")}}),e.next=12,new Promise(function(e){var t=setInterval(function(){a.contentWindow&&a.contentWindow.editor&&(clearInterval(t),a.contentWindow.setMode(E.codeMode),e(a.contentWindow.editor))},100)});case 12:o=e.sent,l=document.querySelector("#wysiwyg_ifr"),f=Y(l.contentWindow),d=l.contentWindow.document.body,l.contentWindow.document.addEventListener("selectionchange",function(e){p=f.saveAbsSelection(d),h=f.saveSelection()}),d.addEventListener("paste",function(e){e.preventDefault(),e.stopPropagation(),h&&h.startContainer&&h.startContainer.parentNode&&h.endContainer&&h.endContainer.parentNode?f.restoreSelection(h):f.restoreAbsSelection(d,p);var t,r,n=l.contentWindow,s=n.document,o=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("text/html")||o;if(console.log("PASTE",o,i),n.getSelection){if((t=n.getSelection()).getRangeAt&&t.rangeCount){(r=t.getRangeAt(0)).deleteContents();var a=s.createElement("div");a.innerHTML=i;var u=a.querySelector(':scope > b[id^="docs-internal-guid"]')||a;wysiwyg_toConsumableArray(u.querySelectorAll("*")).forEach(function(e){var t="italic"===e.style.fontStyle,n="bold"===e.style.fontWeight||400<e.style.fontWeight;if(t&&n){var r=s.createElement("b"),o=s.createElement("i");o.appendChild(r),wysiwyg_toConsumableArray(e.childNodes).forEach(function(e){return r.appendChild(e)}),e.parentNode.replaceChild(o,e)}else if(t){var i=s.createElement("i");wysiwyg_toConsumableArray(e.childNodes).forEach(function(e){return i.appendChild(e)}),e.parentNode.replaceChild(i,e)}else if(n){var a=s.createElement("b");wysiwyg_toConsumableArray(e.childNodes).forEach(function(e){return a.appendChild(e)}),e.parentNode.replaceChild(a,e)}}),i=(i=u.innerHTML).replace(/&nbsp;/gi," ");var c=K()(i,{allowedSchemes:["data","http"],allowedTags:["h1","h2","h3","h4","h5","ul","ol","li","b","i","p","strong","hr","br","img","a","table","thead","caption","tbody","tr","th","td"],allowedAttributes:{a:["href","target"],img:["src","width","height"]}});console.log("sanitized",c),a.innerHTML=c,wysiwyg_toConsumableArray(a.childNodes).forEach(function(e,t,n){r.insertNode(e),r.selectNode(e),r.collapse(!1)}),t.removeAllRanges(),t.addRange(r)}}else s.selection&&s.selection.createRange&&(s.selection.createRange().text=o);return!1},!0),u={save:function save(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];Z.postMessage(JSON.stringify({type:"save",close:e,id:T,content:o.getValue()}),"*")},cancel:function cancel(){window.close()},changemode:function changemode(e){a.contentWindow.setMode(e)},setColorScheme:function setColorScheme(e){"system"!==(k=e)&&k?l.contentWindow.document.body.dataset.colorScheme=e:delete l.contentWindow.document.body.dataset.colorScheme},settings:function settings(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o="customcss-"+btoa(Math.random()).replace(/\=/gi,""),i="customstyle-"+btoa(Math.random()).replace(/\=/gi,"");function addCssToDocument(e,t){var n=e.createElement("div");wysiwyg_toConsumableArray(e.querySelectorAll(".".concat(o))).forEach(function(e){e.parentNode.removeChild(e)});var r=e.querySelector("head");[].concat(t).forEach(function(e){n.innerHTML='<link rel="stylesheet" type="text/css" class="'.concat(o,'" href="').concat(e,'">'),r.appendChild(n.firstChild)})}function addStyleToDocument(e,t){var n=e.createElement("div");wysiwyg_toConsumableArray(e.querySelectorAll(".".concat(i))).forEach(function(e){e.parentNode.removeChild(e)});var r=e.querySelector("head");[].concat(t).forEach(function(e){n.innerHTML='<style class="'.concat(i,'">').concat(e,"</style>"),r.appendChild(n.firstChild)})}e.contentCss&&addCssToDocument(l.contentWindow.document,e.contentCss),e.contentStyle&&addStyleToDocument(l.contentWindow.document,e.contentStyle),e.editorCss&&addCssToDocument(document,e.editorCss),e.editorStyle&&addStyleToDocument(document,e.editorStyle),e.codeEditorCss&&addCssToDocument(a.contentWindow.document,e.codeEditorCss),e.codeEditorStyle&&addStyleToDocument(a.contentWindow.document,e.codeEditorStyle),e.theme&&a.contentWindow.setTheme(e.theme),e.colorScheme&&u.setColorScheme(e.colorScheme)}},Z&&Q.init&&(E.topbar&&(document.querySelector(".button-ok").addEventListener("click",function(){return u.save(!0)}),document.querySelector(".button-cancel").addEventListener("click",function(){return u.cancel()})),window.addEventListener("beforeunload",function(){Z.postMessage(JSON.stringify({type:"cancel",id:T}),"*")})),a.contentWindow.document.documentElement.style.setProperty("--color--primary",C),o.$blockScrolling=1/0,c=!1,o.on("input",function(){c||g(o.getValue())}),b="",setInterval(function(){if(document.activeElement!==a){var e=y.getContent();b!==e&&(b=e,v())}},50),g(S),v(),setTimeout(function(){g(o.getValue())},100),_({codeEditor:o,editor:y,ctrl:u});case 30:case"end":return e.stop()}},_callee,this)})),function onrender(e){return t.apply(this,arguments)})});var t},cleanup_callback:function cleanup_callback(e,t){return console.log("TINYMCE","cleanup_callback",e,t),t},onchange_callback:function onchange_callback(e){console.log("TINYMCE CHANGE CALLBACK",e,e.getBody())},init_instance_callback:function init_instance_callback(t){t.on("paste",function(e){n&&t.setContent(w.render(x.turndown(t.getContent())))})},images_dataimg_filter:function images_dataimg_filter(e){return e.hasAttribute("internal-blob")}},{relative_urls:!1,convert_urls:!1,remove_script_host:!1});console.log("tinymceSettings",t),W.a.init(t).then(function(e){var t=_slicedToArray(e,1)[0];console.log("editor",t),(window.mceEditor=t).on("SetContent",function(){if(t.getBody().dataset.preview="editor",k){var e=t.getBody();"system"!==k&&k?e.dataset.colorScheme=k:delete e.dataset.colorScheme}}),t.theme.panel.find(".sidebar-toolbar button")[0].$el.trigger("click")})})}function handleDrag(n,e){var r,o,i,a=e.start,s=e.move,t=e.end,u=function onstart(e){if(!i&&![1,2].includes(e.button)){i=e.pointerId,e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),r={x:e.pageX,y:e.pageY};var t=n.getBoundingClientRect();o={x:e.pageX-t.x,y:e.pageY-t.y},a&&!1!==a(o,e.pointerType,e.pressure)&&(document.addEventListener("pointermove",c,{passive:!1}),document.addEventListener("pointerup",l,{passive:!1}))}},c=function onmove(e){if(e.pointerId===i&&(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),s)){var t={x:e.pageX,y:e.pageY},n={x:t.x-r.x,y:t.y-r.y};s(r=t,n,e.pointerType,e.pressure)}},l=function onend(e){e.pointerId===i&&(i=null,document.removeEventListener("pointermove",c,{passive:!1}),document.removeEventListener("pointerup",onend,{passive:!1}),t&&t())};return n.addEventListener("pointerdown",u,{passive:!1}),function unbind(){n.removeEventListener("pointerdown",u,{passive:!1}),document.removeEventListener("pointermove",c,{passive:!1}),document.removeEventListener("pointerup",l,{passive:!1})}}Q.init&&Z?(window.addEventListener("message",function(e){if(e.data){var t=JSON.parse(e.data);t.id===Q.init&&("init"!==t.type||J||init(t.data).then(function(e){Z.postMessage(JSON.stringify({type:"initialized",id:Q.init}),"*"),X=e}),"save"===t.type&&X&&X.ctrl.save(),"cancel"===t.type&&X&&X.ctrl.cancel(),"changemode"===t.type&&X&&X.ctrl.changemode(t.mode),"setColorScheme"===t.type&&X&&X.ctrl.setColorScheme(t.colorScheme),"settings"===t.type&&X&&X.ctrl.settings(t.data))}}),Z.postMessage(JSON.stringify({type:"preinit",id:Q.init}),"*")):init()}])});